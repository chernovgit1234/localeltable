(self["webpackChunkhanson_test"]=self["webpackChunkhanson_test"]||[]).push([[504],{19830:function(){},65976:function(e,t,n){"use strict";n.r(t);var r=n(74220),i=n(46732),o=n(84873);t["default"]=(0,r.pM)({name:"DraggableContainer",props:{disabled:{type:Boolean,default:!1},adsorbParent:{type:Boolean,default:!0},adsorbCols:{type:Array,default:null},adsorbRows:{type:Array,default:null},referenceLineVisible:{type:Boolean,default:!0},referenceLineColor:{type:String,default:"#f00"}},setup(e){const t=(0,i.Kh)({}),n=(e,n)=>{t[e]=n},s=e=>{const n=Object.assign({},t);return e&&delete n[e],n},a=(0,i.Kh)({matchedLine:null}),l=(0,r.EW)((()=>a.matchedLine&&a.matchedLine.row||[])),u=(0,r.EW)((()=>a.matchedLine&&a.matchedLine.col||[])),c=e=>{a.matchedLine=e};return(0,r.Gt)("identity",o.zK),(0,r.Gt)("updatePosition",n),(0,r.Gt)("getPositionStore",s),(0,r.Gt)("setMatchedLine",c),(0,r.Gt)("disabled",(0,i.lW)(e,"disabled")),(0,r.Gt)("adsorbParent",(0,i.lW)(e,"adsorbParent")),(0,r.Gt)("adsorbCols",e.adsorbCols||[]),(0,r.Gt)("adsorbRows",e.adsorbRows||[]),{matchedRows:l,matchedCols:u}},methods:{renderReferenceLine(){return this.referenceLineVisible?[...this.matchedCols.map((e=>(0,r.h)("div",{style:{width:"0",height:"100%",top:"0",left:e+"px",borderLeft:`1px dashed ${this.referenceLineColor}`,position:"absolute"}}))),...this.matchedRows.map((e=>(0,r.h)("div",{style:{width:"100%",height:"0",left:"0",top:e+"px",borderTop:`1px dashed ${this.referenceLineColor}`,position:"absolute"}})))]:[]}},render(){return(0,r.h)("div",{style:{width:"100%",height:"100%",position:"relative"}},[this.$slots.default&&this.$slots.default(),...this.renderReferenceLine()])}})},77942:function(e,t,n){"use strict";n.r(t),n.d(t,{ALL_HANDLES:function(){return v},default:function(){return _}});var r=n(74220),i=n(46732),o=n(84873);function s(e){const t=(0,i.KR)(e),n=e=>(t.value=e,e);return[t,n]}function a(e,t){const[n,i]=s(e.initW),[a,l]=s(e.initH),[u,c]=s(e.x),[h,d]=s(e.y),[f,p]=s(e.active),[m,g]=s(!1),[v,y]=s(!1),[b,w]=s(""),[_,E]=s(1/0),[S,T]=s(1/0),[M,C]=s(e.minW),[R,x]=s(e.minH),A=(0,r.EW)((()=>a.value/n.value));return(0,r.wB)(n,(e=>{t("update:w",e)}),{immediate:!0}),(0,r.wB)(a,(e=>{t("update:h",e)}),{immediate:!0}),(0,r.wB)(h,(e=>{t("update:y",e)})),(0,r.wB)(u,(e=>{t("update:x",e)})),(0,r.wB)(f,((e,n)=>{t("update:active",e),!n&&e?t("activated"):n&&!e&&t("deactivated")})),(0,r.wB)((()=>e.active),(e=>{p(e)})),{id:(0,o.OX)(),width:n,height:a,top:h,left:u,enable:f,dragging:m,resizing:v,resizingHandle:b,resizingMaxHeight:S,resizingMaxWidth:_,resizingMinWidth:M,resizingMinHeight:R,aspectRatio:A,setEnable:p,setDragging:g,setResizing:y,setResizingHandle:w,setResizingMaxHeight:T,setResizingMaxWidth:E,setResizingMinWidth:C,setResizingMinHeight:x,setWidth:e=>i(Math.floor(e)),setHeight:e=>l(Math.floor(e)),setTop:e=>d(Math.floor(e)),setLeft:e=>c(Math.floor(e))}}function l(e){const t=(0,i.KR)(0),n=(0,i.KR)(0);return(0,r.sV)((()=>{if(e.value&&e.value.parentElement){const{width:r,height:i}=(0,o.HI)(e.value.parentElement);t.value=r,n.value=i}})),{parentWidth:t,parentHeight:n}}function u(e,t,n){const{width:i,height:o,left:s,top:a,resizingMaxWidth:l,resizingMaxHeight:u,resizingMinWidth:c,resizingMinHeight:h}=n,{setWidth:d,setHeight:f,setTop:p,setLeft:m}=n,{parentWidth:g,parentHeight:v}=t,y={minWidth:(0,r.EW)((()=>c.value)),minHeight:(0,r.EW)((()=>h.value)),maxWidth:(0,r.EW)((()=>{let t=1/0;return e.parent&&(t=Math.min(g.value,l.value)),t})),maxHeight:(0,r.EW)((()=>{let t=1/0;return e.parent&&(t=Math.min(v.value,u.value)),t})),minLeft:(0,r.EW)((()=>e.parent?0:-1/0)),minTop:(0,r.EW)((()=>e.parent?0:-1/0)),maxLeft:(0,r.EW)((()=>e.parent?g.value-i.value:1/0)),maxTop:(0,r.EW)((()=>e.parent?v.value-o.value:1/0))},b={setWidth(t){return e.disabledW?i.value:d(Math.min(y.maxWidth.value,Math.max(y.minWidth.value,t)))},setHeight(t){return e.disabledH?o.value:f(Math.min(y.maxHeight.value,Math.max(y.minHeight.value,t)))},setTop(t){return e.disabledY?a.value:p(Math.min(y.maxTop.value,Math.max(y.minTop.value,t)))},setLeft(t){return e.disabledX?s.value:m(Math.min(y.maxLeft.value,Math.max(y.minLeft.value,t)))}};return{...y,...b}}const c=["mousedown","touchstart"],h=["mouseup","touchend"],d=["mousemove","touchmove"];function f(e){return"touches"in e?[e.touches[0].pageX,e.touches[0].pageY]:[e.pageX,e.pageY]}function p(e,t,n,i,s,a,l){const{left:u,top:p,width:m,height:g,dragging:v,id:y}=t,{setDragging:b,setEnable:w,setResizing:_,setResizingHandle:E}=t,{setTop:S,setLeft:T}=n;let M=0,C=0,R=0,x=0,A=null;const N=document.documentElement,L=t=>{const n=t.target;e.value?.contains(n)||(w(!1),b(!1),_(!1),E(""))},k=()=>{b(!1),(0,o.Nn)(N,h,k),(0,o.Nn)(N,d,O),A=null,a&&(a.updatePosition(y,{x:u.value,y:p.value,w:m.value,h:g.value}),a.setMatchedLine(null))},O=t=>{if(t.preventDefault(),!v.value||!e.value)return;const[n,r]=f(t),i=n-R,o=r-x;let l=M+i,u=C+o;if(null!==A){const e={col:[l,l+m.value/2,l+m.value],row:[u,u+g.value/2,u+g.value]},t={row:e.row.map(((e,t)=>{let n=null;return Object.values(A.row).forEach((t=>{e>=t.min&&e<=t.max&&(n=t.value)})),null!==n&&(0===t?u=n:1===t?u=Math.floor(n-g.value/2):2===t&&(u=Math.floor(n-g.value))),n})).filter((e=>null!==e)),col:e.col.map(((e,t)=>{let n=null;return Object.values(A.col).forEach((t=>{e>=t.min&&e<=t.max&&(n=t.value)})),null!==n&&(0===t?l=n:1===t?l=Math.floor(n-m.value/2):2===t&&(l=Math.floor(n-m.value))),n})).filter((e=>null!==e))};a.setMatchedLine(t)}s("dragging",{x:T(l),y:S(u)})},I=e=>{i.value&&(b(!0),M=u.value,C=p.value,R=f(e)[0],x=f(e)[1],(0,o.W2)(N,d,O),(0,o.W2)(N,h,k),a&&!a.disabled.value&&(A=(0,o.wp)(a,l,y)))};return(0,r.wB)(v,((e,t)=>{!t&&e?(s("drag-start",{x:u.value,y:p.value}),w(!0),b(!0)):(s("drag-end",{x:u.value,y:p.value}),b(!1))})),(0,r.sV)((()=>{const t=e.value;t&&(t.style.left=u+"px",t.style.top=p+"px",(0,o.W2)(N,c,L),(0,o.W2)(t,c,I))})),(0,r.hi)((()=>{e.value&&((0,o.Nn)(N,c,L),(0,o.Nn)(N,h,k),(0,o.Nn)(N,d,O))})),{containerRef:e}}function m(e,t,n,i,s){const{setWidth:a,setHeight:l,setLeft:u,setTop:c}=t,{width:p,height:m,left:g,top:v,aspectRatio:y}=e,{setResizing:b,setResizingHandle:w,setResizingMaxWidth:_,setResizingMaxHeight:E,setResizingMinWidth:S,setResizingMinHeight:T}=e,{parentWidth:M,parentHeight:C}=n;let R=0,x=0,A=0,N=0,L=0,k=0,O=1,I="",P="";const D=document.documentElement,F=e=>{e.preventDefault();let[t,n]=f(e),r=t-L,o=n-k,h=r,d=o;i.lockAspectRatio&&(r=Math.abs(r),o=r*O,(h<0||"m"===P&&d<0)&&(r=-r,o=-o)),"t"===I?(l(x-o),c(N-(m.value-x))):"b"===I&&l(x+o),"l"===P?(a(R-r),u(A-(p.value-R))):"r"===P&&a(R+r),s("resizing",{x:g.value,y:v.value,w:p.value,h:m.value})},H=()=>{s("resize-end",{x:g.value,y:v.value,w:p.value,h:m.value}),w(""),b(!1),_(1/0),E(1/0),S(i.minW),T(i.minH),(0,o.Nn)(D,d,F),(0,o.Nn)(D,h,H)},U=(e,t)=>{if(!i.resizable)return;e.stopPropagation(),w(t),b(!0),I=t[0],P=t[1],i.lockAspectRatio&&(["tl","tm","ml","bl"].includes(t)?(I="t",P="l"):(I="b",P="r"));let n=i.minH,r=i.minW;if(i.lockAspectRatio&&(n/r>y.value?r=n/y.value:n=r*y.value),S(r),T(n),i.parent){let e="t"===I?v.value+m.value:C.value-v.value,t="l"===P?g.value+p.value:M.value-g.value;i.lockAspectRatio&&(e/t<y.value?t=e/y.value:e=t*y.value),E(e),_(t)}R=p.value,x=m.value,A=g.value,N=v.value;const a=f(e);L=a[0],k=a[1],O=y.value,s("resize-start",{x:g.value,y:v.value,w:p.value,h:m.value}),(0,o.W2)(D,d,F),(0,o.W2)(D,h,H)};(0,r.hi)((()=>{(0,o.Nn)(D,h,H),(0,o.Nn)(D,d,F)}));const B=(0,r.EW)((()=>i.resizable?(0,o.y7)(i.handles):[]));return{handlesFiltered:B,resizeHandleDown:U}}function g(e,t){const{setWidth:n,setHeight:i,setLeft:o,setTop:s}=t;(0,r.wB)((()=>e.w),(e=>{n(e)})),(0,r.wB)((()=>e.h),(e=>{i(e)})),(0,r.wB)((()=>e.x),(e=>{o(e)})),(0,r.wB)((()=>e.y),(e=>{s(e)}))}const v=["tl","tm","tr","ml","mr","bl","bm","br"],y={initW:{type:Number,default:null},initH:{type:Number,default:null},w:{type:Number,default:0},h:{type:Number,default:0},x:{type:Number,default:0},y:{type:Number,default:0},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},disabledX:{type:Boolean,default:!1},disabledY:{type:Boolean,default:!1},disabledW:{type:Boolean,default:!1},disabledH:{type:Boolean,default:!1},minW:{type:Number,default:20},minH:{type:Number,default:20},active:{type:Boolean,default:!1},parent:{type:Boolean,default:!1},handles:{type:Array,default:v,validator:e=>(0,o.y7)(e).length===e.length},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},lockAspectRatio:{type:Boolean,default:!1}},b=["activated","deactivated","drag-start","resize-start","dragging","resizing","drag-end","resize-end","update:w","update:h","update:x","update:y","update:active"],w=(0,r.pM)({name:"Vue3DraggableResizable",props:y,emits:b,setup(e,{emit:t}){const n=a(e,t),s=(0,r.WQ)("identity",Symbol());let c=null;s===o.zK&&(c={updatePosition:(0,r.WQ)("updatePosition"),getPositionStore:(0,r.WQ)("getPositionStore"),disabled:(0,r.WQ)("disabled"),adsorbParent:(0,r.WQ)("adsorbParent"),adsorbCols:(0,r.WQ)("adsorbCols"),adsorbRows:(0,r.WQ)("adsorbRows"),setMatchedLine:(0,r.WQ)("setMatchedLine")});const h=(0,i.KR)(),d=l(h),f=u(e,d,n);p(h,n,f,(0,i.lW)(e,"draggable"),t,c,d);const v=m(n,f,d,e,t);return g(e,f),{containerRef:h,containerProvider:c,...n,...d,...f,...v}},computed:{style(){return{width:this.width+"px",height:this.height+"px",top:this.top+"px",left:this.left+"px"}},klass(){return{[this.classNameActive]:this.enable,[this.classNameDragging]:this.dragging,[this.classNameResizing]:this.resizing,[this.classNameDraggable]:this.draggable,[this.classNameResizable]:this.resizable}}},mounted(){if(!this.containerRef)return;this.containerRef.ondragstart=()=>!1;const{width:e,height:t}=(0,o.HI)(this.containerRef);this.setWidth(null===this.initW?this.w||e:this.initW),this.setHeight(null===this.initH?this.h||t:this.initH),this.containerProvider&&this.containerProvider.updatePosition(this.id,{x:this.left,y:this.top,w:this.width,h:this.height})},render(){return(0,r.h)("div",{ref:"containerRef",class:["vdr-container",this.klass],style:this.style},[this.$slots.default&&this.$slots.default(),...this.handlesFiltered.map((e=>(0,r.h)("div",{class:["vdr-handle","vdr-handle-"+e,this.classNameHandle,`${this.classNameHandle}-${e}`],style:{display:this.enable?"block":"none"},onMousedown:t=>this.resizeHandleDown(t,e),onTouchstart:t=>this.resizeHandleDown(t,e)})))])}});var _=w},84873:function(e,t,n){"use strict";n.d(t,{HI:function(){return o},Nn:function(){return l},OX:function(){return c},W2:function(){return a},wp:function(){return h},y7:function(){return u},zK:function(){return i}});n(84645);var r=n(77942);const i=Symbol("Vue3DraggableResizable");function o(e){const t=window.getComputedStyle(e);return{width:parseFloat(t.getPropertyValue("width")),height:parseFloat(t.getPropertyValue("height"))}}function s(e){return(t,n,r)=>{t&&("string"===typeof n&&(n=[n]),n.forEach((n=>t[e](n,r,{passive:!1}))))}}const a=s("addEventListener"),l=s("removeEventListener");function u(e){if(e&&e.length>0){const t=[];return e.forEach((e=>{r.ALL_HANDLES.includes(e)&&!t.includes(e)&&t.push(e)})),t}return[]}function c(){return String(Math.random()).substr(2)+String(Date.now())}function h(e,t,n){if(e.disabled.value)return null;const r={row:[],col:[]},{parentWidth:i,parentHeight:o}=t;r.row.push(...e.adsorbRows),r.col.push(...e.adsorbCols),e.adsorbParent.value&&(r.row.push(0,o.value,o.value/2),r.col.push(0,i.value,i.value/2));const s=e.getPositionStore(n);Object.values(s).forEach((({x:e,y:t,w:n,h:i})=>{r.row.push(t,t+i,t+i/2),r.col.push(e,e+n,e+n/2)}));const a={row:r.row.reduce(((e,t)=>({...e,[t]:{min:t-5,max:t+5,value:t}})),{}),col:r.col.reduce(((e,t)=>({...e,[t]:{min:t-5,max:t+5,value:t}})),{})};return a}},46732:function(e,t,n){"use strict";n.d(t,{BA:function(){return ze},C4:function(){return _},EW:function(){return Pe},Gc:function(){return Ee},IG:function(){return Le},IJ:function(){return Be},KR:function(){return Ue},Kh:function(){return _e},PP:function(){return nt},Pr:function(){return $e},QW:function(){return Xe},QZ:function(){return g},R1:function(){return We},Tm:function(){return Re},Ul:function(){return tt},X2:function(){return h},bl:function(){return E},ds:function(){return v},fE:function(){return xe},g8:function(){return Ce},hZ:function(){return O},i9:function(){return He},jr:function(){return c},ju:function(){return Ae},lW:function(){return Ze},mu:function(){return Ve},nD:function(){return Te},o5:function(){return u},rY:function(){return Ke},tB:function(){return Se},u4:function(){return k},uY:function(){return a},ux:function(){return Ne},yC:function(){return s}});var r=n(97700);
/**
* @vue/reactivity v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let i,o;class s{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function a(e){return new s(e)}function l(e,t=i){t&&t.active&&t.effects.push(e)}function u(){return i}function c(e){i&&i.cleanups.push(e)}class h{constructor(e,t,n,r){this.fn=e,this.trigger=t,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,l(this,r)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,_();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(d(t.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),E()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=y,t=o;try{return y=!0,o=this,this._runnings++,f(this),this.fn()}finally{p(this),this._runnings--,o=t,y=e}}stop(){this.active&&(f(this),p(this),this.onStop&&this.onStop(),this.active=!1)}}function d(e){return e.value}function f(e){e._trackId++,e._depsLength=0}function p(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)m(e.deps[t],e);e.deps.length=e._depsLength}}function m(e,t){const n=e.get(t);void 0!==n&&t._trackId!==n&&(e.delete(t),0===e.size&&e.cleanup())}function g(e,t){e.effect instanceof h&&(e=e.effect.fn);const n=new h(e,r.tE,(()=>{n.dirty&&n.run()}));t&&((0,r.X$)(n,t),t.scope&&l(n,t.scope)),t&&t.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i}function v(e){e.effect.stop()}let y=!0,b=0;const w=[];function _(){w.push(y),y=!1}function E(){const e=w.pop();y=void 0===e||e}function S(){b++}function T(){b--;while(!b&&C.length)C.shift()()}function M(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const n=e.deps[e._depsLength];n!==t?(n&&m(n,e),e.deps[e._depsLength++]=t):e._depsLength++}}const C=[];function R(e,t,n){S();for(const r of e.keys()){let n;r._dirtyLevel<t&&(null!=n?n:n=e.get(r)===r._trackId)&&(r._shouldSchedule||(r._shouldSchedule=0===r._dirtyLevel),r._dirtyLevel=t),r._shouldSchedule&&(null!=n?n:n=e.get(r)===r._trackId)&&(r.trigger(),r._runnings&&!r.allowRecurse||2===r._dirtyLevel||(r._shouldSchedule=!1,r.scheduler&&C.push(r.scheduler)))}T()}const x=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},A=new WeakMap,N=Symbol(""),L=Symbol("");function k(e,t,n){if(y&&o){let t=A.get(e);t||A.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=x((()=>t.delete(n)))),M(o,r,void 0)}}function O(e,t,n,i,o,s){const a=A.get(e);if(!a)return;let l=[];if("clear"===t)l=[...a.values()];else if("length"===n&&(0,r.cy)(e)){const e=Number(i);a.forEach(((t,n)=>{("length"===n||!(0,r.Bm)(n)&&n>=e)&&l.push(t)}))}else switch(void 0!==n&&l.push(a.get(n)),t){case"add":(0,r.cy)(e)?(0,r.yI)(n)&&l.push(a.get("length")):(l.push(a.get(N)),(0,r.CE)(e)&&l.push(a.get(L)));break;case"delete":(0,r.cy)(e)||(l.push(a.get(N)),(0,r.CE)(e)&&l.push(a.get(L)));break;case"set":(0,r.CE)(e)&&l.push(a.get(N));break}S();for(const r of l)r&&R(r,4,void 0);T()}function I(e,t){const n=A.get(e);return n&&n.get(t)}const P=(0,r.pD)("__proto__,__v_isRef,__isVue"),D=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.Bm)),F=H();function H(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Ne(this);for(let t=0,i=this.length;t<i;t++)k(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Ne)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){_(),S();const n=Ne(this)[t].apply(this,e);return T(),E(),n}})),e}function U(e){(0,r.Bm)(e)||(e=String(e));const t=Ne(this);return k(t,"has",e),t.hasOwnProperty(e)}class B{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){const i=this._isReadonly,o=this._isShallow;if("__v_isReactive"===t)return!i;if("__v_isReadonly"===t)return i;if("__v_isShallow"===t)return o;if("__v_raw"===t)return n===(i?o?ye:ve:o?ge:me).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=(0,r.cy)(e);if(!i){if(s&&(0,r.$3)(F,t))return Reflect.get(F,t,n);if("hasOwnProperty"===t)return U}const a=Reflect.get(e,t,n);return((0,r.Bm)(t)?D.has(t):P(t))?a:(i||k(e,"get",t),o?a:He(a)?s&&(0,r.yI)(t)?a:a.value:(0,r.Gv)(a)?i?Se(a):_e(a):a)}}class j extends B{constructor(e=!1){super(!1,e)}set(e,t,n,i){let o=e[t];if(!this._isShallow){const t=Re(o);if(xe(n)||Re(n)||(o=Ne(o),n=Ne(n)),!(0,r.cy)(e)&&He(o)&&!He(n))return!t&&(o.value=n,!0)}const s=(0,r.cy)(e)&&(0,r.yI)(t)?Number(t)<e.length:(0,r.$3)(e,t),a=Reflect.set(e,t,n,i);return e===Ne(i)&&(s?(0,r.$H)(n,o)&&O(e,"set",t,n,o):O(e,"add",t,n)),a}deleteProperty(e,t){const n=(0,r.$3)(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&O(e,"delete",t,void 0,i),o}has(e,t){const n=Reflect.has(e,t);return(0,r.Bm)(t)&&D.has(t)||k(e,"has",t),n}ownKeys(e){return k(e,"iterate",(0,r.cy)(e)?"length":N),Reflect.ownKeys(e)}}class Y extends B{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const V=new j,W=new Y,z=new j(!0),G=new Y(!0),$=e=>e,q=e=>Reflect.getPrototypeOf(e);function K(e,t,n=!1,i=!1){e=e["__v_raw"];const o=Ne(e),s=Ne(t);n||((0,r.$H)(t,s)&&k(o,"get",t),k(o,"get",s));const{has:a}=q(o),l=i?$:n?Oe:ke;return a.call(o,t)?l(e.get(t)):a.call(o,s)?l(e.get(s)):void(e!==o&&e.get(t))}function X(e,t=!1){const n=this["__v_raw"],i=Ne(n),o=Ne(e);return t||((0,r.$H)(e,o)&&k(i,"has",e),k(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function J(e,t=!1){return e=e["__v_raw"],!t&&k(Ne(e),"iterate",N),Reflect.get(e,"size",e)}function Q(e){e=Ne(e);const t=Ne(this),n=q(t),r=n.has.call(t,e);return r||(t.add(e),O(t,"add",e,e)),this}function Z(e,t){t=Ne(t);const n=Ne(this),{has:i,get:o}=q(n);let s=i.call(n,e);s||(e=Ne(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?(0,r.$H)(t,a)&&O(n,"set",e,t,a):O(n,"add",e,t),this}function ee(e){const t=Ne(this),{has:n,get:r}=q(t);let i=n.call(t,e);i||(e=Ne(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&O(t,"delete",e,void 0,o),s}function te(){const e=Ne(this),t=0!==e.size,n=void 0,r=e.clear();return t&&O(e,"clear",void 0,void 0,n),r}function ne(e,t){return function(n,r){const i=this,o=i["__v_raw"],s=Ne(o),a=t?$:e?Oe:ke;return!e&&k(s,"iterate",N),o.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function re(e,t,n){return function(...i){const o=this["__v_raw"],s=Ne(o),a=(0,r.CE)(s),l="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=o[e](...i),h=n?$:t?Oe:ke;return!t&&k(s,"iterate",u?L:N),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function ie(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function oe(){const e={get(e){return K(this,e)},get size(){return J(this)},has:X,add:Q,set:Z,delete:ee,clear:te,forEach:ne(!1,!1)},t={get(e){return K(this,e,!1,!0)},get size(){return J(this)},has:X,add:Q,set:Z,delete:ee,clear:te,forEach:ne(!1,!0)},n={get(e){return K(this,e,!0)},get size(){return J(this,!0)},has(e){return X.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:ne(!0,!1)},r={get(e){return K(this,e,!0,!0)},get size(){return J(this,!0)},has(e){return X.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:ne(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=re(i,!1,!1),n[i]=re(i,!0,!1),t[i]=re(i,!1,!0),r[i]=re(i,!0,!0)})),[e,n,t,r]}const[se,ae,le,ue]=oe();function ce(e,t){const n=t?e?ue:le:e?ae:se;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.$3)(n,i)&&i in t?n:t,i,o)}const he={get:ce(!1,!1)},de={get:ce(!1,!0)},fe={get:ce(!0,!1)},pe={get:ce(!0,!0)};const me=new WeakMap,ge=new WeakMap,ve=new WeakMap,ye=new WeakMap;function be(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function we(e){return e["__v_skip"]||!Object.isExtensible(e)?0:be((0,r.Zf)(e))}function _e(e){return Re(e)?e:Me(e,!1,V,he,me)}function Ee(e){return Me(e,!1,z,de,ge)}function Se(e){return Me(e,!0,W,fe,ve)}function Te(e){return Me(e,!0,G,pe,ye)}function Me(e,t,n,i,o){if(!(0,r.Gv)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=o.get(e);if(s)return s;const a=we(e);if(0===a)return e;const l=new Proxy(e,2===a?i:n);return o.set(e,l),l}function Ce(e){return Re(e)?Ce(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Re(e){return!(!e||!e["__v_isReadonly"])}function xe(e){return!(!e||!e["__v_isShallow"])}function Ae(e){return!!e&&!!e["__v_raw"]}function Ne(e){const t=e&&e["__v_raw"];return t?Ne(t):e}function Le(e){return Object.isExtensible(e)&&(0,r.yQ)(e,"__v_skip",!0),e}const ke=e=>(0,r.Gv)(e)?_e(e):e,Oe=e=>(0,r.Gv)(e)?Se(e):e;class Ie{constructor(e,t,n,r){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new h((()=>e(this._value)),(()=>Fe(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Ne(this);return e._cacheable&&!e.effect.dirty||!(0,r.$H)(e._value,e._value=e.effect.run())||Fe(e,4),De(e),e.effect._dirtyLevel>=2&&Fe(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Pe(e,t,n=!1){let i,o;const s=(0,r.Tn)(e);s?(i=e,o=r.tE):(i=e.get,o=e.set);const a=new Ie(i,o,s||!o,n);return a}function De(e){var t;y&&o&&(e=Ne(e),M(o,null!=(t=e.dep)?t:e.dep=x((()=>e.dep=void 0),e instanceof Ie?e:void 0),void 0))}function Fe(e,t=4,n){e=Ne(e);const r=e.dep;r&&R(r,t,void 0)}function He(e){return!(!e||!0!==e.__v_isRef)}function Ue(e){return je(e,!1)}function Be(e){return je(e,!0)}function je(e,t){return He(e)?e:new Ye(e,t)}class Ye{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ne(e),this._value=t?e:ke(e)}get value(){return De(this),this._value}set value(e){const t=this.__v_isShallow||xe(e)||Re(e);e=t?e:Ne(e),(0,r.$H)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:ke(e),Fe(this,4,e))}}function Ve(e){Fe(e,4,void 0)}function We(e){return He(e)?e.value:e}function ze(e){return(0,r.Tn)(e)?e():We(e)}const Ge={get:(e,t,n)=>We(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return He(i)&&!He(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function $e(e){return Ce(e)?e:new Proxy(e,Ge)}class qe{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>De(this)),(()=>Fe(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function Ke(e){return new qe(e)}function Xe(e){const t=(0,r.cy)(e)?new Array(e.length):{};for(const n in e)t[n]=et(e,n);return t}class Je{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return I(Ne(this._object),this._key)}}class Qe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ze(e,t,n){return He(e)?e:(0,r.Tn)(e)?new Qe(e):(0,r.Gv)(e)&&arguments.length>1?et(e,t,n):Ue(e)}function et(e,t,n){const r=e[t];return He(r)?r:new Je(e,t,n)}const tt={GET:"get",HAS:"has",ITERATE:"iterate"},nt={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"}},74220:function(e,t,n){"use strict";n.d(t,{$V:function(){return nt},$u:function(){return bt},$y:function(){return ce},BA:function(){return r.BA},Bs:function(){return xi},C4:function(){return i.C4},CE:function(){return Nr},Df:function(){return Ze},Dl:function(){return O},E:function(){return Xt},E3:function(){return jr},EW:function(){return Si},EY:function(){return br},FK:function(){return yr},Fv:function(){return Vr},Fw:function(){return xe},GM:function(){return Ut},Gc:function(){return r.Gc},Gt:function(){return vn},Gw:function(){return Pi},Gy:function(){return Ve},H4:function(){return v},HF:function(){return $t},Ht:function(){return Vt},IG:function(){return r.IG},IJ:function(){return r.IJ},Ic:function(){return yt},Im:function(){return gr},K9:function(){return Zn},KC:function(){return gt},KR:function(){return r.KR},Kh:function(){return r.Kh},LJ:function(){return Di},LM:function(){return Ae},Lk:function(){return Fr},Lu:function(){return Bt},MZ:function(){return Qe},Mw:function(){return wr},NP:function(){return jt},Ng:function(){return Br},OA:function(){return Wt},OW:function(){return Ke},PP:function(){return r.PP},PR:function(){return st},PS:function(){return bn},PT:function(){return i.PT},Pr:function(){return r.Pr},Q3:function(){return Wr},QP:function(){return ze},QW:function(){return r.QW},QZ:function(){return r.QZ},Qi:function(){return K},R1:function(){return r.R1},R8:function(){return Ni},RG:function(){return xt},SS:function(){return Et},Tb:function(){return Nt},Tm:function(){return r.Tm},Tr:function(){return i.Tr},U4:function(){return d},U_:function(){return ke},Ul:function(){return r.Ul},Vq:function(){return xr},WQ:function(){return yn},Wv:function(){return Lr},X2:function(){return r.X2},Y4:function(){return ut},Y5:function(){return Fi},YY:function(){return J},Yj:function(){return Dt},ZH:function(){return i.ZH},ZQ:function(){return Li},_B:function(){return i._B},aT:function(){return Hi},bF:function(){return Hr},bU:function(){return Ri},bj:function(){return St},bn:function(){return Kt},bo:function(){return Ue},ci:function(){return er},dA:function(){return fi},dY:function(){return x},ds:function(){return r.ds},eW:function(){return Yr},eX:function(){return Rt},fE:function(){return r.fE},fn:function(){return Ti},g2:function(){return le},g8:function(){return r.g8},gN:function(){return he},gW:function(){return Ir},gh:function(){return m},h:function(){return Mi},hi:function(){return _t},i9:function(){return r.i9},iD:function(){return Oi},jC:function(){return _r},jr:function(){return r.jr},jt:function(){return X},ju:function(){return r.ju},k6:function(){return Q},lW:function(){return r.lW},lt:function(){return ki},mu:function(){return r.mu},n:function(){return lt},nD:function(){return r.nD},nI:function(){return ei},nT:function(){return Ne},o5:function(){return r.o5},p9:function(){return Le},pI:function(){return Ct},pM:function(){return et},pR:function(){return $e},qG:function(){return Mt},qL:function(){return g},qP:function(){return Ft},qR:function(){return Tt},rE:function(){return Ai},rO:function(){return Yt},rU:function(){return i.rU},rY:function(){return r.rY},sV:function(){return vt},tB:function(){return r.tB},tC:function(){return di},tG:function(){return f},tY:function(){return ve},uX:function(){return Tr},uY:function(){return r.uY},ux:function(){return r.ux},v6:function(){return qr},v_:function(){return i.v_},vv:function(){return kr},wB:function(){return Ie},wk:function(){return Ht},xo:function(){return wt},y$:function(){return Ci},yC:function(){return r.yC},zz:function(){return qt}});var r=n(46732),i=n(97700);
/**
* @vue/runtime-core v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const o=[];function s(e,...t){(0,r.C4)();const n=o.length?o[o.length-1].component:null,i=n&&n.appContext.config.warnHandler,s=a();if(i)m(i,n,11,[e+t.map((e=>{var t,n;return null!=(n=null==(t=e.toString)?void 0:t.call(e))?n:JSON.stringify(e)})).join(""),n&&n.proxy,s.map((({vnode:e})=>`at <${_i(n,e.type)}>`)).join("\n"),s]);else{const n=[`[Vue warn]: ${e}`,...t];s.length&&n.push("\n",...l(s)),console.warn(...n)}(0,r.bl)()}function a(){let e=o[o.length-1];if(!e)return[];const t=[];while(e){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function l(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...u(e))})),t}function u({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=!!e.component&&null==e.component.parent,i=` at <${_i(e.component,e.type,r)}`,o=">"+n;return e.props?[i,...c(e.props),o]:[i+o]}function c(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...h(n,e[n]))})),n.length>3&&t.push(" ..."),t}function h(e,t,n){return(0,i.Kg)(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):"number"===typeof t||"boolean"===typeof t||null==t?n?t:[`${e}=${t}`]:(0,r.i9)(t)?(t=h(e,(0,r.ux)(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):(0,i.Tn)(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=(0,r.ux)(t),n?t:[`${e}=`,t])}function d(e,t){}const f={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},p={["sp"]:"serverPrefetch hook",["bc"]:"beforeCreate hook",["c"]:"created hook",["bm"]:"beforeMount hook",["m"]:"mounted hook",["bu"]:"beforeUpdate hook",["u"]:"updated",["bum"]:"beforeUnmount hook",["um"]:"unmounted hook",["a"]:"activated hook",["da"]:"deactivated hook",["ec"]:"errorCaptured hook",["rtc"]:"renderTracked hook",["rtg"]:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function m(e,t,n,r){try{return r?e(...r):e()}catch(i){v(i,t,n)}}function g(e,t,n,r){if((0,i.Tn)(e)){const o=m(e,t,n,r);return o&&(0,i.yL)(o)&&o.catch((e=>{v(e,t,n)})),o}if((0,i.cy)(e)){const i=[];for(let o=0;o<e.length;o++)i.push(g(e[o],t,n,r));return i}}function v(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;while(i){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,s))return;i=i.parent}const a=t.appContext.config.errorHandler;if(a)return(0,r.C4)(),m(a,null,10,[e,o,s]),void(0,r.bl)()}y(e,n,o,i)}function y(e,t,n,r=!0){console.error(e)}let b=!1,w=!1;const _=[];let E=0;const S=[];let T=null,M=0;const C=Promise.resolve();let R=null;function x(e){const t=R||C;return e?t.then(this?e.bind(this):e):t}function A(e){let t=E+1,n=_.length;while(t<n){const r=t+n>>>1,i=_[r],o=D(i);o<e||o===e&&i.pre?t=r+1:n=r}return t}function N(e){_.length&&_.includes(e,b&&e.allowRecurse?E+1:E)||(null==e.id?_.push(e):_.splice(A(e.id),0,e),L())}function L(){b||w||(w=!0,R=C.then(H))}function k(e){const t=_.indexOf(e);t>E&&_.splice(t,1)}function O(e){(0,i.cy)(e)?S.push(...e):T&&T.includes(e,e.allowRecurse?M+1:M)||S.push(e),L()}function I(e,t,n=(b?E+1:0)){for(0;n<_.length;n++){const t=_[n];if(t&&t.pre){if(e&&t.id!==e.uid)continue;0,_.splice(n,1),n--,t()}}}function P(e){if(S.length){const e=[...new Set(S)].sort(((e,t)=>D(e)-D(t)));if(S.length=0,T)return void T.push(...e);for(T=e,M=0;M<T.length;M++)T[M]();T=null,M=0}}const D=e=>null==e.id?1/0:e.id,F=(e,t)=>{const n=D(e)-D(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function H(e){w=!1,b=!0,_.sort(F);i.tE;try{for(E=0;E<_.length;E++){const e=_[E];e&&!1!==e.active&&m(e,null,14)}}finally{E=0,_.length=0,P(e),b=!1,R=null,(_.length||S.length)&&H(e)}}let U,B=[],j=!1;function Y(e,t){var n,r;if(U=e,U)U.enabled=!0,B.forEach((({event:e,args:t})=>U.emit(e,...t))),B=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null==(r=null==(n=window.navigator)?void 0:n.userAgent)?void 0:r.includes("jsdom"))){const e=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];e.push((e=>{Y(e,t)})),setTimeout((()=>{U||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,j=!0,B=[])}),3e3)}else j=!0,B=[]}function V(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.MZ;let o=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const e=`${"modelValue"===a?"model":a}Modifiers`,{number:t,trim:s}=r[e]||i.MZ;s&&(o=n.map((e=>(0,i.Kg)(e)?e.trim():e))),t&&(o=n.map(i.bB))}let l;let u=r[l=(0,i.rU)(t)]||r[l=(0,i.rU)((0,i.PT)(t))];!u&&s&&(u=r[l=(0,i.rU)((0,i.Tg)(t))]),u&&g(u,e,6,o);const c=r[l+"Once"];if(c){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,g(c,e,6,o)}}function W(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const s=e.emits;let a={},l=!1;if(!(0,i.Tn)(e)){const r=e=>{const n=W(e,t,!0);n&&(l=!0,(0,i.X$)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return s||l?((0,i.cy)(s)?s.forEach((e=>a[e]=null)):(0,i.X$)(a,s),(0,i.Gv)(e)&&r.set(e,a),a):((0,i.Gv)(e)&&r.set(e,null),null)}function z(e,t){return!(!e||!(0,i.Mp)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.$3)(e,t[0].toLowerCase()+t.slice(1))||(0,i.$3)(e,(0,i.Tg)(t))||(0,i.$3)(e,t))}let G=null,$=null;function q(e){const t=G;return G=e,$=e&&e.type.__scopeId||null,t}function K(e){$=e}function X(){$=null}const J=e=>Q;function Q(e,t=G,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&xr(-1);const i=q(t);let o;try{o=e(...n)}finally{q(i),r._d&&xr(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Z(e){const{type:t,vnode:n,proxy:r,withProxy:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:c,renderCache:h,props:d,data:f,setupState:p,ctx:m,inheritAttrs:g}=e,y=q(e);let b,w;try{if(4&n.shapeFlag){const e=o||r,t=e;b=zr(c.call(t,e,h,d,p,f,m)),w=l}else{const e=t;0,b=zr(e.length>1?e(d,{attrs:l,slots:a,emit:u}):e(d,null)),w=t.props?l:te(l)}}catch(E){Er.length=0,v(E,e,1),b=Hr(wr)}let _=b;if(w&&!1!==g){const e=Object.keys(w),{shapeFlag:t}=_;e.length&&7&t&&(s&&e.some(i.CP)&&(w=ne(w,s)),_=jr(_,w,!1,!0))}return n.dirs&&(_=jr(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),b=_,q(y),b}function ee(e,t=!0){let n;for(let r=0;r<e.length;r++){const t=e[r];if(!kr(t))return;if(t.type!==wr||"v-if"===t.children){if(n)return;n=t}}return n}const te=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.Mp)(n))&&((t||(t={}))[n]=e[n]);return t},ne=(e,t)=>{const n={};for(const r in e)(0,i.CP)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function re(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||ie(r,s,u):!!s);if(1024&l)return!0;if(16&l)return r?ie(r,s,u):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!z(u,n))return!0}}return!1}function ie(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!z(n,o))return!0}return!1}function oe({vnode:e,parent:t},n){while(t){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const se="components",ae="directives";function le(e,t){return de(se,e,!0,t)||e}const ue=Symbol.for("v-ndc");function ce(e){return(0,i.Kg)(e)?de(se,e,!1)||e:e||ue}function he(e){return de(ae,e)}function de(e,t,n=!0,r=!1){const o=G||Zr;if(o){const n=o.type;if(e===se){const e=wi(n,!1);if(e&&(e===t||e===(0,i.PT)(t)||e===(0,i.ZH)((0,i.PT)(t))))return n}const s=fe(o[e]||n[e],t)||fe(o.appContext[e],t);return!s&&r?n:s}}function fe(e,t){return e&&(e[t]||e[(0,i.PT)(t)]||e[(0,i.ZH)((0,i.PT)(t))])}const pe=e=>e.__isSuspense;let me=0;const ge={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,s,a,l,u){if(null==e)be(t,n,r,i,o,s,a,l,u);else{if(o&&o.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);we(e,t,n,r,i,s,a,l,u)}},hydrate:Ee,create:_e,normalize:Se},ve=ge;function ye(e,t){const n=e.props&&e.props[t];(0,i.Tn)(n)&&n()}function be(e,t,n,r,i,o,s,a,l){const{p:u,o:{createElement:c}}=l,h=c("div"),d=e.suspense=_e(e,i,r,t,h,n,o,s,a,l);u(null,d.pendingBranch=e.ssContent,h,null,r,d,o,s),d.deps>0?(ye(e,"onPending"),ye(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,o,s),Ce(d,e.ssFallback)):d.resolve(!1,!0)}function we(e,t,n,r,i,o,s,a,{p:l,um:u,o:{createElement:c}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const d=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:v}=h;if(m)h.pendingBranch=d,Or(d,m)?(l(m,d,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0?h.resolve():g&&(v||(l(p,f,n,r,i,null,o,s,a),Ce(h,f)))):(h.pendingId=me++,v?(h.isHydrating=!1,h.activeBranch=m):u(m,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=c("div"),g?(l(null,d,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0?h.resolve():(l(p,f,n,r,i,null,o,s,a),Ce(h,f))):p&&Or(d,p)?(l(p,d,n,r,i,h,o,s,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0&&h.resolve()));else if(p&&Or(d,p))l(p,d,n,r,i,h,o,s,a),Ce(h,d);else if(ye(t,"onPending"),h.pendingBranch=d,512&d.shapeFlag?h.pendingId=d.component.suspenseId:h.pendingId=me++,l(null,d,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout((()=>{h.pendingId===t&&h.fallback(f)}),e):0===e&&h.fallback(f)}}function _e(e,t,n,r,o,s,a,l,u,c,h=!1){const{p:d,m:f,um:p,n:m,o:{parentNode:g,remove:y}}=c;let b;const w=Re(e);w&&t&&t.pendingBranch&&(b=t.pendingId,t.deps++);const _=e.props?(0,i.Ro)(e.props.timeout):void 0;const E=s,S={vnode:e,parent:t,parentComponent:n,namespace:a,container:r,hiddenContainer:o,deps:0,pendingId:me++,timeout:"number"===typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:i,pendingBranch:o,pendingId:a,effects:l,parentComponent:u,container:c}=S;let h=!1;S.isHydrating?S.isHydrating=!1:e||(h=i&&o.transition&&"out-in"===o.transition.mode,h&&(i.transition.afterLeave=()=>{a===S.pendingId&&(f(o,c,s===E?m(i):s,0),O(l))}),i&&(g(i.el)!==S.hiddenContainer&&(s=m(i)),p(i,u,S,!0)),h||f(o,c,s,0)),Ce(S,o),S.pendingBranch=null,S.isInFallback=!1;let d=S.parent,v=!1;while(d){if(d.pendingBranch){d.effects.push(...l),v=!0;break}d=d.parent}v||h||O(l),S.effects=[],w&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),ye(r,"onResolve")},fallback(e){if(!S.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,namespace:o}=S;ye(t,"onFallback");const s=m(n),a=()=>{S.isInFallback&&(d(null,e,i,s,r,null,o,l,u),Ce(S,e))},c=e.transition&&"out-in"===e.transition.mode;c&&(n.transition.afterLeave=a),S.isInFallback=!0,p(n,r,null,!0),c||a()},move(e,t,n){S.activeBranch&&f(S.activeBranch,e,t,n),S.container=e},next(){return S.activeBranch&&m(S.activeBranch)},registerDep(e,t){const n=!!S.pendingBranch;n&&S.deps++;const r=e.vnode.el;e.asyncDep.catch((t=>{v(t,e,0)})).then((i=>{if(e.isUnmounted||S.isUnmounted||S.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:o}=e;hi(e,i,!1),r&&(o.el=r);const s=!r&&e.subTree.el;t(e,o,g(r||e.subTree.el),r?null:m(e.subTree),S,a,u),s&&y(s),oe(e,o.el),n&&0===--S.deps&&S.resolve()}))},unmount(e,t){S.isUnmounted=!0,S.activeBranch&&p(S.activeBranch,n,e,t),S.pendingBranch&&p(S.pendingBranch,n,e,t)}};return S}function Ee(e,t,n,r,i,o,s,a,l){const u=t.suspense=_e(t,r,n,e.parentNode,document.createElement("div"),null,i,o,s,a,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,o,s);return 0===u.deps&&u.resolve(!1,!0),c}function Se(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=Te(r?n.default:n),e.ssFallback=r?Te(n.fallback):Hr(wr)}function Te(e){let t;if((0,i.Tn)(e)){const n=Rr&&e._c;n&&(e._d=!1,Tr()),e=e(),n&&(e._d=!0,t=Sr,Mr())}if((0,i.cy)(e)){const t=ee(e);0,e=t}return e=zr(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function Me(e,t){t&&t.pendingBranch?(0,i.cy)(e)?t.effects.push(...e):t.effects.push(e):O(e)}function Ce(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;while(!i&&t.component)t=t.component.subTree,i=t.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,oe(r,i))}function Re(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}const xe=Symbol.for("v-scx"),Ae=()=>{{const e=yn(xe);return e}};function Ne(e,t){return Pe(e,null,t)}function Le(e,t){return Pe(e,null,{flush:"post"})}function ke(e,t){return Pe(e,null,{flush:"sync"})}const Oe={};function Ie(e,t,n){return Pe(e,t,n)}function Pe(e,t,{immediate:n,deep:o,flush:s,once:a,onTrack:l,onTrigger:u}=i.MZ){if(t&&a){const e=t;t=(...t)=>{e(...t),M()}}const c=Zr,h=e=>!0===o?e:He(e,!1===o?1:void 0);let d,f,p=!1,v=!1;if((0,r.i9)(e)?(d=()=>e.value,p=(0,r.fE)(e)):(0,r.g8)(e)?(d=()=>h(e),p=!0):(0,i.cy)(e)?(v=!0,p=e.some((e=>(0,r.g8)(e)||(0,r.fE)(e))),d=()=>e.map((e=>(0,r.i9)(e)?e.value:(0,r.g8)(e)?h(e):(0,i.Tn)(e)?m(e,c,2):void 0))):d=(0,i.Tn)(e)?t?()=>m(e,c,2):()=>(f&&f(),g(e,c,3,[b])):i.tE,t&&o){const e=d;d=()=>He(e())}let y,b=e=>{f=S.onStop=()=>{m(e,c,4),f=S.onStop=void 0}};if(li){if(b=i.tE,t?n&&g(t,c,3,[d(),v?[]:void 0,b]):d(),"sync"!==s)return i.tE;{const e=Ae();y=e.__watcherHandles||(e.__watcherHandles=[])}}let w=v?new Array(e.length).fill(Oe):Oe;const _=()=>{if(S.active&&S.dirty)if(t){const e=S.run();(o||p||(v?e.some(((e,t)=>(0,i.$H)(e,w[t]))):(0,i.$H)(e,w)))&&(f&&f(),g(t,c,3,[e,w===Oe?void 0:v&&w[0]===Oe?[]:w,b]),w=e)}else S.run()};let E;_.allowRecurse=!!t,"sync"===s?E=_:"post"===s?E=()=>Qn(_,c&&c.suspense):(_.pre=!0,c&&(_.id=c.uid),E=()=>N(_));const S=new r.X2(d,i.tE,E),T=(0,r.o5)(),M=()=>{S.stop(),T&&(0,i.TF)(T.effects,S)};return t?n?_():w=S.run():"post"===s?Qn(S.run.bind(S),c&&c.suspense):S.run(),y&&y.push(M),M}function De(e,t,n){const r=this.proxy,o=(0,i.Kg)(e)?e.includes(".")?Fe(r,e):()=>r[e]:e.bind(r,r);let s;(0,i.Tn)(t)?s=t:(s=t.handler,n=t);const a=ri(this),l=Pe(o,s.bind(r),n);return a(),l}function Fe(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function He(e,t=1/0,n){if(t<=0||!(0,i.Gv)(e)||e["__v_skip"])return e;if(n=n||new Set,n.has(e))return e;if(n.add(e),t--,(0,r.i9)(e))He(e.value,t,n);else if((0,i.cy)(e))for(let r=0;r<e.length;r++)He(e[r],t,n);else if((0,i.vM)(e)||(0,i.CE)(e))e.forEach((e=>{He(e,t,n)}));else if((0,i.Qd)(e))for(const r in e)He(e[r],t,n);return e}function Ue(e,t){if(null===G)return e;const n=vi(G)||G.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,s,a,l=i.MZ]=t[o];e&&((0,i.Tn)(e)&&(e={mounted:e,updated:e}),e.deep&&He(s),r.push({dir:e,instance:n,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Be(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];s&&(l.oldValue=s[a].value);let u=l.dir[i];u&&((0,r.C4)(),g(u,n,8,[e.el,l,e,t]),(0,r.bl)())}}const je=Symbol("_leaveCb"),Ye=Symbol("_enterCb");function Ve(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vt((()=>{e.isMounted=!0})),wt((()=>{e.isUnmounting=!0})),e}const We=[Function,Array],ze={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:We,onEnter:We,onAfterEnter:We,onEnterCancelled:We,onBeforeLeave:We,onLeave:We,onAfterLeave:We,onLeaveCancelled:We,onBeforeAppear:We,onAppear:We,onAfterAppear:We,onAppearCancelled:We},Ge={name:"BaseTransition",props:ze,setup(e,{slots:t}){const n=ei(),i=Ve();return()=>{const o=t.default&&Ze(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==wr){0,s=t,e=!0;break}}const a=(0,r.ux)(e),{mode:l}=a;if(i.isLeaving)return Xe(s);const u=Je(s);if(!u)return Xe(s);const c=Ke(u,a,i,n);Qe(u,c);const h=n.subTree,d=h&&Je(h);if(d&&d.type!==wr&&!Or(u,d)){const e=Ke(d,a,i,n);if(Qe(d,e),"out-in"===l&&u.type!==wr)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},Xe(s);"in-out"===l&&u.type!==wr&&(e.delayLeave=(e,t,n)=>{const r=qe(i,d);r[String(d.key)]=d,e[je]=()=>{t(),e[je]=void 0,delete c.delayedLeave},c.delayedLeave=n})}return s}}},$e=Ge;function qe(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ke(e,t,n,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,_=String(e.key),E=qe(n,e),S=(e,t)=>{e&&g(e,r,9,t)},T=(e,t)=>{const n=t[1];S(e,t),(0,i.cy)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},M={mode:s,persisted:a,beforeEnter(t){let r=l;if(!n.isMounted){if(!o)return;r=v||l}t[je]&&t[je](!0);const i=E[_];i&&Or(e,i)&&i.el[je]&&i.el[je](),S(r,[t])},enter(e){let t=u,r=c,i=h;if(!n.isMounted){if(!o)return;t=y||u,r=b||c,i=w||h}let s=!1;const a=e[Ye]=t=>{s||(s=!0,S(t?i:r,[e]),M.delayedLeave&&M.delayedLeave(),e[Ye]=void 0)};t?T(t,[e,a]):a()},leave(t,r){const i=String(e.key);if(t[Ye]&&t[Ye](!0),n.isUnmounting)return r();S(d,[t]);let o=!1;const s=t[je]=n=>{o||(o=!0,r(),S(n?m:p,[t]),t[je]=void 0,E[i]===e&&delete E[i])};E[i]=e,f?T(f,[t,s]):s()},clone(e){return Ke(e,t,n,r)}};return M}function Xe(e){if(it(e))return e=jr(e),e.children=null,e}function Je(e){if(!it(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&(0,i.Tn)(n.default))return n.default()}}function Qe(e,t){6&e.shapeFlag&&e.component?Qe(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Ze(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===yr?(128&s.patchFlag&&i++,r=r.concat(Ze(s.children,t,a))):(t||s.type!==wr)&&r.push(null!=a?jr(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function et(e,t){return(0,i.Tn)(e)?(()=>(0,i.X$)({name:e.name},t,{setup:e}))():e}const tt=e=>!!e.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;function nt(e){(0,i.Tn)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:s=200,timeout:a,suspensible:l=!0,onError:u}=e;let c,h=null,d=0;const f=()=>(d++,h=null,p()),p=()=>{let e;return h||(e=h=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),u)return new Promise(((t,n)=>{const r=()=>t(f()),i=()=>n(e);u(e,r,i,d+1)}));throw e})).then((t=>e!==h&&h?h:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t))))};return et({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return c},setup(){const e=Zr;if(c)return()=>rt(c,e);const t=t=>{h=null,v(t,e,13,!o)};if(l&&e.suspense||li)return p().then((t=>()=>rt(t,e))).catch((e=>(t(e),()=>o?Hr(o,{error:e}):null)));const i=(0,r.KR)(!1),u=(0,r.KR)(),d=(0,r.KR)(!!s);return s&&setTimeout((()=>{d.value=!1}),s),null!=a&&setTimeout((()=>{if(!i.value&&!u.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),u.value=e}}),a),p().then((()=>{i.value=!0,e.parent&&it(e.parent.vnode)&&(e.parent.effect.dirty=!0,N(e.parent.update))})).catch((e=>{t(e),u.value=e})),()=>i.value&&c?rt(c,e):u.value&&o?Hr(o,{error:u.value}):n&&!d.value?Hr(n):void 0}})}function rt(e,t){const{ref:n,props:r,children:i,ce:o}=t.vnode,s=Hr(e,r,i);return s.ref=n,s.ce=o,delete t.vnode.ce,s}const it=e=>e.type.__isKeepAlive,ot={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ei(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const o=new Map,s=new Set;let a=null;const l=n.suspense,{renderer:{p:u,m:c,um:h,o:{createElement:d}}}=r,f=d("div");function p(e){dt(e),h(e,n,l,!0)}function m(e){o.forEach(((t,n)=>{const r=wi(t.type);!r||e&&e(r)||g(n)}))}function g(e){const t=o.get(e);a&&Or(t,a)?a&&dt(a):p(t),o.delete(e),s.delete(e)}r.activate=(e,t,n,r,o)=>{const s=e.component;c(e,t,n,0,l),u(s.vnode,e,t,n,s,l,r,e.slotScopeIds,o),Qn((()=>{s.isDeactivated=!1,s.a&&(0,i.DY)(s.a);const t=e.props&&e.props.onVnodeMounted;t&&Kr(t,s.parent,e)}),l)},r.deactivate=e=>{const t=e.component;c(e,f,null,1,l),Qn((()=>{t.da&&(0,i.DY)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Kr(n,t.parent,e),t.isDeactivated=!0}),l)},Ie((()=>[e.include,e.exclude]),(([e,t])=>{e&&m((t=>at(e,t))),t&&m((e=>!at(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&o.set(v,ft(n.subTree))};return vt(y),bt(y),wt((()=>{o.forEach((e=>{const{subTree:t,suspense:r}=n,i=ft(t);if(e.type!==i.type||e.key!==i.key)p(e);else{dt(i);const e=i.component.da;e&&Qn(e,r)}}))})),()=>{if(v=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return a=null,n;if(!kr(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return a=null,r;let i=ft(r);const l=i.type,u=wi(tt(i)?i.type.__asyncResolved||{}:l),{include:c,exclude:h,max:d}=e;if(c&&(!u||!at(c,u))||h&&u&&at(h,u))return a=i,r;const f=null==i.key?l:i.key,p=o.get(f);return i.el&&(i=jr(i),128&r.shapeFlag&&(r.ssContent=i)),v=f,p?(i.el=p.el,i.component=p.component,i.transition&&Qe(i,i.transition),i.shapeFlag|=512,s.delete(f),s.add(f)):(s.add(f),d&&s.size>parseInt(d,10)&&g(s.values().next().value)),i.shapeFlag|=256,a=i,pe(r.type)?r:i}}},st=ot;function at(e,t){return(0,i.cy)(e)?e.some((e=>at(e,t))):(0,i.Kg)(e)?e.split(",").includes(t):!!(0,i.gd)(e)&&e.test(t)}function lt(e,t){ct(e,"a",t)}function ut(e,t){ct(e,"da",t)}function ct(e,t,n=Zr){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(pt(t,r,n),n){let e=n.parent;while(e&&e.parent)it(e.parent.vnode)&&ht(r,t,n,e),e=e.parent}}function ht(e,t,n,r){const o=pt(t,e,r,!0);_t((()=>{(0,i.TF)(r[t],o)}),n)}function dt(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ft(e){return 128&e.shapeFlag?e.ssContent:e}function pt(e,t,n=Zr,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.C4)();const o=ri(n),s=g(t,n,e,i);return o(),(0,r.bl)(),s});return i?o.unshift(s):o.push(s),s}}const mt=e=>(t,n=Zr)=>(!li||"sp"===e)&&pt(e,((...e)=>t(...e)),n),gt=mt("bm"),vt=mt("m"),yt=mt("bu"),bt=mt("u"),wt=mt("bum"),_t=mt("um"),Et=mt("sp"),St=mt("rtg"),Tt=mt("rtc");function Mt(e,t=Zr){pt("ec",e,t)}function Ct(e,t,n,r){let o;const s=n&&n[r];if((0,i.cy)(e)||(0,i.Kg)(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,s&&s[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,s&&s[n])}else if((0,i.Gv)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,s&&s[r])}}else o=[];return n&&(n[r]=o),o}function Rt(e,t){for(let n=0;n<t.length;n++){const r=t[n];if((0,i.cy)(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function xt(e,t,n={},r,i){if(G.isCE||G.parent&&tt(G.parent)&&G.parent.isCE)return"default"!==t&&(n.name=t),Hr("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),Tr();const s=o&&At(o(n)),a=Lr(yr,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&1===e._?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function At(e){return e.some((e=>!kr(e)||e.type!==wr&&!(e.type===yr&&!At(e.children))))?e:null}function Nt(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:(0,i.rU)(r)]=e[r];return n}const Lt=e=>e?oi(e)?vi(e)||e.proxy:Lt(e.parent):null,kt=(0,i.X$)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Lt(e.parent),$root:e=>Lt(e.root),$emit:e=>e.emit,$options:e=>nn(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,N(e.update)}),$nextTick:e=>e.n||(e.n=x.bind(e.proxy)),$watch:e=>De.bind(e)}),Ot=(e,t)=>e!==i.MZ&&!e.__isScriptSetup&&(0,i.$3)(e,t),It={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:u,appContext:c}=e;let h;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(Ot(o,t))return l[t]=1,o[t];if(s!==i.MZ&&(0,i.$3)(s,t))return l[t]=2,s[t];if((h=e.propsOptions[0])&&(0,i.$3)(h,t))return l[t]=3,a[t];if(n!==i.MZ&&(0,i.$3)(n,t))return l[t]=4,n[t];Jt&&(l[t]=0)}}const d=kt[t];let f,p;return d?("$attrs"===t&&(0,r.u4)(e.attrs,"get",""),d(e)):(f=u.__cssModules)&&(f=f[t])?f:n!==i.MZ&&(0,i.$3)(n,t)?(l[t]=4,n[t]):(p=c.config.globalProperties,(0,i.$3)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Ot(o,t)?(o[t]=n,!0):r!==i.MZ&&(0,i.$3)(r,t)?(r[t]=n,!0):!(0,i.$3)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==i.MZ&&(0,i.$3)(e,a)||Ot(t,a)||(l=s[0])&&(0,i.$3)(l,a)||(0,i.$3)(r,a)||(0,i.$3)(kt,a)||(0,i.$3)(o.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.$3)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const Pt=(0,i.X$)({},It,{get(e,t){if(t!==Symbol.unscopables)return It.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!(0,i.BH)(t);return n}});function Dt(){return null}function Ft(){return null}function Ht(e){0}function Ut(e){0}function Bt(){return null}function jt(){0}function Yt(e,t){return null}function Vt(){return zt().slots}function Wt(){return zt().attrs}function zt(){const e=ei();return e.setupContext||(e.setupContext=gi(e))}function Gt(e){return(0,i.cy)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function $t(e,t){const n=Gt(e);for(const r in t){if(r.startsWith("__skip"))continue;let e=n[r];e?(0,i.cy)(e)||(0,i.Tn)(e)?e=n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(e=n[r]={default:t[r]}),e&&t[`__skip_${r}`]&&(e.skipFactory=!0)}return n}function qt(e,t){return e&&t?(0,i.cy)(e)&&(0,i.cy)(t)?e.concat(t):(0,i.X$)({},Gt(e),Gt(t)):e||t}function Kt(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function Xt(e){const t=ei();let n=e();return ii(),(0,i.yL)(n)&&(n=n.catch((e=>{throw ri(t),e}))),[n,()=>ri(t)]}let Jt=!0;function Qt(e){const t=nn(e),n=e.proxy,o=e.ctx;Jt=!1,t.beforeCreate&&en(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:u,provide:c,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:E,render:S,renderTracked:T,renderTriggered:M,errorCaptured:C,serverPrefetch:R,expose:x,inheritAttrs:A,components:N,directives:L,filters:k}=t,O=null;if(h&&Zt(h,o,O),l)for(const r in l){const e=l[r];(0,i.Tn)(e)&&(o[r]=e.bind(n))}if(s){0;const t=s.call(n,n);0,(0,i.Gv)(t)&&(e.data=(0,r.Kh)(t))}if(Jt=!0,a)for(const r in a){const e=a[r],t=(0,i.Tn)(e)?e.bind(n,n):(0,i.Tn)(e.get)?e.get.bind(n,n):i.tE;0;const s=!(0,i.Tn)(e)&&(0,i.Tn)(e.set)?e.set.bind(n):i.tE,l=Si({get:t,set:s});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const r in u)tn(u[r],o,n,r);if(c){const e=(0,i.Tn)(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{vn(t,e[t])}))}function I(e,t){(0,i.cy)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&en(d,e,"c"),I(gt,f),I(vt,p),I(yt,m),I(bt,g),I(lt,v),I(ut,y),I(Mt,C),I(Tt,T),I(St,M),I(wt,w),I(_t,E),I(Et,R),(0,i.cy)(x))if(x.length){const t=e.exposed||(e.exposed={});x.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===i.tE&&(e.render=S),null!=A&&(e.inheritAttrs=A),N&&(e.components=N),L&&(e.directives=L)}function Zt(e,t,n=i.tE){(0,i.cy)(e)&&(e=ln(e));for(const o in e){const n=e[o];let s;s=(0,i.Gv)(n)?"default"in n?yn(n.from||o,n.default,!0):yn(n.from||o):yn(n),(0,r.i9)(s)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[o]=s}}function en(e,t,n){g((0,i.cy)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function tn(e,t,n,r){const o=r.includes(".")?Fe(n,r):()=>n[r];if((0,i.Kg)(e)){const n=t[e];(0,i.Tn)(n)&&Ie(o,n)}else if((0,i.Tn)(e))Ie(o,e.bind(n));else if((0,i.Gv)(e))if((0,i.cy)(e))e.forEach((e=>tn(e,t,n,r)));else{const r=(0,i.Tn)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.Tn)(r)&&Ie(o,r,e)}else 0}function nn(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let u;return l?u=l:o.length||n||r?(u={},o.length&&o.forEach((e=>rn(u,e,a,!0))),rn(u,t,a)):u=t,(0,i.Gv)(t)&&s.set(t,u),u}function rn(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&rn(e,o,n,!0),i&&i.forEach((t=>rn(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=on[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const on={data:sn,props:hn,emits:hn,methods:cn,computed:cn,beforeCreate:un,created:un,beforeMount:un,mounted:un,beforeUpdate:un,updated:un,beforeDestroy:un,beforeUnmount:un,destroyed:un,unmounted:un,activated:un,deactivated:un,errorCaptured:un,serverPrefetch:un,components:cn,directives:cn,watch:dn,provide:sn,inject:an};function sn(e,t){return t?e?function(){return(0,i.X$)((0,i.Tn)(e)?e.call(this,this):e,(0,i.Tn)(t)?t.call(this,this):t)}:t:e}function an(e,t){return cn(ln(e),ln(t))}function ln(e){if((0,i.cy)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function un(e,t){return e?[...new Set([].concat(e,t))]:t}function cn(e,t){return e?(0,i.X$)(Object.create(null),e,t):t}function hn(e,t){return e?(0,i.cy)(e)&&(0,i.cy)(t)?[...new Set([...e,...t])]:(0,i.X$)(Object.create(null),Gt(e),Gt(null!=t?t:{})):t}function dn(e,t){if(!e)return t;if(!t)return e;const n=(0,i.X$)(Object.create(null),e);for(const r in t)n[r]=un(e[r],t[r]);return n}function fn(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pn=0;function mn(e,t){return function(n,r=null){(0,i.Tn)(n)||(n=(0,i.X$)({},n)),null==r||(0,i.Gv)(r)||(r=null);const o=fn(),s=new WeakSet;let a=!1;const l=o.app={_uid:pn++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Ai,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,i.Tn)(e.install)?(s.add(e),e.install(l,...t)):(0,i.Tn)(e)&&(s.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(i,s,u){if(!a){0;const c=Hr(n,r);return c.appContext=o,!0===u?u="svg":!1===u&&(u=void 0),s&&t?t(c,i):e(c,i,u),a=!0,l._container=i,i.__vue_app__=l,vi(c.component)||c.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l},runWithContext(e){const t=gn;gn=l;try{return e()}finally{gn=t}}};return l}}let gn=null;function vn(e,t){if(Zr){let n=Zr.provides;const r=Zr.parent&&Zr.parent.provides;r===n&&(n=Zr.provides=Object.create(r)),n[e]=t}else 0}function yn(e,t,n=!1){const r=Zr||G;if(r||gn){const o=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:gn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,i.Tn)(t)?t.call(r&&r.proxy):t}else 0}function bn(){return!!(Zr||G||gn)}const wn={},_n=()=>Object.create(wn),En=e=>Object.getPrototypeOf(e)===wn;function Sn(e,t,n,i=!1){const o={},s=_n();e.propsDefaults=Object.create(null),Mn(e,t,o,s);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=i?o:(0,r.Gc)(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function Tn(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,u=(0,r.ux)(s),[c]=e.propsOptions;let h=!1;if(!(o||l>0)||16&l){let r;Mn(e,t,s,a)&&(h=!0);for(const o in u)t&&((0,i.$3)(t,o)||(r=(0,i.Tg)(o))!==o&&(0,i.$3)(t,r))||(c?!n||void 0===n[o]&&void 0===n[r]||(s[o]=Cn(c,u,o,void 0,e,!0)):delete s[o]);if(a!==u)for(const e in a)t&&(0,i.$3)(t,e)||(delete a[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(z(e.emitsOptions,o))continue;const l=t[o];if(c)if((0,i.$3)(a,o))l!==a[o]&&(a[o]=l,h=!0);else{const t=(0,i.PT)(o);s[t]=Cn(c,u,t,l,e,!1)}else l!==a[o]&&(a[o]=l,h=!0)}}h&&(0,r.hZ)(e.attrs,"set","")}function Mn(e,t,n,o){const[s,a]=e.propsOptions;let l,u=!1;if(t)for(let r in t){if((0,i.SU)(r))continue;const c=t[r];let h;s&&(0,i.$3)(s,h=(0,i.PT)(r))?a&&a.includes(h)?(l||(l={}))[h]=c:n[h]=c:z(e.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,u=!0)}if(a){const t=(0,r.ux)(n),o=l||i.MZ;for(let r=0;r<a.length;r++){const l=a[r];n[l]=Cn(s,t,l,o[l],e,!(0,i.$3)(o,l))}}return u}function Cn(e,t,n,r,o,s){const a=e[n];if(null!=a){const e=(0,i.$3)(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&!a.skipFactory&&(0,i.Tn)(e)){const{propsDefaults:i}=o;if(n in i)r=i[n];else{const s=ri(o);r=i[n]=e.call(null,t),s()}}else r=e}a[0]&&(s&&!e?r=!1:!a[1]||""!==r&&r!==(0,i.Tg)(n)||(r=!0))}return r}function Rn(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},l=[];let u=!1;if(!(0,i.Tn)(e)){const r=e=>{u=!0;const[n,r]=Rn(e,t,!0);(0,i.X$)(a,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!s&&!u)return(0,i.Gv)(e)&&r.set(e,i.Oj),i.Oj;if((0,i.cy)(s))for(let h=0;h<s.length;h++){0;const e=(0,i.PT)(s[h]);xn(e)&&(a[e]=i.MZ)}else if(s){0;for(const e in s){const t=(0,i.PT)(e);if(xn(t)){const n=s[e],r=a[t]=(0,i.cy)(n)||(0,i.Tn)(n)?{type:n}:(0,i.X$)({},n);if(r){const e=Ln(Boolean,r.type),n=Ln(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.$3)(r,"default"))&&l.push(t)}}}}const c=[a,l];return(0,i.Gv)(e)&&r.set(e,c),c}function xn(e){return"$"!==e[0]&&!(0,i.SU)(e)}function An(e){if(null===e)return"null";if("function"===typeof e)return e.name||"";if("object"===typeof e){const t=e.constructor&&e.constructor.name;return t||""}return""}function Nn(e,t){return An(e)===An(t)}function Ln(e,t){return(0,i.cy)(t)?t.findIndex((t=>Nn(t,e))):(0,i.Tn)(t)&&Nn(t,e)?0:-1}const kn=e=>"_"===e[0]||"$stable"===e,On=e=>(0,i.cy)(e)?e.map(zr):[zr(e)],In=(e,t,n)=>{if(t._n)return t;const r=Q(((...e)=>On(t(...e))),n);return r._c=!1,r},Pn=(e,t,n)=>{const r=e._ctx;for(const o in e){if(kn(o))continue;const n=e[o];if((0,i.Tn)(n))t[o]=In(o,n,r);else if(null!=n){0;const e=On(n);t[o]=()=>e}}},Dn=(e,t)=>{const n=On(t);e.slots.default=()=>n},Fn=(e,t)=>{const n=e.slots=_n();if(32&e.vnode.shapeFlag){const e=t._;e?((0,i.X$)(n,t),(0,i.yQ)(n,"_",e,!0)):Pn(t,n)}else t&&Dn(e,t)},Hn=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=i.MZ;if(32&r.shapeFlag){const e=t._;e?n&&1===e?s=!1:((0,i.X$)(o,t),n||1!==e||delete o._):(s=!t.$stable,Pn(t,o)),a=t}else t&&(Dn(e,t),a={default:1});if(s)for(const i in o)kn(i)||null!=a[i]||delete o[i]};function Un(e,t,n,o,s=!1){if((0,i.cy)(e))return void e.forEach(((e,r)=>Un(e,t&&((0,i.cy)(t)?t[r]:t),n,o,s)));if(tt(o)&&!s)return;const a=4&o.shapeFlag?vi(o.component)||o.component.proxy:o.el,l=s?null:a,{i:u,r:c}=e;const h=t&&t.r,d=u.refs===i.MZ?u.refs={}:u.refs,f=u.setupState;if(null!=h&&h!==c&&((0,i.Kg)(h)?(d[h]=null,(0,i.$3)(f,h)&&(f[h]=null)):(0,r.i9)(h)&&(h.value=null)),(0,i.Tn)(c))m(c,u,12,[l,d]);else{const t=(0,i.Kg)(c),o=(0,r.i9)(c);if(t||o){const r=()=>{if(e.f){const n=t?(0,i.$3)(f,c)?f[c]:d[c]:c.value;s?(0,i.cy)(n)&&(0,i.TF)(n,a):(0,i.cy)(n)?n.includes(a)||n.push(a):t?(d[c]=[a],(0,i.$3)(f,c)&&(f[c]=d[c])):(c.value=[a],e.k&&(d[e.k]=c.value))}else t?(d[c]=l,(0,i.$3)(f,c)&&(f[c]=l)):o&&(c.value=l,e.k&&(d[e.k]=l))};l?(r.id=-1,Qn(r,n)):r()}else 0}}let Bn=!1;const jn=e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName,Yn=e=>e.namespaceURI.includes("MathML"),Vn=e=>jn(e)?"svg":Yn(e)?"mathml":void 0,Wn=e=>8===e.nodeType;function zn(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:a,parentNode:l,remove:u,insert:c,createComment:h}}=e,d=(e,t)=>{if(!t.hasChildNodes())return __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&s("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,e,t),P(),void(t._vnode=e);Bn=!1,f(t.firstChild,e,null,null,null),P(),t._vnode=e,Bn&&console.error("Hydration completed but contains mismatches.")},f=(n,r,i,u,h,d=!1)=>{d=d||!!r.dynamicChildren;const _=Wn(n)&&"["===n.data,E=()=>v(n,r,i,u,h,_),{type:S,ref:T,shapeFlag:M,patchFlag:C}=r;let R=n.nodeType;r.el=n,-2===C&&(d=!1,r.dynamicChildren=null);let x=null;switch(S){case br:3!==R?""===r.children?(c(r.el=o(""),l(n),n),x=n):x=E():(n.data!==r.children&&(Bn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&s("Hydration text mismatch in",n.parentNode,`\n  - rendered on server: ${JSON.stringify(n.data)}\n  - expected on client: ${JSON.stringify(r.children)}`),n.data=r.children),x=a(n));break;case wr:w(n)?(x=a(n),b(r.el=n.content.firstChild,n,i)):x=8!==R||_?E():a(n);break;case _r:if(_&&(n=a(n),R=n.nodeType),1===R||3===R){x=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===x.nodeType?x.outerHTML:x.data),t===r.staticCount-1&&(r.anchor=x),x=a(x);return _?a(x):x}E();break;case yr:x=_?g(n,r,i,u,h,d):E();break;default:if(1&M)x=1===R&&r.type.toLowerCase()===n.tagName.toLowerCase()||w(n)?p(n,r,i,u,h,d):E();else if(6&M){r.slotScopeIds=h;const e=l(n);if(x=_?y(n):Wn(n)&&"teleport start"===n.data?y(n,n.data,"teleport end"):a(n),t(r,e,null,i,u,Vn(e),d),tt(r)){let t;_?(t=Hr(yr),t.anchor=x?x.previousSibling:e.lastChild):t=3===n.nodeType?Yr(""):Hr("div"),t.el=n,r.component.subTree=t}}else 64&M?x=8!==R?E():r.type.hydrate(n,r,i,u,h,d,e,m):128&M?x=r.type.hydrate(n,r,i,u,Vn(l(n)),h,d,e,f):__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&s("Invalid HostVNode type:",S,`(${typeof S})`)}return null!=T&&Un(T,null,u,r),x},p=(e,t,n,o,a,l)=>{l=l||!!t.dynamicChildren;const{type:c,props:h,patchFlag:d,shapeFlag:f,dirs:p,transition:g}=t,v="input"===c||"option"===c;if(v||-1!==d){p&&Be(t,null,n,"created");let c,y=!1;if(w(e)){y=ir(o,g)&&n&&n.vnode.props&&n.vnode.props.appear;const r=e.content.firstChild;y&&g.beforeEnter(r),b(r,e,n),t.el=e=r}if(16&f&&(!h||!h.innerHTML&&!h.textContent)){let r=m(e.firstChild,t,e,n,o,a,l),i=!1;while(r){Bn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!i&&(s("Hydration children mismatch on",e,"\nServer rendered element contains more child nodes than client vdom."),i=!0);const t=r;r=r.nextSibling,u(t)}}else 8&f&&e.textContent!==t.children&&(Bn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&s("Hydration text content mismatch on",e,`\n  - rendered on server: ${e.textContent}\n  - expected on client: ${t.children}`),e.textContent=t.children);if(h)if(__VUE_PROD_HYDRATION_MISMATCH_DETAILS__||v||!l||48&d)for(const o in h)__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&Gn(e,o,h[o],t,n)&&(Bn=!0),(v&&(o.endsWith("value")||"indeterminate"===o)||(0,i.Mp)(o)&&!(0,i.SU)(o)||"."===o[0])&&r(e,o,null,h[o],void 0,void 0,n);else h.onClick&&r(e,"onClick",null,h.onClick,void 0,void 0,n);(c=h&&h.onVnodeBeforeMount)&&Kr(c,n,t),p&&Be(t,null,n,"beforeMount"),((c=h&&h.onVnodeMounted)||p||y)&&Me((()=>{c&&Kr(c,n,t),y&&g.enter(e),p&&Be(t,null,n,"mounted")}),o)}return e.nextSibling},m=(e,t,r,i,o,a,l)=>{l=l||!!t.dynamicChildren;const u=t.children,c=u.length;let h=!1;for(let d=0;d<c;d++){const t=l?u[d]:u[d]=zr(u[d]);if(e)e=f(e,t,i,o,a,l);else{if(t.type===br&&!t.children)continue;Bn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&!h&&(s("Hydration children mismatch on",r,"\nServer rendered element contains fewer child nodes than client vdom."),h=!0),n(null,t,r,null,i,o,Vn(r),a)}}return e},g=(e,t,n,r,i,o)=>{const{slotScopeIds:s}=t;s&&(i=i?i.concat(s):s);const u=l(e),d=m(a(e),t,u,n,r,i,o);return d&&Wn(d)&&"]"===d.data?a(t.anchor=d):(Bn=!0,c(t.anchor=h("]"),u,d),d)},v=(e,t,r,i,o,c)=>{if(Bn=!0,__VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&s("Hydration node mismatch:\n- rendered on server:",e,3===e.nodeType?"(text)":Wn(e)&&"["===e.data?"(start of fragment)":"","\n- expected on client:",t.type),t.el=null,c){const t=y(e);while(1){const n=a(e);if(!n||n===t)break;u(n)}}const h=a(e),d=l(e);return u(e),n(null,t,d,h,r,i,Vn(d),o),h},y=(e,t="[",n="]")=>{let r=0;while(e)if(e=a(e),e&&Wn(e)&&(e.data===t&&r++,e.data===n)){if(0===r)return a(e);r--}return e},b=(e,t,n)=>{const r=t.parentNode;r&&r.replaceChild(e,t);let i=n;while(i)i.vnode.el===t&&(i.vnode.el=i.subTree.el=e),i=i.parent},w=e=>1===e.nodeType&&"template"===e.tagName.toLowerCase();return[d,f]}function Gn(e,t,n,r,o){var a;let l,u,c,h;if("class"===t)c=e.getAttribute("class"),h=(0,i.C4)(n),qn($n(c||""),$n(h))||(l=u="class");else if("style"===t){c=e.getAttribute("style"),h=(0,i.Kg)(n)?n:(0,i.tl)((0,i.Tr)(n));const t=Kn(c),s=Kn(h);if(r.dirs)for(const{dir:e,value:n}of r.dirs)"show"!==e.name||n||s.set("display","none");const d=null==o?void 0:o.subTree;if(r===d||(null==d?void 0:d.type)===yr&&d.children.includes(r)){const e=null==(a=null==o?void 0:o.getCssVars)?void 0:a.call(o);for(const t in e)s.set(`--${t}`,String(e[t]))}Xn(t,s)||(l=u="style")}else(e instanceof SVGElement&&(0,i.z3)(t)||e instanceof HTMLElement&&((0,i.W0)(t)||(0,i.wQ)(t)))&&((0,i.W0)(t)?(c=e.hasAttribute(t),h=(0,i.Y2)(n)):null==n?(c=e.hasAttribute(t),h=!1):(c=e.hasAttribute(t)?e.getAttribute(t):"value"===t&&"TEXTAREA"===e.tagName&&e.value,h=!!(0,i.Vp)(n)&&String(n)),c!==h&&(l="attribute",u=t));if(l){const t=e=>!1===e?"(not rendered)":`${u}="${e}"`,n=`Hydration ${l} mismatch on`,r=`\n  - rendered on server: ${t(c)}\n  - expected on client: ${t(h)}\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.`;return s(n,e,r),!0}return!1}function $n(e){return new Set(e.trim().split(/\s+/))}function qn(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Kn(e){const t=new Map;for(const n of e.split(";")){let[e,r]=n.split(":");e=null==e?void 0:e.trim(),r=null==r?void 0:r.trim(),e&&r&&t.set(e,r)}return t}function Xn(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e)if(r!==t.get(n))return!1;return!0}function Jn(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,i.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Qn=Me;function Zn(e){return tr(e)}function er(e){return tr(e,zn)}function tr(e,t){Jn();const n=(0,i.We)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:u,createComment:c,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=i.tE,insertStaticContent:g}=e,v=(e,t,n,r=null,i=null,o=null,s=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Or(e,t)&&(r=K(e),W(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:h}=t;switch(u){case br:y(e,t,n,r);break;case wr:b(e,t,n,r);break;case _r:null==e&&w(t,n,r,s);break;case yr:L(e,t,n,r,i,o,s,a,l);break;default:1&h?S(e,t,n,r,i,o,s,a,l):6&h?O(e,t,n,r,i,o,s,a,l):(64&h||128&h)&&u.process(e,t,n,r,i,o,s,a,l,Q)}null!=c&&i&&Un(c,e&&e.ref,o,t||e,!t)},y=(e,t,n,r)=>{if(null==e)o(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},b=(e,t,n,r)=>{null==e?o(t.el=c(t.children||""),n,r):t.el=e.el},w=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},_=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),o(e,n,r),e=i;o(t,n,r)},E=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),s(e),e=n;s(t)},S=(e,t,n,r,i,o,s,a,l)=>{"svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e?T(t,n,r,i,o,s,a,l):R(e,t,i,o,s,a,l)},T=(e,t,n,r,s,u,c,h)=>{let f,p;const{props:m,shapeFlag:g,transition:v,dirs:y}=e;if(f=e.el=l(e.type,u,m&&m.is,m),8&g?d(f,e.children):16&g&&C(e.children,f,null,r,s,nr(e,u),c,h),y&&Be(e,null,r,"created"),M(f,e,e.scopeId,c,r),m){for(const t in m)"value"===t||(0,i.SU)(t)||a(f,t,null,m[t],u,e.children,r,s,q);"value"in m&&a(f,"value",null,m.value,u),(p=m.onVnodeBeforeMount)&&Kr(p,r,e)}y&&Be(e,null,r,"beforeMount");const b=ir(s,v);b&&v.beforeEnter(f),o(f,t,n),((p=m&&m.onVnodeMounted)||b||y)&&Qn((()=>{p&&Kr(p,r,e),b&&v.enter(f),y&&Be(e,null,r,"mounted")}),s)},M=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let o=0;o<r.length;o++)m(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;M(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},C=(e,t,n,r,i,o,s,a,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=a?Gr(e[u]):zr(e[u]);v(null,l,t,n,r,i,o,s,a)}},R=(e,t,n,r,o,s,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:f}=t;c|=16&e.patchFlag;const p=e.props||i.MZ,m=t.props||i.MZ;let g;if(n&&rr(n,!1),(g=m.onVnodeBeforeUpdate)&&Kr(g,n,t,e),f&&Be(t,e,n,"beforeUpdate"),n&&rr(n,!0),h?x(e.dynamicChildren,h,u,n,r,nr(t,o),s):l||B(e,t,u,null,n,r,nr(t,o),s,!1),c>0){if(16&c)A(u,t,p,m,n,r,o);else if(2&c&&p.class!==m.class&&a(u,"class",null,m.class,o),4&c&&a(u,"style",p.style,m.style,o),8&c){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const s=i[t],l=p[s],c=m[s];c===l&&"value"!==s||a(u,s,l,c,o,e.children,n,r,q)}}1&c&&e.children!==t.children&&d(u,t.children)}else l||null!=h||A(u,t,p,m,n,r,o);((g=m.onVnodeUpdated)||f)&&Qn((()=>{g&&Kr(g,n,t,e),f&&Be(t,e,n,"updated")}),r)},x=(e,t,n,r,i,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],u=t[a],c=l.el&&(l.type===yr||!Or(l,u)||70&l.shapeFlag)?f(l.el):n;v(l,u,c,null,r,i,o,s,!0)}},A=(e,t,n,r,o,s,l)=>{if(n!==r){if(n!==i.MZ)for(const u in n)(0,i.SU)(u)||u in r||a(e,u,n[u],null,l,t.children,o,s,q);for(const u in r){if((0,i.SU)(u))continue;const c=r[u],h=n[u];c!==h&&"value"!==u&&a(e,u,h,c,l,t.children,o,s,q)}"value"in r&&a(e,"value",n.value,r.value,l)}},L=(e,t,n,r,i,s,a,l,c)=>{const h=t.el=e?e.el:u(""),d=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(o(h,n,r),o(d,n,r),C(t.children||[],n,d,i,s,a,l,c)):f>0&&64&f&&p&&e.dynamicChildren?(x(e.dynamicChildren,p,n,i,s,a,l),(null!=t.key||i&&t===i.subTree)&&or(e,t,!0)):B(e,t,n,d,i,s,a,l,c)},O=(e,t,n,r,i,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,l):D(t,n,r,i,o,s,l):F(e,t,l)},D=(e,t,n,r,i,o,s)=>{const a=e.component=Qr(e,r,i);if(it(e)&&(a.ctx.renderer=Q),ui(a),a.asyncDep){if(i&&i.registerDep(a,H),!e.el){const e=a.subTree=Hr(wr);b(null,e,t,n)}}else H(a,e,t,n,i,o,s)},F=(e,t,n)=>{const r=t.component=e.component;if(re(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void U(r,t,n);r.next=t,k(r.update),r.effect.dirty=!0,r.update()}else t.el=e.el,r.vnode=t},H=(e,t,n,o,s,a,l)=>{const u=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:o,vnode:c}=e;{const n=ar(e);if(n)return t&&(t.el=c.el,U(e,t,l)),void n.asyncDep.then((()=>{e.isUnmounted||u()}))}let h,d=t;0,rr(e,!1),t?(t.el=c.el,U(e,t,l)):t=c,n&&(0,i.DY)(n),(h=t.props&&t.props.onVnodeBeforeUpdate)&&Kr(h,o,t,c),rr(e,!0);const p=Z(e);0;const m=e.subTree;e.subTree=p,v(m,p,f(m.el),K(m),e,s,a),t.el=p.el,null===d&&oe(e,p.el),r&&Qn(r,s),(h=t.props&&t.props.onVnodeUpdated)&&Qn((()=>Kr(h,o,t,c)),s)}else{let r;const{el:l,props:u}=t,{bm:c,m:h,parent:d}=e,f=tt(t);if(rr(e,!1),c&&(0,i.DY)(c),!f&&(r=u&&u.onVnodeBeforeMount)&&Kr(r,d,t),rr(e,!0),l&&te){const n=()=>{e.subTree=Z(e),te(l,e.subTree,e,s,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=Z(e);0,v(null,r,n,o,e,s,a),t.el=r.el}if(h&&Qn(h,s),!f&&(r=u&&u.onVnodeMounted)){const e=t;Qn((()=>Kr(r,d,e)),s)}(256&t.shapeFlag||d&&tt(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Qn(e.a,s),e.isMounted=!0,t=n=o=null}},c=e.effect=new r.X2(u,i.tE,(()=>N(h)),e.scope),h=e.update=()=>{c.dirty&&c.run()};h.id=e.uid,rr(e,!0),h()},U=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,Tn(e,t.props,i,n),Hn(e,t.children,n),(0,r.C4)(),I(e),(0,r.bl)()},B=(e,t,n,r,i,o,s,a,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void Y(u,h,n,r,i,o,s,a,l);if(256&f)return void j(u,h,n,r,i,o,s,a,l)}8&p?(16&c&&q(u,i,o),h!==u&&d(n,h)):16&c?16&p?Y(u,h,n,r,i,o,s,a,l):q(u,i,o,!0):(8&c&&d(n,""),16&p&&C(h,n,r,i,o,s,a,l))},j=(e,t,n,r,o,s,a,l,u)=>{e=e||i.Oj,t=t||i.Oj;const c=e.length,h=t.length,d=Math.min(c,h);let f;for(f=0;f<d;f++){const r=t[f]=u?Gr(t[f]):zr(t[f]);v(e[f],r,n,null,o,s,a,l,u)}c>h?q(e,o,s,!0,!1,d):C(t,n,r,o,s,a,l,u,d)},Y=(e,t,n,r,o,s,a,l,u)=>{let c=0;const h=t.length;let d=e.length-1,f=h-1;while(c<=d&&c<=f){const r=e[c],i=t[c]=u?Gr(t[c]):zr(t[c]);if(!Or(r,i))break;v(r,i,n,null,o,s,a,l,u),c++}while(c<=d&&c<=f){const r=e[d],i=t[f]=u?Gr(t[f]):zr(t[f]);if(!Or(r,i))break;v(r,i,n,null,o,s,a,l,u),d--,f--}if(c>d){if(c<=f){const e=f+1,i=e<h?t[e].el:r;while(c<=f)v(null,t[c]=u?Gr(t[c]):zr(t[c]),n,i,o,s,a,l,u),c++}}else if(c>f)while(c<=d)W(e[c],o,s,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=f;c++){const e=t[c]=u?Gr(t[c]):zr(t[c]);null!=e.key&&g.set(e.key,c)}let y,b=0;const w=f-m+1;let _=!1,E=0;const S=new Array(w);for(c=0;c<w;c++)S[c]=0;for(c=p;c<=d;c++){const r=e[c];if(b>=w){W(r,o,s,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(y=m;y<=f;y++)if(0===S[y-m]&&Or(r,t[y])){i=y;break}void 0===i?W(r,o,s,!0):(S[i-m]=c+1,i>=E?E=i:_=!0,v(r,t[i],n,null,o,s,a,l,u),b++)}const T=_?sr(S):i.Oj;for(y=T.length-1,c=w-1;c>=0;c--){const e=m+c,i=t[e],d=e+1<h?t[e+1].el:r;0===S[c]?v(null,i,n,d,o,s,a,l,u):_&&(y<0||c!==T[y]?V(i,n,d,2):y--)}}},V=(e,t,n,r,i=null)=>{const{el:s,type:a,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void V(e.component.subTree,t,n,r);if(128&c)return void e.suspense.move(t,n,r);if(64&c)return void a.move(e,t,n,Q);if(a===yr){o(s,t,n);for(let e=0;e<u.length;e++)V(u[e],t,n,r);return void o(e.anchor,t,n)}if(a===_r)return void _(e,t,n);const h=2!==r&&1&c&&l;if(h)if(0===r)l.beforeEnter(s),o(s,t,n),Qn((()=>l.enter(s)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,a=()=>o(s,t,n),u=()=>{e(s,(()=>{a(),i&&i()}))};r?r(s,a,u):u()}else o(s,t,n)},W=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:h,dirs:d}=e;if(null!=a&&Un(a,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const f=1&c&&d,p=!tt(e);let m;if(p&&(m=s&&s.onVnodeBeforeUnmount)&&Kr(m,t,e),6&c)$(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);f&&Be(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,i,Q,r):u&&(o!==yr||h>0&&64&h)?q(u,t,n,!1,!0):(o===yr&&384&h||!i&&16&c)&&q(l,t,n),r&&z(e)}(p&&(m=s&&s.onVnodeUnmounted)||f)&&Qn((()=>{m&&Kr(m,t,e),f&&Be(e,null,t,"unmounted")}),n)},z=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===yr)return void G(n,r);if(t===_r)return void E(e);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,s=()=>t(n,o);r?r(e.el,o,s):s()}else o()},G=(e,t)=>{let n;while(e!==t)n=p(e),s(e),e=n;s(t)},$=(e,t,n)=>{const{bum:r,scope:o,update:s,subTree:a,um:l}=e;r&&(0,i.DY)(r),o.stop(),s&&(s.active=!1,W(a,e,t,n)),l&&Qn(l,t),Qn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},q=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)W(e[s],t,n,r,i)},K=e=>6&e.shapeFlag?K(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el);let X=!1;const J=(e,t,n)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),X||(X=!0,I(),P(),X=!1),t._vnode=e},Q={p:v,um:W,m:V,r:z,mt:D,mc:C,pc:B,pbc:x,n:K,o:e};let ee,te;return t&&([ee,te]=t(Q)),{render:J,hydrate:ee,createApp:mn(J,ee)}}function nr({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function rr({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function ir(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function or(e,t,n=!1){const r=e.children,o=t.children;if((0,i.cy)(r)&&(0,i.cy)(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=Gr(o[i]),t.el=e.el),n||or(e,t)),t.type===br&&(t.el=e.el)}}function sr(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}function ar(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ar(t)}const lr=e=>e.__isTeleport,ur=e=>e&&(e.disabled||""===e.disabled),cr=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,hr=e=>"function"===typeof MathMLElement&&e instanceof MathMLElement,dr=(e,t)=>{const n=e&&e.to;if((0,i.Kg)(n)){if(t){const e=t(n);return e}return null}return n},fr={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,u){const{mc:c,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:m,createComment:g}}=u,v=ur(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(null==e){const e=t.el=m(""),u=t.anchor=m("");f(e,n,r),f(u,n,r);const h=t.target=dr(t.props,p),d=t.targetAnchor=m("");h&&(f(d,h),"svg"===s||cr(h)?s="svg":("mathml"===s||hr(h))&&(s="mathml"));const g=(e,t)=>{16&y&&c(b,e,t,i,o,s,a,l)};v?g(n,u):h&&g(h,d)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,f=t.targetAnchor=e.targetAnchor,m=ur(e.props),g=m?n:c,y=m?r:f;if("svg"===s||cr(c)?s="svg":("mathml"===s||hr(c))&&(s="mathml"),w?(d(e.dynamicChildren,w,g,i,o,s,a),or(e,t,!0)):l||h(e,t,g,y,i,o,s,a,!1),v)m?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):pr(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=dr(t.props,p);e&&pr(t,e,null,u,0)}else m&&pr(t,c,f,u,1)}vr(t)},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:h,props:d}=e;if(h&&o(c),s&&o(u),16&a){const e=s||!ur(d);for(let r=0;r<l.length;r++){const o=l[r];i(o,t,n,e,!!o.dynamicChildren)}}},move:pr,hydrate:mr};function pr(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=e,h=2===o;if(h&&r(s,t,n),(!h||ur(c))&&16&l)for(let d=0;d<u.length;d++)i(u[d],t,n,2);h&&r(a,t,n)}function mr(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=t.target=dr(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(ur(t.props))t.anchor=u(s(e),t,a(e),n,r,i,o),t.targetAnchor=l;else{t.anchor=s(e);let a=l;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,c._lpa=t.targetAnchor&&s(t.targetAnchor);break}u(l,t,c,n,r,i,o)}vr(t)}return t.anchor&&s(t.anchor)}const gr=fr;function vr(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;while(n&&n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const yr=Symbol.for("v-fgt"),br=Symbol.for("v-txt"),wr=Symbol.for("v-cmt"),_r=Symbol.for("v-stc"),Er=[];let Sr=null;function Tr(e=!1){Er.push(Sr=e?null:[])}function Mr(){Er.pop(),Sr=Er[Er.length-1]||null}let Cr,Rr=1;function xr(e){Rr+=e}function Ar(e){return e.dynamicChildren=Rr>0?Sr||i.Oj:null,Mr(),Rr>0&&Sr&&Sr.push(e),e}function Nr(e,t,n,r,i,o){return Ar(Fr(e,t,n,r,i,o,!0))}function Lr(e,t,n,r,i){return Ar(Hr(e,t,n,r,i,!0))}function kr(e){return!!e&&!0===e.__v_isVNode}function Or(e,t){return e.type===t.type&&e.key===t.key}function Ir(e){Cr=e}const Pr=({key:e})=>null!=e?e:null,Dr=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,i.Kg)(e)||(0,r.i9)(e)||(0,i.Tn)(e)?{i:G,r:e,k:t,f:!!n}:e:null);function Fr(e,t=null,n=null,r=0,o=null,s=(e===yr?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Pr(t),ref:t&&Dr(t),scopeId:$,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:G};return l?($r(u,n),128&s&&e.normalize(u)):n&&(u.shapeFlag|=(0,i.Kg)(n)?8:16),Rr>0&&!a&&Sr&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&Sr.push(u),u}const Hr=Ur;function Ur(e,t=null,n=null,o=0,s=null,a=!1){if(e&&e!==ue||(e=wr),kr(e)){const r=jr(e,t,!0);return n&&$r(r,n),Rr>0&&!a&&Sr&&(6&r.shapeFlag?Sr[Sr.indexOf(e)]=r:Sr.push(r)),r.patchFlag|=-2,r}if(Ei(e)&&(e=e.__vccOpts),t){t=Br(t);let{class:e,style:n}=t;e&&!(0,i.Kg)(e)&&(t.class=(0,i.C4)(e)),(0,i.Gv)(n)&&((0,r.ju)(n)&&!(0,i.cy)(n)&&(n=(0,i.X$)({},n)),t.style=(0,i.Tr)(n))}const l=(0,i.Kg)(e)?1:pe(e)?128:lr(e)?64:(0,i.Gv)(e)?4:(0,i.Tn)(e)?2:0;return Fr(e,t,n,o,s,l,a,!0)}function Br(e){return e?(0,r.ju)(e)||En(e)?(0,i.X$)({},e):e:null}function jr(e,t,n=!1,r=!1){const{props:o,ref:s,patchFlag:a,children:l,transition:u}=e,c=t?qr(o||{},t):o,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Pr(c),ref:t&&t.ref?n&&s?(0,i.cy)(s)?s.concat(Dr(t)):[s,Dr(t)]:Dr(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==yr?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&jr(e.ssContent),ssFallback:e.ssFallback&&jr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&(h.transition=u.clone(h)),h}function Yr(e=" ",t=0){return Hr(br,null,e,t)}function Vr(e,t){const n=Hr(_r,null,e);return n.staticCount=t,n}function Wr(e="",t=!1){return t?(Tr(),Lr(wr,null,e)):Hr(wr,null,e)}function zr(e){return null==e||"boolean"===typeof e?Hr(wr):(0,i.cy)(e)?Hr(yr,null,e.slice()):"object"===typeof e?Gr(e):Hr(br,null,String(e))}function Gr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:jr(e)}function $r(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.cy)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),$r(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||En(t)?3===r&&G&&(1===G.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=G}}else(0,i.Tn)(t)?(t={default:t,_ctx:G},n=32):(t=String(t),64&r?(n=16,t=[Yr(t)]):n=8);e.children=t,e.shapeFlag|=n}function qr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C4)([t.class,r.class]));else if("style"===e)t.style=(0,i.Tr)([t.style,r.style]);else if((0,i.Mp)(e)){const n=t[e],o=r[e];!o||n===o||(0,i.cy)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function Kr(e,t,n,r=null){g(e,t,7,[n,r])}const Xr=fn();let Jr=0;function Qr(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||Xr,a={uid:Jr++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rn(o,s),emitsOptions:W(o,s),emit:null,emitted:null,propsDefaults:i.MZ,inheritAttrs:o.inheritAttrs,ctx:i.MZ,data:i.MZ,props:i.MZ,attrs:i.MZ,slots:i.MZ,refs:i.MZ,setupState:i.MZ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=V.bind(null,a),e.ce&&e.ce(a),a}let Zr=null;const ei=()=>Zr||G;let ti,ni;{const e=(0,i.We)(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach((t=>t(e))):r[0](e)}};ti=t("__VUE_INSTANCE_SETTERS__",(e=>Zr=e)),ni=t("__VUE_SSR_SETTERS__",(e=>li=e))}const ri=e=>{const t=Zr;return ti(e),e.scope.on(),()=>{e.scope.off(),ti(t)}},ii=()=>{Zr&&Zr.scope.off(),ti(null)};function oi(e){return 4&e.vnode.shapeFlag}let si,ai,li=!1;function ui(e,t=!1){t&&ni(t);const{props:n,children:r}=e.vnode,i=oi(e);Sn(e,n,i,t),Fn(e,r);const o=i?ci(e,t):void 0;return t&&ni(!1),o}function ci(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,It);const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?gi(e):null,s=ri(e);(0,r.C4)();const a=m(o,e,0,[e.props,n]);if((0,r.bl)(),s(),(0,i.yL)(a)){if(a.then(ii,ii),t)return a.then((n=>{hi(e,n,t)})).catch((t=>{v(t,e,0)}));e.asyncDep=a}else hi(e,a,t)}else pi(e,t)}function hi(e,t,n){(0,i.Tn)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Gv)(t)&&(e.setupState=(0,r.Pr)(t)),pi(e,n)}function di(e){si=e,ai=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Pt))}}const fi=()=>!si;function pi(e,t,n){const o=e.type;if(!e.render){if(!t&&si&&!o.render){const t=o.template||nn(e).template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:s,compilerOptions:a}=o,l=(0,i.X$)((0,i.X$)({isCustomElement:n,delimiters:s},r),a);o.render=si(t,l)}}e.render=o.render||i.tE,ai&&ai(e)}{const t=ri(e);(0,r.C4)();try{Qt(e)}finally{(0,r.bl)(),t()}}}const mi={get(e,t){return(0,r.u4)(e,"get",""),e[t]}};function gi(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,mi),slots:e.slots,emit:e.emit,expose:t}}function vi(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.Pr)((0,r.IG)(e.exposed)),{get(t,n){return n in t?t[n]:n in kt?kt[n](e):void 0},has(e,t){return t in e||t in kt}}))}const yi=/(?:^|[-_])(\w)/g,bi=e=>e.replace(yi,(e=>e.toUpperCase())).replace(/[-_]/g,"");function wi(e,t=!0){return(0,i.Tn)(e)?e.displayName||e.name:e.name||t&&e.__name}function _i(e,t,n=!1){let r=wi(t);if(!r&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(r=e[1])}if(!r&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};r=n(e.components||e.parent.type.components)||n(e.appContext.components)}return r?bi(r):n?"App":"Anonymous"}function Ei(e){return(0,i.Tn)(e)&&"__vccOpts"in e}const Si=(e,t)=>{const n=(0,r.EW)(e,t,li);return n};function Ti(e,t,n=i.MZ){const o=ei();const s=(0,i.PT)(t),a=(0,i.Tg)(t),l=(0,r.rY)(((r,l)=>{let u;return ke((()=>{const n=e[t];(0,i.$H)(u,n)&&(u=n,l())})),{get(){return r(),n.get?n.get(u):u},set(e){const r=o.vnode.props;r&&(t in r||s in r||a in r)&&(`onUpdate:${t}`in r||`onUpdate:${s}`in r||`onUpdate:${a}`in r)||!(0,i.$H)(e,u)||(u=e,l()),o.emit(`update:${t}`,n.set?n.set(e):e)}}})),u="modelValue"===t?"modelModifiers":`${t}Modifiers`;return l[Symbol.iterator]=()=>{let t=0;return{next(){return t<2?{value:t++?e[u]||{}:l,done:!1}:{done:!0}}}},l}function Mi(e,t,n){const r=arguments.length;return 2===r?(0,i.Gv)(t)&&!(0,i.cy)(t)?kr(t)?Hr(e,null,[t]):Hr(e,t):Hr(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&kr(n)&&(n=[n]),Hr(e,t,n))}function Ci(){return void 0}function Ri(e,t,n,r){const i=n[r];if(i&&xi(i,e))return i;const o=t();return o.memo=e.slice(),n[r]=o}function xi(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if((0,i.$H)(n[r],t[r]))return!1;return Rr>0&&Sr&&Sr.push(e),!0}const Ai="3.4.26",Ni=i.tE,Li=p,ki=U,Oi=Y,Ii={createComponentInstance:Qr,setupComponent:ui,renderComponentRoot:Z,setCurrentRenderingInstance:q,isVNode:kr,normalizeVNode:zr},Pi=Ii,Di=null,Fi=null,Hi=null},39798:function(e,t,n){"use strict";n.d(t,{$9:function(){return H},$V:function(){return r.$V},$u:function(){return r.$u},$y:function(){return r.$y},BA:function(){return r.BA},Bs:function(){return r.Bs},C4:function(){return r.C4},CE:function(){return r.CE},D:function(){return me},D$:function(){return We},Df:function(){return r.Df},Dl:function(){return r.Dl},E:function(){return r.E},E3:function(){return r.E3},EW:function(){return r.EW},EY:function(){return r.EY},Ef:function(){return et},F:function(){return _e},FK:function(){return r.FK},Fv:function(){return r.Fv},Fw:function(){return r.Fw},GM:function(){return r.GM},Gc:function(){return r.Gc},Gt:function(){return r.Gt},Gw:function(){return r.Gw},Gy:function(){return r.Gy},H4:function(){return r.H4},HF:function(){return r.HF},Ht:function(){return r.Ht},IG:function(){return r.IG},IJ:function(){return r.IJ},Ib:function(){return ot},Ic:function(){return r.Ic},Im:function(){return r.Im},Jo:function(){return Ne},K9:function(){return r.K9},KC:function(){return r.KC},KR:function(){return r.KR},Kh:function(){return r.Kh},LJ:function(){return r.LJ},LM:function(){return r.LM},Lk:function(){return r.Lk},Lu:function(){return r.Lu},MZ:function(){return r.MZ},Mw:function(){return r.Mw},NP:function(){return r.NP},Ng:function(){return r.Ng},OA:function(){return r.OA},OW:function(){return r.OW},PP:function(){return r.PP},PR:function(){return r.PR},PS:function(){return r.PS},PT:function(){return r.PT},Po:function(){return de},Pr:function(){return r.Pr},Q3:function(){return r.Q3},QP:function(){return r.QP},QW:function(){return r.QW},QZ:function(){return r.QZ},Qi:function(){return r.Qi},Qv:function(){return Ze},R1:function(){return r.R1},R8:function(){return r.R8},RG:function(){return r.RG},SS:function(){return r.SS},Tb:function(){return r.Tb},Tm:function(){return r.Tm},Tr:function(){return r.Tr},U4:function(){return r.U4},U_:function(){return r.U_},Ul:function(){return r.Ul},Vq:function(){return r.Vq},Vy:function(){return pe},WQ:function(){return r.WQ},Wv:function(){return r.Wv},X2:function(){return r.X2},XL:function(){return Oe},XX:function(){return Qe},Xq:function(){return he},Y4:function(){return r.Y4},Y5:function(){return r.Y5},YY:function(){return r.YY},Yj:function(){return r.Yj},ZH:function(){return r.ZH},ZQ:function(){return r.ZQ},_B:function(){return r._B},aG:function(){return I},aT:function(){return r.aT},bF:function(){return r.bF},bU:function(){return r.bU},bj:function(){return r.bj},bn:function(){return r.bn},bo:function(){return r.bo},ci:function(){return r.ci},dA:function(){return r.dA},dY:function(){return r.dY},ds:function(){return r.ds},eB:function(){return p},eW:function(){return r.eW},eX:function(){return r.eX},fE:function(){return r.fE},fn:function(){return r.fn},g2:function(){return r.g2},g8:function(){return r.g8},gN:function(){return r.gN},gW:function(){return r.gW},gh:function(){return r.gh},h:function(){return r.h},hi:function(){return r.hi},hp:function(){return He},i9:function(){return r.i9},iD:function(){return r.iD},jC:function(){return r.jC},jR:function(){return Ge},jr:function(){return r.jr},jt:function(){return r.jt},ju:function(){return r.ju},k6:function(){return r.k6},lH:function(){return Le},lW:function(){return r.lW},lt:function(){return r.lt},m1:function(){return tt},mu:function(){return r.mu},n:function(){return r.n},nD:function(){return r.nD},nI:function(){return r.nI},nT:function(){return r.nT},o5:function(){return r.o5},p9:function(){return r.p9},pI:function(){return r.pI},pM:function(){return r.pM},pR:function(){return r.pR},qG:function(){return r.qG},qL:function(){return r.qL},qP:function(){return r.qP},qR:function(){return r.qR},rE:function(){return r.rE},rO:function(){return r.rO},rU:function(){return r.rU},rY:function(){return r.rY},sV:function(){return r.sV},tB:function(){return r.tB},tC:function(){return r.tC},tG:function(){return r.tG},tY:function(){return r.tY},u1:function(){return Ie},uX:function(){return r.uX},uY:function(){return r.uY},ux:function(){return r.ux},v6:function(){return r.v6},v_:function(){return r.v_},vv:function(){return r.vv},wB:function(){return r.wB},wk:function(){return r.wk},xo:function(){return r.xo},y$:function(){return r.y$},yC:function(){return r.yC},zz:function(){return r.zz}});var r=n(74220),i=n(97700),o=n(46732);
/**
* @vue/runtime-dom v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const s="http://www.w3.org/2000/svg",a="http://www.w3.org/1998/Math/MathML",l="undefined"!==typeof document?document:null,u=l&&l.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i="svg"===t?l.createElementNS(s,e):"mathml"===t?l.createElementNS(a,e):l.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>l.createTextNode(e),createComment:e=>l.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>l.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{u.innerHTML="svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e;const i=u.content;if("svg"===r||"mathml"===r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},h="transition",d="animation",f=Symbol("_vtc"),p=(e,{slots:t})=>(0,r.h)(r.pR,b(e),t);p.displayName="Transition";const m={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},g=p.props=(0,i.X$)({},r.QP,m),v=(e,t=[])=>{(0,i.cy)(e)?e.forEach((e=>e(...t))):e&&e(...t)},y=e=>!!e&&((0,i.cy)(e)?e.some((e=>e.length>1)):e.length>1);function b(e){const t={};for(const i in e)i in m||(t[i]=e[i]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=w(o),b=g&&g[0],_=g&&g[1],{onBeforeEnter:M,onEnter:R,onEnterCancelled:x,onLeave:A,onLeaveCancelled:L,onBeforeAppear:k=M,onAppear:O=R,onAppearCancelled:I=x}=t,P=(e,t,n)=>{S(e,t?h:l),S(e,t?c:a),n&&n()},D=(e,t)=>{e._isLeaving=!1,S(e,d),S(e,p),S(e,f),t&&t()},F=e=>(t,n)=>{const i=e?O:R,o=()=>P(t,e,n);v(i,[t,o]),T((()=>{S(t,e?u:s),E(t,e?h:l),y(i)||C(t,r,b,o)}))};return(0,i.X$)(t,{onBeforeEnter(e){v(M,[e]),E(e,s),E(e,a)},onBeforeAppear(e){v(k,[e]),E(e,u),E(e,c)},onEnter:F(!1),onAppear:F(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>D(e,t);E(e,d),E(e,f),N(),T((()=>{e._isLeaving&&(S(e,d),E(e,p),y(A)||C(e,r,_,n))})),v(A,[e,n])},onEnterCancelled(e){P(e,!1),v(x,[e])},onAppearCancelled(e){P(e,!0),v(I,[e])},onLeaveCancelled(e){D(e),v(L,[e])}})}function w(e){if(null==e)return null;if((0,i.Gv)(e))return[_(e.enter),_(e.leave)];{const t=_(e);return[t,t]}}function _(e){const t=(0,i.Ro)(e);return t}function E(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[f]||(e[f]=new Set)).add(t)}function S(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[f];n&&(n.delete(t),n.size||(e[f]=void 0))}function T(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let M=0;function C(e,t,n,r){const i=e._endId=++M,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=R(e,t);if(!s)return r();const u=s+"end";let c=0;const h=()=>{e.removeEventListener(u,d),o()},d=t=>{t.target===e&&++c>=l&&h()};setTimeout((()=>{c<l&&h()}),a+1),e.addEventListener(u,d)}function R(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(`${h}Delay`),o=r(`${h}Duration`),s=x(i,o),a=r(`${d}Delay`),l=r(`${d}Duration`),u=x(a,l);let c=null,f=0,p=0;t===h?s>0&&(c=h,f=s,p=o.length):t===d?u>0&&(c=d,f=u,p=l.length):(f=Math.max(s,u),c=f>0?s>u?h:d:null,p=c?c===h?o.length:l.length:0);const m=c===h&&/\b(transform|all)(,|$)/.test(r(`${h}Property`).toString());return{type:c,timeout:f,propCount:p,hasTransform:m}}function x(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>A(t)+A(e[n]))))}function A(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function N(){return document.body.offsetHeight}function L(e,t,n){const r=e[f];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const k=Symbol("_vod"),O=Symbol("_vsh"),I={beforeMount(e,{value:t},{transition:n}){e[k]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):P(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),P(e,!0),r.enter(e)):r.leave(e,(()=>{P(e,!1)})):P(e,t))},beforeUnmount(e,{value:t}){P(e,t)}};function P(e,t){e.style.display=t?e[k]:"none",e[O]=!t}function D(){I.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const F=Symbol("");function H(e){const t=(0,r.nI)();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>B(e,n)))};const i=()=>{const r=e(t.proxy);U(t.subTree,r),n(r)};(0,r.sV)((()=>{(0,r.p9)(i);const e=new MutationObserver(i);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,r.hi)((()=>e.disconnect()))}))}function U(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{U(n.activeBranch,t)}))}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)B(e.el,t);else if(e.type===r.FK)e.children.forEach((e=>U(e,t)));else if(e.type===r.jC){let{el:n,anchor:r}=e;while(n){if(B(n,t),n===r)break;n=n.nextSibling}}}function B(e,t){if(1===e.nodeType){const n=e.style;let r="";for(const e in t)n.setProperty(`--${e}`,t[e]),r+=`--${e}: ${t[e]};`;n[F]=r}}const j=/(^|;)\s*display\s*:/;function Y(e,t,n){const r=e.style,o=(0,i.Kg)(n);let s=!1;if(n&&!o){if(t)if((0,i.Kg)(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&W(r,t,"")}else for(const e in t)null==n[e]&&W(r,e,"");for(const e in n)"display"===e&&(s=!0),W(r,e,n[e])}else if(o){if(t!==n){const e=r[F];e&&(n+=";"+e),r.cssText=n,s=j.test(n)}}else t&&e.removeAttribute("style");k in e&&(e[k]=s?r.display:"",e[O]&&(r.display="none"))}const V=/\s*!important$/;function W(e,t,n){if((0,i.cy)(n))n.forEach((n=>W(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=$(e,t);V.test(n)?e.setProperty((0,i.Tg)(r),n.replace(V,""),"important"):e[r]=n}}const z=["Webkit","Moz","ms"],G={};function $(e,t){const n=G[t];if(n)return n;let r=(0,i.PT)(t);if("filter"!==r&&r in e)return G[t]=r;r=(0,i.ZH)(r);for(let i=0;i<z.length;i++){const n=z[i]+r;if(n in e)return G[t]=n}return t}const q="http://www.w3.org/1999/xlink";function K(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(q,t.slice(6,t.length)):e.setAttributeNS(q,t,n);else{const r=(0,i.J$)(t);null==n||r&&!(0,i.Y2)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function X(e,t,n,r,o,s,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,o,s),void(e[t]=null==n?"":n);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){const r="OPTION"===l?e.getAttribute("value")||"":e.value,i=null==n?"":n;return r===i&&"_value"in e||(e.value=i),null==n&&e.removeAttribute(t),void(e._value=n)}let u=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,i.Y2)(n):null==n&&"string"===r?(n="",u=!0):"number"===r&&(n=0,u=!0)}try{e[t]=n}catch(c){0}u&&e.removeAttribute(t)}function J(e,t,n,r){e.addEventListener(t,n,r)}function Q(e,t,n,r){e.removeEventListener(t,n,r)}const Z=Symbol("_vei");function ee(e,t,n,r,i=null){const o=e[Z]||(e[Z]={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=ne(t);if(r){const s=o[t]=se(r,i);J(e,n,s,a)}else s&&(Q(e,n,s,a),o[t]=void 0)}}const te=/(?:Once|Passive|Capture)$/;function ne(e){let t;if(te.test(e)){let n;t={};while(n=e.match(te))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,i.Tg)(e.slice(2));return[n,t]}let re=0;const ie=Promise.resolve(),oe=()=>re||(ie.then((()=>re=0)),re=Date.now());function se(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,r.qL)(ae(e,n.value),t,5,[e])};return n.value=e,n.attached=oe(),n}function ae(e,t){if((0,i.cy)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const le=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ue=(e,t,n,r,o,s,a,l,u)=>{const c="svg"===o;"class"===t?L(e,r,c):"style"===t?Y(e,n,r):(0,i.Mp)(t)?(0,i.CP)(t)||ee(e,t,n,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):ce(e,t,r,c))?X(e,t,r,s,a,l,u):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),K(e,t,r,c))};function ce(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&le(t)&&(0,i.Tn)(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!le(t)||!(0,i.Kg)(n))&&t in e}
/*! #__NO_SIDE_EFFECTS__ */function he(e,t){const n=(0,r.pM)(e);class i extends pe{constructor(e){super(n,e,t)}}return i.def=n,i}
/*! #__NO_SIDE_EFFECTS__ */const de=e=>he(e,Ze),fe="undefined"!==typeof HTMLElement?HTMLElement:class{};class pe extends fe{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),(0,r.dY)((()=>{this._connected||(Qe(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})),this._ob.observe(this,{attributes:!0});const e=(e,t=!1)=>{const{props:n,styles:r}=e;let o;if(n&&!(0,i.cy)(n))for(const s in n){const e=n[s];(e===Number||e&&e.type===Number)&&(s in this._props&&(this._props[s]=(0,i.Ro)(this._props[s])),(o||(o=Object.create(null)))[(0,i.PT)(s)]=!0)}this._numberProps=o,t&&this._resolveProps(e),this._applyStyles(r),this._update()},t=this._def.__asyncLoader;t?t().then((t=>e(t,!0))):e(this._def)}_resolveProps(e){const{props:t}=e,n=(0,i.cy)(t)?t:Object.keys(t||{});for(const r of Object.keys(this))"_"!==r[0]&&n.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of n.map(i.PT))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(e){this._setProp(r,e)}})}_setAttr(e){let t=this.hasAttribute(e)?this.getAttribute(e):void 0;const n=(0,i.PT)(e);this._numberProps&&this._numberProps[n]&&(t=(0,i.Ro)(t)),this._setProp(n,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!0){t!==this._props[e]&&(this._props[e]=t,r&&this._instance&&this._update(),n&&(!0===t?this.setAttribute((0,i.Tg)(e),""):"string"===typeof t||"number"===typeof t?this.setAttribute((0,i.Tg)(e),t+""):t||this.removeAttribute((0,i.Tg)(e))))}_update(){Qe(this._createVNode(),this.shadowRoot)}_createVNode(){const e=(0,r.bF)(this._def,(0,i.X$)({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};e.emit=(e,...n)=>{t(e,n),(0,i.Tg)(e)!==e&&t((0,i.Tg)(e),n)};let n=this;while(n=n&&(n.parentNode||n.host))if(n instanceof pe){e.parent=n._instance,e.provides=n._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function me(e="$style"){{const t=(0,r.nI)();if(!t)return i.MZ;const n=t.type.__cssModules;if(!n)return i.MZ;const o=n[e];return o||i.MZ}}const ge=new WeakMap,ve=new WeakMap,ye=Symbol("_moveCb"),be=Symbol("_enterCb"),we={name:"TransitionGroup",props:(0,i.X$)({},g,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,r.nI)(),i=(0,r.Gy)();let s,a;return(0,r.$u)((()=>{if(!s.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!Me(s[0].el,n.vnode.el,t))return;s.forEach(Ee),s.forEach(Se);const r=s.filter(Te);N(),r.forEach((e=>{const n=e.el,r=n.style;E(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n[ye]=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n[ye]=null,S(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,o.ux)(e),u=b(l);let c=l.tag||r.FK;if(s=[],a)for(let e=0;e<a.length;e++){const t=a[e];t.el&&t.el instanceof Element&&(s.push(t),(0,r.MZ)(t,(0,r.OW)(t,u,i,n)),ge.set(t,t.el.getBoundingClientRect()))}a=t.default?(0,r.Df)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,r.MZ)(t,(0,r.OW)(t,u,i,n))}return(0,r.bF)(c,null,a)}}};we.props;const _e=we;function Ee(e){const t=e.el;t[ye]&&t[ye](),t[be]&&t[be]()}function Se(e){ve.set(e,e.el.getBoundingClientRect())}function Te(e){const t=ge.get(e),n=ve.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function Me(e,t,n){const r=e.cloneNode(),i=e[f];i&&i.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=R(r);return o.removeChild(r),s}const Ce=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,i.cy)(t)?e=>(0,i.DY)(t,e):t};function Re(e){e.target.composing=!0}function xe(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ae=Symbol("_assign"),Ne={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e[Ae]=Ce(o);const s=r||o.props&&"number"===o.props.type;J(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),s&&(r=(0,i.bB)(r)),e[Ae](r)})),n&&J(e,"change",(()=>{e.value=e.value.trim()})),t||(J(e,"compositionstart",Re),J(e,"compositionend",xe),J(e,"change",xe))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},s){if(e[Ae]=Ce(s),e.composing)return;const a=!o&&"number"!==e.type||/^0\d/.test(e.value)?e.value:(0,i.bB)(e.value),l=null==t?"":t;if(a!==l){if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===l)return}e.value=l}}},Le={deep:!0,created(e,t,n){e[Ae]=Ce(n),J(e,"change",(()=>{const t=e._modelValue,n=De(e),r=e.checked,o=e[Ae];if((0,i.cy)(t)){const e=(0,i.u3)(t,n),s=-1!==e;if(r&&!s)o(t.concat(n));else if(!r&&s){const n=[...t];n.splice(e,1),o(n)}}else if((0,i.vM)(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(Fe(e,r))}))},mounted:ke,beforeUpdate(e,t,n){e[Ae]=Ce(n),ke(e,t,n)}};function ke(e,{value:t,oldValue:n},r){e._modelValue=t,(0,i.cy)(t)?e.checked=(0,i.u3)(t,r.props.value)>-1:(0,i.vM)(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=(0,i.BX)(t,Fe(e,!0)))}const Oe={created(e,{value:t},n){e.checked=(0,i.BX)(t,n.props.value),e[Ae]=Ce(n),J(e,"change",(()=>{e[Ae](De(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e[Ae]=Ce(r),t!==n&&(e.checked=(0,i.BX)(t,r.props.value))}},Ie={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const s=(0,i.vM)(t);J(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?(0,i.bB)(De(e)):De(e)));e[Ae](e.multiple?s?new Set(t):t:t[0]),e._assigning=!0,(0,r.dY)((()=>{e._assigning=!1}))})),e[Ae]=Ce(o)},mounted(e,{value:t,modifiers:{number:n}}){Pe(e,t)},beforeUpdate(e,t,n){e[Ae]=Ce(n)},updated(e,{value:t,modifiers:{number:n}}){e._assigning||Pe(e,t)}};function Pe(e,t,n){const r=e.multiple,o=(0,i.cy)(t);if(!r||o||(0,i.vM)(t)){for(let n=0,s=e.options.length;n<s;n++){const s=e.options[n],a=De(s);if(r)if(o){const e=typeof a;s.selected="string"===e||"number"===e?t.some((e=>String(e)===String(a))):(0,i.u3)(t,a)>-1}else s.selected=t.has(a);else if((0,i.BX)(De(s),t))return void(e.selectedIndex!==n&&(e.selectedIndex=n))}r||-1===e.selectedIndex||(e.selectedIndex=-1)}}function De(e){return"_value"in e?e._value:e.value}function Fe(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const He={created(e,t,n){Be(e,t,n,null,"created")},mounted(e,t,n){Be(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Be(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Be(e,t,n,r,"updated")}};function Ue(e,t){switch(e){case"SELECT":return Ie;case"TEXTAREA":return Ne;default:switch(t){case"checkbox":return Le;case"radio":return Oe;default:return Ne}}}function Be(e,t,n,r,i){const o=Ue(e.tagName,n.props&&n.props.type),s=o[i];s&&s(e,t,n,r)}function je(){Ne.getSSRProps=({value:e})=>({value:e}),Oe.getSSRProps=({value:e},t)=>{if(t.props&&(0,i.BX)(t.props.value,e))return{checked:!0}},Le.getSSRProps=({value:e},t)=>{if((0,i.cy)(e)){if(t.props&&(0,i.u3)(e,t.props.value)>-1)return{checked:!0}}else if((0,i.vM)(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},He.getSSRProps=(e,t)=>{if("string"!==typeof t.type)return;const n=Ue(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0}}const Ye=["ctrl","shift","alt","meta"],Ve={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ye.some((n=>e[`${n}Key`]&&!t.includes(n)))},We=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=Ve[t[e]];if(r&&r(n,t))return}return e(n,...r)})},ze={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ge=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=(0,i.Tg)(n.key);return t.some((e=>e===r||ze[e]===r))?e(n):void 0})},$e=(0,i.X$)({patchProp:ue},c);let qe,Ke=!1;function Xe(){return qe||(qe=(0,r.K9)($e))}function Je(){return qe=Ke?qe:(0,r.ci)($e),Ke=!0,qe}const Qe=(...e)=>{Xe().render(...e)},Ze=(...e)=>{Je().hydrate(...e)},et=(...e)=>{const t=Xe().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=rt(e);if(!r)return;const o=t._component;(0,i.Tn)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,nt(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t},tt=(...e)=>{const t=Je().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=rt(e);if(t)return n(t,!0,nt(t))},t};function nt(e){return e instanceof SVGElement?"svg":"function"===typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function rt(e){if((0,i.Kg)(e)){const t=document.querySelector(e);return t}return e}let it=!1;const ot=()=>{it||(it=!0,je(),D())}},97700:function(e,t,n){"use strict";
/**
* @vue/shared v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function r(e,t){const n=new Set(e.split(","));return t?e=>n.has(e.toLowerCase()):e=>n.has(e)}n.d(t,{$3:function(){return f},$H:function(){return F},BH:function(){return z},BX:function(){return le},Bm:function(){return _},C4:function(){return Q},CE:function(){return m},CP:function(){return u},DY:function(){return H},Gv:function(){return E},J$:function(){return te},Kg:function(){return w},MZ:function(){return i},Mp:function(){return l},NO:function(){return a},Oj:function(){return o},PT:function(){return k},Qd:function(){return R},Ro:function(){return j},SU:function(){return A},TF:function(){return h},Tg:function(){return I},Tn:function(){return b},Tr:function(){return G},Vp:function(){return se},W0:function(){return ne},We:function(){return V},X$:function(){return c},Y2:function(){return re},ZH:function(){return P},Zf:function(){return C},_B:function(){return Z},bB:function(){return B},cy:function(){return p},gd:function(){return y},pD:function(){return r},rU:function(){return D},tE:function(){return s},tl:function(){return J},u3:function(){return ue},vM:function(){return g},v_:function(){return ce},wQ:function(){return ie},yI:function(){return x},yL:function(){return S},yQ:function(){return U},z3:function(){return oe}});const i={},o=[],s=()=>{},a=()=>!1,l=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),u=e=>e.startsWith("onUpdate:"),c=Object.assign,h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},d=Object.prototype.hasOwnProperty,f=(e,t)=>d.call(e,t),p=Array.isArray,m=e=>"[object Map]"===M(e),g=e=>"[object Set]"===M(e),v=e=>"[object Date]"===M(e),y=e=>"[object RegExp]"===M(e),b=e=>"function"===typeof e,w=e=>"string"===typeof e,_=e=>"symbol"===typeof e,E=e=>null!==e&&"object"===typeof e,S=e=>(E(e)||b(e))&&b(e.then)&&b(e.catch),T=Object.prototype.toString,M=e=>T.call(e),C=e=>M(e).slice(8,-1),R=e=>"[object Object]"===M(e),x=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,A=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},L=/-(\w)/g,k=N((e=>e.replace(L,((e,t)=>t?t.toUpperCase():"")))),O=/\B([A-Z])/g,I=N((e=>e.replace(O,"-$1").toLowerCase())),P=N((e=>e.charAt(0).toUpperCase()+e.slice(1))),D=N((e=>{const t=e?`on${P(e)}`:"";return t})),F=(e,t)=>!Object.is(e,t),H=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},U=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},B=e=>{const t=parseFloat(e);return isNaN(t)?e:t},j=e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t};let Y;const V=()=>Y||(Y="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const W="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",z=r(W);function G(e){if(p(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=w(r)?X(r):G(r);if(i)for(const e in i)t[e]=i[e]}return t}if(w(e)||E(e))return e}const $=/;(?![^(]*\))/g,q=/:([^]+)/,K=/\/\*[^]*?\*\//g;function X(e){const t={};return e.replace(K,"").split($).forEach((e=>{if(e){const n=e.split(q);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function J(e){let t="";if(!e||w(e))return t;for(const n in e){const r=e[n],i=n.startsWith("--")?n:I(n);(w(r)||"number"===typeof r)&&(t+=`${i}:${r};`)}return t}function Q(e){let t="";if(w(e))t=e;else if(p(e))for(let n=0;n<e.length;n++){const r=Q(e[n]);r&&(t+=r+" ")}else if(E(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Z(e){if(!e)return null;let{class:t,style:n}=e;return t&&!w(t)&&(e.class=Q(t)),n&&(e.style=G(n)),e}const ee="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",te=r(ee),ne=r(ee+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function re(e){return!!e||""===e}const ie=r("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),oe=r("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function se(e){if(null==e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t}function ae(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=le(e[r],t[r]);return n}function le(e,t){if(e===t)return!0;let n=v(e),r=v(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=_(e),r=_(t),n||r)return e===t;if(n=p(e),r=p(t),n||r)return!(!n||!r)&&ae(e,t);if(n=E(e),r=E(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!le(e[n],t[n]))return!1}}return String(e)===String(t)}function ue(e,t){return e.findIndex((e=>le(e,t)))}const ce=e=>w(e)?e:null==e?"":p(e)||E(e)&&(e.toString===T||!b(e.toString))?JSON.stringify(e,he,2):String(e),he=(e,t)=>t&&t.__v_isRef?he(e,t.value):m(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[de(t,r)+" =>"]=n,e)),{})}:g(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>de(e)))}:_(t)?de(t):!E(t)||p(t)||R(t)?t:String(t),de=(e,t="")=>{var n;return _(e)?`Symbol(${null!=(n=e.description)?n:t})`:e}},75473:function(e){const t="",n=["","","","","","","","","",""],r=["","","","","","",""];function i(e){let t="";const o=e.length,s=7;if(o>s){const t=o-s+1,n=e.slice(0,t),r=e.slice(t);return i(n)+""+i(r)}for(let i=0;i<o;i++){const s=e[i];s>0&&(t+=n[s]+r[o-i-1])}return t}function o(e){let t=e;t=t.replace("",""),t=t.replace("","");const n=5;return t.length>n&&t.length-t.lastIndexOf("")===n&&(t=t.substr(0,t.length-n)+""),t}function s(e,n){let r="";return r=""===e&&""===n?t:""!==e&&""===n?e+"":""===e&&""!==n?n+"":e+""+n+"",r}function a(e){let n=t;if(isNaN(e))return n;if(e>=Number.MAX_SAFE_INTEGER)return n;const r=Math.floor(e).toString(),a=Math.round(e%1*100).toString(),l=Array.from(r).map(Number),u=Array.from(a).map(Number);let c=i(l),h=i(u);return c=o(c),h=o(h),n=s(c,h),n}null!=e.exports&&(e.exports=a)},84856:function(e,t){(function(e){"undefined"===typeof DO_NOT_EXPORT_BESSEL?e(t):e({})})((function(e){e.version="1.0.2";var t=Math;function n(e,t){for(var n=0,r=0;n<e.length;++n)r=t*r+e[n];return r}function r(e,t,n,r,i){if(0===t)return n;if(1===t)return r;for(var o=2/e,s=r,a=1;a<t;++a)s=r*a*o+i*n,n=r,r=s;return s}function i(e,t,n,i,o){return function(n,s){if(i){if(0===n)return 1==i?-1/0:1/0;if(n<0)return NaN}if(0===s)return e(n);if(1===s)return t(n);if(s<0)return NaN;s|=0;var a=e(n),l=t(n);return r(n,s,a,l,o)}}var o=function(){var e=.636619772,i=[57568490574,-13362590354,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse(),o=[57568490411,1029532985,9494680.718,59272.64853,267.8532712,1].reverse(),s=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),a=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34935152e-8].reverse();function l(r){var l=0,u=0,c=0,h=r*r;if(r<8)u=n(i,h),c=n(o,h),l=u/c;else{var d=r-.785398164;h=64/h,u=n(s,h),c=n(a,h),l=t.sqrt(e/r)*(t.cos(d)*u-t.sin(d)*c*8/r)}return l}var u=[72362614232,-7895059235,242396853.1,-2972611.439,15704.4826,-30.16036606].reverse(),c=[144725228442,2300535178,18583304.74,99447.43394,376.9991397,1].reverse(),h=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),d=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();function f(r){var i=0,o=0,s=0,a=r*r,l=t.abs(r)-2.356194491;return Math.abs(r)<8?(o=r*n(u,a),s=n(c,a),i=o/s):(a=64/a,o=n(h,a),s=n(d,a),i=t.sqrt(e/t.abs(r))*(t.cos(l)*o-t.sin(l)*s*8/t.abs(r)),r<0&&(i=-i)),i}return function e(n,i){if(i=Math.round(i),!isFinite(n))return isNaN(n)?n:0;if(i<0)return(i%2?-1:1)*e(n,-i);if(n<0)return(i%2?-1:1)*e(-n,i);if(0===i)return l(n);if(1===i)return f(n);if(0===n)return 0;var o=0;if(n>i)o=r(n,i,l(n),f(n),-1);else{for(var s=2*t.floor((i+t.floor(t.sqrt(40*i)))/2),a=!1,u=0,c=0,h=1,d=0,p=2/n,m=s;m>0;m--)d=m*p*h-u,u=h,h=d,t.abs(h)>1e10&&(h*=1e-10,u*=1e-10,o*=1e-10,c*=1e-10),a&&(c+=h),a=!a,m==i&&(o=u);c=2*c-h,o/=c}return o}}(),s=function(){var e=.636619772,r=[-2957821389,7062834065,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse(),s=[40076544269,745249964.8,7189466.438,47447.2647,226.1030244,1].reverse(),a=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),l=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34945152e-8].reverse();function u(i){var u=0,c=0,h=0,d=i*i,f=i-.785398164;return i<8?(c=n(r,d),h=n(s,d),u=c/h+e*o(i,0)*t.log(i)):(d=64/d,c=n(a,d),h=n(l,d),u=t.sqrt(e/i)*(t.sin(f)*c+t.cos(f)*h*8/i)),u}var c=[-4900604943e3,127527439e4,-51534381390,734926455.1,-4237922.726,8511.937935].reverse(),h=[249958057e5,424441966400,3733650367,22459040.02,102042.605,354.9632885,1].reverse(),d=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),f=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();function p(r){var i=0,s=0,a=0,l=r*r,u=r-2.356194491;return r<8?(s=r*n(c,l),a=n(h,l),i=s/a+e*(o(r,1)*t.log(r)-1/r)):(l=64/l,s=n(d,l),a=n(f,l),i=t.sqrt(e/r)*(t.sin(u)*s+t.cos(u)*a*8/r)),i}return i(u,p,"BESSELY",1,-1)}(),a=function(){var e=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),r=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse();function i(i){return i<=3.75?n(e,i*i/14.0625):t.exp(t.abs(i))/t.sqrt(t.abs(i))*n(r,3.75/t.abs(i))}var o=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),s=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();function a(e){return e<3.75?e*n(o,e*e/14.0625):(e<0?-1:1)*t.exp(t.abs(e))/t.sqrt(t.abs(e))*n(s,3.75/t.abs(e))}return function e(n,r){if(r=Math.round(r),0===r)return i(n);if(1===r)return a(n);if(r<0)return NaN;if(0===t.abs(n))return 0;if(n==1/0)return 1/0;var o,s=0,l=2/t.abs(n),u=0,c=1,h=0,d=2*t.round((r+t.round(t.sqrt(40*r)))/2);for(o=d;o>0;o--)h=o*l*c+u,u=c,c=h,t.abs(c)>1e10&&(c*=1e-10,u*=1e-10,s*=1e-10),o==r&&(s=u);return s*=e(n,0)/c,n<0&&r%2?-s:s}}(),l=function(){var e=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),r=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse();function o(i){return i<=2?-t.log(i/2)*a(i,0)+n(e,i*i/4):t.exp(-i)/t.sqrt(i)*n(r,2/i)}var s=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),l=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();function u(e){return e<=2?t.log(e/2)*a(e,1)+1/e*n(s,e*e/4):t.exp(-e)/t.sqrt(e)*n(l,2/e)}return i(o,u,"BESSELK",2,1)}();e.besselj=o,e.bessely=s,e.besseli=a,e.besselk=l}))},62516:function(e,t,n){"use strict";n.d(t,{A:function(){return $}});var r=n(93947),i=n(12217),o=function(){if("undefined"!==typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),s={toTextLines:function(e){var t,n=[];e=[].concat(e);while(e.length)t=e.pop(),"string"===typeof t?n.unshift.apply(n,t.split("\n")):Array.isArray(t)?e.push.apply(e,t):(0,r.k)(e)||n.unshift(""+t);return n},textSize:function(e,t,n){var r,i=[].concat(t),o=i.length,s=e.font,a=0;for(e.font=n.string,r=0;r<o;++r)a=Math.max(e.measureText(i[r]).width,a);return e.font=s,{height:o*n.lineHeight,width:a}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n,r,i,o,s=e.slice(),a=[];for(n=0,i=t.length;n<i;++n)o=t[n],r=s.indexOf(o),-1===r?a.push([o,1]):s.splice(r,1);for(n=0,i=s.length;n<i;++n)a.push([s[n],-1]);return a},rasterize:function(e){return Math.round(e*o)/o}};function a(e,t){var n=t.x,r=t.y;if(null===n)return{x:0,y:-1};if(null===r)return{x:1,y:0};var i=e.x-n,o=e.y-r,s=Math.sqrt(i*i+o*o);return{x:s?i/s:0,y:s?o/s:-1}}function l(e,t,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i);break}return{x:e,y:t,vx:n,vy:r}}var u=0,c=1,h=2,d=4,f=8;function p(e,t,n){var r=u;return e<n.left?r|=c:e>n.right&&(r|=h),t<n.top?r|=f:t>n.bottom&&(r|=d),r}function m(e,t){var n,r,i,o=e.x0,s=e.y0,a=e.x1,l=e.y1,u=p(o,s,t),m=p(a,l,t);while(1){if(!(u|m)||u&m)break;n=u||m,n&f?(r=o+(a-o)*(t.top-s)/(l-s),i=t.top):n&d?(r=o+(a-o)*(t.bottom-s)/(l-s),i=t.bottom):n&h?(i=s+(l-s)*(t.right-o)/(a-o),r=t.right):n&c&&(i=s+(l-s)*(t.left-o)/(a-o),r=t.left),n===u?(o=r,s=i,u=p(o,s,t)):(a=r,l=i,m=p(a,l,t))}return{x0:o,x1:a,y0:s,y1:l}}function g(e,t){var n,r,i=t.anchor,o=e;return t.clamp&&(o=m(o,t.area)),"start"===i?(n=o.x0,r=o.y0):"end"===i?(n=o.x1,r=o.y1):(n=(o.x0+o.x1)/2,r=(o.y0+o.y1)/2),l(n,r,e.vx,e.vy,t.align)}var v={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),i=Math.sin(n),o=e.innerRadius,s=e.outerRadius;return g({x0:e.x+r*o,y0:e.y+i*o,x1:e.x+r*s,y1:e.y+i*s,vx:r,vy:i},t)},point:function(e,t){var n=a(e,t.origin),r=n.x*e.options.radius,i=n.y*e.options.radius;return g({x0:e.x-r,y0:e.y-i,x1:e.x+r,y1:e.y+i,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=a(e,t.origin),r=e.x,i=e.y,o=0,s=0;return e.horizontal?(r=Math.min(e.x,e.base),o=Math.abs(e.base-e.x)):(i=Math.min(e.y,e.base),s=Math.abs(e.base-e.y)),g({x0:r,y0:i+s,x1:r+o,y1:i,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=a(e,t.origin);return g({x0:e.x,y0:e.y,x1:e.x+(e.width||0),y1:e.y+(e.height||0),vx:n.x,vy:n.y},t)}},y=s.rasterize;function b(e){var t=e.borderWidth||0,n=e.padding,r=e.size.height,i=e.size.width,o=-i/2,s=-r/2;return{frame:{x:o-n.left-t,y:s-n.top-t,w:i+n.width+2*t,h:r+n.height+2*t},text:{x:o,y:s,w:i,h:r}}}function w(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return e.horizontal?{x:r,y:null}:{x:null,y:r}}function _(e){return e instanceof i.Bs?v.arc:e instanceof i.FN?v.point:e instanceof i.E8?v.bar:v.fallback}function E(e,t,n,r,i,o){var s=Math.PI/2;if(o){var a=Math.min(o,i/2,r/2),l=t+a,u=n+a,c=t+r-a,h=n+i-a;e.moveTo(t,u),l<c&&u<h?(e.arc(l,u,a,-Math.PI,-s),e.arc(c,u,a,-s,0),e.arc(c,h,a,0,s),e.arc(l,h,a,s,Math.PI)):l<c?(e.moveTo(l,n),e.arc(c,u,a,-s,s),e.arc(l,u,a,s,Math.PI+s)):u<h?(e.arc(l,u,a,-Math.PI,0),e.arc(l,h,a,0,Math.PI)):e.arc(l,u,a,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,i)}function S(e,t,n){var r=n.backgroundColor,i=n.borderColor,o=n.borderWidth;(r||i&&o)&&(e.beginPath(),E(e,y(t.x)+o/2,y(t.y)+o/2,y(t.w)-o,y(t.h)-o,n.borderRadius),e.closePath(),r&&(e.fillStyle=r,e.fill()),i&&o&&(e.strokeStyle=i,e.lineWidth=o,e.lineJoin="miter",e.stroke()))}function T(e,t,n){var r=n.lineHeight,i=e.w,o=e.x,s=e.y+r/2;return"center"===t?o+=i/2:"end"!==t&&"right"!==t||(o+=i),{h:r,w:i,x:o,y:s}}function M(e,t,n){var r=e.shadowBlur,i=n.stroked,o=y(n.x),s=y(n.y),a=y(n.w);i&&e.strokeText(t,o,s,a),n.filled&&(r&&i&&(e.shadowBlur=0),e.fillText(t,o,s,a),r&&i&&(e.shadowBlur=r))}function C(e,t,n,r){var i,o=r.textAlign,s=r.color,a=!!s,l=r.font,u=t.length,c=r.textStrokeColor,h=r.textStrokeWidth,d=c&&h;if(u&&(a||d))for(n=T(n,o,l),e.font=l.string,e.textAlign=o,e.textBaseline="middle",e.shadowBlur=r.textShadowBlur,e.shadowColor=r.textShadowColor,a&&(e.fillStyle=s),d&&(e.lineJoin="round",e.lineWidth=h,e.strokeStyle=c),i=0,u=t.length;i<u;++i)M(e,t[i],{stroked:d,filled:a,w:n.w,x:n.x,y:n.y+n.h*i})}var R=function(e,t,n,r){var i=this;i._config=e,i._index=r,i._model=null,i._rects=null,i._ctx=t,i._el=n};(0,r.a4)(R.prototype,{_modelize:function(e,t,n,i){var o=this,a=o._index,l=(0,r.a0)((0,r.a)([n.font,{}],i,a)),u=(0,r.a)([n.color,r.d.color],i,a);return{align:(0,r.a)([n.align,"center"],i,a),anchor:(0,r.a)([n.anchor,"center"],i,a),area:i.chart.chartArea,backgroundColor:(0,r.a)([n.backgroundColor,null],i,a),borderColor:(0,r.a)([n.borderColor,null],i,a),borderRadius:(0,r.a)([n.borderRadius,0],i,a),borderWidth:(0,r.a)([n.borderWidth,0],i,a),clamp:(0,r.a)([n.clamp,!1],i,a),clip:(0,r.a)([n.clip,!1],i,a),color:u,display:e,font:l,lines:t,offset:(0,r.a)([n.offset,4],i,a),opacity:(0,r.a)([n.opacity,1],i,a),origin:w(o._el,i),padding:(0,r.E)((0,r.a)([n.padding,4],i,a)),positioner:_(o._el),rotation:(0,r.a)([n.rotation,0],i,a)*(Math.PI/180),size:s.textSize(o._ctx,t,l),textAlign:(0,r.a)([n.textAlign,"start"],i,a),textShadowBlur:(0,r.a)([n.textShadowBlur,0],i,a),textShadowColor:(0,r.a)([n.textShadowColor,u],i,a),textStrokeColor:(0,r.a)([n.textStrokeColor,u],i,a),textStrokeWidth:(0,r.a)([n.textStrokeWidth,0],i,a)}},update:function(e){var t,n,i,o=this,a=null,l=null,u=o._index,c=o._config,h=(0,r.a)([c.display,!0],e,u);h&&(t=e.dataset.data[u],n=(0,r.v)((0,r.Q)(c.formatter,[t,e]),t),i=(0,r.k)(n)?[]:s.toTextLines(n),i.length&&(a=o._modelize(h,i,c,e),l=b(a))),o._model=a,o._rects=l},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n,r=this,i=e.ctx,o=r._model,a=r._rects;this.visible()&&(i.save(),o.clip&&(n=o.area,i.beginPath(),i.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),i.clip()),i.globalAlpha=s.bound(0,o.opacity,1),i.translate(y(t.x),y(t.y)),i.rotate(o.rotation),S(i,a.frame,o),C(i,o.lines,a.text,o),i.restore())}});var x=Number.MIN_SAFE_INTEGER||-9007199254740991,A=Number.MAX_SAFE_INTEGER||9007199254740991;function N(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t.x,s=t.y;return{x:o+r*(e.x-o)-i*(e.y-s),y:s+i*(e.x-o)+r*(e.y-s)}}function L(e,t){var n,r,i,o,s,a=A,l=x,u=t.origin;for(n=0;n<e.length;++n)r=e[n],i=r.x-u.x,o=r.y-u.y,s=t.vx*i+t.vy*o,a=Math.min(a,s),l=Math.max(l,s);return{min:a,max:l}}function k(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/i,vy:(t.y-e.y)/i,origin:e,ln:i}}var O=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function I(e,t,n){var r=t.positioner(e,t),i=r.vx,o=r.vy;if(!i&&!o)return{x:r.x,y:r.y};var s=n.w,a=n.h,l=t.rotation,u=Math.abs(s/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),c=Math.abs(s/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),h=1/Math.max(Math.abs(i),Math.abs(o));return u*=i*h,c*=o*h,u+=t.offset*i,c+=t.offset*o,{x:r.x+u,y:r.y+c}}function P(e,t){var n,r,i,o;for(n=e.length-1;n>=0;--n)for(i=e[n].$layout,r=n-1;r>=0&&i._visible;--r)o=e[r].$layout,o._visible&&i._box.intersects(o._box)&&t(i,o);return e}function D(e){var t,n,r,i,o,s,a;for(t=0,n=e.length;t<n;++t)r=e[t],i=r.$layout,i._visible&&(a=new Proxy(r._el,{get:(e,t)=>e.getProps([t],!0)[t]}),o=r.geometry(),s=I(a,r.model(),o),i._box.update(s,o,r.rotation()));return P(e,(function(e,t){var n=e._hidable,r=t._hidable;n&&r||r?t._visible=!1:n&&(e._visible=!1)}))}(0,r.a4)(O.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=1,r=t._rect;return e=N(e,t.center(),-t._rotation),!(e.x<r.x-n||e.y<r.y-n||e.x>r.x+r.w+2*n||e.y>r.y+r.h+2*n)},intersects:function(e){var t,n,r,i=this._points(),o=e._points(),s=[k(i[0],i[1]),k(i[0],i[3])];for(this._rotation!==e._rotation&&s.push(k(o[0],o[1]),k(o[0],o[3])),t=0;t<s.length;++t)if(n=L(i,s[t]),r=L(o,s[t]),n.max<r.min||r.max<n.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,r=e.center();return[N({x:t.x,y:t.y},r,n),N({x:t.x+t.w,y:t.y},r,n),N({x:t.x+t.w,y:t.y+t.h},r,n),N({x:t.x,y:t.y+t.h},r,n)]}});var F={prepare:function(e){var t,n,r,i,o,s=[];for(t=0,r=e.length;t<r;++t)for(n=0,i=e[t].length;n<i;++n)o=e[t][n],s.push(o),o.$layout={_box:new O,_hidable:!1,_visible:!0,_set:t,_idx:o._index};return s.sort((function(e,t){var n=e.$layout,r=t.$layout;return n._idx===r._idx?r._set-n._set:r._idx-n._idx})),this.update(s),s},update:function(e){var t,n,r,i,o,s=!1;for(t=0,n=e.length;t<n;++t)r=e[t],i=r.model(),o=r.$layout,o._hidable=i&&"auto"===i.display,o._visible=r.visible(),s|=o._hidable;s&&D(e)},lookup:function(e,t){var n,r;for(n=e.length-1;n>=0;--n)if(r=e[n].$layout,r&&r._visible&&r._box.contains(t))return e[n];return null},draw:function(e,t){var n,r,i,o,s,a;for(n=0,r=t.length;n<r;++n)i=t[n],o=i.$layout,o._visible&&(s=i.geometry(),a=I(i._el,i.model(),s),o._box.update(a,s,i.rotation()),i.draw(e,a))}},H=function(e){if((0,r.k)(e))return null;var t,n,i,o=e;if((0,r.i)(e))if((0,r.k)(e.label))if((0,r.k)(e.r))for(o="",t=Object.keys(e),i=0,n=t.length;i<n;++i)o+=(0!==i?", ":"")+t[i]+": "+e[t[i]];else o=e.r;else o=e.label;return""+o},U={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:H,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},B="$datalabels",j="$default";function Y(e,t){var n,i,o=e.datalabels,s={},a=[];return!1===o?null:(!0===o&&(o={}),t=(0,r.a4)({},[t,o]),n=t.labels||{},i=Object.keys(n),delete t.labels,i.length?i.forEach((function(e){n[e]&&a.push((0,r.a4)({},[t,n[e],{_key:e}]))})):a.push(t),s=a.reduce((function(e,t){return(0,r.F)(t.listeners||{},(function(n,r){e[r]=e[r]||{},e[r][t._key||j]=n})),delete t.listeners,e}),{}),{labels:a,listeners:s})}function V(e,t,n,i){if(t){var o,s=n.$context,a=n.$groups;t[a._set]&&(o=t[a._set][a._key],o&&!0===(0,r.Q)(o,[s,i])&&(e[B]._dirty=!0,n.update(s)))}}function W(e,t,n,r,i){var o,s;(n||r)&&(n?r?n!==r&&(s=o=!0):s=!0:o=!0,s&&V(e,t.leave,n,i),o&&V(e,t.enter,r,i))}function z(e,t){var n,r,i=e[B],o=i._listeners;if(o.enter||o.leave){if("mousemove"===t.type)r=F.lookup(i._labels,t);else if("mouseout"!==t.type)return;n=i._hovered,i._hovered=r,W(e,o,n,r,t)}}function G(e,t){var n=e[B],r=n._listeners.click,i=r&&F.lookup(n._labels,t);i&&V(e,r,i,t)}var $={id:"datalabels",defaults:U,beforeInit:function(e){e[B]={_actives:[]}},beforeUpdate:function(e){var t=e[B];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i,o,s,a,l,u,c,h,d=t.index,f=e[B],p=f._datasets[d]=[],m=e.isDatasetVisible(d),g=e.data.datasets[d],v=Y(g,n),y=t.meta.data||[],b=e.ctx;for(b.save(),i=0,s=y.length;i<s;++i)if(c=y[i],c[B]=[],m&&c&&e.getDataVisibility(i)&&!c.skip)for(o=0,a=v.labels.length;o<a;++o)l=v.labels[o],u=l._key,h=new R(l,b,c,i),h.$groups={_set:d,_key:u||j},h.$context={active:!1,chart:e,dataIndex:i,dataset:g,datasetIndex:d},h.update(h.$context),c[B].push(h),p.push(h);b.restore(),(0,r.a4)(f._listeners,v.listeners,{merger:function(e,n,r){n[e]=n[e]||{},n[e][t.index]=r[e],f._listened=!0}})},afterUpdate:function(e){e[B]._labels=F.prepare(e[B]._datasets)},afterDatasetsDraw:function(e){F.draw(e,e[B]._labels)},beforeEvent:function(e,t){if(e[B]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":z(e,n);break;case"click":G(e,n);break}}},afterEvent:function(e){var t,n,r,i,o,a,l,u=e[B],c=u._actives,h=u._actives=e.getActiveElements(),d=s.arrayDiff(c,h);for(t=0,n=d.length;t<n;++t)if(o=d[t],o[1])for(l=o[0].element[B]||[],r=0,i=l.length;r<i;++r)a=l[r],a.$context.active=1===o[1],a.update(a.$context);(u._dirty||d.length)&&(F.update(u._labels),e.render()),delete u._dirty}}},12697:function(e,t,n){"use strict";n.r(t),n.d(t,{Alternation:function(){return Je},Alternative:function(){return ze},CstParser:function(){return jr},EMPTY_ALT:function(){return Ur},EOF:function(){return He},EarlyExitException:function(){return Fn},EmbeddedActionsParser:function(){return Yr},GAstVisitor:function(){return rt},Lexer:function(){return Se},LexerDefinitionErrorType:function(){return we},MismatchedTokenException:function(){return In},NoViableAltException:function(){return Pn},NonTerminal:function(){return Ve},NotAllInputParsedException:function(){return Dn},Option:function(){return Ge},Parser:function(){return li},ParserDefinitionErrorType:function(){return Dr},Repetition:function(){return Ke},RepetitionMandatory:function(){return $e},RepetitionMandatoryWithSeparator:function(){return qe},RepetitionWithSeparator:function(){return Xe},Rule:function(){return We},Terminal:function(){return Qe},VERSION:function(){return r},assignOccurrenceIndices:function(){return Rn},clearCache:function(){return ai},createSyntaxDiagramsCode:function(){return Vr},createToken:function(){return De},createTokenInstance:function(){return Ue},defaultGrammarResolverErrorProvider:function(){return Et},defaultGrammarValidatorErrorProvider:function(){return St},defaultLexerErrorProvider:function(){return _e},defaultParserErrorProvider:function(){return _t},generateParserFactory:function(){return oi},generateParserModule:function(){return si},isRecognitionException:function(){return On},resolveGrammar:function(){return Mn},serializeGrammar:function(){return Ze},serializeProduction:function(){return et},tokenLabel:function(){return Te},tokenMatcher:function(){return Be},tokenName:function(){return Me},validateGrammar:function(){return Cn}});var r="7.0.1",i=n(73099),o=n(60738),s={},a=new o.RegExpParser;function l(e){var t=e.toString();if(s.hasOwnProperty(t))return s[t];var n=a.pattern(t);return s[t]=n,n}function u(){s={}}var c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h="Complement Sets are not supported for first char optimization",d='Unable to use "first char" lexer optimizations:\n';function f(e,t){void 0===t&&(t=!1);try{var n=l(e),r=p(n.value,{},n.flags.ignoreCase);return r}catch(a){if(a.message===h)t&&(0,i.x5)(d+"\tUnable to optimize: < "+e.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var s="";t&&(s="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),(0,i.Zi)(d+"\n\tFailed parsing: < "+e.toString()+" >\n\tUsing the regexp-to-ast library version: "+o.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+s)}}return[]}function p(e,t,n){switch(e.type){case"Disjunction":for(var r=0;r<e.value.length;r++)p(e.value[r],t,n);break;case"Alternative":var o=e.value;for(r=0;r<o.length;r++){var s=o[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var a=s;switch(a.type){case"Character":m(a.value,t,n);break;case"Set":if(!0===a.complement)throw Error(h);(0,i.jJ)(a.value,(function(e){if("number"===typeof e)m(e,t,n);else{var r=e;if(!0===n)for(var i=r.from;i<=r.to;i++)m(i,t,n);else{for(i=r.from;i<=r.to&&i<te;i++)m(i,t,n);if(r.to>=te)for(var o=r.from>=te?r.from:te,s=r.to,a=ne(o),l=ne(s),u=a;u<=l;u++)t[u]=u}}}));break;case"Group":p(a.value,t,n);break;default:throw Error("Non Exhaustive Match")}var l=void 0!==a.quantifier&&0===a.quantifier.atLeast;if("Group"===a.type&&!1===y(a)||"Group"!==a.type&&!1===l)break}break;default:throw Error("non exhaustive match!")}return(0,i.zu)(t)}function m(e,t,n){var r=ne(e);t[r]=r,!0===n&&g(e,t)}function g(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=ne(r.charCodeAt(0));t[i]=i}else{var o=n.toLowerCase();if(o!==n){i=ne(o.charCodeAt(0));t[i]=i}}}function v(e,t){return(0,i.I6)(e.value,(function(e){if("number"===typeof e)return(0,i.gR)(t,e);var n=e;return void 0!==(0,i.I6)(t,(function(e){return n.from<=e&&e<=n.to}))}))}function y(e){return!(!e.quantifier||0!==e.quantifier.atLeast)||!!e.value&&((0,i.cy)(e.value)?(0,i.Si)(e.value,y):y(e.value))}var b=function(e){function t(t){var n=e.call(this)||this;return n.targetCharCodes=t,n.found=!1,n}return c(t,e),t.prototype.visitChildren=function(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}e.prototype.visitChildren.call(this,t)}},t.prototype.visitCharacter=function(e){(0,i.gR)(this.targetCharCodes,e.value)&&(this.found=!0)},t.prototype.visitSet=function(e){e.complement?void 0===v(e,this.targetCharCodes)&&(this.found=!0):void 0!==v(e,this.targetCharCodes)&&(this.found=!0)},t}(o.BaseRegExpVisitor);function w(e,t){if(t instanceof RegExp){var n=l(t),r=new b(e);return r.visit(n),r.found}return void 0!==(0,i.I6)(t,(function(t){return(0,i.gR)(e,t.charCodeAt(0))}))}var _=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E="PATTERN",S="defaultMode",T="modes",M="boolean"===typeof new RegExp("(?:)").sticky;function C(e,t){t=(0,i.NT)(t,{useSticky:M,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}});var n,r=t.tracer;r("initCharCodeToOptimizedIndexMap",(function(){ie()})),r("Reject Lexer.NA",(function(){n=(0,i.ku)(e,(function(e){return e[E]===Se.NA}))}));var o,s,a,l,u,c,h,p,m,g,v,y=!1;r("Transform Patterns",(function(){y=!1,o=(0,i.Tj)(n,(function(e){var n=e[E];if((0,i.gd)(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||(0,i.gR)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?t.useSticky?W(n):V(n):r[1]:r}if((0,i.Tn)(n))return y=!0,{exec:n};if((0,i.zy)(n,"exec"))return y=!0,n;if("string"===typeof n){if(1===n.length)return n;var o=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=new RegExp(o);return t.useSticky?W(s):V(s)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){s=(0,i.Tj)(n,(function(e){return e.tokenTypeIdx})),a=(0,i.Tj)(n,(function(e){var t=e.GROUP;if(t!==Se.SKIPPED){if((0,i.Kg)(t))return t;if((0,i.b0)(t))return!1;throw Error("non exhaustive match")}})),l=(0,i.Tj)(n,(function(e){var t=e.LONGER_ALT;if(t){var r=(0,i.qh)(n,t);return r}})),u=(0,i.Tj)(n,(function(e){return e.PUSH_MODE})),c=(0,i.Tj)(n,(function(e){return(0,i.zy)(e,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var e=Z(t.lineTerminatorCharacters);h=(0,i.Tj)(n,(function(e){return!1})),"onlyOffset"!==t.positionTracking&&(h=(0,i.Tj)(n,(function(t){return(0,i.zy)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===J(t,e)?w(e,t.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){p=(0,i.Tj)(n,q),m=(0,i.Tj)(o,K),g=(0,i.TS)(n,(function(e,t){var n=t.GROUP;return(0,i.Kg)(n)&&n!==Se.SKIPPED&&(e[n]=[]),e}),{}),v=(0,i.Tj)(o,(function(e,t){return{pattern:o[t],longerAlt:l[t],canLineTerminator:h[t],isCustom:p[t],short:m[t],group:a[t],push:u[t],pop:c[t],tokenTypeIdx:s[t],tokenType:n[t]}}))}));var b=!0,_=[];return t.safeMode||r("First Char Optimization",(function(){_=(0,i.TS)(n,(function(e,n,r){if("string"===typeof n.PATTERN){var o=n.PATTERN.charCodeAt(0),s=ne(o);ee(e,s,v[r])}else if((0,i.cy)(n.START_CHARS_HINT)){var a;(0,i.jJ)(n.START_CHARS_HINT,(function(t){var n="string"===typeof t?t.charCodeAt(0):t,i=ne(n);a!==i&&(a=i,ee(e,i,v[r]))}))}else if((0,i.gd)(n.PATTERN))if(n.PATTERN.unicode)b=!1,t.ensureOptimizations&&(0,i.Zi)(d+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var l=f(n.PATTERN,t.ensureOptimizations);(0,i.Im)(l)&&(b=!1),(0,i.jJ)(l,(function(t){ee(e,t,v[r])}))}else t.ensureOptimizations&&(0,i.Zi)(d+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),b=!1;return e}),[])})),r("ArrayPacking",(function(){_=(0,i.VS)(_)})),{emptyGroups:g,patternIdxToConfig:v,charCodeToPatternIdxToConfig:_,hasCustom:y,canBeOptimized:b}}function R(e,t){var n=[],r=A(e);n=n.concat(r.errors);var i=N(r.valid),o=i.valid;return n=n.concat(i.errors),n=n.concat(x(o)),n=n.concat(H(o)),n=n.concat(U(o,t)),n=n.concat(B(o)),n}function x(e){var t=[],n=(0,i.pb)(e,(function(e){return(0,i.gd)(e[E])}));return t=t.concat(k(n)),t=t.concat(P(n)),t=t.concat(D(n)),t=t.concat(F(n)),t=t.concat(O(n)),t}function A(e){var t=(0,i.pb)(e,(function(e){return!(0,i.zy)(e,E)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:we.MISSING_PATTERN,tokenTypes:[e]}})),r=(0,i.iv)(e,t);return{errors:n,valid:r}}function N(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return!(0,i.gd)(t)&&!(0,i.Tn)(t)&&!(0,i.zy)(t,"exec")&&!(0,i.Kg)(t)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:we.INVALID_PATTERN,tokenTypes:[e]}})),r=(0,i.iv)(e,t);return{errors:n,valid:r}}var L=/[^\\][\$]/;function k(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return _(t,e),t.prototype.visitEndAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=(0,i.pb)(e,(function(e){var n=e[E];try{var r=l(n),i=new t;return i.visit(r),i.found}catch(o){return L.test(n.source)}})),r=(0,i.Tj)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:we.EOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}function O(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return t.test("")})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:we.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}));return n}var I=/[^\\[][\^]|^\^/;function P(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return _(t,e),t.prototype.visitStartAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=(0,i.pb)(e,(function(e){var n=e[E];try{var r=l(n),i=new t;return i.visit(r),i.found}catch(o){return I.test(n.source)}})),r=(0,i.Tj)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:we.SOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}function D(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return t instanceof RegExp&&(t.multiline||t.global)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:we.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}));return n}function F(e){var t=[],n=(0,i.Tj)(e,(function(n){return(0,i.TS)(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||(0,i.gR)(t,r)||r.PATTERN===Se.NA||(t.push(r),e.push(r)),e}),[])}));n=(0,i.oE)(n);var r=(0,i.pb)(n,(function(e){return e.length>1})),o=(0,i.Tj)(r,(function(e){var t=(0,i.Tj)(e,(function(e){return e.name})),n=(0,i.$1)(e).PATTERN;return{message:"The same RegExp pattern ->"+n+"<-has been used in all of the following Token Types: "+t.join(", ")+" <-",type:we.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}));return o}function H(e){var t=(0,i.pb)(e,(function(e){if(!(0,i.zy)(e,"GROUP"))return!1;var t=e.GROUP;return t!==Se.SKIPPED&&t!==Se.NA&&!(0,i.Kg)(t)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:we.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}));return n}function U(e,t){var n=(0,i.pb)(e,(function(e){return void 0!==e.PUSH_MODE&&!(0,i.gR)(t,e.PUSH_MODE)})),r=(0,i.Tj)(n,(function(e){var t="Token Type: ->"+e.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+e.PUSH_MODE+"<-which does not exist";return{message:t,type:we.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}));return r}function B(e){var t=[],n=(0,i.TS)(e,(function(e,t,n){var r=t.PATTERN;return r===Se.NA||((0,i.Kg)(r)?e.push({str:r,idx:n,tokenType:t}):(0,i.gd)(r)&&Y(r)&&e.push({str:r.source,idx:n,tokenType:t})),e}),[]);return(0,i.jJ)(e,(function(e,r){(0,i.jJ)(n,(function(n){var i=n.str,o=n.idx,s=n.tokenType;if(r<o&&j(i,e.PATTERN)){var a="Token: ->"+s.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+e.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";t.push({message:a,type:we.UNREACHABLE_PATTERN,tokenTypes:[e,s]})}}))})),t}function j(e,t){if((0,i.gd)(t)){var n=t.exec(e);return null!==n&&0===n.index}if((0,i.Tn)(t))return t(e,0,[],{});if((0,i.zy)(t,"exec"))return t.exec(e,0,[],{});if("string"===typeof t)return t===e;throw Error("non exhaustive match")}function Y(e){var t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return void 0===(0,i.I6)(t,(function(t){return-1!==e.source.indexOf(t)}))}function V(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:"+e.source+")",t)}function W(e){var t=e.ignoreCase?"iy":"y";return new RegExp(""+e.source,t)}function z(e,t,n){var r=[];return(0,i.zy)(e,S)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+S+"> property in its definition\n",type:we.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,i.zy)(e,T)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+T+"> property in its definition\n",type:we.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,i.zy)(e,T)&&(0,i.zy)(e,S)&&!(0,i.zy)(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a "+S+": <"+e.defaultMode+">which does not exist\n",type:we.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,i.zy)(e,T)&&(0,i.jJ)(e.modes,(function(e,t){(0,i.jJ)(e,(function(e,n){(0,i.b0)(e)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+t+"> at index: <"+n+">\n",type:we.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}function G(e,t,n){var r=[],o=!1,s=(0,i.oE)((0,i.Bq)((0,i.LG)(e.modes,(function(e){return e})))),a=(0,i.ku)(s,(function(e){return e[E]===Se.NA})),l=Z(n);return t&&(0,i.jJ)(a,(function(e){var t=J(e,l);if(!1!==t){var n=Q(e,t),s={message:n,type:t.issue,tokenType:e};r.push(s)}else(0,i.zy)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(o=!0):w(l,e.PATTERN)&&(o=!0)})),t&&!o&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:we.NO_LINE_BREAKS_FLAGS}),r}function $(e){var t={},n=(0,i.HP)(e);return(0,i.jJ)(n,(function(n){var r=e[n];if(!(0,i.cy)(r))throw Error("non exhaustive match");t[n]=[]})),t}function q(e){var t=e.PATTERN;if((0,i.gd)(t))return!1;if((0,i.Tn)(t))return!0;if((0,i.zy)(t,"exec"))return!0;if((0,i.Kg)(t))return!1;throw Error("non exhaustive match")}function K(e){return!(!(0,i.Kg)(e)||1!==e.length)&&e.charCodeAt(0)}var X={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function J(e,t){if((0,i.zy)(e,"LINE_BREAKS"))return!1;if((0,i.gd)(e.PATTERN)){try{w(t,e.PATTERN)}catch(n){return{issue:we.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if((0,i.Kg)(e.PATTERN))return!1;if(q(e))return{issue:we.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Q(e,t){if(t.issue===we.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+e.name+"> Token Type\n\t Root cause: "+t.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===we.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+e.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}function Z(e){var t=(0,i.Tj)(e,(function(e){return(0,i.Kg)(e)&&e.length>0?e.charCodeAt(0):e}));return t}function ee(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var te=256;function ne(e){return e<te?e:re[e]}var re=[];function ie(){if((0,i.Im)(re)){re=new Array(65536);for(var e=0;e<65536;e++)re[e]=e>255?255+~~(e/255):e}}function oe(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function se(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var ae=1,le={};function ue(e){var t=ce(e);he(t),fe(t),de(t),(0,i.jJ)(t,(function(e){e.isParent=e.categoryMatches.length>0}))}function ce(e){var t=(0,i.T9)(e),n=e,r=!0;while(r){n=(0,i.oE)((0,i.Bq)((0,i.Tj)(n,(function(e){return e.CATEGORIES}))));var o=(0,i.iv)(n,t);t=t.concat(o),(0,i.Im)(o)?r=!1:n=o}return t}function he(e){(0,i.jJ)(e,(function(e){me(e)||(le[ae]=e,e.tokenTypeIdx=ae++),ge(e)&&!(0,i.cy)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),ge(e)||(e.CATEGORIES=[]),ve(e)||(e.categoryMatches=[]),ye(e)||(e.categoryMatchesMap={})}))}function de(e){(0,i.jJ)(e,(function(e){e.categoryMatches=[],(0,i.jJ)(e.categoryMatchesMap,(function(t,n){e.categoryMatches.push(le[n].tokenTypeIdx)}))}))}function fe(e){(0,i.jJ)(e,(function(e){pe([],e)}))}function pe(e,t){(0,i.jJ)(e,(function(e){t.categoryMatchesMap[e.tokenTypeIdx]=!0})),(0,i.jJ)(t.CATEGORIES,(function(n){var r=e.concat(t);(0,i.gR)(r,n)||pe(r,n)}))}function me(e){return(0,i.zy)(e,"tokenTypeIdx")}function ge(e){return(0,i.zy)(e,"CATEGORIES")}function ve(e){return(0,i.zy)(e,"categoryMatches")}function ye(e){return(0,i.zy)(e,"categoryMatchesMap")}function be(e){return(0,i.zy)(e,"tokenTypeIdx")}var we,_e={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+", skipped "+n+" characters."}};(function(e){e[e["MISSING_PATTERN"]=0]="MISSING_PATTERN",e[e["INVALID_PATTERN"]=1]="INVALID_PATTERN",e[e["EOI_ANCHOR_FOUND"]=2]="EOI_ANCHOR_FOUND",e[e["UNSUPPORTED_FLAGS_FOUND"]=3]="UNSUPPORTED_FLAGS_FOUND",e[e["DUPLICATE_PATTERNS_FOUND"]=4]="DUPLICATE_PATTERNS_FOUND",e[e["INVALID_GROUP_TYPE_FOUND"]=5]="INVALID_GROUP_TYPE_FOUND",e[e["PUSH_MODE_DOES_NOT_EXIST"]=6]="PUSH_MODE_DOES_NOT_EXIST",e[e["MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE"]=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e["MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY"]=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e["MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST"]=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e["LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED"]=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e["SOI_ANCHOR_FOUND"]=11]="SOI_ANCHOR_FOUND",e[e["EMPTY_MATCH_PATTERN"]=12]="EMPTY_MATCH_PATTERN",e[e["NO_LINE_BREAKS_FLAGS"]=13]="NO_LINE_BREAKS_FLAGS",e[e["UNREACHABLE_PATTERN"]=14]="UNREACHABLE_PATTERN",e[e["IDENTIFY_TERMINATOR"]=15]="IDENTIFY_TERMINATOR",e[e["CUSTOM_LINE_BREAK"]=16]="CUSTOM_LINE_BREAK"})(we||(we={}));var Ee={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:_e,traceInitPerf:!1,skipValidations:!1};Object.freeze(Ee);var Se=function(){function e(e,t){var n=this;if(void 0===t&&(t=Ee),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"===typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=(0,i.h1)(Ee,t);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"===typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,o=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===Ee.lineTerminatorsPattern)n.config.lineTerminatorsPattern=X;else if(n.config.lineTerminatorCharacters===Ee.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),(0,i.cy)(e)?(r={modes:{}},r.modes[S]=(0,i.T9)(e),r[S]=S):(o=!1,r=(0,i.lR)(e))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(z(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(G(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},(0,i.jJ)(r.modes,(function(e,t){r.modes[t]=(0,i.ku)(e,(function(e){return(0,i.b0)(e)}))}));var s=(0,i.HP)(r.modes);if((0,i.jJ)(r.modes,(function(e,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var o;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(R(e,s))})),(0,i.Im)(n.lexerDefinitionErrors))&&(ue(e),n.TRACE_INIT("analyzeTokenTypes",(function(){o=C(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=o.charCodeToPatternIdxToConfig,n.emptyGroups=(0,i.h1)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=o.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!(0,i.Im)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var a=(0,i.Tj)(n.lexerDefinitionErrors,(function(e){return e.message})),l=a.join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+l)}(0,i.jJ)(n.lexerDefinitionWarning,(function(e){(0,i.x5)(e.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(M?(n.chopInput=i.zK,n.match=n.matchWithTest):(n.updateLastIndex=i.tE,n.match=n.matchWithExec),o&&(n.handleModes=i.tE),!1===n.trackStartLines&&(n.computeNewColumn=i.zK),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=i.tE),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var e=(0,i.TS)(n.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(t.ensureOptimizations&&!(0,i.Im)(e))throw Error("Lexer Modes: < "+e.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){u()})),n.TRACE_INIT("toFastProperties",(function(){(0,i.Bl)(n)}))}))}return e.prototype.tokenize=function(e,t){if(void 0===t&&(t=this.defaultMode),!(0,i.Im)(this.lexerDefinitionErrors)){var n=(0,i.Tj)(this.lexerDefinitionErrors,(function(e){return e.message})),r=n.join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+r)}var o=this.tokenizeInternal(e,t);return o},e.prototype.tokenizeInternal=function(e,t){var n,r,o,s,a,l,u,c,h,d,f,p,m,g,v=this,y=e,b=y.length,w=0,_=0,E=this.hasCustom?0:Math.floor(e.length/10),S=new Array(E),T=[],M=this.trackStartLines?1:void 0,C=this.trackStartLines?1:void 0,R=$(this.emptyGroups),x=this.trackStartLines,A=this.config.lineTerminatorsPattern,N=0,L=[],k=[],O=[],I=[];Object.freeze(I);var P=void 0;function D(){return L}function F(e){var t=ne(e),n=k[t];return void 0===n?I:n}var H,U=function(e){if(1===O.length&&void 0===e.tokenType.PUSH_MODE){var t=v.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);T.push({offset:e.startOffset,line:void 0!==e.startLine?e.startLine:void 0,column:void 0!==e.startColumn?e.startColumn:void 0,length:e.image.length,message:t})}else{O.pop();var n=(0,i.HV)(O);L=v.patternIdxToConfig[n],k=v.charCodeToPatternIdxToConfig[n],N=L.length;var r=v.canModeBeOptimized[n]&&!1===v.config.safeMode;P=k&&r?F:D}};function B(e){O.push(e),k=this.charCodeToPatternIdxToConfig[e],L=this.patternIdxToConfig[e],N=L.length,N=L.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;P=k&&t?F:D}B.call(this,t);while(w<b){a=null;var j=y.charCodeAt(w),Y=P(j),V=Y.length;for(n=0;n<V;n++){H=Y[n];var W=H.pattern;l=null;var z=H.short;if(!1!==z?j===z&&(a=W):!0===H.isCustom?(g=W.exec(y,w,S,R),null!==g?(a=g[0],void 0!==g.payload&&(l=g.payload)):a=null):(this.updateLastIndex(W,w),a=this.match(W,e,w)),null!==a){if(s=H.longerAlt,void 0!==s){var G=L[s],q=G.pattern;u=null,!0===G.isCustom?(g=q.exec(y,w,S,R),null!==g?(o=g[0],void 0!==g.payload&&(u=g.payload)):o=null):(this.updateLastIndex(q,w),o=this.match(q,e,w)),o&&o.length>a.length&&(a=o,l=u,H=G)}break}}if(null!==a){if(c=a.length,h=H.group,void 0!==h&&(d=H.tokenTypeIdx,f=this.createTokenInstance(a,w,d,H.tokenType,M,C,c),this.handlePayload(f,l),!1===h?_=this.addToken(S,_,f):R[h].push(f)),e=this.chopInput(e,c),w+=c,C=this.computeNewColumn(C,c),!0===x&&!0===H.canLineTerminator){var K=0,X=void 0,J=void 0;A.lastIndex=0;do{X=A.test(a),!0===X&&(J=A.lastIndex-1,K++)}while(!0===X);0!==K&&(M+=K,C=c-J,this.updateTokenEndLineColumnLocation(f,h,J,K,M,C,c))}this.handleModes(H,U,B,f)}else{var Q=w,Z=M,ee=C,te=!1;while(!te&&w<b)for(y.charCodeAt(w),e=this.chopInput(e,1),w++,r=0;r<N;r++){var re=L[r];W=re.pattern,z=re.short;if(!1!==z?y.charCodeAt(w)===z&&(te=!0):!0===re.isCustom?te=null!==W.exec(y,w,S,R):(this.updateLastIndex(W,w),te=null!==W.exec(e)),!0===te)break}p=w-Q,m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,Q,p,Z,ee),T.push({offset:Q,line:Z,column:ee,length:p,message:m})}}return this.hasCustom||(S.length=_),{tokens:S,groups:R,errors:T}},e.prototype.handleModes=function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)},e.prototype.chopInput=function(e,t){return e.substring(t)},e.prototype.updateLastIndex=function(e,t){e.lastIndex=t},e.prototype.updateTokenEndLineColumnLocation=function(e,t,n,r,i,o,s){var a,l;void 0!==t&&(a=n===s-1,l=a?-1:0,1===r&&!0===a||(e.endLine=i+l,e.endColumn=o-1-l))},e.prototype.computeNewColumn=function(e,t){return e+t},e.prototype.createTokenInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},e.prototype.createOffsetOnlyToken=function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}},e.prototype.createStartOnlyToken=function(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},e.prototype.createFullToken=function(e,t,n,r,i,o,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:r}},e.prototype.addToken=function(e,t,n){return 666},e.prototype.addTokenUsingPush=function(e,t,n){return e.push(n),t},e.prototype.addTokenUsingMemberAccess=function(e,t,n){return e[t]=n,t++,t},e.prototype.handlePayload=function(e,t){},e.prototype.handlePayloadNoCustom=function(e,t){},e.prototype.handlePayloadWithCustom=function(e,t){null!==t&&(e.payload=t)},e.prototype.match=function(e,t,n){return null},e.prototype.matchWithTest=function(e,t,n){var r=e.test(t);return!0===r?t.substring(n,e.lastIndex):null},e.prototype.matchWithExec=function(e,t){var n=e.exec(t);return null!==n?n[0]:n},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=(0,i.O1)(t),o=r.time,s=r.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,s}return t()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();function Te(e){return Ce(e)?e.LABEL:e.name}function Me(e){return e.name}function Ce(e){return(0,i.Kg)(e.LABEL)&&""!==e.LABEL}var Re="parent",xe="categories",Ae="label",Ne="group",Le="push_mode",ke="pop_mode",Oe="longer_alt",Ie="line_breaks",Pe="start_chars_hint";function De(e){return Fe(e)}function Fe(e){var t=e.pattern,n={};if(n.name=e.name,(0,i.b0)(t)||(n.PATTERN=t),(0,i.zy)(e,Re))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,i.zy)(e,xe)&&(n.CATEGORIES=e[xe]),ue([n]),(0,i.zy)(e,Ae)&&(n.LABEL=e[Ae]),(0,i.zy)(e,Ne)&&(n.GROUP=e[Ne]),(0,i.zy)(e,ke)&&(n.POP_MODE=e[ke]),(0,i.zy)(e,Le)&&(n.PUSH_MODE=e[Le]),(0,i.zy)(e,Oe)&&(n.LONGER_ALT=e[Oe]),(0,i.zy)(e,Ie)&&(n.LINE_BREAKS=e[Ie]),(0,i.zy)(e,Pe)&&(n.START_CHARS_HINT=e[Pe]),n}var He=De({name:"EOF",pattern:Se.NA});function Ue(e,t,n,r,i,o,s,a){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Be(e,t){return oe(e,t)}ue([He]);var je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(){function e(e){this.definition=e}return e.prototype.accept=function(e){e.visit(this),(0,i.jJ)(this.definition,(function(t){t.accept(e)}))},e}(),Ve=function(e){function t(t){var n=e.call(this,[])||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.accept=function(e){e.visit(this)},t}(Ye),We=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.orgText="",(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),ze=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.ignoreAmbiguities=!1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Ge=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),$e=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),qe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Ke=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Xe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Je=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Qe=function(){function e(e){this.idx=1,(0,i.kp)(this,(0,i.Up)(e,(function(e){return void 0!==e})))}return e.prototype.accept=function(e){e.visit(this)},e}();function Ze(e){return(0,i.Tj)(e,et)}function et(e){function t(e){return(0,i.Tj)(e,et)}if(e instanceof Ve)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof ze)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Ge)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof $e)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof qe)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:et(new Qe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Xe)return{type:"RepetitionWithSeparator",idx:e.idx,separator:et(new Qe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ke)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Je)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Qe){var n={type:"Terminal",name:e.terminalType.name,label:Te(e.terminalType),idx:e.idx},r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=(0,i.gd)(r)?r.source:r),n}if(e instanceof We)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}var tt=function(){function e(){}return e.prototype.walk=function(e,t){var n=this;void 0===t&&(t=[]),(0,i.jJ)(e.definition,(function(r,o){var s=(0,i.gv)(e.definition,o+1);if(r instanceof Ve)n.walkProdRef(r,s,t);else if(r instanceof Qe)n.walkTerminal(r,s,t);else if(r instanceof ze)n.walkFlat(r,s,t);else if(r instanceof Ge)n.walkOption(r,s,t);else if(r instanceof $e)n.walkAtLeastOne(r,s,t);else if(r instanceof qe)n.walkAtLeastOneSep(r,s,t);else if(r instanceof Xe)n.walkManySep(r,s,t);else if(r instanceof Ke)n.walkMany(r,s,t);else{if(!(r instanceof Je))throw Error("non exhaustive match");n.walkOr(r,s,t)}}))},e.prototype.walkTerminal=function(e,t,n){},e.prototype.walkProdRef=function(e,t,n){},e.prototype.walkFlat=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkOption=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkAtLeastOne=function(e,t,n){var r=[new Ge({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkAtLeastOneSep=function(e,t,n){var r=nt(e,t,n);this.walk(e,r)},e.prototype.walkMany=function(e,t,n){var r=[new Ge({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkManySep=function(e,t,n){var r=nt(e,t,n);this.walk(e,r)},e.prototype.walkOr=function(e,t,n){var r=this,o=t.concat(n);(0,i.jJ)(e.definition,(function(e){var t=new ze({definition:[e]});r.walk(t,o)}))},e}();function nt(e,t,n){var r=[new Ge({definition:[new Qe({terminalType:e.separator})].concat(e.definition)})],i=r.concat(t,n);return i}var rt=function(){function e(){}return e.prototype.visit=function(e){var t=e;switch(t.constructor){case Ve:return this.visitNonTerminal(t);case ze:return this.visitAlternative(t);case Ge:return this.visitOption(t);case $e:return this.visitRepetitionMandatory(t);case qe:return this.visitRepetitionMandatoryWithSeparator(t);case Xe:return this.visitRepetitionWithSeparator(t);case Ke:return this.visitRepetition(t);case Je:return this.visitAlternation(t);case Qe:return this.visitTerminal(t);case We:return this.visitRule(t);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(e){},e.prototype.visitAlternative=function(e){},e.prototype.visitOption=function(e){},e.prototype.visitRepetition=function(e){},e.prototype.visitRepetitionMandatory=function(e){},e.prototype.visitRepetitionMandatoryWithSeparator=function(e){},e.prototype.visitRepetitionWithSeparator=function(e){},e.prototype.visitAlternation=function(e){},e.prototype.visitTerminal=function(e){},e.prototype.visitRule=function(e){},e}(),it=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ot(e){return e instanceof ze||e instanceof Ge||e instanceof Ke||e instanceof $e||e instanceof qe||e instanceof Xe||e instanceof Qe||e instanceof We}function st(e,t){void 0===t&&(t=[]);var n=e instanceof Ge||e instanceof Ke||e instanceof Xe;return!!n||(e instanceof Je?(0,i.zN)(e.definition,(function(e){return st(e,t)})):!(e instanceof Ve&&(0,i.gR)(t,e))&&(e instanceof Ye&&(e instanceof Ve&&t.push(e),(0,i.Si)(e.definition,(function(e){return st(e,t)})))))}function at(e){return e instanceof Je}function lt(e){if(e instanceof Ve)return"SUBRULE";if(e instanceof Ge)return"OPTION";if(e instanceof Je)return"OR";if(e instanceof $e)return"AT_LEAST_ONE";if(e instanceof qe)return"AT_LEAST_ONE_SEP";if(e instanceof Xe)return"MANY_SEP";if(e instanceof Ke)return"MANY";if(e instanceof Qe)return"CONSUME";throw Error("non exhaustive match")}var ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.separator="-",t.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},t}return it(t,e),t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(e){var t=e.terminalType.name+this.separator+"Terminal";(0,i.zy)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitNonTerminal=function(e){var t=e.nonTerminalName+this.separator+"Terminal";(0,i.zy)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitOption=function(e){this.dslMethods.option.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.dslMethods.repetitionWithSeparator.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.dslMethods.repetitionMandatory.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)},t.prototype.visitRepetition=function(e){this.dslMethods.repetition.push(e)},t.prototype.visitAlternation=function(e){this.dslMethods.alternation.push(e)},t}(rt),ct=new ut;function ht(e){ct.reset(),e.accept(ct);var t=ct.dslMethods;return ct.reset(),t}function dt(e){if(e instanceof Ve)return dt(e.referencedRule);if(e instanceof Qe)return mt(e);if(ot(e))return ft(e);if(at(e))return pt(e);throw Error("non exhaustive match")}function ft(e){var t,n=[],r=e.definition,o=0,s=r.length>o,a=!0;while(s&&a)t=r[o],a=st(t),n=n.concat(dt(t)),o+=1,s=r.length>o;return(0,i.sb)(n)}function pt(e){var t=(0,i.Tj)(e.definition,(function(e){return dt(e)}));return(0,i.sb)((0,i.Bq)(t))}function mt(e){return[e.terminalType]}var gt="_~IN~_",vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(e){function t(t){var n=e.call(this)||this;return n.topProd=t,n.follows={},n}return vt(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(e,t,n){},t.prototype.walkProdRef=function(e,t,n){var r=wt(e.referencedRule,e.idx)+this.topProd.name,i=t.concat(n),o=new ze({definition:i}),s=dt(o);this.follows[r]=s},t}(tt);function bt(e){var t={};return(0,i.jJ)(e,(function(e){var n=new yt(e).startWalking();(0,i.kp)(t,n)})),t}function wt(e,t){return e.name+t+gt}var _t={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual,r=(e.previous,e.ruleName,Ce(t)),i=r?"--\x3e "+Te(t)+" <--":"token of type --\x3e "+t.name+" <--",o="Expecting "+i+" but found --\x3e '"+n.image+"' <--";return o},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;e.ruleName;return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,r=(e.previous,e.customUserDescription),o=(e.ruleName,"Expecting: "),s=(0,i.$1)(n).image,a="\nbut found: '"+s+"'";if(r)return o+r+a;var l=(0,i.TS)(t,(function(e,t){return e.concat(t)}),[]),u=(0,i.Tj)(l,(function(e){return"["+(0,i.Tj)(e,(function(e){return Te(e)})).join(", ")+"]"})),c=(0,i.Tj)(u,(function(e,t){return"  "+(t+1)+". "+e})),h="one of these possible Token sequences:\n"+c.join("\n");return o+h+a},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription,o=(e.ruleName,"Expecting: "),s=(0,i.$1)(n).image,a="\nbut found: '"+s+"'";if(r)return o+r+a;var l=(0,i.Tj)(t,(function(e){return"["+(0,i.Tj)(e,(function(e){return Te(e)})).join(",")+"]"})),u="expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+l.join(" ,")+">";return o+u+a}};Object.freeze(_t);var Et={buildRuleNotFoundError:function(e,t){var n="Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-";return n}},St={buildDuplicateFoundError:function(e,t){function n(e){return e instanceof Qe?e.terminalType.name:e instanceof Ve?e.nonTerminalName:""}var r=e.name,o=(0,i.$1)(t),s=o.idx,a=lt(o),l=n(o),u=s>0,c="->"+a+(u?s:"")+"<- "+(l?"with argument: ->"+l+"<-":"")+"\n                  appears more than once ("+t.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,"\n"),c},buildNamespaceConflictError:function(e){var t="Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.";return t},buildAlternationPrefixAmbiguityError:function(e){var t=(0,i.Tj)(e.prefixPath,(function(e){return Te(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.";return r},buildAlternationAmbiguityError:function(e){var t=(0,i.Tj)(e.prefixPath,(function(e){return Te(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r},buildEmptyRepetitionError:function(e){var t=lt(e.repetition);0!==e.repetition.idx&&(t+=e.repetition.idx);var n="The repetition <"+t+"> within Rule <"+e.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop.";return n},buildTokenNameError:function(e){var t=e.tokenType.name,n="Invalid Grammar Token name: ->"+t+"<- it must match the pattern: ->"+e.expectedPattern.toString()+"<-";return n},buildEmptyAlternationError:function(e){var t="Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+"> in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative.";return t},buildTooManyAlternativesError:function(e){var t="An Alternation cannot have more than 256 alternatives:\n<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\n has "+(e.alternation.definition.length+1)+" alternatives.";return t},buildLeftRecursionError:function(e){var t=e.topLevelRule.name,n=i.Tj(e.leftRecursionPath,(function(e){return e.name})),r=t+" --\x3e "+n.concat([t]).join(" --\x3e "),o="Left Recursion found in grammar.\nrule: <"+t+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+r+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.";return o},buildInvalidRuleNameError:function(e){var t=e.topLevelRule.name,n=e.expectedPattern.toString(),r="Invalid grammar rule name: ->"+t+"<- it must match the pattern: ->"+n+"<-";return r},buildDuplicateRuleNameError:function(e){var t;t=e.topLevelRule instanceof We?e.topLevelRule.name:e.topLevelRule;var n="Duplicate definition, rule: ->"+t+"<- is already defined in the grammar: ->"+e.grammarName+"<-";return n}},Tt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Mt(e,t){var n=new Ct(e,t);return n.resolveRefs(),n.errors}var Ct=function(e){function t(t,n){var r=e.call(this)||this;return r.nameToTopRule=t,r.errMsgProvider=n,r.errors=[],r}return Tt(t,e),t.prototype.resolveRefs=function(){var e=this;(0,i.jJ)((0,i.zu)(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))},t.prototype.visitNonTerminal=function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Dr.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}},t}(rt),Rt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xt=function(e){function t(t,n){var r=e.call(this)||this;return r.topProd=t,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return Rt(t,e),t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,i.T9)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,i.T9)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(t,n){void 0===n&&(n=[]),this.found||e.prototype.walk.call(this,t,n)},t.prototype.walkProdRef=function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}},t.prototype.updateExpectedNext=function(){(0,i.Im)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(tt),At=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return Rt(t,e),t.prototype.walkTerminal=function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new ze({definition:r});this.possibleTokTypes=dt(i),this.found=!0}},t}(xt),Nt=function(e){function t(t,n){var r=e.call(this)||this;return r.topRule=t,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return Rt(t,e),t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(tt),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.walkMany=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkMany.call(this,t,n,r)},t}(Nt),kt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.walkManySep=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkManySep.call(this,t,n,r)},t}(Nt),Ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.walkAtLeastOne=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOne.call(this,t,n,r)},t}(Nt),It=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.walkAtLeastOneSep=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOneSep.call(this,t,n,r)},t}(Nt);function Pt(e,t,n){void 0===n&&(n=[]),n=(0,i.T9)(n);var r=[],o=0;function s(t){return t.concat((0,i.gv)(e,o+1))}function a(e){var i=Pt(s(e),t,n);return r.concat(i)}while(n.length<t&&o<e.length){var l=e[o];if(l instanceof ze)return a(l.definition);if(l instanceof Ve)return a(l.definition);if(l instanceof Ge)r=a(l.definition);else{if(l instanceof $e){var u=l.definition.concat([new Ke({definition:l.definition})]);return a(u)}if(l instanceof qe){u=[new ze({definition:l.definition}),new Ke({definition:[new Qe({terminalType:l.separator})].concat(l.definition)})];return a(u)}if(l instanceof Xe){u=l.definition.concat([new Ke({definition:[new Qe({terminalType:l.separator})].concat(l.definition)})]);r=a(u)}else if(l instanceof Ke){u=l.definition.concat([new Ke({definition:l.definition})]);r=a(u)}else{if(l instanceof Je)return(0,i.jJ)(l.definition,(function(e){r=a(e.definition)})),r;if(!(l instanceof Qe))throw Error("non exhaustive match");n.push(l.terminalType)}}o++}return r.push({partialPath:n,suffixDef:(0,i.gv)(e,o)}),r}function Dt(e,t,n,r){var o="EXIT_NONE_TERMINAL",s=[o],a="EXIT_ALTERNATIVE",l=!1,u=t.length,c=u-r-1,h=[],d=[];d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});while(!(0,i.Im)(d)){var f=d.pop();if(f!==a){var p=f.def,m=f.idx,g=f.ruleStack,v=f.occurrenceStack;if(!(0,i.Im)(p)){var y=p[0];if(y===o){var b={idx:m,def:(0,i.gv)(p),ruleStack:(0,i.gc)(g),occurrenceStack:(0,i.gc)(v)};d.push(b)}else if(y instanceof Qe)if(m<u-1){var w=m+1,_=t[w];if(n(_,y.terminalType)){b={idx:w,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(b)}}else{if(m!==u-1)throw Error("non exhaustive match");h.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:g,occurrenceStack:v}),l=!0}else if(y instanceof Ve){var E=(0,i.T9)(g);E.push(y.nonTerminalName);var S=(0,i.T9)(v);S.push(y.idx);b={idx:m,def:y.definition.concat(s,(0,i.gv)(p)),ruleStack:E,occurrenceStack:S};d.push(b)}else if(y instanceof Ge){var T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);var M={idx:m,def:y.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof $e){var C=new Ke({definition:y.definition,idx:y.idx}),R=y.definition.concat([C],(0,i.gv)(p));b={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(b)}else if(y instanceof qe){var x=new Qe({terminalType:y.separator});C=new Ke({definition:[x].concat(y.definition),idx:y.idx}),R=y.definition.concat([C],(0,i.gv)(p)),b={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(b)}else if(y instanceof Xe){T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);x=new Qe({terminalType:y.separator});var A=new Ke({definition:[x].concat(y.definition),idx:y.idx});R=y.definition.concat([A],(0,i.gv)(p)),M={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof Ke){T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);A=new Ke({definition:y.definition,idx:y.idx}),R=y.definition.concat([A],(0,i.gv)(p)),M={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof Je)for(var N=y.definition.length-1;N>=0;N--){var L=y.definition[N],k={idx:m,def:L.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v};d.push(k),d.push(a)}else if(y instanceof ze)d.push({idx:m,def:y.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v});else{if(!(y instanceof We))throw Error("non exhaustive match");d.push(Ft(y,m,g,v))}}}else l&&(0,i.HV)(d).idx<=c&&d.pop()}return h}function Ft(e,t,n,r){var o=(0,i.T9)(n);o.push(e.name);var s=(0,i.T9)(r);return s.push(1),{idx:t,def:e.definition,ruleStack:o,occurrenceStack:s}}var Ht,Ut=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Bt(e){if(e instanceof Ge)return Ht.OPTION;if(e instanceof Ke)return Ht.REPETITION;if(e instanceof $e)return Ht.REPETITION_MANDATORY;if(e instanceof qe)return Ht.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Xe)return Ht.REPETITION_WITH_SEPARATOR;if(e instanceof Je)return Ht.ALTERNATION;throw Error("non exhaustive match")}function jt(e,t,n,r,i,o){var s=Jt(e,t,n),a=tn(s)?se:oe;return o(s,r,a,i)}function Yt(e,t,n,r,i,o){var s=Qt(e,t,i,n),a=tn(s)?se:oe;return o(s[0],a,r)}function Vt(e,t,n,r){var o=e.length,s=(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=(0,i.Tj)(t,(function(e){return e.GATE})),s=0;s<o;s++){var a=e[s],l=a.length,u=r[s];if(void 0===u||!1!==u.call(this))e:for(var c=0;c<l;c++){for(var h=a[c],d=h.length,f=0;f<d;f++){var p=this.LA(f+1);if(!1===n(p,h[f]))continue e}return s}}};if(s&&!r){var a=(0,i.Tj)(e,(function(e){return(0,i.Bq)(e)})),l=(0,i.TS)(a,(function(e,t,n){return(0,i.jJ)(t,(function(t){(0,i.zy)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),(0,i.jJ)(t.categoryMatches,(function(t){(0,i.zy)(e,t)||(e[t]=n)}))})),e}),[]);return function(){var e=this.LA(1);return l[e.tokenTypeIdx]}}return function(){for(var t=0;t<o;t++){var r=e[t],i=r.length;e:for(var s=0;s<i;s++){for(var a=r[s],l=a.length,u=0;u<l;u++){var c=this.LA(u+1);if(!1===n(c,a[u]))continue e}return t}}}}function Wt(e,t,n){var r=(0,i.Si)(e,(function(e){return 1===e.length})),o=e.length;if(r&&!n){var s=(0,i.Bq)(e);if(1===s.length&&(0,i.Im)(s[0].categoryMatches)){var a=s[0],l=a.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===l}}var u=(0,i.TS)(s,(function(e,t,n){return e[t.tokenTypeIdx]=!0,(0,i.jJ)(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===u[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<o;n++){for(var r=e[n],i=r.length,s=0;s<i;s++){var a=this.LA(s+1);if(!1===t(a,r[s]))continue e}return!0}return!1}}(function(e){e[e["OPTION"]=0]="OPTION",e[e["REPETITION"]=1]="REPETITION",e[e["REPETITION_MANDATORY"]=2]="REPETITION_MANDATORY",e[e["REPETITION_MANDATORY_WITH_SEPARATOR"]=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e["REPETITION_WITH_SEPARATOR"]=4]="REPETITION_WITH_SEPARATOR",e[e["ALTERNATION"]=5]="ALTERNATION"})(Ht||(Ht={}));var zt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.topProd=t,i.targetOccurrence=n,i.targetProdType=r,i}return Ut(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)},t.prototype.walkOption=function(t,n,r){this.checkIsTarget(t,Ht.OPTION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOne=function(t,n,r){this.checkIsTarget(t,Ht.REPETITION_MANDATORY,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOneSep=function(t,n,r){this.checkIsTarget(t,Ht.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkMany=function(t,n,r){this.checkIsTarget(t,Ht.REPETITION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkManySep=function(t,n,r){this.checkIsTarget(t,Ht.REPETITION_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t}(tt),Gt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.targetOccurrence=t,i.targetProdType=n,i.targetRef=r,i.result=[],i}return Ut(t,e),t.prototype.checkIsTarget=function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)},t.prototype.visitOption=function(e){this.checkIsTarget(e,Ht.OPTION)},t.prototype.visitRepetition=function(e){this.checkIsTarget(e,Ht.REPETITION)},t.prototype.visitRepetitionMandatory=function(e){this.checkIsTarget(e,Ht.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.checkIsTarget(e,Ht.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(e){this.checkIsTarget(e,Ht.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(e){this.checkIsTarget(e,Ht.ALTERNATION)},t}(rt);function $t(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function qt(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<t.length;o++){var s=t[o];i.push(s+"_"+r.tokenTypeIdx);for(var a=0;a<r.categoryMatches.length;a++){var l="_"+r.categoryMatches[a];i.push(s+l)}}t=i}return t}function Kt(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],o=0;o<t.length;o++){var s=t[o];if(!0===i[s])return!1}return!0}function Xt(e,t){for(var n=(0,i.Tj)(e,(function(e){return Pt([e],1)})),r=$t(n.length),o=(0,i.Tj)(n,(function(e){var t={};return(0,i.jJ)(e,(function(e){var n=qt(e.partialPath);(0,i.jJ)(n,(function(e){t[e]=!0}))})),t})),s=n,a=1;a<=t;a++){var l=s;s=$t(l.length);for(var u=function(e){for(var n=l[e],u=0;u<n.length;u++){var c=n[u].partialPath,h=n[u].suffixDef,d=qt(c),f=Kt(o,d,e);if(f||(0,i.Im)(h)||c.length===t){var p=r[e];if(!1===Zt(p,c)){p.push(c);for(var m=0;m<d.length;m++){var g=d[m];o[e][g]=!0}}}else{var v=Pt(h,a+1,c);s[e]=s[e].concat(v),(0,i.jJ)(v,(function(t){var n=qt(t.partialPath);(0,i.jJ)(n,(function(t){o[e][t]=!0}))}))}}},c=0;c<l.length;c++)u(c)}return r}function Jt(e,t,n,r){var i=new Gt(e,Ht.ALTERNATION,r);return t.accept(i),Xt(i.result,n)}function Qt(e,t,n,r){var i=new Gt(e,n);t.accept(i);var o=i.result,s=new zt(t,e,n),a=s.startWalking(),l=new ze({definition:o}),u=new ze({definition:a});return Xt([l,u],r)}function Zt(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var o=t[i],s=r[i],a=o===s||void 0!==s.categoryMatchesMap[o.tokenTypeIdx];if(!1===a)continue e}return!0}}return!1}function en(e,t){return e.length<t.length&&(0,i.Si)(e,(function(e,n){var r=t[n];return e===r||r.categoryMatchesMap[e.tokenTypeIdx]}))}function tn(e){return(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return(0,i.Im)(e.categoryMatches)}))}))}))}var nn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function rn(e,t,n,r,o){var s=i.Tj(e,(function(e){return on(e,r)})),a=i.Tj(e,(function(e){return pn(e,e,r)})),l=[],u=[],c=[];(0,i.Si)(a,i.Im)&&(l=(0,i.Tj)(e,(function(e){return vn(e,r)})),u=(0,i.Tj)(e,(function(e){return yn(e,t,r)})),c=_n(e,t,r));var h=Tn(e,n,r),d=i.Tj(n,(function(e){return hn(e,r)})),f=(0,i.Tj)(e,(function(e){return wn(e,r)})),p=(0,i.Tj)(e,(function(e){return cn(e,r)})),m=(0,i.Tj)(e,(function(t){return dn(t,e,o,r)}));return i.Bq(s.concat(d,c,a,l,u,h,f,p,m))}function on(e,t){var n=new ln;e.accept(n);var r=n.allProductions,o=i.$z(r,sn),s=i.Up(o,(function(e){return e.length>1})),a=i.Tj(i.zu(s),(function(n){var r=i.$1(n),o=t.buildDuplicateFoundError(e,n),s=lt(r),a={message:o,type:Dr.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:s,occurrence:r.idx},l=an(r);return l&&(a.parameter=l),a}));return a}function sn(e){return lt(e)+"_#_"+e.idx+"_#_"+an(e)}function an(e){return e instanceof Qe?e.terminalType.name:e instanceof Ve?e.nonTerminalName:""}var ln=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return nn(t,e),t.prototype.visitNonTerminal=function(e){this.allProductions.push(e)},t.prototype.visitOption=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t.prototype.visitAlternation=function(e){this.allProductions.push(e)},t.prototype.visitTerminal=function(e){this.allProductions.push(e)},t}(rt),un=/^[a-zA-Z_]\w*$/;function cn(e,t){var n=[],r=e.name;return r.match(un)||n.push({message:t.buildInvalidRuleNameError({topLevelRule:e,expectedPattern:un}),type:Dr.INVALID_RULE_NAME,ruleName:r}),n}function hn(e,t){var n=[],r=e.name;return r.match(un)||n.push({message:t.buildTokenNameError({tokenType:e,expectedPattern:un}),type:Dr.INVALID_TOKEN_NAME}),n}function dn(e,t,n,r){var o=[],s=(0,i.TS)(t,(function(t,n){return n.name===e.name?t+1:t}),0);if(s>1){var a=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});o.push({message:a,type:Dr.DUPLICATE_RULE_NAME,ruleName:e.name})}return o}function fn(e,t,n){var r,o=[];return i.gR(t,e)||(r="Invalid rule override, rule: ->"+e+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",o.push({message:r,type:Dr.INVALID_RULE_OVERRIDE,ruleName:e})),o}function pn(e,t,n,r){void 0===r&&(r=[]);var o=[],s=mn(t.definition);if(i.Im(s))return[];var a=e.name,l=i.gR(s,e);l&&o.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Dr.LEFT_RECURSION,ruleName:a});var u=i.iv(s,r.concat([e])),c=i.Tj(u,(function(t){var o=i.T9(r);return o.push(t),pn(e,t,n,o)}));return o.concat(i.Bq(c))}function mn(e){var t=[];if(i.Im(e))return t;var n=i.$1(e);if(n instanceof Ve)t.push(n.referencedRule);else if(n instanceof ze||n instanceof Ge||n instanceof $e||n instanceof qe||n instanceof Xe||n instanceof Ke)t=t.concat(mn(n.definition));else if(n instanceof Je)t=i.Bq(i.Tj(n.definition,(function(e){return mn(e.definition)})));else if(!(n instanceof Qe))throw Error("non exhaustive match");var r=st(n),o=e.length>1;if(r&&o){var s=i.gv(e);return t.concat(mn(s))}return t}var gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alternations=[],t}return nn(t,e),t.prototype.visitAlternation=function(e){this.alternations.push(e)},t}(rt);function vn(e,t){var n=new gn;e.accept(n);var r=n.alternations,o=i.TS(r,(function(n,r){var o=i.gc(r.definition),s=i.Tj(o,(function(n,o){var s=Dt([n],[],null,1);return i.Im(s)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:o}),type:Dr.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:o+1}:null}));return n.concat(i.oE(s))}),[]);return o}function yn(e,t,n){var r=new gn;e.accept(r);var o=r.alternations;o=(0,i.ku)(o,(function(e){return!0===e.ignoreAmbiguities}));var s=i.TS(o,(function(r,i){var o=i.idx,s=i.maxLookahead||t,a=Jt(o,e,s,i),l=En(a,i,e,n),u=Sn(a,i,e,n);return r.concat(l,u)}),[]);return s}var bn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return nn(t,e),t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t}(rt);function wn(e,t){var n=new gn;e.accept(n);var r=n.alternations,o=i.TS(r,(function(n,r){return r.definition.length>255&&n.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:Dr.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}),n}),[]);return o}function _n(e,t,n){var r=[];return(0,i.jJ)(e,(function(e){var o=new bn;e.accept(o);var s=o.allProductions;(0,i.jJ)(s,(function(o){var s=Bt(o),a=o.maxLookahead||t,l=o.idx,u=Qt(l,e,s,a),c=u[0];if((0,i.Im)((0,i.Bq)(c))){var h=n.buildEmptyRepetitionError({topLevelRule:e,repetition:o});r.push({message:h,type:Dr.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}function En(e,t,n,r){var o=[],s=(0,i.TS)(e,(function(n,r,s){return!0===t.definition[s].ignoreAmbiguities||(0,i.jJ)(r,(function(r){var a=[s];(0,i.jJ)(e,(function(e,n){s!==n&&Zt(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&a.push(n)})),a.length>1&&!Zt(o,r)&&(o.push(r),n.push({alts:a,path:r}))})),n}),[]),a=i.Tj(s,(function(e){var o=(0,i.Tj)(e.alts,(function(e){return e+1})),s=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:o,prefixPath:e.path});return{message:s,type:Dr.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[e.alts]}}));return a}function Sn(e,t,n,r){var o=[],s=(0,i.TS)(e,(function(e,t,n){var r=(0,i.Tj)(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]);return(0,i.jJ)(s,(function(e){var a=t.definition[e.idx];if(!0!==a.ignoreAmbiguities){var l=e.idx,u=e.path,c=(0,i.JW)(s,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<l&&en(e.path,u)})),h=(0,i.Tj)(c,(function(e){var i=[e.idx+1,l+1],o=0===t.idx?"":t.idx,s=r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path});return{message:s,type:Dr.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));o=o.concat(h)}})),o}function Tn(e,t,n){var r=[],o=(0,i.Tj)(t,(function(e){return e.name}));return(0,i.jJ)(e,(function(e){var t=e.name;if((0,i.gR)(o,t)){var s=n.buildNamespaceConflictError(e);r.push({message:s,type:Dr.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}function Mn(e){e=(0,i.NT)(e,{errMsgProvider:Et});var t={};return(0,i.jJ)(e.rules,(function(e){t[e.name]=e})),Mt(t,e.errMsgProvider)}function Cn(e){return e=(0,i.NT)(e,{errMsgProvider:St}),rn(e.rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)}function Rn(e){(0,i.jJ)(e.rules,(function(e){var t=new ut;e.accept(t),(0,i.jJ)(t.dslMethods,(function(e){(0,i.jJ)(e,(function(e,t){e.idx=t+1}))}))}))}var xn="MismatchedTokenException",An="NoViableAltException",Nn="EarlyExitException",Ln="NotAllInputParsedException",kn=[xn,An,Nn,Ln];function On(e){return(0,i.gR)(kn,e.name)}function In(e,t,n){this.name=xn,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}function Pn(e,t,n){this.name=An,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}function Dn(e,t){this.name=Ln,this.message=e,this.token=t,this.resyncedTokens=[]}function Fn(e,t,n){this.name=Nn,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(kn),In.prototype=Error.prototype,Pn.prototype=Error.prototype,Dn.prototype=Error.prototype,Fn.prototype=Error.prototype;var Hn={},Un="InRuleRecoveryException";function Bn(e){this.name=Un,this.message=e}Bn.prototype=Error.prototype;var jn=function(){function e(){}return e.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,i.zy)(e,"recoveryEnabled")?e.recoveryEnabled:Fr.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Yn)},e.prototype.getTokenToInsert=function(e){var t=Ue(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t},e.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},e.prototype.tryInRepetitionRecovery=function(e,t,n,r){var o=this,s=this.findReSyncTokenType(),a=this.exportLexerState(),l=[],u=!1,c=this.LA(1),h=this.LA(1),d=function(){var e=o.LA(0),t=o.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:e,ruleName:o.getCurrRuleFullName()}),n=new In(t,c,o.LA(0));n.resyncedTokens=(0,i.gc)(l),o.SAVE_ERROR(n)};while(!u){if(this.tokenMatcher(h,r))return void d();if(n.call(this))return d(),void e.apply(this,t);this.tokenMatcher(h,s)?u=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,l))}this.importLexerState(a)},e.prototype.shouldInRepetitionRecoveryBeTried=function(e,t,n){return!1!==n&&(void 0!==e&&void 0!==t&&(!this.tokenMatcher(this.LA(1),e)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))))},e.prototype.getFollowsForInRuleRecovery=function(e,t){var n=this.getCurrentGrammarPath(e,t),r=this.getNextPossibleTokenTypes(n);return r},e.prototype.tryInRuleRecovery=function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t)){var n=this.getTokenToInsert(e);return n}if(this.canRecoverWithSingleTokenDeletion(e)){var r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new Bn("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)},e.prototype.canRecoverWithSingleTokenInsertion=function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if((0,i.Im)(t))return!1;var r=this.LA(1),o=void 0!==(0,i.I6)(t,(function(e){return n.tokenMatcher(r,e)}));return o},e.prototype.canRecoverWithSingleTokenDeletion=function(e){var t=this.tokenMatcher(this.LA(2),e);return t},e.prototype.isInCurrentRuleReSyncSet=function(e){var t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return(0,i.gR)(n,e)},e.prototype.findReSyncTokenType=function(){var e=this.flattenFollowSet(),t=this.LA(1),n=2;while(1){var r=t.tokenType;if((0,i.gR)(e,r))return r;t=this.LA(n),n++}},e.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return Hn;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}},e.prototype.buildFullFollowKeyStack=function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return(0,i.Tj)(t,(function(r,i){return 0===i?Hn:{ruleName:e.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:e.shortRuleNameToFullName(t[i-1])}}))},e.prototype.flattenFollowSet=function(){var e=this,t=(0,i.Tj)(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)}));return(0,i.Bq)(t)},e.prototype.getFollowSetFromFollowKey=function(e){if(e===Hn)return[He];var t=e.ruleName+e.idxInCallingRule+gt+e.inRule;return this.resyncFollows[t]},e.prototype.addToResyncTokens=function(e,t){return this.tokenMatcher(e,He)||t.push(e),t},e.prototype.reSyncTo=function(e){var t=[],n=this.LA(1);while(!1===this.tokenMatcher(n,e))n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return(0,i.gc)(t)},e.prototype.attemptInRepetitionRecovery=function(e,t,n,r,i,o,s){},e.prototype.getCurrentGrammarPath=function(e,t){var n=this.getHumanReadableRuleStack(),r=(0,i.T9)(this.RULE_OCCURRENCE_STACK),o={ruleStack:n,occurrenceStack:r,lastTok:e,lastTokOccurrence:t};return o},e.prototype.getHumanReadableRuleStack=function(){var e=this;return(0,i.Tj)(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)}))},e}();function Yn(e,t,n,r,i,o,s){var a=this.getKeyForAutomaticLookahead(r,i),l=this.firstAfterRepMap[a];if(void 0===l){var u=this.getCurrRuleFullName(),c=this.getGAstProductions()[u],h=new o(c,i);l=h.startWalking(),this.firstAfterRepMap[a]=l}var d=l.token,f=l.occurrence,p=l.isEndOfRule;1===this.RULE_STACK.length&&p&&void 0===d&&(d=He,f=1),this.shouldInRepetitionRecoveryBeTried(d,f,s)&&this.tryInRepetitionRecovery(e,t,n,d)}var Vn=4,Wn=8,zn=1<<Wn,Gn=2<<Wn,$n=3<<Wn,qn=4<<Wn,Kn=5<<Wn,Xn=6<<Wn;function Jn(e,t,n){return n|t|e}var Qn=function(){function e(){}return e.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=(0,i.zy)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Fr.dynamicTokensEnabled,this.maxLookahead=(0,i.zy)(e,"maxLookahead")?e.maxLookahead:Fr.maxLookahead,this.lookAheadFuncsCache=(0,i.rF)()?new Map:[],(0,i.rF)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(e){var t=this;(0,i.jJ)(e,(function(e){t.TRACE_INIT(e.name+" Rule Lookahead",(function(){var n=ht(e),r=n.alternation,o=n.repetition,s=n.option,a=n.repetitionMandatory,l=n.repetitionMandatoryWithSeparator,u=n.repetitionWithSeparator;(0,i.jJ)(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT(""+lt(n)+r,(function(){var r=jt(n.idx,e,n.maxLookahead||t.maxLookahead,n.hasPredicates,t.dynamicTokensEnabled,t.lookAheadBuilderForAlternatives),i=Jn(t.fullRuleNameToShort[e.name],zn,n.idx);t.setLaFuncCache(i,r)}))})),(0,i.jJ)(o,(function(n){t.computeLookaheadFunc(e,n.idx,$n,Ht.REPETITION,n.maxLookahead,lt(n))})),(0,i.jJ)(s,(function(n){t.computeLookaheadFunc(e,n.idx,Gn,Ht.OPTION,n.maxLookahead,lt(n))})),(0,i.jJ)(a,(function(n){t.computeLookaheadFunc(e,n.idx,qn,Ht.REPETITION_MANDATORY,n.maxLookahead,lt(n))})),(0,i.jJ)(l,(function(n){t.computeLookaheadFunc(e,n.idx,Xn,Ht.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,lt(n))})),(0,i.jJ)(u,(function(n){t.computeLookaheadFunc(e,n.idx,Kn,Ht.REPETITION_WITH_SEPARATOR,n.maxLookahead,lt(n))}))}))}))},e.prototype.computeLookaheadFunc=function(e,t,n,r,i,o){var s=this;this.TRACE_INIT(""+o+(0===t?"":t),(function(){var o=Yt(t,e,i||s.maxLookahead,s.dynamicTokensEnabled,r,s.lookAheadBuilderForOptional),a=Jn(s.fullRuleNameToShort[e.name],n,t);s.setLaFuncCache(a,o)}))},e.prototype.lookAheadBuilderForOptional=function(e,t,n){return Wt(e,t,n)},e.prototype.lookAheadBuilderForAlternatives=function(e,t,n,r){return Vt(e,t,n,r)},e.prototype.getKeyForAutomaticLookahead=function(e,t){var n=this.getLastExplicitRuleShortName();return Jn(n,e,t)},e.prototype.getLaFuncFromCache=function(e){},e.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},e.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},e.prototype.setLaFuncCache=function(e,t){},e.prototype.setLaFuncCacheUsingMap=function(e,t){this.lookAheadFuncsCache.set(e,t)},e.prototype.setLaFuncUsingObj=function(e,t){this.lookAheadFuncsCache[e]=t},e}();function Zn(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset)}function er(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function tr(e,t,n){void 0===e.children[n]?e.children[n]=[t]:e.children[n].push(t)}function nr(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}function rr(e){return ar(e.constructor)}var ir,or=/^\s*function\s*(\S*)\s*\(/,sr="name";function ar(e){var t=e.name;if(t)return t;var n=e.toString().match(or)[1];return n}function lr(e,t){var n=Object.getOwnPropertyDescriptor(e,sr);return!(!(0,i.b0)(n)&&!n.configurable)&&(Object.defineProperty(e,sr,{enumerable:!1,configurable:!0,writable:!1,value:t}),!0)}function ur(e,t){for(var n=(0,i.HP)(e),r=n.length,o=0;o<r;o++)for(var s=n[o],a=e[s],l=a.length,u=0;u<l;u++){var c=a[u];void 0===c.tokenTypeIdx&&this[c.name](c.children,t)}}function cr(e,t){var n=function(){};lr(n,e+"BaseSemantics");var r={visit:function(e,t){if((0,i.cy)(e)&&(e=e[0]),!(0,i.b0)(e))return this[e.name](e.children,t)},validateVisitor:function(){var e=dr(this,t);if(!(0,i.Im)(e)){var n=(0,i.Tj)(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <"+ar(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=t,n}function hr(e,t,n){var r=function(){};lr(r,e+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return(0,i.jJ)(t,(function(e){o[e]=ur})),r.prototype=o,r.prototype.constructor=r,r}function dr(e,t){var n=fr(e,t),r=mr(e,t);return n.concat(r)}function fr(e,t){var n=(0,i.Tj)(t,(function(t){if(!(0,i.Tn)(e[t]))return{msg:"Missing visitor method: <"+t+"> on "+ar(e.constructor)+" CST Visitor.",type:ir.MISSING_METHOD,methodName:t}}));return(0,i.oE)(n)}(function(e){e[e["REDUNDANT_METHOD"]=0]="REDUNDANT_METHOD",e[e["MISSING_METHOD"]=1]="MISSING_METHOD"})(ir||(ir={}));var pr=["constructor","visit","validateVisitor"];function mr(e,t){var n=[];for(var r in e)un.test(r)&&(0,i.Tn)(e[r])&&!(0,i.gR)(pr,r)&&!(0,i.gR)(t,r)&&n.push({msg:"Redundant visitor method: <"+r+"> on "+ar(e.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+un.source+"/.",type:ir.REDUNDANT_METHOD,methodName:r});return n}var gr=function(){function e(){}return e.prototype.initTreeBuilder=function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,i.zy)(e,"nodeLocationTracking")?e.nodeLocationTracking:Fr.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=er,this.setNodeLocationFromNode=er,this.cstPostRule=i.tE,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Zn,this.setNodeLocationFromNode=Zn,this.cstPostRule=i.tE,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"');this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=i.tE,this.setInitialNodeLocation=i.tE}else this.cstInvocationStateUpdate=i.tE,this.cstFinallyStateUpdate=i.tE,this.cstPostTerminal=i.tE,this.cstPostNonTerminal=i.tE,this.cstPostRule=i.tE},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(e,t){var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?n.endOffset=t.endOffset:n.startOffset=NaN},e.prototype.cstPostTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];tr(n,t,e),this.setNodeLocationFromToken(n.location,t)},e.prototype.cstPostNonTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];nr(n,t,e),this.setNodeLocationFromNode(n.location,e.location)},e.prototype.getBaseCstVisitorConstructor=function(){if((0,i.b0)(this.baseCstVisitorConstructor)){var e=cr(this.className,(0,i.HP)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,i.b0)(this.baseCstVisitorWithDefaultsConstructor)){var e=hr(this.className,(0,i.HP)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},e}(),vr=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!0,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Pr},e.prototype.LA=function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Pr:this.tokVector[t]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(e){this.currIdx=e},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}(),yr=function(){function e(){}return e.prototype.ACTION=function(e){return e.call(this)},e.prototype.consume=function(e,t,n){return this.consumeInternal(t,e,n)},e.prototype.subrule=function(e,t,n){return this.subruleInternal(t,e,n)},e.prototype.option=function(e,t){return this.optionInternal(t,e)},e.prototype.or=function(e,t){return this.orInternal(t,e)},e.prototype.many=function(e,t){return this.manyInternal(e,t)},e.prototype.atLeastOne=function(e,t){return this.atLeastOneInternal(e,t)},e.prototype.CONSUME=function(e,t){return this.consumeInternal(e,0,t)},e.prototype.CONSUME1=function(e,t){return this.consumeInternal(e,1,t)},e.prototype.CONSUME2=function(e,t){return this.consumeInternal(e,2,t)},e.prototype.CONSUME3=function(e,t){return this.consumeInternal(e,3,t)},e.prototype.CONSUME4=function(e,t){return this.consumeInternal(e,4,t)},e.prototype.CONSUME5=function(e,t){return this.consumeInternal(e,5,t)},e.prototype.CONSUME6=function(e,t){return this.consumeInternal(e,6,t)},e.prototype.CONSUME7=function(e,t){return this.consumeInternal(e,7,t)},e.prototype.CONSUME8=function(e,t){return this.consumeInternal(e,8,t)},e.prototype.CONSUME9=function(e,t){return this.consumeInternal(e,9,t)},e.prototype.SUBRULE=function(e,t){return this.subruleInternal(e,0,t)},e.prototype.SUBRULE1=function(e,t){return this.subruleInternal(e,1,t)},e.prototype.SUBRULE2=function(e,t){return this.subruleInternal(e,2,t)},e.prototype.SUBRULE3=function(e,t){return this.subruleInternal(e,3,t)},e.prototype.SUBRULE4=function(e,t){return this.subruleInternal(e,4,t)},e.prototype.SUBRULE5=function(e,t){return this.subruleInternal(e,5,t)},e.prototype.SUBRULE6=function(e,t){return this.subruleInternal(e,6,t)},e.prototype.SUBRULE7=function(e,t){return this.subruleInternal(e,7,t)},e.prototype.SUBRULE8=function(e,t){return this.subruleInternal(e,8,t)},e.prototype.SUBRULE9=function(e,t){return this.subruleInternal(e,9,t)},e.prototype.OPTION=function(e){return this.optionInternal(e,0)},e.prototype.OPTION1=function(e){return this.optionInternal(e,1)},e.prototype.OPTION2=function(e){return this.optionInternal(e,2)},e.prototype.OPTION3=function(e){return this.optionInternal(e,3)},e.prototype.OPTION4=function(e){return this.optionInternal(e,4)},e.prototype.OPTION5=function(e){return this.optionInternal(e,5)},e.prototype.OPTION6=function(e){return this.optionInternal(e,6)},e.prototype.OPTION7=function(e){return this.optionInternal(e,7)},e.prototype.OPTION8=function(e){return this.optionInternal(e,8)},e.prototype.OPTION9=function(e){return this.optionInternal(e,9)},e.prototype.OR=function(e){return this.orInternal(e,0)},e.prototype.OR1=function(e){return this.orInternal(e,1)},e.prototype.OR2=function(e){return this.orInternal(e,2)},e.prototype.OR3=function(e){return this.orInternal(e,3)},e.prototype.OR4=function(e){return this.orInternal(e,4)},e.prototype.OR5=function(e){return this.orInternal(e,5)},e.prototype.OR6=function(e){return this.orInternal(e,6)},e.prototype.OR7=function(e){return this.orInternal(e,7)},e.prototype.OR8=function(e){return this.orInternal(e,8)},e.prototype.OR9=function(e){return this.orInternal(e,9)},e.prototype.MANY=function(e){this.manyInternal(0,e)},e.prototype.MANY1=function(e){this.manyInternal(1,e)},e.prototype.MANY2=function(e){this.manyInternal(2,e)},e.prototype.MANY3=function(e){this.manyInternal(3,e)},e.prototype.MANY4=function(e){this.manyInternal(4,e)},e.prototype.MANY5=function(e){this.manyInternal(5,e)},e.prototype.MANY6=function(e){this.manyInternal(6,e)},e.prototype.MANY7=function(e){this.manyInternal(7,e)},e.prototype.MANY8=function(e){this.manyInternal(8,e)},e.prototype.MANY9=function(e){this.manyInternal(9,e)},e.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},e.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},e.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},e.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},e.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},e.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},e.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},e.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},e.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},e.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},e.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},e.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},e.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},e.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},e.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},e.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},e.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},e.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},e.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},e.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},e.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},e.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},e.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},e.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},e.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},e.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},e.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},e.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},e.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},e.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},e.prototype.RULE=function(e,t,n){if(void 0===n&&(n=Hr),(0,i.gR)(this.definedRulesNames,e)){var r=St.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),o={message:r,type:Dr.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);var s=this.defineRule(e,t,n);return this[e]=s,s},e.prototype.OVERRIDE_RULE=function(e,t,n){void 0===n&&(n=Hr);var r=[];r=r.concat(fn(e,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,r);var i=this.defineRule(e,t,n);return this[e]=i,i},e.prototype.BACKTRACK=function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if(On(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return Ze((0,i.zu)(this.gastProductionsCache))},e}(),br=function(){function e(){}return e.prototype.initRecognizerEngine=function(e,t){if(this.className=rr(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=se,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,i.zy)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,i.cy)(e)){if((0,i.Im)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"===typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,i.cy)(e))this.tokensMap=(0,i.TS)(e,(function(e,t){return e[t.name]=t,e}),{});else if((0,i.zy)(e,"modes")&&(0,i.Si)((0,i.Bq)((0,i.zu)(e.modes)),be)){var n=(0,i.Bq)((0,i.zu)(e.modes)),r=(0,i.sb)(n);this.tokensMap=(0,i.TS)(r,(function(e,t){return e[t.name]=t,e}),{})}else{if(!(0,i.Gv)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,i.lR)(e)}this.tokensMap["EOF"]=He;var o=(0,i.Si)((0,i.zu)(e),(function(e){return(0,i.Im)(e.categoryMatches)}));this.tokenMatcher=o?se:oe,ue((0,i.zu)(this.tokensMap))},e.prototype.defineRule=function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,o=(0,i.zy)(n,"resyncEnabled")?n.resyncEnabled:Hr.resyncEnabled,s=(0,i.zy)(n,"recoveryValueFunc")?n.recoveryValueFunc:Hr.recoveryValueFunc,a=this.ruleShortNameIdx<<Vn+Wn;function l(e){try{if(!0===this.outputCst){t.apply(this,e);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return t.apply(this,e)}catch(r){return this.invokeRuleCatch(r,o,s)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a,r=function(t,n){return void 0===t&&(t=0),this.ruleInvocationStateUpdate(a,e,t),l.call(this,n)};var u="ruleName";return r[u]=e,r["originalGrammarAction"]=t,r},e.prototype.invokeRuleCatch=function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(On(e)){var o=e;if(i){var s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s)){if(o.resyncedTokens=this.reSyncTo(s),this.outputCst){var a=this.CST_STACK[this.CST_STACK.length-1];return a.recoveredNode=!0,a}return n()}if(this.outputCst){a=this.CST_STACK[this.CST_STACK.length-1];a.recoveredNode=!0,o.partialCstResult=a}throw o}if(r)return this.moveToTerminatedState(),n();throw o}throw e},e.prototype.optionInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Gn,t);return this.optionInternalLogic(e,t,n)},e.prototype.optionInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,i=e.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=e;if(!0===s.call(this))return r.call(this)},e.prototype.atLeastOneInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(qn,e);return this.atLeastOneInternalLogic(e,t,n)},e.prototype.atLeastOneInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,i=t.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=t;if(!0!==s.call(this))throw this.raiseEarlyExitException(e,Ht.REPETITION_MANDATORY,t.ERR_MSG);var l=this.doSingleRepetition(r);while(!0===s.call(this)&&!0===l)l=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],s,qn,e,Ot)},e.prototype.atLeastOneSepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Xn,e);this.atLeastOneSepFirstInternalLogic(e,t,n)},e.prototype.atLeastOneSepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP,s=this.getLaFuncFromCache(n);if(!0!==s.call(this))throw this.raiseEarlyExitException(e,Ht.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);var a=function(){return r.tokenMatcher(r.LA(1),o)};while(!0===this.tokenMatcher(this.LA(1),o))this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,It],a,Xn,e,It)},e.prototype.manyInternal=function(e,t){var n=this.getKeyForAutomaticLookahead($n,e);return this.manyInternalLogic(e,t,n)},e.prototype.manyInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,i=t.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=t;var l=!0;while(!0===s.call(this)&&!0===l)l=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],s,$n,e,Lt,l)},e.prototype.manySepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Kn,e);this.manySepFirstInternalLogic(e,t,n)},e.prototype.manySepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP,s=this.getLaFuncFromCache(n);if(!0===s.call(this)){i.call(this);var a=function(){return r.tokenMatcher(r.LA(1),o)};while(!0===this.tokenMatcher(this.LA(1),o))this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,kt],a,Kn,e,kt)}},e.prototype.repetitionSepSecondInternal=function(e,t,n,r,i){while(n())this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,Xn,e,i)},e.prototype.doSingleRepetition=function(e){var t=this.getLexerPosition();e.call(this);var n=this.getLexerPosition();return n>t},e.prototype.orInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(zn,t),r=(0,i.cy)(e)?e:e.DEF,o=this.getLaFuncFromCache(n),s=o.call(this,r);if(void 0!==s){var a=r[s];return a.ALT.call(this)}this.raiseNoAltException(t,e.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Dn(t,e))}},e.prototype.subruleInternal=function(e,t,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=e.call(this,t,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(o){this.subruleInternalError(o,n,e.ruleName)}},e.prototype.subruleInternalError=function(e,t,n){throw On(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e},e.prototype.consumeInternal=function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(o){r=this.consumeInternalRecovery(e,t,o)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r},e.prototype.consumeInternalError=function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new In(r,t,i))},e.prototype.consumeInternalRecovery=function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(i){throw i.name===Un?n:i}},e.prototype.saveRecogState=function(){var e=this.errors,t=(0,i.T9)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t,e)},e.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},e.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},e.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),He)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}(),wr=function(){function e(){}return e.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=(0,i.zy)(e,"errorMessageProvider")?e.errorMessageProvider:Fr.errorMessageProvider},e.prototype.SAVE_ERROR=function(e){if(On(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,i.T9)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return(0,i.T9)(this._errors)},set:function(e){this._errors=e},enumerable:!0,configurable:!0}),e.prototype.raiseEarlyExitException=function(e,t,n){for(var r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],o=Qt(e,i,t,this.maxLookahead),s=o[0],a=[],l=1;l<=this.maxLookahead;l++)a.push(this.LA(l));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new Fn(u,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(e,t){for(var n=this.getCurrRuleFullName(),r=this.getGAstProductions()[n],i=Jt(e,r,this.maxLookahead),o=[],s=1;s<=this.maxLookahead;s++)o.push(this.LA(s));var a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:o,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Pn(l,this.LA(1),a))},e}(),_r=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(e,t){var n=this.gastProductionsCache[e];if((0,i.b0)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return Dt([n],t,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(e){var t=(0,i.$1)(e.ruleStack),n=this.getGAstProductions(),r=n[t],o=new At(r,e).startWalking();return o},e}(),Er={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Er);var Sr=!0,Tr=Math.pow(2,Wn)-1,Mr=De({name:"RECORDING_PHASE_TOKEN",pattern:Se.NA});ue([Mr]);var Cr=Ue(Mr,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Cr);var Rr={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},xr=function(){function e(){}return e.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){return this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e["consume"]=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e["subrule"]=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e["option"]=function(e,t){return this.optionInternalRecord(t,e)},e["or"]=function(e,t){return this.orInternalRecord(t,e)},e["many"]=function(e,t){this.manyInternalRecord(e,t)},e["atLeastOne"]=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))},e.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=0;t<10;t++){var n=t>0?t:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e["consume"],delete e["subrule"],delete e["option"],delete e["or"],delete e["many"],delete e["atLeastOne"],delete e.ACTION,delete e.BACKTRACK,delete e.LA}))},e.prototype.ACTION_RECORD=function(e){},e.prototype.BACKTRACK_RECORD=function(e,t){return function(){return!0}},e.prototype.LA_RECORD=function(e){return Pr},e.prototype.topLevelRuleRecord=function(e,t){try{var n=new We({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(r){if(!0!==r.KNOWN_RECORDER_ERROR)try{r.message=r.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(i){throw r}throw r}},e.prototype.optionInternalRecord=function(e,t){return Ar.call(this,Ge,e,t)},e.prototype.atLeastOneInternalRecord=function(e,t){Ar.call(this,$e,t,e)},e.prototype.atLeastOneSepFirstInternalRecord=function(e,t){Ar.call(this,qe,t,e,Sr)},e.prototype.manyInternalRecord=function(e,t){Ar.call(this,Ke,t,e)},e.prototype.manySepFirstInternalRecord=function(e,t){Ar.call(this,Xe,t,e,Sr)},e.prototype.orInternalRecord=function(e,t){return Nr.call(this,e,t)},e.prototype.subruleInternalRecord=function(e,t,n){if(kr(t),!e||!1===(0,i.zy)(e,"ruleName")){var r=new Error("<SUBRULE"+Lr(t)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=(0,i.se)(this.recordingProdStack),s=e["ruleName"],a=new Ve({idx:t,nonTerminalName:s,referencedRule:void 0});return o.definition.push(a),this.outputCst?Rr:Er},e.prototype.consumeInternalRecord=function(e,t,n){if(kr(t),!me(e)){var r=new Error("<CONSUME"+Lr(t)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=(0,i.se)(this.recordingProdStack),s=new Qe({idx:t,terminalType:e});return o.definition.push(s),Cr},e}();function Ar(e,t,n,r){void 0===r&&(r=!1),kr(n);var o=(0,i.se)(this.recordingProdStack),s=(0,i.Tn)(t)?t:t.DEF,a=new e({definition:[],idx:n});return r&&(a.separator=t.SEP),(0,i.zy)(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),o.definition.push(a),this.recordingProdStack.pop(),Er}function Nr(e,t){var n=this;kr(t);var r=(0,i.se)(this.recordingProdStack),o=!1===(0,i.cy)(e),s=!1===o?e:e.DEF,a=new Je({definition:[],idx:t,ignoreAmbiguities:o&&!0===e.IGNORE_AMBIGUITIES});(0,i.zy)(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);var l=(0,i.zN)(s,(function(e){return(0,i.Tn)(e.GATE)}));return a.hasPredicates=l,r.definition.push(a),(0,i.jJ)(s,(function(e){var t=new ze({definition:[]});a.definition.push(t),(0,i.zy)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:(0,i.zy)(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),Er}function Lr(e){return 0===e?"":""+e}function kr(e){if(e<0||e>Tr){var t=new Error("Invalid DSL Method idx value: <"+e+">\n\tIdx value must be a none negative value smaller than "+(Tr+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var Or=function(){function e(){}return e.prototype.initPerformanceTracer=function(e){if((0,i.zy)(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"===typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Fr.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=(0,i.O1)(t),o=r.time,s=r.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,s}return t()},e}(),Ir=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pr=Ue(He,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Pr);var Dr,Fr=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:_t,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Hr=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function Ur(e){return void 0===e&&(e=void 0),function(){return e}}(function(e){e[e["INVALID_RULE_NAME"]=0]="INVALID_RULE_NAME",e[e["DUPLICATE_RULE_NAME"]=1]="DUPLICATE_RULE_NAME",e[e["INVALID_RULE_OVERRIDE"]=2]="INVALID_RULE_OVERRIDE",e[e["DUPLICATE_PRODUCTIONS"]=3]="DUPLICATE_PRODUCTIONS",e[e["UNRESOLVED_SUBRULE_REF"]=4]="UNRESOLVED_SUBRULE_REF",e[e["LEFT_RECURSION"]=5]="LEFT_RECURSION",e[e["NONE_LAST_EMPTY_ALT"]=6]="NONE_LAST_EMPTY_ALT",e[e["AMBIGUOUS_ALTS"]=7]="AMBIGUOUS_ALTS",e[e["CONFLICT_TOKENS_RULES_NAMESPACE"]=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e["INVALID_TOKEN_NAME"]=9]="INVALID_TOKEN_NAME",e[e["NO_NON_EMPTY_LOOKAHEAD"]=10]="NO_NON_EMPTY_LOOKAHEAD",e[e["AMBIGUOUS_PREFIX_ALTS"]=11]="AMBIGUOUS_PREFIX_ALTS",e[e["TOO_MANY_ALTS"]=12]="TOO_MANY_ALTS"})(Dr||(Dr={}));var Br=function(){function e(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;var n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),(0,i.zy)(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,i.zy)(t,"skipValidations")?t.skipValidations:Fr.skipValidations}return e.performSelfAnalysis=function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){(0,i.Bl)(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),(0,i.jJ)(t.definedRulesNames,(function(e){var n=t[e],r=n["originalGrammarAction"],i=void 0;t.TRACE_INIT(e+" Rule",(function(){i=t.topLevelRuleRecord(e,r)})),t.gastProductionsCache[e]=i}))}finally{t.disableRecording()}}));var o=[];if(t.TRACE_INIT("Grammar Resolving",(function(){o=Mn({rules:(0,i.zu)(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,o)})),t.TRACE_INIT("Grammar Validations",(function(){if((0,i.Im)(o)&&!1===t.skipValidations){var e=Cn({rules:(0,i.zu)(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:(0,i.zu)(t.tokensMap),errMsgProvider:St,grammarName:r});t.definitionErrors.push.apply(t.definitionErrors,e)}})),(0,i.Im)(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e=bt((0,i.zu)(t.gastProductionsCache));t.resyncFollows=e})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){t.preComputeLookaheadFunctions((0,i.zu)(t.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,i.Im)(t.definitionErrors))throw n=(0,i.Tj)(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();(0,i.XJ)(Br,[jn,Qn,gr,vr,br,yr,wr,_r,xr,Or]);var jr=function(e){function t(t,n){void 0===n&&(n=Fr);var r=this,o=(0,i.lR)(n);return o.outputCst=!0,r=e.call(this,t,o)||this,r}return Ir(t,e),t}(Br),Yr=function(e){function t(t,n){void 0===n&&(n=Fr);var r=this,o=(0,i.lR)(n);return o.outputCst=!1,r=e.call(this,t,o)||this,r}return Ir(t,e),t}(Br);function Vr(e,t){var n=void 0===t?{}:t,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,s=n.css,a=void 0===s?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":s,l='\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n',u="\n<link rel='stylesheet' href='"+a+"'>\n",c="\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n",h='\n<div id="diagrams" align="center"></div>    \n',d="\n<script>\n    window.serializedGrammar = "+JSON.stringify(e,null,"  ")+";\n<\/script>\n",f='\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n';return l+u+c+h+d+f}var Wr="\n";function zr(e){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+$r(e)+"\n    \nreturn {\n    "+e.name+": "+e.name+" \n}\n}));\n"}function Gr(e){return"    \n"+$r(e)+"\nreturn new "+e.name+"(tokenVocabulary, config)    \n"}function $r(e){var t="\nfunction "+e.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+qr(e.rules)+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+e.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+e.name+".prototype.constructor = "+e.name+"    \n    ";return t}function qr(e){var t=(0,i.Tj)(e,(function(e){return Kr(e,1)}));return t.join("\n")}function Kr(e,t){var n=ii(t,'$.RULE("'+e.name+'", function() {')+Wr;return n+=ri(e.definition,t+1),n+=ii(t+1,"})")+Wr,n}function Xr(e,t){var n=e.terminalType.name;return ii(t,"$.CONSUME"+e.idx+"(this.tokensMap."+n+")"+Wr)}function Jr(e,t){return ii(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")"+Wr)}function Qr(e,t){var n=ii(t,"$.OR"+e.idx+"([")+Wr,r=(0,i.Tj)(e.definition,(function(e){return Zr(e,t+1)}));return n+=r.join(","+Wr),n+=Wr+ii(t,"])"+Wr),n}function Zr(e,t){var n=ii(t,"{")+Wr;return n+=ii(t+1,"ALT: function() {")+Wr,n+=ri(e.definition,t+1),n+=ii(t+1,"}")+Wr,n+=ii(t,"}"),n}function ei(e,t){if(e instanceof Ve)return Jr(e,t);if(e instanceof Ge)return ti("OPTION",e,t);if(e instanceof $e)return ti("AT_LEAST_ONE",e,t);if(e instanceof qe)return ti("AT_LEAST_ONE_SEP",e,t);if(e instanceof Xe)return ti("MANY_SEP",e,t);if(e instanceof Ke)return ti("MANY",e,t);if(e instanceof Je)return Qr(e,t);if(e instanceof Qe)return Xr(e,t);if(e instanceof ze)return ri(e.definition,t);throw Error("non exhaustive match")}function ti(e,t,n){var r=ii(n,"$."+(e+t.idx)+"(");return t.separator?(r+="{"+Wr,r+=ii(n+1,"SEP: this.tokensMap."+t.separator.name)+","+Wr,r+="DEF: "+ni(t.definition,n+2)+Wr,r+=ii(n,"}")+Wr):r+=ni(t.definition,n+1),r+=ii(n,")")+Wr,r}function ni(e,t){var n="function() {"+Wr;return n+=ri(e,t),n+=ii(t,"}")+Wr,n}function ri(e,t){var n="";return(0,i.jJ)(e,(function(e){n+=ei(e,t+1)})),n}function ii(e,t){var n=Array(4*e+1).join(" ");return n+t}function oi(e){var t=Gr({name:e.name,rules:e.rules}),r=new Function("tokenVocabulary","config","chevrotain",t);return function(t){return r(e.tokenVocabulary,t,n(12697))}}function si(e){return zr({name:e.name,rules:e.rules})}function ai(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var li=function(){function e(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_7-0-0")}return e}()},73099:function(e,t,n){"use strict";function r(e){return e&&0===e.length}function i(e){return void 0===e||null===e?[]:Object.keys(e)}function o(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}function s(e,t){for(var n=[],r=i(e),o=0;o<r.length;o++){var s=r[o];n.push(t.call(null,e[s],s))}return n}function a(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t.call(null,e[r],r));return n}function l(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?t=t.concat(l(r)):t.push(r)}return t}function u(e){return r(e)?void 0:e[0]}function c(e){var t=e&&e.length;return t?e[t-1]:void 0}function h(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else{if(!k(e))throw Error("non exhaustive match");var r=i(e);for(n=0;n<r.length;n++){var o=r[n],s=e[o];t.call(null,s,o)}}}function d(e){return"string"===typeof e}function f(e){return void 0===e}function p(e){return e instanceof Function}function m(e,t){return void 0===t&&(t=1),e.slice(t,e.length)}function g(e,t){return void 0===t&&(t=1),e.slice(0,e.length-t)}function v(e,t){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function y(e,t){return v(e,(function(e){return!t(e)}))}function b(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],s=e[o];t(s)&&(r[o]=s)}return r}function w(e,t){return!!k(e)&&e.hasOwnProperty(t)}function _(e,t){return void 0!==T(e,(function(e){return e===t}))}function E(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function S(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function T(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t.call(null,r))return r}}function M(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function C(e,t,n){for(var r=Array.isArray(e),s=r?e:o(e),a=r?[]:i(e),l=n,u=0;u<s.length;u++)l=t.call(null,l,s[u],r?u:a[u]);return l}function R(e){return y(e,(function(e){return null===e||void 0===e}))}function x(e,t){void 0===t&&(t=function(e){return e});var n=[];return C(e,(function(e,r){var i=t(r);return _(n,i)?e:(n.push(i),e.concat(r))}),[])}function A(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[null],i=r.concat(t);return Function.bind.apply(e,i)}function N(e){return Array.isArray(e)}function L(e){return e instanceof RegExp}function k(e){return e instanceof Object}function O(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function I(e,t){return y(e,(function(e){return _(t,e)}))}function P(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function D(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function F(e,t){var n=E(e);return n.sort((function(e,n){return t(e)-t(n)})),n}function H(e,t){if(e.length!==t.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}function U(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],s=i(o),a=0;a<s.length;a++){var l=s[a];e[l]=o[l]}return e}function B(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],s=i(o),a=0;a<s.length;a++){var l=s[a];w(e,l)||(e[l]=o[l])}return e}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return B.apply(null,[{}].concat(e))}function Y(e,t){var n={};return h(e,(function(e){var r=t(e),i=n[r];i?i.push(e):n[r]=[e]})),n}function V(e,t){for(var n=S(e),r=i(t),o=0;o<r.length;o++){var s=r[o],a=t[s];n[s]=a}return n}function W(){}function z(e){return e}function G(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(void 0!==r?r:void 0)}return t}function $(e){console&&console.error&&console.error("Error: "+e)}function q(e){console&&console.warn&&console.warn("Warning: "+e)}function K(){return"function"===typeof Map}function X(e,t){t.forEach((function(t){var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(e.prototype,r,i):e.prototype[r]=t.prototype[r]}}))}))}function J(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function Q(e){return e[e.length-1]}function Z(e){var t=(new Date).getTime(),n=e(),r=(new Date).getTime(),i=r-t;return{time:i,value:n}}n.d(t,{$1:function(){return u},$z:function(){return Y},Bl:function(){return J},Bq:function(){return l},Gv:function(){return k},HP:function(){return i},HV:function(){return c},I6:function(){return T},Im:function(){return r},JW:function(){return M},Kg:function(){return d},LG:function(){return s},NT:function(){return j},O1:function(){return Z},Si:function(){return O},T9:function(){return E},TS:function(){return C},Tj:function(){return a},Tn:function(){return p},Up:function(){return b},VS:function(){return G},XJ:function(){return X},Zi:function(){return $},b0:function(){return f},cy:function(){return N},gR:function(){return _},gc:function(){return g},gd:function(){return L},gv:function(){return m},h1:function(){return V},iv:function(){return I},jJ:function(){return h},kp:function(){return U},ku:function(){return y},lR:function(){return S},oE:function(){return R},pb:function(){return v},qh:function(){return D},rF:function(){return K},sb:function(){return x},se:function(){return Q},tE:function(){return W},x5:function(){return q},zK:function(){return z},zN:function(){return P},zu:function(){return o},zy:function(){return w}})},55215:function(e){
/*! @license DOMPurify 2.5.8 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.5.8/LICENSE */
(function(t,n){e.exports=n()})(0,(function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function r(e,i,o){return r=n()?Reflect.construct:function(e,n,r){var i=[null];i.push.apply(i,n);var o=Function.bind.apply(e,i),s=new o;return r&&t(s,r.prototype),s},r.apply(null,arguments)}function i(e){return o(e)||s(e)||a(e)||u()}function o(e){if(Array.isArray(e))return l(e)}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=Object.hasOwnProperty,h=Object.setPrototypeOf,d=Object.isFrozen,f=Object.getPrototypeOf,p=Object.getOwnPropertyDescriptor,m=Object.freeze,g=Object.seal,v=Object.create,y="undefined"!==typeof Reflect&&Reflect,b=y.apply,w=y.construct;b||(b=function(e,t,n){return e.apply(t,n)}),m||(m=function(e){return e}),g||(g=function(e){return e}),w||(w=function(e,t){return r(e,i(t))});var _=k(Array.prototype.forEach),E=k(Array.prototype.pop),S=k(Array.prototype.push),T=k(String.prototype.toLowerCase),M=k(String.prototype.toString),C=k(String.prototype.match),R=k(String.prototype.replace),x=k(String.prototype.indexOf),A=k(String.prototype.trim),N=k(RegExp.prototype.test),L=O(TypeError);function k(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return b(e,t,r)}}function O(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(e,n)}}function I(e,t,n){var r;n=null!==(r=n)&&void 0!==r?r:T,h&&h(e,null);var i=t.length;while(i--){var o=t[i];if("string"===typeof o){var s=n(o);s!==o&&(d(t)||(t[i]=s),o=s)}e[o]=!0}return e}function P(e){var t,n=v(null);for(t in e)!0===b(c,e,[t])&&(n[t]=e[t]);return n}function D(e,t){while(null!==e){var n=p(e,t);if(n){if(n.get)return k(n.get);if("function"===typeof n.value)return k(n.value)}e=f(e)}function r(e){return console.warn("fallback value for",e),null}return r}var F=m(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),H=m(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U=m(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),B=m(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),j=m(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Y=m(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),V=m(["#text"]),W=m(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=m(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=m(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$=m(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),q=g(/\{\{[\w\W]*|[\w\W]*\}\}/gm),K=g(/<%[\w\W]*|[\w\W]*%>/gm),X=g(/\${[\w\W]*}/gm),J=g(/^data-[\-\w.\u00B7-\uFFFF]+$/),Q=g(/^aria-[\-\w]+$/),Z=g(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ee=g(/^(?:\w+script|data):/i),te=g(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ne=g(/^html$/i),re=g(/^[a-z][.\w]*(-[.\w]+)+$/i),ie=function(){return"undefined"===typeof window?null:window},oe=function(t,n){if("object"!==e(t)||"function"!==typeof t.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(s){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function se(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie(),n=function(e){return se(e)};if(n.version="2.5.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,s=t.DocumentFragment,a=t.HTMLTemplateElement,l=t.Node,u=t.Element,c=t.NodeFilter,h=t.NamedNodeMap,d=void 0===h?t.NamedNodeMap||t.MozNamedAttrMap:h,f=t.HTMLFormElement,p=t.DOMParser,g=t.trustedTypes,v=u.prototype,y=D(v,"cloneNode"),b=D(v,"nextSibling"),w=D(v,"childNodes"),k=D(v,"parentNode");if("function"===typeof a){var O=o.createElement("template");O.content&&O.content.ownerDocument&&(o=O.content.ownerDocument)}var ae=oe(g,r),le=ae?ae.createHTML(""):"",ue=o,ce=ue.implementation,he=ue.createNodeIterator,de=ue.createDocumentFragment,fe=ue.getElementsByTagName,pe=r.importNode,me={};try{me=P(o).documentMode?o.documentMode:{}}catch(Dt){}var ge={};n.isSupported="function"===typeof k&&ce&&void 0!==ce.createHTMLDocument&&9!==me;var ve,ye,be=q,we=K,_e=X,Ee=J,Se=Q,Te=ee,Me=te,Ce=re,Re=Z,xe=null,Ae=I({},[].concat(i(F),i(H),i(U),i(j),i(V))),Ne=null,Le=I({},[].concat(i(W),i(z),i(G),i($))),ke=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,Ie=null,Pe=!0,De=!0,Fe=!1,He=!0,Ue=!1,Be=!0,je=!1,Ye=!1,Ve=!1,We=!1,ze=!1,Ge=!1,$e=!0,qe=!1,Ke="user-content-",Xe=!0,Je=!1,Qe={},Ze=null,et=I({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),tt=null,nt=I({},["audio","video","img","source","image","track"]),rt=null,it=I({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ot="http://www.w3.org/1998/Math/MathML",st="http://www.w3.org/2000/svg",at="http://www.w3.org/1999/xhtml",lt=at,ut=!1,ct=null,ht=I({},[ot,st,at],M),dt=["application/xhtml+xml","text/html"],ft="text/html",pt=null,mt=o.createElement("form"),gt=function(e){return e instanceof RegExp||e instanceof Function},vt=function(t){pt&&pt===t||(t&&"object"===e(t)||(t={}),t=P(t),ve=ve=-1===dt.indexOf(t.PARSER_MEDIA_TYPE)?ft:t.PARSER_MEDIA_TYPE,ye="application/xhtml+xml"===ve?M:T,xe="ALLOWED_TAGS"in t?I({},t.ALLOWED_TAGS,ye):Ae,Ne="ALLOWED_ATTR"in t?I({},t.ALLOWED_ATTR,ye):Le,ct="ALLOWED_NAMESPACES"in t?I({},t.ALLOWED_NAMESPACES,M):ht,rt="ADD_URI_SAFE_ATTR"in t?I(P(it),t.ADD_URI_SAFE_ATTR,ye):it,tt="ADD_DATA_URI_TAGS"in t?I(P(nt),t.ADD_DATA_URI_TAGS,ye):nt,Ze="FORBID_CONTENTS"in t?I({},t.FORBID_CONTENTS,ye):et,Oe="FORBID_TAGS"in t?I({},t.FORBID_TAGS,ye):{},Ie="FORBID_ATTR"in t?I({},t.FORBID_ATTR,ye):{},Qe="USE_PROFILES"in t&&t.USE_PROFILES,Pe=!1!==t.ALLOW_ARIA_ATTR,De=!1!==t.ALLOW_DATA_ATTR,Fe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,He=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Ue=t.SAFE_FOR_TEMPLATES||!1,Be=!1!==t.SAFE_FOR_XML,je=t.WHOLE_DOCUMENT||!1,We=t.RETURN_DOM||!1,ze=t.RETURN_DOM_FRAGMENT||!1,Ge=t.RETURN_TRUSTED_TYPE||!1,Ve=t.FORCE_BODY||!1,$e=!1!==t.SANITIZE_DOM,qe=t.SANITIZE_NAMED_PROPS||!1,Xe=!1!==t.KEEP_CONTENT,Je=t.IN_PLACE||!1,Re=t.ALLOWED_URI_REGEXP||Re,lt=t.NAMESPACE||at,ke=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&gt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ke.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&gt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ke.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"===typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ke.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ue&&(De=!1),ze&&(We=!0),Qe&&(xe=I({},i(V)),Ne=[],!0===Qe.html&&(I(xe,F),I(Ne,W)),!0===Qe.svg&&(I(xe,H),I(Ne,z),I(Ne,$)),!0===Qe.svgFilters&&(I(xe,U),I(Ne,z),I(Ne,$)),!0===Qe.mathMl&&(I(xe,j),I(Ne,G),I(Ne,$))),t.ADD_TAGS&&(xe===Ae&&(xe=P(xe)),I(xe,t.ADD_TAGS,ye)),t.ADD_ATTR&&(Ne===Le&&(Ne=P(Ne)),I(Ne,t.ADD_ATTR,ye)),t.ADD_URI_SAFE_ATTR&&I(rt,t.ADD_URI_SAFE_ATTR,ye),t.FORBID_CONTENTS&&(Ze===et&&(Ze=P(Ze)),I(Ze,t.FORBID_CONTENTS,ye)),Xe&&(xe["#text"]=!0),je&&I(xe,["html","head","body"]),xe.table&&(I(xe,["tbody"]),delete Oe.tbody),m&&m(t),pt=t)},yt=I({},["mi","mo","mn","ms","mtext"]),bt=I({},["annotation-xml"]),wt=I({},["title","style","font","a","script"]),_t=I({},H);I(_t,U),I(_t,B);var Et=I({},j);I(Et,Y);var St=function(e){var t=k(e);t&&t.tagName||(t={namespaceURI:lt,tagName:"template"});var n=T(e.tagName),r=T(t.tagName);return!!ct[e.namespaceURI]&&(e.namespaceURI===st?t.namespaceURI===at?"svg"===n:t.namespaceURI===ot?"svg"===n&&("annotation-xml"===r||yt[r]):Boolean(_t[n]):e.namespaceURI===ot?t.namespaceURI===at?"math"===n:t.namespaceURI===st?"math"===n&&bt[r]:Boolean(Et[n]):e.namespaceURI===at?!(t.namespaceURI===st&&!bt[r])&&(!(t.namespaceURI===ot&&!yt[r])&&(!Et[n]&&(wt[n]||!_t[n]))):!("application/xhtml+xml"!==ve||!ct[e.namespaceURI]))},Tt=function(e){S(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(Dt){try{e.outerHTML=le}catch(Dt){e.remove()}}},Mt=function(e,t){try{S(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(Dt){S(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ne[e])if(We||ze)try{Tt(t)}catch(Dt){}else try{t.setAttribute(e,"")}catch(Dt){}},Ct=function(e){var t,n;if(Ve)e="<remove></remove>"+e;else{var r=C(e,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===ve&&lt===at&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var i=ae?ae.createHTML(e):e;if(lt===at)try{t=(new p).parseFromString(i,ve)}catch(Dt){}if(!t||!t.documentElement){t=ce.createDocument(lt,"template",null);try{t.documentElement.innerHTML=ut?le:i}catch(Dt){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),lt===at?fe.call(t,je?"html":"body")[0]:je?t.documentElement:s},Rt=function(e){return he.call(e.ownerDocument||e,e,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null,!1)},xt=function(e){return e instanceof f&&("string"!==typeof e.nodeName||"string"!==typeof e.textContent||"function"!==typeof e.removeChild||!(e.attributes instanceof d)||"function"!==typeof e.removeAttribute||"function"!==typeof e.setAttribute||"string"!==typeof e.namespaceURI||"function"!==typeof e.insertBefore||"function"!==typeof e.hasChildNodes)},At=function(t){return"object"===e(l)?t instanceof l:t&&"object"===e(t)&&"number"===typeof t.nodeType&&"string"===typeof t.nodeName},Nt=function(e,t,r){ge[e]&&_(ge[e],(function(e){e.call(n,t,r,pt)}))},Lt=function(e){var t;if(Nt("beforeSanitizeElements",e,null),xt(e))return Tt(e),!0;if(N(/[\u0080-\uFFFF]/,e.nodeName))return Tt(e),!0;var r=ye(e.nodeName);if(Nt("uponSanitizeElement",e,{tagName:r,allowedTags:xe}),e.hasChildNodes()&&!At(e.firstElementChild)&&(!At(e.content)||!At(e.content.firstElementChild))&&N(/<[/\w]/g,e.innerHTML)&&N(/<[/\w]/g,e.textContent))return Tt(e),!0;if("select"===r&&N(/<template/i,e.innerHTML))return Tt(e),!0;if(7===e.nodeType)return Tt(e),!0;if(Be&&8===e.nodeType&&N(/<[/\w]/g,e.data))return Tt(e),!0;if(!xe[r]||Oe[r]){if(!Oe[r]&&Ot(r)){if(ke.tagNameCheck instanceof RegExp&&N(ke.tagNameCheck,r))return!1;if(ke.tagNameCheck instanceof Function&&ke.tagNameCheck(r))return!1}if(Xe&&!Ze[r]){var i=k(e)||e.parentNode,o=w(e)||e.childNodes;if(o&&i)for(var s=o.length,a=s-1;a>=0;--a){var l=y(o[a],!0);l.__removalCount=(e.__removalCount||0)+1,i.insertBefore(l,b(e))}}return Tt(e),!0}return e instanceof u&&!St(e)?(Tt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!N(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ue&&3===e.nodeType&&(t=e.textContent,t=R(t,be," "),t=R(t,we," "),t=R(t,_e," "),e.textContent!==t&&(S(n.removed,{element:e.cloneNode()}),e.textContent=t)),Nt("afterSanitizeElements",e,null),!1):(Tt(e),!0)},kt=function(e,t,n){if($e&&("id"===t||"name"===t)&&(n in o||n in mt))return!1;if(De&&!Ie[t]&&N(Ee,t));else if(Pe&&N(Se,t));else if(!Ne[t]||Ie[t]){if(!(Ot(e)&&(ke.tagNameCheck instanceof RegExp&&N(ke.tagNameCheck,e)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(e))&&(ke.attributeNameCheck instanceof RegExp&&N(ke.attributeNameCheck,t)||ke.attributeNameCheck instanceof Function&&ke.attributeNameCheck(t))||"is"===t&&ke.allowCustomizedBuiltInElements&&(ke.tagNameCheck instanceof RegExp&&N(ke.tagNameCheck,n)||ke.tagNameCheck instanceof Function&&ke.tagNameCheck(n))))return!1}else if(rt[t]);else if(N(Re,R(n,Me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==x(n,"data:")||!tt[e]){if(Fe&&!N(Te,R(n,Me,"")));else if(n)return!1}else;return!0},Ot=function(e){return"annotation-xml"!==e&&C(e,Ce)},It=function(t){var r,i,o,s;Nt("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a&&!xt(t)){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ne};s=a.length;while(s--){r=a[s];var u=r,c=u.name,h=u.namespaceURI;if(i="value"===c?r.value:A(r.value),o=ye(c),l.attrName=o,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,Nt("uponSanitizeAttribute",t,l),i=l.attrValue,!l.forceKeepAttr&&(Mt(c,t),l.keepAttr))if(He||!N(/\/>/i,i)){Ue&&(i=R(i,be," "),i=R(i,we," "),i=R(i,_e," "));var d=ye(t.nodeName);if(kt(d,o,i))if(!qe||"id"!==o&&"name"!==o||(Mt(c,t),i=Ke+i),Be&&N(/((--!?|])>)|<\/(style|title)/i,i))Mt(c,t);else{if(ae&&"object"===e(g)&&"function"===typeof g.getAttributeType)if(h);else switch(g.getAttributeType(d,o)){case"TrustedHTML":i=ae.createHTML(i);break;case"TrustedScriptURL":i=ae.createScriptURL(i);break}try{h?t.setAttributeNS(h,c,i):t.setAttribute(c,i),xt(t)?Tt(t):E(n.removed)}catch(Dt){}}}else Mt(c,t)}Nt("afterSanitizeAttributes",t,null)}},Pt=function e(t){var n,r=Rt(t);Nt("beforeSanitizeShadowDOM",t,null);while(n=r.nextNode())Nt("uponSanitizeShadowNode",n,null),Lt(n),It(n),n.content instanceof s&&e(n.content);Nt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(i){var o,a,u,c,h,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ut=!i,ut&&(i="\x3c!--\x3e"),"string"!==typeof i&&!At(i)){if("function"!==typeof i.toString)throw L("toString is not a function");if(i=i.toString(),"string"!==typeof i)throw L("dirty is not a string, aborting")}if(!n.isSupported){if("object"===e(t.toStaticHTML)||"function"===typeof t.toStaticHTML){if("string"===typeof i)return t.toStaticHTML(i);if(At(i))return t.toStaticHTML(i.outerHTML)}return i}if(Ye||vt(d),n.removed=[],"string"===typeof i&&(Je=!1),Je){if(i.nodeName){var f=ye(i.nodeName);if(!xe[f]||Oe[f])throw L("root node is forbidden and cannot be sanitized in-place")}}else if(i instanceof l)o=Ct("\x3c!----\x3e"),a=o.ownerDocument.importNode(i,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?o=a:o.appendChild(a);else{if(!We&&!Ue&&!je&&-1===i.indexOf("<"))return ae&&Ge?ae.createHTML(i):i;if(o=Ct(i),!o)return We?null:Ge?le:""}o&&Ve&&Tt(o.firstChild);var p=Rt(Je?i:o);while(u=p.nextNode())3===u.nodeType&&u===c||(Lt(u),It(u),u.content instanceof s&&Pt(u.content),c=u);if(c=null,Je)return i;if(We){if(ze){h=de.call(o.ownerDocument);while(o.firstChild)h.appendChild(o.firstChild)}else h=o;return(Ne.shadowroot||Ne.shadowrootmod)&&(h=pe.call(r,h,!0)),h}var m=je?o.outerHTML:o.innerHTML;return je&&xe["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&N(ne,o.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+m),Ue&&(m=R(m,be," "),m=R(m,we," "),m=R(m,_e," ")),ae&&Ge?ae.createHTML(m):m},n.setConfig=function(e){vt(e),Ye=!0},n.clearConfig=function(){pt=null,Ye=!1},n.isValidAttribute=function(e,t,n){pt||vt({});var r=ye(e),i=ye(t);return kt(r,i,n)},n.addHook=function(e,t){"function"===typeof t&&(ge[e]=ge[e]||[],S(ge[e],t))},n.removeHook=function(e){if(ge[e])return E(ge[e])},n.removeHooks=function(e){ge[e]&&(ge[e]=[])},n.removeAllHooks=function(){ge={}},n}var ae=se();return ae}))},49743:function(e,t,n){class r extends Error{constructor(e,t,n){if(super(t),null==t&&null==n&&r.errorMap.has(e))return r.errorMap.get(e);null==t&&null==n?(this._error=e,r.errorMap.set(e,this)):this._error=e,this.details=n}get error(){return this._error}get name(){return this._error}equals(e){return e instanceof r&&e._error===this._error}toString(){return this._error}}r.errorMap=new Map,r.DIV0=new r("#DIV/0!"),r.NA=new r("#N/A"),r.NAME=new r("#NAME?"),r.NULL=new r("#NULL!"),r.NUM=new r("#NUM!"),r.REF=new r("#REF!"),r.VALUE=new r("#VALUE!"),r.NOT_IMPLEMENTED=e=>new r("#NAME?",`Function ${e} is not implemented.`),r.TOO_MANY_ARGS=e=>new r("#N/A",`Function ${e} has too many arguments.`),r.ARG_MISSING=e=>{const{Types:t}=n(32272);return new r("#N/A",`Argument type ${e.map((e=>t[e])).join(", ")} is missing.`)},r.ERROR=(e,t)=>new r("#ERROR!",e,t),e.exports=r},73375:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o}=n(32272),s=i,a=864e5,l=new Date(Date.UTC(1900,0,1)),u=[void 0,0,1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,1,2,3,4,5,6,0],c=[void 0,[1,2,3,4,5,6,7],[7,1,2,3,4,5,6],[6,0,1,2,3,4,5],void 0,void 0,void 0,void 0,void 0,void 0,void 0,[7,1,2,3,4,5,6],[6,7,1,2,3,4,5],[5,6,7,1,2,3,4],[4,5,6,7,1,2,3],[3,4,5,6,7,1,2],[2,3,4,5,6,7,1],[1,2,3,4,5,6,7]],h=[void 0,[6,0],[0,1],[1,2],[2,3],[3,4],[4,5],[5,6],void 0,void 0,void 0,[0],[1],[2],[3],[4],[5],[6]],d=/^\s*(\d\d?)\s*(:\s*\d\d?)?\s*(:\s*\d\d?)?\s*(pm|am)?\s*$/i,f=/^\s*((\d\d?)\s*([-\/])\s*(\d\d?))([\d:.apm\s]*)$/i,p=/^\s*((\d\d?)\s*([-/])\s*(jan\w*|feb\w*|mar\w*|apr\w*|may\w*|jun\w*|jul\w*|aug\w*|sep\w*|oct\w*|nov\w*|dec\w*))([\d:.apm\s]*)$/i,m=/^\s*((jan\w*|feb\w*|mar\w*|apr\w*|may\w*|jun\w*|jul\w*|aug\w*|sep\w*|oct\w*|nov\w*|dec\w*)\s*([-/])\s*(\d\d?))([\d:.apm\s]*)$/i;function g(e){const t=e.match(f),n=e.match(p),r=e.match(m);return t?e=t[1]+t[3]+(new Date).getFullYear()+t[5]:n?e=n[1]+n[3]+(new Date).getFullYear()+n[5]:r&&(e=r[1]+r[3]+(new Date).getFullYear()+r[5]),new Date(Date.parse(`${e} UTC`))}function v(e){const t=e.match(d);if(!t)return;const n=t[2]?t[2]:":00",r=t[3]?t[3]:":00",i=t[4]?" "+t[4]:"",o=new Date(Date.parse(`1/1/1900 ${t[1]+n+r+i} UTC`));let s=new Date;return s=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds())),new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()))}function y(e){const t=e>-22038912e5?2:1;return Math.floor((e-l)/864e5)+t}function b(e){if(e<0)throw r.VALUE;return e<=60?new Date(l.getTime()+864e5*(e-1)):new Date(l.getTime()+864e5*(e-2))}function w(e){if(e instanceof Date)return{date:e};e=s.accept(e);let t,n=!0;return isNaN(e)?(t=v(e),t?n=!1:t=g(e)):(e=Number(e),t=b(e)),{date:t,isDateGiven:n}}function _(e){return w(e).date}function E(e,t){return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e.getUTCDate()===t.getUTCDate()}function S(e){return 1900===e||1===new Date(e,1,29).getMonth()}const T={DATE:(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<0||e>=1e4)throw r.NUM;return e<1900&&(e+=1900),y(Date.UTC(e,t-1,n))},DATEDIF:(e,t,n)=>{if(e=_(e),t=_(t),n=s.accept(n,o.STRING).toLowerCase(),e>t)throw r.NUM;const i=t.getUTCFullYear()-e.getUTCFullYear(),l=t.getUTCMonth()-e.getUTCMonth(),u=t.getUTCDate()-e.getUTCDate();let c;switch(n){case"y":return c=l<0||0===l&&u<0?-1:0,c+i;case"m":return c=u<0?-1:0,12*i+l+c;case"d":return Math.floor(t-e)/a;case"md":return e.setUTCFullYear(t.getUTCFullYear()),u<0?e.setUTCMonth(t.getUTCMonth()-1):e.setUTCMonth(t.getUTCMonth()),Math.floor(t-e)/a;case"ym":return c=u<0?-1:0,(c+12*i+l)%12;case"yd":return l<0||0===l&&u<0?e.setUTCFullYear(t.getUTCFullYear()-1):e.setUTCFullYear(t.getUTCFullYear()),Math.floor(t-e)/a}},DATEVALUE:e=>{e=s.accept(e,o.STRING);const{date:t,isDateGiven:n}=w(e);if(!n)return 0;const i=y(t);if(i<0||i>2958465)throw r.VALUE;return i},DAY:e=>{const t=_(e);return t.getUTCDate()},DAYS:(e,t)=>{e=_(e),t=_(t);let n=0;return t<-22038912e5&&-22038912e5<e&&(n=1),Math.floor(e-t)/a+n},DAYS360:(e,t,n)=>{e=_(e),t=_(t),n=s.accept(n,o.BOOLEAN,!1),31===e.getUTCDate()&&e.setUTCDate(30),!n&&e.getUTCDate()<30&&t.getUTCDate()>30?t.setUTCMonth(t.getUTCMonth()+1,1):31===t.getUTCDate()&&t.setUTCDate(30);const r=t.getUTCFullYear()-e.getUTCFullYear(),i=t.getUTCMonth()-e.getUTCMonth(),a=t.getUTCDate()-e.getUTCDate();return 30*i+a+12*r*30},EDATE:(e,t)=>(e=_(e),t=s.accept(t,o.NUMBER),e.setUTCMonth(e.getUTCMonth()+t),y(e)),EOMONTH:(e,t)=>(e=_(e),t=s.accept(t,o.NUMBER),e.setUTCMonth(e.getUTCMonth()+t+1,0),y(e)),HOUR:e=>{const t=_(e);return t.getUTCHours()},ISOWEEKNUM:e=>{const t=_(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),r=n.getUTCDay();n.setUTCDate(n.getUTCDate()+4-r);const i=new Date(Date.UTC(n.getUTCFullYear(),0,1));return Math.ceil(((n-i)/864e5+1)/7)},MINUTE:e=>{const t=_(e);return t.getUTCMinutes()},MONTH:e=>{const t=_(e);return t.getUTCMonth()+1},NETWORKDAYS:(e,t,n)=>{e=_(e),t=_(t);let r=1;if(e>t){r=-1;const n=e;e=t,t=n}const i=[];null!=n&&s.flattenParams([n],o.NUMBER,!1,(e=>{i.push(_(e))}));let a=0;while(e<=t){if(0!==e.getUTCDay()&&6!==e.getUTCDay()){let t=!1;for(let n=0;n<i.length;n++)if(E(e,i[n])){t=!0;break}t||a++}e.setUTCDate(e.getUTCDate()+1)}return r*a},"NETWORKDAYS.INTL":(e,t,n,i)=>{e=_(e),t=_(t);let a=1;if(e>t){a=-1;const n=e;e=t,t=n}if(n=s.accept(n,null,1),"1111111"===n)return 0;if("string"===typeof n&&Number(n).toString()!==n){if(7!==n.length)throw r.VALUE;n=n.charAt(6)+n.slice(0,6);const e=[];for(let t=0;t<n.length;t++)"1"===n.charAt(t)&&e.push(t);n=e}else{if("number"!==typeof n)throw r.VALUE;n=h[n]}const l=[];null!=i&&s.flattenParams([i],o.NUMBER,!1,(e=>{l.push(_(e))}));let u=0;while(e<=t){let t=!1;for(let r=0;r<n.length;r++)if(n[r]===e.getUTCDay()){t=!0;break}if(!t){let t=!1;for(let n=0;n<l.length;n++)if(E(e,l[n])){t=!0;break}t||u++}e.setUTCDate(e.getUTCDate()+1)}return a*u},NOW:()=>{const e=new Date;return y(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))+(3600*e.getHours()+60*e.getMinutes()+e.getSeconds())/86400},SECOND:e=>{const t=_(e);return t.getUTCSeconds()},TIME:(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<0||e>32767||t<0||t>32767||n<0||n>32767)throw r.NUM;return(3600*e+60*t+n)/86400},TIMEVALUE:e=>(e=_(e),(3600*e.getUTCHours()+60*e.getUTCMinutes()+e.getUTCSeconds())/86400),TODAY:()=>{const e=new Date;return y(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},WEEKDAY:(e,t)=>{const n=_(e);t=s.accept(t,o.NUMBER,1);const i=n.getUTCDay(),a=c[t];if(!a)throw r.NUM;return a[i]},WEEKNUM:(e,t)=>{const n=_(e);if(t=s.accept(t,o.NUMBER,1),21===t)return T.ISOWEEKNUM(e);const r=u[t],i=new Date(Date.UTC(n.getUTCFullYear(),0,1)),a=i.getUTCDay()<r?1:0;return Math.ceil(((n-i)/864e5+1)/7)+a},WORKDAY:(e,t,n)=>T["WORKDAY.INTL"](e,t,1,n),"WORKDAY.INTL":(e,t,n,i)=>{if(e=_(e),t=s.accept(t,o.NUMBER),n=s.accept(n,null,1),"1111111"===n)throw r.VALUE;if("string"===typeof n&&Number(n).toString()!==n){if(7!==n.length)throw r.VALUE;n=n.charAt(6)+n.slice(0,6);const e=[];for(let t=0;t<n.length;t++)"1"===n.charAt(t)&&e.push(t);n=e}else{if("number"!==typeof n)throw r.VALUE;if(n=h[n],null==n)throw r.NUM}const a=[];null!=i&&s.flattenParams([i],o.NUMBER,!1,(e=>{a.push(_(e))})),e.setUTCDate(e.getUTCDate()+1);let l=0;while(l<t){let t=!1;for(let r=0;r<n.length;r++)if(n[r]===e.getUTCDay()){t=!0;break}if(!t){let t=!1;for(let n=0;n<a.length;n++)if(E(e,a[n])){t=!0;break}t||l++}e.setUTCDate(e.getUTCDate()+1)}return y(e)-1},YEAR:e=>{const t=_(e);return t.getUTCFullYear()},YEARFRAC:(e,t,n)=>{if(e=_(e),t=_(t),e>t){const n=e;e=t,t=n}if(n=s.accept(n,o.NUMBER,0),n=Math.trunc(n),n<0||n>4)throw r.VALUE;let i=e.getUTCDate();const a=e.getUTCMonth()+1,l=e.getUTCFullYear();let u=t.getUTCDate();const c=t.getUTCMonth()+1,h=t.getUTCFullYear();switch(n){case 0:return 31===i&&31===u?(i=30,u=30):31===i?i=30:30===i&&31===u&&(u=30),Math.abs(u+30*c+360*h-(i+30*a+360*l))/360;case 1:if(h-l<2){const n=S(l)&&1900!==l?366:365,r=T.DAYS(t,e);return r/n}{const n=h-l+1,r=(new Date(h+1,0,1)-new Date(l,0,1))/1e3/60/60/24,i=r/n;return T.DAYS(t,e)/i}case 2:return Math.abs(T.DAYS(t,e)/360);case 3:return Math.abs(T.DAYS(t,e)/365);case 4:return Math.abs(u+30*c+360*h-(i+30*a+360*l))/360}}};e.exports=T},82425:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o}=n(32272),s=i,a=n(47747),l=n(30285),u=2.5066282746310002,c={"BETA.DIST":(e,t,n,i,l,u)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.BOOLEAN),l=s.accept(l,o.NUMBER,0),u=s.accept(u,o.NUMBER,1),t<=0||n<=0||e<l||e>u||l===u)throw r.NUM;return e=(e-l)/(u-l),i?a.beta.cdf(e,t,n):a.beta.pdf(e,t,n)/(u-l)},"BETA.INV":(e,t,n,i,l)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.NUMBER,0),l=s.accept(l,o.NUMBER,1),t<=0||n<=0||e<=0||e>1)throw r.NUM;return a.beta.inv(e,t,n)*(l-i)+i},"BINOM.DIST":(e,t,n,i)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.BOOLEAN),t<0||n<0||n>1||e<0||e>t)throw r.NUM;return i?a.binomial.cdf(e,t,n):a.binomial.pdf(e,t,n)},"BINOM.DIST.RANGE":(e,t,n,i)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.NUMBER,n),e<0||t<0||t>1||n<0||n>e||i<n||i>e)throw r.NUM;let a=0;for(let r=n;r<=i;r++)a+=l.COMBIN(e,r)*Math.pow(t,r)*Math.pow(1-t,e-r);return a},"BINOM.INV":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<0||t<0||t>1||n<0||n>1)throw r.NUM;let i=0;while(i<=e){if(a.binomial.cdf(i,e,t)>=n)return i;i++}},"CHISQ.DIST":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),t=Math.trunc(t),e<0||t<1||t>10**10)throw r.NUM;return n?a.chisquare.cdf(e,t):a.chisquare.pdf(e,t)},"CHISQ.DIST.RT":(e,t)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),t=Math.trunc(t),e<0||t<1||t>10**10)throw r.NUM;return 1-a.chisquare.cdf(e,t)},"CHISQ.INV":(e,t)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),t=Math.trunc(t),e<0||e>1||t<1||t>10**10)throw r.NUM;return a.chisquare.inv(e,t)},"CHISQ.INV.RT":(e,t)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),t=Math.trunc(t),e<0||e>1||t<1||t>10**10)throw r.NUM;return a.chisquare.inv(1-e,t)},"CHISQ.TEST":(e,t)=>{const n=s.accept(e,o.ARRAY,void 0,!1,!1),i=s.accept(t,o.ARRAY,void 0,!1,!1);if(n.length!==i.length||n[0].length!==i[0].length||1===n.length&&1===n[0].length)throw r.NA;const a=n.length,l=n[0].length;let u=(a-1)*(l-1);u=1===a?l-1:a-1;let c=0;for(let o=0;o<a;o++)for(let e=0;e<l;e++)if("number"===typeof n[o][e]&&"number"===typeof i[o][e]){if(0===i[o][e])throw r.DIV0;c+=Math.pow(n[o][e]-i[o][e],2)/i[o][e]}let h=Math.exp(-.5*c);u%2===1&&(h*=Math.sqrt(2*c/Math.PI));let d=u;while(d>=2)h=h*c/d,d-=2;let f=h,p=u;while(f>1e-15*h)p+=2,f=f*c/p,h+=f;return 1-h},"CONFIDENCE.NORM":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),n=Math.trunc(n),e<=0||e>=1||t<=0||n<1)throw r.NUM;return a.normalci(1,e,t,n)[1]-1},"CONFIDENCE.T":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),n=Math.trunc(n),e<=0||e>=1||t<=0||n<1)throw r.NUM;if(1===n)throw r.DIV0;return a.tci(1,e,t,n)[1]-1},CORREL:(e,t)=>{if(e=s.accept(e,o.ARRAY,void 0,!0,!0),t=s.accept(t,o.ARRAY,void 0,!0,!0),e.length!==t.length)throw r.NA;const n=[],i=[];for(let r=0;r<e.length;r++)"number"===typeof e[r]&&"number"===typeof t[r]&&(n.push(e[r]),i.push(t[r]));if(n.length<=1)throw r.DIV0;return a.corrcoeff(n,i)},"COVARIANCE.P":(e,t)=>{if(e=s.accept(e,o.ARRAY,void 0,!0,!0),t=s.accept(t,o.ARRAY,void 0,!0,!0),e.length!==t.length)throw r.NA;const n=[],i=[];for(let r=0;r<e.length;r++)"number"===typeof e[r]&&"number"===typeof t[r]&&(n.push(e[r]),i.push(t[r]));const l=a.mean(n),u=a.mean(i);let c=0;for(let r=0;r<n.length;r++)c+=(n[r]-l)*(i[r]-u);return c/n.length},"COVARIANCE.S":(e,t)=>{if(e=s.accept(e,o.ARRAY,void 0,!0,!0),t=s.accept(t,o.ARRAY,void 0,!0,!0),e.length!==t.length)throw r.NA;const n=[],i=[];for(let r=0;r<e.length;r++)"number"===typeof e[r]&&"number"===typeof t[r]&&(n.push(e[r]),i.push(t[r]));if(n.length<=1)throw r.DIV0;return a.covariance(n,i)},DEVSQ:(...e)=>{let t=0,n=[];s.flattenParams(e,o.NUMBER,!0,((e,r)=>{"number"===typeof e&&(t+=e,n.push(e))}));const r=t/n.length;t=0;for(let i=0;i<n.length;i++)t+=(n[i]-r)**2;return t},"EXPON.DIST":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.BOOLEAN),e<0||t<=0)throw r.NUM;return n?a.exponential.cdf(e,t):a.exponential.pdf(e,t)},"F.DIST":(e,t,n,i)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.BOOLEAN),e<0||t<1||n<1)throw r.NUM;return t=Math.trunc(t),n=Math.trunc(n),i?a.centralF.cdf(e,t,n):a.centralF.pdf(e,t,n)},"F.DIST.RT":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<0||t<1||n<1)throw r.NUM;return t=Math.trunc(t),n=Math.trunc(n),1-a.centralF.cdf(e,t,n)},"F.INV":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<0||e>1)throw r.NUM;if(t<1||n<1)throw r.NUM;return t=Math.trunc(t),n=Math.trunc(n),a.centralF.inv(e,t,n)},"F.INV.RT":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<0||e>1)throw r.NUM;if(t<1||t>=Math.pow(10,10))throw r.NUM;if(n<1||n>=Math.pow(10,10))throw r.NUM;return t=Math.trunc(t),n=Math.trunc(n),a.centralF.inv(1-e,t,n)},"F.TEST":(e,t)=>{e=s.accept(e,o.ARRAY,void 0,!0,!0),t=s.accept(t,o.ARRAY,void 0,!0,!0);const n=[],i=[];let l=0,u=0;for(let r=0;r<Math.max(e.length,t.length);r++)"number"===typeof e[r]&&(n.push(e[r]),l+=e[r]),"number"===typeof t[r]&&(i.push(t[r]),u+=t[r]);if(n.length<=1||i.length<=1)throw r.DIV0;l/=n.length,u/=i.length;let c=0,h=0;for(let r=0;r<n.length;r++)c+=(l-n[r])**2;c/=n.length-1;for(let r=0;r<i.length;r++)h+=(u-i[r])**2;return h/=i.length-1,2*a.centralF.cdf(c/h,n.length-1,i.length-1)},FISHER:e=>{if(e=s.accept(e,o.NUMBER),e<=-1||e>=1)throw r.NUM;return Math.log((1+e)/(1-e))/2},FISHERINV:e=>{e=s.accept(e,o.NUMBER);let t=Math.exp(2*e);return(t-1)/(t+1)},FORECAST:(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.ARRAY,void 0,!0,!0),n=s.accept(n,o.ARRAY,void 0,!0,!0),n.length!==t.length)throw r.NA;const i=[],l=[];let u=!0;for(let r=0;r<t.length;r++)"number"===typeof t[r]&&"number"===typeof n[r]&&(i.push(t[r]),l.push(n[r]),n[r]!==n[0]&&(u=!1));if(u)throw r.DIV0;const c=a.mean(i),h=a.mean(l);let d=0,f=0;for(let r=0;r<i.length;r++)d+=(l[r]-h)*(i[r]-c),f+=(l[r]-h)**2;const p=d/f,m=c-p*h;return m+p*e},"FORECAST.ETS":()=>{},"FORECAST.ETS.CONFINT":()=>{},"FORECAST.ETS.SEASONALITY":()=>{},"FORECAST.ETS.STAT":()=>{},"FORECAST.LINEAR":(...e)=>c.FORECAST(...e),FREQUENCY:(e,t)=>{e=s.accept(e,o.ARRAY,void 0,!0,!0),t=s.accept(t,o.ARRAY,void 0,!0,!0);const n=[];for(let i=0;i<t.length;i++)"number"===typeof t[i]&&n.push(t[i]);n.sort(),n.push(1/0);const r=[];for(let i=0;i<n.length;i++){r[i]=[],r[i][0]=0;for(let t=0;t<e.length;t++){if("number"!==typeof e[t])continue;const o=e[t];o<=n[i]&&(r[i][0]++,e[t]=null)}}return r},GAMMA:e=>{if(e=s.accept(e,o.NUMBER),0===e||e<0&&e===Math.trunc(e))throw r.NUM;return a.gammafn(e)},"GAMMA.DIST":(e,t,n,i)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.BOOLEAN),e<0||t<=0||n<=0)throw r.NUM;return i?a.gamma.cdf(e,t,n,!0):a.gamma.pdf(e,t,n,!1)},"GAMMA.INV":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<0||e>1||t<=0||n<=0)throw r.NUM;return a.gamma.inv(e,t,n)},GAMMALN:e=>{if(e=s.accept(e,o.NUMBER),e<=0)throw r.NUM;return a.gammaln(e)},"GAMMALN.PRECISE":e=>{if(e=s.accept(e,o.NUMBER),e<=0)throw r.NUM;return a.gammaln(e)},GAUSS:e=>(e=s.accept(e,o.NUMBER),a.normal.cdf(e,0,1)-.5),GEOMEAN:(...e)=>{const t=[];return s.flattenParams(e,o.NUMBER,!0,((e,n)=>{"number"===typeof e&&t.push(e)})),a.geomean(t)},GROWTH:(e,t,n,i)=>{e=s.accept(e,o.ARRAY,void 0,!0,!0);for(let o=0;o<e.length;o++)if("number"!==typeof e[o])throw r.VALUE;t=s.accept(t,o.ARRAY,null,!0,!0);const a=null==t;if(null==t){t=[];for(let n=1;n<=e.length;n++)t.push(n)}else{if(t.length!==e.length)throw r.REF;for(let e=0;e<t.length;e++)if("number"!==typeof t[e])throw r.VALUE}if(n=s.accept(n,o.ARRAY,null,!1,!0),null==n&&a){n=[];for(let t=1;t<=e.length;t++)n.push(t);n=[n]}else null==n&&(n=Array.isArray(t[0])?t:[t]);i=s.accept(i,o.BOOLEAN,!0);const l=e.length;let u,c,h=0,d=0,f=0,p=0;for(let r=0;r<l;r++){const n=t[r],i=Math.log(e[r]);h+=n,d+=i,f+=n*i,p+=n*n}h/=l,d/=l,f/=l,p/=l,i?(u=(f-h*d)/(p-h*h),c=d-u*h):(u=f/p,c=0);const m=[];for(let o=0;o<n.length;o++){m[o]=[];for(let e=0;e<n[0].length;e++){if("number"!==typeof n[o][e])throw r.VALUE;m[o][e]=Math.exp(c+u*n[o][e])}}return m},HARMEAN:(...e)=>{let t=0,n=0;return s.flattenParams(e,o.NUMBER,!0,((e,r)=>{"number"===typeof e&&(n+=1/e,t++)})),t/n},"HYPGEOM.DIST":(e,t,n,i,a)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.NUMBER),a=s.accept(a,o.BOOLEAN),e=Math.trunc(e),t=Math.trunc(t),n=Math.trunc(n),i=Math.trunc(i),i<=0||e<0||t<=0||n<=0)throw r.NUM;if(t>i)throw r.NUM;if(n>i)throw r.NUM;if(t<e||n<e)throw r.NUM;if(e<t-i+n)throw r.NUM;function u(e,t,n,r){return l.COMBIN(n,e)*l.COMBIN(r-n,t-e)/l.COMBIN(r,t)}function c(e,t,n,r){let i=0;for(let o=0;o<=e;o++)i+=u(o,t,n,r);return i}return a?c(e,t,n,i):u(e,t,n,i)},INTERCEPT:(e,t)=>{if(e=s.accept(e,o.ARRAY,void 0,!0,!0),t=s.accept(t,o.ARRAY,void 0,!0,!0),t.length!==e.length)throw r.NA;const n=[],i=[];for(let r=0;r<e.length;r++)"number"===typeof e[r]&&"number"===typeof t[r]&&(n.push(e[r]),i.push(t[r]));if(n.length<=1)throw r.DIV0;const l=a.mean(n),u=a.mean(i);let c=0,h=0;for(let r=0;r<n.length;r++)c+=(i[r]-u)*(n[r]-l),h+=(i[r]-u)**2;const d=c/h;return l-d*u},KURT:(...e)=>{let t=0,n=[];s.flattenParams(e,o.NUMBER,!0,((e,r)=>{"number"===typeof e&&(t+=e,n.push(e))}));const r=n.length;t/=r;let i=0;for(let o=0;o<r;o++)i+=Math.pow(n[o]-t,4);return i/=Math.pow(a.stdev(n,!0),4),r*(r+1)/((r-1)*(r-2)*(r-3))*i-3*(r-1)*(r-1)/((r-2)*(r-3))},LINEST:()=>{},LOGEST:()=>{},"LOGNORM.DIST":(e,t,n,i)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.BOOLEAN),e<=0||n<=0)throw r.NUM;return i?a.lognormal.cdf(e,t,n):a.lognormal.pdf(e,t,n)},"LOGNORM.INV":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<=0||e>=1)throw r.NUM;if(n<=0)throw r.NUM;return a.lognormal.inv(e,t,n)},"MODE.MULT":()=>{},"MODE.SNGL":()=>{},"NEGBINOM.DIST":(e,t,n,i)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.BOOLEAN),e=Math.trunc(e),t=Math.trunc(t),n<0||n>1)throw r.NUM;if(e<0||t<1)throw r.NUM;return i?a.negbin.cdf(e,t,n):a.negbin.pdf(e,t,n)},"NORM.DIST":(e,t,n,i)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.BOOLEAN),n<=0)throw r.NUM;return i?a.normal.cdf(e,t,n):a.normal.pdf(e,t,n)},"NORM.INV":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),e<=0||e>=1)throw r.NUM;if(n<=0)throw r.NUM;return a.normal.inv(e,t,n)},"NORM.S.DIST":(e,t)=>(e=s.accept(e,o.NUMBER),t=s.accept(t,o.BOOLEAN),t?a.normal.cdf(e,0,1):a.normal.pdf(e,0,1)),"NORM.S.INV":e=>{if(e=s.accept(e,o.NUMBER),e<=0||e>=1)throw r.NUM;return a.normal.inv(e,0,1)},PEARSON:()=>{},"PERCENTILE.EXC":()=>{},"PERCENTILE.INC":()=>{},"PERCENTRANK.EXC":()=>{},"PERCENTRANK.INC":()=>{},PERMUTATIONA:()=>{},PHI:e=>(e=s.accept(e,o.NUMBER),Math.exp(-.5*e*e)/u),"POISSON.DIST":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.BOOLEAN),e<0||t<0)throw r.NUM;return e=Math.trunc(e),n?a.poisson.cdf(e,t):a.poisson.pdf(e,t)},PROB:()=>{},"QUARTILE.EXC":()=>{},"QUARTILE.INC":()=>{},"RANK.AVG":()=>{},"RANK.EQ":()=>{},RSQ:()=>{},SKEW:()=>{},"SKEW.P":()=>{},SLOPE:()=>{},STANDARDIZE:(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),n<=0)throw r.NUM;return(e-t)/n},"STDEV.P":()=>{},"STDEV.S":()=>{},STDEVA:()=>{},STDEVPA:()=>{},STEYX:()=>{},"T.DIST":(e,t,n)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.BOOLEAN),t<1)throw r.NUM;return n?a.studentt.cdf(e,t):a.studentt.pdf(e,t)},"T.DIST.2T":(e,t)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),t<1||e<0)throw r.NUM;return 2*(1-a.studentt.cdf(e,t))},"T.DIST.RT":(e,t)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),t<1)throw r.NUM;return 1-a.studentt.cdf(e,t)},"T.INV":(e,t)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),e<=0||e>1||t<1)throw r.NUM;return t=t%1===0?t:Math.trunc(t),a.studentt.inv(e,t)},"T.INV.2T":(e,t)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),e<=0||e>1||t<1)throw r.NUM;return t=t%1===0?t:Math.trunc(t),Math.abs(a.studentt.inv(e/2,t))},"T.TEST":()=>{},TREND:()=>{},TRIMMEAN:()=>{},"VAR.P":()=>{},"VAR.S":()=>{},VARA:()=>{},VARPA:()=>{},"WEIBULL.DIST":(e,t,n,i)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),n=s.accept(n,o.NUMBER),i=s.accept(i,o.BOOLEAN),e<0||t<=0||n<=0)throw r.NUM;return i?1-Math.exp(-Math.pow(e/n,t)):Math.pow(e,t-1)*Math.exp(-Math.pow(e/n,t))*t/Math.pow(n,t)},"Z.TEST":()=>{}};e.exports={DistributionFunctions:c}},82868:function(e,t,n){const r=n(49743),i=n(14632),{FormulaHelpers:o,Types:s}=n(32272),a=o,l=n(84856),u=n(47747),c=536870911,h=-536870912,d=511,f=-512,p=/^\s?[+-]?\s?[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?\s?$/,m=/^\s?([+-]?\s?([0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)?)\s?[ij]\s?$/,g=/^\s?([+-]?\s?[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)\s?([+-]?\s?([0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?)?)\s?[ij]\s?$/;function v(e){e=a.accept(e);let t=0,n=0,i="i";if("number"===typeof e)return{real:e,im:n,unit:i};if("boolean"===typeof e)throw r.VALUE;let o=e.match(p);if(o)return t=Number(o[0]),{real:t,im:n,unit:i};if(o=e.match(m),o)return n=Number(/^\s?[+-]?\s?$/.test(o[1])?o[1]+"1":o[1]),i=o[0].slice(-1),{real:t,im:n,unit:i};if(o=e.match(g),o)return t=Number(o[1]),n=Number(/^\s?[+-]?\s?$/.test(o[3])?o[3]+"1":o[3]),i=o[0].slice(-1),{real:t,im:n,unit:i};throw r.NUM}const y={BESSELI:(e,t)=>{if(e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN),t=Math.trunc(t),t<0)throw r.NUM;return l.besseli(e,t)},BESSELJ:(e,t)=>{if(e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN),t=Math.trunc(t),t<0)throw r.NUM;return l.besselj(e,t)},BESSELK:(e,t)=>{if(e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN),t=Math.trunc(t),t<0)throw r.NUM;return l.besselk(e,t)},BESSELY:(e,t)=>{if(e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN),t=Math.trunc(t),t<0)throw r.NUM;return l.bessely(e,t)},BIN2DEC:e=>{e=a.accept(e,s.NUMBER_NO_BOOLEAN);let t=e.toString();if(t.length>10)throw r.NUM;return 10===t.length&&"1"===t.substring(0,1)?parseInt(t.substring(1),2)+f:parseInt(t,2)},BIN2HEX:(e,t)=>{e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN,null);const n=e.toString();if(n.length>10)throw r.NUM;if(10===n.length&&"1"===n.substring(0,1))return(parseInt(n.substring(1),2)+0xfffffffe00).toString(16).toUpperCase();const o=parseInt(e,2).toString(16);if(null==t)return o.toUpperCase();if(t<0)throw r.NUM;if(t=Math.trunc(t),t>=o.length)return(i.REPT("0",t-o.length)+o).toUpperCase();throw r.NUM},BIN2OCT:(e,t)=>{e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER,null);let n=e.toString();if(n.length>10)throw r.NUM;if(10===n.length&&"1"===n.substr(0,1))return(parseInt(n.substr(1),2)+1073741312).toString(8);let o=parseInt(e,2).toString(8);if(null==t)return o.toUpperCase();if(t<0)throw r.NUM;if(t=Math.trunc(t),t>=o.length)return i.REPT("0",t-o.length)+o;throw r.NUM},BITAND:(e,t)=>{if(e=a.accept(e,s.NUMBER),t=a.accept(t,s.NUMBER),e<0||t<0)throw r.NUM;if(Math.floor(e)!==e||Math.floor(t)!==t)throw r.NUM;if(e>0xffffffffffff||t>0xffffffffffff)throw r.NUM;return e&t},BITLSHIFT:(e,t)=>{if(e=a.accept(e,s.NUMBER),t=a.accept(t,s.NUMBER),t=Math.trunc(t),Math.abs(t)>53)throw r.NUM;if(e<0||Math.floor(e)!==e||e>0xffffffffffff)throw r.NUM;const n=t>=0?e*2**t:Math.trunc(e/2**-t);if(n>0xffffffffffff)throw r.NUM;return n},BITOR:(e,t)=>{if(e=a.accept(e,s.NUMBER),t=a.accept(t,s.NUMBER),e<0||t<0)throw r.NUM;if(Math.floor(e)!==e||Math.floor(t)!==t)throw r.NUM;if(e>0xffffffffffff||t>0xffffffffffff)throw r.NUM;return e|t},BITRSHIFT:(e,t)=>(e=a.accept(e,s.NUMBER),t=a.accept(t,s.NUMBER),y.BITLSHIFT(e,-t)),BITXOR:(e,t)=>{if(e=a.accept(e,s.NUMBER),t=a.accept(t,s.NUMBER),e<0||e>0xffffffffffff||Math.floor(e)!==e)throw r.NUM;if(t<0||t>0xffffffffffff||Math.floor(t)!==t)throw r.NUM;return e^t},COMPLEX:(e,t,n)=>{if(e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN),n=a.accept(n,s.STRING,"i"),"i"!==n&&"j"!==n)throw r.VALUE;if(0===e&&0===t)return 0;if(0===e)return 1===t?n:-1===t?"-"+n:t.toString()+n;if(0===t)return e.toString();{let r=t>0?"+":"";return 1===t?e.toString()+r+n:-1===t?e.toString()+r+"-"+n:e.toString()+r+t.toString()+n}},DEC2BIN:(e,t)=>{if(e=a.accept(e,s.NUMBER),t=a.accept(t,s.NUMBER,null),e<f||e>d)throw r.NUM;if(e<0)return"1"+i.REPT("0",9-(512+e).toString(2).length)+(512+e).toString(2);let n=parseInt(e,10).toString(2);if(null==t)return n;if(t=Math.trunc(t),t<=0)throw r.NUM;if(t<n.length)throw r.NUM;return i.REPT("0",t-n.length)+n},DEC2HEX:(e,t)=>{if(e=a.accept(e,s.NUMBER),t=a.accept(t,s.NUMBER,null),e<-549755813888||e>549755813888)throw r.NUM;if(e<0)return(1099511627776+e).toString(16).toUpperCase();let n=parseInt(e,10).toString(16);if(null==t)return n.toUpperCase();if(t=Math.trunc(t),t<=0)throw r.NUM;if(t<n.length)throw r.NUM;return i.REPT("0",t-n.length)+n.toUpperCase()},DEC2OCT:(e,t)=>{if(e=a.accept(e,s.NUMBER),t=a.accept(t,s.NUMBER,null),e<-536870912||e>536870912)throw r.NUM;if(e<0)return(e+1073741824).toString(8);let n=parseInt(e,10).toString(8);if(null==t)return n.toUpperCase();if(t=Math.trunc(t),t<=0)throw r.NUM;if(t<n.length)throw r.NUM;return i.REPT("0",t-n.length)+n},DELTA:(e,t)=>(e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN,0),e===t?1:0),ERF:(e,t)=>(e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN,0),u.erf(e)),ERFC:e=>(e=a.accept(e,s.NUMBER_NO_BOOLEAN),u.erfc(e)),GESTEP:(e,t)=>(e=a.accept(e,s.NUMBER_NO_BOOLEAN),t=a.accept(t,s.NUMBER_NO_BOOLEAN,0),e>=t?1:0),HEX2BIN:(e,t)=>{if(e=a.accept(e,s.STRING),t=a.accept(t,s.NUMBER,null),e.length>10||!/^[0-9a-fA-F]*$/.test(e))throw r.NUM;let n=10===e.length&&"f"===e.substr(0,1).toLowerCase(),o=n?parseInt(e,16)-1099511627776:parseInt(e,16);if(o<f||o>d)throw r.NUM;if(n)return"1"+i.REPT("0",9-(o+512).toString(2).length)+(o+512).toString(2);let l=o.toString(2);if(null==t)return l;if(t=Math.trunc(t),t<=0||t<l.length)throw r.NUM;return i.REPT("0",t-l.length)+l},HEX2DEC:e=>{if(e=a.accept(e,s.STRING),e.length>10||!/^[0-9a-fA-F]*$/.test(e))throw r.NUM;let t=parseInt(e,16);return t>=549755813888?t-1099511627776:t},HEX2OCT:(e,t)=>{if(e=a.accept(e,s.STRING),e.length>10||!/^[0-9a-fA-F]*$/.test(e))throw r.NUM;let n=y.HEX2DEC(e);if(n>c||n<h)throw r.NUM;return y.DEC2OCT(n,t)},IMABS:e=>{const{real:t,im:n}=v(e);return Math.sqrt(Math.pow(t,2)+Math.pow(n,2))},IMAGINARY:e=>v(e).im,IMARGUMENT:e=>{const{real:t,im:n}=v(e);if(0===t&&0===n)throw r.DIV0;return 0===t&&n>0?Math.PI/2:0===t&&n<0?-Math.PI/2:t<0&&0===n?Math.PI:t>0&&0===n?0:t>0?Math.atan(n/t):t<0&&n>0?Math.atan(n/t)+Math.PI:Math.atan(n/t)-Math.PI},IMCONJUGATE:e=>{const{real:t,im:n,unit:r}=v(e);return 0!==n?y.COMPLEX(t,-n,r):""+t},IMCOS:e=>{const{real:t,im:n,unit:r}=v(e);let i=Math.cos(t)*(Math.exp(n)+Math.exp(-n))/2,o=-Math.sin(t)*(Math.exp(n)-Math.exp(-n))/2;return y.COMPLEX(i,o,r)},IMCOSH:e=>{const{real:t,im:n,unit:r}=v(e);let i=Math.cos(n)*(Math.exp(t)+Math.exp(-t))/2,o=-Math.sin(n)*(Math.exp(t)-Math.exp(-t))/2;return y.COMPLEX(i,-o,r)},IMCOT:e=>{e=a.accept(e);let t=y.IMCOS(e),n=y.IMSIN(e);return y.IMDIV(t,n)},IMCSC:e=>(e=a.accept(e),y.IMDIV("1",y.IMSIN(e))),IMCSCH:e=>(e=a.accept(e),y.IMDIV("1",y.IMSINH(e))),IMDIV:(e,t)=>{const n=v(e),i=n.real,o=n.im,s=n.unit,a=v(t),l=a.real,u=a.im,c=a.unit;if(0===l&&0===u||s!==c)throw r.NUM;let h=s,d=Math.pow(l,2)+Math.pow(u,2);return y.COMPLEX((i*l+o*u)/d,(o*l-i*u)/d,h)},IMEXP:e=>{const{real:t,im:n,unit:r}=v(e);let i=Math.exp(t);return y.COMPLEX(i*Math.cos(n),i*Math.sin(n),r)},IMLN:e=>{const{real:t,im:n,unit:r}=v(e);return y.COMPLEX(Math.log(Math.sqrt(Math.pow(t,2)+Math.pow(n,2))),Math.atan(n/t),r)},IMLOG10:e=>{const{real:t,im:n,unit:r}=v(e);let i=Math.log(Math.sqrt(Math.pow(t,2)+Math.pow(n,2)))/Math.log(10),o=Math.atan(n/t)/Math.log(10);return y.COMPLEX(i,o,r)},IMLOG2:e=>{const{real:t,im:n,unit:r}=v(e);let i=Math.log(Math.sqrt(Math.pow(t,2)+Math.pow(n,2)))/Math.log(2),o=Math.atan(n/t)/Math.log(2);return y.COMPLEX(i,o,r)},IMPOWER:(e,t)=>{let{unit:n}=v(e);t=a.accept(t,s.NUMBER_NO_BOOLEAN);let r=Math.pow(y.IMABS(e),t),i=y.IMARGUMENT(e),o=r*Math.cos(t*i),l=r*Math.sin(t*i);return y.COMPLEX(o,l,n)},IMPRODUCT:(...e)=>{let t,n=0;return a.flattenParams(e,null,!1,(e=>{if(0===n)t=a.accept(e),v(t);else{const n=v(t),i=n.real,o=n.im,s=n.unit,a=v(e),l=a.real,u=a.im,c=a.unit;if(s!==c)throw r.VALUE;t=y.COMPLEX(i*l-o*u,i*u+o*l)}n++}),1),t},IMREAL:e=>v(e).real,IMSEC:e=>y.IMDIV("1",y.IMCOS(e)),IMSECH:e=>y.IMDIV("1",y.IMCOSH(e)),IMSIN:e=>{const{real:t,im:n,unit:r}=v(e);let i=Math.sin(t)*(Math.exp(n)+Math.exp(-n))/2,o=Math.cos(t)*(Math.exp(n)-Math.exp(-n))/2;return y.COMPLEX(i,o,r)},IMSINH:e=>{const{real:t,im:n,unit:r}=v(e);let i=Math.cos(n)*(Math.exp(t)-Math.exp(-t))/2,o=Math.sin(n)*(Math.exp(t)+Math.exp(-t))/2;return y.COMPLEX(i,o,r)},IMSQRT:e=>{const{unit:t}=v(e);let n=Math.sqrt(y.IMABS(e)),r=y.IMARGUMENT(e);return y.COMPLEX(n*Math.cos(r/2),n*Math.sin(r/2),t)},IMSUB:(e,t)=>{const n=v(e),i=n.real,o=n.im,s=n.unit,a=v(t),l=a.real,u=a.im,c=a.unit;if(s!==c)throw r.VALUE;return y.COMPLEX(i-l,o-u,s)},IMSUM:(...e)=>{let t,n=0,i=0;return a.flattenParams(e,null,!1,(e=>{const{real:o,im:s,unit:a}=v(e);if(t||(t=a),t!==a)throw r.VALUE;n+=o,i+=s})),y.COMPLEX(n,i,t)},IMTAN:e=>{const{unit:t}=v(e);return y.IMDIV(y.IMSIN(e),y.IMCOS(e),t)},OCT2BIN:(e,t)=>{if(e=a.accept(e,s.STRING),t=a.accept(t,s.NUMBER,null),e.length>10)throw r.NUM;if(t>10)throw r.NUM;if(null!==t&&t<0)throw r.NUM;t=Math.trunc(t);let n=10===e.length&&"7"===e.substring(0,1),o=y.OCT2DEC(e);if(o<f||o>d)return r.NUM;if(n)return"1"+i.REPT("0",9-(512+o).toString(2).length)+(512+o).toString(2);let l=o.toString(2);if(0===t)return l;if(t<l.length)throw r.NUM;return i.REPT("0",t-l.length)+l},OCT2DEC:e=>{if(e=a.accept(e,s.STRING),e.length>10)throw r.NUM;for(const n of e)if(n<"0"||n>"7")throw r.NUM;let t=parseInt(e,8);return t>=536870912?t-1073741824:t},OCT2HEX:(e,t)=>{if(e=a.accept(e,s.STRING),t=a.accept(t,s.NUMBER_NO_BOOLEAN,null),e.length>10)throw r.NUM;for(const i of e)if(i<"0"||i>"7")throw r.NUM;if(t=Math.trunc(t),t<0||t>10)throw r.NUM;let n=y.OCT2DEC(e),o=y.DEC2HEX(n);if(0===t)return o;if(t<o.length)throw r.NUM;return i.REPT("0",t-o.length)+o}};e.exports=y},22013:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o}=n(32272),s=i,a={"#NULL!":1,"#DIV/0!":2,"#VALUE!":3,"#REF!":4,"#NAME?":5,"#NUM!":6,"#N/A":7},l={CELL:(e,t)=>{},"ERROR.TYPE":e=>{if(e=s.accept(e),e instanceof r)return a[e.toString()];throw r.NA},INFO:()=>{},ISBLANK:e=>!!e.ref&&(null==e.value||""===e.value),ISERR:e=>(e=s.accept(e),e instanceof r&&"#N/A"!==e.toString()),ISERROR:e=>(e=s.accept(e),e instanceof r),ISEVEN:e=>(e=s.accept(e,o.NUMBER),e=Math.trunc(e),e%2===0),ISLOGICAL:e=>(e=s.accept(e),"boolean"===typeof e),ISNA:e=>(e=s.accept(e),e instanceof r&&"#N/A"===e.toString()),ISNONTEXT:e=>(e=s.accept(e),"string"!==typeof e),ISNUMBER:e=>(e=s.accept(e),"number"===typeof e),ISREF:e=>!!e.ref&&((!s.isCellRef(e)||!(e.ref.row>1048576||e.ref.col>16384))&&((!s.isRangeRef(e)||!(e.ref.from.row>1048576||e.ref.from.col>16384||e.ref.to.row>1048576||e.ref.to.col>16384))&&(e=s.accept(e),!(e instanceof r&&"#REF!"===e.toString())))),ISTEXT:e=>(e=s.accept(e),"string"===typeof e),N:e=>{e=s.accept(e);const t=typeof e;if("number"===t)return e;if("boolean"===t)return Number(e);if(e instanceof r)throw e;return 0},NA:()=>{throw r.NA},TYPE:e=>{if(e.ref){if(s.isRangeRef(e))return 16;if(s.isCellRef(e)&&(e=s.accept(e),"string"===typeof e&&0===e.length))return 1}e=s.accept(e);const t=typeof e;return"number"===t?1:"string"===t?2:"boolean"===t?4:e instanceof r?16:Array.isArray(e)?64:void 0}};e.exports=l},40548:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o}=n(32272),s=i;function a(e){let t=0,n=0;return s.flattenParams(e,null,!0,(e=>{const r=typeof e;"string"===r?"TRUE"===e?e=!0:"FALSE"===e&&(e=!1):"number"===r&&(e=Boolean(e)),"boolean"===typeof e&&(!0===e?t++:n++)})),[t,n]}const l={AND:(...e)=>{const[t,n]=a(e);return 0===t&&0===n?r.VALUE:t>0&&0===n},FALSE:()=>!1,IF:(e,t,n,r)=>(t=s.accept(t,o.BOOLEAN),n=s.accept(n),r=s.accept(r,null,!1),t?n:r),IFERROR:(e,t)=>e.value instanceof r?s.accept(t):s.accept(e),IFNA:function(e,t){if(arguments.length>2)throw r.TOO_MANY_ARGS("IFNA");return r.NA.equals(e.value)?s.accept(t):s.accept(e)},IFS:(...e)=>{if(e.length%2!==0)return new r("#N/A","IFS expects all arguments after position 0 to be in pairs.");for(let t=0;t<e.length/2;t++){const n=s.accept(e[2*t],o.BOOLEAN),r=s.accept(e[2*t+1]);if(n)return r}return r.NA},NOT:e=>(e=s.accept(e,o.BOOLEAN),!e),OR:(...e)=>{const[t,n]=a(e);return 0===t&&0===n?r.VALUE:t>0},SWITCH:(...e)=>{},TRUE:()=>!0,XOR:(...e)=>{const[t,n]=a(e);return 0===t&&0===n?r.VALUE:t%2===1}};e.exports=l},30285:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o,Factorials:s,Criteria:a}=n(32272),{Infix:l}=n(33084),u=i,c=[],h=[];function d(e){return e<=100?s[e]:c[e]>0?c[e]:c[e]=d(e-1)*e}function f(e){return 1===e||0===e?1:2===e?2:h[e]>0?h[e]:h[e]=f(e-2)*e}const p={ABS:e=>(e=u.accept(e,o.NUMBER),Math.abs(e)),AGGREGATE:(e,t,n,...r)=>{},ARABIC:e=>{if(e=u.accept(e,o.STRING).toUpperCase(),!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(e))throw new r("#VALUE!","Invalid roman numeral in ARABIC evaluation.");let t=0;return e.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g,(function(e){t+={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}[e]})),t},BASE:(e,t,n)=>{if(e=u.accept(e,o.NUMBER),e<0||e>=2**53)throw r.NUM;if(t=u.accept(t,o.NUMBER),t<2||t>36)throw r.NUM;if(n=u.accept(n,o.NUMBER,0),n<0)throw r.NUM;const i=e.toString(t).toUpperCase();return new Array(Math.max(n+1-i.length,0)).join("0")+i},CEILING:(e,t)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),0===t)return 0;if(e/t%1===0)return e;const n=Math.abs(t),r=Math.floor(Math.abs(e)/n);if(e<0){const e=t<0;return e?-n*(r+1):-n*r}return(r+1)*n},"CEILING.MATH":(e,t,n)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER,e>0?1:-1),n=u.accept(n,o.NUMBER,0),e>=0)return p.CEILING(e,t);const r=n?t:0;return p.CEILING(e,t)-r},"CEILING.PRECISE":(e,t)=>(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER,1),p.CEILING(e,Math.abs(t))),COMBIN:(e,t)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),e<0||t<0||e<t)throw r.NUM;const n=p.FACT(e),i=p.FACT(t);return n/i/p.FACT(e-t)},COMBINA:(e,t)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),(0===e||1===e)&&0===t)return 1;if(e<0||t<0)throw r.NUM;return p.COMBIN(e+t-1,e-1)},DECIMAL:(e,t)=>{if(e=u.accept(e,o.STRING),t=u.accept(t,o.NUMBER),t=Math.trunc(t),t<2||t>36)throw r.NUM;const n=parseInt(e,t);if(isNaN(n))throw r.NUM;return n},DEGREES:e=>(e=u.accept(e,o.NUMBER),e*(180/Math.PI)),EVEN:e=>p.CEILING(e,-2),EXP:e=>(e=u.accept(e,o.NUMBER),Math.exp(e)),FACT:e=>{if(e=u.accept(e,o.NUMBER),e=Math.trunc(e),e>170||e<0)throw r.NUM;return e<=100?s[e]:d(e)},FACTDOUBLE:e=>{if(e=u.accept(e,o.NUMBER),e=Math.trunc(e),e<-1)throw r.NUM;return-1===e?1:f(e)},FLOOR:(e,t)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),0===t)return 0;if(e>0&&t<0)throw r.NUM;if(e/t%1===0)return e;const n=Math.abs(t),i=Math.floor(Math.abs(e)/n);if(e<0){const e=t<0;return e?-n*i:-n*(i+1)}return i*n},"FLOOR.MATH":(e,t,n)=>(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER,e>0?1:-1),n=u.accept(n,o.NUMBER,0),0===n||e>=0?p.FLOOR(e,Math.abs(t)):p.FLOOR(e,t)+t),"FLOOR.PRECISE":(e,t)=>(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER,1),p.FLOOR(e,Math.abs(t))),GCD:(...e)=>{const t=[];u.flattenParams(e,null,!1,(e=>{if(e="boolean"===typeof e?NaN:Number(e),isNaN(e))throw r.VALUE;if(e<0||e>9007199254740990)throw r.NUM;t.push(Math.trunc(e))}),0);let n,i,o=e.length,s=Math.abs(t[0]);for(n=1;n<o;n++){i=Math.abs(t[n]);while(s&&i)s>i?s%=i:i%=s;s+=i}return s},INT:e=>(e=u.accept(e,o.NUMBER),Math.floor(e)),"ISO.CEILING":(...e)=>p["CEILING.PRECISE"](...e),LCM:(...e)=>{const t=[];u.flattenParams(e,null,!1,(e=>{if(e="boolean"===typeof e?NaN:Number(e),isNaN(e))throw r.VALUE;if(e<0||e>9007199254740990)throw r.NUM;t.push(Math.trunc(e))}),1);let n=t.length,i=Math.abs(t[0]);for(let r=1;r<n;r++){let e=Math.abs(t[r]),n=i;while(i&&e)i>e?i%=e:e%=i;i=Math.abs(n*t[r])/(i+e)}return i},LN:e=>(e=u.accept(e,o.NUMBER),Math.log(e)),LOG:(e,t)=>(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER,10),Math.log(e)/Math.log(t)),LOG10:e=>(e=u.accept(e,o.NUMBER),Math.log10(e)),MDETERM:e=>{if(e=u.accept(e,o.ARRAY,void 0,!1,!0),e[0].length!==e.length)throw r.VALUE;const t=e.length,n=e[0].length;let i,s,a=0;if(1===t)return e[0][0];if(2===t)return e[0][0]*e[1][1]-e[0][1]*e[1][0];for(let r=0;r<n;r++){i=e[0][r],s=e[0][r];for(let o=1;o<t;o++)s*=e[o][((r+o)%n+n)%n],i*=e[o][((r-o)%n+n)%n];a+=s-i}return a},MINVERSE:e=>{},MMULT:(e,t)=>{e=u.accept(e,o.ARRAY,void 0,!1,!0),t=u.accept(t,o.ARRAY,void 0,!1,!0);const n=e.length,i=e[0].length,s=t.length,a=t[0].length,l=new Array(n);if(i!==s)throw r.VALUE;for(let o=0;o<n;o++){l[o]=new Array(a);for(let n=0;n<a;n++){l[o][n]=0;for(let s=0;s<i;s++){const i=e[o][s],a=t[s][n];if("number"!==typeof i||"number"!==typeof a)throw r.VALUE;l[o][n]+=e[o][s]*t[s][n]}}}return l},MOD:(e,t)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),0===t)throw r.DIV0;return e-t*p.INT(e/t)},MROUND:(e,t)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),0===t)return 0;if(e>0&&t<0||e<0&&t>0)throw r.NUM;return e/t%1===0?e:Math.round(e/t)*t},MULTINOMIAL:(...e)=>{let t=0,n=1;return u.flattenParams(e,o.NUMBER,!1,(e=>{if(e<0)throw r.NUM;t+=e,n*=d(e)})),d(t)/n},MUNIT:e=>{e=u.accept(e,o.NUMBER);const t=[];for(let n=0;n<e;n++){const r=[];for(let t=0;t<e;t++)n===t?r.push(1):r.push(0);t.push(r)}return t},ODD:e=>{if(e=u.accept(e,o.NUMBER),0===e)return 1;let t=Math.ceil(Math.abs(e));return t=1&t?t:t+1,e>0?t:-t},PI:()=>Math.PI,POWER:(e,t)=>(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),e**t),PRODUCT:(...e)=>{let t=1;return u.flattenParams(e,null,!0,((e,n)=>{const r=Number(e);n.isLiteral&&!isNaN(r)?t*=r:"number"===typeof e&&(t*=e)}),1),t},QUOTIENT:(e,t)=>(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),Math.trunc(e/t)),RADIANS:e=>(e=u.accept(e,o.NUMBER),e/180*Math.PI),RAND:()=>Math.random(),RANDBETWEEN:(e,t)=>(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),Math.floor(Math.random()*(t-e+1)+e)),ROMAN:(e,t)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER,0),0!==t)throw Error("ROMAN: only allows form=0 (classic form).");const n=String(e).split(""),r=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];let i="",s=3;while(s--)i=(r[+n.pop()+10*s]||"")+i;return new Array(+n.join("")+1).join("M")+i},ROUND:(e,t)=>{e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER);const n=Math.pow(10,Math.abs(t)),r=e>0?1:-1;return t>0?r*Math.round(Math.abs(e)*n)/n:0===t?r*Math.round(Math.abs(e)):r*Math.round(Math.abs(e)/n)*n},ROUNDDOWN:(e,t)=>{e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER);const n=Math.pow(10,Math.abs(t)),r=e>0?1:-1;if(t>0){const t=1/n*.5;return r*Math.round((Math.abs(e)-t)*n)/n}if(0===t){const t=.5;return r*Math.round(Math.abs(e)-t)}{const t=.5*n;return r*Math.round((Math.abs(e)-t)/n)*n}},ROUNDUP:(e,t)=>{e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER);const n=Math.pow(10,Math.abs(t)),r=e>0?1:-1;if(t>0){const t=1/n*.5;return r*Math.round((Math.abs(e)+t)*n)/n}if(0===t){const t=.5;return r*Math.round(Math.abs(e)+t)}{const t=.5*n;return r*Math.round((Math.abs(e)+t)/n)*n}},SERIESSUM:(e,t,n,i)=>{e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),n=u.accept(n,o.NUMBER);let s,a=0;return u.flattenParams([i],o.NUMBER,!1,(i=>{if("number"!==typeof i)throw r.VALUE;0===a?s=i*Math.pow(e,t):s+=i*Math.pow(e,t+a*n),a++})),s},SIGN:e=>(e=u.accept(e,o.NUMBER),e>0?1:0===e?0:-1),SQRT:e=>{if(e=u.accept(e,o.NUMBER),e<0)throw r.NUM;return Math.sqrt(e)},SQRTPI:e=>{if(e=u.accept(e,o.NUMBER),e<0)throw r.NUM;return Math.sqrt(e*Math.PI)},SUBTOTAL:()=>{},SUM:(...e)=>{let t=0;return u.flattenParams(e,o.NUMBER,!0,((e,n)=>{(n.isLiteral||"number"===typeof e)&&(t+=e)})),t},SUMIF:(e,t,n,r)=>{const i=u.retrieveRanges(e,t,r);t=i[0],r=i[1],n=u.retrieveArg(e,n);const o=n.isArray;n=a.parse(u.accept(n));let s=0;return t.forEach(((e,t)=>{e.forEach(((e,i)=>{const a=r[t][i];"number"===typeof a&&("wc"===n.op?n.match===n.value.test(e)&&(s+=a):l.compareOp(e,n.op,n.value,Array.isArray(e),o)&&(s+=a))}))})),s},SUMIFS:()=>{},SUMPRODUCT:(e,...t)=>{e=u.accept(e,o.ARRAY,void 0,!1,!0),t.forEach((t=>{if(t=u.accept(t,o.ARRAY,void 0,!1,!0),e[0].length!==t[0].length||e.length!==t.length)throw r.VALUE;for(let n=0;n<e.length;n++)for(let r=0;r<e[0].length;r++)"number"!==typeof e[n][r]&&(e[n][r]=0),"number"!==typeof t[n][r]&&(t[n][r]=0),e[n][r]*=t[n][r]}));let n=0;return e.forEach((e=>{e.forEach((e=>{n+=e}))})),n},SUMSQ:(...e)=>{let t=0;return u.flattenParams(e,o.NUMBER,!0,((e,n)=>{(n.isLiteral||"number"===typeof e)&&(t+=e**2)})),t},SUMX2MY2:(e,t)=>{const n=[],i=[];let o=0;if(u.flattenParams([e],null,!1,((e,t)=>{n.push(e)})),u.flattenParams([t],null,!1,((e,t)=>{i.push(e)})),n.length!==i.length)throw r.NA;for(let r=0;r<n.length;r++)"number"===typeof n[r]&&"number"===typeof i[r]&&(o+=n[r]**2-i[r]**2);return o},SUMX2PY2:(e,t)=>{const n=[],i=[];let o=0;if(u.flattenParams([e],null,!1,((e,t)=>{n.push(e)})),u.flattenParams([t],null,!1,((e,t)=>{i.push(e)})),n.length!==i.length)throw r.NA;for(let r=0;r<n.length;r++)"number"===typeof n[r]&&"number"===typeof i[r]&&(o+=n[r]**2+i[r]**2);return o},SUMXMY2:(e,t)=>{const n=[],i=[];let o=0;if(u.flattenParams([e],null,!1,((e,t)=>{n.push(e)})),u.flattenParams([t],null,!1,((e,t)=>{i.push(e)})),n.length!==i.length)throw r.NA;for(let r=0;r<n.length;r++)"number"===typeof n[r]&&"number"===typeof i[r]&&(o+=(n[r]-i[r])**2);return o},TRUNC:e=>(e=u.accept(e,o.NUMBER),Math.trunc(e))};e.exports=p},95714:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o,WildCard:s,Address:a}=n(32272),l=n(21614),u=i,c={ADDRESS:(e,t,n,i,s)=>{if(e=u.accept(e,o.NUMBER),t=u.accept(t,o.NUMBER),n=u.accept(n,o.NUMBER,1),i=u.accept(i,o.BOOLEAN,!0),s=u.accept(s,o.STRING,""),e<1||t<1||n<1||n>4)throw r.VALUE;let l="";return s.length>0&&(/[^A-Za-z_.\d\u007F-\uFFFF]/.test(s)?l+=`'${s}'!`:l+=s+"!"),i?(l+=1===n||3===n?"$":"",l+=a.columnNumberToName(t),l+=1===n||2===n?"$":"",l+=e):(l+="R",l+=4===n||3===n?`[${e}]`:e,l+="C",l+=4===n||2===n?`[${t}]`:t),l},AREAS:e=>(e=u.accept(e),e instanceof l?e.length:1),CHOOSE:(e,...t)=>{},COLUMN:(e,t)=>{if(null==t){if(null!=e.position.col)return e.position.col;throw Error("FormulaParser.parse is called without position parameter.")}if("object"!==typeof t||Array.isArray(t))throw r.VALUE;if(u.isCellRef(t))return t.ref.col;if(u.isRangeRef(t))return t.ref.from.col;throw Error("ReferenceFunctions.COLUMN should not reach here.")},COLUMNS:(e,t)=>{if(null==t)throw Error("COLUMNS requires one argument");if("object"!=typeof t||Array.isArray(t))throw r.VALUE;if(u.isCellRef(t))return 1;if(u.isRangeRef(t))return Math.abs(t.ref.from.col-t.ref.to.col)+1;throw Error("ReferenceFunctions.COLUMNS should not reach here.")},HLOOKUP:(e,t,n,i)=>{e=u.accept(e);try{t=u.accept(t,o.ARRAY,void 0,!1)}catch(l){if(l instanceof r)throw r.NA;throw l}if(n=u.accept(n,o.NUMBER),i=u.accept(i,o.BOOLEAN,!0),n<1)throw r.VALUE;if(void 0===t[n-1])throw r.REF;const a=typeof e;if(i){let i=a===typeof t[0][0]?t[0][0]:null;for(let o=1;o<t[0].length;o++){const s=t[0][o],l=typeof s;if(l===a){if(i>e&&s>e)throw r.NA;if(s===e)return t[n-1][o];if(null!=i&&s>e&&i<=e)return t[n-1][o-1];i=s}}if(null==i)throw r.NA;return i}{let i=-1;if(i=s.isWildCard(e)?t[0].findIndex((t=>s.toRegex(e,"i").test(t))):t[0].findIndex((t=>t===e)),-1===i)throw r.NA;return t[n-1][i]}},INDEX:(e,t,n,i,s)=>{n=e.utils.extractRefValue(n),n={value:n.val,isArray:n.isArray},n=u.accept(n,o.NUMBER),n=Math.trunc(n),null==i?i=1:(i=e.utils.extractRefValue(i),i={value:i.val,isArray:i.isArray},i=u.accept(i,o.NUMBER,1),i=Math.trunc(i)),null==s?s=1:(s=e.utils.extractRefValue(s),s={value:s.val,isArray:s.isArray},s=u.accept(s,o.NUMBER,1),s=Math.trunc(s));let a=t;if(t instanceof l)a=t.refs[s-1];else if(s>1)throw r.REF;if(0===n&&0===i)return a;if(0===n){if(u.isRangeRef(a)){if(a.ref.to.col-a.ref.from.col<i-1)throw r.REF;return a.ref.from.col+=i-1,a.ref.to.col=a.ref.from.col,a}if(Array.isArray(a)){const e=[];return a.forEach((t=>e.push([t[i-1]]))),e}}if(0===i){if(u.isRangeRef(a)){if(a.ref.to.row-a.ref.from.row<n-1)throw r.REF;return a.ref.from.row+=n-1,a.ref.to.row=a.ref.from.row,a}if(Array.isArray(a))return a[i-1]}if(0!==n&&0!==i){if(u.isRangeRef(a)){if(a=a.ref,a.to.row-a.from.row<n-1||a.to.col-a.from.col<i-1)throw r.REF;return{ref:{row:a.from.row+n-1,col:a.from.col+i-1}}}if(u.isCellRef(a)){if(a=a.ref,n>1||i>1)throw r.REF;return{ref:{row:a.row+n-1,col:a.col+i-1}}}if(Array.isArray(a)){if(a.length<n||a[0].length<i)throw r.REF;return a[n-1][i-1]}}},MATCH:()=>{},ROW:(e,t)=>{if(null==t){if(null!=e.position.row)return e.position.row;throw Error("FormulaParser.parse is called without position parameter.")}if("object"!==typeof t||Array.isArray(t))throw r.VALUE;if(u.isCellRef(t))return t.ref.row;if(u.isRangeRef(t))return t.ref.from.row;throw Error("ReferenceFunctions.ROW should not reach here.")},ROWS:(e,t)=>{if(null==t)throw Error("ROWS requires one argument");if("object"!=typeof t||Array.isArray(t))throw r.VALUE;if(u.isCellRef(t))return 1;if(u.isRangeRef(t))return Math.abs(t.ref.from.row-t.ref.to.row)+1;throw Error("ReferenceFunctions.ROWS should not reach here.")},TRANSPOSE:e=>{e=u.accept(e,o.ARRAY,void 0,!1);const t=[];for(let n=0;n<e[0].length;n++){t[n]=[];for(let r=0;r<e.length;r++)t[n][r]=e[r][n]}return t},VLOOKUP:(e,t,n,i)=>{e=u.accept(e);try{t=u.accept(t,o.ARRAY,void 0,!1)}catch(l){if(l instanceof r)throw r.NA;throw l}if(n=u.accept(n,o.NUMBER),i=u.accept(i,o.BOOLEAN,!0),n<1)throw r.VALUE;if(void 0===t[0][n-1])throw r.REF;const a=typeof e;if(i){let i=a===typeof t[0][0]?t[0][0]:null;for(let o=1;o<t.length;o++){const s=t[o],l=t[o][0],u=typeof l;if(u===a){if(i>e&&l>e)throw r.NA;if(l===e)return s[n-1];if(null!=i&&l>e&&i<=e)return t[o-1][n-1];i=l}}if(null==i)throw r.NA;return i}{let i=-1;if(i=s.isWildCard(e)?t.findIndex((t=>s.toRegex(e,"i").test(t[0]))):t.findIndex((t=>t[0]===e)),-1===i)throw r.NA;return t[i][n-1]}}};e.exports=c},76088:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o,Criteria:s,Address:a}=n(32272),{Infix:l}=n(33084),u=i,{DistributionFunctions:c}=n(82425),h={AVEDEV:(...e)=>{let t=0;const n=[];u.flattenParams(e,o.NUMBER,!0,((e,r)=>{"number"===typeof e&&(t+=e,n.push(e))}));const r=t/n.length;t=0;for(let i=0;i<n.length;i++)t+=Math.abs(n[i]-r);return t/n.length},AVERAGE:(...e)=>{let t=0,n=0;return u.flattenParams(e,o.NUMBER,!0,((e,r)=>{"number"===typeof e&&(t+=e,n++)})),t/n},AVERAGEA:(...e)=>{let t=0,n=0;return u.flattenParams(e,o.NUMBER,!0,((e,r)=>{const i=typeof e;"number"===i?(t+=e,n++):"string"===i&&n++})),t/n},AVERAGEIF:(e,t,n,i)=>{const o=u.retrieveRanges(e,t,i);t=o[0],i=o[1],n=u.retrieveArg(e,n);const a=n.isArray;n=s.parse(u.accept(n));let c=0,h=0;if(t.forEach(((e,t)=>{e.forEach(((e,r)=>{const o=i[t][r];"number"===typeof o&&("wc"===n.op?n.match===n.value.test(e)&&(c+=o,h++):l.compareOp(e,n.op,n.value,Array.isArray(e),a)&&(c+=o,h++))}))})),0===h)throw r.DIV0;return c/h},AVERAGEIFS:()=>{},COUNT:(...e)=>{let t=0;return u.flattenParams(e,null,!0,((e,n)=>{(n.isLiteral&&!isNaN(e)||"number"===typeof e)&&t++})),t},COUNTIF:(e,t)=>{e=u.accept(e,o.ARRAY,void 0,!1,!0);const n=t.isArray;t=u.accept(t);let r=0;return t=s.parse(t),e.forEach((e=>{e.forEach((e=>{"wc"===t.op?t.match===t.value.test(e)&&r++:l.compareOp(e,t.op,t.value,Array.isArray(e),n)&&r++}))})),r},LARGE:()=>{},MAX:()=>{},MAXA:()=>{},MAXIFS:()=>{},MEDIAN:()=>{},MIN:()=>{},MINA:()=>{},MINIFS:()=>{},PERMUT:()=>{},PERMUTATIONA:()=>{},SMALL:()=>{}};e.exports=Object.assign(h,c)},14632:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o,WildCard:s}=n(32272),a=i,l=n(89442),u=n(75473),c={latin:{halfRE:/[!-~]/g,fullRE:/[-]/g,delta:65248},hangul1:{halfRE:/[-]/g,fullRE:/[-]/g,delta:-60921},hangul2:{halfRE:/[-]/g,fullRE:/[-]/g,delta:-61025},kana:{delta:0,half:"",full:""},extras:{delta:0,half:" |",full:""}},h=e=>t=>e.delta?String.fromCharCode(t.charCodeAt(0)+e.delta):[...e.full][[...e.half].indexOf(t)],d=e=>t=>e.delta?String.fromCharCode(t.charCodeAt(0)-e.delta):[...e.half][[...e.full].indexOf(t)],f=(e,t)=>e[t+"RE"]||new RegExp("["+e[t]+"]","g"),p=Object.keys(c).map((e=>c[e])),m=e=>p.reduce(((e,t)=>e.replace(f(t,"half"),h(t))),e),g=e=>p.reduce(((e,t)=>e.replace(f(t,"full"),d(t))),e),v={ASC:e=>(e=a.accept(e,o.STRING),g(e)),BAHTTEXT:e=>{e=a.accept(e,o.NUMBER);try{return u(e)}catch(t){throw Error(`Error in https://github.com/jojoee/bahttext \n${t.toString()}`)}},CHAR:e=>{if(e=a.accept(e,o.NUMBER),e>255||e<1)throw r.VALUE;return String.fromCharCode(e)},CLEAN:e=>(e=a.accept(e,o.STRING),e.replace(/[\x00-\x1F]/g,"")),CODE:e=>{if(e=a.accept(e,o.STRING),0===e.length)throw r.VALUE;return e.charCodeAt(0)},CONCAT:(...e)=>{let t="";return a.flattenParams(e,o.STRING,!1,(e=>{e=a.accept(e,o.STRING),t+=e})),t},CONCATENATE:(...e)=>{let t="";if(0===e.length)throw Error("CONCATENATE need at least one argument.");return e.forEach((e=>{e=a.accept(e,o.STRING),t+=e})),t},DBCS:e=>(e=a.accept(e,o.STRING),m(e)),DOLLAR:(e,t)=>{e=a.accept(e,o.NUMBER),t=a.accept(t,o.NUMBER,2);const n=Array(t).fill("0").join("");return l.format(`$#,##0.${n}_);($#,##0.${n})`,e).trim()},EXACT:(e,t)=>(e=a.accept(e,[o.STRING]),t=a.accept(t,[o.STRING]),e===t),FIND:(e,t,n)=>{if(e=a.accept(e,o.STRING),t=a.accept(t,o.STRING),n=a.accept(n,o.NUMBER,1),n<1||n>t.length)throw r.VALUE;const i=t.indexOf(e,n-1);if(-1===i)throw r.VALUE;return i+1},FINDB:(...e)=>v.FIND(...e),FIXED:(e,t,n)=>{e=a.accept(e,o.NUMBER),t=a.accept(t,o.NUMBER,2),n=a.accept(n,o.BOOLEAN,!1);const r=Array(t).fill("0").join(""),i=n?"":"#,";return l.format(`${i}##0.${r}_);(${i}##0.${r})`,e).trim()},LEFT:(e,t)=>{if(e=a.accept(e,o.STRING),t=a.accept(t,o.NUMBER,1),t<0)throw r.VALUE;return t>e.length?e:e.slice(0,t)},LEFTB:(...e)=>v.LEFT(...e),LEN:e=>(e=a.accept(e,o.STRING),e.length),LENB:(...e)=>v.LEN(...e),LOWER:e=>(e=a.accept(e,o.STRING),e.toLowerCase()),MID:(e,t,n)=>{if(e=a.accept(e,o.STRING),t=a.accept(t,o.NUMBER),n=a.accept(n,o.NUMBER),t>e.length)return"";if(t<1||n<1)throw r.VALUE;return e.slice(t-1,t+n-1)},MIDB:(...e)=>v.MID(...e),NUMBERVALUE:(e,t,n)=>{if(e=a.accept(e,o.STRING),t=a.accept(t,o.STRING,"."),n=a.accept(n,o.STRING,","),0===e.length)return 0;if(0===t.length||0===n.length)throw r.VALUE;if(t=t[0],n=n[0],t===n||e.indexOf(t)<e.lastIndexOf(n))throw r.VALUE;const i=e.replace(n,"").replace(t,".").replace(/[^\-0-9.%()]/g,"").match(/([(-]*)([0-9]*[.]*[0-9]+)([)]?)([%]*)/);if(!i)throw r.VALUE;const s=i[1].length,l=i[3].length,u=i[4].length;let c=Number(i[2]);if(s>1||s&&!l||!s&&l||isNaN(c))throw r.VALUE;return c/=100**u,s?-c:c},PHONETIC:()=>{},PROPER:e=>(e=a.accept(e,[o.STRING]),e=e.toLowerCase(),e=e.charAt(0).toUpperCase()+e.slice(1),e.replace(/(?:[^a-zA-Z])([a-zA-Z])/g,(e=>e.toUpperCase()))),REPLACE:(e,t,n,r)=>{e=a.accept(e,[o.STRING]),t=a.accept(t,[o.NUMBER]),n=a.accept(n,[o.NUMBER]),r=a.accept(r,[o.STRING]);let i=e.split("");return i.splice(t-1,n,r),i.join("")},REPLACEB:(...e)=>v.REPLACE(...e),REPT:(e,t)=>{e=a.accept(e,o.STRING),t=a.accept(t,o.NUMBER);let n="";for(let r=0;r<t;r++)n+=e;return n},RIGHT:(e,t)=>{if(e=a.accept(e,o.STRING),t=a.accept(t,o.NUMBER,1),t<0)throw r.VALUE;const n=e.length;return t>n?e:e.slice(n-t)},RIGHTB:(...e)=>v.RIGHT(...e),SEARCH:(e,t,n)=>{if(e=a.accept(e,o.STRING),t=a.accept(t,o.STRING),n=a.accept(n,o.NUMBER,1),n<1||n>t.length)throw r.VALUE;let i=s.isWildCard(e)?s.toRegex(e,"i"):e;const l=t.slice(n-1).search(i);if(-1===l)throw r.VALUE;return l+n},SEARCHB:(...e)=>v.SEARCH(...e),SUBSTITUTE:(...e)=>{},T:e=>(e=a.accept(e),"string"===typeof e?e:""),TEXT:(e,t)=>{e=a.accept(e,o.NUMBER),t=a.accept(t,o.STRING);try{return l.format(t,e)}catch(n){throw console.error(n),r.VALUE}},TEXTJOIN:(...e)=>{},TRIM:e=>(e=a.accept(e,[o.STRING]),e.replace(/^\s+|\s+$/g,"")),UNICHAR:e=>{if(e=a.accept(e,[o.NUMBER]),e<=0)throw r.VALUE;return String.fromCharCode(e)},UNICODE:e=>v.CODE(e)};e.exports=v},97244:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o}=n(32272),s=i,a=2**27-1,l={ACOS:e=>{if(e=s.accept(e,o.NUMBER),e>1||e<-1)throw r.NUM;return Math.acos(e)},ACOSH:e=>{if(e=s.accept(e,o.NUMBER),e<1)throw r.NUM;return Math.acosh(e)},ACOT:e=>(e=s.accept(e,o.NUMBER),Math.PI/2-Math.atan(e)),ACOTH:e=>{if(e=s.accept(e,o.NUMBER),Math.abs(e)<=1)throw r.NUM;return Math.atanh(1/e)},ASIN:e=>{if(e=s.accept(e,o.NUMBER),e>1||e<-1)throw r.NUM;return Math.asin(e)},ASINH:e=>(e=s.accept(e,o.NUMBER),Math.asinh(e)),ATAN:e=>(e=s.accept(e,o.NUMBER),Math.atan(e)),ATAN2:(e,t)=>{if(e=s.accept(e,o.NUMBER),t=s.accept(t,o.NUMBER),0===t&&0===e)throw r.DIV0;return Math.atan2(t,e)},ATANH:e=>{if(e=s.accept(e,o.NUMBER),Math.abs(e)>1)throw r.NUM;return Math.atanh(e)},COS:e=>{if(e=s.accept(e,o.NUMBER),Math.abs(e)>a)throw r.NUM;return Math.cos(e)},COSH:e=>(e=s.accept(e,o.NUMBER),Math.cosh(e)),COT:e=>{if(e=s.accept(e,o.NUMBER),Math.abs(e)>a)throw r.NUM;if(0===e)throw r.DIV0;return 1/Math.tan(e)},COTH:e=>{if(e=s.accept(e,o.NUMBER),0===e)throw r.DIV0;return 1/Math.tanh(e)},CSC:e=>{if(e=s.accept(e,o.NUMBER),Math.abs(e)>a)throw r.NUM;return 1/Math.sin(e)},CSCH:e=>{if(e=s.accept(e,o.NUMBER),0===e)throw r.DIV0;return 1/Math.sinh(e)},SEC:e=>{if(e=s.accept(e,o.NUMBER),Math.abs(e)>a)throw r.NUM;return 1/Math.cos(e)},SECH:e=>(e=s.accept(e,o.NUMBER),1/Math.cosh(e)),SIN:e=>{if(e=s.accept(e,o.NUMBER),Math.abs(e)>a)throw r.NUM;return Math.sin(e)},SINH:e=>(e=s.accept(e,o.NUMBER),Math.sinh(e)),TAN:e=>{if(e=s.accept(e,o.NUMBER),Math.abs(e)>a)throw r.NUM;return Math.tan(e)},TANH:e=>(e=s.accept(e,o.NUMBER),Math.tanh(e))};e.exports=l},69845:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o}=n(32272),s=i,a={ENCODEURL:e=>encodeURIComponent(s.accept(e,o.STRING)),FILTERXML:()=>{},WEBSERVICE:(e,t)=>{throw r.ERROR("WEBSERVICE is not supported in sync mode.")}};e.exports=a},32272:function(e,t,n){const r=n(49743),i=n(21614),o={NUMBER:0,ARRAY:1,BOOLEAN:2,STRING:3,RANGE_REF:4,CELL_REF:5,COLLECTIONS:6,NUMBER_NO_BOOLEAN:10},s=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,0x1b02b9306890000,243290200817664e4,5109094217170944e4,11240007277776077e5,2585201673888498e7,6204484017332394e8,15511210043330986e9,40329146112660565e10,10888869450418352e12,30488834461171387e13,8.841761993739702e30,26525285981219107e16,8222838654177922e18,2631308369336935e20,8683317618811886e21,29523279903960416e22,1.0333147966386145e40,37199332678990125e25,13763753091226346e27,5230226174666011e29,20397882081197444e30,8159152832478977e32,3345252661316381e34,140500611775288e37,6041526306337383e37,2658271574788449e39,11962222086548019e40,5502622159812089e42,25862324151116818e43,12413915592536073e45,6082818640342675e47,30414093201713376e48,15511187532873822e50,8065817517094388e52,42748832840600255e53,2308436973392414e56,12696403353658276e57,7109985878048635e59,40526919504877214e60,23505613312828785e62,1.3868311854568984e80,832098711274139e67,5075802138772248e68,3146997326038794e70,198260831540444e73,12688693218588417e73,8.247650592082472e90,5443449390774431e77,3647111091818868e79,24800355424368305e80,1711224524281413e83,1.1978571669969892e100,8504785885678623e86,61234458376886085e87,44701154615126844e89,3307885441519386e92,248091408113954e95,18854947016660504e95,14518309202828587e97,11324281178206297e99,8946182130782976e101,7156945704626381e103,5.797126020747368e120,4753643337012842e107,3945523969720659e109,3314240134565353e111,281710411438055e114,2.4227095383672734e130,2107757298379528e117,18548264225739844e118,1650795516090846e121,14857159644817615e122,1.352001527678403e140,12438414054641308e126,11567725070816416e128,1087366156656743e131,1032997848823906e133,9916779348709496e134,9619275968248212e136,9426890448883248e138,9332621544394415e140,9332621544394415e142],a={};Object.keys(o).forEach((e=>{a[o[e]]=e}));class l{constructor(){this.Types=o,this.type2Number={number:o.NUMBER,boolean:o.BOOLEAN,string:o.STRING,object:-1}}checkFunctionResult(e){const t=typeof e;if("number"===t){if(isNaN(e))return r.VALUE;if(!isFinite(e))return r.NUM}return void 0===e||null===e?r.NULL:e}flattenDeep(e){return e.reduce(((e,t)=>Array.isArray(t)?e.concat(this.flattenDeep(t)):e.concat(t)),[])}acceptNumber(e,t=!0,n=!0){if(e instanceof r)return e;let i;if("number"===typeof e)i=e;else if("boolean"===typeof e){if(!n)throw r.VALUE;i=Number(e)}else if("string"===typeof e){if(0===e.length)throw r.VALUE;if(i=Number(e),i!==i)throw r.VALUE}else{if(!Array.isArray(e))throw Error("Unknown type in FormulaHelpers.acceptNumber");if(t)i=this.acceptNumber(e[0][0]);else{if(1!==e[0].length)throw r.VALUE;i=this.acceptNumber(e[0][0])}}return i}flattenParams(e,t,n,s,a=null,l=1){if(e.length<l)throw r.ARG_MISSING([t]);null==a&&(a=t===o.NUMBER?0:null==t?null:""),e.forEach((e=>{const{isCellRef:o,isRangeRef:l,isArray:u}=e,c=e.value instanceof i,h=!o&&!l&&!u&&!c,d={isLiteral:h,isCellRef:o,isRangeRef:l,isArray:u,isUnion:c};if(h)e=e.omitted?a:this.accept(e,t,a),s(e,d);else if(o)s(e.value,d);else if(c){if(!n)throw r.VALUE;e=e.value.data,e=this.flattenDeep(e),e.forEach((e=>{s(e,d)}))}else(l||u)&&(e=this.flattenDeep(e.value),e.forEach((e=>{s(e,d)})))}))}accept(e,t=null,n,s=!0,a=!1){if(Array.isArray(t)&&(t=t[0]),null==e&&void 0===n)throw r.ARG_MISSING([t]);if(null==e)return n;if("object"!==typeof e||Array.isArray(e))return e;const l=e.isArray;if(null!=e.value&&(e=e.value),null==t)return e;if(e instanceof r)throw e;if(t===o.ARRAY){if(Array.isArray(e))return s?this.flattenDeep(e):e;if(e instanceof i)throw r.VALUE;if(a)return s?[e]:[[e]];throw r.VALUE}if(t===o.COLLECTIONS)return e;l&&(e=e[0][0]);const u=this.type(e);if(t===o.STRING)e=u===o.BOOLEAN?e?"TRUE":"FALSE":`${e}`;else if(t===o.BOOLEAN){if(u===o.STRING)throw r.VALUE;u===o.NUMBER&&(e=Boolean(e))}else if(t===o.NUMBER)e=this.acceptNumber(e,!1);else{if(t!==o.NUMBER_NO_BOOLEAN)throw r.VALUE;e=this.acceptNumber(e,!1,!1)}return e}type(e){let t=this.type2Number[typeof e];return-1===t&&(Array.isArray(e)?t=o.ARRAY:e.ref?t=e.ref.from?o.RANGE_REF:o.CELL_REF:e instanceof i&&(t=o.COLLECTIONS)),t}isRangeRef(e){return e.ref&&e.ref.from}isCellRef(e){return e.ref&&!e.ref.from}retrieveRanges(e,t,n){return n=d.extend(t,n),t=this.retrieveArg(e,t),t=u.accept(t,o.ARRAY,void 0,!1,!0),n!==t?(n=this.retrieveArg(e,n),n=u.accept(n,o.ARRAY,void 0,!1,!0)):n=t,[t,n]}retrieveArg(e,t){if(null===t)return{value:0,isArray:!1,omitted:!0};const n=e.utils.extractRefValue(t);return{value:n.val,isArray:n.isArray,ref:t.ref}}}const u=new l,c={isWildCard:e=>"string"===typeof e&&/[*?]/.test(e),toRegex:(e,t)=>RegExp(e.replace(/[.+^${}()|[\]\\]/g,"\\$&").replace(/([^~]??)[?]/g,"$1.").replace(/([^~]??)[*]/g,"$1.*").replace(/~([?*])/g,"$1"),t)},h={parse:e=>{const t=typeof e;if("string"===t){const t=e.toUpperCase();if("TRUE"===t||"FALSE"===t)return{op:"=",value:"TRUE"===t};const n=e.match(/(<>|>=|<=|>|<|=)(.*)/);if(n){let e,t=n[1];if(isNaN(n[2])){const i=n[2].toUpperCase();if("TRUE"===i||"FALSE"===i)e="TRUE"===i;else if(/#NULL!|#DIV\/0!|#VALUE!|#NAME\?|#NUM!|#N\/A|#REF!/.test(n[2]))e=new r(n[2]);else if(e=n[2],c.isWildCard(e))return{op:"wc",value:c.toRegex(e),match:"="===t}}else e=Number(n[2]);return{op:t,value:e}}return c.isWildCard(e)?{op:"wc",value:c.toRegex(e),match:!0}:{op:"=",value:e}}if("boolean"===t||"number"===t||Array.isArray(e)||e instanceof r)return{op:"=",value:e};throw Error(`Criteria.parse: type ${typeof e} not support`)}},d={columnNumberToName:e=>{let t=e,n="",r=0;while(t>0)r=(t-1)%26,n=String.fromCharCode("A".charCodeAt(0)+r)+n,t=Math.floor((t-r)/26);return n},columnNameToNumber:e=>{e=e.toUpperCase();const t=e.length;let n=0;for(let r=0;r<t;r++){const i=e.charCodeAt(r);isNaN(i)||(n+=(i-64)*26**(t-r-1))}return n},extend:(e,t)=>{if(null==t)return e;let n,r;if(u.isCellRef(e))n=0,r=0;else{if(!u.isRangeRef(e))throw Error("Address.extend should not reach here.");n=e.ref.to.row-e.ref.from.row,r=e.ref.to.col-e.ref.from.col}return u.isCellRef(t)?(n>0||r>0)&&(t={ref:{from:{col:t.ref.col,row:t.ref.row},to:{row:t.ref.row+n,col:t.ref.col+r}}}):(t.ref.to.row=t.ref.from.row+n,t.ref.to.col=t.ref.from.col+r),t}};e.exports={FormulaHelpers:u,Types:o,ReversedTypes:a,Factorials:s,WildCard:c,Criteria:h,Address:d}},33084:function(e,t,n){const r=n(49743),{FormulaHelpers:i}=n(32272),o={unaryOp:(e,t,n)=>{let o=1;if(e.forEach((e=>{if("+"===e);else{if("-"!==e)throw new Error(`Unrecognized prefix: ${e}`);o=-o}})),null==t&&(t=0),1===o)return t;try{t=i.acceptNumber(t,n)}catch(s){if(!(s instanceof r))throw s;Array.isArray(t)&&(t=t[0][0])}return"number"===typeof t&&isNaN(t)?r.VALUE:-t}},s={percentOp:(e,t,n)=>{try{e=i.acceptNumber(e,n)}catch(o){if(o instanceof r)return o;throw o}if("%"===t)return e/100;throw new Error(`Unrecognized postfix: ${t}`)}},a={boolean:3,string:2,number:1},l={compareOp:(e,t,n,r,i)=>{null==e&&(e=0),null==n&&(n=0),r&&(e=e[0][0]),i&&(n=n[0][0]);const o=typeof e,s=typeof n;if(o===s)switch(t){case"=":return e===n;case">":return e>n;case"<":return e<n;case"<>":return e!==n;case"<=":return e<=n;case">=":return e>=n}else switch(t){case"=":return!1;case">":return a[o]>a[s];case"<":return a[o]<a[s];case"<>":return!0;case"<=":return a[o]<=a[s];case">=":return a[o]>=a[s]}throw Error("Infix.compareOp: Should not reach here.")},concatOp:(e,t,n,r,i)=>{null==e&&(e=""),null==n&&(n=""),r&&(e=e[0][0]),i&&(n=n[0][0]);const o=typeof e,s=typeof n;return"boolean"===o&&(e=e?"TRUE":"FALSE"),"boolean"===s&&(n=n?"TRUE":"FALSE"),""+e+n},mathOp:(e,t,n,o,s)=>{null==e&&(e=0),null==n&&(n=0);try{e=i.acceptNumber(e,o),n=i.acceptNumber(n,s)}catch(a){if(a instanceof r)return a;throw a}switch(t){case"+":return e+n;case"-":return e-n;case"*":return e*n;case"/":return 0===n?r.DIV0:e/n;case"^":return e**n}throw Error("Infix.mathOp: Should not reach here.")}};e.exports={Prefix:o,Postfix:s,Infix:l,Operators:{compareOp:["<",">","=","<>","<=",">="],concatOp:["&"],mathOp:["+","-","*","/","^"]}}},91641:function(e,t,n){const r=n(49743),{FormulaHelpers:i}=n(32272),{Parser:o}=n(19915),s=n(43360),a=n(21784),{formatChevrotainError:l}=n(70242);class u{constructor(e){this.data=[],this.utils=new a(this),e=Object.assign({onVariable:()=>null},e),this.utils=new a(this),this.onVariable=e.onVariable,this.functions={},this.parser=new o(this,this.utils)}getCell(e){if(null!=e.row){null==e.sheet&&(e.sheet=this.position?this.position.sheet:void 0);const t=this.data.findIndex((t=>t.from&&t.from.row<=e.row&&t.to.row>=e.row&&t.from.col<=e.col&&t.to.col>=e.col||t.row===e.row&&t.col===e.col&&t.sheet===e.sheet));-1===t&&this.data.push(e)}return 0}getRange(e){if(null!=e.from.row){null==e.sheet&&(e.sheet=this.position?this.position.sheet:void 0);const t=this.data.findIndex((t=>t.from&&t.from.row===e.from.row&&t.from.col===e.from.col&&t.to.row===e.to.row&&t.to.col===e.to.col));-1===t&&this.data.push(e)}return[[0]]}getVariable(e){const t={ref:this.onVariable(e,this.position.sheet)};return null==t.ref?r.NAME:(i.isCellRef(t)?this.getCell(t.ref):this.getRange(t.ref),0)}retrieveRef(e){return i.isRangeRef(e)?this.getRange(e.ref):i.isCellRef(e)?this.getCell(e.ref):e}callFunction(e,t){return t.forEach((e=>{null!=e&&this.retrieveRef(e)})),{value:0,ref:{}}}checkFormulaResult(e){this.retrieveRef(e)}parse(e,t,n=!1){if(0===e.length)throw Error("Input must not be empty.");this.data=[],this.position=t;const i=s.lex(e);this.parser.input=i.tokens;try{const e=this.parser.formulaWithBinaryOp();this.checkFormulaResult(e)}catch(o){if(!n)throw r.ERROR(o.message,o)}if(this.parser.errors.length>0&&!n){const t=this.parser.errors[0];throw l(t,e)}return this.data}}e.exports={DepParser:u}},21784:function(e,t,n){const r=n(49743),{FormulaHelpers:i,Types:o,Address:s}=n(32272),{Prefix:a,Postfix:l,Infix:u,Operators:c}=n(33084),h=n(21614),d=1048576,f=16384;class p{constructor(e){this.context=e}columnNameToNumber(e){return s.columnNameToNumber(e)}parseCellAddress(e){const t=e.match(/([$]?)([A-Za-z]{1,3})([$]?)([1-9][0-9]*)/);return{ref:{col:this.columnNameToNumber(t[2]),row:+t[4]}}}parseRow(e){const t=+e;if(!Number.isInteger(t))throw Error("Row number must be integer.");return{ref:{col:void 0,row:+e}}}parseCol(e){return{ref:{col:this.columnNameToNumber(e),row:void 0}}}applyPrefix(e,t){return this.extractRefValue(t),0}applyPostfix(e,t){return this.extractRefValue(e),0}applyInfix(e,t,n){return this.extractRefValue(e),this.extractRefValue(n),0}applyIntersect(e){if(this.isFormulaError(e[0]))return e[0];if(!e[0].ref)throw Error(`Expecting a reference, but got ${e[0]}.`);let t,n,i,o,s,a;const l=e.shift().ref;if(s=l.sheet,l.from)t=Math.max(l.from.row,l.to.row),i=Math.min(l.from.row,l.to.row),n=Math.max(l.from.col,l.to.col),o=Math.min(l.from.col,l.to.col);else{if(void 0===l.row||void 0===l.col)throw Error("Cannot intersect the whole row or column.");t=i=l.row,n=o=l.col}let u;return e.forEach((e=>{if(this.isFormulaError(e))return e;if(e=e.ref,!e)throw Error(`Expecting a reference, but got ${e}.`);if(e.from){const a=Math.max(e.from.row,e.to.row),l=Math.min(e.from.row,e.to.row),c=Math.max(e.from.col,e.to.col),h=Math.min(e.from.col,e.to.col);(l>t||a<i||h>n||c<o||s!==e.sheet)&&(u=r.NULL),t=Math.min(t,a),i=Math.max(i,l),n=Math.min(n,c),o=Math.max(o,h)}else{if(void 0===e.row||void 0===e.col)throw Error("Cannot intersect the whole row or column.");(e.row>t||e.row<i||e.col>n||e.col<o||s!==e.sheet)&&(u=r.NULL),t=i=e.row,n=o=e.col}})),u||(a=t===i&&n===o?{ref:{sheet:s,row:t,col:n}}:{ref:{sheet:s,from:{row:i,col:o},to:{row:t,col:n}}},a.ref.sheet||delete a.ref.sheet,a)}applyUnion(e){const t=new h;for(let n=0;n<e.length;n++){if(this.isFormulaError(e[n]))return e[n];t.add(this.extractRefValue(e[n]).val,e[n])}return t}applyRange(e){let t,n=-1,r=-1,i=d+1,o=f+1;return e.forEach((e=>{if(this.isFormulaError(e))return e;"number"===typeof e&&(e=this.parseRow(e)),e=e.ref,void 0===e.row&&(i=1,n=d),void 0===e.col&&(o=1,r=f),e.row>n&&(n=e.row),e.row<i&&(i=e.row),e.col>r&&(r=e.col),e.col<o&&(o=e.col)})),t=n===i&&r===o?{ref:{row:n,col:r}}:{ref:{from:{row:i,col:o},to:{row:n,col:r}}},t}extractRefValue(e){const t=Array.isArray(e);return e.ref?{val:this.context.retrieveRef(e),isArray:t}:{val:e,isArray:t}}toArray(e){return e}toNumber(e){return Number(e)}toString(e){return e.substring(1,e.length-1).replace(/""/g,'"')}toBoolean(e){return"TRUE"===e}toError(e){return new r(e.toUpperCase())}isFormulaError(e){return e instanceof r}}e.exports=p},74127:function(e,t,n){const r=n(14632),i=n(30285),o=n(97244),s=n(40548),a=n(82868),l=n(95714),u=n(22013),c=n(76088),h=n(73375),d=n(69845),f=n(49743),{FormulaHelpers:p}=n(32272),{Parser:m,allTokens:g}=n(19915),v=n(43360),y=n(70242);class b{constructor(e,t=!1){this.logs=[],this.isTest=t,this.utils=new y(this),e=Object.assign({functions:{},functionsNeedContext:{},onVariable:()=>null,onCell:()=>0,onRange:()=>[[0]]},e),this.onVariable=e.onVariable,this.functions=Object.assign({},h,c,u,l,a,s,r,i,o,d,e.functions,e.functionsNeedContext),this.onRange=e.onRange,this.onCell=e.onCell,this.funsNullAs0=Object.keys(i).concat(Object.keys(o)).concat(Object.keys(s)).concat(Object.keys(a)).concat(Object.keys(l)).concat(Object.keys(c)).concat(Object.keys(h)),this.funsNeedContextAndNoDataRetrieve=["ROW","ROWS","COLUMN","COLUMNS","SUMIF","INDEX","AVERAGEIF","IF"],this.funsNeedContext=[...Object.keys(e.functionsNeedContext),...this.funsNeedContextAndNoDataRetrieve,"INDEX","OFFSET","INDIRECT","IF","CHOOSE","WEBSERVICE"],this.funsPreserveRef=Object.keys(u),this.parser=new m(this,this.utils)}static get allTokens(){return g}getCell(e){return null==e.sheet&&(e.sheet=this.position?this.position.sheet:void 0),this.onCell(e)}getRange(e){return null==e.sheet&&(e.sheet=this.position?this.position.sheet:void 0),this.onRange(e)}getVariable(e){const t={ref:this.onVariable(e,this.position.sheet,this.position)};return null==t.ref?f.NAME:t}retrieveRef(e){return p.isRangeRef(e)?this.getRange(e.ref):p.isCellRef(e)?this.getCell(e.ref):e}_callFunction(e,t){0===e.indexOf("_xlfn.")&&(e=e.slice(6)),e=e.toUpperCase();const n=this.funsNullAs0.includes(e)?0:"";if(this.funsNeedContextAndNoDataRetrieve.includes(e)||(t=t.map((t=>{if(null===t)return{value:n,isArray:!1,omitted:!0};const r=this.utils.extractRefValue(t);return this.funsPreserveRef.includes(e)?{value:r.val,isArray:r.isArray,ref:t.ref}:{value:r.val,isArray:r.isArray,isRangeRef:!!p.isRangeRef(t),isCellRef:!!p.isCellRef(t)}}))),this.functions[e]){let n;try{n=this.funsNeedContextAndNoDataRetrieve.includes(e)||this.funsNeedContext.includes(e)?this.functions[e](this,...t):this.functions[e](...t)}catch(r){if(r instanceof f)return r;throw r}if(void 0===n){if(this.isTest)return this.logs.includes(e)||this.logs.push(e),{value:0,ref:{}};throw f.NOT_IMPLEMENTED(e)}return n}if(this.isTest)return this.logs.includes(e)||this.logs.push(e),{value:0,ref:{}};throw f.NOT_IMPLEMENTED(e)}async callFunctionAsync(e,t){const n=[];for(const i of t)n.push(await i);const r=await this._callFunction(e,n);return p.checkFunctionResult(r)}callFunction(e,t){if(this.async)return this.callFunctionAsync(e,t);{const n=this._callFunction(e,t);return p.checkFunctionResult(n)}}supportedFunctions(){const e=[],t=Object.keys(this.functions);return t.forEach((t=>{try{const n=this.functions[t](0,0,0,0,0,0,0,0,0,0,0);if(void 0===n)return;e.push(t)}catch(n){n instanceof Error&&e.push(t)}})),e.sort()}checkFormulaResult(e,t=!1){const n=typeof e;if("number"===n){if(isNaN(e))return f.VALUE;if(!isFinite(e))return f.NUM;e+=0}else if("object"===n){if(e instanceof f)return e;if(t){if(e.ref&&(e=this.retrieveRef(e)),"object"===typeof e&&!Array.isArray(e)&&null!=e)return f.VALUE}else if(e.ref&&e.ref.row&&!e.ref.from)e=this.retrieveRef(e);else if(e.ref&&e.ref.from&&e.ref.from.col===e.ref.to.col)e=this.retrieveRef({ref:{row:e.ref.from.row,col:e.ref.from.col}});else{if(!Array.isArray(e))return f.VALUE;e=e[0][0]}}return e}parse(e,t,n=!1){if(0===e.length)throw Error("Input must not be empty.");this.position=t,this.async=!1;const r=v.lex(e);let i;this.parser.input=r.tokens;try{if(i=this.parser.formulaWithBinaryOp(),i=this.checkFormulaResult(i,n),i instanceof f)return i}catch(o){throw f.ERROR(o.message,o)}if(this.parser.errors.length>0){const t=this.parser.errors[0];throw y.formatChevrotainError(t,e)}return i}async parseAsync(e,t,n=!1){if(0===e.length)throw Error("Input must not be empty.");this.position=t,this.async=!0;const r=v.lex(e);let i;this.parser.input=r.tokens;try{if(i=await this.parser.formulaWithBinaryOp(),i=this.checkFormulaResult(i,n),i instanceof f)return i}catch(o){throw f.ERROR(o.message,o)}if(this.parser.errors.length>0){const t=this.parser.errors[0];throw y.formatChevrotainError(t,e)}return i}}e.exports={FormulaParser:b,FormulaHelpers:p}},43360:function(e,t,n){const{createToken:r,Lexer:i}=n(91198),o=n(49743),s={},a=r({name:"WhiteSpace",pattern:/\s+/,group:i.SKIPPED}),l=r({name:"String",pattern:/"(""|[^"])*"/}),u=r({name:"SingleQuotedString",pattern:/'(''|[^'])*'/}),c=r({name:"SheetQuoted",pattern:/'((?![\\\/\[\]*?:]).)+?'!/}),h=r({name:"Function",pattern:/[A-Za-z_]+[A-Za-z_0-9.]*\(/}),d=r({name:"FormulaErrorT",pattern:/#NULL!|#DIV\/0!|#VALUE!|#NAME\?|#NUM!|#N\/A/}),f=r({name:"RefError",pattern:/#REF!/}),p=r({name:"Name",pattern:/[a-zA-Z_][a-zA-Z0-9_.?]*/}),m=r({name:"Sheet",pattern:/[A-Za-z_.\d\u007F-\uFFFF]+!/}),g=r({name:"Cell",pattern:/[$]?[A-Za-z]{1,3}[$]?[1-9][0-9]*/,longer_alt:p}),v=r({name:"Number",pattern:/[0-9]+[.]?[0-9]*([eE][+\-][0-9]+)?/}),y=r({name:"Boolean",pattern:/TRUE|FALSE/i}),b=r({name:"Column",pattern:/[$]?[A-Za-z]{1,3}/,longer_alt:p}),w=r({name:"At",pattern:/@/}),_=r({name:"Comma",pattern:/,/}),E=r({name:"Colon",pattern:/:/}),S=r({name:"Semicolon",pattern:/;/}),T=r({name:"OpenParen",pattern:/\(/}),M=r({name:"CloseParen",pattern:/\)/}),C=r({name:"OpenSquareParen",pattern:/\[/}),R=r({name:"CloseSquareParen",pattern:/]/}),x=(r({name:"exclamationMark",pattern:/!/}),r({name:"OpenCurlyParen",pattern:/{/})),A=r({name:"CloseCurlyParen",pattern:/}/}),N=r({name:"QuoteS",pattern:/'/}),L=r({name:"MulOp",pattern:/\*/}),k=r({name:"PlusOp",pattern:/\+/}),O=r({name:"DivOp",pattern:/\//}),I=r({name:"MinOp",pattern:/-/}),P=r({name:"ConcatOp",pattern:/&/}),D=r({name:"ExOp",pattern:/\^/}),F=r({name:"PercentOp",pattern:/%/}),H=r({name:"GtOp",pattern:/>/}),U=r({name:"EqOp",pattern:/=/}),B=r({name:"LtOp",pattern:/</}),j=r({name:"NeqOp",pattern:/<>/}),Y=r({name:"GteOp",pattern:/>=/}),V=r({name:"LteOp",pattern:/<=/}),W=[a,l,c,u,h,d,f,m,g,y,b,p,v,w,_,E,S,T,M,C,R,x,A,N,L,k,O,I,P,D,L,F,j,Y,V,H,U,B],z=new i(W,{ensureOptimizations:!0});W.forEach((e=>{s[e.name]=e})),e.exports={tokenVocabulary:s,lex:function(e){const t=z.tokenize(e);if(t.errors.length>0){const n=t.errors[0],r=n.line,i=n.column;let s="\n"+e.split("\n")[r-1]+"\n";throw s+=Array(i-1).fill(" ").join("")+"^\n",n.message=s+`Error at position ${r}:${i}\n`+n.message,n.errorLocation={line:r,column:i},o.ERROR(n.message,n)}return t}}},19915:function(e,t,n){const r=n(43360),{EmbeddedActionsParser:i}=n(91198),o=r.tokenVocabulary,{String:s,SheetQuoted:a,ExcelRefFunction:l,ExcelConditionalRefFunction:u,Function:c,FormulaErrorT:h,RefError:d,Cell:f,Sheet:p,Name:m,Number:g,Boolean:v,Column:y,Comma:b,Colon:w,Semicolon:_,OpenParen:E,CloseParen:S,OpenCurlyParen:T,CloseCurlyParen:M,MulOp:C,PlusOp:R,DivOp:x,MinOp:A,ConcatOp:N,ExOp:L,PercentOp:k,NeqOp:O,GteOp:I,LteOp:P,GtOp:D,EqOp:F,LtOp:H}=r.tokenVocabulary;class U extends i{constructor(e,t){super(o,{outputCst:!1,maxLookahead:1,skipValidations:!0}),this.utils=t,this.binaryOperatorsPrecedence=[["^"],["*","/"],["+","-"],["&"],["<",">","=","<>","<=",">="]];const n=this;n.RULE("formulaWithBinaryOp",(()=>{const e=[],t=[n.SUBRULE(n.formulaWithPercentOp)];return n.MANY((()=>{e.push(n.OR(n.c1||(n.c1=[{ALT:()=>n.CONSUME(D).image},{ALT:()=>n.CONSUME(F).image},{ALT:()=>n.CONSUME(H).image},{ALT:()=>n.CONSUME(O).image},{ALT:()=>n.CONSUME(I).image},{ALT:()=>n.CONSUME(P).image},{ALT:()=>n.CONSUME(N).image},{ALT:()=>n.CONSUME(R).image},{ALT:()=>n.CONSUME(A).image},{ALT:()=>n.CONSUME(C).image},{ALT:()=>n.CONSUME(x).image},{ALT:()=>n.CONSUME(L).image}]))),t.push(n.SUBRULE2(n.formulaWithPercentOp))})),n.ACTION((()=>{for(const n of this.binaryOperatorsPrecedence)for(let r=0,i=e.length;r<i;r++){const o=e[r];n.includes(o)&&(e.splice(r,1),t.splice(r,2,this.utils.applyInfix(t[r],o,t[r+1])),r--,i--)}})),t[0]})),n.RULE("plusMinusOp",(()=>n.OR([{ALT:()=>n.CONSUME(R).image},{ALT:()=>n.CONSUME(A).image}]))),n.RULE("formulaWithPercentOp",(()=>{let e=n.SUBRULE(n.formulaWithUnaryOp);return n.OPTION((()=>{const t=n.CONSUME(k).image;e=n.ACTION((()=>this.utils.applyPostfix(e,t)))})),e})),n.RULE("formulaWithUnaryOp",(()=>{const e=[];n.MANY((()=>{const t=n.OR([{ALT:()=>n.CONSUME(R).image},{ALT:()=>n.CONSUME(A).image}]);e.push(t)}));const t=n.SUBRULE(n.formulaWithIntersect);return e.length>0?n.ACTION((()=>this.utils.applyPrefix(e,t))):t})),n.RULE("formulaWithIntersect",(()=>{let e=n.SUBRULE(n.formulaWithRange);const t=[e];return n.MANY({GATE:()=>{const e=n.LA(0),t=n.LA(1);return t.startOffset>e.endOffset+1},DEF:()=>{t.push(n.SUBRULE3(n.formulaWithRange))}}),t.length>1?n.ACTION((()=>n.ACTION((()=>this.utils.applyIntersect(t))))):e})),n.RULE("formulaWithRange",(()=>{const e=n.SUBRULE(n.formula),t=[e];return n.MANY((()=>{n.CONSUME(w),t.push(n.SUBRULE2(n.formula))})),t.length>1?n.ACTION((()=>n.ACTION((()=>this.utils.applyRange(t))))):e})),n.RULE("formula",(()=>n.OR9([{ALT:()=>n.SUBRULE(n.referenceWithoutInfix)},{ALT:()=>n.SUBRULE(n.paren)},{ALT:()=>n.SUBRULE(n.constant)},{ALT:()=>n.SUBRULE(n.functionCall)},{ALT:()=>n.SUBRULE(n.constantArray)}]))),n.RULE("paren",(()=>{let e;n.CONSUME(E);const t=[];return t.push(n.SUBRULE(n.formulaWithBinaryOp)),n.MANY((()=>{n.CONSUME(b),t.push(n.SUBRULE2(n.formulaWithBinaryOp))})),e=t.length>1?n.ACTION((()=>this.utils.applyUnion(t))):t[0],n.CONSUME(S),e})),n.RULE("constantArray",(()=>{const e=[[]];let t=0;return n.CONSUME(T),e[t].push(n.SUBRULE(n.constantForArray)),n.MANY((()=>{const r=n.OR([{ALT:()=>n.CONSUME(b).image},{ALT:()=>n.CONSUME(_).image}]),i=n.SUBRULE2(n.constantForArray);","===r||(t++,e[t]=[]),e[t].push(i)})),n.CONSUME(M),n.ACTION((()=>this.utils.toArray(e)))})),n.RULE("constantForArray",(()=>n.OR([{ALT:()=>{const e=n.OPTION((()=>n.SUBRULE(n.plusMinusOp))),t=n.CONSUME(g).image,r=n.ACTION((()=>this.utils.toNumber(t)));return e?n.ACTION((()=>this.utils.applyPrefix([e],r))):r}},{ALT:()=>{const e=n.CONSUME(s).image;return n.ACTION((()=>this.utils.toString(e)))}},{ALT:()=>{const e=n.CONSUME(v).image;return n.ACTION((()=>this.utils.toBoolean(e)))}},{ALT:()=>{const e=n.CONSUME(h).image;return n.ACTION((()=>this.utils.toError(e)))}},{ALT:()=>{const e=n.CONSUME(d).image;return n.ACTION((()=>this.utils.toError(e)))}}]))),n.RULE("constant",(()=>n.OR([{ALT:()=>{const e=n.CONSUME(g).image;return n.ACTION((()=>this.utils.toNumber(e)))}},{ALT:()=>{const e=n.CONSUME(s).image;return n.ACTION((()=>this.utils.toString(e)))}},{ALT:()=>{const e=n.CONSUME(v).image;return n.ACTION((()=>this.utils.toBoolean(e)))}},{ALT:()=>{const e=n.CONSUME(h).image;return n.ACTION((()=>this.utils.toError(e)))}}]))),n.RULE("functionCall",(()=>{const t=n.CONSUME(c).image.slice(0,-1),r=n.SUBRULE(n.arguments);return n.CONSUME(S),n.ACTION((()=>e.callFunction(t,r)))})),n.RULE("arguments",(()=>{n.MANY2((()=>{n.CONSUME2(b)}));const e=[];return n.OPTION((()=>{e.push(n.SUBRULE(n.formulaWithBinaryOp)),n.MANY((()=>{n.CONSUME1(b),e.push(null),n.OPTION3((()=>{e.pop(),e.push(n.SUBRULE2(n.formulaWithBinaryOp))}))}))})),e})),n.RULE("referenceWithoutInfix",(()=>n.OR([{ALT:()=>n.SUBRULE(n.referenceItem)},{ALT:()=>{const e=n.SUBRULE(n.prefixName),t=n.SUBRULE2(n.formulaWithRange);return n.ACTION((()=>{if(this.utils.isFormulaError(t))return t;t.ref.sheet=e})),t}}]))),n.RULE("referenceItem",(()=>n.OR([{ALT:()=>{const e=n.CONSUME(f).image;return n.ACTION((()=>this.utils.parseCellAddress(e)))}},{ALT:()=>{const t=n.CONSUME(m).image;return n.ACTION((()=>e.getVariable(t)))}},{ALT:()=>{const e=n.CONSUME(y).image;return n.ACTION((()=>this.utils.parseCol(e)))}},{ALT:()=>{const e=n.CONSUME(d).image;return n.ACTION((()=>this.utils.toError(e)))}}]))),n.RULE("prefixName",(()=>n.OR([{ALT:()=>n.CONSUME(p).image.slice(0,-1)},{ALT:()=>n.CONSUME(a).image.slice(1,-2).replace(/''/g,"'")}]))),this.performSelfAnalysis()}}e.exports={Parser:U}},21614:function(e){class t{constructor(e,t){if(null==e&&null==t)this._data=[],this._refs=[];else{if(e.length!==t.length)throw Error("Collection: data length should match references length.");this._data=e,this._refs=t}}get data(){return this._data}get refs(){return this._refs}get length(){return this._data.length}add(e,t){this._data.push(e),this._refs.push(t)}}e.exports=t},70242:function(e,t,n){const r=n(49743),{Address:i}=n(32272),{Prefix:o,Postfix:s,Infix:a,Operators:l}=n(33084),u=n(21614),c=1048576,h=16384,{NotAllInputParsedException:d}=n(91198);class f{constructor(e){this.context=e}columnNameToNumber(e){return i.columnNameToNumber(e)}parseCellAddress(e){const t=e.match(/([$]?)([A-Za-z]{1,3})([$]?)([1-9][0-9]*)/);return{ref:{address:t[0],col:this.columnNameToNumber(t[2]),row:+t[4]}}}parseRow(e){const t=+e;if(!Number.isInteger(t))throw Error("Row number must be integer.");return{ref:{col:void 0,row:+e}}}parseCol(e){return{ref:{col:this.columnNameToNumber(e),row:void 0}}}parseColRange(e,t){return e=this.columnNameToNumber(e),t=this.columnNameToNumber(t),{ref:{from:{col:Math.min(e,t),row:null},to:{col:Math.max(e,t),row:null}}}}parseRowRange(e,t){return{ref:{from:{col:null,row:Math.min(e,t)},to:{col:null,row:Math.max(e,t)}}}}_applyPrefix(e,t,n){return this.isFormulaError(t)?t:o.unaryOp(e,t,n)}async applyPrefixAsync(e,t){const{val:n,isArray:r}=this.extractRefValue(await t);return this._applyPrefix(e,n,r)}applyPrefix(e,t){if(this.context.async)return this.applyPrefixAsync(e,t);{const{val:n,isArray:r}=this.extractRefValue(t);return this._applyPrefix(e,n,r)}}_applyPostfix(e,t,n){return this.isFormulaError(e)?e:s.percentOp(e,n,t)}async applyPostfixAsync(e,t){const{val:n,isArray:r}=this.extractRefValue(await e);return this._applyPostfix(n,r,t)}applyPostfix(e,t){if(this.context.async)return this.applyPostfixAsync(e,t);{const{val:n,isArray:r}=this.extractRefValue(e);return this._applyPostfix(n,r,t)}}_applyInfix(e,t,n){const r=e.val,i=e.isArray,o=n.val,s=n.isArray;if(this.isFormulaError(r))return r;if(this.isFormulaError(o))return o;if(l.compareOp.includes(t))return a.compareOp(r,t,o,i,s);if(l.concatOp.includes(t))return a.concatOp(r,t,o,i,s);if(l.mathOp.includes(t))return a.mathOp(r,t,o,i,s);throw new Error(`Unrecognized infix: ${t}`)}async applyInfixAsync(e,t,n){const r=this.extractRefValue(await e),i=this.extractRefValue(await n);return this._applyInfix(r,t,i)}applyInfix(e,t,n){if(this.context.async)return this.applyInfixAsync(e,t,n);{const r=this.extractRefValue(e),i=this.extractRefValue(n);return this._applyInfix(r,t,i)}}applyIntersect(e){if(this.isFormulaError(e[0]))return e[0];if(!e[0].ref)throw Error(`Expecting a reference, but got ${e[0]}.`);let t,n,i,o,s,a;const l=e.shift().ref;if(s=l.sheet,l.from)t=Math.max(l.from.row,l.to.row),i=Math.min(l.from.row,l.to.row),n=Math.max(l.from.col,l.to.col),o=Math.min(l.from.col,l.to.col);else{if(void 0===l.row||void 0===l.col)throw Error("Cannot intersect the whole row or column.");t=i=l.row,n=o=l.col}let u;return e.forEach((e=>{if(this.isFormulaError(e))return e;if(e=e.ref,!e)throw Error(`Expecting a reference, but got ${e}.`);if(e.from){const a=Math.max(e.from.row,e.to.row),l=Math.min(e.from.row,e.to.row),c=Math.max(e.from.col,e.to.col),h=Math.min(e.from.col,e.to.col);(l>t||a<i||h>n||c<o||s!==e.sheet)&&(u=r.NULL),t=Math.min(t,a),i=Math.max(i,l),n=Math.min(n,c),o=Math.max(o,h)}else{if(void 0===e.row||void 0===e.col)throw Error("Cannot intersect the whole row or column.");(e.row>t||e.row<i||e.col>n||e.col<o||s!==e.sheet)&&(u=r.NULL),t=i=e.row,n=o=e.col}})),u||(a=t===i&&n===o?{ref:{sheet:s,row:t,col:n}}:{ref:{sheet:s,from:{row:i,col:o},to:{row:t,col:n}}},a.ref.sheet||delete a.ref.sheet,a)}applyUnion(e){const t=new u;for(let n=0;n<e.length;n++){if(this.isFormulaError(e[n]))return e[n];t.add(this.extractRefValue(e[n]).val,e[n])}return t}applyRange(e){let t,n=-1,r=-1,i=c+1,o=h+1;return e.forEach((e=>{if(this.isFormulaError(e))return e;"number"===typeof e&&(e=this.parseRow(e)),e=e.ref,void 0===e.row&&(i=1,n=c),void 0===e.col&&(o=1,r=h),e.row>n&&(n=e.row),e.row<i&&(i=e.row),e.col>r&&(r=e.col),e.col<o&&(o=e.col)})),t=n===i&&r===o?{ref:{row:n,col:r}}:{ref:{from:{row:i,col:o},to:{row:n,col:r}}},t}extractRefValue(e){let t=e,n=!1;return Array.isArray(t)&&(n=!0),e.ref?{val:this.context.retrieveRef(e),isArray:n}:{val:t,isArray:n}}toArray(e){return e}toNumber(e){return Number(e)}toString(e){return e.substring(1,e.length-1).replace(/""/g,'"')}toBoolean(e){return"TRUE"===e}toError(e){return new r(e.toUpperCase())}isFormulaError(e){return e instanceof r}static formatChevrotainError(e,t){let n,i,o="";return e instanceof d?(n=e.token.startLine,i=e.token.startColumn):(n=e.previousToken.startLine,i=e.previousToken.startColumn+1),o+="\n"+t.split("\n")[n-1]+"\n",o+=Array(i-1).fill(" ").join("")+"^\n",o+=`Error at position ${n}:${i}\n`+e.message,e.errorLocation={line:n,column:i},r.ERROR(o,e)}}e.exports=f},59833:function(e,t,n){const{FormulaParser:r}=n(74127),{DepParser:i}=n(91641),o=n(89442),s=n(49743);Object.assign(r,{MAX_ROW:1048576,MAX_COLUMN:16384,SSF:o,DepParser:i,FormulaError:s,...n(32272)}),e.exports=r},91198:function(e,t,n){"use strict";n.r(t),n.d(t,{Alternation:function(){return Je},Alternative:function(){return ze},CstParser:function(){return Ur},EMPTY_ALT:function(){return Fr},EOF:function(){return He},EarlyExitException:function(){return Dn},EmbeddedActionsParser:function(){return Br},GAstVisitor:function(){return rt},Lexer:function(){return Se},LexerDefinitionErrorType:function(){return we},MismatchedTokenException:function(){return On},NoViableAltException:function(){return In},NonTerminal:function(){return Ve},NotAllInputParsedException:function(){return Pn},Option:function(){return Ge},Parser:function(){return si},ParserDefinitionErrorType:function(){return Ir},Repetition:function(){return Ke},RepetitionMandatory:function(){return $e},RepetitionMandatoryWithSeparator:function(){return qe},RepetitionWithSeparator:function(){return Xe},Rule:function(){return We},Terminal:function(){return Qe},VERSION:function(){return r},assignOccurrenceIndices:function(){return Tn},clearCache:function(){return oi},createSyntaxDiagramsCode:function(){return jr},createToken:function(){return De},createTokenInstance:function(){return Ue},defaultGrammarResolverErrorProvider:function(){return Et},defaultGrammarValidatorErrorProvider:function(){return St},defaultLexerErrorProvider:function(){return _e},defaultParserErrorProvider:function(){return _t},generateParserFactory:function(){return ri},generateParserModule:function(){return ii},isRecognitionException:function(){return Ln},resolveGrammar:function(){return En},serializeGrammar:function(){return Ze},serializeProduction:function(){return et},tokenLabel:function(){return Te},tokenMatcher:function(){return Be},tokenName:function(){return Me},validateGrammar:function(){return Sn}});var r="7.1.2",i=n(58340),o=n(60738),s={},a=new o.RegExpParser;function l(e){var t=e.toString();if(s.hasOwnProperty(t))return s[t];var n=a.pattern(t);return s[t]=n,n}function u(){s={}}var c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h="Complement Sets are not supported for first char optimization",d='Unable to use "first char" lexer optimizations:\n';function f(e,t){void 0===t&&(t=!1);try{var n=l(e),r=p(n.value,{},n.flags.ignoreCase);return r}catch(a){if(a.message===h)t&&(0,i.x5)(d+"\tUnable to optimize: < "+e.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var s="";t&&(s="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),(0,i.Zi)(d+"\n\tFailed parsing: < "+e.toString()+" >\n\tUsing the regexp-to-ast library version: "+o.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+s)}}return[]}function p(e,t,n){switch(e.type){case"Disjunction":for(var r=0;r<e.value.length;r++)p(e.value[r],t,n);break;case"Alternative":var o=e.value;for(r=0;r<o.length;r++){var s=o[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var a=s;switch(a.type){case"Character":m(a.value,t,n);break;case"Set":if(!0===a.complement)throw Error(h);(0,i.jJ)(a.value,(function(e){if("number"===typeof e)m(e,t,n);else{var r=e;if(!0===n)for(var i=r.from;i<=r.to;i++)m(i,t,n);else{for(i=r.from;i<=r.to&&i<te;i++)m(i,t,n);if(r.to>=te)for(var o=r.from>=te?r.from:te,s=r.to,a=ne(o),l=ne(s),u=a;u<=l;u++)t[u]=u}}}));break;case"Group":p(a.value,t,n);break;default:throw Error("Non Exhaustive Match")}var l=void 0!==a.quantifier&&0===a.quantifier.atLeast;if("Group"===a.type&&!1===y(a)||"Group"!==a.type&&!1===l)break}break;default:throw Error("non exhaustive match!")}return(0,i.zu)(t)}function m(e,t,n){var r=ne(e);t[r]=r,!0===n&&g(e,t)}function g(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=ne(r.charCodeAt(0));t[i]=i}else{var o=n.toLowerCase();if(o!==n){i=ne(o.charCodeAt(0));t[i]=i}}}function v(e,t){return(0,i.I6)(e.value,(function(e){if("number"===typeof e)return(0,i.gR)(t,e);var n=e;return void 0!==(0,i.I6)(t,(function(e){return n.from<=e&&e<=n.to}))}))}function y(e){return!(!e.quantifier||0!==e.quantifier.atLeast)||!!e.value&&((0,i.cy)(e.value)?(0,i.Si)(e.value,y):y(e.value))}var b=function(e){function t(t){var n=e.call(this)||this;return n.targetCharCodes=t,n.found=!1,n}return c(t,e),t.prototype.visitChildren=function(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}e.prototype.visitChildren.call(this,t)}},t.prototype.visitCharacter=function(e){(0,i.gR)(this.targetCharCodes,e.value)&&(this.found=!0)},t.prototype.visitSet=function(e){e.complement?void 0===v(e,this.targetCharCodes)&&(this.found=!0):void 0!==v(e,this.targetCharCodes)&&(this.found=!0)},t}(o.BaseRegExpVisitor);function w(e,t){if(t instanceof RegExp){var n=l(t),r=new b(e);return r.visit(n),r.found}return void 0!==(0,i.I6)(t,(function(t){return(0,i.gR)(e,t.charCodeAt(0))}))}var _=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E="PATTERN",S="defaultMode",T="modes",M="boolean"===typeof new RegExp("(?:)").sticky;function C(e,t){t=(0,i.NT)(t,{useSticky:M,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}});var n,r=t.tracer;r("initCharCodeToOptimizedIndexMap",(function(){ie()})),r("Reject Lexer.NA",(function(){n=(0,i.ku)(e,(function(e){return e[E]===Se.NA}))}));var o,s,a,l,u,c,h,p,m,g,v,y=!1;r("Transform Patterns",(function(){y=!1,o=(0,i.Tj)(n,(function(e){var n=e[E];if((0,i.gd)(n)){var r=n.source;return 1!==r.length||"^"===r||"$"===r||"."===r||n.ignoreCase?2!==r.length||"\\"!==r[0]||(0,i.gR)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?t.useSticky?W(n):V(n):r[1]:r}if((0,i.Tn)(n))return y=!0,{exec:n};if((0,i.zy)(n,"exec"))return y=!0,n;if("string"===typeof n){if(1===n.length)return n;var o=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=new RegExp(o);return t.useSticky?W(s):V(s)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){s=(0,i.Tj)(n,(function(e){return e.tokenTypeIdx})),a=(0,i.Tj)(n,(function(e){var t=e.GROUP;if(t!==Se.SKIPPED){if((0,i.Kg)(t))return t;if((0,i.b0)(t))return!1;throw Error("non exhaustive match")}})),l=(0,i.Tj)(n,(function(e){var t=e.LONGER_ALT;if(t){var r=(0,i.qh)(n,t);return r}})),u=(0,i.Tj)(n,(function(e){return e.PUSH_MODE})),c=(0,i.Tj)(n,(function(e){return(0,i.zy)(e,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var e=Z(t.lineTerminatorCharacters);h=(0,i.Tj)(n,(function(e){return!1})),"onlyOffset"!==t.positionTracking&&(h=(0,i.Tj)(n,(function(t){return(0,i.zy)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===J(t,e)?w(e,t.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){p=(0,i.Tj)(n,q),m=(0,i.Tj)(o,K),g=(0,i.TS)(n,(function(e,t){var n=t.GROUP;return(0,i.Kg)(n)&&n!==Se.SKIPPED&&(e[n]=[]),e}),{}),v=(0,i.Tj)(o,(function(e,t){return{pattern:o[t],longerAlt:l[t],canLineTerminator:h[t],isCustom:p[t],short:m[t],group:a[t],push:u[t],pop:c[t],tokenTypeIdx:s[t],tokenType:n[t]}}))}));var b=!0,_=[];return t.safeMode||r("First Char Optimization",(function(){_=(0,i.TS)(n,(function(e,n,r){if("string"===typeof n.PATTERN){var o=n.PATTERN.charCodeAt(0),s=ne(o);ee(e,s,v[r])}else if((0,i.cy)(n.START_CHARS_HINT)){var a;(0,i.jJ)(n.START_CHARS_HINT,(function(t){var n="string"===typeof t?t.charCodeAt(0):t,i=ne(n);a!==i&&(a=i,ee(e,i,v[r]))}))}else if((0,i.gd)(n.PATTERN))if(n.PATTERN.unicode)b=!1,t.ensureOptimizations&&(0,i.Zi)(d+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var l=f(n.PATTERN,t.ensureOptimizations);(0,i.Im)(l)&&(b=!1),(0,i.jJ)(l,(function(t){ee(e,t,v[r])}))}else t.ensureOptimizations&&(0,i.Zi)(d+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),b=!1;return e}),[])})),r("ArrayPacking",(function(){_=(0,i.VS)(_)})),{emptyGroups:g,patternIdxToConfig:v,charCodeToPatternIdxToConfig:_,hasCustom:y,canBeOptimized:b}}function R(e,t){var n=[],r=A(e);n=n.concat(r.errors);var i=N(r.valid),o=i.valid;return n=n.concat(i.errors),n=n.concat(x(o)),n=n.concat(H(o)),n=n.concat(U(o,t)),n=n.concat(B(o)),n}function x(e){var t=[],n=(0,i.pb)(e,(function(e){return(0,i.gd)(e[E])}));return t=t.concat(k(n)),t=t.concat(P(n)),t=t.concat(D(n)),t=t.concat(F(n)),t=t.concat(O(n)),t}function A(e){var t=(0,i.pb)(e,(function(e){return!(0,i.zy)(e,E)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:we.MISSING_PATTERN,tokenTypes:[e]}})),r=(0,i.iv)(e,t);return{errors:n,valid:r}}function N(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return!(0,i.gd)(t)&&!(0,i.Tn)(t)&&!(0,i.zy)(t,"exec")&&!(0,i.Kg)(t)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:we.INVALID_PATTERN,tokenTypes:[e]}})),r=(0,i.iv)(e,t);return{errors:n,valid:r}}var L=/[^\\][\$]/;function k(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return _(t,e),t.prototype.visitEndAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=(0,i.pb)(e,(function(e){var n=e[E];try{var r=l(n),i=new t;return i.visit(r),i.found}catch(o){return L.test(n.source)}})),r=(0,i.Tj)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:we.EOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}function O(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return t.test("")})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:we.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}));return n}var I=/[^\\[][\^]|^\^/;function P(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return _(t,e),t.prototype.visitStartAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=(0,i.pb)(e,(function(e){var n=e[E];try{var r=l(n),i=new t;return i.visit(r),i.found}catch(o){return I.test(n.source)}})),r=(0,i.Tj)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:we.SOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}function D(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return t instanceof RegExp&&(t.multiline||t.global)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:we.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}));return n}function F(e){var t=[],n=(0,i.Tj)(e,(function(n){return(0,i.TS)(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||(0,i.gR)(t,r)||r.PATTERN===Se.NA||(t.push(r),e.push(r)),e}),[])}));n=(0,i.oE)(n);var r=(0,i.pb)(n,(function(e){return e.length>1})),o=(0,i.Tj)(r,(function(e){var t=(0,i.Tj)(e,(function(e){return e.name})),n=(0,i.$1)(e).PATTERN;return{message:"The same RegExp pattern ->"+n+"<-has been used in all of the following Token Types: "+t.join(", ")+" <-",type:we.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}));return o}function H(e){var t=(0,i.pb)(e,(function(e){if(!(0,i.zy)(e,"GROUP"))return!1;var t=e.GROUP;return t!==Se.SKIPPED&&t!==Se.NA&&!(0,i.Kg)(t)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:we.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}));return n}function U(e,t){var n=(0,i.pb)(e,(function(e){return void 0!==e.PUSH_MODE&&!(0,i.gR)(t,e.PUSH_MODE)})),r=(0,i.Tj)(n,(function(e){var t="Token Type: ->"+e.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+e.PUSH_MODE+"<-which does not exist";return{message:t,type:we.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}));return r}function B(e){var t=[],n=(0,i.TS)(e,(function(e,t,n){var r=t.PATTERN;return r===Se.NA||((0,i.Kg)(r)?e.push({str:r,idx:n,tokenType:t}):(0,i.gd)(r)&&Y(r)&&e.push({str:r.source,idx:n,tokenType:t})),e}),[]);return(0,i.jJ)(e,(function(e,r){(0,i.jJ)(n,(function(n){var i=n.str,o=n.idx,s=n.tokenType;if(r<o&&j(i,e.PATTERN)){var a="Token: ->"+s.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+e.name+"<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE";t.push({message:a,type:we.UNREACHABLE_PATTERN,tokenTypes:[e,s]})}}))})),t}function j(e,t){if((0,i.gd)(t)){var n=t.exec(e);return null!==n&&0===n.index}if((0,i.Tn)(t))return t(e,0,[],{});if((0,i.zy)(t,"exec"))return t.exec(e,0,[],{});if("string"===typeof t)return t===e;throw Error("non exhaustive match")}function Y(e){var t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return void 0===(0,i.I6)(t,(function(t){return-1!==e.source.indexOf(t)}))}function V(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:"+e.source+")",t)}function W(e){var t=e.ignoreCase?"iy":"y";return new RegExp(""+e.source,t)}function z(e,t,n){var r=[];return(0,i.zy)(e,S)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+S+"> property in its definition\n",type:we.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,i.zy)(e,T)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+T+"> property in its definition\n",type:we.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,i.zy)(e,T)&&(0,i.zy)(e,S)&&!(0,i.zy)(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a "+S+": <"+e.defaultMode+">which does not exist\n",type:we.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,i.zy)(e,T)&&(0,i.jJ)(e.modes,(function(e,t){(0,i.jJ)(e,(function(e,n){(0,i.b0)(e)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+t+"> at index: <"+n+">\n",type:we.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}function G(e,t,n){var r=[],o=!1,s=(0,i.oE)((0,i.Bq)((0,i.LG)(e.modes,(function(e){return e})))),a=(0,i.ku)(s,(function(e){return e[E]===Se.NA})),l=Z(n);return t&&(0,i.jJ)(a,(function(e){var t=J(e,l);if(!1!==t){var n=Q(e,t),s={message:n,type:t.issue,tokenType:e};r.push(s)}else(0,i.zy)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(o=!0):w(l,e.PATTERN)&&(o=!0)})),t&&!o&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:we.NO_LINE_BREAKS_FLAGS}),r}function $(e){var t={},n=(0,i.HP)(e);return(0,i.jJ)(n,(function(n){var r=e[n];if(!(0,i.cy)(r))throw Error("non exhaustive match");t[n]=[]})),t}function q(e){var t=e.PATTERN;if((0,i.gd)(t))return!1;if((0,i.Tn)(t))return!0;if((0,i.zy)(t,"exec"))return!0;if((0,i.Kg)(t))return!1;throw Error("non exhaustive match")}function K(e){return!(!(0,i.Kg)(e)||1!==e.length)&&e.charCodeAt(0)}var X={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function J(e,t){if((0,i.zy)(e,"LINE_BREAKS"))return!1;if((0,i.gd)(e.PATTERN)){try{w(t,e.PATTERN)}catch(n){return{issue:we.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if((0,i.Kg)(e.PATTERN))return!1;if(q(e))return{issue:we.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Q(e,t){if(t.issue===we.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+e.name+"> Token Type\n\t Root cause: "+t.errMsg+".\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===we.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+e.name+"> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}function Z(e){var t=(0,i.Tj)(e,(function(e){return(0,i.Kg)(e)&&e.length>0?e.charCodeAt(0):e}));return t}function ee(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var te=256;function ne(e){return e<te?e:re[e]}var re=[];function ie(){if((0,i.Im)(re)){re=new Array(65536);for(var e=0;e<65536;e++)re[e]=e>255?255+~~(e/255):e}}function oe(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function se(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var ae=1,le={};function ue(e){var t=ce(e);he(t),fe(t),de(t),(0,i.jJ)(t,(function(e){e.isParent=e.categoryMatches.length>0}))}function ce(e){var t=(0,i.T9)(e),n=e,r=!0;while(r){n=(0,i.oE)((0,i.Bq)((0,i.Tj)(n,(function(e){return e.CATEGORIES}))));var o=(0,i.iv)(n,t);t=t.concat(o),(0,i.Im)(o)?r=!1:n=o}return t}function he(e){(0,i.jJ)(e,(function(e){me(e)||(le[ae]=e,e.tokenTypeIdx=ae++),ge(e)&&!(0,i.cy)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),ge(e)||(e.CATEGORIES=[]),ve(e)||(e.categoryMatches=[]),ye(e)||(e.categoryMatchesMap={})}))}function de(e){(0,i.jJ)(e,(function(e){e.categoryMatches=[],(0,i.jJ)(e.categoryMatchesMap,(function(t,n){e.categoryMatches.push(le[n].tokenTypeIdx)}))}))}function fe(e){(0,i.jJ)(e,(function(e){pe([],e)}))}function pe(e,t){(0,i.jJ)(e,(function(e){t.categoryMatchesMap[e.tokenTypeIdx]=!0})),(0,i.jJ)(t.CATEGORIES,(function(n){var r=e.concat(t);(0,i.gR)(r,n)||pe(r,n)}))}function me(e){return(0,i.zy)(e,"tokenTypeIdx")}function ge(e){return(0,i.zy)(e,"CATEGORIES")}function ve(e){return(0,i.zy)(e,"categoryMatches")}function ye(e){return(0,i.zy)(e,"categoryMatchesMap")}function be(e){return(0,i.zy)(e,"tokenTypeIdx")}var we,_e={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+", skipped "+n+" characters."}};(function(e){e[e["MISSING_PATTERN"]=0]="MISSING_PATTERN",e[e["INVALID_PATTERN"]=1]="INVALID_PATTERN",e[e["EOI_ANCHOR_FOUND"]=2]="EOI_ANCHOR_FOUND",e[e["UNSUPPORTED_FLAGS_FOUND"]=3]="UNSUPPORTED_FLAGS_FOUND",e[e["DUPLICATE_PATTERNS_FOUND"]=4]="DUPLICATE_PATTERNS_FOUND",e[e["INVALID_GROUP_TYPE_FOUND"]=5]="INVALID_GROUP_TYPE_FOUND",e[e["PUSH_MODE_DOES_NOT_EXIST"]=6]="PUSH_MODE_DOES_NOT_EXIST",e[e["MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE"]=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e["MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY"]=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e["MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST"]=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e["LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED"]=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e["SOI_ANCHOR_FOUND"]=11]="SOI_ANCHOR_FOUND",e[e["EMPTY_MATCH_PATTERN"]=12]="EMPTY_MATCH_PATTERN",e[e["NO_LINE_BREAKS_FLAGS"]=13]="NO_LINE_BREAKS_FLAGS",e[e["UNREACHABLE_PATTERN"]=14]="UNREACHABLE_PATTERN",e[e["IDENTIFY_TERMINATOR"]=15]="IDENTIFY_TERMINATOR",e[e["CUSTOM_LINE_BREAK"]=16]="CUSTOM_LINE_BREAK"})(we||(we={}));var Ee={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:_e,traceInitPerf:!1,skipValidations:!1};Object.freeze(Ee);var Se=function(){function e(e,t){var n=this;if(void 0===t&&(t=Ee),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"===typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=(0,i.h1)(Ee,t);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"===typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,o=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===Ee.lineTerminatorsPattern)n.config.lineTerminatorsPattern=X;else if(n.config.lineTerminatorCharacters===Ee.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),(0,i.cy)(e)?(r={modes:{}},r.modes[S]=(0,i.T9)(e),r[S]=S):(o=!1,r=(0,i.lR)(e))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(z(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(G(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},(0,i.jJ)(r.modes,(function(e,t){r.modes[t]=(0,i.ku)(e,(function(e){return(0,i.b0)(e)}))}));var s=(0,i.HP)(r.modes);if((0,i.jJ)(r.modes,(function(e,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var o;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(R(e,s))})),(0,i.Im)(n.lexerDefinitionErrors))&&(ue(e),n.TRACE_INIT("analyzeTokenTypes",(function(){o=C(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=o.charCodeToPatternIdxToConfig,n.emptyGroups=(0,i.h1)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=o.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!(0,i.Im)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var a=(0,i.Tj)(n.lexerDefinitionErrors,(function(e){return e.message})),l=a.join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+l)}(0,i.jJ)(n.lexerDefinitionWarning,(function(e){(0,i.x5)(e.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(M?(n.chopInput=i.zK,n.match=n.matchWithTest):(n.updateLastIndex=i.tE,n.match=n.matchWithExec),o&&(n.handleModes=i.tE),!1===n.trackStartLines&&(n.computeNewColumn=i.zK),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=i.tE),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var e=(0,i.TS)(n.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(t.ensureOptimizations&&!(0,i.Im)(e))throw Error("Lexer Modes: < "+e.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){u()})),n.TRACE_INIT("toFastProperties",(function(){(0,i.Bl)(n)}))}))}return e.prototype.tokenize=function(e,t){if(void 0===t&&(t=this.defaultMode),!(0,i.Im)(this.lexerDefinitionErrors)){var n=(0,i.Tj)(this.lexerDefinitionErrors,(function(e){return e.message})),r=n.join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+r)}var o=this.tokenizeInternal(e,t);return o},e.prototype.tokenizeInternal=function(e,t){var n,r,o,s,a,l,u,c,h,d,f,p,m,g,v=this,y=e,b=y.length,w=0,_=0,E=this.hasCustom?0:Math.floor(e.length/10),S=new Array(E),T=[],M=this.trackStartLines?1:void 0,C=this.trackStartLines?1:void 0,R=$(this.emptyGroups),x=this.trackStartLines,A=this.config.lineTerminatorsPattern,N=0,L=[],k=[],O=[],I=[];Object.freeze(I);var P=void 0;function D(){return L}function F(e){var t=ne(e),n=k[t];return void 0===n?I:n}var H,U=function(e){if(1===O.length&&void 0===e.tokenType.PUSH_MODE){var t=v.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);T.push({offset:e.startOffset,line:void 0!==e.startLine?e.startLine:void 0,column:void 0!==e.startColumn?e.startColumn:void 0,length:e.image.length,message:t})}else{O.pop();var n=(0,i.HV)(O);L=v.patternIdxToConfig[n],k=v.charCodeToPatternIdxToConfig[n],N=L.length;var r=v.canModeBeOptimized[n]&&!1===v.config.safeMode;P=k&&r?F:D}};function B(e){O.push(e),k=this.charCodeToPatternIdxToConfig[e],L=this.patternIdxToConfig[e],N=L.length,N=L.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;P=k&&t?F:D}B.call(this,t);while(w<b){a=null;var j=y.charCodeAt(w),Y=P(j),V=Y.length;for(n=0;n<V;n++){H=Y[n];var W=H.pattern;l=null;var z=H.short;if(!1!==z?j===z&&(a=W):!0===H.isCustom?(g=W.exec(y,w,S,R),null!==g?(a=g[0],void 0!==g.payload&&(l=g.payload)):a=null):(this.updateLastIndex(W,w),a=this.match(W,e,w)),null!==a){if(s=H.longerAlt,void 0!==s){var G=L[s],q=G.pattern;u=null,!0===G.isCustom?(g=q.exec(y,w,S,R),null!==g?(o=g[0],void 0!==g.payload&&(u=g.payload)):o=null):(this.updateLastIndex(q,w),o=this.match(q,e,w)),o&&o.length>a.length&&(a=o,l=u,H=G)}break}}if(null!==a){if(c=a.length,h=H.group,void 0!==h&&(d=H.tokenTypeIdx,f=this.createTokenInstance(a,w,d,H.tokenType,M,C,c),this.handlePayload(f,l),!1===h?_=this.addToken(S,_,f):R[h].push(f)),e=this.chopInput(e,c),w+=c,C=this.computeNewColumn(C,c),!0===x&&!0===H.canLineTerminator){var K=0,X=void 0,J=void 0;A.lastIndex=0;do{X=A.test(a),!0===X&&(J=A.lastIndex-1,K++)}while(!0===X);0!==K&&(M+=K,C=c-J,this.updateTokenEndLineColumnLocation(f,h,J,K,M,C,c))}this.handleModes(H,U,B,f)}else{var Q=w,Z=M,ee=C,te=!1;while(!te&&w<b)for(y.charCodeAt(w),e=this.chopInput(e,1),w++,r=0;r<N;r++){var re=L[r];W=re.pattern,z=re.short;if(!1!==z?y.charCodeAt(w)===z&&(te=!0):!0===re.isCustom?te=null!==W.exec(y,w,S,R):(this.updateLastIndex(W,w),te=null!==W.exec(e)),!0===te)break}p=w-Q,m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,Q,p,Z,ee),T.push({offset:Q,line:Z,column:ee,length:p,message:m})}}return this.hasCustom||(S.length=_),{tokens:S,groups:R,errors:T}},e.prototype.handleModes=function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)},e.prototype.chopInput=function(e,t){return e.substring(t)},e.prototype.updateLastIndex=function(e,t){e.lastIndex=t},e.prototype.updateTokenEndLineColumnLocation=function(e,t,n,r,i,o,s){var a,l;void 0!==t&&(a=n===s-1,l=a?-1:0,1===r&&!0===a||(e.endLine=i+l,e.endColumn=o-1-l))},e.prototype.computeNewColumn=function(e,t){return e+t},e.prototype.createTokenInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},e.prototype.createOffsetOnlyToken=function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}},e.prototype.createStartOnlyToken=function(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},e.prototype.createFullToken=function(e,t,n,r,i,o,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:r}},e.prototype.addToken=function(e,t,n){return 666},e.prototype.addTokenUsingPush=function(e,t,n){return e.push(n),t},e.prototype.addTokenUsingMemberAccess=function(e,t,n){return e[t]=n,t++,t},e.prototype.handlePayload=function(e,t){},e.prototype.handlePayloadNoCustom=function(e,t){},e.prototype.handlePayloadWithCustom=function(e,t){null!==t&&(e.payload=t)},e.prototype.match=function(e,t,n){return null},e.prototype.matchWithTest=function(e,t,n){var r=e.test(t);return!0===r?t.substring(n,e.lastIndex):null},e.prototype.matchWithExec=function(e,t){var n=e.exec(t);return null!==n?n[0]:n},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=(0,i.O1)(t),o=r.time,s=r.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,s}return t()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();function Te(e){return Ce(e)?e.LABEL:e.name}function Me(e){return e.name}function Ce(e){return(0,i.Kg)(e.LABEL)&&""!==e.LABEL}var Re="parent",xe="categories",Ae="label",Ne="group",Le="push_mode",ke="pop_mode",Oe="longer_alt",Ie="line_breaks",Pe="start_chars_hint";function De(e){return Fe(e)}function Fe(e){var t=e.pattern,n={};if(n.name=e.name,(0,i.b0)(t)||(n.PATTERN=t),(0,i.zy)(e,Re))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,i.zy)(e,xe)&&(n.CATEGORIES=e[xe]),ue([n]),(0,i.zy)(e,Ae)&&(n.LABEL=e[Ae]),(0,i.zy)(e,Ne)&&(n.GROUP=e[Ne]),(0,i.zy)(e,ke)&&(n.POP_MODE=e[ke]),(0,i.zy)(e,Le)&&(n.PUSH_MODE=e[Le]),(0,i.zy)(e,Oe)&&(n.LONGER_ALT=e[Oe]),(0,i.zy)(e,Ie)&&(n.LINE_BREAKS=e[Ie]),(0,i.zy)(e,Pe)&&(n.START_CHARS_HINT=e[Pe]),n}var He=De({name:"EOF",pattern:Se.NA});function Ue(e,t,n,r,i,o,s,a){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Be(e,t){return oe(e,t)}ue([He]);var je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(){function e(e){this._definition=e}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),e.prototype.accept=function(e){e.visit(this),(0,i.jJ)(this.definition,(function(t){t.accept(e)}))},e}(),Ve=function(e){function t(t){var n=e.call(this,[])||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){},enumerable:!1,configurable:!0}),t.prototype.accept=function(e){e.visit(this)},t}(Ye),We=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.orgText="",(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),ze=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.ignoreAmbiguities=!1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Ge=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),$e=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),qe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Ke=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Xe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Je=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),t}(Ye),Qe=function(){function e(e){this.idx=1,(0,i.kp)(this,(0,i.Up)(e,(function(e){return void 0!==e})))}return e.prototype.accept=function(e){e.visit(this)},e}();function Ze(e){return(0,i.Tj)(e,et)}function et(e){function t(e){return(0,i.Tj)(e,et)}if(e instanceof Ve)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof ze)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Ge)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof $e)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof qe)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:et(new Qe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Xe)return{type:"RepetitionWithSeparator",idx:e.idx,separator:et(new Qe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ke)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof Je)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof Qe){var n={type:"Terminal",name:e.terminalType.name,label:Te(e.terminalType),idx:e.idx},r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=(0,i.gd)(r)?r.source:r),n}if(e instanceof We)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}var tt=function(){function e(){}return e.prototype.walk=function(e,t){var n=this;void 0===t&&(t=[]),(0,i.jJ)(e.definition,(function(r,o){var s=(0,i.gv)(e.definition,o+1);if(r instanceof Ve)n.walkProdRef(r,s,t);else if(r instanceof Qe)n.walkTerminal(r,s,t);else if(r instanceof ze)n.walkFlat(r,s,t);else if(r instanceof Ge)n.walkOption(r,s,t);else if(r instanceof $e)n.walkAtLeastOne(r,s,t);else if(r instanceof qe)n.walkAtLeastOneSep(r,s,t);else if(r instanceof Xe)n.walkManySep(r,s,t);else if(r instanceof Ke)n.walkMany(r,s,t);else{if(!(r instanceof Je))throw Error("non exhaustive match");n.walkOr(r,s,t)}}))},e.prototype.walkTerminal=function(e,t,n){},e.prototype.walkProdRef=function(e,t,n){},e.prototype.walkFlat=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkOption=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkAtLeastOne=function(e,t,n){var r=[new Ge({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkAtLeastOneSep=function(e,t,n){var r=nt(e,t,n);this.walk(e,r)},e.prototype.walkMany=function(e,t,n){var r=[new Ge({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkManySep=function(e,t,n){var r=nt(e,t,n);this.walk(e,r)},e.prototype.walkOr=function(e,t,n){var r=this,o=t.concat(n);(0,i.jJ)(e.definition,(function(e){var t=new ze({definition:[e]});r.walk(t,o)}))},e}();function nt(e,t,n){var r=[new Ge({definition:[new Qe({terminalType:e.separator})].concat(e.definition)})],i=r.concat(t,n);return i}var rt=function(){function e(){}return e.prototype.visit=function(e){var t=e;switch(t.constructor){case Ve:return this.visitNonTerminal(t);case ze:return this.visitAlternative(t);case Ge:return this.visitOption(t);case $e:return this.visitRepetitionMandatory(t);case qe:return this.visitRepetitionMandatoryWithSeparator(t);case Xe:return this.visitRepetitionWithSeparator(t);case Ke:return this.visitRepetition(t);case Je:return this.visitAlternation(t);case Qe:return this.visitTerminal(t);case We:return this.visitRule(t);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(e){},e.prototype.visitAlternative=function(e){},e.prototype.visitOption=function(e){},e.prototype.visitRepetition=function(e){},e.prototype.visitRepetitionMandatory=function(e){},e.prototype.visitRepetitionMandatoryWithSeparator=function(e){},e.prototype.visitRepetitionWithSeparator=function(e){},e.prototype.visitAlternation=function(e){},e.prototype.visitTerminal=function(e){},e.prototype.visitRule=function(e){},e}(),it=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ot(e){return e instanceof ze||e instanceof Ge||e instanceof Ke||e instanceof $e||e instanceof qe||e instanceof Xe||e instanceof Qe||e instanceof We}function st(e,t){void 0===t&&(t=[]);var n=e instanceof Ge||e instanceof Ke||e instanceof Xe;return!!n||(e instanceof Je?(0,i.zN)(e.definition,(function(e){return st(e,t)})):!(e instanceof Ve&&(0,i.gR)(t,e))&&(e instanceof Ye&&(e instanceof Ve&&t.push(e),(0,i.Si)(e.definition,(function(e){return st(e,t)})))))}function at(e){return e instanceof Je}function lt(e){if(e instanceof Ve)return"SUBRULE";if(e instanceof Ge)return"OPTION";if(e instanceof Je)return"OR";if(e instanceof $e)return"AT_LEAST_ONE";if(e instanceof qe)return"AT_LEAST_ONE_SEP";if(e instanceof Xe)return"MANY_SEP";if(e instanceof Ke)return"MANY";if(e instanceof Qe)return"CONSUME";throw Error("non exhaustive match")}var ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.separator="-",t.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},t}return it(t,e),t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(e){var t=e.terminalType.name+this.separator+"Terminal";(0,i.zy)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitNonTerminal=function(e){var t=e.nonTerminalName+this.separator+"Terminal";(0,i.zy)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitOption=function(e){this.dslMethods.option.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.dslMethods.repetitionWithSeparator.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.dslMethods.repetitionMandatory.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)},t.prototype.visitRepetition=function(e){this.dslMethods.repetition.push(e)},t.prototype.visitAlternation=function(e){this.dslMethods.alternation.push(e)},t}(rt),ct=new ut;function ht(e){ct.reset(),e.accept(ct);var t=ct.dslMethods;return ct.reset(),t}function dt(e){if(e instanceof Ve)return dt(e.referencedRule);if(e instanceof Qe)return mt(e);if(ot(e))return ft(e);if(at(e))return pt(e);throw Error("non exhaustive match")}function ft(e){var t,n=[],r=e.definition,o=0,s=r.length>o,a=!0;while(s&&a)t=r[o],a=st(t),n=n.concat(dt(t)),o+=1,s=r.length>o;return(0,i.sb)(n)}function pt(e){var t=(0,i.Tj)(e.definition,(function(e){return dt(e)}));return(0,i.sb)((0,i.Bq)(t))}function mt(e){return[e.terminalType]}var gt="_~IN~_",vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(e){function t(t){var n=e.call(this)||this;return n.topProd=t,n.follows={},n}return vt(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(e,t,n){},t.prototype.walkProdRef=function(e,t,n){var r=wt(e.referencedRule,e.idx)+this.topProd.name,i=t.concat(n),o=new ze({definition:i}),s=dt(o);this.follows[r]=s},t}(tt);function bt(e){var t={};return(0,i.jJ)(e,(function(e){var n=new yt(e).startWalking();(0,i.kp)(t,n)})),t}function wt(e,t){return e.name+t+gt}var _t={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual,r=(e.previous,e.ruleName,Ce(t)),i=r?"--\x3e "+Te(t)+" <--":"token of type --\x3e "+t.name+" <--",o="Expecting "+i+" but found --\x3e '"+n.image+"' <--";return o},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;e.ruleName;return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,r=(e.previous,e.customUserDescription),o=(e.ruleName,"Expecting: "),s=(0,i.$1)(n).image,a="\nbut found: '"+s+"'";if(r)return o+r+a;var l=(0,i.TS)(t,(function(e,t){return e.concat(t)}),[]),u=(0,i.Tj)(l,(function(e){return"["+(0,i.Tj)(e,(function(e){return Te(e)})).join(", ")+"]"})),c=(0,i.Tj)(u,(function(e,t){return"  "+(t+1)+". "+e})),h="one of these possible Token sequences:\n"+c.join("\n");return o+h+a},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription,o=(e.ruleName,"Expecting: "),s=(0,i.$1)(n).image,a="\nbut found: '"+s+"'";if(r)return o+r+a;var l=(0,i.Tj)(t,(function(e){return"["+(0,i.Tj)(e,(function(e){return Te(e)})).join(",")+"]"})),u="expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+l.join(" ,")+">";return o+u+a}};Object.freeze(_t);var Et={buildRuleNotFoundError:function(e,t){var n="Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-";return n}},St={buildDuplicateFoundError:function(e,t){function n(e){return e instanceof Qe?e.terminalType.name:e instanceof Ve?e.nonTerminalName:""}var r=e.name,o=(0,i.$1)(t),s=o.idx,a=lt(o),l=n(o),u=s>0,c="->"+a+(u?s:"")+"<- "+(l?"with argument: ->"+l+"<-":"")+"\n                  appears more than once ("+t.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,"\n"),c},buildNamespaceConflictError:function(e){var t="Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.";return t},buildAlternationPrefixAmbiguityError:function(e){var t=(0,i.Tj)(e.prefixPath,(function(e){return Te(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.";return r},buildAlternationAmbiguityError:function(e){var t=(0,i.Tj)(e.prefixPath,(function(e){return Te(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r},buildEmptyRepetitionError:function(e){var t=lt(e.repetition);0!==e.repetition.idx&&(t+=e.repetition.idx);var n="The repetition <"+t+"> within Rule <"+e.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop.";return n},buildTokenNameError:function(e){return"deprecated"},buildEmptyAlternationError:function(e){var t="Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+"> in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative.";return t},buildTooManyAlternativesError:function(e){var t="An Alternation cannot have more than 256 alternatives:\n<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\n has "+(e.alternation.definition.length+1)+" alternatives.";return t},buildLeftRecursionError:function(e){var t=e.topLevelRule.name,n=i.Tj(e.leftRecursionPath,(function(e){return e.name})),r=t+" --\x3e "+n.concat([t]).join(" --\x3e "),o="Left Recursion found in grammar.\nrule: <"+t+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+r+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.";return o},buildInvalidRuleNameError:function(e){return"deprecated"},buildDuplicateRuleNameError:function(e){var t;t=e.topLevelRule instanceof We?e.topLevelRule.name:e.topLevelRule;var n="Duplicate definition, rule: ->"+t+"<- is already defined in the grammar: ->"+e.grammarName+"<-";return n}},Tt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Mt(e,t){var n=new Ct(e,t);return n.resolveRefs(),n.errors}var Ct=function(e){function t(t,n){var r=e.call(this)||this;return r.nameToTopRule=t,r.errMsgProvider=n,r.errors=[],r}return Tt(t,e),t.prototype.resolveRefs=function(){var e=this;(0,i.jJ)((0,i.zu)(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))},t.prototype.visitNonTerminal=function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Ir.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}},t}(rt),Rt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xt=function(e){function t(t,n){var r=e.call(this)||this;return r.topProd=t,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return Rt(t,e),t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,i.T9)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,i.T9)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(t,n){void 0===n&&(n=[]),this.found||e.prototype.walk.call(this,t,n)},t.prototype.walkProdRef=function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}},t.prototype.updateExpectedNext=function(){(0,i.Im)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(tt),At=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return Rt(t,e),t.prototype.walkTerminal=function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new ze({definition:r});this.possibleTokTypes=dt(i),this.found=!0}},t}(xt),Nt=function(e){function t(t,n){var r=e.call(this)||this;return r.topRule=t,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return Rt(t,e),t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(tt),Lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.walkMany=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkMany.call(this,t,n,r)},t}(Nt),kt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.walkManySep=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkManySep.call(this,t,n,r)},t}(Nt),Ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.walkAtLeastOne=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOne.call(this,t,n,r)},t}(Nt),It=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rt(t,e),t.prototype.walkAtLeastOneSep=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOneSep.call(this,t,n,r)},t}(Nt);function Pt(e,t,n){void 0===n&&(n=[]),n=(0,i.T9)(n);var r=[],o=0;function s(t){return t.concat((0,i.gv)(e,o+1))}function a(e){var i=Pt(s(e),t,n);return r.concat(i)}while(n.length<t&&o<e.length){var l=e[o];if(l instanceof ze)return a(l.definition);if(l instanceof Ve)return a(l.definition);if(l instanceof Ge)r=a(l.definition);else{if(l instanceof $e){var u=l.definition.concat([new Ke({definition:l.definition})]);return a(u)}if(l instanceof qe){u=[new ze({definition:l.definition}),new Ke({definition:[new Qe({terminalType:l.separator})].concat(l.definition)})];return a(u)}if(l instanceof Xe){u=l.definition.concat([new Ke({definition:[new Qe({terminalType:l.separator})].concat(l.definition)})]);r=a(u)}else if(l instanceof Ke){u=l.definition.concat([new Ke({definition:l.definition})]);r=a(u)}else{if(l instanceof Je)return(0,i.jJ)(l.definition,(function(e){!1===(0,i.Im)(e.definition)&&(r=a(e.definition))})),r;if(!(l instanceof Qe))throw Error("non exhaustive match");n.push(l.terminalType)}}o++}return r.push({partialPath:n,suffixDef:(0,i.gv)(e,o)}),r}function Dt(e,t,n,r){var o="EXIT_NONE_TERMINAL",s=[o],a="EXIT_ALTERNATIVE",l=!1,u=t.length,c=u-r-1,h=[],d=[];d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});while(!(0,i.Im)(d)){var f=d.pop();if(f!==a){var p=f.def,m=f.idx,g=f.ruleStack,v=f.occurrenceStack;if(!(0,i.Im)(p)){var y=p[0];if(y===o){var b={idx:m,def:(0,i.gv)(p),ruleStack:(0,i.gc)(g),occurrenceStack:(0,i.gc)(v)};d.push(b)}else if(y instanceof Qe)if(m<u-1){var w=m+1,_=t[w];if(n(_,y.terminalType)){b={idx:w,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(b)}}else{if(m!==u-1)throw Error("non exhaustive match");h.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:g,occurrenceStack:v}),l=!0}else if(y instanceof Ve){var E=(0,i.T9)(g);E.push(y.nonTerminalName);var S=(0,i.T9)(v);S.push(y.idx);b={idx:m,def:y.definition.concat(s,(0,i.gv)(p)),ruleStack:E,occurrenceStack:S};d.push(b)}else if(y instanceof Ge){var T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);var M={idx:m,def:y.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof $e){var C=new Ke({definition:y.definition,idx:y.idx}),R=y.definition.concat([C],(0,i.gv)(p));b={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(b)}else if(y instanceof qe){var x=new Qe({terminalType:y.separator});C=new Ke({definition:[x].concat(y.definition),idx:y.idx}),R=y.definition.concat([C],(0,i.gv)(p)),b={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(b)}else if(y instanceof Xe){T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);x=new Qe({terminalType:y.separator});var A=new Ke({definition:[x].concat(y.definition),idx:y.idx});R=y.definition.concat([A],(0,i.gv)(p)),M={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof Ke){T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);A=new Ke({definition:y.definition,idx:y.idx}),R=y.definition.concat([A],(0,i.gv)(p)),M={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof Je)for(var N=y.definition.length-1;N>=0;N--){var L=y.definition[N],k={idx:m,def:L.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v};d.push(k),d.push(a)}else if(y instanceof ze)d.push({idx:m,def:y.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v});else{if(!(y instanceof We))throw Error("non exhaustive match");d.push(Ft(y,m,g,v))}}}else l&&(0,i.HV)(d).idx<=c&&d.pop()}return h}function Ft(e,t,n,r){var o=(0,i.T9)(n);o.push(e.name);var s=(0,i.T9)(r);return s.push(1),{idx:t,def:e.definition,ruleStack:o,occurrenceStack:s}}var Ht,Ut=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Bt(e){if(e instanceof Ge)return Ht.OPTION;if(e instanceof Ke)return Ht.REPETITION;if(e instanceof $e)return Ht.REPETITION_MANDATORY;if(e instanceof qe)return Ht.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Xe)return Ht.REPETITION_WITH_SEPARATOR;if(e instanceof Je)return Ht.ALTERNATION;throw Error("non exhaustive match")}function jt(e,t,n,r,i,o){var s=Jt(e,t,n),a=tn(s)?se:oe;return o(s,r,a,i)}function Yt(e,t,n,r,i,o){var s=Qt(e,t,i,n),a=tn(s)?se:oe;return o(s[0],a,r)}function Vt(e,t,n,r){var o=e.length,s=(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=(0,i.Tj)(t,(function(e){return e.GATE})),s=0;s<o;s++){var a=e[s],l=a.length,u=r[s];if(void 0===u||!1!==u.call(this))e:for(var c=0;c<l;c++){for(var h=a[c],d=h.length,f=0;f<d;f++){var p=this.LA(f+1);if(!1===n(p,h[f]))continue e}return s}}};if(s&&!r){var a=(0,i.Tj)(e,(function(e){return(0,i.Bq)(e)})),l=(0,i.TS)(a,(function(e,t,n){return(0,i.jJ)(t,(function(t){(0,i.zy)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),(0,i.jJ)(t.categoryMatches,(function(t){(0,i.zy)(e,t)||(e[t]=n)}))})),e}),[]);return function(){var e=this.LA(1);return l[e.tokenTypeIdx]}}return function(){for(var t=0;t<o;t++){var r=e[t],i=r.length;e:for(var s=0;s<i;s++){for(var a=r[s],l=a.length,u=0;u<l;u++){var c=this.LA(u+1);if(!1===n(c,a[u]))continue e}return t}}}}function Wt(e,t,n){var r=(0,i.Si)(e,(function(e){return 1===e.length})),o=e.length;if(r&&!n){var s=(0,i.Bq)(e);if(1===s.length&&(0,i.Im)(s[0].categoryMatches)){var a=s[0],l=a.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===l}}var u=(0,i.TS)(s,(function(e,t,n){return e[t.tokenTypeIdx]=!0,(0,i.jJ)(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===u[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<o;n++){for(var r=e[n],i=r.length,s=0;s<i;s++){var a=this.LA(s+1);if(!1===t(a,r[s]))continue e}return!0}return!1}}(function(e){e[e["OPTION"]=0]="OPTION",e[e["REPETITION"]=1]="REPETITION",e[e["REPETITION_MANDATORY"]=2]="REPETITION_MANDATORY",e[e["REPETITION_MANDATORY_WITH_SEPARATOR"]=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e["REPETITION_WITH_SEPARATOR"]=4]="REPETITION_WITH_SEPARATOR",e[e["ALTERNATION"]=5]="ALTERNATION"})(Ht||(Ht={}));var zt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.topProd=t,i.targetOccurrence=n,i.targetProdType=r,i}return Ut(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)},t.prototype.walkOption=function(t,n,r){this.checkIsTarget(t,Ht.OPTION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOne=function(t,n,r){this.checkIsTarget(t,Ht.REPETITION_MANDATORY,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOneSep=function(t,n,r){this.checkIsTarget(t,Ht.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkMany=function(t,n,r){this.checkIsTarget(t,Ht.REPETITION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkManySep=function(t,n,r){this.checkIsTarget(t,Ht.REPETITION_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t}(tt),Gt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.targetOccurrence=t,i.targetProdType=n,i.targetRef=r,i.result=[],i}return Ut(t,e),t.prototype.checkIsTarget=function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)},t.prototype.visitOption=function(e){this.checkIsTarget(e,Ht.OPTION)},t.prototype.visitRepetition=function(e){this.checkIsTarget(e,Ht.REPETITION)},t.prototype.visitRepetitionMandatory=function(e){this.checkIsTarget(e,Ht.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.checkIsTarget(e,Ht.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(e){this.checkIsTarget(e,Ht.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(e){this.checkIsTarget(e,Ht.ALTERNATION)},t}(rt);function $t(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function qt(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<t.length;o++){var s=t[o];i.push(s+"_"+r.tokenTypeIdx);for(var a=0;a<r.categoryMatches.length;a++){var l="_"+r.categoryMatches[a];i.push(s+l)}}t=i}return t}function Kt(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],o=0;o<t.length;o++){var s=t[o];if(!0===i[s])return!1}return!0}function Xt(e,t){for(var n=(0,i.Tj)(e,(function(e){return Pt([e],1)})),r=$t(n.length),o=(0,i.Tj)(n,(function(e){var t={};return(0,i.jJ)(e,(function(e){var n=qt(e.partialPath);(0,i.jJ)(n,(function(e){t[e]=!0}))})),t})),s=n,a=1;a<=t;a++){var l=s;s=$t(l.length);for(var u=function(e){for(var n=l[e],u=0;u<n.length;u++){var c=n[u].partialPath,h=n[u].suffixDef,d=qt(c),f=Kt(o,d,e);if(f||(0,i.Im)(h)||c.length===t){var p=r[e];if(!1===Zt(p,c)){p.push(c);for(var m=0;m<d.length;m++){var g=d[m];o[e][g]=!0}}}else{var v=Pt(h,a+1,c);s[e]=s[e].concat(v),(0,i.jJ)(v,(function(t){var n=qt(t.partialPath);(0,i.jJ)(n,(function(t){o[e][t]=!0}))}))}}},c=0;c<l.length;c++)u(c)}return r}function Jt(e,t,n,r){var i=new Gt(e,Ht.ALTERNATION,r);return t.accept(i),Xt(i.result,n)}function Qt(e,t,n,r){var i=new Gt(e,n);t.accept(i);var o=i.result,s=new zt(t,e,n),a=s.startWalking(),l=new ze({definition:o}),u=new ze({definition:a});return Xt([l,u],r)}function Zt(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var o=t[i],s=r[i],a=o===s||void 0!==s.categoryMatchesMap[o.tokenTypeIdx];if(!1===a)continue e}return!0}}return!1}function en(e,t){return e.length<t.length&&(0,i.Si)(e,(function(e,n){var r=t[n];return e===r||r.categoryMatchesMap[e.tokenTypeIdx]}))}function tn(e){return(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return(0,i.Im)(e.categoryMatches)}))}))}))}var nn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function rn(e,t,n,r,o){var s=i.Tj(e,(function(e){return on(e,r)})),a=i.Tj(e,(function(e){return hn(e,e,r)})),l=[],u=[],c=[];(0,i.Si)(a,i.Im)&&(l=(0,i.Tj)(e,(function(e){return pn(e,r)})),u=(0,i.Tj)(e,(function(e){return mn(e,t,r)})),c=yn(e,t,r));var h=_n(e,n,r),d=(0,i.Tj)(e,(function(e){return vn(e,r)})),f=(0,i.Tj)(e,(function(t){return un(t,e,o,r)}));return i.Bq(s.concat(c,a,l,u,h,d,f))}function on(e,t){var n=new ln;e.accept(n);var r=n.allProductions,o=i.$z(r,sn),s=i.Up(o,(function(e){return e.length>1})),a=i.Tj(i.zu(s),(function(n){var r=i.$1(n),o=t.buildDuplicateFoundError(e,n),s=lt(r),a={message:o,type:Ir.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:s,occurrence:r.idx},l=an(r);return l&&(a.parameter=l),a}));return a}function sn(e){return lt(e)+"_#_"+e.idx+"_#_"+an(e)}function an(e){return e instanceof Qe?e.terminalType.name:e instanceof Ve?e.nonTerminalName:""}var ln=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return nn(t,e),t.prototype.visitNonTerminal=function(e){this.allProductions.push(e)},t.prototype.visitOption=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t.prototype.visitAlternation=function(e){this.allProductions.push(e)},t.prototype.visitTerminal=function(e){this.allProductions.push(e)},t}(rt);function un(e,t,n,r){var o=[],s=(0,i.TS)(t,(function(t,n){return n.name===e.name?t+1:t}),0);if(s>1){var a=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});o.push({message:a,type:Ir.DUPLICATE_RULE_NAME,ruleName:e.name})}return o}function cn(e,t,n){var r,o=[];return i.gR(t,e)||(r="Invalid rule override, rule: ->"+e+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",o.push({message:r,type:Ir.INVALID_RULE_OVERRIDE,ruleName:e})),o}function hn(e,t,n,r){void 0===r&&(r=[]);var o=[],s=dn(t.definition);if(i.Im(s))return[];var a=e.name,l=i.gR(s,e);l&&o.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Ir.LEFT_RECURSION,ruleName:a});var u=i.iv(s,r.concat([e])),c=i.Tj(u,(function(t){var o=i.T9(r);return o.push(t),hn(e,t,n,o)}));return o.concat(i.Bq(c))}function dn(e){var t=[];if(i.Im(e))return t;var n=i.$1(e);if(n instanceof Ve)t.push(n.referencedRule);else if(n instanceof ze||n instanceof Ge||n instanceof $e||n instanceof qe||n instanceof Xe||n instanceof Ke)t=t.concat(dn(n.definition));else if(n instanceof Je)t=i.Bq(i.Tj(n.definition,(function(e){return dn(e.definition)})));else if(!(n instanceof Qe))throw Error("non exhaustive match");var r=st(n),o=e.length>1;if(r&&o){var s=i.gv(e);return t.concat(dn(s))}return t}var fn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alternations=[],t}return nn(t,e),t.prototype.visitAlternation=function(e){this.alternations.push(e)},t}(rt);function pn(e,t){var n=new fn;e.accept(n);var r=n.alternations,o=i.TS(r,(function(n,r){var o=i.gc(r.definition),s=i.Tj(o,(function(n,o){var s=Dt([n],[],null,1);return i.Im(s)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:o}),type:Ir.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:o+1}:null}));return n.concat(i.oE(s))}),[]);return o}function mn(e,t,n){var r=new fn;e.accept(r);var o=r.alternations;o=(0,i.ku)(o,(function(e){return!0===e.ignoreAmbiguities}));var s=i.TS(o,(function(r,i){var o=i.idx,s=i.maxLookahead||t,a=Jt(o,e,s,i),l=bn(a,i,e,n),u=wn(a,i,e,n);return r.concat(l,u)}),[]);return s}var gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return nn(t,e),t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t}(rt);function vn(e,t){var n=new fn;e.accept(n);var r=n.alternations,o=i.TS(r,(function(n,r){return r.definition.length>255&&n.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:Ir.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}),n}),[]);return o}function yn(e,t,n){var r=[];return(0,i.jJ)(e,(function(e){var o=new gn;e.accept(o);var s=o.allProductions;(0,i.jJ)(s,(function(o){var s=Bt(o),a=o.maxLookahead||t,l=o.idx,u=Qt(l,e,s,a),c=u[0];if((0,i.Im)((0,i.Bq)(c))){var h=n.buildEmptyRepetitionError({topLevelRule:e,repetition:o});r.push({message:h,type:Ir.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}function bn(e,t,n,r){var o=[],s=(0,i.TS)(e,(function(n,r,s){return!0===t.definition[s].ignoreAmbiguities||(0,i.jJ)(r,(function(r){var a=[s];(0,i.jJ)(e,(function(e,n){s!==n&&Zt(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&a.push(n)})),a.length>1&&!Zt(o,r)&&(o.push(r),n.push({alts:a,path:r}))})),n}),[]),a=i.Tj(s,(function(e){var o=(0,i.Tj)(e.alts,(function(e){return e+1})),s=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:o,prefixPath:e.path});return{message:s,type:Ir.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[e.alts]}}));return a}function wn(e,t,n,r){var o=[],s=(0,i.TS)(e,(function(e,t,n){var r=(0,i.Tj)(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]);return(0,i.jJ)(s,(function(e){var a=t.definition[e.idx];if(!0!==a.ignoreAmbiguities){var l=e.idx,u=e.path,c=(0,i.JW)(s,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<l&&en(e.path,u)})),h=(0,i.Tj)(c,(function(e){var i=[e.idx+1,l+1],o=0===t.idx?"":t.idx,s=r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path});return{message:s,type:Ir.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));o=o.concat(h)}})),o}function _n(e,t,n){var r=[],o=(0,i.Tj)(t,(function(e){return e.name}));return(0,i.jJ)(e,(function(e){var t=e.name;if((0,i.gR)(o,t)){var s=n.buildNamespaceConflictError(e);r.push({message:s,type:Ir.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}function En(e){e=(0,i.NT)(e,{errMsgProvider:Et});var t={};return(0,i.jJ)(e.rules,(function(e){t[e.name]=e})),Mt(t,e.errMsgProvider)}function Sn(e){return e=(0,i.NT)(e,{errMsgProvider:St}),rn(e.rules,e.maxLookahead,e.tokenTypes,e.errMsgProvider,e.grammarName)}function Tn(e){(0,i.jJ)(e.rules,(function(e){var t=new ut;e.accept(t),(0,i.jJ)(t.dslMethods,(function(e){(0,i.jJ)(e,(function(e,t){e.idx=t+1}))}))}))}var Mn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cn="MismatchedTokenException",Rn="NoViableAltException",xn="EarlyExitException",An="NotAllInputParsedException",Nn=[Cn,Rn,xn,An];function Ln(e){return(0,i.gR)(Nn,e.name)}Object.freeze(Nn);var kn=function(e){function t(t,n){var r=this.constructor,i=e.call(this,t)||this;return i.token=n,i.resyncedTokens=[],Object.setPrototypeOf(i,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,i.constructor),i}return Mn(t,e),t}(Error),On=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name=Cn,i}return Mn(t,e),t}(kn),In=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name=Rn,i}return Mn(t,e),t}(kn),Pn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=An,r}return Mn(t,e),t}(kn),Dn=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.previousToken=r,i.name=xn,i}return Mn(t,e),t}(kn),Fn={},Hn="InRuleRecoveryException";function Un(e){this.name=Hn,this.message=e}Un.prototype=Error.prototype;var Bn=function(){function e(){}return e.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,i.zy)(e,"recoveryEnabled")?e.recoveryEnabled:Pr.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=jn)},e.prototype.getTokenToInsert=function(e){var t=Ue(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t},e.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},e.prototype.tryInRepetitionRecovery=function(e,t,n,r){var o=this,s=this.findReSyncTokenType(),a=this.exportLexerState(),l=[],u=!1,c=this.LA(1),h=this.LA(1),d=function(){var e=o.LA(0),t=o.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:e,ruleName:o.getCurrRuleFullName()}),n=new On(t,c,o.LA(0));n.resyncedTokens=(0,i.gc)(l),o.SAVE_ERROR(n)};while(!u){if(this.tokenMatcher(h,r))return void d();if(n.call(this))return d(),void e.apply(this,t);this.tokenMatcher(h,s)?u=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,l))}this.importLexerState(a)},e.prototype.shouldInRepetitionRecoveryBeTried=function(e,t,n){return!1!==n&&(void 0!==e&&void 0!==t&&(!this.tokenMatcher(this.LA(1),e)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))))},e.prototype.getFollowsForInRuleRecovery=function(e,t){var n=this.getCurrentGrammarPath(e,t),r=this.getNextPossibleTokenTypes(n);return r},e.prototype.tryInRuleRecovery=function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t)){var n=this.getTokenToInsert(e);return n}if(this.canRecoverWithSingleTokenDeletion(e)){var r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new Un("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)},e.prototype.canRecoverWithSingleTokenInsertion=function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if((0,i.Im)(t))return!1;var r=this.LA(1),o=void 0!==(0,i.I6)(t,(function(e){return n.tokenMatcher(r,e)}));return o},e.prototype.canRecoverWithSingleTokenDeletion=function(e){var t=this.tokenMatcher(this.LA(2),e);return t},e.prototype.isInCurrentRuleReSyncSet=function(e){var t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return(0,i.gR)(n,e)},e.prototype.findReSyncTokenType=function(){var e=this.flattenFollowSet(),t=this.LA(1),n=2;while(1){var r=t.tokenType;if((0,i.gR)(e,r))return r;t=this.LA(n),n++}},e.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return Fn;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}},e.prototype.buildFullFollowKeyStack=function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return(0,i.Tj)(t,(function(r,i){return 0===i?Fn:{ruleName:e.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:e.shortRuleNameToFullName(t[i-1])}}))},e.prototype.flattenFollowSet=function(){var e=this,t=(0,i.Tj)(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)}));return(0,i.Bq)(t)},e.prototype.getFollowSetFromFollowKey=function(e){if(e===Fn)return[He];var t=e.ruleName+e.idxInCallingRule+gt+e.inRule;return this.resyncFollows[t]},e.prototype.addToResyncTokens=function(e,t){return this.tokenMatcher(e,He)||t.push(e),t},e.prototype.reSyncTo=function(e){var t=[],n=this.LA(1);while(!1===this.tokenMatcher(n,e))n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return(0,i.gc)(t)},e.prototype.attemptInRepetitionRecovery=function(e,t,n,r,i,o,s){},e.prototype.getCurrentGrammarPath=function(e,t){var n=this.getHumanReadableRuleStack(),r=(0,i.T9)(this.RULE_OCCURRENCE_STACK),o={ruleStack:n,occurrenceStack:r,lastTok:e,lastTokOccurrence:t};return o},e.prototype.getHumanReadableRuleStack=function(){var e=this;return(0,i.Tj)(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)}))},e}();function jn(e,t,n,r,i,o,s){var a=this.getKeyForAutomaticLookahead(r,i),l=this.firstAfterRepMap[a];if(void 0===l){var u=this.getCurrRuleFullName(),c=this.getGAstProductions()[u],h=new o(c,i);l=h.startWalking(),this.firstAfterRepMap[a]=l}var d=l.token,f=l.occurrence,p=l.isEndOfRule;1===this.RULE_STACK.length&&p&&void 0===d&&(d=He,f=1),this.shouldInRepetitionRecoveryBeTried(d,f,s)&&this.tryInRepetitionRecovery(e,t,n,d)}var Yn=4,Vn=8,Wn=1<<Vn,zn=2<<Vn,Gn=3<<Vn,$n=4<<Vn,qn=5<<Vn,Kn=6<<Vn;function Xn(e,t,n){return n|t|e}var Jn=function(){function e(){}return e.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=(0,i.zy)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Pr.dynamicTokensEnabled,this.maxLookahead=(0,i.zy)(e,"maxLookahead")?e.maxLookahead:Pr.maxLookahead,this.lookAheadFuncsCache=(0,i.rF)()?new Map:[],(0,i.rF)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(e){var t=this;(0,i.jJ)(e,(function(e){t.TRACE_INIT(e.name+" Rule Lookahead",(function(){var n=ht(e),r=n.alternation,o=n.repetition,s=n.option,a=n.repetitionMandatory,l=n.repetitionMandatoryWithSeparator,u=n.repetitionWithSeparator;(0,i.jJ)(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT(""+lt(n)+r,(function(){var r=jt(n.idx,e,n.maxLookahead||t.maxLookahead,n.hasPredicates,t.dynamicTokensEnabled,t.lookAheadBuilderForAlternatives),i=Xn(t.fullRuleNameToShort[e.name],Wn,n.idx);t.setLaFuncCache(i,r)}))})),(0,i.jJ)(o,(function(n){t.computeLookaheadFunc(e,n.idx,Gn,Ht.REPETITION,n.maxLookahead,lt(n))})),(0,i.jJ)(s,(function(n){t.computeLookaheadFunc(e,n.idx,zn,Ht.OPTION,n.maxLookahead,lt(n))})),(0,i.jJ)(a,(function(n){t.computeLookaheadFunc(e,n.idx,$n,Ht.REPETITION_MANDATORY,n.maxLookahead,lt(n))})),(0,i.jJ)(l,(function(n){t.computeLookaheadFunc(e,n.idx,Kn,Ht.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,lt(n))})),(0,i.jJ)(u,(function(n){t.computeLookaheadFunc(e,n.idx,qn,Ht.REPETITION_WITH_SEPARATOR,n.maxLookahead,lt(n))}))}))}))},e.prototype.computeLookaheadFunc=function(e,t,n,r,i,o){var s=this;this.TRACE_INIT(""+o+(0===t?"":t),(function(){var o=Yt(t,e,i||s.maxLookahead,s.dynamicTokensEnabled,r,s.lookAheadBuilderForOptional),a=Xn(s.fullRuleNameToShort[e.name],n,t);s.setLaFuncCache(a,o)}))},e.prototype.lookAheadBuilderForOptional=function(e,t,n){return Wt(e,t,n)},e.prototype.lookAheadBuilderForAlternatives=function(e,t,n,r){return Vt(e,t,n,r)},e.prototype.getKeyForAutomaticLookahead=function(e,t){var n=this.getLastExplicitRuleShortName();return Xn(n,e,t)},e.prototype.getLaFuncFromCache=function(e){},e.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},e.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},e.prototype.setLaFuncCache=function(e,t){},e.prototype.setLaFuncCacheUsingMap=function(e,t){this.lookAheadFuncsCache.set(e,t)},e.prototype.setLaFuncUsingObj=function(e,t){this.lookAheadFuncsCache[e]=t},e}();function Qn(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset)}function Zn(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function er(e,t,n){void 0===e.children[n]?e.children[n]=[t]:e.children[n].push(t)}function tr(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}function nr(e){return or(e.constructor)}var rr,ir="name";function or(e){var t=e.name;return t||"anonymous"}function sr(e,t){var n=Object.getOwnPropertyDescriptor(e,ir);return!(!(0,i.b0)(n)&&!n.configurable)&&(Object.defineProperty(e,ir,{enumerable:!1,configurable:!0,writable:!1,value:t}),!0)}function ar(e,t){for(var n=(0,i.HP)(e),r=n.length,o=0;o<r;o++)for(var s=n[o],a=e[s],l=a.length,u=0;u<l;u++){var c=a[u];void 0===c.tokenTypeIdx&&this[c.name](c.children,t)}}function lr(e,t){var n=function(){};sr(n,e+"BaseSemantics");var r={visit:function(e,t){if((0,i.cy)(e)&&(e=e[0]),!(0,i.b0)(e))return this[e.name](e.children,t)},validateVisitor:function(){var e=cr(this,t);if(!(0,i.Im)(e)){var n=(0,i.Tj)(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <"+or(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=t,n}function ur(e,t,n){var r=function(){};sr(r,e+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return(0,i.jJ)(t,(function(e){o[e]=ar})),r.prototype=o,r.prototype.constructor=r,r}function cr(e,t){var n=hr(e,t),r=fr(e,t);return n.concat(r)}function hr(e,t){var n=(0,i.Tj)(t,(function(t){if(!(0,i.Tn)(e[t]))return{msg:"Missing visitor method: <"+t+"> on "+or(e.constructor)+" CST Visitor.",type:rr.MISSING_METHOD,methodName:t}}));return(0,i.oE)(n)}(function(e){e[e["REDUNDANT_METHOD"]=0]="REDUNDANT_METHOD",e[e["MISSING_METHOD"]=1]="MISSING_METHOD"})(rr||(rr={}));var dr=["constructor","visit","validateVisitor"];function fr(e,t){var n=[];for(var r in e)!(0,i.Tn)(e[r])||(0,i.gR)(dr,r)||(0,i.gR)(t,r)||n.push({msg:"Redundant visitor method: <"+r+"> on "+or(e.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\n",type:rr.REDUNDANT_METHOD,methodName:r});return n}var pr=function(){function e(){}return e.prototype.initTreeBuilder=function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,i.zy)(e,"nodeLocationTracking")?e.nodeLocationTracking:Pr.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Zn,this.setNodeLocationFromNode=Zn,this.cstPostRule=i.tE,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Qn,this.setNodeLocationFromNode=Qn,this.cstPostRule=i.tE,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"');this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=i.tE,this.setInitialNodeLocation=i.tE}else this.cstInvocationStateUpdate=i.tE,this.cstFinallyStateUpdate=i.tE,this.cstPostTerminal=i.tE,this.cstPostNonTerminal=i.tE,this.cstPostRule=i.tE},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstInvocationStateUpdate=function(e,t){var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},e.prototype.cstPostRuleFull=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?n.endOffset=t.endOffset:n.startOffset=NaN},e.prototype.cstPostTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];er(n,t,e),this.setNodeLocationFromToken(n.location,t)},e.prototype.cstPostNonTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];tr(n,t,e),this.setNodeLocationFromNode(n.location,e.location)},e.prototype.getBaseCstVisitorConstructor=function(){if((0,i.b0)(this.baseCstVisitorConstructor)){var e=lr(this.className,(0,i.HP)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,i.b0)(this.baseCstVisitorWithDefaultsConstructor)){var e=ur(this.className,(0,i.HP)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.getLastExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},e}(),mr=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!1,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Or},e.prototype.LA=function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?Or:this.tokVector[t]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(e){this.currIdx=e},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}(),gr=function(){function e(){}return e.prototype.ACTION=function(e){return e.call(this)},e.prototype.consume=function(e,t,n){return this.consumeInternal(t,e,n)},e.prototype.subrule=function(e,t,n){return this.subruleInternal(t,e,n)},e.prototype.option=function(e,t){return this.optionInternal(t,e)},e.prototype.or=function(e,t){return this.orInternal(t,e)},e.prototype.many=function(e,t){return this.manyInternal(e,t)},e.prototype.atLeastOne=function(e,t){return this.atLeastOneInternal(e,t)},e.prototype.CONSUME=function(e,t){return this.consumeInternal(e,0,t)},e.prototype.CONSUME1=function(e,t){return this.consumeInternal(e,1,t)},e.prototype.CONSUME2=function(e,t){return this.consumeInternal(e,2,t)},e.prototype.CONSUME3=function(e,t){return this.consumeInternal(e,3,t)},e.prototype.CONSUME4=function(e,t){return this.consumeInternal(e,4,t)},e.prototype.CONSUME5=function(e,t){return this.consumeInternal(e,5,t)},e.prototype.CONSUME6=function(e,t){return this.consumeInternal(e,6,t)},e.prototype.CONSUME7=function(e,t){return this.consumeInternal(e,7,t)},e.prototype.CONSUME8=function(e,t){return this.consumeInternal(e,8,t)},e.prototype.CONSUME9=function(e,t){return this.consumeInternal(e,9,t)},e.prototype.SUBRULE=function(e,t){return this.subruleInternal(e,0,t)},e.prototype.SUBRULE1=function(e,t){return this.subruleInternal(e,1,t)},e.prototype.SUBRULE2=function(e,t){return this.subruleInternal(e,2,t)},e.prototype.SUBRULE3=function(e,t){return this.subruleInternal(e,3,t)},e.prototype.SUBRULE4=function(e,t){return this.subruleInternal(e,4,t)},e.prototype.SUBRULE5=function(e,t){return this.subruleInternal(e,5,t)},e.prototype.SUBRULE6=function(e,t){return this.subruleInternal(e,6,t)},e.prototype.SUBRULE7=function(e,t){return this.subruleInternal(e,7,t)},e.prototype.SUBRULE8=function(e,t){return this.subruleInternal(e,8,t)},e.prototype.SUBRULE9=function(e,t){return this.subruleInternal(e,9,t)},e.prototype.OPTION=function(e){return this.optionInternal(e,0)},e.prototype.OPTION1=function(e){return this.optionInternal(e,1)},e.prototype.OPTION2=function(e){return this.optionInternal(e,2)},e.prototype.OPTION3=function(e){return this.optionInternal(e,3)},e.prototype.OPTION4=function(e){return this.optionInternal(e,4)},e.prototype.OPTION5=function(e){return this.optionInternal(e,5)},e.prototype.OPTION6=function(e){return this.optionInternal(e,6)},e.prototype.OPTION7=function(e){return this.optionInternal(e,7)},e.prototype.OPTION8=function(e){return this.optionInternal(e,8)},e.prototype.OPTION9=function(e){return this.optionInternal(e,9)},e.prototype.OR=function(e){return this.orInternal(e,0)},e.prototype.OR1=function(e){return this.orInternal(e,1)},e.prototype.OR2=function(e){return this.orInternal(e,2)},e.prototype.OR3=function(e){return this.orInternal(e,3)},e.prototype.OR4=function(e){return this.orInternal(e,4)},e.prototype.OR5=function(e){return this.orInternal(e,5)},e.prototype.OR6=function(e){return this.orInternal(e,6)},e.prototype.OR7=function(e){return this.orInternal(e,7)},e.prototype.OR8=function(e){return this.orInternal(e,8)},e.prototype.OR9=function(e){return this.orInternal(e,9)},e.prototype.MANY=function(e){this.manyInternal(0,e)},e.prototype.MANY1=function(e){this.manyInternal(1,e)},e.prototype.MANY2=function(e){this.manyInternal(2,e)},e.prototype.MANY3=function(e){this.manyInternal(3,e)},e.prototype.MANY4=function(e){this.manyInternal(4,e)},e.prototype.MANY5=function(e){this.manyInternal(5,e)},e.prototype.MANY6=function(e){this.manyInternal(6,e)},e.prototype.MANY7=function(e){this.manyInternal(7,e)},e.prototype.MANY8=function(e){this.manyInternal(8,e)},e.prototype.MANY9=function(e){this.manyInternal(9,e)},e.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},e.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},e.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},e.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},e.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},e.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},e.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},e.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},e.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},e.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},e.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},e.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},e.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},e.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},e.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},e.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},e.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},e.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},e.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},e.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},e.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},e.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},e.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},e.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},e.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},e.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},e.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},e.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},e.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},e.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},e.prototype.RULE=function(e,t,n){if(void 0===n&&(n=Dr),(0,i.gR)(this.definedRulesNames,e)){var r=St.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),o={message:r,type:Ir.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);var s=this.defineRule(e,t,n);return this[e]=s,s},e.prototype.OVERRIDE_RULE=function(e,t,n){void 0===n&&(n=Dr);var r=[];r=r.concat(cn(e,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,r);var i=this.defineRule(e,t,n);return this[e]=i,i},e.prototype.BACKTRACK=function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if(Ln(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return Ze((0,i.zu)(this.gastProductionsCache))},e}(),vr=function(){function e(){}return e.prototype.initRecognizerEngine=function(e,t){if(this.className=nr(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=se,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,i.zy)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,i.cy)(e)){if((0,i.Im)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"===typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,i.cy)(e))this.tokensMap=(0,i.TS)(e,(function(e,t){return e[t.name]=t,e}),{});else if((0,i.zy)(e,"modes")&&(0,i.Si)((0,i.Bq)((0,i.zu)(e.modes)),be)){var n=(0,i.Bq)((0,i.zu)(e.modes)),r=(0,i.sb)(n);this.tokensMap=(0,i.TS)(r,(function(e,t){return e[t.name]=t,e}),{})}else{if(!(0,i.Gv)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,i.lR)(e)}this.tokensMap["EOF"]=He;var o=(0,i.Si)((0,i.zu)(e),(function(e){return(0,i.Im)(e.categoryMatches)}));this.tokenMatcher=o?se:oe,ue((0,i.zu)(this.tokensMap))},e.prototype.defineRule=function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,o=(0,i.zy)(n,"resyncEnabled")?n.resyncEnabled:Dr.resyncEnabled,s=(0,i.zy)(n,"recoveryValueFunc")?n.recoveryValueFunc:Dr.recoveryValueFunc,a=this.ruleShortNameIdx<<Yn+Vn;function l(e){try{if(!0===this.outputCst){t.apply(this,e);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return t.apply(this,e)}catch(r){return this.invokeRuleCatch(r,o,s)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a,r=function(t,n){return void 0===t&&(t=0),this.ruleInvocationStateUpdate(a,e,t),l.call(this,n)};var u="ruleName";return r[u]=e,r["originalGrammarAction"]=t,r},e.prototype.invokeRuleCatch=function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(Ln(e)){var o=e;if(i){var s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s)){if(o.resyncedTokens=this.reSyncTo(s),this.outputCst){var a=this.CST_STACK[this.CST_STACK.length-1];return a.recoveredNode=!0,a}return n()}if(this.outputCst){a=this.CST_STACK[this.CST_STACK.length-1];a.recoveredNode=!0,o.partialCstResult=a}throw o}if(r)return this.moveToTerminatedState(),n();throw o}throw e},e.prototype.optionInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(zn,t);return this.optionInternalLogic(e,t,n)},e.prototype.optionInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,i=e.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=e;if(!0===s.call(this))return r.call(this)},e.prototype.atLeastOneInternal=function(e,t){var n=this.getKeyForAutomaticLookahead($n,e);return this.atLeastOneInternalLogic(e,t,n)},e.prototype.atLeastOneInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,i=t.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=t;if(!0!==s.call(this))throw this.raiseEarlyExitException(e,Ht.REPETITION_MANDATORY,t.ERR_MSG);var l=this.doSingleRepetition(r);while(!0===s.call(this)&&!0===l)l=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],s,$n,e,Ot)},e.prototype.atLeastOneSepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Kn,e);this.atLeastOneSepFirstInternalLogic(e,t,n)},e.prototype.atLeastOneSepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP,s=this.getLaFuncFromCache(n);if(!0!==s.call(this))throw this.raiseEarlyExitException(e,Ht.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);var a=function(){return r.tokenMatcher(r.LA(1),o)};while(!0===this.tokenMatcher(this.LA(1),o))this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,It],a,Kn,e,It)},e.prototype.manyInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Gn,e);return this.manyInternalLogic(e,t,n)},e.prototype.manyInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,i=t.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=t;var l=!0;while(!0===s.call(this)&&!0===l)l=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],s,Gn,e,Lt,l)},e.prototype.manySepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(qn,e);this.manySepFirstInternalLogic(e,t,n)},e.prototype.manySepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP,s=this.getLaFuncFromCache(n);if(!0===s.call(this)){i.call(this);var a=function(){return r.tokenMatcher(r.LA(1),o)};while(!0===this.tokenMatcher(this.LA(1),o))this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,kt],a,qn,e,kt)}},e.prototype.repetitionSepSecondInternal=function(e,t,n,r,i){while(n())this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,Kn,e,i)},e.prototype.doSingleRepetition=function(e){var t=this.getLexerPosition();e.call(this);var n=this.getLexerPosition();return n>t},e.prototype.orInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Wn,t),r=(0,i.cy)(e)?e:e.DEF,o=this.getLaFuncFromCache(n),s=o.call(this,r);if(void 0!==s){var a=r[s];return a.ALT.call(this)}this.raiseNoAltException(t,e.ERR_MSG)},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Pn(t,e))}},e.prototype.subruleInternal=function(e,t,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=e.call(this,t,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(o){this.subruleInternalError(o,n,e.ruleName)}},e.prototype.subruleInternalError=function(e,t,n){throw Ln(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e},e.prototype.consumeInternal=function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(o){r=this.consumeInternalRecovery(e,t,o)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r},e.prototype.consumeInternalError=function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new On(r,t,i))},e.prototype.consumeInternalRecovery=function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(i){throw i.name===Hn?n:i}},e.prototype.saveRecogState=function(){var e=this.errors,t=(0,i.T9)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}},e.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t,e)},e.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},e.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},e.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),He)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}(),yr=function(){function e(){}return e.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=(0,i.zy)(e,"errorMessageProvider")?e.errorMessageProvider:Pr.errorMessageProvider},e.prototype.SAVE_ERROR=function(e){if(Ln(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,i.T9)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return(0,i.T9)(this._errors)},set:function(e){this._errors=e},enumerable:!1,configurable:!0}),e.prototype.raiseEarlyExitException=function(e,t,n){for(var r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],o=Qt(e,i,t,this.maxLookahead),s=o[0],a=[],l=1;l<=this.maxLookahead;l++)a.push(this.LA(l));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new Dn(u,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(e,t){for(var n=this.getCurrRuleFullName(),r=this.getGAstProductions()[n],i=Jt(e,r,this.maxLookahead),o=[],s=1;s<=this.maxLookahead;s++)o.push(this.LA(s));var a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:o,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new In(l,this.LA(1),a))},e}(),br=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(e,t){var n=this.gastProductionsCache[e];if((0,i.b0)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return Dt([n],t,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(e){var t=(0,i.$1)(e.ruleStack),n=this.getGAstProductions(),r=n[t],o=new At(r,e).startWalking();return o},e}(),wr={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(wr);var _r=!0,Er=Math.pow(2,Vn)-1,Sr=De({name:"RECORDING_PHASE_TOKEN",pattern:Se.NA});ue([Sr]);var Tr=Ue(Sr,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Tr);var Mr={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},Cr=function(){function e(){}return e.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){return this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e["consume"]=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e["subrule"]=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e["option"]=function(e,t){return this.optionInternalRecord(t,e)},e["or"]=function(e,t){return this.orInternalRecord(t,e)},e["many"]=function(e,t){this.manyInternalRecord(e,t)},e["atLeastOne"]=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))},e.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=0;t<10;t++){var n=t>0?t:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e["consume"],delete e["subrule"],delete e["option"],delete e["or"],delete e["many"],delete e["atLeastOne"],delete e.ACTION,delete e.BACKTRACK,delete e.LA}))},e.prototype.ACTION_RECORD=function(e){},e.prototype.BACKTRACK_RECORD=function(e,t){return function(){return!0}},e.prototype.LA_RECORD=function(e){return Or},e.prototype.topLevelRuleRecord=function(e,t){try{var n=new We({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(r){if(!0!==r.KNOWN_RECORDER_ERROR)try{r.message=r.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch(i){throw r}throw r}},e.prototype.optionInternalRecord=function(e,t){return Rr.call(this,Ge,e,t)},e.prototype.atLeastOneInternalRecord=function(e,t){Rr.call(this,$e,t,e)},e.prototype.atLeastOneSepFirstInternalRecord=function(e,t){Rr.call(this,qe,t,e,_r)},e.prototype.manyInternalRecord=function(e,t){Rr.call(this,Ke,t,e)},e.prototype.manySepFirstInternalRecord=function(e,t){Rr.call(this,Xe,t,e,_r)},e.prototype.orInternalRecord=function(e,t){return xr.call(this,e,t)},e.prototype.subruleInternalRecord=function(e,t,n){if(Nr(t),!e||!1===(0,i.zy)(e,"ruleName")){var r=new Error("<SUBRULE"+Ar(t)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=(0,i.se)(this.recordingProdStack),s=e["ruleName"],a=new Ve({idx:t,nonTerminalName:s,referencedRule:void 0});return o.definition.push(a),this.outputCst?Mr:wr},e.prototype.consumeInternalRecord=function(e,t,n){if(Nr(t),!me(e)){var r=new Error("<CONSUME"+Ar(t)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=(0,i.se)(this.recordingProdStack),s=new Qe({idx:t,terminalType:e});return o.definition.push(s),Tr},e}();function Rr(e,t,n,r){void 0===r&&(r=!1),Nr(n);var o=(0,i.se)(this.recordingProdStack),s=(0,i.Tn)(t)?t:t.DEF,a=new e({definition:[],idx:n});return r&&(a.separator=t.SEP),(0,i.zy)(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),o.definition.push(a),this.recordingProdStack.pop(),wr}function xr(e,t){var n=this;Nr(t);var r=(0,i.se)(this.recordingProdStack),o=!1===(0,i.cy)(e),s=!1===o?e:e.DEF,a=new Je({definition:[],idx:t,ignoreAmbiguities:o&&!0===e.IGNORE_AMBIGUITIES});(0,i.zy)(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);var l=(0,i.zN)(s,(function(e){return(0,i.Tn)(e.GATE)}));return a.hasPredicates=l,r.definition.push(a),(0,i.jJ)(s,(function(e){var t=new ze({definition:[]});a.definition.push(t),(0,i.zy)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:(0,i.zy)(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),wr}function Ar(e){return 0===e?"":""+e}function Nr(e){if(e<0||e>Er){var t=new Error("Invalid DSL Method idx value: <"+e+">\n\tIdx value must be a none negative value smaller than "+(Er+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var Lr=function(){function e(){}return e.prototype.initPerformanceTracer=function(e){if((0,i.zy)(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"===typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=Pr.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=(0,i.O1)(t),o=r.time,s=r.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,s}return t()},e}(),kr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Or=Ue(He,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Or);var Ir,Pr=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:_t,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Dr=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function Fr(e){return void 0===e&&(e=void 0),function(){return e}}(function(e){e[e["INVALID_RULE_NAME"]=0]="INVALID_RULE_NAME",e[e["DUPLICATE_RULE_NAME"]=1]="DUPLICATE_RULE_NAME",e[e["INVALID_RULE_OVERRIDE"]=2]="INVALID_RULE_OVERRIDE",e[e["DUPLICATE_PRODUCTIONS"]=3]="DUPLICATE_PRODUCTIONS",e[e["UNRESOLVED_SUBRULE_REF"]=4]="UNRESOLVED_SUBRULE_REF",e[e["LEFT_RECURSION"]=5]="LEFT_RECURSION",e[e["NONE_LAST_EMPTY_ALT"]=6]="NONE_LAST_EMPTY_ALT",e[e["AMBIGUOUS_ALTS"]=7]="AMBIGUOUS_ALTS",e[e["CONFLICT_TOKENS_RULES_NAMESPACE"]=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e["INVALID_TOKEN_NAME"]=9]="INVALID_TOKEN_NAME",e[e["NO_NON_EMPTY_LOOKAHEAD"]=10]="NO_NON_EMPTY_LOOKAHEAD",e[e["AMBIGUOUS_PREFIX_ALTS"]=11]="AMBIGUOUS_PREFIX_ALTS",e[e["TOO_MANY_ALTS"]=12]="TOO_MANY_ALTS"})(Ir||(Ir={}));var Hr=function(){function e(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;var n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),(0,i.zy)(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=(0,i.zy)(t,"skipValidations")?t.skipValidations:Pr.skipValidations}return e.performSelfAnalysis=function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){(0,i.Bl)(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),(0,i.jJ)(t.definedRulesNames,(function(e){var n=t[e],r=n["originalGrammarAction"],i=void 0;t.TRACE_INIT(e+" Rule",(function(){i=t.topLevelRuleRecord(e,r)})),t.gastProductionsCache[e]=i}))}finally{t.disableRecording()}}));var o=[];if(t.TRACE_INIT("Grammar Resolving",(function(){o=En({rules:(0,i.zu)(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,o)})),t.TRACE_INIT("Grammar Validations",(function(){if((0,i.Im)(o)&&!1===t.skipValidations){var e=Sn({rules:(0,i.zu)(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:(0,i.zu)(t.tokensMap),errMsgProvider:St,grammarName:r});t.definitionErrors.push.apply(t.definitionErrors,e)}})),(0,i.Im)(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e=bt((0,i.zu)(t.gastProductionsCache));t.resyncFollows=e})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){t.preComputeLookaheadFunctions((0,i.zu)(t.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,i.Im)(t.definitionErrors))throw n=(0,i.Tj)(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();(0,i.XJ)(Hr,[Bn,Jn,pr,mr,vr,gr,yr,br,Cr,Lr]);var Ur=function(e){function t(t,n){void 0===n&&(n=Pr);var r=this,o=(0,i.lR)(n);return o.outputCst=!0,r=e.call(this,t,o)||this,r}return kr(t,e),t}(Hr),Br=function(e){function t(t,n){void 0===n&&(n=Pr);var r=this,o=(0,i.lR)(n);return o.outputCst=!1,r=e.call(this,t,o)||this,r}return kr(t,e),t}(Hr);function jr(e,t){var n=void 0===t?{}:t,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,s=n.css,a=void 0===s?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":s,l='\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n',u="\n<link rel='stylesheet' href='"+a+"'>\n",c="\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n",h='\n<div id="diagrams" align="center"></div>    \n',d="\n<script>\n    window.serializedGrammar = "+JSON.stringify(e,null,"  ")+";\n<\/script>\n",f='\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n';return l+u+c+h+d+f}var Yr="\n";function Vr(e){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+zr(e)+"\n    \nreturn {\n    "+e.name+": "+e.name+" \n}\n}));\n"}function Wr(e){return"    \n"+zr(e)+"\nreturn new "+e.name+"(tokenVocabulary, config)    \n"}function zr(e){var t="\nfunction "+e.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+Gr(e.rules)+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+e.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+e.name+".prototype.constructor = "+e.name+"    \n    ";return t}function Gr(e){var t=(0,i.Tj)(e,(function(e){return $r(e,1)}));return t.join("\n")}function $r(e,t){var n=ni(t,'$.RULE("'+e.name+'", function() {')+Yr;return n+=ti(e.definition,t+1),n+=ni(t+1,"})")+Yr,n}function qr(e,t){var n=e.terminalType.name;return ni(t,"$.CONSUME"+e.idx+"(this.tokensMap."+n+")"+Yr)}function Kr(e,t){return ni(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")"+Yr)}function Xr(e,t){var n=ni(t,"$.OR"+e.idx+"([")+Yr,r=(0,i.Tj)(e.definition,(function(e){return Jr(e,t+1)}));return n+=r.join(","+Yr),n+=Yr+ni(t,"])"+Yr),n}function Jr(e,t){var n=ni(t,"{")+Yr;return n+=ni(t+1,"ALT: function() {")+Yr,n+=ti(e.definition,t+1),n+=ni(t+1,"}")+Yr,n+=ni(t,"}"),n}function Qr(e,t){if(e instanceof Ve)return Kr(e,t);if(e instanceof Ge)return Zr("OPTION",e,t);if(e instanceof $e)return Zr("AT_LEAST_ONE",e,t);if(e instanceof qe)return Zr("AT_LEAST_ONE_SEP",e,t);if(e instanceof Xe)return Zr("MANY_SEP",e,t);if(e instanceof Ke)return Zr("MANY",e,t);if(e instanceof Je)return Xr(e,t);if(e instanceof Qe)return qr(e,t);if(e instanceof ze)return ti(e.definition,t);throw Error("non exhaustive match")}function Zr(e,t,n){var r=ni(n,"$."+(e+t.idx)+"(");return t.separator?(r+="{"+Yr,r+=ni(n+1,"SEP: this.tokensMap."+t.separator.name)+","+Yr,r+="DEF: "+ei(t.definition,n+2)+Yr,r+=ni(n,"}")+Yr):r+=ei(t.definition,n+1),r+=ni(n,")")+Yr,r}function ei(e,t){var n="function() {"+Yr;return n+=ti(e,t),n+=ni(t,"}")+Yr,n}function ti(e,t){var n="";return(0,i.jJ)(e,(function(e){n+=Qr(e,t+1)})),n}function ni(e,t){var n=Array(4*e+1).join(" ");return n+t}function ri(e){var t=Wr({name:e.name,rules:e.rules}),r=new Function("tokenVocabulary","config","chevrotain",t);return function(t){return r(e.tokenVocabulary,t,n(91198))}}function ii(e){return Vr({name:e.name,rules:e.rules})}function oi(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}var si=function(){function e(){throw new Error("The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.\t\nSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0")}return e}()},58340:function(e,t,n){"use strict";function r(e){return e&&0===e.length}function i(e){return void 0===e||null===e?[]:Object.keys(e)}function o(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}function s(e,t){for(var n=[],r=i(e),o=0;o<r.length;o++){var s=r[o];n.push(t.call(null,e[s],s))}return n}function a(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t.call(null,e[r],r));return n}function l(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?t=t.concat(l(r)):t.push(r)}return t}function u(e){return r(e)?void 0:e[0]}function c(e){var t=e&&e.length;return t?e[t-1]:void 0}function h(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else{if(!k(e))throw Error("non exhaustive match");var r=i(e);for(n=0;n<r.length;n++){var o=r[n],s=e[o];t.call(null,s,o)}}}function d(e){return"string"===typeof e}function f(e){return void 0===e}function p(e){return e instanceof Function}function m(e,t){return void 0===t&&(t=1),e.slice(t,e.length)}function g(e,t){return void 0===t&&(t=1),e.slice(0,e.length-t)}function v(e,t){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function y(e,t){return v(e,(function(e){return!t(e)}))}function b(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],s=e[o];t(s)&&(r[o]=s)}return r}function w(e,t){return!!k(e)&&e.hasOwnProperty(t)}function _(e,t){return void 0!==T(e,(function(e){return e===t}))}function E(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function S(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function T(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t.call(null,r))return r}}function M(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function C(e,t,n){for(var r=Array.isArray(e),s=r?e:o(e),a=r?[]:i(e),l=n,u=0;u<s.length;u++)l=t.call(null,l,s[u],r?u:a[u]);return l}function R(e){return y(e,(function(e){return null===e||void 0===e}))}function x(e,t){void 0===t&&(t=function(e){return e});var n=[];return C(e,(function(e,r){var i=t(r);return _(n,i)?e:(n.push(i),e.concat(r))}),[])}function A(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[null],i=r.concat(t);return Function.bind.apply(e,i)}function N(e){return Array.isArray(e)}function L(e){return e instanceof RegExp}function k(e){return e instanceof Object}function O(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function I(e,t){return y(e,(function(e){return _(t,e)}))}function P(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function D(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function F(e,t){var n=E(e);return n.sort((function(e,n){return t(e)-t(n)})),n}function H(e,t){if(e.length!==t.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}function U(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],s=i(o),a=0;a<s.length;a++){var l=s[a];e[l]=o[l]}return e}function B(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],s=i(o),a=0;a<s.length;a++){var l=s[a];w(e,l)||(e[l]=o[l])}return e}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return B.apply(null,[{}].concat(e))}function Y(e,t){var n={};return h(e,(function(e){var r=t(e),i=n[r];i?i.push(e):n[r]=[e]})),n}function V(e,t){for(var n=S(e),r=i(t),o=0;o<r.length;o++){var s=r[o],a=t[s];n[s]=a}return n}function W(){}function z(e){return e}function G(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(void 0!==r?r:void 0)}return t}function $(e){console&&console.error&&console.error("Error: "+e)}function q(e){console&&console.warn&&console.warn("Warning: "+e)}function K(){return"function"===typeof Map}function X(e,t){t.forEach((function(t){var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(e.prototype,r,i):e.prototype[r]=t.prototype[r]}}))}))}function J(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function Q(e){return e[e.length-1]}function Z(e){var t=(new Date).getTime(),n=e(),r=(new Date).getTime(),i=r-t;return{time:i,value:n}}n.d(t,{$1:function(){return u},$z:function(){return Y},Bl:function(){return J},Bq:function(){return l},Gv:function(){return k},HP:function(){return i},HV:function(){return c},I6:function(){return T},Im:function(){return r},JW:function(){return M},Kg:function(){return d},LG:function(){return s},NT:function(){return j},O1:function(){return Z},Si:function(){return O},T9:function(){return E},TS:function(){return C},Tj:function(){return a},Tn:function(){return p},Up:function(){return b},VS:function(){return G},XJ:function(){return X},Zi:function(){return $},b0:function(){return f},cy:function(){return N},gR:function(){return _},gc:function(){return g},gd:function(){return L},gv:function(){return m},h1:function(){return V},iv:function(){return I},jJ:function(){return h},kp:function(){return U},ku:function(){return y},lR:function(){return S},oE:function(){return R},pb:function(){return v},qh:function(){return D},rF:function(){return K},sb:function(){return x},se:function(){return Q},tE:function(){return W},x5:function(){return q},zK:function(){return z},zN:function(){return P},zu:function(){return o},zy:function(){return w}})},89442:function(e){class t{}function n(e){let t="",n=e.length-1;while(n>=0)t+=e.charAt(n--);return t}function r(e,t){let n="";while(n.length<t)n+=e;return n}function i(e,t){let n=""+e;return n.length>=t?n:r("0",t-n.length)+n}function o(e,t){let n=""+e;return n.length>=t?n:r(" ",t-n.length)+n}function s(e,t){let n=""+e;return n.length>=t?n:n+r(" ",t-n.length)}function a(e,t){let n=""+Math.round(e);return n.length>=t?n:r("0",t-n.length)+n}function l(e,t){let n=""+e;return n.length>=t?n:r("0",t-n.length)+n}t.version="0.10.3";const u=Math.pow(2,32);function c(e,t){if(e>u||e<-u)return a(e,t);const n=Math.round(e);return l(n,t)}function h(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}const d=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],f=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function p(e){e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e[65535]="General"}const m={};function g(e,t,n){const r=e<0?-1:1;let i=e*r,o=0,s=1,a=0,l=1,u=0,c=0,h=Math.floor(i);while(u<t){if(h=Math.floor(i),a=h*s+o,c=h*u+l,i-h<5e-8)break;i=1/(i-h),o=s,s=a,l=u,u=c}if(c>t&&(u>t?(c=l,a=o):(c=u,a=s)),!n)return[0,r*a,c];const d=Math.floor(r*a/c);return[d,r*a-d*c,c]}function v(e,t,n){if(e>2958465||e<0)return null;let r=0|e,i=Math.floor(86400*(e-r)),o=0,s=[];const a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,86400===++i&&(a.T=i=0,++r,++a.D)),60===r)s=n?[1317,10,29]:[1900,2,29],o=3;else if(0===r)s=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;const e=new Date(1900,0,1);e.setDate(e.getDate()+r-1),s=[e.getFullYear(),e.getMonth()+1,e.getDate()],o=e.getDay(),r<60&&(o=(o+6)%7),n&&(o=M(e,s))}return a.y=s[0],a.m=s[1],a.d=s[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=o,a}p(m),t.parse_date_code=v;const y=new Date(1899,11,31,0,0,0),b=y.getTime(),w=new Date(1900,2,1,0,0,0);function _(e,t){let n=e.getTime();return t?n-=1262304e5:e>=w&&(n+=864e5),(n-(b+6e4*(e.getTimezoneOffset()-y.getTimezoneOffset())))/864e5}function E(e){return e.toString(10)}t._general_int=E;const S=function(){const e=/\.(\d*[1-9])0+$/,t=/\.0*$/,n=/\.(\d*[1-9])0+/,r=/\.0*[Ee]/,i=/(E[+-])(\d)$/;function o(e){const t=e<0?12:11;let n=l(e.toFixed(12));return n.length<=t?n:(n=e.toPrecision(10),n.length<=t?n:e.toExponential(5))}function s(t){let n=t.toFixed(11).replace(e,".$1");return n.length>(t<0?12:11)&&(n=t.toPrecision(6)),n}function a(e){for(let t=0;t!==e.length;++t)if(101===(32|e.charCodeAt(t)))return e.replace(n,".$1").replace(r,"E").replace("e","E").replace(i,"$10$2");return e}function l(n){return n.indexOf(".")>-1?n.replace(t,"").replace(e,".$1"):n}return function(e){let t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?o(e):10===n?e.toFixed(10).substr(0,12):s(e),l(a(t))}}();function T(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?E(e):S(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return F(14,_(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function M(){return 0}function C(e,t,n,r){let o,s="",a=0,l=0,u=n.y,c=0;switch(e){case 98:u=n.y+543;case 121:switch(t.length){case 1:case 2:o=u%100,c=2;break;default:o=u%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:o=n.m,c=t.length;break;case 3:return f[n.m-1][1];case 5:return f[n.m-1][0];default:return f[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:o=n.d,c=t.length;break;case 3:return d[n.q][0];default:return d[n.q][1]}break;case 104:switch(t.length){case 1:case 2:o=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:o=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:o=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!==t&&"ss"!==t&&".0"!==t&&".00"!==t&&".000"!==t)throw"bad second format: "+t;return 0!==n.u||"s"!==t&&"ss"!==t?(l=r>=2?3===r?1e3:100:1===r?10:1,a=Math.round(l*(n.S+n.u)),a>=60*l&&(a=0),"s"===t?0===a?"0":""+a/l:(s=i(a,2+r),"ss"===t?s.substr(0,2):"."+s.substr(2,t.length-1))):i(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":o=24*n.D+n.H;break;case"[m]":case"[mm]":o=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":o=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:o=u,c=1}return c>0?i(o,c):""}function R(e){const t=3;if(e.length<=t)return e;let n=e.length%t,r=e.substr(0,n);for(;n!==e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}t._general_num=S,t._general=T;const x=function(){const e=/%/g;function t(t,n,i){const o=n.replace(e,""),s=n.length-o.length;return x(t,o,i*Math.pow(10,2*s))+r("%",s)}function a(e,t,n){let r=t.length-1;while(44===t.charCodeAt(r-1))--r;return x(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function l(e,t){let n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0===t)return"0.0E+0";if(t<0)return"-"+l(e,-t);let i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));let o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i),-1===n.indexOf("e")){const e=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(e-n.length+o):n+="E+"+(e-o);while("0."===n.substr(0,2))n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+o)%i)+"."+r.substr(o)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}const u=/# (\?+)( ?)\/( ?)(\d+)/;function h(e,t,n){const s=parseInt(e[4],10),a=Math.round(t*s),l=Math.floor(a/s);let u=a-l*s,c=s;return n+(0===l?"":""+l)+" "+(0===u?r(" ",e[1].length+1+e[4].length):o(u,e[1].length)+e[2]+"/"+e[3]+i(c,e[4].length))}function d(e,t,n){return n+(0===t?"":""+t)+r(" ",e[1].length+2+e[4].length)}const f=/^#*0*\.([0#]+)/,p=/\).*[0#]/,m=/\(###\) ###\\?-####/;function v(e){let t,n="";for(let r=0;r!==e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function y(e,t){const n=Math.pow(10,t);return""+Math.round(e*n)/n}function b(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?0:Math.round((e-Math.floor(e))*Math.pow(10,t))}function w(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function _(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}function E(e,d,S){if(40===e.charCodeAt(0)&&!d.match(p)){const e=d.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return S>=0?E("n",e,S):"("+E("n",e,-S)+")"}if(44===d.charCodeAt(d.length-1))return a(e,d,S);if(-1!==d.indexOf("%"))return t(e,d,S);if(-1!==d.indexOf("E"))return l(d,S);if(36===d.charCodeAt(0))return"$"+E(e,d.substr(" "==d.charAt(1)?2:1),S);let T,M,C,A,N=Math.abs(S),L=S<0?"-":"";if(d.match(/^00+$/))return L+c(N,d.length);if(d.match(/^[#?]+$/))return T=c(S,0),"0"===T&&(T=""),T.length>d.length?T:v(d.substr(0,d.length-T.length))+T;if(M=d.match(u))return h(M,N,L);if(d.match(/^#+0+$/))return L+c(N,d.length-d.indexOf("0"));if(M=d.match(f))return T=y(S,M[1].length).replace(/^([^\.]+)$/,"$1."+v(M[1])).replace(/\.$/,"."+v(M[1])).replace(/\.(\d*)$/,(function(e,t){return"."+t+r("0",v(M[1]).length-t.length)})),-1!==d.indexOf("0.")?T:T.replace(/^0\./,".");if(d=d.replace(/^#+([0.])/,"$1"),M=d.match(/^(0*)\.(#*)$/))return L+y(N,M[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,M[1].length?"0.":".");if(M=d.match(/^#{1,3},##0(\.?)$/))return L+R(c(N,0));if(M=d.match(/^#,##0\.([#0]*0)$/))return S<0?"-"+E(e,d,-S):R(""+(Math.floor(S)+w(S,M[1].length)))+"."+i(b(S,M[1].length),M[1].length);if(M=d.match(/^#,#*,#0/))return E(e,d.replace(/^#,#*,/,""),S);if(M=d.match(/^([0#]+)(\\?-([0#]+))+$/))return T=n(E(e,d.replace(/[\\-]/g,""),S)),C=0,n(n(d.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return C<T.length?T.charAt(C++):"0"===e?"0":""})));if(d.match(m))return T=E(e,"##########",S),"("+T.substr(0,3)+") "+T.substr(3,3)+"-"+T.substr(6);let k="";if(M=d.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return C=Math.min(M[4].length,7),A=g(N,Math.pow(10,C)-1,!1),T=""+L,k=x("n",M[1],A[1])," "===k.charAt(k.length-1)&&(k=k.substr(0,k.length-1)+"0"),T+=k+M[2]+"/"+M[3],k=s(A[2],C),k.length<M[4].length&&(k=v(M[4].substr(M[4].length-k.length))+k),T+=k,T;if(M=d.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return C=Math.min(Math.max(M[1].length,M[4].length),7),A=g(N,Math.pow(10,C)-1,!0),L+(A[0]||(A[1]?"":"0"))+" "+(A[1]?o(A[1],C)+M[2]+"/"+M[3]+s(A[2],C):r(" ",2*C+1+M[2].length+M[3].length));if(M=d.match(/^[#0?]+$/))return T=c(S,0),d.length<=T.length?T:v(d.substr(0,d.length-T.length))+T;if(M=d.match(/^([#0?]+)\.([#0]+)$/)){T=""+S.toFixed(Math.min(M[2].length,10)).replace(/([^0])0+$/,"$1"),C=T.indexOf(".");const e=d.indexOf(".")-C,t=d.length-T.length-e;return v(d.substr(0,e)+T+d.substr(d.length-t))}if(M=d.match(/^00,000\.([#0]*0)$/))return C=b(S,M[1].length),S<0?"-"+E(e,d,-S):R(_(S)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?i(0,3-e.length):"")+e}))+"."+i(C,M[1].length);switch(d){case"###,##0.00":return E(e,"#,##0.00",S);case"###,###":case"##,###":case"#,###":const t=R(c(N,0));return"0"!==t?L+t:"";case"###,###.00":return E(e,"###,##0.00",S).replace(/^0\./,".");case"#,###.00":return E(e,"#,##0.00",S).replace(/^0\./,".");default:}throw new Error("unsupported format |"+d+"|")}function S(e,t,n){let r=t.length-1;while(44===t.charCodeAt(r-1))--r;return x(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function T(t,n,i){const o=n.replace(e,""),s=n.length-o.length;return x(t,o,i*Math.pow(10,2*s))+r("%",s)}function M(e,t){let n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0===t)return"0.0E+0";if(t<0)return"-"+M(e,-t);let i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));let o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i),!n.match(/[Ee]/)){const e=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(e-n.length+o):n+="E+"+(e-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,(function(e,t,n,r){return t+n+r.substr(0,(i+o)%i)+"."+r.substr(o)+"E"}))}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function C(e,t,a){if(40===e.charCodeAt(0)&&!t.match(p)){const e=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return a>=0?C("n",e,a):"("+C("n",e,-a)+")"}if(44===t.charCodeAt(t.length-1))return S(e,t,a);if(-1!==t.indexOf("%"))return T(e,t,a);if(-1!==t.indexOf("E"))return M(t,a);if(36===t.charCodeAt(0))return"$"+C(e,t.substr(" "==t.charAt(1)?2:1),a);let l,c,h,y,b=Math.abs(a),w=a<0?"-":"";if(t.match(/^00+$/))return w+i(b,t.length);if(t.match(/^[#?]+$/))return l=""+a,0===a&&(l=""),l.length>t.length?l:v(t.substr(0,t.length-l.length))+l;if(c=t.match(u))return d(c,b,w);if(t.match(/^#+0+$/))return w+i(b,t.length-t.indexOf("0"));if(c=t.match(f))return l=(""+a).replace(/^([^\.]+)$/,"$1."+v(c[1])).replace(/\.$/,"."+v(c[1])),l=l.replace(/\.(\d*)$/,(function(e,t){return"."+t+r("0",v(c[1]).length-t.length)})),-1!==t.indexOf("0.")?l:l.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),c=t.match(/^(0*)\.(#*)$/))return w+(""+b).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,c[1].length?"0.":".");if(c=t.match(/^#{1,3},##0(\.?)$/))return w+R(""+b);if(c=t.match(/^#,##0\.([#0]*0)$/))return a<0?"-"+C(e,t,-a):R(""+a)+"."+r("0",c[1].length);if(c=t.match(/^#,#*,#0/))return C(e,t.replace(/^#,#*,/,""),a);if(c=t.match(/^([0#]+)(\\?-([0#]+))+$/))return l=n(C(e,t.replace(/[\\-]/g,""),a)),h=0,n(n(t.replace(/\\/g,"")).replace(/[0#]/g,(function(e){return h<l.length?l.charAt(h++):"0"===e?"0":""})));if(t.match(m))return l=C(e,"##########",a),"("+l.substr(0,3)+") "+l.substr(3,3)+"-"+l.substr(6);let _="";if(c=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(c[4].length,7),y=g(b,Math.pow(10,h)-1,!1),l=""+w,_=x("n",c[1],y[1])," "==_.charAt(_.length-1)&&(_=_.substr(0,_.length-1)+"0"),l+=_+c[2]+"/"+c[3],_=s(y[2],h),_.length<c[4].length&&(_=v(c[4].substr(c[4].length-_.length))+_),l+=_,l;if(c=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return h=Math.min(Math.max(c[1].length,c[4].length),7),y=g(b,Math.pow(10,h)-1,!0),w+(y[0]||(y[1]?"":"0"))+" "+(y[1]?o(y[1],h)+c[2]+"/"+c[3]+s(y[2],h):r(" ",2*h+1+c[2].length+c[3].length));if(c=t.match(/^[#0?]+$/))return l=""+a,t.length<=l.length?l:v(t.substr(0,t.length-l.length))+l;if(c=t.match(/^([#0]+)\.([#0]+)$/)){l=""+a.toFixed(Math.min(c[2].length,10)).replace(/([^0])0+$/,"$1"),h=l.indexOf(".");let e=t.indexOf(".")-h,n=t.length-l.length-e;return v(t.substr(0,e)+l+t.substr(t.length-n))}if(c=t.match(/^00,000\.([#0]*0)$/))return a<0?"-"+C(e,t,-a):R(""+a).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,(function(e){return"00,"+(e.length<3?i(0,3-e.length):"")+e}))+"."+i(0,c[1].length);switch(t){case"###,###":case"##,###":case"#,###":const n=R(""+b);return"0"!==n?w+n:"";default:if(t.match(/\.[0#?]*$/))return C(e,t.slice(0,t.lastIndexOf(".")),a)+v(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}return function(e,t,n){return(0|n)===n?C(e,t,n):E(e,t,n)}}();function A(e){const t=[];let n=!1,r=0;for(let i=0;i<e.length;++i)switch(e.charCodeAt(i)){case 34:n=!n;break;case 95:case 42:case 92:++i;break;case 59:t[t.length]=e.substr(r,i-r),r=i+1}if(t[t.length]=e.substr(r),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}t._split=A;const N=/\[[HhMmSs]*\]/;function L(e){let t=0,n="",r="";while(t<e.length)switch(n=e.charAt(t)){case"G":h(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;)++t;++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":r=n;while("]"!==e.charAt(t++)&&t<e.length)r+=e.charAt(t);if(r.match(N))return!0;break;case".":case"0":case"#":while(t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1));break;case"?":while(e.charAt(++t)===n);break;case"*":++t," "!==e.charAt(t)&&"*"!==e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":while(t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1);break;case" ":++t;break;default:++t;break}return!1}function k(e,t,n,r){let i,o,s,a=[],l="",u=0,c="",d="t",f="H";while(u<e.length)switch(c=e.charAt(u)){case"G":if(!h(e,u))throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"G",v:"General"},u+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++u))&&u<e.length;)l+=String.fromCharCode(s);a[a.length]={t:"t",v:l},++u;break;case"\\":const o=e.charAt(++u),p="("===o||")"===o?o:"t";a[a.length]={t:p,v:o},++u;break;case"_":a[a.length]={t:"t",v:" "},u+=2;break;case"@":a[a.length]={t:"T",v:t},++u;break;case"B":case"b":if("1"===e.charAt(u+1)||"2"===e.charAt(u+1)){if(null==i&&(i=v(t,n,"2"===e.charAt(u+1)),null==i))return"";a[a.length]={t:"X",v:e.substr(u,2)},d=c,u+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&(i=v(t,n),null==i))return"";l=c;while(++u<e.length&&e.charAt(u).toLowerCase()===c)l+=c;"m"===c&&"h"===d.toLowerCase()&&(c="M"),"h"===c&&(c=f),a[a.length]={t:c,v:l},d=c;break;case"A":case"a":const m={t:c,v:c};if(null==i&&(i=v(t,n)),"A/P"===e.substr(u,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",f="h",u+=3):"AM/PM"===e.substr(u,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",u+=5,f="h"):(m.t="t",++u),null==i&&"T"===m.t)return"";a[a.length]=m,d=c;break;case"[":l=c;while("]"!==e.charAt(u++)&&u<e.length)l+=e.charAt(u);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(N)){if(null==i&&(i=v(t,n),null==i))return"";a[a.length]={t:"Z",v:l.toLowerCase()},d=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",L(e)||(a[a.length]={t:"t",v:l}));break;case".":if(null!=i){l=c;while(++u<e.length&&"0"===(c=e.charAt(u)))l+=c;a[a.length]={t:"s",v:l};break}case"0":case"#":l=c;while(++u<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(u))>-1||"\\"==c&&"-"==e.charAt(u+1)&&u<e.length-2&&"0#".indexOf(e.charAt(u+2))>-1)l+=c;a[a.length]={t:"n",v:l};break;case"?":l=c;while(e.charAt(++u)===c)l+=c;a[a.length]={t:c,v:l},d=c;break;case"*":++u," "!==e.charAt(u)&&"*"!==e.charAt(u)||++u;break;case"(":case")":a[a.length]={t:1===r||"number"===typeof t&&t<0?"t":c,v:c},++u;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":l=c;while(u<e.length&&"0123456789".indexOf(e.charAt(++u))>-1)l+=e.charAt(u);a[a.length]={t:"D",v:l};break;case" ":a[a.length]={t:c,v:c},++u;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c))throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"t",v:c},++u;break}let p,m=0,g=0;for(u=a.length-1,d="t";u>=0;--u)switch(a[u].t){case"h":case"H":a[u].t=f,d="h",m<1&&(m=1);break;case"s":(p=a[u].v.match(/\.0+$/))&&(g=Math.max(g,p[0].length-1)),m<3&&(m=3);case"d":case"y":case"M":case"e":d=a[u].t;break;case"m":"s"===d&&(a[u].t="M",m<2&&(m=2));break;case"X":break;case"Z":m<1&&a[u].v.match(/[Hh]/)&&(m=1),m<2&&a[u].v.match(/[Mm]/)&&(m=2),m<3&&a[u].v.match(/[Ss]/)&&(m=3)}switch(m){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M);break}let y,b="";for(u=0;u<a.length;++u)switch(a[u].t){case"t":case"T":case" ":case"D":break;case"X":a[u].v="",a[u].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[u].v=C(a[u].t.charCodeAt(0),a[u].v,i,g),a[u].t="t";break;case"n":case"(":case"?":y=u+1;while(null!=a[y]&&("?"===(c=a[y].t)||"D"===c||(" "===c||"t"===c)&&null!=a[y+1]&&("?"===a[y+1].t||"t"===a[y+1].t&&"/"===a[y+1].v)||"("===a[u].t&&(" "===c||"n"===c||")"===c)||"t"===c&&("/"===a[y].v||" "===a[y].v&&null!=a[y+1]&&"?"===a[y+1].t)))a[u].v+=a[y].v,a[y]={v:"",t:";"},++y;b+=a[u].v,u=y-1;break;case"G":a[u].t="t",a[u].v=T(t,n);break}let w,_,E="";if(b.length>0){40===b.charCodeAt(0)?(w=t<0&&45===b.charCodeAt(0)?-t:t,_=x("(",b,w)):(w=t<0&&r>1?-t:t,_=x("n",b,w),w<0&&a[0]&&"t"===a[0].t&&(_=_.substr(1),a[0].v="-"+a[0].v)),y=_.length-1;let e=a.length;for(u=0;u<a.length;++u)if(null!=a[u]&&"t"!==a[u].t&&a[u].v.indexOf(".")>-1){e=u;break}let n=a.length;if(e===a.length&&-1===_.indexOf("E")){for(u=a.length-1;u>=0;--u)null!=a[u]&&-1!=="n?(".indexOf(a[u].t)&&(y>=a[u].v.length-1?(y-=a[u].v.length,a[u].v=_.substr(y+1,a[u].v.length)):y<0?a[u].v="":(a[u].v=_.substr(0,y+1),y=-1),a[u].t="t",n=u);y>=0&&n<a.length&&(a[n].v=_.substr(0,y+1)+a[n].v)}else if(e!==a.length&&-1===_.indexOf("E")){for(y=_.indexOf(".")-1,u=e;u>=0;--u)if(null!=a[u]&&-1!=="n?(".indexOf(a[u].t)){for(o=a[u].v.indexOf(".")>-1&&u===e?a[u].v.indexOf(".")-1:a[u].v.length-1,E=a[u].v.substr(o+1);o>=0;--o)y>=0&&("0"===a[u].v.charAt(o)||"#"===a[u].v.charAt(o))&&(E=_.charAt(y--)+E);a[u].v=E,a[u].t="t",n=u}for(y>=0&&n<a.length&&(a[n].v=_.substr(0,y+1)+a[n].v),y=_.indexOf(".")+1,u=e;u<a.length;++u)if(null!=a[u]&&(-1!=="n?(".indexOf(a[u].t)||u===e)){for(o=a[u].v.indexOf(".")>-1&&u===e?a[u].v.indexOf(".")+1:0,E=a[u].v.substr(0,o);o<a[u].v.length;++o)y<_.length&&(E+=_.charAt(y++));a[u].v=E,a[u].t="t",n=u}}}for(u=0;u<a.length;++u)null!=a[u]&&"n(?".indexOf(a[u].t)>-1&&(w=r>1&&t<0&&u>0&&"-"===a[u-1].v?-t:t,a[u].v=x(a[u].t,a[u].v,w),a[u].t="t");let S="";for(u=0;u!==a.length;++u)null!=a[u]&&(S+=a[u].v);return S}t.is_date=L,t._eval=k;const O=/\[[=<>]/,I=/\[([=<>]*)(-?\d+\.?\d*)\]/;function P(e,t){if(null==t)return!1;const n=parseFloat(t[2]);switch(t[1]){case"=":if(e===n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!==n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function D(e,t){let n=A(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break;case 4:break}const o=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,o];if(null!=n[0].match(O)||null!=n[1].match(O)){const e=n[0].match(I),i=n[1].match(I);return P(t,e)?[r,n[0]]:P(t,i)?[r,n[1]]:[r,n[null!=e&&null!=i?2:1]]}return[r,o]}function F(e,t,n){null==n&&(n={});let r="";switch(typeof e){case"string":r="m/d/yy"===e&&n.dateNF?n.dateNF:e;break;case"number":r=14===e&&n.dateNF?n.dateNF:(null!=n.table?n.table:m)[e];break}if(h(r,0))return T(t,n);t instanceof Date&&(t=_(t,n.date1904));const i=D(r,t);if(h(i[1]))return T(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return k(i[1],t,n,i[0])}function H(e,t){if("number"!==typeof t){t=+t||-1;for(let n=0;n<392;++n)if(void 0!==m[n]){if(m[n]===e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return m[t]=e,t}t.load=H,t._table=m,t.get_table=function(){return m},t.load_table=function(e){for(let t=0;392!==t;++t)void 0!==e[t]&&H(e[t],t)},t.init_table=p,t.format=F,e.exports=t},5078:function(e,t,n){"use strict";n.d(t,{A:function(){return I}});
/**! 
 * hotkeys-js v3.13.7 
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies. 
 * 
 * Copyright (c) 2024 kenny wong <wowohoo@qq.com> 
 * https://github.com/jaywcjlove/hotkeys-js.git 
 * 
 * @website: https://jaywcjlove.github.io/hotkeys-js
 
 * Licensed under the MIT license 
 */
const r="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function i(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on".concat(t),n)}function o(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on".concat(t),n)}function s(e,t){const n=t.slice(0,t.length-1);for(let r=0;r<n.length;r++)n[r]=e[n[r].toLowerCase()];return n}function a(e){"string"!==typeof e&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function l(e,t){const n=e.length>=t.length?e:t,r=e.length>=t.length?t:e;let i=!0;for(let o=0;o<n.length;o++)-1===r.indexOf(n[o])&&(i=!1);return i}const u={backspace:8,"":8,tab:9,clear:12,enter:13,"":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"":20,",":188,".":190,"/":191,"`":192,"-":r?173:189,"=":r?61:187,";":r?59:186,"'":222,"[":219,"]":221,"\\":220},c={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,cmd:91,command:91},h={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},d={16:!1,18:!1,17:!1,91:!1},f={};for(let H=1;H<20;H++)u["f".concat(H)]=111+H;let p=[],m=null,g="all";const v=new Map,y=e=>u[e.toLowerCase()]||c[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),b=e=>Object.keys(u).find((t=>u[t]===e)),w=e=>Object.keys(c).find((t=>c[t]===e));function _(e){g=e||"all"}function E(){return g||"all"}function S(){return p.slice(0)}function T(){return p.map((e=>b(e)||w(e)||String.fromCharCode(e)))}function M(){const e=[];return Object.keys(f).forEach((t=>{f[t].forEach((t=>{let{key:n,scope:r,mods:i,shortcut:o}=t;e.push({scope:r,shortcut:o,mods:i,keys:n.split("+").map((e=>y(e)))})}))})),e}function C(e){const t=e.target||e.srcElement,{tagName:n}=t;let r=!0;const i="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(i||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(r=!1),r}function R(e){return"string"===typeof e&&(e=y(e)),-1!==p.indexOf(e)}function x(e,t){let n,r;e||(e=E());for(const i in f)if(Object.prototype.hasOwnProperty.call(f,i))for(n=f[i],r=0;r<n.length;)if(n[r].scope===e){const e=n.splice(r,1);e.forEach((e=>{let{element:t}=e;return D(t)}))}else r++;E()===e&&_(t||"all")}function A(e){let t=e.keyCode||e.which||e.charCode;const n=p.indexOf(t);if(n>=0&&p.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&p.splice(0,p.length),93!==t&&224!==t||(t=91),t in d){d[t]=!1;for(const e in c)c[e]===t&&(I[e]=!1)}}function N(e){if("undefined"===typeof e)Object.keys(f).forEach((e=>{Array.isArray(f[e])&&f[e].forEach((e=>L(e))),delete f[e]})),D(null);else if(Array.isArray(e))e.forEach((e=>{e.key&&L(e)}));else if("object"===typeof e)e.key&&L(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let[i,o]=n;"function"===typeof i&&(o=i,i=""),L({key:e,scope:i,method:o,splitKey:"+"})}}const L=e=>{let{key:t,scope:n,method:r,splitKey:i="+"}=e;const o=a(t);o.forEach((e=>{const t=e.split(i),o=t.length,a=t[o-1],u="*"===a?"*":y(a);if(!f[u])return;n||(n=E());const h=o>1?s(c,t):[],d=[];f[u]=f[u].filter((e=>{const t=!r||e.method===r,i=t&&e.scope===n&&l(e.mods,h);return i&&d.push(e.element),!i})),d.forEach((e=>D(e)))}))};function k(e,t,n,r){if(t.element!==r)return;let i;if(t.scope===n||"all"===t.scope){i=t.mods.length>0;for(const e in d)Object.prototype.hasOwnProperty.call(d,e)&&(!d[e]&&t.mods.indexOf(+e)>-1||d[e]&&-1===t.mods.indexOf(+e))&&(i=!1);(0!==t.mods.length||d[16]||d[18]||d[17]||d[91])&&!i&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(p),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function O(e,t){const n=f["*"];let r=e.keyCode||e.which||e.charCode;if(!I.filter.call(this,e))return;if(93!==r&&224!==r||(r=91),-1===p.indexOf(r)&&229!==r&&p.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((t=>{const n=h[t];e[t]&&-1===p.indexOf(n)?p.push(n):!e[t]&&p.indexOf(n)>-1?p.splice(p.indexOf(n),1):"metaKey"===t&&e[t]&&3===p.length&&(e.ctrlKey||e.shiftKey||e.altKey||(p=p.slice(p.indexOf(n))))})),r in d){d[r]=!0;for(const e in c)c[e]===r&&(I[e]=!0);if(!n)return}for(const a in d)Object.prototype.hasOwnProperty.call(d,a)&&(d[a]=e[h[a]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===p.indexOf(17)&&p.push(17),-1===p.indexOf(18)&&p.push(18),d[17]=!0,d[18]=!0);const i=E();if(n)for(let a=0;a<n.length;a++)n[a].scope===i&&("keydown"===e.type&&n[a].keydown||"keyup"===e.type&&n[a].keyup)&&k(e,n[a],i,t);if(!(r in f))return;const o=f[r],s=o.length;for(let a=0;a<s;a++)if(("keydown"===e.type&&o[a].keydown||"keyup"===e.type&&o[a].keyup)&&o[a].key){const n=o[a],{splitKey:r}=n,s=n.key.split(r),l=[];for(let e=0;e<s.length;e++)l.push(y(s[e]));l.sort().join("")===p.sort().join("")&&k(e,n,i,t)}}function I(e,t,n){p=[];const r=a(e);let o=[],l="all",u=document,h=0,d=!1,g=!0,b="+",w=!1,_=!1;for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(l=t.scope),t.element&&(u=t.element),t.keyup&&(d=t.keyup),void 0!==t.keydown&&(g=t.keydown),void 0!==t.capture&&(w=t.capture),"string"===typeof t.splitKey&&(b=t.splitKey),!0===t.single&&(_=!0)),"string"===typeof t&&(l=t),_&&N(e,l);h<r.length;h++)e=r[h].split(b),o=[],e.length>1&&(o=s(c,e)),e=e[e.length-1],e="*"===e?"*":y(e),e in f||(f[e]=[]),f[e].push({keyup:d,keydown:g,scope:l,mods:o,shortcut:r[h],method:n,key:r[h],splitKey:b,element:u});if("undefined"!==typeof u&&window){if(!v.has(u)){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;return O(e,u)},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;O(e,u),A(e)};v.set(u,{keydownListener:e,keyupListenr:t,capture:w}),i(u,"keydown",e,w),i(u,"keyup",t,w)}if(!m){const e=()=>{p=[]};m={listener:e,capture:w},i(window,"focus",e,w)}}}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(f).forEach((n=>{const r=f[n].filter((n=>n.scope===t&&n.shortcut===e));r.forEach((e=>{e&&e.method&&e.method()}))}))}function D(e){const t=Object.values(f).flat(),n=t.findIndex((t=>{let{element:n}=t;return n===e}));if(n<0){const{keydownListener:t,keyupListenr:n,capture:r}=v.get(e)||{};t&&n&&(o(e,"keyup",n,r),o(e,"keydown",t,r),v.delete(e))}if(t.length<=0||v.size<=0){const e=Object.keys(v);if(e.forEach((e=>{const{keydownListener:t,keyupListenr:n,capture:r}=v.get(e)||{};t&&n&&(o(e,"keyup",n,r),o(e,"keydown",t,r),v.delete(e))})),v.clear(),Object.keys(f).forEach((e=>delete f[e])),m){const{listener:e,capture:t}=m;o(window,"focus",e,t),m=null}}}const F={getPressedKeyString:T,setScope:_,getScope:E,deleteScope:x,getPressedKeyCodes:S,getAllKeyCodes:M,isPressed:R,filter:C,trigger:P,unbind:N,keyMap:u,modifier:c,modifierMap:h};for(const H in F)Object.prototype.hasOwnProperty.call(F,H)&&(I[H]=F[H]);if("undefined"!==typeof window){const e=window.hotkeys;I.noConflict=t=>(t&&window.hotkeys===I&&(window.hotkeys=e),I),window.hotkeys=I}},71222:function(e,t,n){"use strict";n.d(t,{iz:function(){return Yt},Ay:function(){return bc}});var r,i,o={};n.r(o),n.d(o,{AbsPlugin:function(){return _a},AddressPlugin:function(){return ba},ArrayPlugin:function(){return wa},BitShiftPlugin:function(){return Ma},BitwiseLogicOperationsPlugin:function(){return Aa},BooleanPlugin:function(){return Na},CharPlugin:function(){return La},CodePlugin:function(){return ka},ComplexPlugin:function(){return nc},ConditionalAggregationPlugin:function(){return zl},CountBlankPlugin:function(){return Oa},CountUniquePlugin:function(){return Ia},DateTimePlugin:function(){return Pa},DegreesPlugin:function(){return Ba},DeltaPlugin:function(){return ja},ExpPlugin:function(){return Ya},FinancialPlugin:function(){return Va},FormulaTextPlugin:function(){return Ka},HyperlinkPlugin:function(){return Xa},InformationPlugin:function(){return Ja},IsEvenPlugin:function(){return Qa},IsOddPlugin:function(){return Za},LogarithmPlugin:function(){return el},LookupPlugin:function(){return Xl},MathConstantsPlugin:function(){return nl},MathPlugin:function(){return Qu},MatrixPlugin:function(){return ol},MedianPlugin:function(){return sl},ModuloPlugin:function(){return al},NumericAggregationPlugin:function(){return cl},PowerPlugin:function(){return fl},RadiansPlugin:function(){return pl},RadixConversionPlugin:function(){return wl},RandomPlugin:function(){return xl},RomanPlugin:function(){return Jl},RoundingPlugin:function(){return Ll},SimpleArithmerticPlugin:function(){return tu},SqrtPlugin:function(){return kl},StatisticalAggregationPlugin:function(){return mc},StatisticalPlugin:function(){return Ju},SumprodPlugin:function(){return Gl},TextPlugin:function(){return $l},TrigonometryPlugin:function(){return ql}}),function(e){e["RELATIVE"]="RELATIVE",e["ABSOLUTE"]="ABSOLUTE"}(r||(r={}));class s{constructor(e,t,n){this.type=e,this.col=t,this.sheet=n}static absolute(e,t){return new s(r.ABSOLUTE,e,t)}static relative(e,t){return new s(r.RELATIVE,e,t)}static compareByAbsoluteAddress(e){return(t,n)=>t.toSimpleColumnAddress(e).col-n.toSimpleColumnAddress(e).col}isColumnAbsolute(){return this.type===r.ABSOLUTE}isColumnRelative(){return this.type===r.RELATIVE}isAbsolute(){return this.type===r.ABSOLUTE&&void 0!==this.sheet}moved(e,t,n){const r=void 0===this.sheet?void 0:e;return new s(this.type,this.col+t,r)}shiftedByColumns(e){return new s(this.type,this.col+e,this.sheet)}toSimpleColumnAddress(e){const t=yr(this,e);let n=this.col;return this.isColumnRelative()&&(n=e.col+this.col),hr(t,n)}shiftRelativeDimensions(e,t){const n=this.isColumnRelative()?this.col+e:this.col;return new s(this.type,n,this.sheet)}shiftAbsoluteDimensions(e,t){const n=this.isColumnAbsolute()?this.col+e:this.col;return new s(this.type,n,this.sheet)}withSheet(e){return new s(this.type,this.col,e)}isInvalid(e){return this.toSimpleColumnAddress(e).col<0}hash(e){const t=e&&void 0!==this.sheet?`#${this.sheet}`:"";switch(this.type){case r.RELATIVE:return`${t}#COLR${this.col}`;case r.ABSOLUTE:return`${t}#COLA${this.col}`}}unparse(e){const t=this.toSimpleColumnAddress(e);if(dr(t))return;const n=H(t.col),i=this.type===r.ABSOLUTE?"$":"";return`${i}${n}`}exceedsSheetSizeLimits(e){return this.col>=e}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class a{constructor(e,t,n){this.type=e,this.row=t,this.sheet=n}static absolute(e,t){return new a(r.ABSOLUTE,e,t)}static relative(e,t){return new a(r.RELATIVE,e,t)}static compareByAbsoluteAddress(e){return(t,n)=>t.toSimpleRowAddress(e).row-n.toSimpleRowAddress(e).row}isRowAbsolute(){return this.type===r.ABSOLUTE}isRowRelative(){return this.type===r.RELATIVE}isAbsolute(){return this.type===r.ABSOLUTE&&void 0!==this.sheet}moved(e,t,n){const r=void 0===this.sheet?void 0:e;return new a(this.type,this.row+n,r)}shiftedByRows(e){return new a(this.type,this.row+e,this.sheet)}toSimpleRowAddress(e){const t=yr(this,e);let n=this.row;return this.isRowRelative()&&(n=e.row+this.row),ur(t,n)}shiftRelativeDimensions(e,t){const n=this.isRowRelative()?this.row+t:this.row;return new a(this.type,n,this.sheet)}shiftAbsoluteDimensions(e,t){const n=this.isRowAbsolute()?this.row+t:this.row;return new a(this.type,n,this.sheet)}withSheet(e){return new a(this.type,this.row,e)}isInvalid(e){return this.toSimpleRowAddress(e).row<0}hash(e){const t=e&&void 0!==this.sheet?`#${this.sheet}`:"";switch(this.type){case r.RELATIVE:return`${t}#ROWR${this.row}`;case r.ABSOLUTE:return`${t}#ROWA${this.row}`}}unparse(e){const t=this.toSimpleRowAddress(e);if(cr(t))return;const n=this.type===r.ABSOLUTE?"$":"";return`${n}${t.row+1}`}exceedsSheetSizeLimits(e){return this.row>=e}}(function(e){e["CELL_REFERENCE_RELATIVE"]="CELL_REFERENCE",e["CELL_REFERENCE_ABSOLUTE"]="CELL_REFERENCE_ABSOLUTE",e["CELL_REFERENCE_ABSOLUTE_COL"]="CELL_REFERENCE_ABSOLUTE_COL",e["CELL_REFERENCE_ABSOLUTE_ROW"]="CELL_REFERENCE_ABSOLUTE_ROW"})(i||(i={}));class l{constructor(e,t,n,r){this.col=e,this.row=t,this.type=n,this.sheet=r}static fromColAndRow(e,t,n){const r=e.isColumnAbsolute()&&t.isRowAbsolute()?l.absolute.bind(this):e.isColumnAbsolute()?l.absoluteCol.bind(this):t.isRowAbsolute()?l.absoluteRow.bind(this):l.relative.bind(this);return r(e.col,t.row,n)}static relative(e,t,n){return new l(e,t,i.CELL_REFERENCE_RELATIVE,n)}static absolute(e,t,n){return new l(e,t,i.CELL_REFERENCE_ABSOLUTE,n)}static absoluteCol(e,t,n){return new l(e,t,i.CELL_REFERENCE_ABSOLUTE_COL,n)}static absoluteRow(e,t,n){return new l(e,t,i.CELL_REFERENCE_ABSOLUTE_ROW,n)}toSimpleCellAddress(e){const t=yr(this,e);return this.type===i.CELL_REFERENCE_ABSOLUTE?fr(t,this.col,this.row):this.type===i.CELL_REFERENCE_ABSOLUTE_ROW?fr(t,e.col+this.col,this.row):this.type===i.CELL_REFERENCE_ABSOLUTE_COL?fr(t,this.col,e.row+this.row):fr(t,e.col+this.col,e.row+this.row)}toColumnAddress(){const e=this.isColumnRelative()?r.RELATIVE:r.ABSOLUTE;return new s(e,this.col,this.sheet)}toRowAddress(){const e=this.isRowRelative()?r.RELATIVE:r.ABSOLUTE;return new a(e,this.row,this.sheet)}toSimpleColumnAddress(e){const t=yr(this,e);let n=this.col;return this.isColumnRelative()&&(n+=e.col),hr(t,n)}toSimpleRowAddress(e){const t=yr(this,e);let n=this.row;return this.isRowRelative()&&(n+=e.row),ur(t,n)}isRowAbsolute(){return this.type===i.CELL_REFERENCE_ABSOLUTE||this.type===i.CELL_REFERENCE_ABSOLUTE_ROW}isColumnAbsolute(){return this.type===i.CELL_REFERENCE_ABSOLUTE||this.type===i.CELL_REFERENCE_ABSOLUTE_COL}isColumnRelative(){return this.type===i.CELL_REFERENCE_RELATIVE||this.type===i.CELL_REFERENCE_ABSOLUTE_ROW}isRowRelative(){return this.type===i.CELL_REFERENCE_RELATIVE||this.type===i.CELL_REFERENCE_ABSOLUTE_COL}isAbsolute(){return this.type===i.CELL_REFERENCE_ABSOLUTE&&void 0!==this.sheet}shiftedByRows(e){return new l(this.col,this.row+e,this.type,this.sheet)}shiftedByColumns(e){return new l(this.col+e,this.row,this.type,this.sheet)}moved(e,t,n){const r=void 0===this.sheet?void 0:e;return new l(this.col+t,this.row+n,this.type,r)}withSheet(e){return new l(this.col,this.row,this.type,e)}isInvalid(e){return pr(this.toSimpleCellAddress(e))}shiftRelativeDimensions(e,t){const n=this.isColumnAbsolute()?this.col:this.col+e,r=this.isRowAbsolute()?this.row:this.row+t;return new l(n,r,this.type,this.sheet)}shiftAbsoluteDimensions(e,t){const n=this.isColumnRelative()?this.col:this.col+e,r=this.isRowRelative()?this.row:this.row+t;return new l(n,r,this.type,this.sheet)}hash(e){const t=e&&void 0!==this.sheet?`#${this.sheet}`:"";switch(this.type){case i.CELL_REFERENCE_RELATIVE:return`${t}#${this.row}R${this.col}`;case i.CELL_REFERENCE_ABSOLUTE:return`${t}#${this.row}A${this.col}`;case i.CELL_REFERENCE_ABSOLUTE_COL:return`${t}#${this.row}AC${this.col}`;case i.CELL_REFERENCE_ABSOLUTE_ROW:return`${t}#${this.row}AR${this.col}`}}unparse(e){const t=this.toSimpleCellAddress(e);if(pr(t))return;const n=H(t.col),r=this.type===i.CELL_REFERENCE_ABSOLUTE||this.type===i.CELL_REFERENCE_ABSOLUTE_ROW?"$":"",o=this.type===i.CELL_REFERENCE_ABSOLUTE||this.type===i.CELL_REFERENCE_ABSOLUTE_COL?"$":"";return`${o}${n}${r}${t.row+1}`}exceedsSheetSizeLimits(e,t){return this.row>=t||this.col>=e}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const u=":",c="$",h="\\s+",d="[ \\t\\n\\r]+",f="A-Za-z-",p=`${f}0-9_.`,m=`[${f}0-9_]+`,g="'(((?!').|'')*)'",v=`(${m}|${g})!`,y=`(${v})?\\${c}?[A-Za-z]+\\${c}?[0-9]+`,b=`(${v})?\\${c}?[A-Za-z]+`,w=`(${v})?\\${c}?[0-9]+`,_="[rR][0-9]*[cC][0-9]*",E=`(${y})[^${p}]`,S=`[${f}_][${p}]*`,T=["0","1","2","3","4","5","6","7","8","9"],M=[...Array.from(Array(26)).map(((e,t)=>t+"A".charCodeAt(0))),...Array.from(Array(26)).map(((e,t)=>t+"a".charCodeAt(0))),...Array.from(Array(496)).map(((e,t)=>t+192))].map((e=>String.fromCharCode(e))),C=new RegExp(`^(${v})?(\\${c}?)([A-Za-z]+)(\\${c}?)([0-9]+)$`),R=new RegExp(`^(${v})?(\\${c}?)([A-Za-z]+)$`),x=new RegExp(`^(${v})?(\\${c}?)([0-9]+)$`),A=new RegExp(`^${m}$`),N=(e,t,n)=>{const r=C.exec(t),i=F(r[6]);let o=B(r,e);if(void 0===o)return;null===o&&(o=void 0);const s=Number(r[8])-1;return r[5]===c&&r[7]===c?l.absolute(i,s,o):r[5]===c?l.absoluteCol(i,s-n.row,o):r[7]===c?l.absoluteRow(i-n.col,s,o):l.relative(i-n.col,s-n.row,o)},L=(e,t,n)=>{const r=R.exec(t);let i=B(r,e);if(void 0===i)return;null===i&&(i=void 0);const o=F(r[6]);return r[5]===c?s.absolute(o,i):s.relative(o-n.col,i)},k=(e,t,n)=>{const r=x.exec(t);let i=B(r,e);if(void 0===i)return;null===i&&(i=void 0);const o=Number(r[6])-1;return r[5]===c?a.absolute(o,i):a.relative(o-n.row,i)},O=(e,t,n)=>{const r=C.exec(t);if(!r)return;const i=F(r[6]);let o=B(r,e);if(void 0===o)return;null===o&&(o=n);const s=Number(r[8])-1;return fr(o,i,s)},I=(e,t,n)=>{const r=t.split(u);if(2!==r.length)return;const[i,o]=r,s=O(e,i,n);if(void 0===s)return;const a=O(e,o,s.sheet);return void 0!==a&&s.sheet===a.sheet?Er(s,a):void 0},P=(e,t,n)=>{const r=H(t.col),i=U(t.sheet,e);if(void 0!==i)return n!==t.sheet?`${i}!${r}${t.row+1}`:`${r}${t.row+1}`},D=(e,t,n)=>{const r=P(e,t.start,n),i=P(e,t.end,t.start.sheet);return void 0===r||void 0===i?void 0:`${r}${u}${i}`};function F(e){return 1===e.length?e.toUpperCase().charCodeAt(0)-65:e.split("").reduce(((e,t)=>26*e+(t.toUpperCase().charCodeAt(0)-64)),0)-1}function H(e){let t="";while(e>=0)t=String.fromCharCode(e%26+97)+t,e=Math.floor(e/26)-1;return t.toUpperCase()}function U(e,t){let n=t(e);if(void 0!==n)return A.test(n)?n:(n=n.replace(/'/g,"''"),`'${n}'`)}function B(e,t){var n;let r=null!==(n=e[3])&&void 0!==n?n:e[2];return r?(r=r.replace(/''/g,"'"),t(r)):null}var j=n(31195);
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const Y=(e,t)=>({type:e,message:t});var V,W,z;(function(e){e["LexingError"]="LexingError",e["ParserError"]="ParsingError",e["StaticOffsetError"]="StaticOffsetError",e["StaticOffsetOutOfRangeError"]="StaticOffsetOutOfRangeError",e["RangeOffsetNotAllowed"]="RangeOffsetNotAllowed",e["InvalidRangeSize"]="InvalidRangeSize"})(V||(V={})),function(e){e["EMPTY"]="EMPTY",e["NUMBER"]="NUMBER",e["STRING"]="STRING",e["MINUS_UNARY_OP"]="MINUS_UNARY_OP",e["PLUS_UNARY_OP"]="PLUS_UNARY_OP",e["PERCENT_OP"]="PERCENT_OP",e["CONCATENATE_OP"]="CONCATENATE_OP",e["EQUALS_OP"]="EQUALS_OP",e["NOT_EQUAL_OP"]="NOT_EQUAL_OP",e["GREATER_THAN_OP"]="GREATER_THAN_OP",e["LESS_THAN_OP"]="LESS_THAN_OP",e["GREATER_THAN_OR_EQUAL_OP"]="GREATER_THAN_OR_EQUAL_OP",e["LESS_THAN_OR_EQUAL_OP"]="LESS_THAN_OR_EQUAL_OP",e["PLUS_OP"]="PLUS_OP",e["MINUS_OP"]="MINUS_OP",e["TIMES_OP"]="TIMES_OP",e["DIV_OP"]="DIV_OP",e["POWER_OP"]="POWER_OP",e["FUNCTION_CALL"]="FUNCTION_CALL",e["NAMED_EXPRESSION"]="NAMED_EXPRESSION",e["PARENTHESIS"]="PARENTHESES",e["CELL_REFERENCE"]="CELL_REFERENCE",e["CELL_RANGE"]="CELL_RANGE",e["COLUMN_RANGE"]="COLUMN_RANGE",e["ROW_RANGE"]="ROW_RANGE",e["ERROR"]="ERROR",e["ERROR_WITH_RAW_INPUT"]="ERROR_WITH_RAW_INPUT",e["ARRAY"]="ARRAY"}(W||(W={})),function(e){e[e["RELATIVE"]=0]="RELATIVE",e[e["START_ABSOLUTE"]=1]="START_ABSOLUTE",e[e["BOTH_ABSOLUTE"]=2]="BOTH_ABSOLUTE"}(z||(z={}));const G=e=>({type:W.EMPTY,leadingWhitespace:null===e||void 0===e?void 0:e.image}),$=(e,t)=>({type:W.NUMBER,value:e,leadingWhitespace:null===t||void 0===t?void 0:t.image}),q=e=>{var t;return{type:W.STRING,value:e.image.slice(1,-1),leadingWhitespace:null===(t=e.leadingWhitespace)||void 0===t?void 0:t.image}},K=(e,t)=>({type:W.CELL_REFERENCE,reference:e,leadingWhitespace:null===t||void 0===t?void 0:t.image}),X=(e,t,n,r)=>(_e(e,t,n),{type:W.CELL_RANGE,start:e,end:t,sheetReferenceType:n,leadingWhitespace:r}),J=(e,t,n,r)=>(_e(e,t,n),{type:W.COLUMN_RANGE,start:e,end:t,sheetReferenceType:n,leadingWhitespace:null===r||void 0===r?void 0:r.image}),Q=(e,t,n,r)=>(_e(e,t,n),{type:W.ROW_RANGE,start:e,end:t,sheetReferenceType:n,leadingWhitespace:null===r||void 0===r?void 0:r.image}),Z=(e,t,n)=>({type:W.CONCATENATE_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),ee=(e,t,n)=>({type:W.EQUALS_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),te=(e,t,n)=>({type:W.NOT_EQUAL_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),ne=(e,t,n)=>({type:W.GREATER_THAN_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),re=(e,t,n)=>({type:W.LESS_THAN_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),ie=(e,t,n)=>({type:W.GREATER_THAN_OR_EQUAL_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),oe=(e,t,n)=>({type:W.LESS_THAN_OR_EQUAL_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),se=(e,t,n)=>({type:W.PLUS_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),ae=(e,t,n)=>({type:W.MINUS_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),le=(e,t,n)=>({type:W.TIMES_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),ue=(e,t,n)=>({type:W.DIV_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),ce=(e,t,n)=>({type:W.POWER_OP,left:e,right:t,leadingWhitespace:null===n||void 0===n?void 0:n.image}),he=(e,t)=>({type:W.MINUS_UNARY_OP,value:e,leadingWhitespace:null===t||void 0===t?void 0:t.image}),de=(e,t)=>({type:W.PLUS_UNARY_OP,value:e,leadingWhitespace:null===t||void 0===t?void 0:t.image}),fe=(e,t)=>({type:W.PERCENT_OP,value:e,leadingWhitespace:null===t||void 0===t?void 0:t.image}),pe=(e,t,n,r,i)=>({type:W.FUNCTION_CALL,procedureName:e,args:t,leadingWhitespace:null===n||void 0===n?void 0:n.image,internalWhitespace:null===r||void 0===r?void 0:r.image,hyperlink:i}),me=(e,t,n)=>({type:W.ARRAY,args:e,leadingWhitespace:null===t||void 0===t?void 0:t.image,internalWhitespace:null===n||void 0===n?void 0:n.image}),ge=(e,t)=>({type:W.NAMED_EXPRESSION,expressionName:e,leadingWhitespace:null===t||void 0===t?void 0:t.image}),ve=(e,t,n)=>({type:W.PARENTHESIS,expression:e,leadingWhitespace:null===t||void 0===t?void 0:t.image,internalWhitespace:null===n||void 0===n?void 0:n.image}),ye=(e,t)=>({type:W.ERROR,error:e,leadingWhitespace:null===t||void 0===t?void 0:t.image}),be=(e,t,n)=>({type:W.ERROR_WITH_RAW_INPUT,error:t,rawInput:e,leadingWhitespace:null===n||void 0===n?void 0:n.image}),we=()=>({type:W.ERROR,error:lr.parsingError()});function _e(e,t,n){if(void 0!==e.sheet&&void 0===t.sheet||void 0===e.sheet&&void 0!==t.sheet)throw new Error("Start address inconsistent with end address");if(void 0===e.sheet&&n!==z.RELATIVE||void 0!==e.sheet&&n===z.RELATIVE)throw new Error("Sheet address inconsistent with sheet reference type")}function Ee(e,t){return(null!==t&&void 0!==t?t:"")+e}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const Se={[W.PLUS_OP]:"+",[W.MINUS_OP]:"-",[W.TIMES_OP]:"*",[W.DIV_OP]:"/",[W.CONCATENATE_OP]:"&",[W.POWER_OP]:"^",[W.EQUALS_OP]:"=",[W.NOT_EQUAL_OP]:"<>",[W.GREATER_THAN_OP]:">",[W.GREATER_THAN_OR_EQUAL_OP]:">=",[W.LESS_THAN_OP]:"<",[W.LESS_THAN_OR_EQUAL_OP]:"<="},Te=(e,t,n,r)=>({ast:e,relativeDependencies:t,hasVolatileFunction:n,hasStructuralChangeFunction:r});class Me{constructor(e){this.functionRegistry=e,this.cache=new Map}set(e,t){const n=ft(t,this.functionRegistry),r=Te(t,n,Ce(t,this.functionRegistry.isFunctionVolatile),Ce(t,this.functionRegistry.isFunctionDependentOnSheetStructureChange));return this.cache.set(e,r),r}get(e){return this.cache.get(e)}maybeSetAndThenGet(e,t){const n=this.cache.get(e);return void 0!==n?n.ast:(this.set(e,t),t)}}const Ce=(e,t)=>{switch(e.type){case W.EMPTY:case W.NUMBER:case W.STRING:case W.ERROR:case W.ERROR_WITH_RAW_INPUT:case W.CELL_REFERENCE:case W.CELL_RANGE:case W.COLUMN_RANGE:case W.ROW_RANGE:case W.NAMED_EXPRESSION:return!1;case W.PERCENT_OP:case W.PLUS_UNARY_OP:case W.MINUS_UNARY_OP:return Ce(e.value,t);case W.CONCATENATE_OP:case W.EQUALS_OP:case W.NOT_EQUAL_OP:case W.LESS_THAN_OP:case W.GREATER_THAN_OP:case W.LESS_THAN_OR_EQUAL_OP:case W.GREATER_THAN_OR_EQUAL_OP:case W.MINUS_OP:case W.PLUS_OP:case W.TIMES_OP:case W.DIV_OP:case W.POWER_OP:return Ce(e.left,t)||Ce(e.right,t);case W.PARENTHESIS:return Ce(e.expression,t);case W.FUNCTION_CALL:return!!t(e.procedureName)||e.args.some((e=>Ce(e,t)));case W.ARRAY:return e.args.some((e=>e.some((e=>Ce(e,t)))))}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Re{}Re.DistinctSigns="Distinct signs.",Re.WrongArgNumber="Wrong number of arguments.",Re.EmptyArg="Empty function argument.",Re.EmptyArray="Empty array not allowed.",Re.ArrayDimensions="Array dimensions are not compatible.",Re.NoSpaceForArrayResult="No space for array result.",Re.ValueSmall="Value too small.",Re.ValueLarge="Value too large.",Re.BadCriterion="Incorrect criterion.",Re.RangeManySheets="Range spans more than one sheet.",Re.CellRangeExpected="Cell range expected.",Re.WrongDimension="Wrong range dimension.",Re.ScalarExpected="Cell range not allowed.",Re.NumberCoercion="Value cannot be coerced to number.",Re.NumberExpected="Number argument expected.",Re.IntegerExpected="Value needs to be an integer.",Re.BadMode="Mode not recognized.",Re.DateBounds="Date outside of bounds.",Re.OutOfSheet="Resulting reference is out of the sheet.",Re.WrongType="Wrong type of argument.",Re.NaN="NaN or infinite value encountered.",Re.EqualLength="Ranges need to be of equal length.",Re.Negative="Value cannot be negative.",Re.NotBinary="String does not represent a binary number.",Re.NotOctal="String does not represent an octal number.",Re.NotHex="String does not represent a hexadecimal number.",Re.EndStartPeriod="End period needs to be at least start period.",Re.CellRefExpected="Cell reference expected.",Re.EmptyRange="Empty range not allowed.",Re.BadRef="Address is not correct.",Re.NumberRange="Number-only range expected.",Re.ValueNotFound="Value not found.",Re.ValueBaseLarge="Value in base too large.",Re.ValueBaseSmall="Value in base too small.",Re.ValueBaseLong="Value in base too long.",Re.NegativeLength="Length cannot be negative.",Re.PatternNotFound="Pattern not found.",Re.OneValue="Needs at least one value.",Re.TwoValues="Range needs to contain at least two elements.",Re.ThreeValues="Range needs to contain at least three elements.",Re.IndexBounds="Index out of bounds.",Re.IndexLarge="Index too large.",Re.Formula="Expected formula.",Re.NegativeCount="Count cannot be negative.",Re.ParseError="Parsing error.",Re.SheetRef="Sheet does not exist.",Re.PeriodLong="Period number cannot exceed life length.",Re.InvalidDate="Invalid date.",Re.BitshiftLong="Result of bitshift is too long.",Re.EmptyString="Empty-string argument not allowed.",Re.LengthBounds="Length out of bounds.",Re.NegativeTime="Time cannot be negative.",Re.NoDefault="No default option.",Re.NoConditionMet="None of the conditions were met.",Re.Selector="Selector cannot exceed the number of arguments.",Re.StartEndDate="Start date needs to be earlier than end date.",Re.IncorrectDateTime="String does not represent correct DateTime.",Re.CharacterCodeBounds="Character code out of bounds.",Re.NonZero="Argument cannot be 0.",Re.LessThanOne="Argument cannot be less than 1.",Re.WeekendString="Incorrect weekend bitmask string.",Re.InvalidRoman="Invalid roman numeral.",Re.WrongOrder="Wrong order of values.",Re.ComplexNumberExpected="Complex number expected.",Re.ShouldBeIorJ="Should be 'i' or 'j'.",Re.SizeMismatch="Array dimensions mismatched.",Re.FunctionName=e=>`Function name ${e} not recognized.`,Re.NamedExpressionName=e=>`Named expression ${e} not recognized.`,Re.LicenseKey=e=>`License key is ${e}.`;
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class xe{constructor(){this.POSSIBLE_START_CHARACTERS=[...M,...T,c,"'","_"],this.cellReferenceRegexp=new RegExp(E,"y")}match(e,t){this.cellReferenceRegexp.lastIndex=t;const n=this.cellReferenceRegexp.exec(e+"@");return null==n||null==n[1]?null:(n[0]=n[1],n)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ae{constructor(){this.POSSIBLE_START_CHARACTERS=[...M,"_"],this.namedExpressionRegexp=new RegExp(S,"y"),this.r1c1CellRefRegexp=new RegExp(`^${_}$`)}match(e,t){this.namedExpressionRegexp.lastIndex=t;const n=this.namedExpressionRegexp.exec(e);return null==n||null==n[0]||this.r1c1CellRefRegexp.test(n[0])?null:n}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const Ne=(0,j.createToken)({name:"AdditionOp",pattern:j.Lexer.NA}),Le=(0,j.createToken)({name:"PlusOp",pattern:/\+/,categories:Ne}),ke=(0,j.createToken)({name:"MinusOp",pattern:/-/,categories:Ne}),Oe=(0,j.createToken)({name:"MultiplicationOp",pattern:j.Lexer.NA}),Ie=(0,j.createToken)({name:"TimesOp",pattern:/\*/,categories:Oe}),Pe=(0,j.createToken)({name:"DivOp",pattern:/\//,categories:Oe}),De=(0,j.createToken)({name:"PowerOp",pattern:/\^/}),Fe=(0,j.createToken)({name:"PercentOp",pattern:/%/}),He=(0,j.createToken)({name:"BooleanOp",pattern:j.Lexer.NA}),Ue=(0,j.createToken)({name:"EqualsOp",pattern:/=/,categories:He}),Be=(0,j.createToken)({name:"NotEqualOp",pattern:/<>/,categories:He}),je=(0,j.createToken)({name:"GreaterThanOp",pattern:/>/,categories:He}),Ye=(0,j.createToken)({name:"LessThanOp",pattern:/</,categories:He}),Ve=(0,j.createToken)({name:"GreaterThanOrEqualOp",pattern:/>=/,categories:He}),We=(0,j.createToken)({name:"LessThanOrEqualOp",pattern:/<=/,categories:He}),ze=(0,j.createToken)({name:"ConcatenateOp",pattern:/&/}),Ge=(0,j.createToken)({name:"LParen",pattern:/\(/}),$e=(0,j.createToken)({name:"RParen",pattern:/\)/}),qe=(0,j.createToken)({name:"ArrayLParen",pattern:/{/}),Ke=(0,j.createToken)({name:"ArrayRParen",pattern:/}/}),Xe=(0,j.createToken)({name:"StringLiteral",pattern:/"([^"\\]*(\\.[^"\\]*)*)"/}),Je=(0,j.createToken)({name:"ErrorLiteral",pattern:/#[A-Za-z0-9\/]+[?!]?/}),Qe=(0,j.createToken)({name:"RangeSeparator",pattern:new RegExp(u)}),Ze=(0,j.createToken)({name:"ColumnRange",pattern:new RegExp(`${b}${u}${b}`)}),et=(0,j.createToken)({name:"RowRange",pattern:new RegExp(`${w}${u}${w}`)}),tt=(0,j.createToken)({name:"ProcedureName",pattern:new RegExp(`([${f}][${p}]*)\\(`)}),nt=new xe,rt=(0,j.createToken)({name:"CellReference",pattern:nt.match.bind(nt),start_chars_hint:nt.POSSIBLE_START_CHARACTERS,line_breaks:!1}),it=new Ae,ot=(0,j.createToken)({name:"NamedExpression",pattern:it.match.bind(it),start_chars_hint:it.POSSIBLE_START_CHARACTERS,line_breaks:!1}),st=e=>{const t=e.translationPackage.getFunctionTranslation("OFFSET"),n=e.errorMapping,r=e.translationPackage.buildFunctionMapping(),i=new RegExp("standard"===e.ignoreWhiteSpace?d:h),o=(0,j.createToken)({name:"WhiteSpace",pattern:i}),s=(0,j.createToken)({name:"ArrayRowSep",pattern:e.arrayRowSeparator}),a=(0,j.createToken)({name:"ArrayColSep",pattern:e.arrayColumnSeparator}),l=(0,j.createToken)({name:"NumberLiteral",pattern:new RegExp(`(([${e.decimalSeparator}]\\d+)|(\\d+([${e.decimalSeparator}]\\d*)?))(e[+-]?\\d+)?`)}),u=(0,j.createToken)({name:"OffsetProcedureName",pattern:new RegExp(t,"i")});let c,f;e.functionArgSeparator===e.arrayColumnSeparator?(c=a,f=[]):e.functionArgSeparator===e.arrayRowSeparator?(c=s,f=[]):(c=(0,j.createToken)({name:"ArgSeparator",pattern:e.functionArgSeparator}),f=[c]);const p=[o,Le,ke,Ie,Pe,De,Ue,Be,Fe,Ve,We,je,Ye,Ge,$e,qe,Ke,u,tt,Qe,...f,Ze,et,l,Xe,Je,ze,He,Ne,Oe,rt,ot,s,a];return{ArgSeparator:c,NumberLiteral:l,OffsetProcedureName:u,ArrayRowSeparator:s,ArrayColSeparator:a,WhiteSpace:o,allTokens:p,errorMapping:n,functionMapping:r,decimalSeparator:e.decimalSeparator,maxColumns:e.maxColumns,maxRows:e.maxRows}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class at extends j.EmbeddedActionsParser{constructor(e,t){super(e.allTokens,{outputCst:!1,maxLookahead:7}),this.booleanExpressionOrEmpty=this.RULE("booleanExpressionOrEmpty",(()=>this.OR([{ALT:()=>this.SUBRULE(this.booleanExpression)},{ALT:(0,j.EMPTY_ALT)(G())}]))),this.procedureExpression=this.RULE("procedureExpression",(()=>{var e;const t=this.CONSUME(tt),n=t.image.toUpperCase().slice(0,-1),r=null!==(e=this.lexerConfig.functionMapping[n])&&void 0!==e?e:n,i=[];let o=this.SUBRULE(this.booleanExpressionOrEmpty);this.MANY((()=>{var e;const t=this.CONSUME(this.lexerConfig.ArgSeparator);o.type===W.EMPTY&&(o.leadingWhitespace=null===(e=t.leadingWhitespace)||void 0===e?void 0:e.image),i.push(o),o=this.SUBRULE2(this.booleanExpressionOrEmpty)})),i.push(o),1===i.length&&i[0].type===W.EMPTY&&(i.length=0);const s=this.CONSUME($e);return pe(r,i,t.leadingWhitespace,s.leadingWhitespace)})),this.namedExpressionExpression=this.RULE("namedExpressionExpression",(()=>{const e=this.CONSUME(ot);return ge(e.image,e.leadingWhitespace)})),this.offsetProcedureExpression=this.RULE("offsetProcedureExpression",(()=>{const e=[];return this.CONSUME(this.lexerConfig.OffsetProcedureName),this.CONSUME(Ge),this.MANY_SEP({SEP:this.lexerConfig.ArgSeparator,DEF:()=>{e.push(this.SUBRULE(this.booleanExpression))}}),this.CONSUME($e),this.handleOffsetHeuristic(e)})),this.columnRangeExpression=this.RULE("columnRangeExpression",(()=>{const e=this.CONSUME(Ze),[t,n]=e.image.split(":"),r=this.ACTION((()=>L(this.sheetMapping,t,this.formulaAddress))),i=this.ACTION((()=>L(this.sheetMapping,n,this.formulaAddress)));if(void 0===r||void 0===i)return ye(new lr(Yn.REF));if(r.exceedsSheetSizeLimits(this.lexerConfig.maxColumns)||i.exceedsSheetSizeLimits(this.lexerConfig.maxColumns))return be(e.image,new lr(Yn.NAME),e.leadingWhitespace);if(void 0===r.sheet&&void 0!==i.sheet)return this.parsingError(V.ParserError,"Malformed range expression");const{firstEnd:o,secondEnd:s,sheetRefType:a}=at.fixSheetIdsForRangeEnds(r,i);return J(o,s,a,e.leadingWhitespace)})),this.rowRangeExpression=this.RULE("rowRangeExpression",(()=>{const e=this.CONSUME(et),[t,n]=e.image.split(":"),r=this.ACTION((()=>k(this.sheetMapping,t,this.formulaAddress))),i=this.ACTION((()=>k(this.sheetMapping,n,this.formulaAddress)));if(void 0===r||void 0===i)return ye(new lr(Yn.REF));if(r.exceedsSheetSizeLimits(this.lexerConfig.maxRows)||i.exceedsSheetSizeLimits(this.lexerConfig.maxRows))return be(e.image,new lr(Yn.NAME),e.leadingWhitespace);if(void 0===r.sheet&&void 0!==i.sheet)return this.parsingError(V.ParserError,"Malformed range expression");const{firstEnd:o,secondEnd:s,sheetRefType:a}=at.fixSheetIdsForRangeEnds(r,i);return Q(o,s,a,e.leadingWhitespace)})),this.cellReference=this.RULE("cellReference",(()=>{const e=this.CONSUME(rt),t=this.ACTION((()=>N(this.sheetMapping,e.image,this.formulaAddress)));return void 0===t?be(e.image,new lr(Yn.REF),e.leadingWhitespace):t.exceedsSheetSizeLimits(this.lexerConfig.maxColumns,this.lexerConfig.maxRows)?be(e.image,new lr(Yn.NAME),e.leadingWhitespace):K(t,e.leadingWhitespace)})),this.endRangeReference=this.RULE("endRangeReference",(e=>{var t;const n=this.CONSUME(rt),r=this.ACTION((()=>N(this.sheetMapping,e.image,this.formulaAddress))),i=this.ACTION((()=>N(this.sheetMapping,n.image,this.formulaAddress)));return void 0===r||void 0===i?this.ACTION((()=>be(`${e.image}:${n.image}`,new lr(Yn.REF),e.leadingWhitespace))):r.exceedsSheetSizeLimits(this.lexerConfig.maxColumns,this.lexerConfig.maxRows)||i.exceedsSheetSizeLimits(this.lexerConfig.maxColumns,this.lexerConfig.maxRows)?this.ACTION((()=>be(`${e.image}:${n.image}`,new lr(Yn.NAME),e.leadingWhitespace))):this.buildCellRange(r,i,null===(t=e.leadingWhitespace)||void 0===t?void 0:t.image)})),this.endOfRangeExpression=this.RULE("endOfRangeExpression",(e=>this.OR([{ALT:()=>this.SUBRULE(this.endRangeReference,{ARGS:[e]})},{ALT:()=>{var t;const n=this.SUBRULE(this.offsetProcedureExpression),r=this.ACTION((()=>N(this.sheetMapping,e.image,this.formulaAddress)));return void 0===r?ye(new lr(Yn.REF)):n.type===W.CELL_REFERENCE?this.buildCellRange(r,n.reference,null===(t=e.leadingWhitespace)||void 0===t?void 0:t.image):this.parsingError(V.RangeOffsetNotAllowed,"Range offset not allowed here")}}]))),this.cellRangeExpression=this.RULE("cellRangeExpression",(()=>{const e=this.CONSUME(rt);return this.CONSUME2(Qe),this.SUBRULE(this.endOfRangeExpression,{ARGS:[e]})})),this.endRangeWithOffsetStartReference=this.RULE("endRangeWithOffsetStartReference",(e=>{const t=this.CONSUME(rt),n=this.ACTION((()=>N(this.sheetMapping,t.image,this.formulaAddress)));return void 0===n?this.ACTION((()=>ye(new lr(Yn.REF)))):this.buildCellRange(e.reference,n,e.leadingWhitespace)})),this.endOfRangeWithOffsetStartExpression=this.RULE("endOfRangeWithOffsetStartExpression",(e=>this.OR([{ALT:()=>this.SUBRULE(this.endRangeWithOffsetStartReference,{ARGS:[e]})},{ALT:()=>{const t=this.SUBRULE(this.offsetProcedureExpression);return t.type===W.CELL_REFERENCE?this.buildCellRange(e.reference,t.reference,e.leadingWhitespace):this.parsingError(V.RangeOffsetNotAllowed,"Range offset not allowed here")}}]))),this.offsetExpression=this.RULE("offsetExpression",(()=>{const e=this.SUBRULE(this.offsetProcedureExpression);let t;return this.OPTION((()=>{this.CONSUME(Qe),t=e.type===W.CELL_RANGE?this.parsingError(V.RangeOffsetNotAllowed,"Range offset not allowed here"):this.SUBRULE(this.endOfRangeWithOffsetStartExpression,{ARGS:[e]})})),void 0!==t?t:e})),this.insideArrayExpression=this.RULE("insideArrayExpression",(()=>{const e=[[]];return e[e.length-1].push(this.SUBRULE(this.booleanExpression)),this.MANY((()=>{this.OR([{ALT:()=>{this.CONSUME(this.lexerConfig.ArrayColSeparator),e[e.length-1].push(this.SUBRULE2(this.booleanExpression))}},{ALT:()=>{this.CONSUME(this.lexerConfig.ArrayRowSeparator),e.push([]),e[e.length-1].push(this.SUBRULE3(this.booleanExpression))}}])})),me(e)})),this.parenthesisExpression=this.RULE("parenthesisExpression",(()=>{const e=this.CONSUME(Ge),t=this.SUBRULE(this.booleanExpression),n=this.CONSUME($e);return ve(t,e.leadingWhitespace,n.leadingWhitespace)})),this.arrayExpression=this.RULE("arrayExpression",(()=>this.OR([{ALT:()=>{const e=this.CONSUME(qe),t=this.SUBRULE(this.insideArrayExpression),n=this.CONSUME(Ke);return me(t.args,e.leadingWhitespace,n.leadingWhitespace)}},{ALT:()=>this.SUBRULE(this.parenthesisExpression)}]))),this.numericStringToNumber=e=>{const t=e.replace(this.lexerConfig.decimalSeparator,".");return Number(t)},this.positiveAtomicExpression=this.RULE("positiveAtomicExpression",(()=>{var e;return this.OR(null!==(e=this.atomicExpCache)&&void 0!==e?e:this.atomicExpCache=[{ALT:()=>this.SUBRULE(this.arrayExpression)},{ALT:()=>this.SUBRULE(this.cellRangeExpression)},{ALT:()=>this.SUBRULE(this.columnRangeExpression)},{ALT:()=>this.SUBRULE(this.rowRangeExpression)},{ALT:()=>this.SUBRULE(this.offsetExpression)},{ALT:()=>this.SUBRULE(this.cellReference)},{ALT:()=>this.SUBRULE(this.procedureExpression)},{ALT:()=>this.SUBRULE(this.namedExpressionExpression)},{ALT:()=>{const e=this.CONSUME(this.lexerConfig.NumberLiteral);return $(this.numericStringToNumber(e.image),e.leadingWhitespace)}},{ALT:()=>{const e=this.CONSUME(Xe);return q(e)}},{ALT:()=>{const e=this.CONSUME(Je),t=e.image.toUpperCase(),n=this.lexerConfig.errorMapping[t];return n?ye(new lr(n),e.leadingWhitespace):this.parsingError(V.ParserError,"Unknown error literal")}}])})),this.rightUnaryOpAtomicExpression=this.RULE("rightUnaryOpAtomicExpression",(()=>{const e=this.SUBRULE(this.positiveAtomicExpression),t=this.OPTION((()=>this.CONSUME(Fe)));return t?fe(e,t.leadingWhitespace):e})),this.atomicExpression=this.RULE("atomicExpression",(()=>this.OR([{ALT:()=>{const e=this.CONSUME(Ne),t=this.SUBRULE(this.atomicExpression);return(0,j.tokenMatcher)(e,Le)?de(t,e.leadingWhitespace):(0,j.tokenMatcher)(e,ke)?he(t,e.leadingWhitespace):(this.customParsingError=Y(V.ParserError,"Mismatched token type"),this.customParsingError)}},{ALT:()=>this.SUBRULE2(this.rightUnaryOpAtomicExpression)}]))),this.powerExpression=this.RULE("powerExpression",(()=>{let e=this.SUBRULE(this.atomicExpression);return this.MANY((()=>{const t=this.CONSUME(De),n=this.SUBRULE2(this.atomicExpression);(0,j.tokenMatcher)(t,De)?e=ce(e,n,t.leadingWhitespace):this.ACTION((()=>{throw Error("Operator not supported")}))})),e})),this.multiplicationExpression=this.RULE("multiplicationExpression",(()=>{let e=this.SUBRULE(this.powerExpression);return this.MANY((()=>{const t=this.CONSUME(Oe),n=this.SUBRULE2(this.powerExpression);(0,j.tokenMatcher)(t,Ie)?e=le(e,n,t.leadingWhitespace):(0,j.tokenMatcher)(t,Pe)?e=ue(e,n,t.leadingWhitespace):this.ACTION((()=>{throw Error("Operator not supported")}))})),e})),this.additionExpression=this.RULE("additionExpression",(()=>{let e=this.SUBRULE(this.multiplicationExpression);return this.MANY((()=>{const t=this.CONSUME(Ne),n=this.SUBRULE2(this.multiplicationExpression);(0,j.tokenMatcher)(t,Le)?e=se(e,n,t.leadingWhitespace):(0,j.tokenMatcher)(t,ke)?e=ae(e,n,t.leadingWhitespace):this.ACTION((()=>{throw Error("Operator not supported")}))})),e})),this.concatenateExpression=this.RULE("concatenateExpression",(()=>{let e=this.SUBRULE(this.additionExpression);return this.MANY((()=>{const t=this.CONSUME(ze),n=this.SUBRULE2(this.additionExpression);e=Z(e,n,t.leadingWhitespace)})),e})),this.booleanExpression=this.RULE("booleanExpression",(()=>{let e=this.SUBRULE(this.concatenateExpression);return this.MANY((()=>{const t=this.CONSUME(He),n=this.SUBRULE2(this.concatenateExpression);(0,j.tokenMatcher)(t,Ue)?e=ee(e,n,t.leadingWhitespace):(0,j.tokenMatcher)(t,Be)?e=te(e,n,t.leadingWhitespace):(0,j.tokenMatcher)(t,je)?e=ne(e,n,t.leadingWhitespace):(0,j.tokenMatcher)(t,Ye)?e=re(e,n,t.leadingWhitespace):(0,j.tokenMatcher)(t,Ve)?e=ie(e,n,t.leadingWhitespace):(0,j.tokenMatcher)(t,We)?e=oe(e,n,t.leadingWhitespace):this.ACTION((()=>{throw Error("Operator not supported")}))})),e})),this.formula=this.RULE("formula",(()=>(this.CONSUME(Ue),this.SUBRULE(this.booleanExpression)))),this.lexerConfig=e,this.sheetMapping=t,this.formulaAddress=fr(0,0,0),this.performSelfAnalysis()}parseFromTokens(e,t){this.input=e;let n=this.formulaWithContext(t),r=[];return this.customParsingError&&r.push(this.customParsingError),r=r.concat(this.errors.map((e=>({type:V.ParserError,message:e.message})))),r.length>0&&(n=we()),{ast:n,errors:r}}reset(){super.reset(),this.customParsingError=void 0}formulaWithContext(e){return this.formulaAddress=e,this.formula()}buildCellRange(e,t,n){if(void 0===e.sheet&&void 0!==t.sheet)return this.parsingError(V.ParserError,"Malformed range expression");const{firstEnd:r,secondEnd:i,sheetRefType:o}=at.fixSheetIdsForRangeEnds(e,t);return X(r,i,o,n)}static fixSheetIdsForRangeEnds(e,t){const n=at.rangeSheetReferenceType(e.sheet,t.sheet),r=void 0!==e.sheet&&void 0===t.sheet?t.withSheet(e.sheet):t;return{firstEnd:e,secondEnd:r,sheetRefType:n}}handleOffsetHeuristic(e){const t=e[0];if(t.type!==W.CELL_REFERENCE)return this.parsingError(V.StaticOffsetError,"First argument to OFFSET is not a reference");const n=e[1];let r;if(n.type===W.NUMBER&&Number.isInteger(n.value))r=n.value;else if(n.type===W.PLUS_UNARY_OP&&n.value.type===W.NUMBER&&Number.isInteger(n.value.value))r=n.value.value;else{if(n.type!==W.MINUS_UNARY_OP||n.value.type!==W.NUMBER||!Number.isInteger(n.value.value))return this.parsingError(V.StaticOffsetError,"Second argument to OFFSET is not a static number");r=-n.value.value}const o=e[2];let s;if(o.type===W.NUMBER&&Number.isInteger(o.value))s=o.value;else if(o.type===W.PLUS_UNARY_OP&&o.value.type===W.NUMBER&&Number.isInteger(o.value.value))s=o.value.value;else{if(o.type!==W.MINUS_UNARY_OP||o.value.type!==W.NUMBER||!Number.isInteger(o.value.value))return this.parsingError(V.StaticOffsetError,"Third argument to OFFSET is not a static number");s=-o.value.value}const a=e[3];let u;if(void 0===a)u=1;else{if(a.type!==W.NUMBER)return this.parsingError(V.StaticOffsetError,"Fourth argument to OFFSET is not a static number");if(u=a.value,u<1)return this.parsingError(V.StaticOffsetError,"Fourth argument to OFFSET is too small number");if(!Number.isInteger(u))return this.parsingError(V.StaticOffsetError,"Fourth argument to OFFSET is not integer")}const c=e[4];let h;if(void 0===c)h=1;else{if(c.type!==W.NUMBER)return this.parsingError(V.StaticOffsetError,"Fifth argument to OFFSET is not a static number");if(h=c.value,h<1)return this.parsingError(V.StaticOffsetError,"Fifth argument to OFFSET is too small number");if(!Number.isInteger(h))return this.parsingError(V.StaticOffsetError,"Fifth argument to OFFSET is not integer")}const d=new l(t.reference.col+s,t.reference.row+r,t.reference.type);let f=d.col,p=d.row;if(t.reference.type!==i.CELL_REFERENCE_RELATIVE&&t.reference.type!==i.CELL_REFERENCE_ABSOLUTE_COL||(p+=this.formulaAddress.row),t.reference.type!==i.CELL_REFERENCE_RELATIVE&&t.reference.type!==i.CELL_REFERENCE_ABSOLUTE_ROW||(f+=this.formulaAddress.col),f<0||p<0)return ye(new lr(Yn.REF,Re.OutOfSheet));if(1===h&&1===u)return K(d);{const e=new l(d.col+h-1,d.row+u-1,d.type);return X(d,e,z.RELATIVE)}}parsingError(e,t){return this.customParsingError=Y(e,t),we()}static rangeSheetReferenceType(e,t){return void 0===e?z.RELATIVE:void 0===t?z.START_ABSOLUTE:z.BOTH_ABSOLUTE}}class lt{constructor(e){this.lexerConfig=e,this.lexer=new j.Lexer(e.allTokens,{ensureOptimizations:!0})}tokenizeFormula(e){const t=this.lexer.tokenize(e);let n=t.tokens;return n=this.trimTrailingWhitespaces(n),n=this.skipWhitespacesInsideRanges(n),n=this.skipWhitespacesBeforeArgSeparators(n),t.tokens=n,t}skipWhitespacesInsideRanges(e){return lt.filterTokensByNeighbors(e,((e,t,n)=>((0,j.tokenMatcher)(e,rt)||(0,j.tokenMatcher)(e,Qe))&&(0,j.tokenMatcher)(t,this.lexerConfig.WhiteSpace)&&((0,j.tokenMatcher)(n,rt)||(0,j.tokenMatcher)(n,Qe))))}skipWhitespacesBeforeArgSeparators(e){return lt.filterTokensByNeighbors(e,((e,t,n)=>!(0,j.tokenMatcher)(e,this.lexerConfig.ArgSeparator)&&(0,j.tokenMatcher)(t,this.lexerConfig.WhiteSpace)&&(0,j.tokenMatcher)(n,this.lexerConfig.ArgSeparator)))}static filterTokensByNeighbors(e,t){if(e.length<3)return e;let n=0;const r=[e[n++]];while(n<e.length-1)t(e[n-1],e[n],e[n+1])||r.push(e[n]),++n;return r.push(e[n]),r}trimTrailingWhitespaces(e){return e.length>0&&(0,j.tokenMatcher)(e[e.length-1],this.lexerConfig.WhiteSpace)&&e.pop(),e}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ut{constructor(e,t,n,r){this.config=e,this.lexerConfig=t,this.sheetMappingFn=n,this.namedExpressions=r}unparse(e,t){return"="+this.unparseAst(e,t)}unparseAst(e,t){var n,r;switch(e.type){case W.EMPTY:return Ee("",e.leadingWhitespace);case W.NUMBER:return Ee(ct(e.value,this.config.decimalSeparator),e.leadingWhitespace);case W.STRING:return Ee('"'+e.value+'"',e.leadingWhitespace);case W.FUNCTION_CALL:{const n=e.args.map((e=>void 0!==e?this.unparseAst(e,t):"")).join(this.config.functionArgSeparator),r=this.config.translationPackage.isFunctionTranslated(e.procedureName)?this.config.translationPackage.getFunctionTranslation(e.procedureName):e.procedureName,i=r+"("+n+Ee(")",e.internalWhitespace);return Ee(i,e.leadingWhitespace)}case W.NAMED_EXPRESSION:{const r=null===(n=this.namedExpressions.nearestNamedExpression(e.expressionName,t.sheet))||void 0===n?void 0:n.displayName;return Ee(r||e.expressionName,e.leadingWhitespace)}case W.CELL_REFERENCE:{let n;return n=void 0!==e.reference.sheet?this.unparseSheetName(e.reference.sheet)+"!":"",n+=null!==(r=e.reference.unparse(t))&&void 0!==r?r:this.config.translationPackage.getErrorTranslation(Yn.REF),Ee(n,e.leadingWhitespace)}case W.COLUMN_RANGE:case W.ROW_RANGE:case W.CELL_RANGE:return Ee(this.formatRange(e,t),e.leadingWhitespace);case W.PLUS_UNARY_OP:{const n=this.unparseAst(e.value,t);return Ee("+",e.leadingWhitespace)+n}case W.MINUS_UNARY_OP:{const n=this.unparseAst(e.value,t);return Ee("-",e.leadingWhitespace)+n}case W.PERCENT_OP:return this.unparseAst(e.value,t)+Ee("%",e.leadingWhitespace);case W.ERROR:{const t=this.config.translationPackage.getErrorTranslation(e.error?e.error.type:Yn.ERROR);return Ee(t,e.leadingWhitespace)}case W.ERROR_WITH_RAW_INPUT:return Ee(e.rawInput,e.leadingWhitespace);case W.PARENTHESIS:{const n=this.unparseAst(e.expression,t),r="("+n+Ee(")",e.internalWhitespace);return Ee(r,e.leadingWhitespace)}case W.ARRAY:{const n="{"+e.args.map((e=>e.map((e=>this.unparseAst(e,t))).join(this.config.arrayColumnSeparator))).join(this.config.arrayRowSeparator)+Ee("}",e.internalWhitespace);return Ee(n,e.leadingWhitespace)}default:{const n=this.unparseAst(e.left,t),r=this.unparseAst(e.right,t);return n+Ee(Se[e.type],e.leadingWhitespace)+r}}}unparseSheetName(e){const t=U(e,this.sheetMappingFn);if(void 0===t)throw new Yt(e);return t}formatRange(e,t){let n="",r="";void 0!==e.start.sheet&&e.sheetReferenceType!==z.RELATIVE&&(n=this.unparseSheetName(e.start.sheet)+"!"),void 0!==e.end.sheet&&e.sheetReferenceType===z.BOTH_ABSOLUTE&&(r=this.unparseSheetName(e.end.sheet)+"!");const i=e.start.unparse(t),o=e.end.unparse(t);return void 0===i||void 0===o?this.config.translationPackage.getErrorTranslation(Yn.REF):`${n}${i}:${r}${o}`}}function ct(e,t){const n=e.toString();return n.replace(".",t)}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ht{constructor(e,t,n){this.config=e,this.functionRegistry=t,this.sheetMapping=n,this.statsCacheUsed=0,this.lexerConfig=st(e),this.lexer=new lt(this.lexerConfig),this.formulaParser=new at(this.lexerConfig,this.sheetMapping),this.cache=new Me(this.functionRegistry)}parse(e,t){this.formulaAddress=t;const n=this.tokenizeFormula(e);if(n.errors.length>0){const e=n.errors.map((e=>({type:V.LexingError,message:e.message})));return{ast:we(),errors:e,hasVolatileFunction:!1,hasStructuralChangeFunction:!1,dependencies:[]}}const r=this.computeHashFromTokens(n.tokens,t);let i=this.cache.get(r);if(void 0!==i)++this.statsCacheUsed;else{const e=this.bindWhitespacesToTokens(n.tokens),o=this.formulaParser.parseFromTokens(e,t);if(o.errors.length>0)return Object.assign(Object.assign({},o),{hasVolatileFunction:!1,hasStructuralChangeFunction:!1,dependencies:[]});i=this.cache.set(r,o.ast)}const{ast:o,hasVolatileFunction:s,hasStructuralChangeFunction:a}=i,l=this.convertReversedRangesToRegularRanges(o),u=ft(l,this.functionRegistry);return{ast:l,errors:[],hasVolatileFunction:s,hasStructuralChangeFunction:a,dependencies:u}}convertReversedRangesToRegularRanges(e){switch(e.type){case W.EMPTY:case W.NUMBER:case W.STRING:case W.ERROR:case W.ERROR_WITH_RAW_INPUT:case W.CELL_REFERENCE:case W.NAMED_EXPRESSION:return e;case W.CELL_RANGE:{const{start:t,end:n}=e,r=this.orderCellRangeEnds(t,n);return Object.assign(Object.assign({},e),{start:r.start,end:r.end})}case W.COLUMN_RANGE:{const{start:t,end:n}=e,r=this.orderColumnRangeEnds(t,n);return Object.assign(Object.assign({},e),{start:r.start,end:r.end})}case W.ROW_RANGE:{const{start:t,end:n}=e,r=this.orderRowRangeEnds(t,n);return Object.assign(Object.assign({},e),{start:r.start,end:r.end})}case W.PERCENT_OP:case W.PLUS_UNARY_OP:case W.MINUS_UNARY_OP:{const t=this.convertReversedRangesToRegularRanges(e.value);return Object.assign(Object.assign({},e),{value:t})}case W.CONCATENATE_OP:case W.EQUALS_OP:case W.NOT_EQUAL_OP:case W.LESS_THAN_OP:case W.GREATER_THAN_OP:case W.LESS_THAN_OR_EQUAL_OP:case W.GREATER_THAN_OR_EQUAL_OP:case W.MINUS_OP:case W.PLUS_OP:case W.TIMES_OP:case W.DIV_OP:case W.POWER_OP:{const t=this.convertReversedRangesToRegularRanges(e.left),n=this.convertReversedRangesToRegularRanges(e.right);return Object.assign(Object.assign({},e),{left:t,right:n})}case W.PARENTHESIS:{const t=this.convertReversedRangesToRegularRanges(e.expression);return Object.assign(Object.assign({},e),{expression:t})}case W.FUNCTION_CALL:{const t=e.args.map((e=>this.convertReversedRangesToRegularRanges(e)));return Object.assign(Object.assign({},e),{args:t})}case W.ARRAY:{const t=e.args.map((e=>e.map((e=>this.convertReversedRangesToRegularRanges(e)))));return Object.assign(Object.assign({},e),{args:t})}}}orderCellRangeEnds(e,t){const n=[e,t],[r,i]=n.map((e=>e.toColumnAddress())).sort(s.compareByAbsoluteAddress(this.formulaAddress)),[o,u]=n.map((e=>e.toRowAddress())).sort(a.compareByAbsoluteAddress(this.formulaAddress)),[c,h]=n.map((e=>e.sheet)).sort(ht.compareSheetIds.bind(this));return{start:l.fromColAndRow(r,o,c),end:l.fromColAndRow(i,u,h)}}orderColumnRangeEnds(e,t){const n=[e,t],[r,i]=n.sort(s.compareByAbsoluteAddress(this.formulaAddress)),[o,a]=n.map((e=>e.sheet)).sort(ht.compareSheetIds.bind(this));return{start:new s(r.type,r.col,o),end:new s(i.type,i.col,a)}}orderRowRangeEnds(e,t){const n=[e,t],[r,i]=n.sort(a.compareByAbsoluteAddress(this.formulaAddress)),[o,s]=n.map((e=>e.sheet)).sort(ht.compareSheetIds.bind(this));return{start:new a(r.type,r.row,o),end:new a(i.type,i.row,s)}}static compareSheetIds(e,t){return e=null!=e?e:1/0,t=null!=t?t:1/0,e-t}fetchCachedResultForAst(e){const t=this.computeHashFromAst(e);return this.fetchCachedResult(t)}fetchCachedResult(e){const t=this.cache.get(e);if(void 0===t)throw new Error("There is no AST with such key in the cache");{const{ast:e,hasVolatileFunction:n,hasStructuralChangeFunction:r,relativeDependencies:i}=t;return{ast:e,errors:[],hasVolatileFunction:n,hasStructuralChangeFunction:r,dependencies:i}}}computeHashFromTokens(e,t){var n;let r="",i=0;while(i<e.length){const o=e[i];if((0,j.tokenMatcher)(o,rt)){const e=N(this.sheetMapping,o.image,t);r=void 0===e?r.concat(o.image):r.concat(e.hash(!0))}else if((0,j.tokenMatcher)(o,tt)){const e=o.image.toUpperCase().slice(0,-1),t=null!==(n=this.lexerConfig.functionMapping[e])&&void 0!==n?n:e;r=r.concat(t,"(")}else if((0,j.tokenMatcher)(o,Ze)){const[e,n]=o.image.split(":"),i=L(this.sheetMapping,e,t),s=L(this.sheetMapping,n,t);r=void 0===i||void 0===s?r.concat("!REF"):r.concat(i.hash(!0),":",s.hash(!0))}else if((0,j.tokenMatcher)(o,et)){const[e,n]=o.image.split(":"),i=k(this.sheetMapping,e,t),s=k(this.sheetMapping,n,t);r=void 0===i||void 0===s?r.concat("!REF"):r.concat(i.hash(!0),":",s.hash(!0))}else r=r.concat(o.image);i++}return r}rememberNewAst(e){const t=this.computeHashFromAst(e);return this.cache.maybeSetAndThenGet(t,e)}computeHashFromAst(e){return"="+this.computeHashOfAstNode(e)}computeHashOfAstNode(e){switch(e.type){case W.EMPTY:return e.leadingWhitespace||"";case W.NUMBER:return Ee(ct(e.value,this.config.decimalSeparator),e.leadingWhitespace);case W.STRING:return Ee('"'+e.value+'"',e.leadingWhitespace);case W.NAMED_EXPRESSION:return Ee(e.expressionName,e.leadingWhitespace);case W.FUNCTION_CALL:{const t=e.args.map((e=>this.computeHashOfAstNode(e))).join(this.config.functionArgSeparator),n=e.procedureName+"("+t+Ee(")",e.internalWhitespace);return Ee(n,e.leadingWhitespace)}case W.CELL_REFERENCE:return Ee(e.reference.hash(!0),e.leadingWhitespace);case W.COLUMN_RANGE:case W.ROW_RANGE:case W.CELL_RANGE:{const t=e.start.hash(e.sheetReferenceType!==z.RELATIVE),n=e.end.hash(e.sheetReferenceType===z.BOTH_ABSOLUTE);return Ee(t+":"+n,e.leadingWhitespace)}case W.MINUS_UNARY_OP:return Ee("-"+this.computeHashOfAstNode(e.value),e.leadingWhitespace);case W.PLUS_UNARY_OP:return Ee("+"+this.computeHashOfAstNode(e.value),e.leadingWhitespace);case W.PERCENT_OP:return this.computeHashOfAstNode(e.value)+Ee("%",e.leadingWhitespace);case W.ERROR:{const t=this.config.translationPackage.getErrorTranslation(e.error?e.error.type:Yn.ERROR);return Ee(t,e.leadingWhitespace)}case W.ERROR_WITH_RAW_INPUT:return Ee(e.rawInput,e.leadingWhitespace);case W.ARRAY:{const t=e.args.map((e=>e.map((e=>this.computeHashOfAstNode(e))).join(","))).join(";");return Ee("{"+t+Ee("}",e.internalWhitespace),e.leadingWhitespace)}case W.PARENTHESIS:{const t=this.computeHashOfAstNode(e.expression),n="("+t+Ee(")",e.internalWhitespace);return Ee(n,e.leadingWhitespace)}default:return this.computeHashOfAstNode(e.left)+Ee(Se[e.type],e.leadingWhitespace)+this.computeHashOfAstNode(e.right)}}bindWhitespacesToTokens(e){const t=[],n=e[0];(0,j.tokenMatcher)(n,this.lexerConfig.WhiteSpace)||t.push(n);for(let r=1;r<e.length;++r){const n=e[r];if((0,j.tokenMatcher)(n,this.lexerConfig.WhiteSpace))continue;const i=e[r-1];(0,j.tokenMatcher)(i,this.lexerConfig.WhiteSpace)&&(n.leadingWhitespace=i),t.push(n)}return t}tokenizeFormula(e){return this.lexer.tokenizeFormula(e)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const dt=(e,t,n,r)=>{switch(e.type){case W.EMPTY:case W.NUMBER:case W.STRING:case W.ERROR:return;case W.NAMED_EXPRESSION:return void(r&&n.push(new yt(e.expressionName)));case W.CELL_REFERENCE:return void(r&&n.push(new pt(e.reference)));case W.CELL_RANGE:return void(r&&e.start.sheet===e.end.sheet&&n.push(new mt(e.start,e.end)));case W.COLUMN_RANGE:return void(r&&e.start.sheet===e.end.sheet&&n.push(new gt(e.start,e.end)));case W.ROW_RANGE:return void(r&&e.start.sheet===e.end.sheet&&n.push(new vt(e.start,e.end)));case W.PERCENT_OP:case W.PLUS_UNARY_OP:case W.MINUS_UNARY_OP:return void dt(e.value,t,n,!0);case W.CONCATENATE_OP:case W.EQUALS_OP:case W.NOT_EQUAL_OP:case W.LESS_THAN_OP:case W.GREATER_THAN_OP:case W.LESS_THAN_OR_EQUAL_OP:case W.GREATER_THAN_OR_EQUAL_OP:case W.MINUS_OP:case W.PLUS_OP:case W.TIMES_OP:case W.DIV_OP:case W.POWER_OP:return dt(e.left,t,n,!0),void dt(e.right,t,n,!0);case W.PARENTHESIS:return void dt(e.expression,t,n,r);case W.FUNCTION_CALL:{const r=!t.doesFunctionNeedArgumentToBeComputed(e.procedureName);return void e.args.forEach((e=>dt(e,t,n,r)))}}},ft=(e,t)=>{const n=new Array;return dt(e,t,n,!0),n};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class pt{constructor(e){this.dependency=e}absolutize(e){return this.dependency.toSimpleCellAddress(e)}}class mt{constructor(e,t){this.start=e,this.end=t}absolutize(e){return new Sr(this.start.toSimpleCellAddress(e),this.end.toSimpleCellAddress(e))}}class gt{constructor(e,t){this.start=e,this.end=t}absolutize(e){const t=this.start.toSimpleColumnAddress(e),n=this.end.toSimpleColumnAddress(e);return new Tr(t.sheet,t.col,n.col)}}class vt{constructor(e,t){this.start=e,this.end=t}absolutize(e){const t=this.start.toSimpleRowAddress(e),n=this.end.toSimpleRowAddress(e);return new Mr(t.sheet,t.row,n.row)}}class yt{constructor(e){this.name=e}absolutize(e){return this}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const bt=(e,t)=>e.map((e=>e.absolutize(t))),wt=e=>e.filter((e=>e instanceof yt||(e instanceof Sr?!(pr(e.start)||pr(e.end)):!pr(e)))),_t=Symbol("Empty value");function Et(e){return e instanceof St?e.val:e}class St{constructor(e,t){this.val=e,this.format=t}fromNumber(e){return new this.constructor(e)}}function Tt(e,t){if("number"===typeof e)return t;{const n=e.fromNumber(t);return n.format=e.format,n}}class Mt extends St{getDetailedType(){return Lt.NUMBER_DATE}}class Ct extends St{getDetailedType(){return Lt.NUMBER_CURRENCY}}class Rt extends St{getDetailedType(){return Lt.NUMBER_TIME}}class xt extends St{getDetailedType(){return Lt.NUMBER_DATETIME}}class At extends St{getDetailedType(){return Lt.NUMBER_PERCENT}}function Nt(e){return"number"===typeof e||e instanceof St}var Lt,kt;function Ot(e){return e instanceof St?e.getDetailedType():Lt.NUMBER_RAW}function It(e){return e instanceof St?e.format:void 0}function Pt(e){return e instanceof St?{type:e.getDetailedType(),format:e.format}:{type:Lt.NUMBER_RAW}}(function(e){e["NUMBER_RAW"]="NUMBER_RAW",e["NUMBER_DATE"]="NUMBER_DATE",e["NUMBER_TIME"]="NUMBER_TIME",e["NUMBER_DATETIME"]="NUMBER_DATETIME",e["NUMBER_CURRENCY"]="NUMBER_CURRENCY",e["NUMBER_PERCENT"]="NUMBER_PERCENT"})(Lt||(Lt={}));
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Dt{constructor(e,t,n,r){this._data=e,this.range=t,this.dependencyGraph=n,this._hasOnlyNumbers=r,this.size=void 0===e?new ei(t.effectiveWidth(n),t.effectiveHeight(n)):new ei(e[0].length,e.length)}get data(){return this.ensureThatComputed(),this._data}static fromRange(e,t,n){return new Dt(e,t,n,!0)}static onlyNumbers(e){return new Dt(e,void 0,void 0,!0)}static onlyValues(e){return new Dt(e,void 0,void 0,void 0)}static onlyRange(e,t){return new Dt(void 0,e,t,void 0)}static fromScalar(e){return new Dt([[e]],void 0,void 0,void 0)}isAdHoc(){return void 0===this.range}width(){return this.size.width}height(){return this.size.height}valuesFromTopLeftCorner(){this.ensureThatComputed();const e=[];for(let t=0;t<this._data.length;t++)for(let n=0;n<this._data[0].length;n++)e.push(this._data[t][n]);return e}*effectiveAddressesFromData(e){for(let t=0;t<this.data.length;++t){const n=this.data[t];for(let r=0;r<n.length;++r)yield fr(e.sheet,e.col+r,e.row+t)}}*entriesFromTopLeftCorner(e){this.ensureThatComputed();for(let t=0;t<this.size.height;++t)for(let n=0;n<this.size.width;++n)yield[this._data[t][n],fr(e.sheet,e.col+n,e.row+t)]}*iterateValuesFromTopLeftCorner(){yield*this.valuesFromTopLeftCorner()}numberOfElements(){return this.size.width*this.size.height}hasOnlyNumbers(){if(void 0===this._hasOnlyNumbers){this._hasOnlyNumbers=!0;for(const e of this.data)for(const t of e)if("number"!==typeof t)return this._hasOnlyNumbers=!1,!1}return this._hasOnlyNumbers}rawNumbers(){return this._data}rawData(){var e;return this.ensureThatComputed(),null!==(e=this._data)&&void 0!==e?e:[]}sameDimensionsAs(e){return this.width()===e.width()&&this.height()===e.height()}ensureThatComputed(){void 0===this._data&&(this._hasOnlyNumbers=!0,this._data=this.range.addressesArrayMap(this.dependencyGraph,(e=>{const t=this.dependencyGraph.getCellValue(e);return t instanceof Dt?(this._hasOnlyNumbers=!1,new lr(Yn.VALUE,Re.ScalarExpected)):(Nt(t)||(this._hasOnlyNumbers=!1),t)})))}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ft{constructor(){this.changes=new Map}static empty(){return new Ft}addAll(e){for(const t of e.changes.values())this.add(t.address,t);return this}addChange(e,t,n){this.addInterpreterValue(e,t,n)}exportChanges(e){let t=[];return this.changes.forEach((n=>{const r=e.exportChange(n);Array.isArray(r)?t=t.concat(r):t.push(r)})),t}getChanges(){return Array.from(this.changes.values())}isEmpty(){return 0===this.changes.size}add(e,t){const n=t.value;if(n instanceof Dt)for(const r of n.effectiveAddressesFromData(e))this.changes.delete(gr(r));this.changes.set(gr(e),t)}addInterpreterValue(e,t,n){this.add(t,{address:t,value:e,oldValue:n})}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ht{constructor(e,t,n){if(this.sheet=e,this.rowStart=t,this.rowEnd=n,t<0)throw Error("Starting row cant be less than 0");if(n<t)throw Error("Row span cant end before start")}get numberOfRows(){return this.rowEnd-this.rowStart+1}get start(){return this.rowStart}get end(){return this.rowEnd}static fromNumberOfRows(e,t,n){return new Ht(e,t,t+n-1)}static fromRowStartAndEnd(e,t,n){return new Ht(e,t,n)}*rows(){for(let e=this.rowStart;e<=this.rowEnd;++e)yield e}intersect(e){if(this.sheet!==e.sheet)throw Error("Can't intersect spans from different sheets");const t=Math.max(this.rowStart,e.rowStart),n=Math.min(this.rowEnd,e.rowEnd);return t>n?null:new Ht(this.sheet,t,n)}firstRow(){return new Ht(this.sheet,this.rowStart,this.rowStart)}}class Ut{constructor(e,t,n){if(this.sheet=e,this.columnStart=t,this.columnEnd=n,t<0)throw Error("Starting column cant be less than 0");if(n<t)throw Error("Column span cant end before start")}get numberOfColumns(){return this.columnEnd-this.columnStart+1}get start(){return this.columnStart}get end(){return this.columnEnd}static fromNumberOfColumns(e,t,n){return new Ut(e,t,t+n-1)}static fromColumnStartAndEnd(e,t,n){return new Ut(e,t,n)}*columns(){for(let e=this.columnStart;e<=this.columnEnd;++e)yield e}intersect(e){if(this.sheet!==e.sheet)throw Error("Can't intersect spans from different sheets");const t=Math.max(this.columnStart,e.columnStart),n=Math.min(this.columnEnd,e.columnEnd);return t>n?null:new Ut(this.sheet,t,n)}firstColumn(){return new Ut(this.sheet,this.columnStart,this.columnStart)}}(function(e){e["BUILD_ENGINE_TOTAL"]="BUILD_ENGINE_TOTAL",e["PARSER"]="PARSER",e["GRAPH_BUILD"]="GRAPH_BUILD",e["COLLECT_DEPENDENCIES"]="COLLECT_DEPENDENCIES",e["PROCESS_DEPENDENCIES"]="PROCESS_DEPENDENCIES",e["TOP_SORT"]="TOP_SORT",e["BUILD_COLUMN_INDEX"]="BUILD_COLUMN_INDEX",e["EVALUATION"]="EVALUATION",e["VLOOKUP"]="VLOOKUP",e["TRANSFORM_ASTS"]="TRANSFORM_ASTS",e["TRANSFORM_ASTS_POSTPONED"]="TRANSFORM_ASTS_POSTPONED",e["ADJUSTING_ADDRESS_MAPPING"]="ADJUSTING_ADDRESS_MAPPING",e["ADJUSTING_ARRAY_MAPPING"]="ADJUSTING_ARRAY_MAPPING",e["ADJUSTING_RANGES"]="ADJUSTING_RANGES",e["ADJUSTING_GRAPH"]="ADJUSTING_GRAPH",e["CRITERION_FUNCTION_FULL_CACHE_USED"]="CRITERION_FUNCTION_FULL_CACHE_USED",e["CRITERION_FUNCTION_PARTIAL_CACHE_USED"]="CRITERION_FUNCTION_PARTIAL_CACHE_USED"})(kt||(kt={}));
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Bt{constructor(){this.stats=new Map([[kt.CRITERION_FUNCTION_FULL_CACHE_USED,0],[kt.CRITERION_FUNCTION_PARTIAL_CACHE_USED,0]]),this.startTimes=new Map}incrementCriterionFunctionFullCacheUsed(){var e;const t=(null!==(e=this.stats.get(kt.CRITERION_FUNCTION_FULL_CACHE_USED))&&void 0!==e?e:0)+1;this.stats.set(kt.CRITERION_FUNCTION_FULL_CACHE_USED,t)}incrementCriterionFunctionPartialCacheUsed(){var e;const t=(null!==(e=this.stats.get(kt.CRITERION_FUNCTION_PARTIAL_CACHE_USED))&&void 0!==e?e:0)+1;this.stats.set(kt.CRITERION_FUNCTION_PARTIAL_CACHE_USED,t)}reset(){this.stats.clear(),this.startTimes.clear(),this.stats.set(kt.CRITERION_FUNCTION_FULL_CACHE_USED,0),this.stats.set(kt.CRITERION_FUNCTION_PARTIAL_CACHE_USED,0)}start(e){if(this.startTimes.get(e))throw Error(`Statistics ${e} already started`);this.startTimes.set(e,Date.now())}end(e){var t;const n=Date.now(),r=this.startTimes.get(e);if(!r)throw Error(`Statistics ${e} not started`);{let i=null!==(t=this.stats.get(e))&&void 0!==t?t:0;i+=n-r,this.stats.set(e,i),this.startTimes.delete(e)}}measure(e,t){this.start(e);const n=t();return this.end(e),n}snapshot(){return new Map(this.stats)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class jt extends Bt{incrementCriterionFunctionFullCacheUsed(){}incrementCriterionFunctionPartialCacheUsed(){}start(e){}end(e){}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Yt extends Error{constructor(e){super(`There's no sheet with id = ${e}`)}}class Vt extends Error{constructor(e){super(`There's no sheet with name '${e}'`)}}class Wt extends Error{constructor(e){super(`Sheet with name ${e} already exists`)}}class zt extends Error{constructor(){super("Sheet size limit exceeded")}}class Gt extends Error{constructor(){super("This is not a formula")}}class $t extends Error{constructor(e){super(`Address (row = ${e.row}, col = ${e.col}) is invalid`)}}class qt extends Error{constructor(e){super(`Invalid arguments, expected ${e}`)}}class Kt extends Error{constructor(e,t){super(`Sheets ${e} and ${t} are not equal.`)}}class Xt extends Error{constructor(e){super(`Name of Named Expression '${e}' is already present`)}}class Jt extends Error{constructor(e){super(`Name of Named Expression '${e}' is invalid`)}}class Qt extends Error{constructor(e){super(`Named Expression '${e}' does not exist`)}}class Zt extends Error{constructor(){super("There is no operation to undo")}}class en extends Error{constructor(){super("There is no operation to redo")}}class tn extends Error{constructor(){super("There is nothing to paste")}}function nn(e,t){switch(typeof t){case"function":case"symbol":return t.toString();case"bigint":return"BigInt("+t.toString()+")";default:return t instanceof RegExp?"RegExp("+t.toString()+")":t}}class rn extends Error{constructor(e){super(`Unable to parse value: ${JSON.stringify(e,nn,4)}`)}}class on extends Error{constructor(e,t){super(`Expected value of type: ${e} for config parameter: ${t}`)}}class sn extends Error{constructor(e){super(`Config parameter ${e} cannot be empty.`)}}class an extends Error{constructor(e,t){super(`Config parameter ${e} should be at least ${t}`)}}class ln extends Error{constructor(e,t){super(`Config parameter ${e} should be at most ${t}`)}}class un extends Error{constructor(e,t){super(`Expected one of ${e} for config parameter: ${t}`)}}class cn extends Error{constructor(){super("Computations are suspended")}}class hn extends Error{constructor(e){super(`Translation for ${e} is missing in the translation package you're using.`)}}class dn extends Error{constructor(e){super(`Cannot register translation for function with id: ${e}`)}}class fn extends Error{constructor(){super("Language not registered.")}}class pn extends Error{constructor(){super("Language already registered.")}}class mn extends Error{static functionNotDeclaredInPlugin(e,t){return new mn(`Function with id ${e} not declared in plugin ${t}`)}static functionMethodNotFound(e,t){return new mn(`Function method ${e} not found in plugin ${t}`)}}class gn extends Error{static cannotRegisterFunctionWithId(e){return new gn(`Cannot register function with id ${e}`)}static cannotUnregisterFunctionWithId(e){return new gn(`Cannot unregister function with id ${e}`)}static cannotUnregisterProtectedPlugin(){return new gn("Cannot unregister protected plugin")}}class vn extends Error{constructor(){super("Cannot perform this operation, source location has an array inside.")}}class yn extends Error{constructor(){super("Cannot perform this operation, target location has an array inside.")}}class bn extends Error{constructor(){super("Relative addresses not allowed in named expressions.")}}class wn extends Error{constructor(e,t){super(`Alias id ${e} in plugin ${t} already defined as a function or alias.`)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class _n{constructor(e){this.policy=e,this.mapping=new Map}getCell(e){const t=this.mapping.get(e.sheet);if(void 0===t)throw new Yt(e.sheet);return t.getCell(e)}fetchCell(e){const t=this.mapping.get(e.sheet);if(void 0===t)throw new Yt(e.sheet);const n=t.getCell(e);if(!n)throw Error("Vertex for address missing in AddressMapping");return n}strategyFor(e){const t=this.mapping.get(e);if(void 0===t)throw new Yt(e);return t}addSheet(e,t){if(this.mapping.has(e))throw Error("Sheet already added");this.mapping.set(e,t)}autoAddSheet(e,t){const{height:n,width:r,fill:i}=t,o=this.policy.call(i);this.addSheet(e,new o(r,n))}getCellValue(e){const t=this.getCell(e);return void 0===t?_t:t instanceof Rn?t.getArrayCellValue(e):t.getCellValue()}getRawValue(e){const t=this.getCell(e);return t instanceof Kn?t.getValues().rawValue:t instanceof Rn?t.getArrayCellRawValue(e):null}setCell(e,t){const n=this.mapping.get(e.sheet);if(!n)throw Error("Sheet not initialized");n.setCell(e,t)}moveCell(e,t){const n=this.mapping.get(e.sheet);if(!n)throw Error("Sheet not initialized.");if(e.sheet!==t.sheet)throw Error("Cannot move cells between sheets.");if(n.has(t))throw new Error("Cannot move cell. Destination already occupied.");const r=n.getCell(e);if(void 0===r)throw new Error("Cannot move cell. No cell with such address.");this.setCell(t,r),this.removeCell(e)}removeCell(e){const t=this.mapping.get(e.sheet);if(!t)throw Error("Sheet not initialized");t.removeCell(e)}has(e){const t=this.mapping.get(e.sheet);return void 0!==t&&t.has(e)}getHeight(e){const t=this.mapping.get(e);if(void 0===t)throw new Yt(e);return t.getHeight()}getWidth(e){const t=this.mapping.get(e);if(!t)throw new Yt(e);return t.getWidth()}addRows(e,t,n){const r=this.mapping.get(e);if(void 0===r)throw new Yt(e);r.addRows(t,n)}removeRows(e){const t=this.mapping.get(e.sheet);if(void 0===t)throw new Yt(e.sheet);t.removeRows(e)}removeSheet(e){this.mapping.delete(e)}addColumns(e,t,n){const r=this.mapping.get(e);if(void 0===r)throw new Yt(e);r.addColumns(t,n)}removeColumns(e){const t=this.mapping.get(e.sheet);if(void 0===t)throw new Yt(e.sheet);t.removeColumns(e)}*verticesFromRowsSpan(e){yield*this.mapping.get(e.sheet).verticesFromRowsSpan(e)}*verticesFromColumnsSpan(e){yield*this.mapping.get(e.sheet).verticesFromColumnsSpan(e)}*entriesFromRowsSpan(e){yield*this.mapping.get(e.sheet).entriesFromRowsSpan(e)}*entriesFromColumnsSpan(e){yield*this.mapping.get(e.sheet).entriesFromColumnsSpan(e)}*entries(){for(const[e,t]of this.mapping.entries())yield*t.getEntries(e)}*sheetEntries(e){const t=this.mapping.get(e);if(void 0===t)throw new Yt(e);yield*t.getEntries(e)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class En{constructor(){this.arrayMapping=new Map}getArray(e){const t=this.getArrayByCorner(e.start);if(null===t||void 0===t?void 0:t.getRange().sameAs(e))return t}getArrayByCorner(e){return this.arrayMapping.get(gr(e))}setArray(e,t){this.arrayMapping.set(gr(e.start),t)}removeArray(e){"string"===typeof e?this.arrayMapping.delete(e):this.arrayMapping.delete(gr(e.start))}count(){return this.arrayMapping.size}*arraysInRows(e){for(const[t,n]of this.arrayMapping.entries())n.spansThroughSheetRows(e.sheet,e.rowStart,e.rowEnd)&&(yield[t,n])}*arraysInCols(e){for(const[t,n]of this.arrayMapping.entries())n.spansThroughSheetColumn(e.sheet,e.columnStart,e.columnEnd)&&(yield[t,n])}isFormulaArrayInRow(e,t){for(const n of this.arrayMapping.values())if(n.spansThroughSheetRows(e,t))return!0;return!1}isFormulaArrayInAllRows(e){let t=!0;for(const n of e.rows())this.isFormulaArrayInRow(e.sheet,n)||(t=!1);return t}isFormulaArrayInColumn(e,t){for(const n of this.arrayMapping.values())if(n.spansThroughSheetColumn(e,t))return!0;return!1}isFormulaArrayInAllColumns(e){let t=!0;for(const n of e.columns())this.isFormulaArrayInColumn(e.sheet,n)||(t=!1);return t}isFormulaArrayInRange(e){for(const t of this.arrayMapping.values())if(t.getRange().doesOverlap(e))return!0;return!1}isFormulaArrayAtAddress(e){for(const t of this.arrayMapping.values())if(t.getRange().addressInRange(e))return!0;return!1}moveArrayVerticesAfterRowByRows(e,t,n){this.updateArrayVerticesInSheet(e,((e,r)=>{const i=r.getRange();return t<=i.start.row?[i.shifted(0,n),r]:void 0}))}moveArrayVerticesAfterColumnByColumns(e,t,n){this.updateArrayVerticesInSheet(e,((e,r)=>{const i=r.getRange();return t<=i.start.col?[i.shifted(n,0),r]:void 0}))}updateArrayVerticesInSheet(e,t){const n=Array();for(const[r,i]of this.arrayMapping.entries()){if(i.sheet!==e)continue;const o=t(r,i);void 0!==o&&(this.removeArray(r),n.push(o))}n.forEach((([e,t])=>{this.setArray(e,t)}))}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Sn{constructor(e){this.size=e}width(){return this.size.width}height(){return this.size.height}get(e,t){throw Error("Array not computed yet.")}simpleRangeValue(){throw Error("Array not computed yet.")}}class Tn{constructor(e){if(this.size=new ei(e.length>0?e[0].length:0,e.length),this.array=e,this.size.width<=0||this.size.height<=0)throw Error("Incorrect array size")}static fromInterpreterValue(e){return new Tn(e instanceof Dt?e.data:[[e]])}simpleRangeValue(){return Dt.onlyValues(this.array)}addRows(e,t){this.array.splice(e,0,...this.nullArrays(t,this.width())),this.size.height+=t}addColumns(e,t){for(let n=0;n<this.height();n++)this.array[n].splice(e,0,...new Array(t).fill(_t));this.size.width+=t}removeRows(e,t){if(this.outOfBound(0,e)||this.outOfBound(0,t))throw Error("Array index out of bound");const n=t-e+1;this.array.splice(e,n),this.size.height-=n}removeColumns(e,t){if(this.outOfBound(e,0)||this.outOfBound(t,0))throw Error("Array index out of bound");const n=t-e+1;for(const r of this.array)r.splice(e,n);this.size.width-=n}nullArrays(e,t){const n=[];for(let r=0;r<e;++r)n.push(new Array(t).fill(_t));return n}get(e,t){if(this.outOfBound(e,t))throw Error("Array index out of bound");return this.array[t][e]}set(e,t,n){if(this.outOfBound(e,t))throw Error("Array index out of bound");this.array[t][e]=n}width(){return this.size.width}height(){return this.size.height}raw(){return this.array}resize(e){if(this.height()<e.height&&isFinite(e.height)&&this.addRows(this.height(),e.height-this.height()),this.height()>e.height)throw Error("Resizing to smaller array");if(this.width()<e.width&&isFinite(e.width)&&this.addColumns(this.width(),e.width-this.width()),this.width()>e.width)throw Error("Resizing to smaller array")}outOfBound(e,t){return e<0||t<0||t>this.size.height-1||e>this.size.width-1}}class Mn{constructor(e,t){this.error=e,this.size=t}get(e,t){return this.error}width(){return this.size.width}height(){return this.size.height}simpleRangeValue(){return this.error}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Cn{constructor(e,t,n){this.formula=e,this.cellAddress=t,this.version=n}get width(){return 1}get height(){return 1}static fromAst(e,t,n,r){return n.isScalar()?new xn(e,t,r):new Rn(e,t,n,r)}getFormula(e){return this.ensureRecentData(e),this.formula}ensureRecentData(e){if(this.version!=e.version()){const[t,n,r]=e.applyTransformations(this.formula,this.cellAddress,this.version);this.formula=t,this.cellAddress=n,this.version=r}}getAddress(e){return this.ensureRecentData(e),this.cellAddress}}class Rn extends Cn{constructor(e,t,n,r=0){super(e,t,r),n.isRef?this.array=new Mn(new lr(Yn.REF,Re.NoSpaceForArrayResult),ei.error()):this.array=new Sn(n)}get width(){return this.array.width()}get height(){return this.array.height()}get sheet(){return this.cellAddress.sheet}get leftCorner(){return this.cellAddress}setCellValue(e){if(e instanceof lr)return this.setErrorValue(e),e;const t=Tn.fromInterpreterValue(e);return t.resize(this.array.size),this.array=t,e}getCellValue(){if(this.array instanceof Sn)throw Error("Array not computed yet.");return this.array.simpleRangeValue()}valueOrUndef(){if(!(this.array instanceof Sn))return this.array.simpleRangeValue()}getArrayCellValue(e){const t=e.col-this.cellAddress.col,n=e.row-this.cellAddress.row;try{return this.array.get(t,n)}catch(r){return new lr(Yn.REF)}}getArrayCellRawValue(e){const t=this.getArrayCellValue(e);return t instanceof lr||t===_t?void 0:Et(t)}setArrayCellValue(e,t){const n=e.col-this.cellAddress.col,r=e.row-this.cellAddress.row;this.array instanceof Tn&&this.array.set(n,r,t)}setNoSpace(){return this.array=new Mn(new lr(Yn.SPILL,Re.NoSpaceForArrayResult),ei.error()),this.getCellValue()}getRange(){return Sr.spanFrom(this.cellAddress,this.width,this.height)}getRangeOrUndef(){return Sr.spanFromOrUndef(this.cellAddress,this.width,this.height)}setAddress(e){this.cellAddress=e}setFormula(e){this.formula=e}spansThroughSheetRows(e,t,n=t){return this.cellAddress.sheet===e&&this.cellAddress.row<=n&&t<this.cellAddress.row+this.height}spansThroughSheetColumn(e,t,n=t){return this.cellAddress.sheet===e&&this.cellAddress.col<=n&&t<this.cellAddress.col+this.width}isComputed(){return!(this.array instanceof Sn)}columnsFromArray(){return Ut.fromNumberOfColumns(this.cellAddress.sheet,this.cellAddress.col,this.width)}rowsFromArray(){return Ht.fromNumberOfRows(this.cellAddress.sheet,this.cellAddress.row,this.height)}ensureRecentData(e){}isLeftCorner(e){return br(this.cellAddress,e)}setErrorValue(e){this.array=new Mn(e,this.array.size)}}class xn extends Cn{constructor(e,t,n){super(e,t,n)}valueOrUndef(){return this.cachedCellValue}setCellValue(e){return this.cachedCellValue=e,this.cachedCellValue}getCellValue(){if(void 0!==this.cachedCellValue)return this.cachedCellValue;throw Error("Value of the formula cell is not computed.")}isComputed(){return void 0!==this.cachedCellValue}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class An{constructor(e){this.range=e,this.functionCache=new Map,this.criterionFunctionCache=new Map,this.dependentCacheRanges=new Set,this.bruteForce=!1}get start(){return this.range.start}get end(){return this.range.end}get sheet(){return this.range.start.sheet}getFunctionValue(e){return this.functionCache.get(e)}setFunctionValue(e,t){this.functionCache.set(e,t)}getCriterionFunctionValue(e,t){var n;return null===(n=this.getCriterionFunctionValues(e).get(t))||void 0===n?void 0:n[0]}getCriterionFunctionValues(e){var t;return null!==(t=this.criterionFunctionCache.get(e))&&void 0!==t?t:new Map}setCriterionFunctionValues(e,t){this.criterionFunctionCache.set(e,t)}addDependentCacheRange(e){e!==this&&this.dependentCacheRanges.add(e)}clearCache(){this.functionCache.clear(),this.criterionFunctionCache.clear(),this.dependentCacheRanges.forEach((e=>e.criterionFunctionCache.clear())),this.dependentCacheRanges.clear()}getStart(){return this.start}getEnd(){return this.end}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const Nn=(e,t,n,r,i)=>{if(t instanceof An){const e=t.range.intersectionWith(n);return void 0!==e?Array.from(e.addresses(i)):[]}let o,s;return t instanceof Cn?(o=t.getFormula(r),s=t.getAddress(r),ft(o,e).filter((e=>e instanceof pt)).map((e=>e.dependency.toSimpleCellAddress(s))).filter((e=>n.addressInRange(e)))):[]};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
var Ln;(function(e){e[e["ON_STACK"]=0]="ON_STACK",e[e["PROCESSED"]=1]="PROCESSED",e[e["POPPED"]=2]="POPPED"})(Ln||(Ln={}));class kn{constructor(e=[],t=[]){this.nodesSparseArray=e,this.edgesSparseArray=t,this.entranceTime=[],this.low=[],this.parent=[],this.inSCC=[],this.nodeStatus=[],this.order=[],this.sccNonSingletons=[],this.timeCounter=0}getTopSortedWithSccSubgraphFrom(e,t,n){const r=e.reverse();return r.forEach((e=>this.runDFS(e))),this.postprocess(r,n,t)}getAdjacentNodeIds(e){return this.edgesSparseArray[e].filter((e=>void 0!==e&&this.nodesSparseArray[e]))}runDFS(e){if(void 0!==this.nodeStatus[e])return;this.nodeStatus[e]=Ln.ON_STACK;const t=[e],n=[];while(t.length>0){const e=t[t.length-1];switch(this.nodeStatus[e]){case Ln.ON_STACK:this.handleOnStack(e,n,t);break;case Ln.PROCESSED:this.handleProcessed(e,n,t);break;case Ln.POPPED:t.pop();break}}}handleOnStack(e,t,n){this.entranceTime[e]=this.timeCounter,this.low[e]=this.timeCounter,this.timeCounter++,t.push(e),this.getAdjacentNodeIds(e).forEach((t=>{void 0===this.entranceTime[t]&&(n.push(t),this.parent[t]=e,this.nodeStatus[t]=Ln.ON_STACK)})),this.nodeStatus[e]=Ln.PROCESSED}handleProcessed(e,t,n){let r=this.entranceTime[e];if(this.getAdjacentNodeIds(e).forEach((t=>{this.inSCC[t]||(r=this.parent[t]===e?Math.min(r,this.low[t]):Math.min(r,this.entranceTime[t]))})),this.low[e]=r,r===this.entranceTime[e]){const n=[];do{n.push(t[t.length-1]),t.pop()}while(n[n.length-1]!==e);n.forEach((e=>{this.inSCC[e]=!0})),this.order.push(...n),n.length>1&&n.forEach((e=>{this.sccNonSingletons[e]=!0}))}n.pop(),this.nodeStatus[e]=Ln.POPPED}postprocess(e,t,n){const r=[];e.forEach((e=>{r[e]=!0}));const i=[],o=[];return this.order.reverse(),this.order.forEach((e=>{const s=this.getAdjacentNodeIds(e);this.sccNonSingletons[e]||s.includes(e)?(o.push(this.nodesSparseArray[e]),t(this.nodesSparseArray[e]),s.forEach((e=>r[e]=!0))):(i.push(this.nodesSparseArray[e]),r[e]&&n(this.nodesSparseArray[e])&&s.forEach((e=>r[e]=!0)))})),{sorted:i,cycled:o}}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class On{constructor(e,t){this.rawValue=e,this.processFn=t,this.processedValue=null}getProcessedValue(){return null===this.processedValue&&(this.processedValue=this.processFn(this.rawValue)),this.processedValue}markAsModified(){this.processedValue=null}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class In{constructor(e){this.dependencyQuery=e,this.nodesSparseArray=[],this.edgesSparseArray=[],this.nodesIds=new Map,this.dirtyAndVolatileNodeIds=new On({dirty:[],volatile:[]},(e=>this.processDirtyAndVolatileNodeIds(e))),this.infiniteRangeIds=new Set,this.changingWithStructureNodeIds=[],this.nextId=0}getNodes(){return this.nodesSparseArray.filter((e=>void 0!==e))}hasNode(e){return this.nodesIds.has(e)}existsEdge(e,t){const n=this.getNodeId(e),r=this.getNodeId(t);return void 0!==n&&void 0!==r&&this.edgesSparseArray[n].includes(r)}adjacentNodes(e){const t=this.getNodeId(e);if(void 0===t)throw this.missingNodeError(e);return new Set(this.edgesSparseArray[t].filter((e=>void 0!==e)).map((e=>this.nodesSparseArray[e])))}adjacentNodesCount(e){const t=this.getNodeId(e);if(void 0===t)throw this.missingNodeError(e);return this.fixEdgesArrayForNode(t).length}addNodeAndReturnId(e){const t=this.nodesIds.get(e);if(void 0!==t)return t;const n=this.nextId;return this.nextId++,this.nodesSparseArray[n]=e,this.edgesSparseArray[n]=[],this.nodesIds.set(e,n),n}addEdge(e,t){const n=this.getNodeIdIfNotNumber(e),r=this.getNodeIdIfNotNumber(t);if(void 0===n)throw this.missingNodeError(e);if(void 0===r)throw this.missingNodeError(t);this.edgesSparseArray[n].includes(r)||this.edgesSparseArray[n].push(r)}removeNode(e){const t=this.getNodeId(e);if(void 0===t)throw this.missingNodeError(e);this.edgesSparseArray[t].length>0&&(this.edgesSparseArray[t].forEach((e=>this.dirtyAndVolatileNodeIds.rawValue.dirty.push(e))),this.dirtyAndVolatileNodeIds.markAsModified());const n=this.removeDependencies(e);return delete this.nodesSparseArray[t],delete this.edgesSparseArray[t],this.infiniteRangeIds.delete(t),this.nodesIds.delete(e),n}removeEdge(e,t){const n=this.getNodeIdIfNotNumber(e),r=this.getNodeIdIfNotNumber(t);if(void 0===n)throw this.missingNodeError(e);if(void 0===r)throw this.missingNodeError(t);const i=this.edgesSparseArray[n].indexOf(r);if(-1===i)throw new Error("Edge does not exist");delete this.edgesSparseArray[n][i]}removeEdgeIfExists(e,t){const n=this.getNodeId(e),r=this.getNodeId(t);if(void 0===n)return;if(void 0===r)return;const i=this.edgesSparseArray[n].indexOf(r);-1!==i&&delete this.edgesSparseArray[n][i]}topSortWithScc(){return this.getTopSortedWithSccSubgraphFrom(this.getNodes(),(()=>!0),(()=>{}))}getTopSortedWithSccSubgraphFrom(e,t,n){const r=new kn(this.nodesSparseArray,this.edgesSparseArray),i=e.map((e=>this.getNodeId(e))).filter((e=>void 0!==e));return r.getTopSortedWithSccSubgraphFrom(i,t,n)}markNodeAsVolatile(e){const t=this.getNodeId(e);void 0!==t&&(this.dirtyAndVolatileNodeIds.rawValue.volatile.push(t),this.dirtyAndVolatileNodeIds.markAsModified())}markNodeAsDirty(e){const t=this.getNodeId(e);void 0!==t&&(this.dirtyAndVolatileNodeIds.rawValue.dirty.push(t),this.dirtyAndVolatileNodeIds.markAsModified())}getDirtyAndVolatileNodes(){return this.dirtyAndVolatileNodeIds.getProcessedValue()}clearDirtyNodes(){this.dirtyAndVolatileNodeIds.rawValue.dirty=[],this.dirtyAndVolatileNodeIds.markAsModified()}markNodeAsChangingWithStructure(e){const t=this.getNodeId(e);void 0!==t&&this.changingWithStructureNodeIds.push(t)}markChangingWithStructureNodesAsDirty(){this.changingWithStructureNodeIds.length<=0||(this.dirtyAndVolatileNodeIds.rawValue.dirty=[...this.dirtyAndVolatileNodeIds.rawValue.dirty,...this.changingWithStructureNodeIds],this.dirtyAndVolatileNodeIds.markAsModified())}markNodeAsInfiniteRange(e){const t=this.getNodeIdIfNotNumber(e);void 0!==t&&this.infiniteRangeIds.add(t)}getInfiniteRanges(){return[...this.infiniteRangeIds].map((e=>({node:this.nodesSparseArray[e],id:e})))}getNodeId(e){return this.nodesIds.get(e)}getNodeIdIfNotNumber(e){return"number"===typeof e?e:this.nodesIds.get(e)}fixEdgesArrayForNode(e){const t=this.edgesSparseArray[e];return this.edgesSparseArray[e]=t.filter((e=>void 0!==e&&this.nodesSparseArray[e])),this.edgesSparseArray[e]}removeDependencies(e){const t=this.dependencyQuery(e);return t.forEach((([t,n])=>{this.removeEdgeIfExists(n,e)})),t}processDirtyAndVolatileNodeIds({dirty:e,volatile:t}){return[...new Set([...e,...t])].map((e=>this.nodesSparseArray[e])).filter((e=>void 0!==e))}missingNodeError(e){return new Error(`Unknown node ${e}`)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Pn{constructor(){this.rangeMapping=new Map}getMappingSize(e){var t,n;return null!==(n=null===(t=this.rangeMapping.get(e))||void 0===t?void 0:t.size)&&void 0!==n?n:0}setRange(e){let t=this.rangeMapping.get(e.getStart().sheet);void 0===t&&(t=new Map,this.rangeMapping.set(e.getStart().sheet,t));const n=Dn(e.getStart(),e.getEnd());t.set(n,e)}removeRange(e){const t=e.getStart().sheet,n=this.rangeMapping.get(t);if(void 0===n)return;const r=Dn(e.getStart(),e.getEnd());n.delete(r),0===n.size&&this.rangeMapping.delete(t)}getRange(e,t){const n=this.rangeMapping.get(e.sheet),r=Dn(e,t);return null===n||void 0===n?void 0:n.get(r)}fetchRange(e,t){const n=this.getRange(e,t);if(!n)throw Error("Range does not exist");return n}truncateRanges(e,t){const n=Array(),r=Array(),i=Array(),o=e.sheet;for(const[a,l]of this.entriesFromSheet(e.sheet)){const s=l.range;e.start<=t(l.range.end)&&(s.removeSpan(e),s.shouldBeRemoved()?(this.removeByKey(o,a),n.push(l)):r.push([a,l]),i.push(l))}const s=[];r.sort(((e,n)=>Hn(e[1],n[1],t)));for(const[a,l]of r){const e=Fn(l.range);if(e===a)continue;const t=this.getByKey(o,e);this.removeByKey(o,a),void 0!==t&&l!=t?s.push([t,l]):this.setRange(l)}return{verticesToRemove:n,verticesToMerge:s,verticesWithChangedSize:i}}moveAllRangesInSheetAfterRowByRows(e,t,n){return this.updateVerticesFromSheet(e,((e,r)=>t<=r.start.row?(r.range.shiftByRows(n),{changedSize:!1,vertex:r}):t>r.start.row&&t<=r.end.row?(r.range.expandByRows(n),{changedSize:!0,vertex:r}):void 0))}moveAllRangesInSheetAfterColumnByColumns(e,t,n){return this.updateVerticesFromSheet(e,((e,r)=>t<=r.start.col?(r.range.shiftByColumns(n),{changedSize:!1,vertex:r}):t>r.start.col&&t<=r.end.col?(r.range.expandByColumns(n),{changedSize:!0,vertex:r}):void 0))}moveRangesInsideSourceRange(e,t,n,r){this.updateVerticesFromSheet(e.sheet,((i,o)=>e.containsRange(o.range)?(o.range.shiftByColumns(t),o.range.shiftByRows(n),o.range.moveToSheet(r),{changedSize:!1,vertex:o}):void 0))}removeRangesInSheet(e){if(this.rangeMapping.has(e)){const t=this.rangeMapping.get(e).values();return this.rangeMapping.delete(e),t}return[][Symbol.iterator]()}*rangesInSheet(e){const t=this.rangeMapping.get(e);t&&(yield*t.values())}*rangeVerticesContainedInRange(e){for(const t of this.rangesInSheet(e.sheet))e.containsRange(t.range)&&(yield t)}findSmallerRange(e){if(e.height()>1&&Number.isFinite(e.height())){const t=fr(e.end.sheet,e.end.col,e.end.row-1),n=this.getRange(e.start,t);if(void 0!==n){const t=Sr.fromSimpleCellAddresses(fr(e.start.sheet,e.start.col,e.end.row),e.end);return{smallerRangeVertex:n,restRange:t}}}return{restRange:e}}*entriesFromSheet(e){const t=this.rangeMapping.get(e);t&&(yield*t.entries())}removeByKey(e,t){this.rangeMapping.get(e).delete(t)}getByKey(e,t){var n;return null===(n=this.rangeMapping.get(e))||void 0===n?void 0:n.get(t)}updateVerticesFromSheet(e,t){const n=Array();for(const[r,i]of this.entriesFromSheet(e)){const o=t(r,i);void 0!==o&&(this.removeByKey(e,r),n.push(o))}return n.forEach((e=>{this.setRange(e.vertex)})),{verticesWithChangedSize:n.filter((e=>e.changedSize)).map((e=>e.vertex))}}}function Dn(e,t){return`${e.col},${e.row},${t.col},${t.row}`}function Fn(e){return Dn(e.start,e.end)}const Hn=(e,t,n)=>{const r=n(e.range.start),i=n(e.range.start);if(r===i){const r=n(e.range.end),i=n(t.range.end);return r-i}return r-i};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Un{constructor(e,t,n){this.functions=e,this.errors=t,this.ui=n,this._protectedTranslations={VERSION:"VERSION"},this.checkUI(),this.checkErrors(),this.checkFunctionTranslations(this.functions),Object.assign(this.functions,this._protectedTranslations)}extendFunctions(e){this.checkFunctionTranslations(e),Object.assign(this.functions,e)}buildFunctionMapping(){return Object.keys(this.functions).reduce(((e,t)=>(e[this.functions[t]]=t,e)),{})}buildErrorMapping(){return Object.keys(this.errors).reduce(((e,t)=>(e[this.errors[t]]=t,e)),{})}isFunctionTranslated(e){return void 0!==this.functions[e]}getFunctionTranslations(e){const t=[];for(const n of e)this.isFunctionTranslated(n)&&t.push(this.functions[n]);return t}getFunctionTranslation(e){const t=this.functions[e];if(void 0===t)throw new hn(`functions.${e}`);return t}getMaybeFunctionTranslation(e){return this.functions[e]}getErrorTranslation(e){if(e===Yn.LIC)return`#${Yn.LIC}!`;const t=this.errors[e];if(void 0===t)throw new hn(`errors.${e}`);return t}getUITranslation(e){const t=this.ui[e];if(void 0===t)throw new hn(`ui.${e}`);return t}checkUI(){for(const e of Object.values(jn))if(!(e in this.ui))throw new hn(`ui.${e}`)}checkErrors(){for(const e of Object.values(Yn))if(!(e in this.errors)&&e!==Yn.LIC)throw new hn(`errors.${e}`)}checkFunctionTranslations(e){const t=new Set(Object.getOwnPropertyNames(e));for(const n of Object.getOwnPropertyNames(this._protectedTranslations))if(t.has(n))throw new dn(n)}}function Bn(e){return new Un(Object.assign({},e.functions),Object.assign({},e.errors),Object.assign({},e.ui))}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
var jn,Yn,Vn;
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function Wn(e){return e.toLowerCase()}(function(e){e["NEW_SHEET_PREFIX"]="NEW_SHEET_PREFIX"})(jn||(jn={}));class zn{constructor(e,t){this.id=e,this.displayName=t}get canonicalName(){return Wn(this.displayName)}}class Gn{constructor(e){this.languages=e,this.mappingFromCanonicalName=new Map,this.mappingFromId=new Map,this.lastSheetId=-1,this.fetch=e=>{const t=this.mappingFromCanonicalName.get(Wn(e));if(void 0===t)throw new Vt(e);return t.id},this.get=e=>{var t;return null===(t=this.mappingFromCanonicalName.get(Wn(e)))||void 0===t?void 0:t.id},this.fetchDisplayName=e=>this.fetchSheetById(e).displayName,this.sheetNamePrefix=e.getUITranslation(jn.NEW_SHEET_PREFIX)}addSheet(e=`${this.sheetNamePrefix}${this.lastSheetId+2}`){const t=Wn(e);if(this.mappingFromCanonicalName.has(t))throw new Wt(e);this.lastSheetId++;const n=new zn(this.lastSheetId,e);return this.store(n),n.id}removeSheet(e){const t=this.fetchSheetById(e);e==this.lastSheetId&&--this.lastSheetId,this.mappingFromCanonicalName.delete(t.canonicalName),this.mappingFromId.delete(t.id)}getDisplayName(e){var t;return null===(t=this.mappingFromId.get(e))||void 0===t?void 0:t.displayName}*displayNames(){for(const e of this.mappingFromCanonicalName.values())yield e.displayName}numberOfSheets(){return this.mappingFromCanonicalName.size}hasSheetWithId(e){return this.mappingFromId.has(e)}hasSheetWithName(e){return this.mappingFromCanonicalName.has(Wn(e))}renameSheet(e,t){const n=this.fetchSheetById(e),r=n.displayName;if(r===t)return;const i=this.mappingFromCanonicalName.get(Wn(t));if(void 0!==i&&i.id!==n.id)throw new Wt(t);const o=n.canonicalName;return this.mappingFromCanonicalName.delete(o),n.displayName=t,this.store(n),r}sheetNames(){return Array.from(this.mappingFromId.values()).map((e=>e.displayName))}store(e){this.mappingFromId.set(e.id,e),this.mappingFromCanonicalName.set(e.canonicalName,e)}fetchSheetById(e){const t=this.mappingFromId.get(e);if(void 0===t)throw new Yt(e);return t}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class $n{constructor(e,t,n,r,i,o,s,a){this.addressMapping=e,this.rangeMapping=t,this.sheetMapping=n,this.arrayMapping=r,this.stats=i,this.lazilyTransformingAstService=o,this.functionRegistry=s,this.namedExpressions=a,this.changes=Ft.empty(),this.dependencyQueryAddresses=e=>{if(e instanceof An)return this.rangeDependencyQuery(e).map((([e,t])=>e));{const t=this.formulaDependencyQuery(e);if(void 0!==t){const[e,n]=t;return n.map((t=>t instanceof yt?this.namedExpressions.namedExpressionOrPlaceholder(t.name,e.sheet).address:vr(t)?t:Er(t.start,t.end)))}return[]}},this.dependencyQueryVertices=e=>{if(e instanceof An)return this.rangeDependencyQuery(e);{const t=this.formulaDependencyQuery(e);if(void 0!==t){const[e,n]=t;return n.map((t=>{if(t instanceof Sr)return[t.start,this.rangeMapping.fetchRange(t.start,t.end)];if(t instanceof yt){const n=this.namedExpressions.namedExpressionOrPlaceholder(t.name,e.sheet);return[n.address,this.addressMapping.fetchCell(n.address)]}return[t,this.addressMapping.fetchCell(t)]}))}return[]}},this.rangeDependencyQuery=e=>{const t=[],{smallerRangeVertex:n,restRange:r}=this.rangeMapping.findSmallerRange(e.range);let i;void 0!==n&&this.graph.adjacentNodes(n).has(e)?(i=r,t.push([new Sr(n.start,n.end),n])):i=e.range;for(const o of i.addresses(this)){const e=this.addressMapping.getCell(o);void 0!==e&&t.push([o,e])}return t},this.formulaDependencyQuery=e=>{let t,n;if(!(e instanceof Cn))return;n=e.getAddress(this.lazilyTransformingAstService),t=e.getFormula(this.lazilyTransformingAstService);const r=ft(t,this.functionRegistry);return[n,bt(r,n)]},this.graph=new In(this.dependencyQueryVertices)}static buildEmpty(e,t,n,r,i){return new $n(new _n(t.chooseAddressMappingPolicy),new Pn,new Gn(t.translationPackage),new En,i,e,n,r)}setFormulaToCell(e,t,n,r,i,o){const s=Cn.fromAst(t,e,r,this.lazilyTransformingAstService.version());return this.exchangeOrAddFormulaVertex(s),this.processCellDependencies(n,s),this.graph.markNodeAsDirty(s),i&&this.markAsVolatile(s),o&&this.markAsDependentOnStructureChange(s),this.correctInfiniteRangesDependency(e),this.getAndClearContentChanges()}setParsingErrorToCell(e,t){const n=this.shrinkPossibleArrayAndGetCell(e);return this.exchangeOrAddGraphNode(n,t),this.addressMapping.setCell(e,t),this.graph.markNodeAsDirty(t),this.correctInfiniteRangesDependency(e),this.getAndClearContentChanges()}setValueToCell(e,t){const n=this.shrinkPossibleArrayAndGetCell(e);if(n instanceof Rn&&this.arrayMapping.removeArray(n.getRange()),n instanceof Kn){const e=n.getValues();e.rawValue!==t.rawValue&&(n.setValues(t),this.graph.markNodeAsDirty(n))}else{const r=new Kn(t.parsedValue,t.rawValue);this.exchangeOrAddGraphNode(n,r),this.addressMapping.setCell(e,r),this.graph.markNodeAsDirty(r)}return this.correctInfiniteRangesDependency(e),this.getAndClearContentChanges()}setCellEmpty(e){const t=this.shrinkPossibleArrayAndGetCell(e);if(void 0===t)return Ft.empty();if(this.graph.adjacentNodes(t).size>0){const n=new qn;this.exchangeGraphNode(t,n),0===this.graph.adjacentNodesCount(n)?(this.removeVertex(n),this.addressMapping.removeCell(e)):(this.graph.markNodeAsDirty(n),this.addressMapping.setCell(e,n))}else this.removeVertex(t),this.addressMapping.removeCell(e);return this.getAndClearContentChanges()}clearDirtyVertices(){this.graph.clearDirtyNodes()}verticesToRecompute(){return this.graph.getDirtyAndVolatileNodes()}processCellDependencies(e,t){const n=this.graph.getNodeId(t);e.forEach((e=>{if(e instanceof Sr){const t=e;let r=this.getRange(t.start,t.end);void 0===r&&(r=new An(t),this.rangeMapping.setRange(r)),this.graph.addNodeAndReturnId(r);const i=this.graph.getNodeId(r);t.isFinite()||this.graph.markNodeAsInfiniteRange(i);const{smallerRangeVertex:o,restRange:s}=this.rangeMapping.findSmallerRange(t);if(void 0!==o){if(this.graph.addEdge(o,i),r.bruteForce){r.bruteForce=!1;for(const e of t.addresses(this))this.graph.removeEdge(this.fetchCell(e),i)}}else r.bruteForce=!0;const a=this.arrayMapping.getArray(s);if(void 0!==a)this.graph.addEdge(a,i);else for(const e of s.addresses(this)){const{vertex:t,id:n}=this.fetchCellOrCreateEmpty(e);this.graph.addEdge(null!==n&&void 0!==n?n:t,i)}this.graph.addEdge(i,n),t.isFinite()&&this.correctInfiniteRangesDependenciesByRangeVertex(r)}else if(e instanceof yt){const r=t.getAddress(this.lazilyTransformingAstService).sheet,{vertex:i,id:o}=this.fetchNamedExpressionVertex(e.name,r);this.graph.addEdge(null!==o&&void 0!==o?o:i,n)}else{const{vertex:t,id:r}=this.fetchCellOrCreateEmpty(e);this.graph.addEdge(null!==r&&void 0!==r?r:t,n)}}))}fetchNamedExpressionVertex(e,t){const n=this.namedExpressions.namedExpressionOrPlaceholder(e,t);return this.fetchCellOrCreateEmpty(n.address)}exchangeNode(e,t){const n=this.fetchCellOrCreateEmpty(e).vertex,r=this.fetchCellOrCreateEmpty(t).vertex;this.addressMapping.removeCell(e),this.exchangeGraphNode(n,r)}fetchCellOrCreateEmpty(e){const t=this.addressMapping.getCell(e);if(void 0!==t)return{vertex:t,id:void 0};const n=new qn,r=this.graph.addNodeAndReturnId(n);return this.addressMapping.setCell(e,n),{vertex:n,id:r}}removeRows(e){this.stats.measure(kt.ADJUSTING_GRAPH,(()=>{for(const[t,n]of this.addressMapping.entriesFromRowsSpan(e)){for(const e of this.graph.adjacentNodes(n))this.graph.markNodeAsDirty(e);if(n instanceof Rn){if(!n.isLeftCorner(t))continue;this.shrinkArrayToCorner(n),this.arrayMapping.removeArray(n.getRange())}this.removeVertex(n)}})),this.stats.measure(kt.ADJUSTING_ADDRESS_MAPPING,(()=>{this.addressMapping.removeRows(e)}));const t=this.stats.measure(kt.ADJUSTING_RANGES,(()=>{const t=this.truncateRanges(e,(e=>e.row));return this.getArrayVerticesRelatedToRanges(t)}));return this.stats.measure(kt.ADJUSTING_ARRAY_MAPPING,(()=>{this.fixArraysAfterRemovingRows(e.sheet,e.rowStart,e.numberOfRows)})),this.addStructuralNodesToChangeSet(),{affectedArrays:t,contentChanges:this.getAndClearContentChanges()}}removeSheet(e){this.clearSheet(e);for(const[t,n]of this.addressMapping.sheetEntries(e)){for(const e of this.graph.adjacentNodes(n))this.graph.markNodeAsDirty(e);this.removeVertex(n),this.addressMapping.removeCell(t)}this.stats.measure(kt.ADJUSTING_RANGES,(()=>{const t=this.rangeMapping.removeRangesInSheet(e);for(const e of t)this.removeVertex(e);this.stats.measure(kt.ADJUSTING_ADDRESS_MAPPING,(()=>{this.addressMapping.removeSheet(e)}))}))}clearSheet(e){const t=new Set;for(const[n,r]of this.addressMapping.sheetEntries(e))r instanceof Rn?t.add(r):this.setCellEmpty(n);for(const n of t.values())this.setArrayEmpty(n);this.addStructuralNodesToChangeSet()}removeColumns(e){this.stats.measure(kt.ADJUSTING_GRAPH,(()=>{for(const[t,n]of this.addressMapping.entriesFromColumnsSpan(e)){for(const e of this.graph.adjacentNodes(n))this.graph.markNodeAsDirty(e);if(n instanceof Rn){if(!n.isLeftCorner(t))continue;this.shrinkArrayToCorner(n),this.arrayMapping.removeArray(n.getRange())}this.removeVertex(n)}})),this.stats.measure(kt.ADJUSTING_ADDRESS_MAPPING,(()=>{this.addressMapping.removeColumns(e)}));const t=this.stats.measure(kt.ADJUSTING_RANGES,(()=>{const t=this.truncateRanges(e,(e=>e.col));return this.getArrayVerticesRelatedToRanges(t)}));return this.stats.measure(kt.ADJUSTING_ARRAY_MAPPING,(()=>this.fixArraysAfterRemovingColumns(e.sheet,e.columnStart,e.numberOfColumns))),this.addStructuralNodesToChangeSet(),{affectedArrays:t,contentChanges:this.getAndClearContentChanges()}}addRows(e){this.stats.measure(kt.ADJUSTING_ADDRESS_MAPPING,(()=>{this.addressMapping.addRows(e.sheet,e.rowStart,e.numberOfRows)}));const t=this.stats.measure(kt.ADJUSTING_RANGES,(()=>{const t=this.rangeMapping.moveAllRangesInSheetAfterRowByRows(e.sheet,e.rowStart,e.numberOfRows);return this.fixRangesWhenAddingRows(e.sheet,e.rowStart,e.numberOfRows),this.getArrayVerticesRelatedToRanges(t.verticesWithChangedSize)}));this.stats.measure(kt.ADJUSTING_ARRAY_MAPPING,(()=>{this.fixArraysAfterAddingRow(e.sheet,e.rowStart,e.numberOfRows)}));for(const n of this.addressMapping.verticesFromRowsSpan(e))this.graph.markNodeAsDirty(n);return this.addStructuralNodesToChangeSet(),{affectedArrays:t}}addColumns(e){this.stats.measure(kt.ADJUSTING_ADDRESS_MAPPING,(()=>{this.addressMapping.addColumns(e.sheet,e.columnStart,e.numberOfColumns)}));const t=this.stats.measure(kt.ADJUSTING_RANGES,(()=>{const t=this.rangeMapping.moveAllRangesInSheetAfterColumnByColumns(e.sheet,e.columnStart,e.numberOfColumns);return this.fixRangesWhenAddingColumns(e.sheet,e.columnStart,e.numberOfColumns),this.getArrayVerticesRelatedToRanges(t.verticesWithChangedSize)}));this.stats.measure(kt.ADJUSTING_ARRAY_MAPPING,(()=>this.fixArraysAfterAddingColumn(e.sheet,e.columnStart,e.numberOfColumns)));for(const n of this.addressMapping.verticesFromColumnsSpan(e))this.graph.markNodeAsDirty(n);return this.addStructuralNodesToChangeSet(),{affectedArrays:t,contentChanges:this.getAndClearContentChanges()}}isThereSpaceForArray(e){const t=e.getRangeOrUndef();if(void 0===t)return!1;for(const n of t.addresses(this)){const t=this.addressMapping.getCell(n);if(void 0!==t&&!(t instanceof qn)&&t!==e)return!1}return!0}moveCells(e,t,n,r){for(const i of e.addressesWithDirection(t,n,this)){const o=fr(r,i.col+t,i.row+n);let s=this.addressMapping.getCell(i);const a=this.addressMapping.getCell(o);if(this.addressMapping.removeCell(i),void 0!==s){let t;this.graph.markNodeAsDirty(s),this.addressMapping.setCell(o,s);for(const n of this.graph.adjacentNodes(s))n instanceof An&&!e.containsRange(n.range)&&(t=null!==t&&void 0!==t?t:this.fetchCellOrCreateEmpty(i).vertex,this.graph.addEdge(t,n),this.graph.removeEdge(s,n));t&&(this.graph.markNodeAsDirty(t),this.addressMapping.setCell(i,t))}if(void 0!==a){void 0===s&&this.addressMapping.removeCell(o);for(const e of this.graph.adjacentNodes(a))s=null!==s&&void 0!==s?s:this.fetchCellOrCreateEmpty(o).vertex,this.graph.addEdge(s,e),this.graph.markNodeAsDirty(s);this.removeVertex(a)}}for(const i of this.rangeMapping.rangeVerticesContainedInRange(e))for(const t of this.graph.adjacentNodes(i))if(t instanceof An&&!e.containsRange(t.range)){this.graph.removeEdge(i,t);for(const e of i.range.addresses(this)){const{vertex:n,id:r}=this.fetchCellOrCreateEmpty(e);this.graph.addEdge(null!==r&&void 0!==r?r:n,t),this.addressMapping.setCell(e,n),this.graph.markNodeAsDirty(n)}}this.rangeMapping.moveRangesInsideSourceRange(e,t,n,r)}setArrayEmpty(e){const t=Sr.spanFrom(e.getAddress(this.lazilyTransformingAstService),e.width,e.height),n=this.graph.adjacentNodes(e);for(const r of t.addresses(this))this.addressMapping.removeCell(r);for(const r of n.values()){const t=Nn(this.functionRegistry,r,e.getRange(),this.lazilyTransformingAstService,this);for(const e of t){const{vertex:t,id:n}=this.fetchCellOrCreateEmpty(e);this.graph.addEdge(null!==n&&void 0!==n?n:t,r)}t.length>0&&this.graph.markNodeAsDirty(r)}this.removeVertex(e),this.arrayMapping.removeArray(e.getRange())}addVertex(e,t){this.graph.addNodeAndReturnId(t),this.addressMapping.setCell(e,t)}addArrayVertex(e,t){this.graph.addNodeAndReturnId(t),this.setAddressMappingForArrayVertex(t,e)}*arrayFormulaNodes(){for(const e of this.graph.getNodes())e instanceof Rn&&(yield e)}*entriesFromRowsSpan(e){yield*this.addressMapping.entriesFromRowsSpan(e)}*entriesFromColumnsSpan(e){yield*this.addressMapping.entriesFromColumnsSpan(e)}fetchCell(e){return this.addressMapping.fetchCell(e)}getCell(e){return this.addressMapping.getCell(e)}getCellValue(e){return this.addressMapping.getCellValue(e)}getRawValue(e){return this.addressMapping.getRawValue(e)}getScalarValue(e){const t=this.addressMapping.getCellValue(e);return t instanceof Dt?new lr(Yn.VALUE,Re.ScalarExpected):t}existsEdge(e,t){return this.graph.existsEdge(e,t)}getSheetId(e){return this.sheetMapping.fetch(e)}getSheetHeight(e){return this.addressMapping.getHeight(e)}getSheetWidth(e){return this.addressMapping.getWidth(e)}getArray(e){return this.arrayMapping.getArray(e)}getRange(e,t){return this.rangeMapping.getRange(e,t)}topSortWithScc(){return this.graph.topSortWithScc()}markAsVolatile(e){this.graph.markNodeAsVolatile(e)}markAsDependentOnStructureChange(e){this.graph.markNodeAsChangingWithStructure(e)}forceApplyPostponedTransformations(){for(const e of this.graph.getNodes())e instanceof xn&&e.ensureRecentData(this.lazilyTransformingAstService)}*rawValuesFromRange(e){for(const t of e.addresses(this)){const e=this.getScalarValue(t);e!==_t&&(yield[Et(e),t])}}computeListOfValuesInRange(e){const t=[];for(const n of e.addresses(this)){const e=this.getScalarValue(n);t.push(e)}return t}shrinkArrayToCorner(e){this.cleanAddressMappingUnderArray(e);for(const t of this.adjacentArrayVertices(e)){let n;n=t instanceof Cn?this.formulaDirectDependenciesToArray(t,e):this.rangeDirectDependenciesToArray(t,e);let r=!1;for(const[i,o]of n)e.isLeftCorner(i)&&(r=!0),this.graph.addEdge(o,t),this.graph.markNodeAsDirty(o);r||this.graph.removeEdge(e,t)}this.graph.markNodeAsDirty(e)}isArrayInternalCell(e){const t=this.getCell(e);return t instanceof Rn&&!t.isLeftCorner(e)}getAndClearContentChanges(){const e=this.changes;return this.changes=Ft.empty(),e}getAdjacentNodesAddresses(e){const t=this.graph.adjacentNodes(e),n=[];return t.forEach((e=>{const t=e;t instanceof An?n.push(Er(t.start,t.end)):n.push(t.getAddress(this.lazilyTransformingAstService))})),n}exchangeGraphNode(e,t){this.graph.addNodeAndReturnId(t);const n=this.graph.adjacentNodes(e);this.removeVertex(e),n.forEach((e=>{this.graph.hasNode(e)&&this.graph.addEdge(t,e)}))}setArray(e,t){this.arrayMapping.setArray(e,t)}correctInfiniteRangesDependency(e){const t=this.graph.getInfiniteRanges().filter((({node:t})=>t.range.addressInRange(e)));if(t.length<=0)return;const{vertex:n,id:r}=this.fetchCellOrCreateEmpty(e),i=null!==r&&void 0!==r?r:this.graph.getNodeId(n);t.forEach((({id:e})=>{this.graph.addEdge(i,e)}))}exchangeOrAddGraphNode(e,t){e?this.exchangeGraphNode(e,t):this.graph.addNodeAndReturnId(t)}getArrayVerticesRelatedToRanges(e){const t=new Set;return e.forEach((e=>{this.graph.hasNode(e)&&this.graph.adjacentNodes(e).forEach((e=>{e instanceof Rn&&t.add(e)}))})),t}correctInfiniteRangesDependenciesByRangeVertex(e){this.graph.getInfiniteRanges().forEach((({id:t,node:n})=>{const r=e.range.intersectionWith(n.range);void 0!==r&&r.addresses(this).forEach((e=>{const{vertex:n,id:r}=this.fetchCellOrCreateEmpty(e);this.graph.addEdge(null!==r&&void 0!==r?r:n,t)}))}))}cleanAddressMappingUnderArray(e){const t=e.getRange();for(const n of t.addresses(this)){const t=e.getArrayCellValue(n);this.getCell(n)===e?e.isLeftCorner(n)?this.changes.addChange(new lr(Yn.REF),n,t):(this.addressMapping.removeCell(n),this.changes.addChange(_t,n,t)):this.changes.addChange(_t,n,t)}}*formulaDirectDependenciesToArray(e,t){var n;const[,r]=null!==(n=this.formulaDependencyQuery(e))&&void 0!==n?n:[];if(void 0!==r)for(const i of r)if(!(i instanceof yt||i instanceof Sr)&&t.getRange().addressInRange(i)){const e=this.fetchCellOrCreateEmpty(i).vertex;yield[i,e]}}*rangeDirectDependenciesToArray(e,t){const{restRange:n}=this.rangeMapping.findSmallerRange(e.range);for(const r of n.addresses(this))if(t.getRange().addressInRange(r)){const e=this.fetchCellOrCreateEmpty(r).vertex;yield[r,e]}}*adjacentArrayVertices(e){const t=this.graph.adjacentNodes(e);for(const n of t)(n instanceof Cn||n instanceof An)&&(yield n)}addStructuralNodesToChangeSet(){this.graph.markChangingWithStructureNodesAsDirty()}fixRangesWhenAddingRows(e,t,n){const r=Array.from(this.rangeMapping.rangesInSheet(e));for(const i of r)if(i.range.includesRow(t+n))if(i.bruteForce){const e=i.range.rangeWithSameWidth(t,n);for(const t of e.addresses(this)){const{vertex:e,id:n}=this.fetchCellOrCreateEmpty(t);this.graph.addEdge(null!==n&&void 0!==n?n:e,i)}}else{let e=i,t=this.rangeMapping.findSmallerRange(e.range);if(void 0!==t.smallerRangeVertex)continue;while(void 0===t.smallerRangeVertex){const n=new An(Sr.spanFrom(e.range.start,e.range.width(),e.range.height()-1));this.rangeMapping.setRange(n),this.graph.addNodeAndReturnId(n);const r=new Sr(fr(e.range.start.sheet,e.range.start.col,e.range.end.row),e.range.end);this.addAllFromRange(r,e),this.graph.addEdge(n,e),e=n,t=this.rangeMapping.findSmallerRange(e.range)}this.graph.addEdge(t.smallerRangeVertex,e),this.addAllFromRange(t.restRange,e),this.graph.removeEdge(t.smallerRangeVertex,i)}}addAllFromRange(e,t){for(const n of e.addresses(this)){const{vertex:e,id:r}=this.fetchCellOrCreateEmpty(n);this.graph.addEdge(null!==r&&void 0!==r?r:e,t)}}fixRangesWhenAddingColumns(e,t,n){for(const r of this.rangeMapping.rangesInSheet(e))if(r.range.includesColumn(t+n)){let i;i=r.bruteForce?r.range.rangeWithSameHeight(t,n):Sr.spanFrom(fr(e,t,r.range.end.row),n,1);for(const e of i.addresses(this)){const{vertex:t,id:n}=this.fetchCellOrCreateEmpty(e);this.graph.addEdge(null!==n&&void 0!==n?n:t,r)}}}exchangeOrAddFormulaVertex(e){const t=e.getAddress(this.lazilyTransformingAstService),n=Sr.spanFrom(t,e.width,e.height),r=this.shrinkPossibleArrayAndGetCell(t);if(e instanceof Rn&&this.setArray(n,e),this.exchangeOrAddGraphNode(r,e),this.addressMapping.setCell(t,e),e instanceof Rn){if(!this.isThereSpaceForArray(e))return;for(const t of n.addresses(this)){if(e.isLeftCorner(t))continue;const n=this.getCell(t);this.exchangeOrAddGraphNode(n,e)}}for(const i of n.addresses(this))this.addressMapping.setCell(i,e)}setAddressMappingForArrayVertex(e,t){if(this.addressMapping.setCell(t,e),!(e instanceof Rn))return;const n=Sr.spanFromOrUndef(t,e.width,e.height);if(void 0!==n&&(this.setArray(n,e),this.isThereSpaceForArray(e)))for(const r of n.addresses(this))this.addressMapping.setCell(r,e)}truncateRanges(e,t){const{verticesToRemove:n,verticesToMerge:r,verticesWithChangedSize:i}=this.rangeMapping.truncateRanges(e,t);for(const[o,s]of r)this.mergeRangeVertices(o,s);for(const o of n)this.removeVertexAndCleanupDependencies(o);return i}fixArraysAfterAddingRow(e,t,n){if(this.arrayMapping.moveArrayVerticesAfterRowByRows(e,t,n),!(t<=0))for(const[,r]of this.arrayMapping.arraysInRows(Ht.fromRowStartAndEnd(e,t-1,t-1))){const i=r.getRange();for(let o=i.start.col;o<=i.end.col;++o)for(let s=t;s<=i.end.row;++s){const t=fr(e,o,s),i=fr(e,o,s+n),a=r.getArrayCellValue(t);this.addressMapping.moveCell(i,t),this.changes.addChange(_t,i,a)}}}fixArraysAfterRemovingRows(e,t,n){if(this.arrayMapping.moveArrayVerticesAfterRowByRows(e,t,-n),!(t<=0))for(const[,r]of this.arrayMapping.arraysInRows(Ht.fromRowStartAndEnd(e,t-1,t-1)))if(this.isThereSpaceForArray(r))for(const e of r.getRange().addresses(this))this.addressMapping.setCell(e,r);else this.setNoSpaceIfArray(r)}fixArraysAfterAddingColumn(e,t,n){if(this.arrayMapping.moveArrayVerticesAfterColumnByColumns(e,t,n),!(t<=0))for(const[,r]of this.arrayMapping.arraysInCols(Ut.fromColumnStartAndEnd(e,t-1,t-1))){const i=r.getRange();for(let o=i.start.row;o<=i.end.row;++o)for(let s=t;s<=i.end.col;++s){const t=fr(e,s,o),i=fr(e,s+n,o),a=r.getArrayCellValue(t);this.addressMapping.moveCell(i,t),this.changes.addChange(_t,i,a)}}}fixArraysAfterRemovingColumns(e,t,n){if(this.arrayMapping.moveArrayVerticesAfterColumnByColumns(e,t,-n),!(t<=0))for(const[,r]of this.arrayMapping.arraysInCols(Ut.fromColumnStartAndEnd(e,t-1,t-1)))if(this.isThereSpaceForArray(r))for(const e of r.getRange().addresses(this))this.addressMapping.setCell(e,r);else this.setNoSpaceIfArray(r)}shrinkPossibleArrayAndGetCell(e){const t=this.getCell(e);return t instanceof Rn?(this.setNoSpaceIfArray(t),this.getCell(e)):t}setNoSpaceIfArray(e){e instanceof Rn&&(this.shrinkArrayToCorner(e),e.setNoSpace())}removeVertex(e){this.removeVertexAndCleanupDependencies(e),e instanceof An&&this.rangeMapping.removeRange(e)}mergeRangeVertices(e,t){const n=this.graph.adjacentNodes(t);this.removeVertexAndCleanupDependencies(t),this.graph.removeEdgeIfExists(e,t),n.forEach((t=>{this.graph.hasNode(t)&&this.graph.addEdge(e,t)}))}removeVertexAndCleanupDependencies(e){const t=new Set(this.graph.removeNode(e));while(t.size>0){const e=t.values().next().value;t.delete(e);const[n,r]=e;this.graph.hasNode(r)&&0===this.graph.adjacentNodesCount(r)&&((r instanceof An||r instanceof qn)&&this.graph.removeNode(r).forEach((e=>t.add(e))),r instanceof An?this.rangeMapping.removeRange(r):r instanceof qn&&this.addressMapping.removeCell(n))}}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class qn{constructor(){}getCellValue(){return _t}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Kn{constructor(e,t){this.parsedValue=e,this.rawValue=t}getValues(){return{parsedValue:this.parsedValue,rawValue:this.rawValue}}setValues(e){this.parsedValue=e.parsedValue,this.rawValue=e.rawValue}getCellValue(){return this.parsedValue}setCellValue(e){throw Error("SetCellValue is deprecated for ValueCellVertex")}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Xn{constructor(e,t){this.errors=e,this.rawInput=t}getCellValue(){const e=this.errors.map((e=>e.message)).find((e=>e));return lr.parsingError(e)}getFormula(){return this.rawInput}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Jn{constructor(e,t){this.width=e,this.height=t,this.mapping=new Map}getCell(e){var t;return null===(t=this.mapping.get(e.col))||void 0===t?void 0:t.get(e.row)}setCell(e,t){this.width=Math.max(this.width,e.col+1),this.height=Math.max(this.height,e.row+1);let n=this.mapping.get(e.col);n||(n=new Map,this.mapping.set(e.col,n)),n.set(e.row,t)}has(e){var t;return!!(null===(t=this.mapping.get(e.col))||void 0===t?void 0:t.get(e.row))}getHeight(){return this.height}getWidth(){return this.width}removeCell(e){var t;null===(t=this.mapping.get(e.col))||void 0===t||t.delete(e.row)}addRows(e,t){this.mapping.forEach((n=>{const r=new Map;n.forEach(((i,o)=>{o>=e&&(r.set(o+t,i),n.delete(o))})),r.forEach(((e,t)=>{n.set(t,e)}))})),this.height+=t}addColumns(e,t){const n=new Map;this.mapping.forEach(((r,i)=>{i>=e&&(n.set(i+t,r),this.mapping.delete(i))})),n.forEach(((e,t)=>{this.mapping.set(t,e)})),this.width+=t}removeRows(e){this.mapping.forEach((t=>{const n=new Map;t.forEach(((r,i)=>{i>=e.rowStart&&(t.delete(i),i>e.rowEnd&&n.set(i-e.numberOfRows,r))})),n.forEach(((e,n)=>{t.set(n,e)}))}));const t=Math.min(this.height-1,e.rowEnd),n=Math.max(0,t-e.rowStart+1);this.height=Math.max(0,this.height-n)}removeColumns(e){const t=new Map;this.mapping.forEach(((n,r)=>{r>=e.columnStart&&(this.mapping.delete(r),r>e.columnEnd&&t.set(r-e.numberOfColumns,n))})),t.forEach(((e,t)=>{this.mapping.set(t,e)}));const n=Math.min(this.width-1,e.columnEnd),r=Math.max(0,n-e.columnStart+1);this.width=Math.max(0,this.width-r)}*getEntries(e){for(const[t,n]of this.mapping)for(const[r,i]of n)yield[fr(e,t,r),i]}*verticesFromColumn(e){const t=this.mapping.get(e);if(void 0!==t)for(const[n,r]of t)yield r}*verticesFromRow(e){for(const t of this.mapping.values()){const n=t.get(e);void 0!==n&&(yield n)}}*verticesFromColumnsSpan(e){for(const t of e.columns()){const e=this.mapping.get(t);if(void 0!==e)for(const[t,n]of e)yield n}}*verticesFromRowsSpan(e){for(const t of this.mapping.values())for(const n of e.rows()){const e=t.get(n);void 0!==e&&(yield e)}}*entriesFromRowsSpan(e){for(const[t,n]of this.mapping.entries())for(const r of e.rows()){const i=n.get(r);void 0!==i&&(yield[fr(e.sheet,t,r),i])}}*entriesFromColumnsSpan(e){for(const t of e.columns()){const n=this.mapping.get(t);if(void 0!==n)for(const[r,i]of n.entries())yield[fr(e.sheet,t,r),i]}}*vertices(){for(const[e,t]of this.mapping)for(const[n,r]of t)void 0!==r&&(yield r)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Qn{constructor(e,t){this.width=e,this.height=t,this.mapping=new Array(t);for(let n=0;n<t;n++)this.mapping[n]=new Array(e)}getCell(e){return this.getCellVertex(e.col,e.row)}setCell(e,t){this.width=Math.max(this.width,e.col+1),this.height=Math.max(this.height,e.row+1);const n=this.mapping[e.row];n||(this.mapping[e.row]=new Array(this.width)),this.mapping[e.row][e.col]=t}has(e){const t=this.mapping[e.row];return!!t&&!!t[e.col]}getHeight(){return this.height}getWidth(){return this.width}removeCell(e){void 0!==this.mapping[e.row]&&delete this.mapping[e.row][e.col]}addRows(e,t){const n=[];for(let r=0;r<t;r++)n.push(new Array(this.width));this.mapping.splice(e,0,...n),this.height+=t}addColumns(e,t){for(let n=0;n<this.height;n++)void 0!==this.mapping[n]&&this.mapping[n].splice(e,0,...new Array(t));this.width+=t}removeRows(e){this.mapping.splice(e.rowStart,e.numberOfRows);const t=Math.min(this.height-1,e.rowEnd),n=Math.max(0,t-e.rowStart+1);this.height=Math.max(0,this.height-n)}removeColumns(e){for(let r=0;r<this.height;r++)void 0!==this.mapping[r]&&this.mapping[r].splice(e.columnStart,e.numberOfColumns);const t=Math.min(this.width-1,e.columnEnd),n=Math.max(0,t-e.columnStart+1);this.width=Math.max(0,this.width-n)}*getEntries(e){for(let t=0;t<this.height;++t)for(let n=0;n<this.width;++n){const r=this.getCellVertex(n,t);r&&(yield[fr(e,n,t),r])}}*verticesFromColumn(e){for(let t=0;t<this.height;++t){const n=this.getCellVertex(e,t);n&&(yield n)}}*verticesFromRow(e){for(let t=0;t<this.width;++t){const n=this.getCellVertex(t,e);n&&(yield n)}}*verticesFromColumnsSpan(e){for(let t=e.columnStart;t<=e.columnEnd;++t)for(let e=0;e<this.height;++e){const n=this.getCellVertex(t,e);n&&(yield n)}}*verticesFromRowsSpan(e){for(let t=0;t<this.width;++t)for(let n=e.rowStart;n<=e.rowEnd;++n){const e=this.getCellVertex(t,n);e&&(yield e)}}*entriesFromRowsSpan(e){for(let t=0;t<this.width;++t)for(let n=e.rowStart;n<=e.rowEnd;++n){const r=this.getCellVertex(t,n);r&&(yield[fr(e.sheet,t,n),r])}}*entriesFromColumnsSpan(e){for(let t=e.columnStart;t<=e.columnEnd;++t)for(let n=0;n<this.height;++n){const r=this.getCellVertex(t,n);r&&(yield[fr(e.sheet,t,n),r])}}*vertices(){for(let e=0;e<this.height;++e)for(let t=0;t<this.width;++t){const n=this.getCellVertex(t,e);n&&(yield n)}}getCellVertex(e,t){var n;return null===(n=this.mapping[t])||void 0===n?void 0:n[e]}}(function(e){e["DIV_BY_ZERO"]="DIV_BY_ZERO",e["NAME"]="NAME",e["VALUE"]="VALUE",e["NUM"]="NUM",e["NA"]="NA",e["CYCLE"]="CYCLE",e["REF"]="REF",e["SPILL"]="SPILL",e["LIC"]="LIC",e["ERROR"]="ERROR"})(Yn||(Yn={})),function(e){e["FORMULA"]="FORMULA",e["VALUE"]="VALUE",e["ARRAY"]="ARRAY",e["EMPTY"]="EMPTY",e["ARRAYFORMULA"]="ARRAYFORMULA"}(Vn||(Vn={}));const Zn=(e,t)=>e instanceof Rn?e.isLeftCorner(t)?Vn.ARRAYFORMULA:Vn.ARRAY:e instanceof xn||e instanceof Xn?Vn.FORMULA:e instanceof Kn?Vn.VALUE:Vn.EMPTY;var er,tr;(function(e){e["EMPTY"]="EMPTY",e["NUMBER"]="NUMBER",e["STRING"]="STRING",e["BOOLEAN"]="BOOLEAN",e["ERROR"]="ERROR"})(er||(er={})),function(e){e["NUMBER"]="NUMBER"}(tr||(tr={}));const nr=Object.assign(Object.assign({},er),tr),rr=Object.assign(Object.assign({},er),Lt),ir=e=>{switch(e){case nr.EMPTY:return 0;case nr.NUMBER:return 1;case nr.STRING:return 2;case nr.BOOLEAN:return 3;case nr.ERROR:return 4}throw new Error("Cell value not computed")},or=e=>{if(e===_t)return nr.EMPTY;if(e instanceof lr||e instanceof Dt)return nr.ERROR;if("string"===typeof e)return nr.STRING;if(Nt(e))return nr.NUMBER;if("boolean"===typeof e)return nr.BOOLEAN;throw new Error("Cell value not computed")},sr=e=>Nt(e)?Ot(e):or(e),ar=e=>Nt(e)?It(e):void 0;class lr{constructor(e,t,n){this.type=e,this.message=t,this.root=n}static parsingError(e){return new lr(Yn.ERROR,`${Re.ParseError}${e?" "+e:""}`)}attachRootVertex(e){return void 0===this.root?new lr(this.type,this.message,e):this}}const ur=(e,t)=>({sheet:e,row:t}),cr=e=>e.row<0,hr=(e,t)=>({sheet:e,col:t}),dr=e=>e.col<0,fr=(e,t,n)=>({sheet:e,col:t,row:n}),pr=e=>e.col<0||e.row<0,mr=(e,t,n,r)=>fr(t,e.col+n,e.row+r),gr=e=>`${e.sheet},${e.row},${e.col}`;function vr(e){var t,n,r;return e&&("object"===typeof e||"function"===typeof e)&&"number"===typeof(null===(t=e)||void 0===t?void 0:t.sheet)&&"number"===typeof(null===(n=e)||void 0===n?void 0:n.col)&&"number"===typeof(null===(r=e)||void 0===r?void 0:r.row)}const yr=(e,t)=>{var n;return null!==(n=e.sheet)&&void 0!==n?n:t.sheet},br=(e,t)=>e.sheet===t.sheet&&e.col===t.col&&e.row===t.row,wr="AbsoluteCellRange: Wrong range size";function _r(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&("start"in e&&vr(e.start)&&"end"in e&&vr(e.end))}const Er=(e,t)=>({start:e,end:t});class Sr{constructor(e,t){if(e.sheet!==t.sheet)throw new Kt(e.sheet,t.sheet);this.start=fr(e.sheet,e.col,e.row),this.end=fr(t.sheet,t.col,t.row)}get sheet(){return this.start.sheet}static fromSimpleCellAddresses(e,t){if(e.sheet!==t.sheet)throw new Kt(e.sheet,t.sheet);const n=t.col-e.col,r=t.row-e.row;return Number.isFinite(r)&&Number.isFinite(n)?new Sr(e,t):Number.isFinite(r)?new Mr(e.sheet,e.row,t.row):new Tr(e.sheet,e.col,t.col)}static fromAst(e,t){return e.type===W.CELL_RANGE?Sr.fromCellRange(e,t):e.type===W.COLUMN_RANGE?Tr.fromColumnRange(e,t):Mr.fromRowRangeAst(e,t)}static fromAstOrUndef(e,t){try{return Sr.fromAst(e,t)}catch(n){return}}static fromCellRange(e,t){return new Sr(e.start.toSimpleCellAddress(t),e.end.toSimpleCellAddress(t))}static spanFrom(e,t,n){const r=Sr.spanFromOrUndef(e,t,n);if(void 0===r)throw new Error(wr);return r}static spanFromOrUndef(e,t,n){if(!Number.isFinite(t)&&Number.isFinite(n)){if(0!==e.col)return;return new Mr(e.sheet,e.row,e.row+n-1)}if(!Number.isFinite(n)&&Number.isFinite(t)){if(0!==e.row)return;return new Tr(e.sheet,e.col,e.col+t-1)}if(Number.isFinite(n)&&Number.isFinite(t))return new Sr(e,fr(e.sheet,e.col+t-1,e.row+n-1))}static fromCoordinates(e,t,n,r,i){return new Sr(fr(e,t,n),fr(e,r,i))}isFinite(){return Number.isFinite(this.size())}doesOverlap(e){return this.start.sheet==e.start.sheet&&(!(this.end.row<e.start.row||this.start.row>e.end.row)&&!(this.end.col<e.start.col||this.start.col>e.end.col))}addressInRange(e){return this.sheet===e.sheet&&(this.start.row<=e.row&&this.end.row>=e.row&&this.start.col<=e.col&&this.end.col>=e.col)}columnInRange(e){return this.sheet===e.sheet&&(this.start.col<=e.col&&this.end.col>=e.col)}rowInRange(e){return this.sheet===e.sheet&&(this.start.row<=e.row&&this.end.row>=e.row)}containsRange(e){return this.addressInRange(e.start)&&this.addressInRange(e.end)}intersectionWith(e){if(this.sheet!==e.start.sheet)return;const t=Math.max(this.start.row,e.start.row),n=Math.min(this.end.row,e.end.row),r=Math.max(this.start.col,e.start.col),i=Math.min(this.end.col,e.end.col);return t>n||r>i?void 0:new Sr(fr(this.sheet,r,t),fr(this.sheet,i,n))}includesRow(e){return this.start.row<e&&this.end.row>=e}includesColumn(e){return this.start.col<e&&this.end.col>=e}shiftByRows(e){this.start.row+=e,this.end.row+=e}expandByRows(e){this.end.row+=e}shiftByColumns(e){this.start.col+=e,this.end.col+=e}shifted(e,t){return Sr.spanFrom(fr(this.sheet,this.start.col+e,this.start.row+t),this.width(),this.height())}expandByColumns(e){this.end.col+=e}moveToSheet(e){this.start.sheet=e,this.end.sheet=e}removeSpan(e){e instanceof Ht?this.removeRows(e.start,e.end):this.removeColumns(e.start,e.end)}shouldBeRemoved(){return this.width()<=0||this.height()<=0}rangeWithSameWidth(e,t){return Sr.spanFrom(fr(this.sheet,this.start.col,e),this.width(),t)}rangeWithSameHeight(e,t){return Sr.spanFrom(fr(this.sheet,e,this.start.row),t,this.height())}toString(){return`${this.start.sheet},${this.start.col},${this.start.row},${this.end.col},${this.end.row}`}width(){return this.end.col-this.start.col+1}height(){return this.end.row-this.start.row+1}size(){return this.height()*this.width()}arrayOfAddressesInRange(){const e=[];for(let t=0;t<this.height();++t){e[t]=[];for(let n=0;n<this.width();++n){const r=fr(this.sheet,this.start.col+n,this.start.row+t);e[t].push(r)}}return e}withStart(e){return new Sr(e,this.end)}sameDimensionsAs(e){return this.width()===e.width()&&this.height()===e.height()}sameAs(e){return br(this.start,e.start)&&br(this.end,e.end)}addressesArrayMap(e,t){const n=[];let r=this.start.row;while(r<=this.effectiveEndRow(e)){let i=this.start.col;const o=[];while(i<=this.effectiveEndColumn(e))o.push(t(fr(this.start.sheet,i,r))),i++;n.push(o),r++}return n}addresses(e){const t=[];let n=this.start.row;const r=this.effectiveEndRow(e),i=this.effectiveEndColumn(e);while(n<=r){let e=this.start.col;while(e<=i)t.push(fr(this.start.sheet,e,n)),e++;n++}return t}*addressesWithDirection(e,t,n){if(e>0)if(t>0){let e=this.effectiveEndRow(n);while(e>=this.start.row){let t=this.effectiveEndColumn(n);while(t>=this.start.col)yield fr(this.start.sheet,t,e),t-=1;e-=1}}else{let e=this.start.row;while(e<=this.effectiveEndRow(n)){let t=this.effectiveEndColumn(n);while(t>=this.start.col)yield fr(this.start.sheet,t,e),t-=1;e+=1}}else if(t>0){let e=this.effectiveEndRow(n);while(e>=this.start.row){let t=this.start.col;while(t<=this.effectiveEndColumn(n))yield fr(this.start.sheet,t,e),t+=1;e-=1}}else{let e=this.start.row;while(e<=this.effectiveEndRow(n)){let t=this.start.col;while(t<=this.effectiveEndColumn(n))yield fr(this.start.sheet,t,e),t+=1;e+=1}}}getAddress(e,t){if(e<0||t<0||t>this.height()-1||e>this.width()-1)throw Error("Index out of bound");return fr(this.start.sheet,this.start.col+e,this.start.row+t)}exceedsSheetSizeLimits(e,t){return this.end.col>=e||this.end.row>=t}effectiveEndColumn(e){return this.end.col}effectiveEndRow(e){return this.end.row}effectiveWidth(e){return this.width()}effectiveHeight(e){return this.height()}removeRows(e,t){if(!(e>this.end.row)){if(t<this.start.row){const n=t-e+1;return this.shiftByRows(-n)}e<=this.start.row&&(this.start.row=e),this.end.row-=Math.min(t,this.end.row)-e+1}}removeColumns(e,t){if(!(e>this.end.col)){if(t<this.start.col){const n=t-e+1;return this.shiftByColumns(-n)}e<=this.start.col&&(this.start.col=e),this.end.col-=Math.min(t,this.end.col)-e+1}}}class Tr extends Sr{constructor(e,t,n){super(fr(e,t,0),fr(e,n,Number.POSITIVE_INFINITY))}static fromColumnRange(e,t){const n=e.start.toSimpleColumnAddress(t),r=e.end.toSimpleColumnAddress(t);if(n.sheet!==r.sheet)throw new Kt(n.sheet,r.sheet);return new Tr(n.sheet,n.col,r.col)}shouldBeRemoved(){return this.width()<=0}shiftByRows(e){}expandByRows(e){}shifted(e,t){return new Tr(this.sheet,this.start.col+e,this.end.col+e)}rangeWithSameHeight(e,t){return new Tr(this.sheet,e,e+t-1)}exceedsSheetSizeLimits(e,t){return this.end.col>=e}effectiveEndRow(e){return this.effectiveHeight(e)-1}effectiveHeight(e){return e.getSheetHeight(this.sheet)}removeRows(e,t){}}class Mr extends Sr{constructor(e,t,n){super(fr(e,0,t),fr(e,Number.POSITIVE_INFINITY,n))}static fromRowRangeAst(e,t){const n=e.start.toSimpleRowAddress(t),r=e.end.toSimpleRowAddress(t);if(n.sheet!==r.sheet)throw new Kt(n.sheet,r.sheet);return new Mr(n.sheet,n.row,r.row)}shouldBeRemoved(){return this.height()<=0}shiftByColumns(e){}expandByColumns(e){}shifted(e,t){return new Mr(this.sheet,this.start.row+t,this.end.row+t)}rangeWithSameWidth(e,t){return new Mr(this.sheet,e,e+t-1)}exceedsSheetSizeLimits(e,t){return this.end.row>=t}effectiveEndColumn(e){return this.effectiveWidth(e)-1}effectiveWidth(e){return e.getSheetWidth(this.sheet)}removeColumns(e,t){}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Cr{constructor(e,t,n){this.formulaAddress=e,this.arraysFlag=t,this.formulaVertex=n}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function Rr(e){const t=e.caseSensitive?e.accentSensitive?"variant":"case":e.accentSensitive?"accent":"base",n=e.caseFirst,r=e.ignorePunctuation;return new Intl.Collator(e.localeLang,{sensitivity:t,caseFirst:n,ignorePunctuation:r})}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const xr="i",Ar=/^\s*([+-]?)\s*(([\d\.,]+(e[+-]?\d+)?)\s*([ij]?)|([ij]))\s*(([+-])\s*([+-]?)\s*(([\d\.,]+(e[+-]?\d+)?)\s*([ij]?)|([ij])))?$/;class Nr{constructor(e,t,n){this.config=e,this.dateTimeHelper=t,this.numberLiteralsHelper=n,this.lt=(e,t)=>this.compare(e,t)<0,this.leq=(e,t)=>this.compare(e,t)<=0,this.gt=(e,t)=>this.compare(e,t)>0,this.geq=(e,t)=>this.compare(e,t)>=0,this.eq=(e,t)=>0===this.compare(e,t),this.neq=(e,t)=>0!==this.compare(e,t),this.pow=(e,t)=>Math.pow(Et(e),Et(t)),this.addWithEpsilonRaw=(e,t)=>{const n=e+t;return Math.abs(n)<this.actualEps*Math.abs(e)?0:n},this.addWithEpsilon=(e,t)=>{const n=$r(e,t);return this.ExtendedNumberFactory(this.addWithEpsilonRaw(Et(e),Et(t)),n)},this.unaryMinus=e=>Tt(e,-Et(e)),this.unaryPlus=e=>e,this.unaryPercent=e=>new At(Et(e)/100),this.concat=(e,t)=>e.concat(t),this.nonstrictadd=(e,t)=>e instanceof lr?e:t instanceof lr?t:"number"===typeof e?"number"===typeof t?this.addWithEpsilonRaw(e,t):e:"number"===typeof t?t:0,this.subtract=(e,t)=>{const n=$r(e,t),r=Et(e),i=Et(t);let o=r-i;return Math.abs(o)<this.actualEps*Math.abs(r)&&(o=0),this.ExtendedNumberFactory(o,n)},this.divide=(e,t)=>{const n=Et(e),r=Et(t);if(0===r)return new lr(Yn.DIV_BY_ZERO);{const i=qr(e,t);return this.ExtendedNumberFactory(n/r,i)}},this.multiply=(e,t)=>{const n=qr(e,t);return this.ExtendedNumberFactory(Et(e)*Et(t),n)},this.manyToExactComplex=e=>{const t=[];for(const n of e){if(n instanceof lr)return n;if(Nt(n)||"string"===typeof n){const e=this.coerceScalarToComplex(n);e instanceof lr||t.push(e)}}return t},this.coerceNumbersExactRanges=e=>this.manyToNumbers(e,this.manyToExactNumbers),this.coerceNumbersCoerceRangesDropNulls=e=>this.manyToNumbers(e,this.manyToCoercedNumbersDropNulls),this.manyToExactNumbers=e=>{const t=[];for(const n of e){if(n instanceof lr)return n;Nt(n)&&t.push(Et(n))}return t},this.manyToOnlyNumbersDropNulls=e=>{const t=[];for(const n of e){if(n instanceof lr)return n;if(Nt(n))t.push(Et(n));else if(n!==_t)return new lr(Yn.VALUE,Re.NumberExpected)}return t},this.manyToCoercedNumbersDropNulls=e=>{const t=[];for(const n of e){if(n instanceof lr)return n;if(n===_t)continue;const e=this.coerceScalarToNumberOrError(n);Nt(e)&&t.push(Et(e))}return t},this.collator=Rr(e),this.actualEps=e.smartRounding?e.precisionEpsilon:0}eqMatcherFunction(e){const t=this.buildRegex(e);return e=>"string"===typeof e&&t.test(this.normalizeString(e))}neqMatcherFunction(e){const t=this.buildRegex(e);return e=>!("string"===typeof e)||!t.test(this.normalizeString(e))}searchString(e,t){var n;const r=this.buildRegex(e,!1),i=r.exec(t);return null!==(n=null===i||void 0===i?void 0:i.index)&&void 0!==n?n:-1}requiresRegex(e){if(!this.config.useRegularExpressions&&!this.config.useWildcards)return!this.config.matchWholeCell;for(let t=0;t<e.length;t++){const n=e.charAt(t);if(jr(n)||this.config.useRegularExpressions&&Vr(n))return!0}return!1}floatCmp(e,t){const n=Et(e),r=Et(t),i=1+this.actualEps;return r>=0&&n*i>=r&&n<=r*i||r<=0&&n*i<=r&&n>=r*i?0:n>r?1:-1}coerceScalarToNumberOrError(e){var t;return e instanceof lr?e:null!==(t=this.coerceToMaybeNumber(e))&&void 0!==t?t:new lr(Yn.VALUE,Re.NumberCoercion)}coerceToMaybeNumber(e){var t;return null!==(t=this.coerceNonDateScalarToMaybeNumber(e))&&void 0!==t?t:"string"===typeof e?this.dateTimeHelper.dateStringToDateNumber(e):void 0}coerceNonDateScalarToMaybeNumber(e){if(e===_t)return 0;if("string"===typeof e){if(""===e)return 0;const t=this.coerceStringToMaybePercentNumber(e);if(void 0!==t)return t;const n=this.coerceStringToMaybeCurrencyNumber(e);return void 0!==n?n:this.numberLiteralsHelper.numericStringToMaybeNumber(e.trim())}return Nt(e)?e:"boolean"===typeof e?Number(e):void 0}coerceStringToMaybePercentNumber(e){const t=e.trim();if(t.endsWith("%")){const e=t.slice(0,t.length-1).trim(),n=this.numberLiteralsHelper.numericStringToMaybeNumber(e);if(void 0!==n)return new At(n/100)}}coerceStringToMaybeCurrencyNumber(e){const t=this.currencyMatcher(e.trim());if(void 0!==t){const[e,n]=t,r=this.numberLiteralsHelper.numericStringToMaybeNumber(n);if(void 0!==r)return new Ct(r,e)}}currencyMatcher(e){for(const t of this.config.currencySymbol){if(e.startsWith(t))return[t,e.slice(t.length).trim()];if(e.endsWith(t))return[t,e.slice(0,e.length-t.length).trim()]}}coerceComplexExactRanges(e){const t=[];for(const r of e)if(r instanceof Dt)t.push(r);else if(r!==_t){const e=this.coerceScalarToComplex(r);if(e instanceof lr)return e;t.push(e)}const n=[];for(const r of t)if(r instanceof Dt){const e=this.manyToExactComplex(r.valuesFromTopLeftCorner());if(e instanceof lr)return e;n.push(...e)}else n.push(r);return n}coerceScalarToComplex(e){return e instanceof lr?e:e===_t?[0,0]:Nt(e)?[Et(e),0]:"string"===typeof e?this.coerceStringToComplex(e):new lr(Yn.NUM,Re.ComplexNumberExpected)}ExtendedNumberFactory(e,t){const{type:n,format:r}=t;switch(n){case Lt.NUMBER_RAW:return e;case Lt.NUMBER_CURRENCY:return new Ct(e,null!==r&&void 0!==r?r:this.config.currencySymbol[0]);case Lt.NUMBER_DATE:return new Mt(e,r);case Lt.NUMBER_DATETIME:return new xt(e,r);case Lt.NUMBER_TIME:return new Rt(e,r);case Lt.NUMBER_PERCENT:return new At(e,r)}}buildRegex(e,t=!0){let n;e=this.normalizeString(e);let r=this.config.useWildcards,i=this.config.useRegularExpressions;if(i)try{RegExp(e)}catch(o){i=!1,r=!1}return n=i?Gr(e,this.config.caseSensitive):r?Wr(e,this.config.caseSensitive):zr(e,this.config.caseSensitive),this.config.matchWholeCell&&t?RegExp("^("+n+")$"):RegExp(n)}normalizeString(e){return this.config.caseSensitive||(e=e.toLowerCase()),this.config.accentSensitive||(e=Jr(e,"nfd").replace(/[\u0300-\u036f]/g,"")),e}compare(e,t){if("string"===typeof e||"string"===typeof t){const n="string"===typeof e?this.dateTimeHelper.dateStringToDateNumber(e):e,r="string"===typeof t?this.dateTimeHelper.dateStringToDateNumber(t):t;if(Nt(n)&&Nt(r))return this.floatCmp(n,r)}return e===_t?e=Ir(t):t===_t&&(t=Ir(e)),"string"===typeof e&&"string"===typeof t?this.stringCmp(e,t):"boolean"===typeof e&&"boolean"===typeof t?Hr(Or(e),Or(t)):Nt(e)&&Nt(t)?this.floatCmp(e,t):e===_t&&t===_t?0:Hr(ir(or(e)),ir(or(t)))}stringCmp(e,t){return this.collator.compare(e,t)}manyToNumbers(e,t){const n=[];for(const i of e)if(i instanceof Dt)n.push(i);else{const e=Et(this.coerceScalarToNumberOrError(i));if(e instanceof lr)return e;n.push(e)}const r=[];for(const i of n)if(i instanceof Dt){const e=t(i.valuesFromTopLeftCorner());if(e instanceof lr)return e;r.push(...e)}else r.push(i);return r}coerceStringToComplex(e){const t=Ar.exec(e);if(null===t)return new lr(Yn.NUM,Re.ComplexNumberExpected);let n,r;return n=void 0!==t[6]?"-"===t[1]?[0,-1]:[0,1]:this.parseComplexToken(t[1]+t[3],t[5]),n instanceof lr||void 0===t[8]?n:(r=void 0!==t[14]?"-"===t[9]?[0,-1]:[0,1]:this.parseComplexToken(t[9]+t[11],t[13]),r instanceof lr?r:""!==t[5]||""===t[13]?new lr(Yn.NUM,Re.ComplexNumberExpected):"+"===t[8]?[n[0]+r[0],n[1]+r[1]]:[n[0]-r[0],n[1]-r[1]])}parseComplexToken(e,t){const n=Et(this.coerceNonDateScalarToMaybeNumber(e));return void 0===n?new lr(Yn.NUM,Re.ComplexNumberExpected):""===t?[n,0]:[0,n]}}function Lr([e,t],n){if(!isFinite(e)||!isFinite(t))return new lr(Yn.NUM,Re.NaN);if(n=null!==n&&void 0!==n?n:xr,0===t)return`${e}`;const r=`${-1===t||1===t?"":Math.abs(t)}${n}`;return 0===e?`${t<0?"-":""}${r}`:`${e}${t<0?"-":"+"}${r}`}function kr(e){return e instanceof Dt?e:Dt.fromScalar(e)}function Or(e){return Number(e)}function Ir(e){return"string"===typeof e?"":Nt(e)?0:"boolean"!==typeof e&&_t}function Pr(e){if(e instanceof lr||"boolean"===typeof e)return e;if(e===_t)return!1;if(Nt(e))return 0!==Et(e);{const t=e.toUpperCase();return"TRUE"===t||"FALSE"!==t&&(""!==t&&void 0)}}function Dr(e){return e instanceof lr||"string"===typeof e?e:e===_t?"":Nt(e)?Et(e).toString():e?"TRUE":"FALSE"}function Fr(e){return e===_t?0:e}function Hr(e,t){const n=Et(e),r=Et(t);return n>r?1:n<r?-1:0}function Ur(e){return isNaN(e)||e===1/0||e===-1/0}function Br(e){return 0===e?0:e}function jr(e){return["*","?"].includes(e)}const Yr=["{","}","[","]","(",")","<",">","=",".","+","-",",","\\","$","^","!"];function Vr(e){return Yr.includes(e)}function Wr(e,t){let n="";for(let r=0;r<e.length;r++){const i=e.charAt(r);if("~"===i){if(r==e.length-1){n+="~";continue}const t=e.charAt(r+1);jr(t)||Vr(t)?(n+="\\"+t,r++):(n+=t,r++)}else jr(i)?n+="."+i:Vr(i)?n+="\\"+i:n+=t?i:i.toLowerCase()}return n}function zr(e,t){let n="";for(let r=0;r<e.length;r++){const i=e.charAt(r);jr(i)||Vr(i)?n+="\\"+i:n+=t?i:i.toLowerCase()}return n}function Gr(e,t){let n="";for(let r=0;r<e.length;r++){const i=e.charAt(r);jr(i)||Vr(i)?n+=i:n+=t?i:i.toLowerCase()}return n}function $r(e,t){const{type:n,format:r}=Pt(e),{type:i,format:o}=Pt(t);if(n===Lt.NUMBER_RAW)return{type:i,format:o};if(i===Lt.NUMBER_RAW)return{type:n,format:r};if((n===Lt.NUMBER_DATETIME||n===Lt.NUMBER_DATE)&&(i===Lt.NUMBER_DATETIME||i===Lt.NUMBER_DATE))return{type:Lt.NUMBER_RAW};if(n===Lt.NUMBER_TIME){if(i===Lt.NUMBER_DATE)return{type:Lt.NUMBER_DATETIME,format:`${o} ${r}`};if(i===Lt.NUMBER_DATETIME)return{type:Lt.NUMBER_DATETIME,format:o}}if(i===Lt.NUMBER_TIME){if(n===Lt.NUMBER_DATE)return{type:Lt.NUMBER_DATETIME,format:`${r} ${o}`};if(n===Lt.NUMBER_DATETIME)return{type:Lt.NUMBER_DATETIME,format:r}}return{type:n,format:r}}function qr(e,t){let{type:n,format:r}=Pt(e),{type:i,format:o}=Pt(t);return n===Lt.NUMBER_PERCENT&&(n=Lt.NUMBER_RAW,r=void 0),i===Lt.NUMBER_PERCENT&&(i=Lt.NUMBER_RAW,o=void 0),n===Lt.NUMBER_RAW?{type:i,format:o}:i===Lt.NUMBER_RAW?{type:n,format:r}:{type:Lt.NUMBER_RAW}}function Kr(e){return Jr(e.toLowerCase(),"nfd").replace(/[\u0300-\u036f]/g,"")}function Xr(e,t){var n;if(e.isAdHoc())return null===(n=e.data[0])||void 0===n?void 0:n[0];const r=e.range;if(t.formulaAddress.sheet===r.sheet)if(1===r.width()){const n=t.formulaAddress.row-r.start.row;if(n>=0&&n<r.height())return e.data[n][0]}else if(1===r.height()){const n=t.formulaAddress.col-r.start.col;if(n>=0&&n<r.width())return e.data[0][n]}}function Jr(e,t){return e.normalize(t.toUpperCase())}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
var Qr;(function(e){e["STRING"]="STRING",e["NUMBER"]="NUMBER",e["BOOLEAN"]="BOOLEAN",e["SCALAR"]="SCALAR",e["NOERROR"]="NOERROR",e["RANGE"]="RANGE",e["INTEGER"]="INTEGER",e["COMPLEX"]="COMPLEX",e["ANY"]="ANY"})(Qr||(Qr={}));class Zr{constructor(e){this.coerceScalarToNumberOrError=e=>this.arithmeticHelper.coerceScalarToNumberOrError(e),this.runFunction=(e,t,n,r)=>{const i=this.evaluateArguments(e,t,n),o=i.map((([e,t])=>e)),s=i.map((([e,t])=>t)),a=this.buildMetadataForEachArgumentValue(o.length,n),l=t.arraysFlag&&!n.vectorizationForbidden;if(!this.isNumberOfArgumentValuesValid(a,o.length))return new lr(Yn.NA,Re.WrongArgNumber);const[u,c]=l?this.calculateSizeOfVectorizedResultArray(o,a):[1,1];if(1===u&&1===c){const e=this.vectorizeAndBroadcastArgumentsIfNecessary(l,o,a,0,0);return this.calculateSingleCellOfResultArray(t,e,a,s,r,n.returnNumberType)}const h=[...Array(u).keys()].map((e=>[...Array(c).keys()].map((i=>{const u=this.vectorizeAndBroadcastArgumentsIfNecessary(l,o,a,e,i),c=this.calculateSingleCellOfResultArray(t,u,a,s,r,n.returnNumberType);if(c instanceof Dt)throw new Error("Function returning array cannot be vectorized.");return c}))));return Dt.onlyValues(h)},this.runFunctionWithReferenceArgument=(e,t,n,r,i,o=(()=>new lr(Yn.NA,Re.CellRefExpected)))=>{if(0===e.length)return this.returnNumberWrapper(r(),n.returnNumberType);if(e.length>1)return new lr(Yn.NA,Re.WrongArgNumber);let s,a=e[0];while(a.type===W.PARENTHESIS)a=a.expression;if(a.type===W.CELL_REFERENCE)s=a.reference.toSimpleCellAddress(t.formulaAddress);else if(a.type===W.CELL_RANGE||a.type===W.COLUMN_RANGE||a.type===W.ROW_RANGE)try{s=Sr.fromAst(a,t.formulaAddress).start}catch(l){return new lr(Yn.REF,Re.CellRefExpected)}return void 0!==s?this.returnNumberWrapper(i(s),n.returnNumberType):this.runFunction(e,t,n,o)},this.interpreter=e,this.dependencyGraph=e.dependencyGraph,this.columnSearch=e.columnSearch,this.config=e.config,this.serialization=e.serialization,this.arraySizePredictor=e.arraySizePredictor,this.dateTimeHelper=e.dateTimeHelper,this.arithmeticHelper=e.arithmeticHelper}evaluateAst(e,t){return this.interpreter.evaluateAst(e,t)}arraySizeForAst(e,t){return this.arraySizePredictor.checkArraySizeForAst(e,t)}listOfScalarValues(e,t){const n=[];for(const r of e){const e=this.evaluateAst(r,t);if(e instanceof Dt)for(const t of e.valuesFromTopLeftCorner())n.push([t,!0]);else n.push([e,!1])}return n}coerceToType(e,t,n){let r;if(e instanceof Dt)switch(t.argumentType){case Qr.RANGE:case Qr.ANY:r=e;break;default:{const t=Xr(e,n);if(void 0===t)return;e=t}}if(!(e instanceof Dt))switch(t.argumentType){case Qr.INTEGER:case Qr.NUMBER:const n=this.coerceScalarToNumberOrError(e);if(!Nt(n)){r=n;break}const i=Et(n);if(void 0!==t.maxValue&&i>t.maxValue)return new lr(Yn.NUM,Re.ValueLarge);if(void 0!==t.minValue&&i<t.minValue)return new lr(Yn.NUM,Re.ValueSmall);if(void 0!==t.lessThan&&i>=t.lessThan)return new lr(Yn.NUM,Re.ValueLarge);if(void 0!==t.greaterThan&&i<=t.greaterThan)return new lr(Yn.NUM,Re.ValueSmall);if(t.argumentType===Qr.INTEGER&&!Number.isInteger(i))return new lr(Yn.NUM,Re.IntegerExpected);r=n;break;case Qr.STRING:r=Dr(e);break;case Qr.BOOLEAN:r=Pr(e);break;case Qr.SCALAR:case Qr.NOERROR:case Qr.ANY:r=e;break;case Qr.RANGE:if(e instanceof lr)return e;r=kr(e);break;case Qr.COMPLEX:return this.arithmeticHelper.coerceScalarToComplex(Et(e))}return t.passSubtype||void 0===r?r:Et(r)}calculateSingleCellOfResultArray(e,t,n,r,i,o){const s=this.coerceArgumentsToRequiredTypes(e,t,n,r);if(s instanceof lr)return s;const a=i(...s);return this.returnNumberWrapper(a,o)}coerceArgumentsToRequiredTypes(e,t,n,r){const i=[];for(let o=0;o<n.length;o++){const s=n[o],a=void 0!==t[o]?t[o]:null===s||void 0===s?void 0:s.defaultValue;if(void 0===a){i.push(void 0);continue}const l=this.coerceToType(a,s,e);if(void 0===l&&!r[o])return new lr(Yn.VALUE,Re.WrongType);if(l instanceof lr&&s.argumentType!==Qr.SCALAR)return l;i.push(l)}return i}vectorizeAndBroadcastArgumentsIfNecessary(e,t,n,r,i){return t.map(((t,o)=>e&&this.isRangePassedAsAScalarArgument(t,n[o])?this.vectorizeAndBroadcastRangeArgument(t,r,i):t))}vectorizeAndBroadcastRangeArgument(e,t,n){var r;const i=1===e.height()?0:t,o=1===e.width()?0:n;return null===(r=e.data[i])||void 0===r?void 0:r[o]}evaluateArguments(e,t,n){return n.expandRanges?this.listOfScalarValues(e,t):e.map((e=>[this.evaluateAst(e,t),!1]))}buildMetadataForEachArgumentValue(e,t){const n=t.parameters?[...t.parameters]:[],r=void 0!==t.repeatLastArgs&&Number.isInteger(t.repeatLastArgs)&&t.repeatLastArgs>0;if(r)while(e>n.length)n.push(...n.slice(n.length-t.repeatLastArgs));return n}isNumberOfArgumentValuesValid(e,t){if(t>e.length)return!1;if(t<e.length){const n=e.slice(t),r=n.every((e=>(null===e||void 0===e?void 0:e.optionalArg)||void 0!==(null===e||void 0===e?void 0:e.defaultValue)));return r}return!0}calculateSizeOfVectorizedResultArray(e,t){const n=e.filter(((e,n)=>this.isRangePassedAsAScalarArgument(e,t[n]))),r=Math.max(1,...n.map((e=>e.height()))),i=Math.max(1,...n.map((e=>e.width())));return[r,i]}isRangePassedAsAScalarArgument(e,t){return null!=e&&null!=t&&(e instanceof Dt&&![Qr.RANGE,Qr.ANY].includes(t.argumentType))}metadata(e){const t=this.constructor.implementedFunctions[e];if(void 0!==t)return t;throw new Error(`No metadata for function ${e}.`)}returnNumberWrapper(e,t,n){return void 0!==t&&Nt(e)?this.arithmeticHelper.ExtendedNumberFactory(Et(e),{type:t,format:n}):e}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ei{constructor(e,t,n=!1){this.width=e,this.height=t,this.isRef=n}static error(){return new ei(1,1,!0)}static scalar(){return new ei(1,1,!1)}isScalar(){return 1===this.width&&1===this.height||this.isRef}}function ti(e,t){return new ei(Math.max(e.width,t.width),Math.max(e.height,t.height))}function ni(e){return new ei(e.width,e.height)}class ri{constructor(e,t){this.config=e,this.functionRegistry=t}checkArraySize(e,t){return this.checkArraySizeForAst(e,{formulaAddress:t,arraysFlag:this.config.useArrayArithmetic})}checkArraySizeForAst(e,t){switch(e.type){case W.FUNCTION_CALL:return this.checkArraySizeForFunction(e,t);case W.COLUMN_RANGE:case W.ROW_RANGE:case W.CELL_RANGE:{const n=Sr.fromAstOrUndef(e,t.formulaAddress);return void 0===n?ei.error():new ei(n.width(),n.height(),!0)}case W.ARRAY:{const n=[],r=[];for(const s of e.args){const e=s.map((e=>this.checkArraySizeForAst(e,t))),i=Math.min(...e.map((e=>e.height))),o=e.reduce(((e,t)=>e+t.width),0);n.push(i),r.push(o)}const i=n.reduce(((e,t)=>e+t),0),o=Math.min(...r);return new ei(o,i)}case W.STRING:case W.NUMBER:return ei.scalar();case W.CELL_REFERENCE:return new ei(1,1,!0);case W.DIV_OP:case W.CONCATENATE_OP:case W.EQUALS_OP:case W.GREATER_THAN_OP:case W.GREATER_THAN_OR_EQUAL_OP:case W.LESS_THAN_OP:case W.LESS_THAN_OR_EQUAL_OP:case W.MINUS_OP:case W.NOT_EQUAL_OP:case W.PLUS_OP:case W.POWER_OP:case W.TIMES_OP:{const n=this.checkArraySizeForAst(e.left,t),r=this.checkArraySizeForAst(e.right,t);return!t.arraysFlag&&(n.height>1||n.width>1||r.height>1||r.width>1)?ei.error():ti(n,r)}case W.MINUS_UNARY_OP:case W.PLUS_UNARY_OP:case W.PERCENT_OP:{const n=this.checkArraySizeForAst(e.value,t);return!t.arraysFlag&&(n.height>1||n.width>1)?ei.error():ni(n)}case W.PARENTHESIS:return this.checkArraySizeForAst(e.expression,t);case W.EMPTY:return ei.error();default:return ei.error()}}checkArraySizeForFunction(e,t){const n=this.functionRegistry.getArraySizeFunction(e.procedureName);if(void 0!==n)return n(e,t);const r=this.functionRegistry.getMetadata(e.procedureName);if(void 0===r||r.expandRanges||!t.arraysFlag||r.vectorizationForbidden||void 0===r.parameters)return new ei(1,1);const i=e.args.map((e=>{var n;return this.checkArraySizeForAst(e,new Cr(t.formulaAddress,t.arraysFlag||null!==(n=null===r||void 0===r?void 0:r.arrayFunction)&&void 0!==n&&n))})),o=[...r.parameters];if(void 0!==r.repeatLastArgs&&o.length<i.length&&(i.length-o.length)%r.repeatLastArgs!==0)return ei.error();while(o.length<i.length){if(void 0===r.repeatLastArgs)return ei.error();o.push(...o.slice(o.length-r.repeatLastArgs))}let s=1,a=1;for(let l=0;l<i.length;l++)o[l].argumentType!==Qr.RANGE&&o[l].argumentType!==Qr.ANY&&(a=Math.max(a,i[l].height),s=Math.max(s,i[l].width));return new ei(s,a)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ii{constructor(e,t,n){var r;this.value=t,this.address=n,this.type=e.type,this.message=null!==(r=e.message)&&void 0!==r?r:""}toString(){return this.value}valueOf(){return this.value}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function oi(e,t,n){if("undefined"===typeof e)return fa.defaultConfig[n];if("string"===typeof t){if(typeof e===t)return e;throw new on(t,n)}if(t.includes(e))return e;throw new un(t.map((e=>`'${e}'`)).join(" "),n)}function si(e,t,n){if(e<n)throw new an(t,n)}function ai(e,t,n){if(e>n)throw new ln(t,n)}function li(e,t,n,r){if(t(e))return e;if("undefined"===typeof e)return fa.defaultConfig[r];throw new on(n,r)}function ui(...e){const t=new Map;e.forEach((e=>{const n=t.get(e.value)||[];n.push(e.name),t.set(e.value,n)}));const n=[];for(const r of t.values())r.length>1&&n.push(r);if(n.length>0){n.forEach((e=>e.sort()));const e=n.map((e=>`[${e}]`)).join("; ");throw new Error(`Config initialization failed. Parameters in conflict: ${e}`)}}function ci(e,t,n){if(typeof e!==t)throw new on(t,n)}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const hi=new RegExp("^ss(\\.(s+|0+))?$"),di=new RegExp("^[0-9/.\\-: ]+[ap]?m?$"),fi=new RegExp("\\s+"),pi=new RegExp("[ /.-]"),mi=":",gi=1e3,vi=Mi(Ei),yi=Mi(Si);function bi(e,t,n){if(void 0===t&&void 0===n)return;let r=e.replace(fi," ").trim().toLowerCase();if(!Ti(r))return;let i=r.substring(r.length-2);"am"===i||"pm"===i?r=r.substring(0,r.length-2).trim():(i=r.substring(r.length-1),"a"===i||"p"===i?r=r.substring(0,r.length-1).trim():i=void 0);const o=r.split(pi);o.length>=2&&o[o.length-2].includes(mi)&&(o[o.length-2]=o[o.length-2]+"."+o[o.length-1],o.pop());const s=o[o.length-1].split(mi);if(void 0!==i&&s.push(i),1===o.length)return wi(s,n);if(1===s.length)return _i(o,t);const a=_i(o.slice(0,o.length-1),t),l=wi(s,n);return void 0===a||void 0===l?void 0:Object.assign(Object.assign({},a),l)}function wi(e,t){var n,r,i;if(void 0===t)return;const{itemsCount:o,hourItem:s,minuteItem:a,secondItem:l}=vi(t);let u;if("am"===e[e.length-1]||"a"===e[e.length-1]?(u=!1,e.pop()):"pm"!==e[e.length-1]&&"p"!==e[e.length-1]||(u=!0,e.pop()),e.length!==o)return;const c=Number(null!==(n=e[l])&&void 0!==n?n:"0");if(!Number.isFinite(c))return;const h=Math.round(c*gi)/gi,d=Number(null!==(r=e[a])&&void 0!==r?r:"0");if(!Number.isFinite(d)||!Number.isInteger(d))return;const f=Number(null!==(i=e[s])&&void 0!==i?i:"0");if(!Number.isFinite(f)||!Number.isInteger(f))return;if(void 0!==u&&(f<0||f>12))return;const p=void 0!==u?f%12+(u?12:0):f;return{hours:p,minutes:d,seconds:h}}function _i(e,t){var n;if(void 0===t)return;const{itemsCount:r,dayItem:i,monthItem:o,shortYearItem:s,longYearItem:a}=yi(t);if(e.length!==r)return;const l=Number(e[i]);if(!Number.isFinite(l)||!Number.isInteger(l))return;const u=Number(e[o]);if(!Number.isFinite(u)||!Number.isInteger(u))return;if(e[a]&&e[s])return;const c=Number(null!==(n=e[a])&&void 0!==n?n:e[s]);return!Number.isFinite(c)||!Number.isInteger(c)||e[a]&&(c<1e3||c>9999)||e[s]&&(c<0||c>99)?void 0:{year:c,month:u,day:l}}function Ei(e){const t=e.toLowerCase().trim(),n=t.endsWith("am/pm")?t.substring(0,t.length-5):t.endsWith("a/p")?t.substring(0,e.length-3):t,r=n.trim().split(mi);return{itemsCount:r.length,hourItem:r.indexOf("hh"),minuteItem:r.indexOf("mm"),secondItem:r.findIndex((e=>hi.test(e)))}}function Si(e){const t=e.toLowerCase().trim().split(pi);return{itemsCount:t.length,dayItem:t.indexOf("dd"),monthItem:t.indexOf("mm"),shortYearItem:t.indexOf("yy"),longYearItem:t.indexOf("yyyy")}}function Ti(e){return di.test(e)}function Mi(e){const t={};return n=>{const r=t[n];if(void 0!==r)return r;const i=e(n);return t[n]=i,i}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const Ci=[31,28,31,30,31,30,31,31,30,31,30,31],Ri=[0,31,59,90,120,151,181,212,243,273,304,334],xi=60,Ai=60,Ni=24;function Li(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&("year"in e&&"number"===typeof e.year&&"month"in e&&"number"===typeof e.month&&"day"in e&&"number"===typeof e.day)}function ki(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&("hours"in e&&"number"===typeof e.hours&&"minutes"in e&&"number"===typeof e.minutes&&"seconds"in e&&"number"===typeof e.seconds)}const Oi={year:9999,month:12,day:31};class Ii{constructor(e){this.config=e,this.minDateAbsoluteValue=this.dateToNumberFromZero(e.nullDate),this.maxDateValue=this.dateToNumber(Oi),this.leapYear1900=e.leapYear1900,!this.leapYear1900&&0<=this.dateToNumber({year:1900,month:2,day:28})?this.epochYearZero=this.numberToSimpleDate(2).year:this.epochYearZero=this.numberToSimpleDate(1).year,this.parseDateTime=e.parseDateTime}getWithinBounds(e){return e<=this.maxDateValue&&e>=0?e:void 0}dateStringToDateNumber(e){const{dateTime:t,dateFormat:n="",timeFormat:r=""}=this.parseDateTimeFromConfigFormats(e);if(void 0!==t)return ki(t)?Li(t)?new xt(ji(t)+this.dateToNumber(t),n+" "+r):new Rt(ji(t),r):Li(t)?new Mt(this.dateToNumber(t),n):0}parseDateTimeFromConfigFormats(e){return this.parseDateTimeFromFormats(e,this.config.dateFormats,this.config.timeFormats)}getNullYear(){return this.config.nullYear}getEpochYearZero(){return this.epochYearZero}isValidDate(e){return!(isNaN(e.year)||isNaN(e.month)||isNaN(e.day))&&(e.day===Math.round(e.day)&&e.month===Math.round(e.month)&&e.year===Math.round(e.year)&&(!(e.year<1582)&&(!(e.month<1||e.month>12)&&(!(e.day<1)&&(this.isLeapYear(e.year)&&2===e.month?e.day<=29:e.day<=Ci[e.month-1])))))}dateToNumber(e){return this.dateToNumberFromZero(e)-this.minDateAbsoluteValue}relativeNumberToAbsoluteNumber(e){return e+this.minDateAbsoluteValue-(this.leapYear1900?1:0)}numberToSimpleDate(e){const t=Math.floor(e)+this.minDateAbsoluteValue;let n=Math.floor(t/365.2425);this.dateToNumberFromZero({year:n+1,month:1,day:1})<=t?n++:this.dateToNumberFromZero({year:n-1,month:1,day:1})>t&&n--;const r=t-this.dateToNumberFromZero({year:n,month:1,day:1}),i=Pi(r-(this.isLeapYear(n)&&r>=59?1:0)),o=r-Ri[i]-(this.isLeapYear(n)&&i>1?1:0);return{year:n,month:i+1,day:o+1}}numberToSimpleDateTime(e){const t=Bi(e%1),n=Math.floor(t.hours/Ni);t.hours=t.hours%Ni;const r=this.numberToSimpleDate(Math.floor(e)+n);return Object.assign(Object.assign({},r),t)}leapYearsCount(e){return Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400)+(this.config.leapYear1900&&e>=1900?1:0)}daysInMonth(e,t){return this.isLeapYear(e)&&2===t?29:Ci[t-1]}endOfMonth(e){return{year:e.year,month:e.month,day:this.daysInMonth(e.year,e.month)}}toBasisUS(e,t){return 31===e.day&&(e.day=30),30===e.day&&31===t.day&&(t.day=30),2===e.month&&e.day===this.daysInMonth(e.year,e.month)&&(e.day=30,2===t.month&&t.day===this.daysInMonth(t.year,t.month)&&(t.day=30)),[e,t]}yearLengthForBasis(e,t){return e.year!==t.year?e.year+1!==t.year||e.month<t.month||e.month===t.month&&e.day<t.day?(this.leapYearsCount(t.year)-this.leapYearsCount(e.year-1))/(t.year-e.year+1)+365:this.countLeapDays(t)!==this.countLeapDays({year:e.year,month:e.month,day:e.day-1})?366:365:this.isLeapYear(e.year)?366:365}parseSingleFormat(e,t,n){const r=this.parseDateTime(e,t,n);if(!Li(r)||(r.year>=0&&r.year<100&&(r.year<this.getNullYear()?r.year+=2e3:r.year+=1900),this.isValidDate(r)))return r}parseDateTimeFromFormats(e,t,n){const r=0===t.length?[void 0]:t,i=0===n.length?[void 0]:n;for(const o of r)for(const t of i){const n=this.parseSingleFormat(e,o,t);if(void 0!==n)return{dateTime:n,timeFormat:t,dateFormat:o}}return{}}countLeapDays(e){return e.month>2||2===e.month&&e.day>=29?this.leapYearsCount(e.year):this.leapYearsCount(e.year-1)}dateToNumberFromZero(e){return 365*e.year+Ri[e.month-1]+e.day-1+(e.month<=2?this.leapYearsCount(e.year-1):this.leapYearsCount(e.year))}isLeapYear(e){return!(e%4)&&(!!(e%100)||(!(e%400)||1900===e&&this.config.leapYear1900))}}function Pi(e){let t=0;return Ri[t+6]<=e&&(t+=6),Ri[t+3]<=e&&(t+=3),Ri[t+2]<=e?t+=2:Ri[t+1]<=e&&(t+=1),t}function Di(e,t){const n=12*e.year+e.month-1+t;return{year:Math.floor(n/12),month:n%12+1,day:e.day}}function Fi(e){return{year:e.year,month:e.month,day:Math.min(e.day,Ci[e.month-1])}}function Hi(e){return Math.round(3600*e*24)/86400}function Ui(e,t=1){return Math.round(e*t)/t}function Bi(e){const t=e*Ni*Ai*xi,n=Ui(t%xi,1e5)%xi,r=(t-n)/xi,i=Math.round(r%Ai)%Ai,o=(r-i)/Ai,s=Math.round(o);return{hours:s,minutes:i,seconds:n}}function ji(e){return((e.seconds/60+e.minutes)/60+e.hours)/24}function Yi(e){return{year:e.year,month:e.month,day:Math.min(30,e.day)}}class Vi{call(){return Qn}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const Wi=/(\\.|dd|DD|d|D|mm|MM|m|M|YYYY|YY|yyyy|yy|HH|hh|H|h|ss(\.(0+|s+))?|s|AM\/PM|am\/pm|A\/P|a\/p|\[mm]|\[MM]|\[hh]|\[HH])/g,zi=/(\\.|[#0]+(\.[#0]*)?)/g;var Gi,$i;function qi(e,t){return{type:e,value:t}}function Ki(e){Wi.lastIndex=0;const t=[];let n;do{n=Wi.exec(e),null!==n&&t.push(n)}while(n);return t}function Xi(e){zi.lastIndex=0;const t=zi.exec(e);return null!==t?[t]:[]}function Ji(e,t){const n=[];let r=0;for(let o=0;o<e.length;++o){const i=e[o];if(i.index!==r){const e=t.substr(r,i.index-r);n.push(qi(Gi.FREE_TEXT,e))}i[0].startsWith("\\")?n.push(qi(Gi.FREE_TEXT,i[0])):n.push(qi(Gi.FORMAT,i[0])),r=i.index+i[0].length}const i=e[e.length-1];if(i.index+i[0].length<t.length){const e=t.substr(i.index+i[0].length,t.length);n.push(qi(Gi.FREE_TEXT,e))}return n}function Qi(e){const t=Ki(e);return t.every((e=>eo(e)))?void 0:{type:$i.DATE,tokens:Ji(t,e)}}function Zi(e){const t=Xi(e);return t.every((e=>eo(e)))?void 0:{type:$i.NUMBER,tokens:Ji(t,e)}}function eo(e){return e[0].startsWith("\\")}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function to(e,t,n,r){const i=n.stringifyDateTime(r.numberToSimpleDateTime(e),t);if(void 0!==i)return i;const o=n.stringifyDuration(Bi(e),t);if(void 0!==o)return o;const s=Zi(t);return void 0!==s?oo(s.tokens,e):t}function no(e,t){let n=`${e}`;while(n.length<t)n="0"+n;return n}function ro(e,t){let n=`${e}`;while(n.length<t)n+="0";return n}function io(e,t){return e.split(t).length-1}function oo(e,t){let n="";for(let r=0;r<e.length;++r){const i=e[r];if(i.type===Gi.FREE_TEXT){n+=i.value;continue}const o=i.value.split("."),s=o[0],a=o[1]||"",l=o[1]?".":"",u=Number(t.toFixed(a.length)).toString().split(".");let c=u[0]||"",h=u[1]||"";if(s.length>c.length){const e=io(s.substr(0,s.length-c.length),"0");c=no(c,e+c.length)}const d=io(a.substr(h.length,a.length-h.length),"0");h=ro(h,d+h.length),n+=c+l+h}return n}function so(e,t){const n=Qi(t);if(void 0===n)return;const r=n.tokens;let i="";for(const o of r)if(o.type!==Gi.FREE_TEXT)switch(o.value.toLowerCase()){case"h":case"hh":i+=no(e.hours,o.value.length),e.hours=0;break;case"[hh]":i+=no(e.hours,o.value.length-2),e.hours=0;break;case"m":case"mm":i+=no(e.minutes,o.value.length),e.minutes=0;break;case"[mm]":i+=no(e.minutes+60*e.hours,o.value.length-2),e.minutes=0,e.hours=0;break;case"s":case"ss":i+=no(Math.floor(e.seconds),o.value.length);break;default:if(hi.test(o.value)){const t=Math.max(o.value.length-3,0);i+=`${e.seconds<10?"0":""}${Math.floor(e.seconds*Math.pow(10,t))/Math.pow(10,t)}`;continue}return}else i+=o.value;return i}function ao(e,t){const n=Qi(t);if(void 0===n)return;const r=n.tokens;let i="",o=!1;const s=r.some((e=>e.type===Gi.FORMAT&&("a/p"===e.value||"A/P"===e.value||"am/pm"===e.value||"AM/PM"===e.value)));for(let a=0;a<r.length;a++){const t=r[a];if(t.type!==Gi.FREE_TEXT)switch(t.value.toLowerCase()){case"h":case"hh":o=!0,i+=no(s?(e.hours+11)%12+1:e.hours,t.value.length);break;case"d":case"dd":i+=no(e.day,t.value.length);break;case"s":case"ss":i+=no(Math.floor(e.seconds),t.value.length);break;case"m":case"mm":a+1<r.length&&r[a+1].value.startsWith(":")&&(o=!0),i+=no(o?e.minutes:e.month,t.value.length),o=!0;break;case"yy":i+=no(e.year%100,t.value.length);break;case"yyyy":i+=e.year;break;case"am/pm":case"a/p":{const[n,r]=t.value.split("/");i+=e.hours<12?n:r;break}default:if(hi.test(t.value)){const n=t.value.length-3;i+=`${e.seconds<10?"0":""}${Math.floor(e.seconds*Math.pow(10,n))/Math.pow(10,n)}`;continue}return}else i+=t.value}return i}(function(e){e["FORMAT"]="FORMAT",e["FREE_TEXT"]="FREE_TEXT"})(Gi||(Gi={})),function(e){e["DATE"]="DATE",e["NUMBER"]="NUMBER",e["STRING"]="STRING"}($i||($i={}));
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const lo="length",uo=e=>parseInt(e,16),co=e=>parseInt(e,10),ho=e=>(e+"").replace(/\-/g,""),fo=(e,t,n)=>e["substr"](t,n),po=e=>e["codePointAt"](0)-65;function mo(e){return 25===ho(e)[lo]?uo(fo(ho(e),uo("12"),po("F")))/(uo(fo(ho(e),po("C"),po("Y")>>4))||1+(![][lo]<<3)):0}function go(e){if(e=(e+"").replace(/\-/g,""),e[lo]!==po("Z"))return!1;let t=0;return[[0,po("G")+1],[po("H"),po("H")-1],[po("G")+po("H"),po("G")]].reduce(((n,[r,i],o)=>(n|=(co(`${co(uo(fo(e,t+r-(0===o?0:2),i+(o?2:0)))+(uo(fo(e,t+r+i,2))+[]).padStart(2,"0"))}`)%97||2)>>1,t+=2,n)),po("A"))===[]+1>>1}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const vo={invalid:()=>"The license key for HyperFormula is invalid.",expired:({keyValidityDate:e})=>`The license key for HyperFormula expired on ${e}, and is not valid for the installed version.`,missing:()=>"The license key for HyperFormula is missing."};let yo=!1;function bo(e){const t={template:"missing",vars:{}};if("gpl-v3"===e||"internal-use-in-handsontable"===e)t.template="valid";else if("string"===typeof e&&go(e)){const[n,r,i]="18/07/2024".split("/"),o=Math.floor(new Date(`${r}/${n}/${i}`).getTime()/864e5),s=mo(e);t.vars.keyValidityDate=wo(new Date(864e5*(s+1))),t.template=o>s?"expired":"valid"}else""!==e&&(t.template="invalid");return yo||"valid"===t.template||(console.warn(vo[t.template](t.vars)),yo=!0),t.template}function wo(e){const t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=t[e.getMonth()],r=e.getDate(),i=e.getFullYear();return`${n} ${r}, ${i}`}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
var _o,Eo,So;function To(e){return e.startsWith("=")}function Mo(e){const t=e.toLowerCase();return"true"===t||"false"===t}function Co(e,t){const n=e.toUpperCase(),r=/#[A-Za-z0-9\/]+[?!]?/;return r.test(n)&&Object.prototype.hasOwnProperty.call(t,n)}(function(e){class t{constructor(e){this.value=e,this.value=Tt(this.value,Br(Et(this.value)))}}e.Number=t;class n{constructor(e){this.value=e}}e.String=n;class r{constructor(e){this.value=e}}e.Boolean=r;class i{static getSingletonInstance(){return i.instance||(i.instance=new i),i.instance}}e.Empty=i;class o{constructor(e){this.formula=e}}e.Formula=o;class s{constructor(e,t){this.value=new lr(e,t)}}e.Error=s})(_o||(_o={}));class Ro{constructor(e,t,n){this.config=e,this.dateHelper=t,this.numberLiteralsHelper=n}parse(e){if(void 0===e||null===e)return _o.Empty.getSingletonInstance();if("number"===typeof e)return Ur(e)?new _o.Error(Yn.NUM,Re.ValueLarge):new _o.Number(e);if("boolean"===typeof e)return new _o.Boolean(e);if(e instanceof Date){const t=this.dateHelper.dateToNumber({day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}),n=ji({hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()+e.getMilliseconds()/1e3}),r=t+n;return r<0?new _o.Error(Yn.NUM,Re.DateBounds):r%1===0?new _o.Number(new Mt(r,"Date()")):r<1?new _o.Number(new Rt(r,"Date()")):new _o.Number(new xt(r,"Date()"))}if("string"===typeof e){if(Mo(e))return new _o.Boolean("true"===e.toLowerCase());if(To(e))return new _o.Formula(e);if(Co(e,this.config.errorMapping))return new _o.Error(this.config.errorMapping[e.toUpperCase()]);{let t,n=e.trim(),r=0;if(n.endsWith("%"))r=1,n=n.slice(0,n.length-1);else{const e=this.currencyMatcher(n);void 0!==e&&(r=2,[t,n]=e)}const i=this.numberLiteralsHelper.numericStringToMaybeNumber(n);if(void 0!==i){let e;return e=1===r?new At(i/100):2===r?new Ct(i,t):i,new _o.Number(e)}const o=this.dateHelper.dateStringToDateNumber(n);return void 0!==o?new _o.Number(o):new _o.String(e.startsWith("'")?e.slice(1):e)}}throw new rn(e)}currencyMatcher(e){for(const t of this.config.currencySymbol){if(e.startsWith(t))return[t,e.slice(t.length)];if(e.endsWith(t))return[t,e.slice(0,e.length-t.length)]}}}(function(e){e[e["COPY"]=0]="COPY",e[e["CUT"]=1]="CUT"})(Eo||(Eo={})),function(e){e[e["VALUE"]=0]="VALUE",e[e["EMPTY"]=1]="EMPTY",e[e["FORMULA"]=2]="FORMULA",e[e["PARSING_ERROR"]=3]="PARSING_ERROR"}(So||(So={}));class xo{constructor(e,t,n,r,i){this.sourceLeftCorner=e,this.width=t,this.height=n,this.type=r,this.content=i}*getContent(e){if(void 0!==this.content)for(let t=0;t<this.height;++t)for(let n=0;n<this.width;++n)yield[fr(e.sheet,e.col+n,e.row+t),this.content[t][n]]}}class Ao{constructor(e,t,n){this.dependencyGraph=t,this.operations=n,this.maxRows=e.maxRows,this.maxColumns=e.maxColumns}cut(e,t,n){this.clipboard=new xo(e,t,n,Eo.CUT)}copy(e,t,n){const r=[];for(let i=0;i<n;++i){r[i]=[];for(let n=0;n<t;++n){const t=this.operations.getClipboardCell(fr(e.sheet,e.col+n,e.row+i));r[i].push(t)}}this.clipboard=new xo(e,t,n,Eo.COPY,r)}abortCut(){this.clipboard&&this.clipboard.type===Eo.CUT&&this.clear()}clear(){this.clipboard=void 0}ensureItIsPossibleToCopyPaste(e){if(void 0===this.clipboard)return;if(pr(e)||!this.dependencyGraph.sheetMapping.hasSheetWithId(e.sheet))throw new qt("a valid target address.");const t=Sr.spanFrom(e,this.clipboard.width,this.clipboard.height);if(t.exceedsSheetSizeLimits(this.maxColumns,this.maxRows))throw new zt;if(this.dependencyGraph.arrayMapping.isFormulaArrayInRange(t))throw new Error("It is not possible to paste onto an array")}isCutClipboard(){return void 0!==this.clipboard&&this.clipboard.type===Eo.CUT}isCopyClipboard(){return void 0!==this.clipboard&&this.clipboard.type===Eo.COPY}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class No{constructor(e,t,n,r){this.displayName=e,this.address=t,this.added=n,this.options=r}normalizeExpressionName(){return this.displayName.toLowerCase()}copy(){return new No(this.displayName,this.address,this.added,this.options)}}class Lo{constructor(){this.mapping=new Map}has(e){return this.mapping.has(this.normalizeExpressionName(e))}isNameAvailable(e){const t=this.normalizeExpressionName(e),n=this.mapping.get(t);return!(n&&n.added)}add(e){this.mapping.set(e.normalizeExpressionName(),e)}get(e){return this.mapping.get(this.normalizeExpressionName(e))}getExisting(e){const t=this.mapping.get(this.normalizeExpressionName(e));return t&&t.added?t:void 0}remove(e){const t=this.normalizeExpressionName(e),n=this.mapping.get(t);n&&(n.added=!1)}getAllNamedExpressions(){return Array.from(this.mapping.values()).filter((e=>e.added))}normalizeExpressionName(e){return e.toLowerCase()}}class ko{constructor(){this.mapping=new Map}add(e){this.mapping.set(this.normalizeExpressionName(e.displayName),e)}get(e){return this.mapping.get(this.normalizeExpressionName(e))}has(e){return this.mapping.has(this.normalizeExpressionName(e))}getAllNamedExpressions(){return Array.from(this.mapping.values()).filter((e=>e.added))}isNameAvailable(e){const t=this.normalizeExpressionName(e);return!this.mapping.has(t)}remove(e){const t=this.normalizeExpressionName(e),n=this.mapping.get(t);n&&this.mapping.delete(t)}normalizeExpressionName(e){return e.toLowerCase()}}class Oo{constructor(){this.nextNamedExpressionRow=0,this.workbookStore=new Lo,this.worksheetStores=new Map,this.addressCache=new Map}isNameAvailable(e,t){var n,r;return void 0===t?this.workbookStore.isNameAvailable(e):null===(r=null===(n=this.worksheetStore(t))||void 0===n?void 0:n.isNameAvailable(e))||void 0===r||r}namedExpressionInAddress(e){const t=this.addressCache.get(e);return t&&t.added?t:void 0}namedExpressionForScope(e,t){var n;return void 0===t?this.workbookStore.getExisting(e):null===(n=this.worksheetStore(t))||void 0===n?void 0:n.get(e)}nearestNamedExpression(e,t){var n,r;return null!==(r=null===(n=this.worksheetStore(t))||void 0===n?void 0:n.get(e))&&void 0!==r?r:this.workbookStore.getExisting(e)}isExpressionInScope(e,t){var n,r;return null!==(r=null===(n=this.worksheetStore(t))||void 0===n?void 0:n.has(e))&&void 0!==r&&r}isNameValid(e){const t=new RegExp(`^${y}$`),n=new RegExp(`^${_}$`),r=new RegExp(`^${S}$`);return!t.test(e)&&!n.test(e)&&r.test(e)}addNamedExpression(e,t,n){const r=void 0===t?this.workbookStore:this.worksheetStoreOrCreate(t);let i=r.get(e);return void 0!==i?(i.added=!0,i.displayName=e,i.options=n):(i=new No(e,this.nextAddress(),!0,n),r.add(i)),this.addressCache.set(i.address.row,i),i}restoreNamedExpression(e,t){const n=void 0===t?this.workbookStore:this.worksheetStoreOrCreate(t);return e.added=!0,n.add(e),this.addressCache.set(e.address.row,e),e}namedExpressionOrPlaceholder(e,t){var n;return null!==(n=this.worksheetStoreOrCreate(t).get(e))&&void 0!==n?n:this.workbookNamedExpressionOrPlaceholder(e)}workbookNamedExpressionOrPlaceholder(e){let t=this.workbookStore.get(e);return void 0===t&&(t=new No(e,this.nextAddress(),!1),this.workbookStore.add(t)),t}remove(e,t){let n;n=void 0===t?this.workbookStore:this.worksheetStore(t);const r=null===n||void 0===n?void 0:n.get(e);if(void 0===n||void 0===r||!r.added)throw Error("Named expression does not exist");n.remove(e),n instanceof ko&&0===n.mapping.size&&this.worksheetStores.delete(t),this.addressCache.delete(r.address.row)}getAllNamedExpressionsNamesInScope(e){return this.getAllNamedExpressions().filter((({scope:t})=>t===e)).map((e=>e.expression.displayName))}getAllNamedExpressionsNames(){return this.getAllNamedExpressions().map((e=>e.expression.displayName))}getAllNamedExpressions(){const e=[];return this.workbookStore.getAllNamedExpressions().forEach((t=>{e.push({expression:t,scope:void 0})})),this.worksheetStores.forEach(((t,n)=>{t.getAllNamedExpressions().forEach((t=>{e.push({expression:t,scope:n})}))})),e}getAllNamedExpressionsForScope(e){var t,n;return void 0===e?this.workbookStore.getAllNamedExpressions():null!==(n=null===(t=this.worksheetStores.get(e))||void 0===t?void 0:t.getAllNamedExpressions())&&void 0!==n?n:[]}worksheetStoreOrCreate(e){let t=this.worksheetStores.get(e);return t||(t=new ko,this.worksheetStores.set(e,t)),t}worksheetStore(e){return this.worksheetStores.get(e)}nextAddress(){return fr(Oo.SHEET_FOR_WORKBOOK_EXPRESSIONS,0,this.nextNamedExpressionRow++)}}Oo.SHEET_FOR_WORKBOOK_EXPRESSIONS=-1;const Io=e=>{switch(e.type){case W.EMPTY:case W.NUMBER:case W.STRING:case W.ERROR:case W.ERROR_WITH_RAW_INPUT:return!1;case W.CELL_REFERENCE:return!e.reference.isAbsolute();case W.CELL_RANGE:case W.COLUMN_RANGE:case W.ROW_RANGE:return!e.start.isAbsolute();case W.NAMED_EXPRESSION:return!1;case W.PERCENT_OP:case W.PLUS_UNARY_OP:case W.MINUS_UNARY_OP:return Io(e.value);case W.CONCATENATE_OP:case W.EQUALS_OP:case W.NOT_EQUAL_OP:case W.LESS_THAN_OP:case W.GREATER_THAN_OP:case W.LESS_THAN_OR_EQUAL_OP:case W.GREATER_THAN_OR_EQUAL_OP:case W.MINUS_OP:case W.PLUS_OP:case W.TIMES_OP:case W.DIV_OP:case W.POWER_OP:return Io(e.left)||Io(e.right);case W.PARENTHESIS:return Io(e.expression);case W.FUNCTION_CALL:return e.args.some((e=>Io(e)));case W.ARRAY:return e.args.some((e=>e.some((e=>Io(e)))))}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Po{performEagerTransformations(e,t){for(const n of e.arrayFormulaNodes()){const[r,i]=this.transformSingleAst(n.getFormula(e.lazilyTransformingAstService),n.getAddress(e.lazilyTransformingAstService)),o=t.rememberNewAst(r);n.setFormula(o),n.setAddress(i)}}transformSingleAst(e,t){const n=this.transformAst(e,t),r=this.fixNodeAddress(t);return[n,r]}transformAst(e,t){switch(e.type){case W.CELL_REFERENCE:return this.transformCellReferenceAst(e,t);case W.CELL_RANGE:return this.transformCellRangeAst(e,t);case W.COLUMN_RANGE:return this.transformColumnRangeAst(e,t);case W.ROW_RANGE:return this.transformRowRangeAst(e,t);case W.EMPTY:case W.ERROR:case W.NUMBER:case W.NAMED_EXPRESSION:case W.ERROR_WITH_RAW_INPUT:case W.STRING:return e;case W.PERCENT_OP:case W.MINUS_UNARY_OP:case W.PLUS_UNARY_OP:return Object.assign(Object.assign({},e),{value:this.transformAst(e.value,t)});case W.FUNCTION_CALL:return Object.assign(Object.assign({},e),{procedureName:e.procedureName,args:e.args.map((e=>this.transformAst(e,t)))});case W.PARENTHESIS:return Object.assign(Object.assign({},e),{expression:this.transformAst(e.expression,t)});case W.ARRAY:return Object.assign(Object.assign({},e),{args:e.args.map((e=>e.map((e=>this.transformAst(e,t)))))});default:return Object.assign(Object.assign({},e),{left:this.transformAst(e.left,t),right:this.transformAst(e.right,t)})}}transformCellReferenceAst(e,t){const n=this.transformCellAddress(e.reference,t);return n instanceof l?Object.assign(Object.assign({},e),{reference:n}):n===Yn.REF?ye(new lr(Yn.REF)):e}transformCellRangeAst(e,t){const n=this.transformCellRange(e.start,e.end,t);return Array.isArray(n)?Object.assign(Object.assign({},e),{start:n[0],end:n[1]}):n===Yn.REF?ye(new lr(Yn.REF)):e}transformColumnRangeAst(e,t){const n=this.transformColumnRange(e.start,e.end,t);return Array.isArray(n)?Object.assign(Object.assign({},e),{start:n[0],end:n[1]}):n===Yn.REF?ye(new lr(Yn.REF)):e}transformRowRangeAst(e,t){const n=this.transformRowRange(e.start,e.end,t);return Array.isArray(n)?Object.assign(Object.assign({},e),{start:n[0],end:n[1]}):n===Yn.REF?ye(new lr(Yn.REF)):e}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Do extends Po{constructor(e){super(),this.columnsSpan=e}get sheet(){return this.columnsSpan.sheet}isIrreversible(){return!1}transformRowRangeAst(e,t){return e}transformCellRange(e,t,n){return this.transformRange(e,t,n)}transformRowRange(e,t,n){throw Error("Not implemented")}transformColumnRange(e,t,n){return this.transformRange(e,t,n)}transformCellAddress(e,t){const n=yr(e,t);if(n!==this.columnsSpan.sheet&&t.sheet!==this.columnsSpan.sheet)return!1;const r=e.toSimpleColumnAddress(t);if(n===this.columnsSpan.sheet&&t.sheet!==this.columnsSpan.sheet)return this.columnsSpan.columnStart<=r.col&&e.shiftedByColumns(this.columnsSpan.numberOfColumns);if(t.sheet===this.columnsSpan.sheet&&n!==this.columnsSpan.sheet)return!e.isColumnAbsolute()&&(!(t.col<this.columnsSpan.columnStart)&&e.shiftedByColumns(-this.columnsSpan.numberOfColumns));if(e.isColumnAbsolute())return!(e.col<this.columnsSpan.columnStart)&&e.shiftedByColumns(this.columnsSpan.numberOfColumns);{const n=e.toSimpleColumnAddress(t);return n.col<this.columnsSpan.columnStart?!(t.col<this.columnsSpan.columnStart)&&e.shiftedByColumns(-this.columnsSpan.numberOfColumns):t.col<this.columnsSpan.columnStart&&e.shiftedByColumns(this.columnsSpan.numberOfColumns)}}fixNodeAddress(e){return this.columnsSpan.sheet===e.sheet&&this.columnsSpan.columnStart<=e.col?Object.assign(Object.assign({},e),{col:e.col+this.columnsSpan.numberOfColumns}):e}transformRange(e,t,n){const r=this.transformCellAddress(e,n),i=this.transformCellAddress(t,n);return r===Yn.REF||i===Yn.REF?Yn.REF:!(!r&&!i)&&[r||e,i||t]}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Fo extends Po{constructor(e){super(),this.rowsSpan=e}get sheet(){return this.rowsSpan.sheet}isIrreversible(){return!1}transformColumnRangeAst(e,t){return e}transformCellRange(e,t,n){return this.transformRange(e,t,n)}transformRowRange(e,t,n){return this.transformRange(e,t,n)}transformColumnRange(e,t,n){throw Error("Not implemented")}transformCellAddress(e,t){const n=yr(e,t);if(n!==this.rowsSpan.sheet&&t.sheet!==this.rowsSpan.sheet)return!1;const r=e.toSimpleRowAddress(t);return n===this.rowsSpan.sheet&&t.sheet!==this.rowsSpan.sheet?this.rowsSpan.rowStart<=r.row&&e.shiftedByRows(this.rowsSpan.numberOfRows):t.sheet===this.rowsSpan.sheet&&n!==this.rowsSpan.sheet?!e.isRowAbsolute()&&(!(t.row<this.rowsSpan.rowStart)&&e.shiftedByRows(-this.rowsSpan.numberOfRows)):e.isRowAbsolute()?!(e.row<this.rowsSpan.rowStart)&&e.shiftedByRows(this.rowsSpan.numberOfRows):r.row<this.rowsSpan.rowStart?!(t.row<this.rowsSpan.rowStart)&&e.shiftedByRows(-this.rowsSpan.numberOfRows):t.row<this.rowsSpan.rowStart&&e.shiftedByRows(this.rowsSpan.numberOfRows)}fixNodeAddress(e){return this.rowsSpan.sheet===e.sheet&&this.rowsSpan.rowStart<=e.row?Object.assign(Object.assign({},e),{row:e.row+this.rowsSpan.numberOfRows}):e}transformRange(e,t,n){const r=this.transformCellAddress(e,n),i=this.transformCellAddress(t,n);return r===Yn.REF||i===Yn.REF?Yn.REF:!(!r&&!i)&&[r||e,i||t]}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ho extends Po{constructor(e){super(),this.sheet=e}isIrreversible(){return!0}fixNodeAddress(e){return e}transformCellAddress(e,t){return!!e.isInvalid(t)&&Yn.REF}transformCellRange(e,t,n){return!(!e.isInvalid(n)&&!t.isInvalid(n))&&Yn.REF}transformColumnRange(e,t,n){return!(!e.isInvalid(n)&&!t.isInvalid(n))&&Yn.REF}transformRowRange(e,t,n){return!(!e.isInvalid(n)&&!t.isInvalid(n))&&Yn.REF}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Uo extends Po{constructor(e,t,n,r){super(),this.sourceRange=e,this.toRight=t,this.toBottom=n,this.toSheet=r,this.dependentFormulaTransformer=new Bo(e,t,n,r)}get sheet(){return this.sourceRange.sheet}isIrreversible(){return!0}transformSingleAst(e,t){if(this.sourceRange.addressInRange(t)){const n=this.transformAst(e,t);return[n,this.fixNodeAddress(t)]}return this.dependentFormulaTransformer.transformSingleAst(e,t)}fixNodeAddress(e){return fr(this.toSheet,e.col+this.toRight,e.row+this.toBottom)}transformCellAddress(e,t){return this.transformAddress(e,t)}transformCellRange(e,t,n){return this.transformRange(e,t,n)}transformColumnRange(e,t,n){return this.transformRange(e,t,n)}transformRowRange(e,t,n){return this.transformRange(e,t,n)}transformAddress(e,t){const n=this.sourceRange;if(e instanceof l){const r=e.toSimpleCellAddress(t);if(n.addressInRange(r))return e.shiftAbsoluteDimensions(this.toRight,this.toBottom)}return e.shiftRelativeDimensions(-this.toRight,-this.toBottom)}transformRange(e,t,n){const r=this.sourceRange;if(e instanceof l&&t instanceof l){const i=e.toSimpleCellAddress(n),o=t.toSimpleCellAddress(n);if(r.addressInRange(i)&&r.addressInRange(o))return[e.shiftAbsoluteDimensions(this.toRight,this.toBottom),t.shiftAbsoluteDimensions(this.toRight,this.toBottom)]}return[e.shiftRelativeDimensions(-this.toRight,-this.toBottom),t.shiftRelativeDimensions(-this.toRight,-this.toBottom)]}}class Bo extends Po{constructor(e,t,n,r){super(),this.sourceRange=e,this.toRight=t,this.toBottom=n,this.toSheet=r}get sheet(){return this.sourceRange.sheet}isIrreversible(){return!0}fixNodeAddress(e){return e}transformCellAddress(e,t){return!!this.shouldMove(e,t)&&e.moved(this.toSheet,this.toRight,this.toBottom)}transformCellRange(e,t,n){return this.transformRange(e,t,n)}transformColumnRange(e,t,n){return this.transformRange(e,t,n)}transformRowRange(e,t,n){return this.transformRange(e,t,n)}shouldMove(e,t){return e instanceof l?this.sourceRange.addressInRange(e.toSimpleCellAddress(t)):e instanceof a?this.sourceRange.rowInRange(e.toSimpleRowAddress(t))&&!this.sourceRange.isFinite():this.sourceRange.columnInRange(e.toSimpleColumnAddress(t))&&!this.sourceRange.isFinite()}transformRange(e,t,n){const r=this.transformCellAddress(e,n),i=this.transformCellAddress(t,n);return!(!r||!i)&&[r,i]}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class jo extends Po{constructor(e){super(),this.columnsSpan=e}get sheet(){return this.columnsSpan.sheet}isIrreversible(){return!0}transformRowRangeAst(e,t){return e}transformCellRange(e,t,n){return this.transformRange(e,t,n)}transformRowRange(e,t,n){throw Error("Not implemented")}transformColumnRange(e,t,n){return this.transformRange(e,t,n)}transformCellAddress(e,t){const n=yr(e,t);if(this.columnsSpan.sheet!==t.sheet&&this.columnsSpan.sheet!==n)return!1;if(this.columnsSpan.sheet!==t.sheet&&this.columnsSpan.sheet===n){const n=e.toSimpleColumnAddress(t);if(n.col<this.columnsSpan.columnStart)return!1;if(n.col>this.columnsSpan.columnEnd)return e.shiftedByColumns(-this.columnsSpan.numberOfColumns)}if(this.columnsSpan.sheet===t.sheet&&this.columnsSpan.sheet!==n){if(e.isColumnAbsolute())return!1;if(t.col<this.columnsSpan.columnStart)return!1;if(t.col>this.columnsSpan.columnEnd)return e.shiftedByColumns(this.columnsSpan.numberOfColumns)}if(this.columnsSpan.sheet===t.sheet&&this.columnsSpan.sheet===n)if(e.isColumnAbsolute()){if(e.col<this.columnsSpan.columnStart)return!1;if(e.col>this.columnsSpan.columnEnd)return e.shiftedByColumns(-this.columnsSpan.numberOfColumns)}else{const n=e.toSimpleColumnAddress(t);if(n.col<this.columnsSpan.columnStart){if(t.col<this.columnsSpan.columnStart)return!1;if(t.col>this.columnsSpan.columnEnd)return e.shiftedByColumns(this.columnsSpan.numberOfColumns)}else if(n.col>this.columnsSpan.columnEnd){if(t.col<this.columnsSpan.columnStart)return e.shiftedByColumns(-this.columnsSpan.numberOfColumns);if(t.col>this.columnsSpan.columnEnd)return!1}}return Yn.REF}fixNodeAddress(e){return this.columnsSpan.sheet===e.sheet&&this.columnsSpan.columnStart<=e.col?Object.assign(Object.assign({},e),{col:e.col-this.columnsSpan.numberOfColumns}):e}transformRange(e,t,n){const r=yr(e,n);let i=e,o=t;if(this.columnsSpan.sheet===r){const r=e.toSimpleColumnAddress(n),s=t.toSimpleColumnAddress(n);if(this.columnsSpan.columnStart<=r.col&&this.columnsSpan.columnEnd>=s.col)return Yn.REF;r.col>=this.columnsSpan.columnStart&&r.col<=this.columnsSpan.columnEnd&&(i=e.shiftedByColumns(this.columnsSpan.columnEnd-r.col+1)),s.col>=this.columnsSpan.columnStart&&s.col<=this.columnsSpan.columnEnd&&(o=t.shiftedByColumns(-(s.col-this.columnsSpan.columnStart+1)))}const s=this.transformCellAddress(i,n),a=this.transformCellAddress(o,n);if(!1===s&&!1===a)return[i,o];if(s===Yn.REF||a===Yn.REF)throw Error("Cannot happen");return[s||i,a||o]}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Yo extends Po{constructor(e){super(),this.rowsSpan=e}get sheet(){return this.rowsSpan.sheet}isIrreversible(){return!0}transformColumnRangeAst(e,t){return e}transformCellAddress(e,t){const n=yr(e,t);if(this.rowsSpan.sheet!==t.sheet&&this.rowsSpan.sheet!==n)return!1;if(this.rowsSpan.sheet!==t.sheet&&this.rowsSpan.sheet===n){const n=e.toSimpleRowAddress(t);if(n.row<this.rowsSpan.rowStart)return!1;if(n.row>this.rowsSpan.rowEnd)return e.shiftedByRows(-this.rowsSpan.numberOfRows)}if(this.rowsSpan.sheet===t.sheet&&this.rowsSpan.sheet!==n){if(e.isRowAbsolute())return!1;if(t.row<this.rowsSpan.rowStart)return!1;if(t.row>this.rowsSpan.rowEnd)return e.shiftedByRows(this.rowsSpan.numberOfRows)}if(this.rowsSpan.sheet===t.sheet&&this.rowsSpan.sheet===n)if(e.isRowAbsolute()){if(e.row<this.rowsSpan.rowStart)return!1;if(e.row>this.rowsSpan.rowEnd)return e.shiftedByRows(-this.rowsSpan.numberOfRows)}else{const n=e.toSimpleRowAddress(t);if(n.row<this.rowsSpan.rowStart){if(t.row<this.rowsSpan.rowStart)return!1;if(t.row>this.rowsSpan.rowEnd)return e.shiftedByRows(this.rowsSpan.numberOfRows)}else if(n.row>this.rowsSpan.rowEnd){if(t.row<this.rowsSpan.rowStart)return e.shiftedByRows(-this.rowsSpan.numberOfRows);if(t.row>this.rowsSpan.rowEnd)return!1}}return Yn.REF}transformCellRange(e,t,n){return this.transformRange(e,t,n)}transformRowRange(e,t,n){return this.transformRange(e,t,n)}transformColumnRange(e,t,n){throw Error("Not implemented")}fixNodeAddress(e){return this.rowsSpan.sheet===e.sheet&&this.rowsSpan.rowStart<=e.row?Object.assign(Object.assign({},e),{row:e.row-this.rowsSpan.numberOfRows}):e}transformRange(e,t,n){const r=yr(e,n);let i=e,o=t;if(this.rowsSpan.sheet===r){const r=e.toSimpleRowAddress(n),s=t.toSimpleRowAddress(n);if(this.rowsSpan.rowStart<=r.row&&this.rowsSpan.rowEnd>=s.row)return Yn.REF;r.row>=this.rowsSpan.rowStart&&r.row<=this.rowsSpan.rowEnd&&(i=e.shiftedByRows(this.rowsSpan.rowEnd-r.row+1)),s.row>=this.rowsSpan.rowStart&&s.row<=this.rowsSpan.rowEnd&&(o=t.shiftedByRows(-(s.row-this.rowsSpan.rowStart+1)))}const s=this.transformCellAddress(i,n),a=this.transformCellAddress(o,n);return!1===s&&!1===a?[i,o]:s===Yn.REF||a===Yn.REF?Yn.REF:[s||i,a||o]}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Vo extends Po{constructor(e){super(),this.sheet=e}isIrreversible(){return!0}performEagerTransformations(e,t){for(const n of e.arrayFormulaNodes()){const[t]=this.transformSingleAst(n.getFormula(e.lazilyTransformingAstService),n.getAddress(e.lazilyTransformingAstService));n.setFormula(t)}}fixNodeAddress(e){return e}transformCellAddress(e,t){return this.transformAddress(e)}transformCellRange(e,t,n){return this.transformAddress(e)}transformColumnRange(e,t,n){return this.transformAddress(e)}transformRowRange(e,t,n){return this.transformAddress(e)}transformAddress(e){return e.sheet===this.sheet&&Yn.REF}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function Wo(e){if(!Array.isArray(e))throw new qt("an array of arrays.");for(let t=0;t<e.length;t++)if(!Array.isArray(e[t]))throw new qt("an array of arrays.")}function zo(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){let i=0;for(let t=0;t<e[o].length;t++){const n=e[o][t];void 0!==n&&null!==n&&(i=t+1,++r)}t=Math.max(t,i),i>0&&(n=o+1)}const i=t*n;return{height:n,width:t,fill:0===i?0:r/i}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Go{constructor(e,t){this.sheet=e,this.indexes=t}normalizedIndexes(){return Jo(this.indexes)}rowsSpans(){return this.normalizedIndexes().map((e=>Ht.fromNumberOfRows(this.sheet,e[0],e[1])))}}class $o{constructor(e,t){this.sheet=e,this.indexes=t}normalizedIndexes(){return Qo(this.indexes)}rowsSpans(){return this.normalizedIndexes().map((e=>Ht.fromNumberOfRows(this.sheet,e[0],e[1])))}}class qo{constructor(e,t){this.sheet=e,this.indexes=t}normalizedIndexes(){return Qo(this.indexes)}columnsSpans(){return this.normalizedIndexes().map((e=>Ut.fromNumberOfColumns(this.sheet,e[0],e[1])))}}class Ko{constructor(e,t){this.sheet=e,this.indexes=t}normalizedIndexes(){return Jo(this.indexes)}columnsSpans(){return this.normalizedIndexes().map((e=>Ut.fromNumberOfColumns(this.sheet,e[0],e[1])))}}class Xo{constructor(e,t,n,r,i,o,s,a,l){this.dependencyGraph=t,this.columnSearch=n,this.cellContentParser=r,this.parser=i,this.stats=o,this.lazilyTransformingAstService=s,this.namedExpressions=a,this.arraySizePredictor=l,this.changes=Ft.empty(),this.allocateNamedExpressionAddressSpace(),this.maxColumns=e.maxColumns,this.maxRows=e.maxRows}get sheetMapping(){return this.dependencyGraph.sheetMapping}get addressMapping(){return this.dependencyGraph.addressMapping}removeRows(e){const t=[];for(const n of e.rowsSpans()){const e=this.doRemoveRows(n);e&&t.push(e)}return t}addRows(e){for(const t of e.rowsSpans())this.doAddRows(t)}addColumns(e){for(const t of e.columnsSpans())this.doAddColumns(t)}removeColumns(e){const t=[];for(const n of e.columnsSpans()){const e=this.doRemoveColumns(n);e&&t.push(e)}return t}removeSheet(e){this.dependencyGraph.removeSheet(e);let t=0;this.stats.measure(kt.TRANSFORM_ASTS,(()=>{const n=new Vo(e);n.performEagerTransformations(this.dependencyGraph,this.parser),t=this.lazilyTransformingAstService.addTransformation(n)})),this.sheetMapping.removeSheet(e),this.columnSearch.removeSheet(e);const n=this.namedExpressions.getAllNamedExpressionsForScope(e).map((t=>this.removeNamedExpression(t.normalizeExpressionName(),e)));return{version:t,scopedNamedExpressions:n}}removeSheetByName(e){const t=this.sheetMapping.fetch(e);return this.removeSheet(t)}clearSheet(e){this.dependencyGraph.clearSheet(e),this.columnSearch.removeSheet(e)}addSheet(e){const t=this.sheetMapping.addSheet(e),n=[];return this.dependencyGraph.addressMapping.autoAddSheet(t,zo(n)),this.sheetMapping.fetchDisplayName(t)}renameSheet(e,t){return this.sheetMapping.renameSheet(e,t)}moveRows(e,t,n,r){const i=Ht.fromNumberOfRows(e,r,n);this.lazilyTransformingAstService.beginCombinedMode(e),this.doAddRows(i),r<t&&(t+=n);const o=fr(e,0,t),s=fr(e,0,r);this.moveCells(o,Number.POSITIVE_INFINITY,n,s);const a=Ht.fromNumberOfRows(e,t,n);return this.doRemoveRows(a),this.lazilyTransformingAstService.commitCombinedMode()}moveColumns(e,t,n,r){const i=Ut.fromNumberOfColumns(e,r,n);this.lazilyTransformingAstService.beginCombinedMode(e),this.doAddColumns(i),r<t&&(t+=n);const o=fr(e,t,0),s=fr(e,r,0);this.moveCells(o,n,Number.POSITIVE_INFINITY,s);const a=Ut.fromNumberOfColumns(e,t,n);return this.doRemoveColumns(a),this.lazilyTransformingAstService.commitCombinedMode()}moveCells(e,t,n,r){this.ensureItIsPossibleToMoveCells(e,t,n,r);const i=Sr.spanFrom(e,t,n),o=Sr.spanFrom(r,t,n),s=r.col-e.col,a=r.row-e.row,l=r.sheet,u=this.getRangeClipboardCells(o),c=this.dependencyGraph.rawValuesFromRange(o);this.columnSearch.removeValues(c);const h=this.dependencyGraph.rawValuesFromRange(i);this.columnSearch.moveValues(h,s,a,l);let d=0;this.stats.measure(kt.TRANSFORM_ASTS,(()=>{const e=new Uo(i,s,a,l);e.performEagerTransformations(this.dependencyGraph,this.parser),d=this.lazilyTransformingAstService.addTransformation(e)})),this.dependencyGraph.moveCells(i,s,a,l);const f=this.updateNamedExpressionsForMovedCells(e,t,n,r);return{version:d,overwrittenCellsData:u,addedGlobalNamedExpressions:f}}setRowOrder(e,t){const n=[];let r=[];for(const[i,o]of t)if(i!==o){const t=Sr.spanFrom({sheet:e,col:0,row:i},1/0,1),s=this.getRangeClipboardCells(t);r=r.concat(s),n.push(s.map((([{sheet:e,col:t},n])=>[{sheet:e,col:t,row:o},n])))}return n.forEach((t=>this.restoreClipboardCells(e,t.values()))),r}setColumnOrder(e,t){const n=[];let r=[];for(const[i,o]of t)if(i!==o){const t=Sr.spanFrom({sheet:e,col:i,row:0},1,1/0),s=this.getRangeClipboardCells(t);r=r.concat(s),n.push(s.map((([{sheet:e,col:t,row:n},r])=>[{sheet:e,col:o,row:n},r])))}return n.forEach((t=>this.restoreClipboardCells(e,t.values()))),r}addNamedExpression(e,t,n,r){const i=this.namedExpressions.addNamedExpression(e,n,r);this.storeNamedExpressionInCell(i.address,t),this.adjustNamedExpressionEdges(i,e,n)}restoreNamedExpression(e,t,n){const r=e.displayName;this.restoreCell(e.address,t);const i=this.namedExpressions.restoreNamedExpression(e,n);this.adjustNamedExpressionEdges(i,r,n)}changeNamedExpressionExpression(e,t,n,r){const i=this.namedExpressions.namedExpressionForScope(e,n);if(!i)throw new Qt(e);const o=i.copy();i.options=r;const s=this.getClipboardCell(i.address);return this.storeNamedExpressionInCell(i.address,t),[o,s]}removeNamedExpression(e,t){const n=this.namedExpressions.namedExpressionForScope(e,t);if(!n)throw new Qt(e);this.namedExpressions.remove(n.displayName,t);const r=this.getClipboardCell(n.address);if(void 0!==t){const t=this.namedExpressions.workbookNamedExpressionOrPlaceholder(e);this.dependencyGraph.exchangeNode(n.address,t.address)}else this.dependencyGraph.setCellEmpty(n.address);return[n,r]}ensureItIsPossibleToMoveCells(e,t,n,r){if(pr(e)||!(Zo(t)&&Zo(n)||es(e,t,n))||pr(r)||!this.sheetMapping.hasSheetWithId(e.sheet)||!this.sheetMapping.hasSheetWithId(r.sheet))throw new qt("a valid range of cells to move.");const i=Sr.spanFrom(e,t,n),o=Sr.spanFrom(r,t,n);if(o.exceedsSheetSizeLimits(this.maxColumns,this.maxRows))throw new zt;if(this.dependencyGraph.arrayMapping.isFormulaArrayInRange(i))throw new vn;if(this.dependencyGraph.arrayMapping.isFormulaArrayInRange(o))throw new yn}restoreClipboardCells(e,t){const n=[];for(const[r,i]of t)if(this.restoreCell(r,i),i.type===So.FORMULA){const{dependencies:t}=this.parser.fetchCachedResult(i.hash);n.push(...this.updateNamedExpressionsForTargetAddress(e,r,t))}return n}restoreCell(e,t){switch(t.type){case So.VALUE:this.setValueToCell(t,e);break;case So.FORMULA:this.setFormulaToCellFromCache(t.hash,e);break;case So.EMPTY:this.setCellEmpty(e);break;case So.PARSING_ERROR:this.setParsingErrorToCell(t.rawInput,t.errors,e);break}}getOldContent(e){const t=this.dependencyGraph.getCell(e);if(void 0===t||t instanceof qn)return[e,{type:So.EMPTY}];if(t instanceof Kn)return[e,Object.assign({type:So.VALUE},t.getValues())];if(t instanceof Cn)return[t.getAddress(this.lazilyTransformingAstService),{type:So.FORMULA,hash:this.parser.computeHashFromAst(t.getFormula(this.lazilyTransformingAstService))}];if(t instanceof Xn)return[e,{type:So.PARSING_ERROR,rawInput:t.rawInput,errors:t.errors}];throw Error("Trying to copy unsupported type")}getClipboardCell(e){const t=this.dependencyGraph.getCell(e);if(void 0===t||t instanceof qn)return{type:So.EMPTY};if(t instanceof Kn)return Object.assign({type:So.VALUE},t.getValues());if(t instanceof Rn){const n=t.getArrayCellValue(e);return n===_t?{type:So.EMPTY}:{type:So.VALUE,parsedValue:n,rawValue:t.getArrayCellRawValue(e)}}if(t instanceof xn)return{type:So.FORMULA,hash:this.parser.computeHashFromAst(t.getFormula(this.lazilyTransformingAstService))};if(t instanceof Xn)return{type:So.PARSING_ERROR,rawInput:t.rawInput,errors:t.errors};throw Error("Trying to copy unsupported type")}getSheetClipboardCells(e){const t=this.dependencyGraph.getSheetHeight(e),n=this.dependencyGraph.getSheetWidth(e),r=new Array(t);for(let i=0;i<t;i++){r[i]=new Array(n);for(let t=0;t<n;t++){const n=fr(e,t,i);r[i][t]=this.getClipboardCell(n)}}return r}getRangeClipboardCells(e){const t=[];for(const n of e.addresses(this.dependencyGraph))t.push([n,this.getClipboardCell(n)]);return t}setCellContent(e,t){const n=this.cellContentParser.parse(t),r=this.getOldContent(e);if(n instanceof _o.Formula){const t=this.parser.parse(n.formula,e),{ast:r,errors:o}=t;if(o.length>0)this.setParsingErrorToCell(n.formula,o,e);else try{const n=this.arraySizePredictor.checkArraySize(r,e);if(n.width<=0||n.height<=0)throw Error("Incorrect array size");this.setFormulaToCell(e,n,t)}catch(i){if(!i.message)throw i;const t={type:V.InvalidRangeSize,message:"Invalid range size."};this.setParsingErrorToCell(n.formula,[t],e)}}else n instanceof _o.Empty?this.setCellEmpty(e):this.setValueToCell({parsedValue:n.value,rawValue:t},e);return r}setSheetContent(e,t){this.clearSheet(e);for(let n=0;n<t.length;n++)for(let r=0;r<t[n].length;r++){const i=fr(e,r,n);this.setCellContent(i,t[n][r])}}setParsingErrorToCell(e,t,n){const r=this.dependencyGraph.getCellValue(n),i=new Xn(t,e),o=this.dependencyGraph.setParsingErrorToCell(n,i);this.columnSearch.remove(Et(r),n),this.columnSearch.applyChanges(o.getChanges()),this.changes.addAll(o),this.changes.addChange(i.getCellValue(),n)}setFormulaToCell(e,t,{ast:n,hasVolatileFunction:r,hasStructuralChangeFunction:i,dependencies:o}){const s=this.dependencyGraph.getCellValue(e),a=this.dependencyGraph.setFormulaToCell(e,n,bt(o,e),t,r,i);this.columnSearch.remove(Et(s),e),this.columnSearch.applyChanges(a.getChanges()),this.changes.addAll(a)}setValueToCell(e,t){const n=this.dependencyGraph.getCellValue(t),r=this.dependencyGraph.setValueToCell(t,e);this.columnSearch.change(Et(n),Et(e.parsedValue),t),this.columnSearch.applyChanges(r.getChanges().filter((e=>!br(e.address,t)))),this.changes.addAll(r),this.changes.addChange(e.parsedValue,t)}setCellEmpty(e){if(this.dependencyGraph.isArrayInternalCell(e))return;const t=this.dependencyGraph.getCellValue(e),n=this.dependencyGraph.setCellEmpty(e);this.columnSearch.remove(Et(t),e),this.columnSearch.applyChanges(n.getChanges()),this.changes.addAll(n),this.changes.addChange(_t,e)}setFormulaToCellFromCache(e,t){const{ast:n,hasVolatileFunction:r,hasStructuralChangeFunction:i,dependencies:o}=this.parser.fetchCachedResult(e),s=bt(o,t),[a]=new Ho(t.sheet).transformSingleAst(n,t);this.parser.rememberNewAst(a);const l=wt(s),u=this.arraySizePredictor.checkArraySize(n,t);this.dependencyGraph.setFormulaToCell(t,a,l,u,r,i)}rowEffectivelyNotInSheet(e,t){const n=this.dependencyGraph.addressMapping.getHeight(t);return e>=n}getAndClearContentChanges(){const e=this.changes;return this.changes=Ft.empty(),e}forceApplyPostponedTransformations(){this.dependencyGraph.forceApplyPostponedTransformations()}doRemoveRows(e){if(this.rowEffectivelyNotInSheet(e.rowStart,e.sheet))return;const t=[];for(const[o]of this.dependencyGraph.entriesFromRowsSpan(e))t.push({address:o,cellType:this.getClipboardCell(o)});const{affectedArrays:n,contentChanges:r}=this.dependencyGraph.removeRows(e);this.columnSearch.applyChanges(r.getChanges());let i=0;return this.stats.measure(kt.TRANSFORM_ASTS,(()=>{const t=new Yo(e);t.performEagerTransformations(this.dependencyGraph,this.parser),i=this.lazilyTransformingAstService.addTransformation(t)})),this.rewriteAffectedArrays(n),{version:i,removedCells:t,rowFrom:e.rowStart,rowCount:e.numberOfRows}}doRemoveColumns(e){if(this.columnEffectivelyNotInSheet(e.columnStart,e.sheet))return;const t=[];for(const[o]of this.dependencyGraph.entriesFromColumnsSpan(e))t.push({address:o,cellType:this.getClipboardCell(o)});const{affectedArrays:n,contentChanges:r}=this.dependencyGraph.removeColumns(e);this.columnSearch.applyChanges(r.getChanges()),this.columnSearch.removeColumns(e);let i=0;return this.stats.measure(kt.TRANSFORM_ASTS,(()=>{const t=new jo(e);t.performEagerTransformations(this.dependencyGraph,this.parser),i=this.lazilyTransformingAstService.addTransformation(t)})),this.rewriteAffectedArrays(n),{version:i,removedCells:t,columnFrom:e.columnStart,columnCount:e.numberOfColumns}}doAddRows(e){if(this.rowEffectivelyNotInSheet(e.rowStart,e.sheet))return;const{affectedArrays:t}=this.dependencyGraph.addRows(e);this.stats.measure(kt.TRANSFORM_ASTS,(()=>{const t=new Fo(e);t.performEagerTransformations(this.dependencyGraph,this.parser),this.lazilyTransformingAstService.addTransformation(t)})),this.rewriteAffectedArrays(t)}rewriteAffectedArrays(e){for(const t of e.values()){if(t.array.size.isRef)continue;const e=t.getFormula(this.lazilyTransformingAstService),n=t.getAddress(this.lazilyTransformingAstService),r=this.parser.computeHashFromAst(e);this.setFormulaToCellFromCache(r,n)}}doAddColumns(e){if(this.columnEffectivelyNotInSheet(e.columnStart,e.sheet))return;const{affectedArrays:t,contentChanges:n}=this.dependencyGraph.addColumns(e);this.columnSearch.addColumns(e),this.columnSearch.applyChanges(n.getChanges()),this.stats.measure(kt.TRANSFORM_ASTS,(()=>{const t=new Do(e);t.performEagerTransformations(this.dependencyGraph,this.parser),this.lazilyTransformingAstService.addTransformation(t)})),this.rewriteAffectedArrays(t)}columnEffectivelyNotInSheet(e,t){const n=this.dependencyGraph.addressMapping.getWidth(t);return e>=n}adjustNamedExpressionEdges(e,t,n){if(void 0===n)return;const{vertex:r,id:i}=this.dependencyGraph.fetchCellOrCreateEmpty(e.address),o=null!==i&&void 0!==i?i:this.dependencyGraph.graph.getNodeId(r),s=this.namedExpressions.workbookNamedExpressionOrPlaceholder(t),{vertex:a,id:l}=this.dependencyGraph.fetchCellOrCreateEmpty(s.address),u=null!==l&&void 0!==l?l:this.dependencyGraph.graph.getNodeId(a);for(const c of this.dependencyGraph.graph.adjacentNodes(a))if(c instanceof xn&&c.getAddress(this.lazilyTransformingAstService).sheet===n){const t=c.getFormula(this.lazilyTransformingAstService),n=c.getAddress(this.lazilyTransformingAstService),{dependencies:r}=this.parser.fetchCachedResultForAst(t);for(const i of bt(r,n))i instanceof yt&&i.name.toLowerCase()===e.displayName.toLowerCase()&&(this.dependencyGraph.graph.removeEdge(u,c),this.dependencyGraph.graph.addEdge(o,c))}}storeNamedExpressionInCell(e,t){const n=this.cellContentParser.parse(t);if(n instanceof _o.Formula){const t=this.parser.parse(n.formula,fr(-1,0,0));if(Io(t.ast))throw new bn;const{ast:r,hasVolatileFunction:i,hasStructuralChangeFunction:o,dependencies:s}=t;this.dependencyGraph.setFormulaToCell(e,r,bt(s,e),ei.scalar(),i,o)}else n instanceof _o.Empty?this.setCellEmpty(e):this.setValueToCell({parsedValue:n.value,rawValue:t},e)}updateNamedExpressionsForMovedCells(e,t,n,r){if(e.sheet===r.sheet)return[];const i=[],o=Sr.spanFrom(r,t,n);for(const s of o.addresses(this.dependencyGraph)){const t=this.addressMapping.fetchCell(s);if(t instanceof xn&&s.sheet!==e.sheet){const n=t.getFormula(this.lazilyTransformingAstService),{dependencies:r}=this.parser.fetchCachedResultForAst(n);i.push(...this.updateNamedExpressionsForTargetAddress(e.sheet,s,r))}}return i}updateNamedExpressionsForTargetAddress(e,t,n){if(e===t.sheet)return[];const r=[],i=this.addressMapping.fetchCell(t);for(const o of bt(n,t)){if(!(o instanceof yt))continue;const n=o.name,s=this.dependencyGraph.fetchNamedExpressionVertex(n,e).vertex,a=this.namedExpressions.isExpressionInScope(n,t.sheet),l=a?this.dependencyGraph.fetchNamedExpressionVertex(n,t.sheet).vertex:this.copyOrFetchGlobalNamedExpressionVertex(n,s,r);l!==s&&(this.dependencyGraph.graph.removeEdgeIfExists(s,i),this.dependencyGraph.graph.addEdge(l,i))}return r}allocateNamedExpressionAddressSpace(){this.dependencyGraph.addressMapping.addSheet(Oo.SHEET_FOR_WORKBOOK_EXPRESSIONS,new Jn(0,0))}copyOrFetchGlobalNamedExpressionVertex(e,t,n){let r=this.namedExpressions.namedExpressionForScope(e);if(void 0===r)if(r=this.namedExpressions.addNamedExpression(e),n.push(r.normalizeExpressionName()),t instanceof xn){const e=this.parser.fetchCachedResultForAst(t.getFormula(this.lazilyTransformingAstService)),{ast:n,hasVolatileFunction:i,hasStructuralChangeFunction:o,dependencies:s}=e;this.dependencyGraph.setFormulaToCell(r.address,n,bt(s,r.address),ei.scalar(),i,o)}else t instanceof qn?this.setCellEmpty(r.address):t instanceof Kn&&this.setValueToCell(t.getValues(),r.address);return this.dependencyGraph.fetchCellOrCreateEmpty(r.address).vertex}}function Jo(e){if(e.length<=1)return e;const t=[...e].sort((([e],[t])=>e-t)),n=t.reduce(((e,[t,n])=>{const r=e[e.length-1],i=r[0]+r[1];return t<=i?r[1]+=Math.max(0,n-(i-t)):e.push([t,n]),e}),[t[0]]);let r=0;for(let i=0;i<n.length;++i)n[i][0]-=r,r+=n[i][1];return n}function Qo(e){if(e.length<=1)return e;const t=[...e].sort((([e],[t])=>e-t)),n=t.reduce(((e,[t,n])=>{const r=e[e.length-1];return t===r[0]?r[1]=Math.max(r[1],n):e.push([t,n]),e}),[t[0]]);let r=0;for(let i=0;i<n.length;++i)n[i][0]+=r,r+=n[i][1];return n}function Zo(e){return Number.isInteger(e)&&e>0}function es(e,t,n){return 0===e.row&&Zo(t)&&n===Number.POSITIVE_INFINITY||0===e.col&&Zo(n)&&t===Number.POSITIVE_INFINITY}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ts{}class ns extends ts{constructor(e,t){super(),this.command=e,this.rowsRemovals=t}doUndo(e){e.undoRemoveRows(this)}doRedo(e){e.redoRemoveRows(this)}}class rs extends ts{constructor(e,t,n,r,i,o,s){super(),this.sourceLeftCorner=e,this.width=t,this.height=n,this.destinationLeftCorner=r,this.overwrittenCellsData=i,this.addedGlobalNamedExpressions=o,this.version=s}doUndo(e){e.undoMoveCells(this)}doRedo(e){e.redoMoveCells(this)}}class is extends ts{constructor(e){super(),this.command=e}doUndo(e){e.undoAddRows(this)}doRedo(e){e.redoAddRows(this)}}class os extends ts{constructor(e,t,n){super(),this.sheetId=e,this.rowMapping=t,this.oldContent=n}doUndo(e){e.undoSetRowOrder(this)}doRedo(e){e.redoSetRowOrder(this)}}class ss extends ts{constructor(e,t,n){super(),this.sheetId=e,this.columnMapping=t,this.oldContent=n}doUndo(e){e.undoSetColumnOrder(this)}doRedo(e){e.redoSetColumnOrder(this)}}class as extends ts{constructor(e,t,n){super(),this.sheetId=e,this.oldSheetContent=t,this.newSheetContent=n}doUndo(e){e.undoSetSheetContent(this)}doRedo(e){e.redoSetSheetContent(this)}}class ls extends ts{constructor(e,t,n,r,i){super(),this.sheet=e,this.startRow=t,this.numberOfRows=n,this.targetRow=r,this.version=i,this.undoStart=this.startRow<this.targetRow?this.targetRow-this.numberOfRows:this.targetRow,this.undoEnd=this.startRow>this.targetRow?this.startRow+this.numberOfRows:this.startRow}doUndo(e){e.undoMoveRows(this)}doRedo(e){e.redoMoveRows(this)}}class us extends ts{constructor(e,t,n,r,i){super(),this.sheet=e,this.startColumn=t,this.numberOfColumns=n,this.targetColumn=r,this.version=i,this.undoStart=this.startColumn<this.targetColumn?this.targetColumn-this.numberOfColumns:this.targetColumn,this.undoEnd=this.startColumn>this.targetColumn?this.startColumn+this.numberOfColumns:this.startColumn}doUndo(e){e.undoMoveColumns(this)}doRedo(e){e.redoMoveColumns(this)}}class cs extends ts{constructor(e){super(),this.command=e}doUndo(e){e.undoAddColumns(this)}doRedo(e){e.redoAddColumns(this)}}class hs extends ts{constructor(e,t){super(),this.command=e,this.columnsRemovals=t}doUndo(e){e.undoRemoveColumns(this)}doRedo(e){e.redoRemoveColumns(this)}}class ds extends ts{constructor(e){super(),this.sheetName=e}doUndo(e){e.undoAddSheet(this)}doRedo(e){e.redoAddSheet(this)}}class fs extends ts{constructor(e,t,n,r,i){super(),this.sheetName=e,this.sheetId=t,this.oldSheetContent=n,this.scopedNamedExpressions=r,this.version=i}doUndo(e){e.undoRemoveSheet(this)}doRedo(e){e.redoRemoveSheet(this)}}class ps extends ts{constructor(e,t,n){super(),this.sheetId=e,this.oldName=t,this.newName=n}doUndo(e){e.undoRenameSheet(this)}doRedo(e){e.redoRenameSheet(this)}}class ms extends ts{constructor(e,t){super(),this.sheetId=e,this.oldSheetContent=t}doUndo(e){e.undoClearSheet(this)}doRedo(e){e.redoClearSheet(this)}}class gs extends ts{constructor(e){super(),this.cellContents=e}doUndo(e){e.undoSetCellContents(this)}doRedo(e){e.redoSetCellContents(this)}}class vs extends ts{constructor(e,t,n,r){super(),this.targetLeftCorner=e,this.oldContent=t,this.newContent=n,this.addedGlobalNamedExpressions=r}doUndo(e){e.undoPaste(this)}doRedo(e){e.redoPaste(this)}}class ys extends ts{constructor(e,t,n,r){super(),this.name=e,this.newContent=t,this.scope=n,this.options=r}doUndo(e){e.undoAddNamedExpression(this)}doRedo(e){e.redoAddNamedExpression(this)}}class bs extends ts{constructor(e,t,n){super(),this.namedExpression=e,this.content=t,this.scope=n}doUndo(e){e.undoRemoveNamedExpression(this)}doRedo(e){e.redoRemoveNamedExpression(this)}}class ws extends ts{constructor(e,t,n,r,i){super(),this.namedExpression=e,this.newContent=t,this.oldContent=n,this.scope=r,this.options=i}doUndo(e){e.undoChangeNamedExpression(this)}doRedo(e){e.redoChangeNamedExpression(this)}}class _s extends ts{constructor(){super(...arguments),this.operations=[]}add(e){this.operations.push(e)}*reversedOperations(){for(let e=this.operations.length-1;e>=0;e--)yield this.operations[e]}doUndo(e){e.undoBatch(this)}doRedo(e){e.redoBatch(this)}}class Es{constructor(e,t){this.operations=t,this.oldData=new Map,this.undoStack=[],this.redoStack=[],this.undoLimit=e.undoLimit}saveOperation(e){void 0!==this.batchUndoEntry?this.batchUndoEntry.add(e):this.addUndoEntry(e)}beginBatchMode(){this.batchUndoEntry=new _s}commitBatchMode(){if(void 0===this.batchUndoEntry)throw Error("Batch mode wasn't started");this.addUndoEntry(this.batchUndoEntry),this.batchUndoEntry=void 0}storeDataForVersion(e,t,n){this.oldData.has(e)||this.oldData.set(e,[]);const r=this.oldData.get(e);r.push([t,n])}clearRedoStack(){this.redoStack=[]}clearUndoStack(){this.undoStack=[]}isUndoStackEmpty(){return 0===this.undoStack.length}isRedoStackEmpty(){return 0===this.redoStack.length}undo(){const e=this.undoStack.pop();if(!e)throw Error("Attempted to undo without operation on stack");this.undoEntry(e),this.redoStack.push(e)}undoBatch(e){for(const t of e.reversedOperations())this.undoEntry(t)}undoRemoveRows(e){this.operations.forceApplyPostponedTransformations();const{command:{sheet:t},rowsRemovals:n}=e;for(let r=n.length-1;r>=0;--r){const e=n[r];this.operations.addRows(new $o(t,[[e.rowFrom,e.rowCount]]));for(const{address:t,cellType:n}of e.removedCells)this.operations.restoreCell(t,n);this.restoreOldDataFromVersion(e.version-1)}}undoRemoveColumns(e){this.operations.forceApplyPostponedTransformations();const{command:{sheet:t},columnsRemovals:n}=e;for(let r=n.length-1;r>=0;--r){const e=n[r];this.operations.addColumns(new qo(t,[[e.columnFrom,e.columnCount]]));for(const{address:t,cellType:n}of e.removedCells)this.operations.restoreCell(t,n);this.restoreOldDataFromVersion(e.version-1)}}undoAddRows(e){const t=e.command.rowsSpans();for(let n=t.length-1;n>=0;--n){const r=t[n];this.operations.removeRows(new Go(e.command.sheet,[[r.rowStart,r.numberOfRows]]))}}undoAddColumns(e){const t=e.command.columnsSpans();for(let n=t.length-1;n>=0;--n){const r=t[n];this.operations.removeColumns(new Ko(e.command.sheet,[[r.columnStart,r.numberOfColumns]]))}}undoSetCellContents(e){for(const t of e.cellContents){const e=t.address,[n,r]=t.oldContent;br(e,n)||this.operations.setCellEmpty(e),this.operations.restoreCell(n,r)}}undoPaste(e){this.restoreOperationOldContent(e.oldContent);for(const t of e.addedGlobalNamedExpressions)this.operations.removeNamedExpression(t)}undoMoveRows(e){const{sheet:t}=e;this.operations.moveRows(t,e.undoStart,e.numberOfRows,e.undoEnd),this.restoreOldDataFromVersion(e.version-1)}undoMoveColumns(e){const{sheet:t}=e;this.operations.moveColumns(t,e.undoStart,e.numberOfColumns,e.undoEnd),this.restoreOldDataFromVersion(e.version-1)}undoMoveCells(e){this.operations.forceApplyPostponedTransformations(),this.operations.moveCells(e.destinationLeftCorner,e.width,e.height,e.sourceLeftCorner),this.restoreOperationOldContent(e.overwrittenCellsData),this.restoreOldDataFromVersion(e.version-1);for(const t of e.addedGlobalNamedExpressions)this.operations.removeNamedExpression(t)}undoAddSheet(e){const{sheetName:t}=e;this.operations.removeSheetByName(t)}undoRemoveSheet(e){this.operations.forceApplyPostponedTransformations();const{oldSheetContent:t,sheetId:n}=e;this.operations.addSheet(e.sheetName);for(let r=0;r<t.length;r++){const e=t[r];for(let t=0;t<e.length;t++){const i=e[t],o=fr(n,t,r);this.operations.restoreCell(o,i)}}for(const[r,i]of e.scopedNamedExpressions)this.operations.restoreNamedExpression(r,i,n);this.restoreOldDataFromVersion(e.version-1)}undoRenameSheet(e){this.operations.renameSheet(e.sheetId,e.oldName)}undoClearSheet(e){const{oldSheetContent:t,sheetId:n}=e;for(let r=0;r<t.length;r++){const e=t[r];for(let t=0;t<e.length;t++){const i=e[t],o=fr(n,t,r);this.operations.restoreCell(o,i)}}}undoSetSheetContent(e){const{oldSheetContent:t,sheetId:n}=e;this.operations.clearSheet(n);for(let r=0;r<t.length;r++){const e=t[r];for(let t=0;t<e.length;t++){const i=e[t],o=fr(n,t,r);this.operations.restoreCell(o,i)}}}undoAddNamedExpression(e){this.operations.removeNamedExpression(e.name,e.scope)}undoRemoveNamedExpression(e){this.operations.restoreNamedExpression(e.namedExpression,e.content,e.scope)}undoChangeNamedExpression(e){this.operations.restoreNamedExpression(e.namedExpression,e.oldContent,e.scope)}undoSetRowOrder(e){this.restoreOperationOldContent(e.oldContent)}undoSetColumnOrder(e){this.restoreOperationOldContent(e.oldContent)}redo(){const e=this.redoStack.pop();if(!e)throw Error("Attempted to redo without operation on stack");this.redoEntry(e),this.undoStack.push(e)}redoBatch(e){for(const t of e.operations)this.redoEntry(t)}redoRemoveRows(e){this.operations.removeRows(e.command)}redoMoveCells(e){this.operations.moveCells(e.sourceLeftCorner,e.width,e.height,e.destinationLeftCorner)}redoRemoveColumns(e){this.operations.removeColumns(e.command)}redoPaste(e){const{targetLeftCorner:t,newContent:n}=e,r=n.length,i=n[0].length;for(let o=0;o<r;++o)for(let e=0;e<i;++e){const r=fr(t.sheet,t.col+e,t.row+o);this.operations.restoreCell(r,n[o][e])}}redoSetCellContents(e){for(const t of e.cellContents)this.operations.setCellContent(t.address,t.newContent)}redoAddRows(e){this.operations.addRows(e.command)}redoAddColumns(e){this.operations.addColumns(e.command)}redoRemoveSheet(e){this.operations.removeSheetByName(e.sheetName)}redoAddSheet(e){this.operations.addSheet(e.sheetName)}redoRenameSheet(e){this.operations.renameSheet(e.sheetId,e.newName)}redoMoveRows(e){this.operations.moveRows(e.sheet,e.startRow,e.numberOfRows,e.targetRow)}redoMoveColumns(e){this.operations.moveColumns(e.sheet,e.startColumn,e.numberOfColumns,e.targetColumn)}redoClearSheet(e){this.operations.clearSheet(e.sheetId)}redoSetSheetContent(e){const{sheetId:t,newSheetContent:n}=e;this.operations.setSheetContent(t,n)}redoAddNamedExpression(e){this.operations.addNamedExpression(e.name,e.newContent,e.scope,e.options)}redoRemoveNamedExpression(e){this.operations.removeNamedExpression(e.namedExpression.displayName,e.scope)}redoChangeNamedExpression(e){this.operations.changeNamedExpressionExpression(e.namedExpression.displayName,e.newContent,e.scope,e.options)}redoSetRowOrder(e){this.operations.setRowOrder(e.sheetId,e.rowMapping)}redoSetColumnOrder(e){this.operations.setColumnOrder(e.sheetId,e.columnMapping)}addUndoEntry(e){this.undoStack.push(e),this.undoStack.splice(0,Math.max(0,this.undoStack.length-this.undoLimit))}undoEntry(e){e.doUndo(this)}restoreOperationOldContent(e){for(const[t,n]of e)this.operations.restoreCell(t,n)}redoEntry(e){e.doRedo(this)}restoreOldDataFromVersion(e){const t=this.oldData.get(e)||[];for(const n of t){const[e,t]=n;this.operations.setFormulaToCellFromCache(t,e)}}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ss{constructor(e,t,n,r,i,o,s,a,l,u){this.operations=t,this.undoRedo=n,this.clipboardOperations=r,this.dependencyGraph=i,this.columnSearch=o,this.parser=s,this.cellContentParser=a,this.lazilyTransformingAstService=l,this.namedExpressions=u,this.maxRows=e.maxRows,this.maxColumns=e.maxColumns}get sheetMapping(){return this.dependencyGraph.sheetMapping}addRows(e,...t){const n=new $o(e,t);this.ensureItIsPossibleToAddRows(e,...t),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut(),this.operations.addRows(n),this.undoRedo.saveOperation(new is(n))}removeRows(e,...t){const n=new Go(e,t);this.ensureItIsPossibleToRemoveRows(e,...t),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const r=this.operations.removeRows(n);this.undoRedo.saveOperation(new ns(n,r))}addColumns(e,...t){const n=new qo(e,t);this.ensureItIsPossibleToAddColumns(e,...t),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut(),this.operations.addColumns(n),this.undoRedo.saveOperation(new cs(n))}removeColumns(e,...t){const n=new Ko(e,t);this.ensureItIsPossibleToRemoveColumns(e,...t),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const r=this.operations.removeColumns(n);this.undoRedo.saveOperation(new hs(n,r))}moveCells(e,t,n,r){this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const{version:i,overwrittenCellsData:o,addedGlobalNamedExpressions:s}=this.operations.moveCells(e,t,n,r);this.undoRedo.saveOperation(new rs(e,t,n,r,o,s,i))}moveRows(e,t,n,r){this.ensureItIsPossibleToMoveRows(e,t,n,r),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const i=this.operations.moveRows(e,t,n,r);this.undoRedo.saveOperation(new ls(e,t,n,r,i))}moveColumns(e,t,n,r){this.ensureItIsPossibleToMoveColumns(e,t,n,r),this.undoRedo.clearRedoStack();const i=this.operations.moveColumns(e,t,n,r);this.undoRedo.saveOperation(new us(e,t,n,r,i))}cut(e,t,n){this.clipboardOperations.cut(e,t,n)}ensureItIsPossibleToCopy(e,t,n){if(!Ts(t))throw new qt("width to be positive integer.");if(!Ts(n))throw new qt("height to be positive integer.")}copy(e,t,n){this.ensureItIsPossibleToCopy(e,t,n),this.clipboardOperations.copy(e,t,n)}paste(e){const t=this.clipboardOperations.clipboard;if(void 0===t)throw new tn;if(this.clipboardOperations.isCutClipboard())this.moveCells(t.sourceLeftCorner,t.width,t.height,e);else if(this.clipboardOperations.isCopyClipboard()){this.clipboardOperations.ensureItIsPossibleToCopyPaste(e);const n=Sr.spanFrom(e,t.width,t.height),r=this.operations.getRangeClipboardCells(n);this.undoRedo.clearRedoStack();const i=this.operations.restoreClipboardCells(t.sourceLeftCorner.sheet,t.getContent(e));this.undoRedo.saveOperation(new vs(e,r,t.content,i))}}beginUndoRedoBatchMode(){this.undoRedo.beginBatchMode()}commitUndoRedoBatchMode(){this.undoRedo.commitBatchMode()}isClipboardEmpty(){return void 0===this.clipboardOperations.clipboard}clearClipboard(){this.clipboardOperations.clear()}addSheet(e){void 0!==e&&this.ensureItIsPossibleToAddSheet(e),this.undoRedo.clearRedoStack();const t=this.operations.addSheet(e);return this.undoRedo.saveOperation(new ds(t)),t}removeSheet(e){this.ensureScopeIdIsValid(e),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const t=this.sheetMapping.fetchDisplayName(e),n=this.operations.getSheetClipboardCells(e),{version:r,scopedNamedExpressions:i}=this.operations.removeSheet(e);this.undoRedo.saveOperation(new fs(t,e,n,i,r))}renameSheet(e,t){this.ensureItIsPossibleToRenameSheet(e,t);const n=this.operations.renameSheet(e,t);return void 0!==n&&(this.undoRedo.clearRedoStack(),this.undoRedo.saveOperation(new ps(e,n,t))),n}clearSheet(e){this.ensureScopeIdIsValid(e),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const t=this.operations.getSheetClipboardCells(e);this.operations.clearSheet(e),this.undoRedo.saveOperation(new ms(e,t))}setCellContents(e,t){if(t instanceof Array){for(let r=0;r<t.length;r++)if(!(t[r]instanceof Array))throw new qt("an array of arrays or a raw cell value.")}else t=[[t]];this.ensureItIsPossibleToChangeCellContents(e,t),this.undoRedo.clearRedoStack();const n=[];for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++){const o={sheet:e.sheet,row:e.row+r,col:e.col+i},s=t[r][i];this.clipboardOperations.abortCut();const a=this.operations.setCellContent(o,s);n.push({address:o,newContent:s,oldContent:a})}this.undoRedo.saveOperation(new gs(n))}setSheetContent(e,t){this.ensureScopeIdIsValid(e),this.ensureItIsPossibleToChangeSheetContents(e,t),Wo(t),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const n=this.operations.getSheetClipboardCells(e);this.operations.setSheetContent(e,t),this.undoRedo.saveOperation(new as(e,n,t))}setRowOrder(e,t){this.validateSwapRowIndexes(e,t),this.testRowOrderForArrays(e,t),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const n=this.operations.setRowOrder(e,t);this.undoRedo.saveOperation(new os(e,t,n))}validateSwapRowIndexes(e,t){if(!this.sheetMapping.hasSheetWithId(e))throw new Yt(e);this.validateRowOrColumnMapping(e,t,"row")}testColumnOrderForArrays(e,t){for(const[n,r]of t)if(n!==r){const t=Sr.spanFrom({sheet:e,col:n,row:0},1,1/0);if(this.dependencyGraph.arrayMapping.isFormulaArrayInRange(t))throw new vn}}setColumnOrder(e,t){this.validateSwapColumnIndexes(e,t),this.testColumnOrderForArrays(e,t),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut();const n=this.operations.setColumnOrder(e,t);this.undoRedo.saveOperation(new ss(e,t,n))}validateSwapColumnIndexes(e,t){if(!this.sheetMapping.hasSheetWithId(e))throw new Yt(e);this.validateRowOrColumnMapping(e,t,"column")}testRowOrderForArrays(e,t){for(const[n,r]of t)if(n!==r){const t=Sr.spanFrom({sheet:e,col:0,row:n},1/0,1);if(this.dependencyGraph.arrayMapping.isFormulaArrayInRange(t))throw new vn}}mappingFromOrder(e,t,n){if(!this.sheetMapping.hasSheetWithId(e))throw new Yt(e);const r="row"===n?this.dependencyGraph.getSheetHeight(e):this.dependencyGraph.getSheetWidth(e);if(t.length!==r)throw new qt(`number of ${n}s provided to be sheet ${"row"===n?"height":"width"}.`);const i=[];for(let o=0;o<r;o++)t[o]!==o&&i.push([o,t[o]]);return i}undo(){if(this.undoRedo.isUndoStackEmpty())throw new Zt;this.clipboardOperations.abortCut(),this.undoRedo.undo()}redo(){if(this.undoRedo.isRedoStackEmpty())throw new en;this.clipboardOperations.abortCut(),this.undoRedo.redo()}addNamedExpression(e,t,n,r){this.ensureItIsPossibleToAddNamedExpression(e,t,n),this.operations.addNamedExpression(e,t,n,r),this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut(),this.undoRedo.saveOperation(new ys(e,t,n,r))}changeNamedExpressionExpression(e,t,n,r){this.ensureItIsPossibleToChangeNamedExpression(e,n,t);const[i,o]=this.operations.changeNamedExpressionExpression(e,n,t,r);this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut(),this.undoRedo.saveOperation(new ws(i,n,o,t,r))}removeNamedExpression(e,t){this.ensureScopeIdIsValid(t);const[n,r]=this.operations.removeNamedExpression(e,t);return this.undoRedo.clearRedoStack(),this.clipboardOperations.abortCut(),this.undoRedo.saveOperation(new bs(n,r,t)),n}ensureItIsPossibleToAddNamedExpression(e,t,n){this.ensureScopeIdIsValid(n),this.ensureNamedExpressionNameIsValid(e,n),this.ensureNamedExpressionIsValid(t)}ensureItIsPossibleToChangeNamedExpression(e,t,n){if(this.ensureScopeIdIsValid(n),void 0===this.namedExpressions.namedExpressionForScope(e,n))throw new Qt(e);this.ensureNamedExpressionIsValid(t)}isItPossibleToRemoveNamedExpression(e,t){if(this.ensureScopeIdIsValid(t),void 0===this.namedExpressions.namedExpressionForScope(e,t))throw new Qt(e)}ensureItIsPossibleToAddRows(e,...t){if(!this.sheetMapping.hasSheetWithId(e))throw new Yt(e);const n=this.dependencyGraph.getSheetHeight(e),r=t.map((e=>e[1])).reduce(((e,t)=>e+t),0);if(n+r>this.maxRows)throw new zt;for(const[i,o]of t)if(!Ms(i)||!Ts(o))throw new qt("row number to be nonnegative and number of rows to add to be positive.")}ensureItIsPossibleToRemoveRows(e,...t){for(const[n,r]of t){const t=n+r-1;if(!Ms(n)||!Ms(t))throw new qt("starting and ending row to be nonnegative.");if(t<n)throw new qt("starting row to be smaller than the ending row.");if(!this.sheetMapping.hasSheetWithId(e))throw new Yt(e)}}ensureItIsPossibleToAddColumns(e,...t){if(!this.sheetMapping.hasSheetWithId(e))throw new Yt(e);const n=this.dependencyGraph.getSheetWidth(e),r=t.map((e=>e[1])).reduce(((e,t)=>e+t),0);if(n+r>this.maxColumns)throw new zt;for(const[i,o]of t)if(!Ms(i)||!Ts(o))throw new qt("column number to be nonnegative and number of columns to add to be positive.")}ensureItIsPossibleToRemoveColumns(e,...t){for(const[n,r]of t){const t=n+r-1;if(!Ms(n)||!Ms(t))throw new qt("starting and ending column to be nonnegative.");if(t<n)throw new qt("starting column to be smaller than the ending column.");if(!this.sheetMapping.hasSheetWithId(e))throw new Yt(e)}}ensureItIsPossibleToMoveRows(e,t,n,r){this.ensureItIsPossibleToAddRows(e,[r,n]);const i=fr(e,0,t),o=fr(e,0,r);if(!this.sheetMapping.hasSheetWithId(e)||pr(i)||pr(o)||!Ts(n)||r<=t+n&&r>=t)throw new qt("a valid range of rows to move.");const s=this.dependencyGraph.getSheetWidth(e),a=Sr.spanFrom(i,s,n);if(this.dependencyGraph.arrayMapping.isFormulaArrayInRange(a))throw new vn;if(r>0&&this.dependencyGraph.arrayMapping.isFormulaArrayInAllRows(Ht.fromNumberOfRows(e,r-1,2)))throw new yn}ensureItIsPossibleToMoveColumns(e,t,n,r){this.ensureItIsPossibleToAddColumns(e,[r,n]);const i=fr(e,t,0),o=fr(e,r,0);if(!this.sheetMapping.hasSheetWithId(e)||pr(i)||pr(o)||!Ts(n)||r<=t+n&&r>=t)throw new qt("a valid range of columns to move.");const s=this.dependencyGraph.getSheetHeight(e),a=Sr.spanFrom(i,n,s);if(this.dependencyGraph.arrayMapping.isFormulaArrayInRange(a))throw new vn;if(r>0&&this.dependencyGraph.arrayMapping.isFormulaArrayInAllColumns(Ut.fromNumberOfColumns(e,r-1,2)))throw new yn}ensureItIsPossibleToAddSheet(e){if(this.sheetMapping.hasSheetWithName(e))throw new Wt(e)}ensureItIsPossibleToRenameSheet(e,t){if(!this.sheetMapping.hasSheetWithId(e))throw new Yt(e);const n=this.sheetMapping.get(t);if(void 0!==n&&n!==e)throw new Wt(t)}ensureItIsPossibleToChangeContent(e){if(pr(e))throw new $t(e);if(!this.sheetMapping.hasSheetWithId(e.sheet))throw new Yt(e.sheet)}ensureItIsPossibleToChangeCellContents(e,t){const n=zo(t),r=Sr.spanFrom(e,n.width,n.height);this.ensureRangeInSizeLimits(r);for(const i of r.addresses(this.dependencyGraph))this.ensureItIsPossibleToChangeContent(i)}ensureItIsPossibleToChangeSheetContents(e,t){const n=zo(t),r=Sr.spanFrom(fr(e,0,0),n.width,n.height);this.ensureRangeInSizeLimits(r)}ensureRangeInSizeLimits(e){if(e.exceedsSheetSizeLimits(this.maxColumns,this.maxRows))throw new zt}isThereSomethingToUndo(){return!this.undoRedo.isUndoStackEmpty()}isThereSomethingToRedo(){return!this.undoRedo.isRedoStackEmpty()}getAndClearContentChanges(){return this.operations.getAndClearContentChanges()}ensureScopeIdIsValid(e){if(void 0!==e&&!this.sheetMapping.hasSheetWithId(e))throw new Yt(e)}validateRowOrColumnMapping(e,t,n){const r="row"===n?this.dependencyGraph.getSheetHeight(e):this.dependencyGraph.getSheetWidth(e),i=t.map((([e,t])=>e)).sort(((e,t)=>e-t)),o=t.map((([e,t])=>t)).sort(((e,t)=>e-t));for(let s=0;s<i.length;s++){if(!Ms(i[s])||i[s]>=r)throw new qt(`${n} numbers to be nonnegative integers and less than sheet ${"row"===n?"height":"width"}.`);if(i[s]===i[s+1])throw new qt(`source ${n} numbers to be unique.`);if(i[s]!==o[s])throw new qt(`target ${n} numbers to be permutation of source ${n} numbers.`)}}ensureNamedExpressionNameIsValid(e,t){if(!this.namedExpressions.isNameValid(e))throw new Jt(e);if(!this.namedExpressions.isNameAvailable(e,t))throw new Xt(e)}ensureNamedExpressionIsValid(e){const t=this.cellContentParser.parse(e);if(t instanceof _o.Formula){const e=this.parser.parse(t.formula,fr(-1,0,0));if(Io(e.ast))throw new bn}}}function Ts(e){return Number.isInteger(e)&&e>0}function Ms(e){return Number.isInteger(e)&&e>=0}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Cs{constructor(e,t,n,r,i,o){this.config=e,this.stats=t,this.interpreter=n,this.lazilyTransformingAstService=r,this.dependencyGraph=i,this.columnSearch=o}run(){this.stats.start(kt.TOP_SORT);const{sorted:e,cycled:t}=this.dependencyGraph.topSortWithScc();this.stats.end(kt.TOP_SORT),this.stats.measure(kt.EVALUATION,(()=>{this.recomputeFormulas(t,e)}))}partialRun(e){const t=Ft.empty();return this.stats.measure(kt.EVALUATION,(()=>{this.dependencyGraph.graph.getTopSortedWithSccSubgraphFrom(e,(e=>{if(e instanceof Cn){const n=e.isComputed()?e.getCellValue():void 0,r=this.recomputeFormulaVertexValue(e);if(r!==n){const i=e.getAddress(this.lazilyTransformingAstService);return t.addChange(r,i),this.columnSearch.change(Et(n),Et(r),i),!0}return!1}return!(e instanceof An)||(e.clearCache(),!0)}),(e=>{if(e instanceof An)e.clearCache();else if(e instanceof Cn){const n=e.getAddress(this.lazilyTransformingAstService);this.columnSearch.remove(Et(e.valueOrUndef()),n);const r=new lr(Yn.CYCLE,void 0,e);e.setCellValue(r),t.addChange(r,n)}}))})),t}runAndForget(e,t,n){const r=[];for(const o of bt(n,t))if(o instanceof Sr){const e=o;if(void 0===this.dependencyGraph.getRange(e.start,e.end)){const t=new An(e);this.dependencyGraph.rangeMapping.setRange(t),r.push(t)}}const i=this.evaluateAstToCellValue(e,new Cr(t,this.config.useArrayArithmetic));return r.forEach((e=>{this.dependencyGraph.rangeMapping.removeRange(e)})),i}recomputeFormulas(e,t){e.forEach((e=>{e instanceof Cn&&e.setCellValue(new lr(Yn.CYCLE,void 0,e))})),t.forEach((e=>{if(e instanceof Cn){const t=this.recomputeFormulaVertexValue(e),n=e.getAddress(this.lazilyTransformingAstService);this.columnSearch.add(Et(t),n)}else e instanceof An&&e.clearCache()}))}recomputeFormulaVertexValue(e){const t=e.getAddress(this.lazilyTransformingAstService);if(e instanceof Rn&&(e.array.size.isRef||!this.dependencyGraph.isThereSpaceForArray(e)))return e.setNoSpace();{const n=e.getFormula(this.lazilyTransformingAstService),r=this.evaluateAstToCellValue(n,new Cr(t,this.config.useArrayArithmetic,e));return e.setCellValue(r)}}evaluateAstToCellValue(e,t){const n=this.interpreter.evaluateAst(e,t);return n instanceof Dt?n:n===_t&&this.config.evaluateNullToZero?0:n}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Rs{constructor(e,t){this.address=e,this.newValue=t}get col(){return this.address.col}get row(){return this.address.row}get sheet(){return this.address.sheet}get value(){return this.newValue}}class xs{constructor(e,t){this.name=e,this.newValue=t}}class As{constructor(e,t,n,r){this.config=e,this.namedExpressions=t,this.sheetIndexMapping=n,this.lazilyTransformingService=r}exportChange(e){const t=e.value,n=e.address;if(n.sheet===Oo.SHEET_FOR_WORKBOOK_EXPRESSIONS){const e=this.namedExpressions.namedExpressionInAddress(n.row);if(!e)throw new Error("Missing named expression");return new xs(e.displayName,this.exportScalarOrRange(t))}if(t instanceof Dt){const e=[];for(const[r,i]of t.entriesFromTopLeftCorner(n))e.push(new Rs(i,this.exportValue(r)));return e}return new Rs(n,this.exportValue(t))}exportValue(e){return e instanceof Dt?this.detailedError(new lr(Yn.VALUE,Re.ScalarExpected)):this.config.smartRounding&&Nt(e)?this.cellValueRounding(Et(e)):e instanceof lr?this.detailedError(e):e===_t?null:Et(e)}exportScalarOrRange(e){return e instanceof Dt?e.rawData().map((e=>e.map((e=>this.exportValue(e))))):this.exportValue(e)}detailedError(e){var t,n;let r;const i=null===(t=e.root)||void 0===t?void 0:t.getAddress(this.lazilyTransformingService);return void 0!==i&&(r=i.sheet===Oo.SHEET_FOR_WORKBOOK_EXPRESSIONS?null===(n=this.namedExpressions.namedExpressionInAddress(i.row))||void 0===n?void 0:n.displayName:P(this.sheetIndexMapping,i,-1)),new ii(e,this.config.translationPackage.getErrorTranslation(e.type),r)}cellValueRounding(e){if(0===e)return e;const t=Math.floor(Math.log10(Math.abs(e))),n=Math.pow(10,this.config.precisionRounding-t);return e<0?-Math.round(-e*n)/n:Math.round(e*n)/n}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ns{constructor(e,t,n,r,i,o){this.dependencyGraph=e,this.columnSearch=t,this.parser=n,this.cellContentParser=r,this.stats=i,this.arraySizePredictor=o,this.buildStrategy=new Ls(e,t,n,i,r,o)}buildGraph(e,t){const n=t.measure(kt.COLLECT_DEPENDENCIES,(()=>this.buildStrategy.run(e)));this.dependencyGraph.getAndClearContentChanges(),t.measure(kt.PROCESS_DEPENDENCIES,(()=>this.processDependencies(n)))}processDependencies(e){e.forEach(((e,t)=>{this.dependencyGraph.processCellDependencies(e,t)}))}}class Ls{constructor(e,t,n,r,i,o){this.dependencyGraph=e,this.columnIndex=t,this.parser=n,this.stats=r,this.cellContentParser=i,this.arraySizePredictor=o}run(e){const t=new Map;for(const n in e){const r=this.dependencyGraph.getSheetId(n),i=e[n];for(let e=0;e<i.length;++e){const n=i[e];for(let i=0;i<n.length;++i){const o=n[i],s=fr(r,i,e),a=this.cellContentParser.parse(o);if(a instanceof _o.Formula){const e=this.stats.measure(kt.PARSER,(()=>this.parser.parse(a.formula,s)));if(e.errors.length>0){this.shrinkArrayIfNeeded(s);const t=new Xn(e.errors,a.formula);this.dependencyGraph.addVertex(s,t)}else{this.shrinkArrayIfNeeded(s);const n=this.arraySizePredictor.checkArraySize(e.ast,s);if(n.isScalar()){const n=new xn(e.ast,s,0);t.set(n,bt(e.dependencies,s)),this.dependencyGraph.addVertex(s,n),e.hasVolatileFunction&&this.dependencyGraph.markAsVolatile(n),e.hasStructuralChangeFunction&&this.dependencyGraph.markAsDependentOnStructureChange(n)}else{const r=new Rn(e.ast,s,new ei(n.width,n.height));t.set(r,bt(e.dependencies,s)),this.dependencyGraph.addArrayVertex(s,r)}}}else if(a instanceof _o.Empty);else{this.shrinkArrayIfNeeded(s);const e=new Kn(a.value,o);this.columnIndex.add(Et(a.value),s),this.dependencyGraph.addVertex(s,e)}}}}return t}shrinkArrayIfNeeded(e){const t=this.dependencyGraph.getCell(e);t instanceof Rn&&this.dependencyGraph.shrinkArrayToCorner(t)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const ks=new Map([["gpl-v3",1],["missing",2],["invalid",3],["expired",4]]);class Os extends Zr{version(e,t){return this.runFunction(e.args,t,this.metadata("VERSION"),(()=>{const{licenseKeyValidityState:e,licenseKey:t}=this.config;let n;return ks.has(t)?n=ks.get(t):ks.has(e)?n=ks.get(e):"valid"===e&&(n=t.slice(-5)),`HyperFormula v${ha.version}, ${n}`}))}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function Is(e,t){var n;let r=t.implementedFunctions[e];const i=null===(n=t.aliases)||void 0===n?void 0:n[e];if(void 0!==i){if(void 0!==r)throw new wn(e,t.name);r=t.implementedFunctions[i]}if(void 0===r)throw mn.functionNotDeclaredInPlugin(e,t.name);return r}Os.implementedFunctions={VERSION:{method:"version",parameters:[]}};class Ps{constructor(e){if(this.config=e,this.functions=new Map,this.arraySizeFunctions=new Map,this.volatileFunctions=new Set,this.arrayFunctions=new Set,this.structuralChangeFunctions=new Set,this.functionsWhichDoesNotNeedArgumentsToBeComputed=new Set,this.functionsMetadata=new Map,this.doesFunctionNeedArgumentToBeComputed=e=>this.functionsWhichDoesNotNeedArgumentsToBeComputed.has(e),this.isFunctionVolatile=e=>this.volatileFunctions.has(e),this.isArrayFunction=e=>this.arrayFunctions.has(e),this.isFunctionDependentOnSheetStructureChange=e=>this.structuralChangeFunctions.has(e),e.functionPlugins.length>0){this.instancePlugins=new Map;for(const t of e.functionPlugins)Ps.loadPluginFunctions(t,this.instancePlugins)}else this.instancePlugins=new Map(Ps.plugins);for(const[t,n]of Ps.protectedFunctions())Ps.loadFunctionUnprotected(n,t,this.instancePlugins);for(const[t,n]of this.instancePlugins.entries())this.categorizeFunction(t,Is(t,n))}static registerFunctionPlugin(e,t){this.loadPluginFunctions(e,this.plugins),void 0!==t&&this.loadTranslations(t)}static registerFunction(e,t,n){this.loadPluginFunction(t,e,this.plugins),void 0!==n&&this.loadTranslations(n)}static unregisterFunction(e){if(this.functionIsProtected(e))throw gn.cannotUnregisterFunctionWithId(e);this.plugins.delete(e)}static unregisterFunctionPlugin(e){for(const t of this.protectedPlugins())if(t===e)throw gn.cannotUnregisterProtectedPlugin();for(const[t,n]of this.plugins.entries())n===e&&this.plugins.delete(t)}static unregisterAll(){this.plugins.clear()}static getRegisteredFunctionIds(){return[...Array.from(this.plugins.keys()),...Array.from(this._protectedPlugins.keys())]}static getPlugins(){return Array.from(new Set(this.plugins.values()).values())}static getFunctionPlugin(e){return this.functionIsProtected(e)?void 0:this.plugins.get(e)}static functionIsProtected(e){return this._protectedPlugins.has(e)}static loadTranslations(e){const t=new Set(ha.getRegisteredLanguagesCodes());Object.keys(e).forEach((n=>{t.has(n)&&ha.getLanguage(n).extendFunctions(e[n])}))}static loadPluginFunctions(e,t){Object.keys(e.implementedFunctions).forEach((n=>{this.loadPluginFunction(e,n,t)})),void 0!==e.aliases&&Object.keys(e.aliases).forEach((n=>{this.loadPluginFunction(e,n,t)}))}static loadPluginFunction(e,t,n){if(this.functionIsProtected(t))throw gn.cannotRegisterFunctionWithId(t);this.loadFunctionUnprotected(e,t,n)}static loadFunctionUnprotected(e,t,n){const r=Is(t,e).method;if(!Object.prototype.hasOwnProperty.call(e.prototype,r))throw mn.functionMethodNotFound(r,e.name);n.set(t,e)}static*protectedFunctions(){for(const[e,t]of this._protectedPlugins)void 0!==t&&(yield[e,t])}static*protectedPlugins(){for(const[,e]of this._protectedPlugins)void 0!==e&&(yield e)}initializePlugins(e){const t=[];for(const[n,r]of this.instancePlugins.entries()){let i=t.find((e=>e instanceof r));void 0===i&&(i=new r(e),t.push(i));const o=Is(n,r),s=o.method;this.functions.set(n,[s,i]);const a=o.arraySizeMethod;void 0!==a&&this.arraySizeFunctions.set(n,[a,i])}}getFunctionPlugin(e){if(!Ps.functionIsProtected(e))return this.instancePlugins.get(e)}getFunction(e){const t=this.functions.get(e);if(void 0!==t&&this.config.translationPackage.isFunctionTranslated(e)){const[e,n]=t;return(t,r)=>n[e](t,r)}}getArraySizeFunction(e){const t=this.arraySizeFunctions.get(e);if(void 0!==t&&this.config.translationPackage.isFunctionTranslated(e)){const[e,n]=t;return(t,r)=>n[e](t,r)}}getMetadata(e){return this.functionsMetadata.get(e)}getPlugins(){const e=new Set;for(const[t,n]of this.instancePlugins)Ps.functionIsProtected(t)||e.add(n);return Array.from(e)}getRegisteredFunctionIds(){return Array.from(this.functions.keys())}categorizeFunction(e,t){t.isVolatile&&this.volatileFunctions.add(e),t.arrayFunction&&this.arrayFunctions.add(e),t.doesNotNeedArgumentsToBeComputed&&this.functionsWhichDoesNotNeedArgumentsToBeComputed.add(e),t.isDependentOnSheetStructureChange&&this.structuralChangeFunctions.add(e),this.functionsMetadata.set(e,t)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
var Ds;Ps.plugins=new Map,Ps._protectedPlugins=new Map([["VERSION",Os],["OFFSET",void 0]]),function(e){e["GREATER_THAN"]="GREATER_THAN",e["GREATER_THAN_OR_EQUAL"]="GREATER_THAN_OR_EQUAL",e["LESS_THAN"]="LESS_THAN",e["LESS_THAN_OR_EQUAL"]="LESS_THAN_OR_EQUAL",e["NOT_EQUAL"]="NOT_EQUAL",e["EQUAL"]="EQUAL"}(Ds||(Ds={}));const Fs=(e,t)=>({operator:e,value:t});class Hs{constructor(e){var t,n,r,i;this.trueString=null!==(n=null===(t=e.translationPackage.getMaybeFunctionTranslation("TRUE"))||void 0===t?void 0:t.toLowerCase())&&void 0!==n?n:"true",this.falseString=null!==(i=null===(r=e.translationPackage.getMaybeFunctionTranslation("FALSE"))||void 0===r?void 0:r.toLowerCase())&&void 0!==i?i:"false"}fromCellValue(e,t){if("string"!==typeof e&&"boolean"!==typeof e&&"number"!==typeof e)return;const n=this.parseCriterion(e,t);return void 0!==n?{raw:e,lambda:js(n,t)}:void 0}parseCriterion(e,t){if("number"===typeof e||"boolean"===typeof e)return Fs(Ds.EQUAL,e);if("string"===typeof e){const n=Us.exec(e);let r,i;n?(i=Bs(n[1]),r=n[2]):(i=Ds.EQUAL,r=e);const o=t.coerceToMaybeNumber(r),s=r.toLowerCase()===this.trueString||r.toLowerCase()!==this.falseString&&void 0;if(void 0===i)return;if(""===r)return Fs(i,null);if(void 0!==o)return Fs(i,Et(o));if(i===Ds.EQUAL||i===Ds.NOT_EQUAL)return Fs(i,null!==s&&void 0!==s?s:r)}}}const Us=/([<>=]+)(.*)/;function Bs(e){switch(e){case">":return Ds.GREATER_THAN;case">=":return Ds.GREATER_THAN_OR_EQUAL;case"<":return Ds.LESS_THAN;case"<=":return Ds.LESS_THAN_OR_EQUAL;case"<>":return Ds.NOT_EQUAL;case"=":return Ds.EQUAL;default:return}}const js=(e,t)=>{switch(e.operator){case Ds.GREATER_THAN:return"number"===typeof e.value?n=>"number"===typeof n&&t.floatCmp(n,e.value)>0:e=>!1;case Ds.GREATER_THAN_OR_EQUAL:return"number"===typeof e.value?n=>"number"===typeof n&&t.floatCmp(n,e.value)>=0:e=>!1;case Ds.LESS_THAN:return"number"===typeof e.value?n=>"number"===typeof n&&t.floatCmp(n,e.value)<0:e=>!1;case Ds.LESS_THAN_OR_EQUAL:return"number"===typeof e.value?n=>"number"===typeof n&&t.floatCmp(n,e.value)<=0:e=>!1;case Ds.EQUAL:return"number"===typeof e.value?n=>{if("number"===typeof n)return 0===t.floatCmp(n,e.value);if("string"===typeof n){if(""===n)return!1;const r=t.coerceToMaybeNumber(n);return void 0!==r&&0===t.floatCmp(r,e.value)}return!1}:"string"===typeof e.value?t.eqMatcherFunction(e.value):"boolean"===typeof e.value?t=>"boolean"===typeof t&&t===e.value:e=>e===_t;case Ds.NOT_EQUAL:return"number"===typeof e.value?n=>{if("number"===typeof n)return 0!==t.floatCmp(n,e.value);if("string"===typeof n){if(""===n)return!0;const r=t.coerceToMaybeNumber(n);return void 0===r||0!==t.floatCmp(r,e.value)}return!0}:"string"===typeof e.value?t.neqMatcherFunction(e.value):"boolean"===typeof e.value?t=>"boolean"!==typeof t||t!==e.value:e=>e!==_t}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ys{constructor(e,t,n,r,i,o,s,a,l,u){this.config=e,this.dependencyGraph=t,this.columnSearch=n,this.stats=r,this.arithmeticHelper=i,this.functionRegistry=o,this.namedExpressions=s,this.serialization=a,this.arraySizePredictor=l,this.dateTimeHelper=u,this.equalOp=(e,t)=>Ws(this.arithmeticHelper.eq,e,t),this.notEqualOp=(e,t)=>Ws(this.arithmeticHelper.neq,e,t),this.greaterThanOp=(e,t)=>Ws(this.arithmeticHelper.gt,e,t),this.lessThanOp=(e,t)=>Ws(this.arithmeticHelper.lt,e,t),this.greaterThanOrEqualOp=(e,t)=>Ws(this.arithmeticHelper.geq,e,t),this.lessThanOrEqualOp=(e,t)=>Ws(this.arithmeticHelper.leq,e,t),this.concatOp=(e,t)=>Ws(this.arithmeticHelper.concat,Dr(e),Dr(t)),this.plusOp=(e,t)=>Ws(this.arithmeticHelper.addWithEpsilon,this.arithmeticHelper.coerceScalarToNumberOrError(e),this.arithmeticHelper.coerceScalarToNumberOrError(t)),this.minusOp=(e,t)=>Ws(this.arithmeticHelper.subtract,this.arithmeticHelper.coerceScalarToNumberOrError(e),this.arithmeticHelper.coerceScalarToNumberOrError(t)),this.timesOp=(e,t)=>Ws(this.arithmeticHelper.multiply,this.arithmeticHelper.coerceScalarToNumberOrError(e),this.arithmeticHelper.coerceScalarToNumberOrError(t)),this.powerOp=(e,t)=>Ws(this.arithmeticHelper.pow,this.arithmeticHelper.coerceScalarToNumberOrError(e),this.arithmeticHelper.coerceScalarToNumberOrError(t)),this.divOp=(e,t)=>Ws(this.arithmeticHelper.divide,this.arithmeticHelper.coerceScalarToNumberOrError(e),this.arithmeticHelper.coerceScalarToNumberOrError(t)),this.unaryMinusOp=e=>Vs(this.arithmeticHelper.unaryMinus,this.arithmeticHelper.coerceScalarToNumberOrError(e)),this.percentOp=e=>Vs(this.arithmeticHelper.unaryPercent,this.arithmeticHelper.coerceScalarToNumberOrError(e)),this.unaryPlusOp=e=>this.arithmeticHelper.unaryPlus(e),this.functionRegistry.initializePlugins(this),this.criterionBuilder=new Hs(e)}evaluateAst(e,t){let n=this.evaluateAstWithoutPostprocessing(e,t);if(Nt(n)){if(Ur(Et(n)))return new lr(Yn.NUM,Re.NaN);n=Tt(n,Br(Et(n)))}return n instanceof Dt&&1===n.height()&&1===n.width()&&([[n]]=n.data),zs(n,t.formulaVertex)}evaluateAstWithoutPostprocessing(e,t){switch(e.type){case W.EMPTY:return _t;case W.CELL_REFERENCE:{const n=e.reference.toSimpleCellAddress(t.formulaAddress);return pr(n)?new lr(Yn.REF,Re.BadRef):this.dependencyGraph.getCellValue(n)}case W.NUMBER:case W.STRING:return e.value;case W.CONCATENATE_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.concatOp,n,r,t)}case W.EQUALS_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.equalOp,n,r,t)}case W.NOT_EQUAL_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.notEqualOp,n,r,t)}case W.GREATER_THAN_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.greaterThanOp,n,r,t)}case W.LESS_THAN_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.lessThanOp,n,r,t)}case W.GREATER_THAN_OR_EQUAL_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.greaterThanOrEqualOp,n,r,t)}case W.LESS_THAN_OR_EQUAL_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.lessThanOrEqualOp,n,r,t)}case W.PLUS_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.plusOp,n,r,t)}case W.MINUS_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.minusOp,n,r,t)}case W.TIMES_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.timesOp,n,r,t)}case W.POWER_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.powerOp,n,r,t)}case W.DIV_OP:{const n=this.evaluateAst(e.left,t),r=this.evaluateAst(e.right,t);return this.binaryRangeWrapper(this.divOp,n,r,t)}case W.PLUS_UNARY_OP:{const n=this.evaluateAst(e.value,t);return this.unaryRangeWrapper(this.unaryPlusOp,n,t)}case W.MINUS_UNARY_OP:{const n=this.evaluateAst(e.value,t);return this.unaryRangeWrapper(this.unaryMinusOp,n,t)}case W.PERCENT_OP:{const n=this.evaluateAst(e.value,t);return this.unaryRangeWrapper(this.percentOp,n,t)}case W.FUNCTION_CALL:{if("valid"!==this.config.licenseKeyValidityState&&!Ps.functionIsProtected(e.procedureName))return new lr(Yn.LIC,Re.LicenseKey(this.config.licenseKeyValidityState));const n=this.functionRegistry.getFunction(e.procedureName);return void 0!==n?n(e,new Cr(t.formulaAddress,t.arraysFlag||this.functionRegistry.isArrayFunction(e.procedureName),t.formulaVertex)):new lr(Yn.NAME,Re.FunctionName(e.procedureName))}case W.NAMED_EXPRESSION:{const n=this.namedExpressions.nearestNamedExpression(e.expressionName,t.formulaAddress.sheet);return n?this.dependencyGraph.getCellValue(n.address):new lr(Yn.NAME,Re.NamedExpressionName(e.expressionName))}case W.CELL_RANGE:{if(!this.rangeSpansOneSheet(e))return new lr(Yn.REF,Re.RangeManySheets);const n=Sr.fromCellRange(e,t.formulaAddress),r=this.dependencyGraph.getArray(n);if(r){const e=r.array;if(e instanceof Sn)throw new Error("Array should be already computed");if(e instanceof lr)return e;if(e instanceof Tn)return Dt.fromRange(e.raw(),n,this.dependencyGraph);throw new Error("Unknown array")}return Dt.onlyRange(n,this.dependencyGraph)}case W.COLUMN_RANGE:{if(!this.rangeSpansOneSheet(e))return new lr(Yn.REF,Re.RangeManySheets);const n=Tr.fromColumnRange(e,t.formulaAddress);return Dt.onlyRange(n,this.dependencyGraph)}case W.ROW_RANGE:{if(!this.rangeSpansOneSheet(e))return new lr(Yn.REF,Re.RangeManySheets);const n=Mr.fromRowRangeAst(e,t.formulaAddress);return Dt.onlyRange(n,this.dependencyGraph)}case W.PARENTHESIS:return this.evaluateAst(e.expression,t);case W.ARRAY:{let n;const r=[];for(const i of e.args){let e;const o=[];for(const n of i){const r=kr(this.evaluateAst(n,t)),i=r.height();if(void 0===e)e=i,o.push(...r.data);else{if(e!==i)return new lr(Yn.REF,Re.SizeMismatch);for(let e=0;e<i;e++)o[e].push(...r.data[e])}}const s=o[0].length;if(void 0===n)n=s,r.push(...o);else{if(n!==s)return new lr(Yn.REF,Re.SizeMismatch);r.push(...o)}}return Dt.onlyValues(r)}case W.ERROR_WITH_RAW_INPUT:case W.ERROR:return e.error}}rangeSpansOneSheet(e){return e.start.sheet===e.end.sheet}unaryRangeWrapper(e,t,n){var r;if(t instanceof Dt&&!n.arraysFlag&&(t=null!==(r=Xr(t,n))&&void 0!==r?r:new lr(Yn.VALUE,Re.ScalarExpected)),t instanceof lr)return t;if(t instanceof Dt){const n=t.data.map((t=>t.map(e)));return Dt.onlyValues(n)}return e(t)}binaryRangeWrapper(e,t,n,r){var i,o;if(t instanceof Dt&&!r.arraysFlag&&(t=null!==(i=Xr(t,r))&&void 0!==i?i:new lr(Yn.VALUE,Re.ScalarExpected)),t instanceof lr)return t;if(n instanceof Dt&&!r.arraysFlag&&(n=null!==(o=Xr(n,r))&&void 0!==o?o:new lr(Yn.VALUE,Re.ScalarExpected)),n instanceof lr)return n;if(t instanceof Dt||n instanceof Dt){if(!(t instanceof Dt)){if(n.isAdHoc()){const r=n.data;for(let n=0;n<r.length;n++)for(let i=0;i<r[0].length;i++)r[n][i]=e(t,r[n][i]);return Dt.onlyValues(r)}t=Dt.fromScalar(t)}if(!(n instanceof Dt)){if(t.isAdHoc()){const r=t.data;for(let t=0;t<r.length;t++)for(let i=0;i<r[0].length;i++)r[t][i]=e(r[t][i],n);return Dt.onlyValues(r)}n=Dt.fromScalar(n)}if(t.width()===n.width()&&t.height()===n.height()){if(t.isAdHoc()){const r=t.data,i=n.data;for(let t=0;t<r.length;t++)for(let n=0;n<r[0].length;n++)r[t][n]=e(r[t][n],i[t][n]);return Dt.onlyValues(r)}if(n.isAdHoc()){const r=t.data,i=n.data;for(let t=0;t<r.length;t++)for(let n=0;n<r[0].length;n++)i[t][n]=e(r[t][n],i[t][n]);return Dt.onlyValues(i)}}const r=Math.max(t.width(),n.width()),i=Math.max(t.height(),n.height()),o=Array(i);for(let e=0;e<i;e++)o[e]=Array(r);for(let s=0;s<i;s++){const i=1!==t.height()?s:0,a=1!==n.height()?s:0;for(let l=0;l<r;l++){const r=1!==t.width()?l:0,u=1!==n.width()?l:0;i<t.height()&&a<n.height()&&r<t.width()&&u<n.width()?o[s][l]=e(t.data[i][r],n.data[a][u]):o[s][l]=new lr(Yn.NA)}}return Dt.onlyValues(o)}return e(t,n)}}function Vs(e,t){return t instanceof lr?t:e(t)}function Ws(e,t,n){return t instanceof lr?t:n instanceof lr?n:e(t,n)}function zs(e,t){return e instanceof lr&&void 0!==t?e.attachRootVertex(t):e}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Gs{constructor(e){this.sheet=e,this.transformations=[]}add(e){this.transformations.push(e)}performEagerTransformations(e,t){this.transformations.forEach((n=>n.performEagerTransformations(e,t)))}transformSingleAst(e,t){let[n,r]=[e,t];return this.transformations.forEach((e=>{[n,r]=e.transformSingleAst(n,r)})),[n,r]}isIrreversible(){return!0}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class $s{constructor(e){this.stats=e,this.transformations=[]}version(){return this.transformations.length}addTransformation(e){return void 0!==this.combinedTransformer?this.combinedTransformer.add(e):this.transformations.push(e),this.version()}beginCombinedMode(e){this.combinedTransformer=new Gs(e)}commitCombinedMode(){if(void 0===this.combinedTransformer)throw Error("Combined mode wasn't started");return this.transformations.push(this.combinedTransformer),this.combinedTransformer=void 0,this.version()}applyTransformations(e,t,n){this.stats.start(kt.TRANSFORM_ASTS_POSTPONED);for(let i=n;i<this.transformations.length;i++){const n=this.transformations[i];n.isIrreversible()&&(this.undoRedo.storeDataForVersion(i,t,this.parser.computeHashFromAst(e)),this.parser.rememberNewAst(e));const[r,o]=n.transformSingleAst(e,t);e=r,t=o}const r=this.parser.rememberNewAst(e);return this.stats.end(kt.TRANSFORM_ASTS_POSTPONED),[r,t,this.transformations.length]}*getTransformationsFrom(e,t){for(let n=e;n<this.transformations.length;n++){const e=this.transformations[n];t&&!t(e)||(yield e)}}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const qs=-1;function Ks(e,t,{searchCoordinate:n,orderingDirection:r,matchExactly:i},o){const s=t.start[n],a="col"===n?t.effectiveEndColumn(o):t.effectiveEndRow(o),l="col"===n?e=>Et(o.getCellValue(fr(t.sheet,e,t.start.row))):e=>Et(o.getCellValue(fr(t.sheet,t.start.col,e))),u="asc"===r?(e,t)=>Js(e,t):(e,t)=>-Js(e,t),c=Xs((t=>u(e,l(t))>=0),s,a),h=l(c);return c===qs||typeof h!==typeof e||i&&h!==e?qs:c-s}function Xs(e,t,n){let r=t,i=n;while(r<i){const t=Math.ceil((r+i)/2);e(t)?r=t:i=t-1}return r===i&&e(r)?r:qs}function Js(e,t){return typeof e===typeof t?e===_t?0:e<t?-1:e>t?1:0:e===_t?-1:t===_t?1:t instanceof lr||"number"===typeof e&&"string"===typeof t||"number"===typeof e&&"boolean"===typeof t?-1:"string"===typeof e&&"number"===typeof t?1:"string"===typeof e&&"boolean"===typeof t?-1:1}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Qs{constructor(e){this.dependencyGraph=e}advancedFind(e,t){let n;const r=t.range;n=void 0===r?t.valuesFromTopLeftCorner():this.dependencyGraph.computeListOfValuesInRange(r);for(let i=0;i<n.length;i++)if(e(Et(n[i])))return i;return-1}basicFind(e,t,n,{ordering:r,matchExactly:i}){const o="string"===typeof e?Kr(e):e,s=t.range;return void 0===s?this.findNormalizedValue(o,t.valuesFromTopLeftCorner()):"none"===r?this.findNormalizedValue(o,this.dependencyGraph.computeListOfValuesInRange(s)):Ks(o,s,{searchCoordinate:n,orderingDirection:r,matchExactly:i},this.dependencyGraph)}findNormalizedValue(e,t){return t.map(Et).map((e=>"string"===typeof e?Kr(e):e)).indexOf(e)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Zs extends Qs{constructor(e){super(e),this.dependencyGraph=e}add(e,t){}remove(e,t){}change(e,t,n){}applyChanges(e){}addColumns(e){}removeColumns(e){}removeSheet(e){}moveValues(e,t,n,r){}removeValues(e){}find(e,t,n){return this.basicFind(e,t,"row",n)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ea{constructor(e,t,n){this.dependencyGraph=e,this.config=t,this.stats=n,this.index=new Map,this.transformingService=this.dependencyGraph.lazilyTransformingAstService,this.binarySearchStrategy=new Zs(e)}add(e,t){if(!(e===_t||e instanceof lr))if(e instanceof Dt)for(const[n,r]of e.entriesFromTopLeftCorner(t))this.addSingleCellValue(Et(n),r);else this.addSingleCellValue(e,t)}remove(e,t){if(void 0!==e)if(e instanceof Dt)for(const[n,r]of e.entriesFromTopLeftCorner(t))this.removeSingleValue(Et(n),r);else this.removeSingleValue(e,t)}change(e,t,n){e!==t&&(this.remove(e,n),this.add(t,n))}applyChanges(e){for(const t of e)void 0!==t.oldValue&&this.change(Et(t.oldValue),Et(t.value),t.address)}moveValues(e,t,n,r){for(const[i,o]of e){const e=mr(o,r,t,n);this.remove(i,o),this.add(i,e)}}removeValues(e){for(const[t,n]of e)this.remove(t,n)}find(e,t,{ordering:n,matchExactly:r}){const i=!0===r?"findFirst":"findLast",o=this.findUsingColumnIndex(e,t,i);return void 0!==o?o:this.binarySearchStrategy.find(e,t,{ordering:n,matchExactly:r})}findUsingColumnIndex(e,t,n){const r=t.range;if(void 0===r)return;this.ensureRecentData(r.sheet,r.start.col,e);const i=this.getColumnMap(r.sheet,r.start.col);if(!i)return-1;const o="string"===typeof e?Kr(e):e,s=i.get(o);if(!s||!s.index||0===s.index.length)return;const a=ea.findRowBelongingToRange(s,r,n);return void 0!==a?a-r.start.row:void 0}static findRowBelongingToRange(e,t,n){const r=t.start.row,i=t.end.row,o="findFirst"===n?ta(r,e.index,"upperBound"):ta(i,e.index,"lowerBound");if(-1===o)return;const s=e.index[o],a=s>=r&&s<=i;return a?s:void 0}advancedFind(e,t){return this.binarySearchStrategy.advancedFind(e,t)}addColumns(e){const t=this.index.get(e.sheet);t&&t.splice(e.columnStart,0,...Array(e.numberOfColumns))}removeColumns(e){const t=this.index.get(e.sheet);t&&t.splice(e.columnStart,e.numberOfColumns)}removeSheet(e){this.index.delete(e)}getColumnMap(e,t){this.index.has(e)||this.index.set(e,[]);const n=this.index.get(e);let r=n[t];return r||(r=new Map,n[t]=r),r}getValueIndex(e,t,n){const r=this.getColumnMap(e,t);let i=this.getColumnMap(e,t).get(n);return i||(i={version:this.transformingService.version(),index:[]},r.set(n,i)),i}ensureRecentData(e,t,n){const r=this.getValueIndex(e,t,n),i=this.transformingService.version();if(r.version===i)return;const o=this.transformingService.getTransformationsFrom(r.version,(t=>t.sheet===e&&(t instanceof Fo||t instanceof Yo)));for(const s of o)s instanceof Fo?this.addRows(t,s.rowsSpan,n):s instanceof Yo&&this.removeRows(t,s.rowsSpan,n);r.version=i}addSingleCellValue(e,t){this.stats.measure(kt.BUILD_COLUMN_INDEX,(()=>{this.ensureRecentData(t.sheet,t.col,e),"string"===typeof e&&(e=Kr(e));const n=this.getValueIndex(t.sheet,t.col,e);ea.addValue(n,t.row)}))}removeSingleValue(e,t){this.stats.measure(kt.BUILD_COLUMN_INDEX,(()=>{this.ensureRecentData(t.sheet,t.col,e);const n=this.getColumnMap(t.sheet,t.col);"string"===typeof e&&(e=Kr(e));const r=n.get(e);if(!r)return;const i=ta(t.row,r.index);i>-1&&r.index.splice(i,1),0===r.index.length&&n.delete(e),0===n.size&&delete this.index.get(t.sheet)[t.col]}))}addRows(e,t,n){const r=this.getValueIndex(t.sheet,e,n);ea.shiftRows(r,t.rowStart,t.numberOfRows)}removeRows(e,t,n){const r=this.getValueIndex(t.sheet,e,n);ea.removeRowsFromValues(r,t),ea.shiftRows(r,t.rowEnd+1,-t.numberOfRows)}static addValue(e,t){const n=ta(t,e.index,"lowerBound"),r=e.index[n]===t;r||e.index.splice(n+1,0,t)}static removeRowsFromValues(e,t){const n=ta(t.rowStart,e.index,"upperBound"),r=ta(t.rowEnd,e.index,"lowerBound"),i=n>-1&&r>-1&&n<=r&&e.index[n]<=t.rowEnd;i&&e.index.splice(n,r-n+1)}static shiftRows(e,t,n){const r=ta(t,e.index,"upperBound");if(-1!==r)for(let i=r;i<e.index.length;++i)e.index[i]+=n}}function ta(e,t,n="upperBound"){let r=0,i=t.length-1;while(r<=i){const n=Math.floor((r+i)/2);if(e>t[n])r=n+1;else{if(!(e<t[n]))return n;i=n-1}}const o="lowerBound"===n?i:r,s=o>=0&&o<=t.length;return s?o:-1}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function na(e,t,n){return t.useColumnIndex?new ea(e,t,n):new Zs(e)}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ra{constructor(e){this.config=e;const t="."===this.config.thousandSeparator?`\\${this.config.thousandSeparator}`:this.config.thousandSeparator,n="."===this.config.decimalSeparator?`\\${this.config.decimalSeparator}`:this.config.decimalSeparator;this.numberPattern=new RegExp(`^([+-]?((${n}\\d+)|(\\d+(${t}\\d{3,})*(${n}\\d*)?)))(e[+-]?\\d+)?$`),this.allThousandSeparatorsRegex=new RegExp(`${t}`,"g")}numericStringToMaybeNumber(e){if(this.numberPattern.test(e)){const t=this.numericStringToNumber(e);if(isNaN(t))return;return t}}numericStringToNumber(e){const t=e.replace(this.allThousandSeparatorsRegex,"").replace(this.config.decimalSeparator,".");return Number(t)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ia{constructor(e,t,n){this.dependencyGraph=e,this.unparser=t,this.exporter=n}getCellHyperlink(e){const t=this.dependencyGraph.getCell(e);if(t instanceof xn){const e=t.getFormula(this.dependencyGraph.lazilyTransformingAstService);if("HYPERLINK"===e.procedureName)return e.hyperlink}}getCellFormula(e,t){const n=this.dependencyGraph.getCell(e);if(n instanceof xn){const r=n.getFormula(this.dependencyGraph.lazilyTransformingAstService);return t=null!==t&&void 0!==t?t:e,this.unparser.unparse(r,t)}if(n instanceof Rn){const r=n.getAddress(this.dependencyGraph.lazilyTransformingAstService);if(r.row!==e.row||r.col!==e.col||r.sheet!==e.sheet)return;t=null!==t&&void 0!==t?t:e;const i=n.getFormula(this.dependencyGraph.lazilyTransformingAstService);if(void 0!==i)return this.unparser.unparse(i,t)}else if(n instanceof Xn)return n.getFormula()}getCellSerialized(e,t){var n;return null!==(n=this.getCellFormula(e,t))&&void 0!==n?n:this.getRawValue(e)}getCellValue(e){return this.exporter.exportValue(this.dependencyGraph.getScalarValue(e))}getRawValue(e){return this.dependencyGraph.getRawValue(e)}getSheetValues(e){return this.genericSheetGetter(e,(e=>this.getCellValue(e)))}getSheetFormulas(e){return this.genericSheetGetter(e,(e=>this.getCellFormula(e)))}genericSheetGetter(e,t){const n=this.dependencyGraph.getSheetHeight(e),r=this.dependencyGraph.getSheetWidth(e),i=new Array(n);for(let o=0;o<n;o++){i[o]=new Array(r);for(let n=0;n<r;n++){const r=fr(e,n,o);i[o][n]=t(r)}for(let e=r-1;e>=0;e--){if(null!==i[o][e]&&void 0!==i[o][e])break;i[o].pop()}}for(let o=n-1;o>=0;o--){if(0!==i[o].length)break;i.pop()}return i}genericAllSheetsGetter(e){const t={};for(const n of this.dependencyGraph.sheetMapping.displayNames()){const r=this.dependencyGraph.sheetMapping.fetch(n);t[n]=e(r)}return t}getSheetSerialized(e){return this.genericSheetGetter(e,(e=>this.getCellSerialized(e)))}getAllSheetsValues(){return this.genericAllSheetsGetter((e=>this.getSheetValues(e)))}getAllSheetsFormulas(){return this.genericAllSheetsGetter((e=>this.getSheetFormulas(e)))}getAllSheetsSerialized(){return this.genericAllSheetsGetter((e=>this.getSheetSerialized(e)))}getAllNamedExpressionsSerialized(){const e=[];let t=0;for(const n of this.dependencyGraph.sheetMapping.displayNames()){const r=this.dependencyGraph.sheetMapping.fetch(n);e[r]=t,t++}return this.dependencyGraph.namedExpressions.getAllNamedExpressions().map((t=>({name:t.expression.displayName,expression:this.getCellSerialized(t.expression.address),scope:void 0!==t.scope?e[t.scope]:void 0,options:t.expression.options})))}withNewConfig(e,t){const n=new ut(e,st(e),this.dependencyGraph.sheetMapping.fetchDisplayName,t);return new ia(this.dependencyGraph,n,this.exporter)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class oa{static buildFromSheets(e,t={},n=[]){const r=new fa(t);return this.buildEngine(r,e,n)}static buildFromSheet(e,t={},n=[]){const r=new fa(t),i=r.translationPackage.getUITranslation(jn.NEW_SHEET_PREFIX)+"1";return this.buildEngine(r,{[i]:e},n)}static buildEmpty(e={},t=[]){return this.buildEngine(new fa(e),{},t)}static rebuildWithConfig(e,t,n,r){return this.buildEngine(e,t,n,r)}static buildEngine(e,t={},n=[],r=(e.useStats?new Bt:new jt)){r.start(kt.BUILD_ENGINE_TOTAL);const i=new Oo,o=new Ps(e),s=new $s(r),a=$n.buildEmpty(s,e,o,i,r),l=na(a,e,r),u=a.sheetMapping,c=a.addressMapping;for(const C in t)if(Object.prototype.hasOwnProperty.call(t,C)){const n=t[C];Wo(n);const r=zo(n);if(r.height>e.maxRows||r.width>e.maxColumns)throw new zt;const i=u.addSheet(C);c.autoAddSheet(i,r)}const h=new ht(e,o,u.get);s.parser=h;const d=new ut(e,st(e),u.fetchDisplayName,i),f=new Ii(e),p=new ra(e),m=new Nr(e,f,p),g=new Ro(e,f,p),v=new ri(e,o),y=new Xo(e,a,l,g,h,r,s,i,v),b=new Es(e,y);s.undoRedo=b;const w=new Ao(e,a,y),_=new Ss(e,y,b,w,a,l,h,g,s,i);n.forEach((e=>{_.ensureItIsPossibleToAddNamedExpression(e.name,e.expression,e.scope),_.operations.addNamedExpression(e.name,e.expression,e.scope,e.options)}));const E=new As(e,i,u.fetchDisplayName,s),S=new ia(a,d,E),T=new Ys(e,a,l,r,m,o,i,S,v,f);r.measure(kt.GRAPH_BUILD,(()=>{const e=new Ns(a,l,h,g,r,v);e.buildGraph(t,r)}));const M=new Cs(e,r,T,s,a,l);return M.run(),r.end(kt.BUILD_ENGINE_TOTAL),{config:e,stats:r,dependencyGraph:a,columnSearch:l,parser:h,unparser:d,cellContentParser:g,evaluator:M,lazilyTransformingAstService:s,crudOperations:_,exporter:E,namedExpressions:i,serialization:S,functionRegistry:o}}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function sa(e){for(const[t,n]of Object.entries(e))n instanceof Function?e[t]=aa(n):delete e[t]}function aa(e){return()=>{throw new Error(`The "${e}" method cannot be called because this HyperFormula instance has been destroyed`)}}var la,ua=n(46919);(function(e){e["SheetAdded"]="sheetAdded",e["SheetRemoved"]="sheetRemoved",e["SheetRenamed"]="sheetRenamed",e["NamedExpressionAdded"]="namedExpressionAdded",e["NamedExpressionRemoved"]="namedExpressionRemoved",e["ValuesUpdated"]="valuesUpdated",e["EvaluationSuspended"]="evaluationSuspended",e["EvaluationResumed"]="evaluationResumed"})(la||(la={}));class ca extends ua.TinyEmitter{emit(e,...t){return super.emit(e,...t),this}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ha{constructor(e,t,n,r,i,o,s,a,l,u,c,h,d,f){this._config=e,this._stats=t,this._dependencyGraph=n,this._columnSearch=r,this._parser=i,this._unparser=o,this._cellContentParser=s,this._evaluator=a,this._lazilyTransformingAstService=l,this._crudOperations=u,this._exporter=c,this._namedExpressions=h,this._serialization=d,this._functionRegistry=f,this._emitter=new ca,this._evaluationSuspended=!1}static get defaultConfig(){return ma()}get graph(){return this.dependencyGraph.graph}get rangeMapping(){return this.dependencyGraph.rangeMapping}get arrayMapping(){return this.dependencyGraph.arrayMapping}get sheetMapping(){return this.dependencyGraph.sheetMapping}get addressMapping(){return this.dependencyGraph.addressMapping}get dependencyGraph(){return this._dependencyGraph}get evaluator(){return this._evaluator}get columnSearch(){return this._columnSearch}get lazilyTransformingAstService(){return this._lazilyTransformingAstService}get licenseKeyValidityState(){return this._config.licenseKeyValidityState}static buildFromArray(e,t={},n=[]){return this.buildFromEngineState(oa.buildFromSheet(e,t,n))}static buildFromSheets(e,t={},n=[]){return this.buildFromEngineState(oa.buildFromSheets(e,t,n))}static buildEmpty(e={},t=[]){return this.buildFromEngineState(oa.buildEmpty(e,t))}static getLanguage(e){ci(e,"string","languageCode");const t=this.registeredLanguages.get(e);if(void 0===t)throw new fn;return t}static registerLanguage(e,t){if(ci(e,"string","languageCode"),this.registeredLanguages.has(e))throw new pn;this.registeredLanguages.set(e,Bn(t))}static unregisterLanguage(e){if(ci(e,"string","languageCode"),!this.registeredLanguages.has(e))throw new fn;this.registeredLanguages.delete(e)}static getRegisteredLanguagesCodes(){return Array.from(this.registeredLanguages.keys())}static registerFunctionPlugin(e,t){Ps.registerFunctionPlugin(e,t)}static unregisterFunctionPlugin(e){Ps.unregisterFunctionPlugin(e)}static registerFunction(e,t,n){ci(e,"string","functionId"),Ps.registerFunction(e,t,n)}static unregisterFunction(e){ci(e,"string","functionId"),Ps.unregisterFunction(e)}static unregisterAllFunctions(){Ps.unregisterAll()}static getRegisteredFunctionNames(e){ci(e,"string","code");const t=Ps.getRegisteredFunctionIds(),n=this.getLanguage(e);return n.getFunctionTranslations(t)}static getFunctionPlugin(e){return ci(e,"string","functionId"),Ps.getFunctionPlugin(e)}static getAllFunctionPlugins(){return Ps.getPlugins()}static buildFromEngineState(e){return new ha(e.config,e.stats,e.dependencyGraph,e.columnSearch,e.parser,e.unparser,e.cellContentParser,e.evaluator,e.lazilyTransformingAstService,e.crudOperations,e.exporter,e.namedExpressions,e.serialization,e.functionRegistry)}getCellValue(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");return this.ensureEvaluationIsNotSuspended(),this._serialization.getCellValue(e)}getCellFormula(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");return this._serialization.getCellFormula(e)}getCellHyperlink(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");return this.ensureEvaluationIsNotSuspended(),this._serialization.getCellHyperlink(e)}getCellSerialized(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");return this.ensureEvaluationIsNotSuspended(),this._serialization.getCellSerialized(e)}getSheetValues(e){return ci(e,"number","sheetId"),this.ensureEvaluationIsNotSuspended(),this._serialization.getSheetValues(e)}getSheetFormulas(e){return ci(e,"number","sheetId"),this._serialization.getSheetFormulas(e)}getSheetSerialized(e){return ci(e,"number","sheetId"),this.ensureEvaluationIsNotSuspended(),this._serialization.getSheetSerialized(e)}getAllSheetsDimensions(){return this._serialization.genericAllSheetsGetter((e=>this.getSheetDimensions(e)))}getSheetDimensions(e){return ci(e,"number","sheetId"),{width:this.dependencyGraph.getSheetWidth(e),height:this.dependencyGraph.getSheetHeight(e)}}getAllSheetsValues(){return this.ensureEvaluationIsNotSuspended(),this._serialization.getAllSheetsValues()}getAllSheetsFormulas(){return this._serialization.getAllSheetsFormulas()}getAllSheetsSerialized(){return this.ensureEvaluationIsNotSuspended(),this._serialization.getAllSheetsSerialized()}updateConfig(e){const t=Object.entries(e).every((([e,t])=>this._config[e]===t));t||this.rebuildWithConfig(e)}getConfig(){return this._config.getConfig()}rebuildAndRecalculate(){this.rebuildWithConfig({})}getStats(){return this._stats.snapshot()}undo(){return this._crudOperations.undo(),this.recomputeIfDependencyGraphNeedsIt()}redo(){return this._crudOperations.redo(),this.recomputeIfDependencyGraphNeedsIt()}isThereSomethingToUndo(){return this._crudOperations.isThereSomethingToUndo()}isThereSomethingToRedo(){return this._crudOperations.isThereSomethingToRedo()}isItPossibleToSetCellContents(e){let t;if(vr(e))t=new Sr(e,e);else{if(!_r(e))throw new on("SimpleCellAddress | SimpleCellRange","address");t=new Sr(e.start,e.end)}try{this._crudOperations.ensureRangeInSizeLimits(t);for(const e of t.addresses(this._dependencyGraph))this._crudOperations.ensureItIsPossibleToChangeContent(e)}catch(n){return!1}return!0}setCellContents(e,t){return this._crudOperations.setCellContents(e,t),this.recomputeIfDependencyGraphNeedsIt()}swapRowIndexes(e,t){return ci(e,"number","sheetId"),this._crudOperations.setRowOrder(e,t),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToSwapRowIndexes(e,t){ci(e,"number","sheetId");try{return this._crudOperations.validateSwapRowIndexes(e,t),this._crudOperations.testRowOrderForArrays(e,t),!0}catch(n){return!1}}setRowOrder(e,t){ci(e,"number","sheetId");const n=this._crudOperations.mappingFromOrder(e,t,"row");return this.swapRowIndexes(e,n)}isItPossibleToSetRowOrder(e,t){ci(e,"number","sheetId");try{const n=this._crudOperations.mappingFromOrder(e,t,"row");return this._crudOperations.validateSwapRowIndexes(e,n),this._crudOperations.testRowOrderForArrays(e,n),!0}catch(n){return!1}}swapColumnIndexes(e,t){return ci(e,"number","sheetId"),this._crudOperations.setColumnOrder(e,t),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToSwapColumnIndexes(e,t){ci(e,"number","sheetId");try{return this._crudOperations.validateSwapColumnIndexes(e,t),this._crudOperations.testColumnOrderForArrays(e,t),!0}catch(n){return!1}}setColumnOrder(e,t){ci(e,"number","sheetId");const n=this._crudOperations.mappingFromOrder(e,t,"column");return this.swapColumnIndexes(e,n)}isItPossibleToSetColumnOrder(e,t){ci(e,"number","sheetId");try{const n=this._crudOperations.mappingFromOrder(e,t,"column");return this._crudOperations.validateSwapColumnIndexes(e,n),this._crudOperations.testColumnOrderForArrays(e,n),!0}catch(n){return!1}}isItPossibleToAddRows(e,...t){ci(e,"number","sheetId");const n=Qo(t);try{return this._crudOperations.ensureItIsPossibleToAddRows(e,...n),!0}catch(r){return!1}}addRows(e,...t){return ci(e,"number","sheetId"),this._crudOperations.addRows(e,...t),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToRemoveRows(e,...t){ci(e,"number","sheetId");const n=Jo(t);try{return this._crudOperations.ensureItIsPossibleToRemoveRows(e,...n),!0}catch(r){return!1}}removeRows(e,...t){return ci(e,"number","sheetId"),this._crudOperations.removeRows(e,...t),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToAddColumns(e,...t){ci(e,"number","sheetId");const n=Qo(t);try{return this._crudOperations.ensureItIsPossibleToAddColumns(e,...n),!0}catch(r){return!1}}addColumns(e,...t){return ci(e,"number","sheetId"),this._crudOperations.addColumns(e,...t),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToRemoveColumns(e,...t){ci(e,"number","sheetId");const n=Jo(t);try{return this._crudOperations.ensureItIsPossibleToRemoveColumns(e,...n),!0}catch(r){return!1}}removeColumns(e,...t){return ci(e,"number","sheetId"),this._crudOperations.removeColumns(e,...t),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToMoveCells(e,t){if(!vr(t))throw new on("SimpleCellAddress","destinationLeftCorner");if(!_r(e))throw new on("SimpleCellRange","source");try{const n=new Sr(e.start,e.end);return this._crudOperations.operations.ensureItIsPossibleToMoveCells(n.start,n.width(),n.height(),t),!0}catch(n){return!1}}moveCells(e,t){if(!vr(t))throw new on("SimpleCellAddress","destinationLeftCorner");if(!_r(e))throw new on("SimpleCellRange","source");const n=new Sr(e.start,e.end);return this._crudOperations.moveCells(n.start,n.width(),n.height(),t),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToMoveRows(e,t,n,r){ci(e,"number","sheetId"),ci(t,"number","startRow"),ci(n,"number","numberOfRows"),ci(r,"number","targetRow");try{return this._crudOperations.ensureItIsPossibleToMoveRows(e,t,n,r),!0}catch(i){return!1}}moveRows(e,t,n,r){return ci(e,"number","sheetId"),ci(t,"number","startRow"),ci(n,"number","numberOfRows"),ci(r,"number","targetRow"),this._crudOperations.moveRows(e,t,n,r),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToMoveColumns(e,t,n,r){ci(e,"number","sheetId"),ci(t,"number","startColumn"),ci(n,"number","numberOfColumns"),ci(r,"number","targetColumn");try{return this._crudOperations.ensureItIsPossibleToMoveColumns(e,t,n,r),!0}catch(i){return!1}}moveColumns(e,t,n,r){return ci(e,"number","sheetId"),ci(t,"number","startColumn"),ci(n,"number","numberOfColumns"),ci(r,"number","targetColumn"),this._crudOperations.moveColumns(e,t,n,r),this.recomputeIfDependencyGraphNeedsIt()}copy(e){if(!_r(e))throw new on("SimpleCellRange","source");const t=new Sr(e.start,e.end);return this._crudOperations.copy(t.start,t.width(),t.height()),this.getRangeValues(e)}cut(e){if(!_r(e))throw new on("SimpleCellRange","source");const t=new Sr(e.start,e.end);return this._crudOperations.cut(t.start,t.width(),t.height()),this.getRangeValues(e)}paste(e){if(!vr(e))throw new on("SimpleCellAddress","targetLeftCorner");return this.ensureEvaluationIsNotSuspended(),this._crudOperations.paste(e),this.recomputeIfDependencyGraphNeedsIt()}isClipboardEmpty(){return this._crudOperations.isClipboardEmpty()}clearClipboard(){this._crudOperations.clearClipboard()}clearRedoStack(){this._crudOperations.undoRedo.clearRedoStack()}clearUndoStack(){this._crudOperations.undoRedo.clearUndoStack()}getRangeValues(e){if(!_r(e))throw new on("SimpleCellRange","source");const t=new Sr(e.start,e.end);return t.arrayOfAddressesInRange().map((e=>e.map((e=>this.getCellValue(e)))))}getRangeFormulas(e){if(!_r(e))throw new on("SimpleCellRange","source");const t=new Sr(e.start,e.end);return t.arrayOfAddressesInRange().map((e=>e.map((e=>this.getCellFormula(e)))))}getRangeSerialized(e){if(!_r(e))throw new on("SimpleCellRange","source");const t=new Sr(e.start,e.end);return t.arrayOfAddressesInRange().map((e=>e.map((e=>this.getCellSerialized(e)))))}getFillRangeData(e,t,n=!1){if(!_r(e))throw new on("SimpleCellRange","source");if(!_r(t))throw new on("SimpleCellRange","target");const r=new Sr(e.start,e.end),i=new Sr(t.start,t.end);return this.ensureEvaluationIsNotSuspended(),i.arrayOfAddressesInRange().map((i=>i.map((i=>{const o=((i.row-(n?t:e).start.row)%r.height()+r.height())%r.height()+e.start.row,s=((i.col-(n?t:e).start.col)%r.width()+r.width())%r.width()+e.start.col;return this._serialization.getCellSerialized({row:o,col:s,sheet:r.sheet},i)}))))}isItPossibleToAddSheet(e){ci(e,"string","sheetName");try{return this._crudOperations.ensureItIsPossibleToAddSheet(e),!0}catch(t){return!1}}addSheet(e){void 0!==e&&ci(e,"string","sheetName");const t=this._crudOperations.addSheet(e);return this._emitter.emit(la.SheetAdded,t),t}isItPossibleToRemoveSheet(e){ci(e,"number","sheetId");try{return this._crudOperations.ensureScopeIdIsValid(e),!0}catch(t){return!1}}removeSheet(e){ci(e,"number","sheetId");const t=this.sheetMapping.getDisplayName(e);this._crudOperations.removeSheet(e);const n=this.recomputeIfDependencyGraphNeedsIt();return this._emitter.emit(la.SheetRemoved,t,n),n}isItPossibleToClearSheet(e){ci(e,"number","sheetId");try{return this._crudOperations.ensureScopeIdIsValid(e),!0}catch(t){return!1}}clearSheet(e){return ci(e,"number","sheetId"),this._crudOperations.clearSheet(e),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToReplaceSheetContent(e,t){ci(e,"number","sheetId");try{return this._crudOperations.ensureScopeIdIsValid(e),this._crudOperations.ensureItIsPossibleToChangeSheetContents(e,t),!0}catch(n){return!1}}setSheetContent(e,t){return ci(e,"number","sheetId"),this._crudOperations.setSheetContent(e,t),this.recomputeIfDependencyGraphNeedsIt()}simpleCellAddressFromString(e,t){return ci(e,"string","cellAddress"),ci(t,"number","sheetId"),O(this.sheetMapping.get,e,t)}simpleCellRangeFromString(e,t){return ci(e,"string","cellRange"),ci(t,"number","sheetId"),I(this.sheetMapping.get,e,t)}simpleCellAddressToString(e,t){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");return ci(t,"number","sheetId"),P(this.sheetMapping.fetchDisplayName,e,t)}simpleCellRangeToString(e,t){if(!_r(e))throw new on("SimpleCellRange","cellRange");return ci(t,"number","sheetId"),D(this.sheetMapping.fetchDisplayName,e,t)}getCellDependents(e){let t;if(vr(e))t=this._dependencyGraph.addressMapping.getCell(e);else{if(!_r(e))throw new on("SimpleCellAddress | SimpleCellRange",e);t=this._dependencyGraph.rangeMapping.getRange(e.start,e.end)}return void 0===t?[]:this._dependencyGraph.getAdjacentNodesAddresses(t)}getCellPrecedents(e){let t;if(vr(e))t=this._dependencyGraph.addressMapping.getCell(e);else{if(!_r(e))throw new on("SimpleCellAddress | SimpleCellRange",e);t=this._dependencyGraph.rangeMapping.getRange(e.start,e.end)}return void 0===t?[]:this._dependencyGraph.dependencyQueryAddresses(t)}getSheetName(e){return ci(e,"number","sheetId"),this.sheetMapping.getDisplayName(e)}getSheetNames(){return this.sheetMapping.sheetNames()}getSheetId(e){return ci(e,"string","sheetName"),this.sheetMapping.get(e)}doesSheetExist(e){return ci(e,"string","sheetName"),this.sheetMapping.hasSheetWithName(e)}getCellType(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");const t=this.dependencyGraph.getCell(e);return Zn(t,e)}doesCellHaveSimpleValue(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");return this.getCellType(e)===Vn.VALUE}doesCellHaveFormula(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");const t=this.getCellType(e);return t===Vn.FORMULA||t===Vn.ARRAYFORMULA}isCellEmpty(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");return this.getCellType(e)===Vn.EMPTY}isCellPartOfArray(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");const t=this.getCellType(e);return t===Vn.ARRAY||t===Vn.ARRAYFORMULA}getCellValueType(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");this.ensureEvaluationIsNotSuspended();const t=this.dependencyGraph.getCellValue(e);return or(t)}getCellValueDetailedType(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");this.ensureEvaluationIsNotSuspended();const t=this.dependencyGraph.getCellValue(e);return sr(t)}getCellValueFormat(e){if(!vr(e))throw new on("SimpleCellAddress","cellAddress");this.ensureEvaluationIsNotSuspended();const t=this.dependencyGraph.getCellValue(e);return ar(t)}countSheets(){return this.sheetMapping.numberOfSheets()}isItPossibleToRenameSheet(e,t){ci(e,"number","sheetId"),ci(t,"string","newName");try{return this._crudOperations.ensureItIsPossibleToRenameSheet(e,t),!0}catch(n){return!1}}renameSheet(e,t){ci(e,"number","sheetId"),ci(t,"string","newName");const n=this._crudOperations.renameSheet(e,t);void 0!==n&&this._emitter.emit(la.SheetRenamed,n,t)}batch(e){this.suspendEvaluation(),this._crudOperations.beginUndoRedoBatchMode();try{e()}catch(t){throw this._crudOperations.commitUndoRedoBatchMode(),this.resumeEvaluation(),t}return this._crudOperations.commitUndoRedoBatchMode(),this.resumeEvaluation()}suspendEvaluation(){this._evaluationSuspended=!0,this._emitter.emit(la.EvaluationSuspended)}resumeEvaluation(){this._evaluationSuspended=!1;const e=this.recomputeIfDependencyGraphNeedsIt();return this._emitter.emit(la.EvaluationResumed,e),e}isEvaluationSuspended(){return this._evaluationSuspended}isItPossibleToAddNamedExpression(e,t,n){ci(e,"string","expressionName"),void 0!==n&&ci(n,"number","scope");try{return this._crudOperations.ensureItIsPossibleToAddNamedExpression(e,t,n),!0}catch(r){return!1}}addNamedExpression(e,t,n,r){ci(e,"string","expressionName"),void 0!==n&&ci(n,"number","scope"),this._crudOperations.addNamedExpression(e,t,n,r);const i=this.recomputeIfDependencyGraphNeedsIt();return this._emitter.emit(la.NamedExpressionAdded,e,i),i}getNamedExpressionValue(e,t){ci(e,"string","expressionName"),void 0!==t&&ci(t,"number","scope"),this.ensureEvaluationIsNotSuspended(),this._crudOperations.ensureScopeIdIsValid(t);const n=this._namedExpressions.namedExpressionForScope(e,t);return n?this._serialization.getCellValue(n.address):void 0}getNamedExpressionFormula(e,t){ci(e,"string","expressionName"),void 0!==t&&ci(t,"number","scope"),this._crudOperations.ensureScopeIdIsValid(t);const n=this._namedExpressions.namedExpressionForScope(e,t);return void 0===n?void 0:this._serialization.getCellFormula(n.address)}getNamedExpression(e,t){ci(e,"string","expressionName"),void 0!==t&&ci(t,"number","scope");const n=this._namedExpressions.namedExpressionForScope(e,t);if(void 0===n)return;const r=this._serialization.getCellFormula(n.address);return{name:e,scope:t,expression:r,options:n.options}}isItPossibleToChangeNamedExpression(e,t,n){ci(e,"string","expressionName"),void 0!==n&&ci(n,"number","scope");try{return this._crudOperations.ensureItIsPossibleToChangeNamedExpression(e,t,n),!0}catch(r){return!1}}changeNamedExpression(e,t,n,r){return ci(e,"string","expressionName"),void 0!==n&&ci(n,"number","scope"),this._crudOperations.changeNamedExpressionExpression(e,n,t,r),this.recomputeIfDependencyGraphNeedsIt()}isItPossibleToRemoveNamedExpression(e,t){ci(e,"string","expressionName"),void 0!==t&&ci(t,"number","scope");try{return this._crudOperations.isItPossibleToRemoveNamedExpression(e,t),!0}catch(n){return!1}}removeNamedExpression(e,t){ci(e,"string","expressionName"),void 0!==t&&ci(t,"number","scope");const n=this._crudOperations.removeNamedExpression(e,t);if(n){const e=this.recomputeIfDependencyGraphNeedsIt();return this._emitter.emit(la.NamedExpressionRemoved,n.displayName,e),e}return[]}listNamedExpressions(e){return void 0!==e&&ci(e,"number","scope"),this._crudOperations.ensureScopeIdIsValid(e),this._namedExpressions.getAllNamedExpressionsNamesInScope(e)}getAllNamedExpressionsSerialized(){return this._serialization.getAllNamedExpressionsSerialized()}normalizeFormula(e){ci(e,"string","formulaString");const{ast:t,address:n}=this.extractTemporaryFormula(e);if(void 0===t)throw new Gt;return this._unparser.unparse(t,n)}calculateFormula(e,t){ci(e,"string","formulaString"),ci(t,"number","sheetId"),this._crudOperations.ensureScopeIdIsValid(t);const{ast:n,address:r,dependencies:i}=this.extractTemporaryFormula(e,t);if(void 0===n)throw new Gt;const o=this.evaluator.runAndForget(n,r,i);return this._exporter.exportScalarOrRange(o)}getNamedExpressionsFromFormula(e){ci(e,"string","formulaString");const{ast:t,dependencies:n}=this.extractTemporaryFormula(e);if(void 0===t)throw new Gt;const r=n.filter((e=>e instanceof yt)).map((e=>e.name)),i=[...new Set(r)];return i}validateFormula(e){ci(e,"string","formulaString");const{ast:t}=this.extractTemporaryFormula(e);return void 0!==t}getRegisteredFunctionNames(){const e=ha.getLanguage(this._config.language);return e.getFunctionTranslations(this._functionRegistry.getRegisteredFunctionIds())}getFunctionPlugin(e){return ci(e,"string","functionId"),this._functionRegistry.getFunctionPlugin(e)}getAllFunctionPlugins(){return this._functionRegistry.getPlugins()}numberToDateTime(e){return ci(e,"number","val"),this._evaluator.interpreter.dateTimeHelper.numberToSimpleDateTime(e)}numberToDate(e){return ci(e,"number","val"),this._evaluator.interpreter.dateTimeHelper.numberToSimpleDate(e)}numberToTime(e){return ci(e,"number","val"),Bi(e)}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}destroy(){sa(this)}ensureEvaluationIsNotSuspended(){if(this._evaluationSuspended)throw new cn}extractTemporaryFormula(e,t=1){const n=this._cellContentParser.parse(e),r={sheet:t,col:0,row:0};if(!(n instanceof _o.Formula))return{address:r,dependencies:[]};const{ast:i,errors:o,dependencies:s}=this._parser.parse(n.formula,r);return o.length>0?{address:r,dependencies:[]}:{ast:i,address:r,dependencies:s}}rebuildWithConfig(e){const t=this._config.mergeConfig(e),n=this._config.mergeConfig({language:e.language}),r=this._serialization.withNewConfig(n,this._namedExpressions).getAllSheetsSerialized(),i=this._serialization.getAllNamedExpressionsSerialized(),o=oa.rebuildWithConfig(t,r,i,this._stats);this._config=o.config,this._stats=o.stats,this._dependencyGraph=o.dependencyGraph,this._columnSearch=o.columnSearch,this._parser=o.parser,this._unparser=o.unparser,this._cellContentParser=o.cellContentParser,this._evaluator=o.evaluator,this._lazilyTransformingAstService=o.lazilyTransformingAstService,this._crudOperations=o.crudOperations,this._exporter=o.exporter,this._namedExpressions=o.namedExpressions,this._serialization=o.serialization,this._functionRegistry=o.functionRegistry}recomputeIfDependencyGraphNeedsIt(){if(this._evaluationSuspended)return[];{const e=this._crudOperations.getAndClearContentChanges(),t=this.dependencyGraph.verticesToRecompute();this.dependencyGraph.clearDirtyVertices(),t.length>0&&e.addAll(this.evaluator.partialRun(t));const n=e.exportChanges(this._exporter);return e.isEmpty()||this._emitter.emit(la.ValuesUpdated,n),n}}}ha.version="2.7.1",ha.buildDate="18/07/2024 11:23:17",ha.releaseDate="18/07/2024",ha.languages={},ha.registeredLanguages=new Map;
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const da=new WeakMap;class fa{constructor(e={},t=!0){const{accentSensitive:n,binarySearchThreshold:r,caseSensitive:i,caseFirst:o,chooseAddressMappingPolicy:s,context:a,currencySymbol:l,dateFormats:u,decimalSeparator:c,evaluateNullToZero:h,functionArgSeparator:d,functionPlugins:f,ignorePunctuation:p,leapYear1900:m,localeLang:g,language:v,ignoreWhiteSpace:y,licenseKey:b,matchWholeCell:w,arrayColumnSeparator:_,arrayRowSeparator:E,maxRows:S,maxColumns:T,nullYear:M,nullDate:C,parseDateTime:R,precisionEpsilon:x,precisionRounding:A,stringifyDateTime:N,stringifyDuration:L,smartRounding:k,timeFormats:O,thousandSeparator:I,useArrayArithmetic:P,useStats:D,undoLimit:F,useColumnIndex:H,useRegularExpressions:U,useWildcards:B}=e;t&&fa.warnDeprecatedOptions(e),this.useArrayArithmetic=oi(P,"boolean","useArrayArithmetic"),this.accentSensitive=oi(n,"boolean","accentSensitive"),this.caseSensitive=oi(i,"boolean","caseSensitive"),this.caseFirst=oi(o,["upper","lower","false"],"caseFirst"),this.ignorePunctuation=oi(p,"boolean","ignorePunctuation"),this.chooseAddressMappingPolicy=null!==s&&void 0!==s?s:fa.defaultConfig.chooseAddressMappingPolicy,this.dateFormats=[...li(u,Array.isArray,"array","dateFormats")],this.timeFormats=[...li(O,Array.isArray,"array","timeFormats")],this.functionArgSeparator=oi(d,"string","functionArgSeparator"),this.decimalSeparator=oi(c,[".",","],"decimalSeparator"),this.language=oi(v,"string","language"),this.ignoreWhiteSpace=oi(y,["standard","any"],"ignoreWhiteSpace"),this.licenseKey=oi(b,"string","licenseKey"),this.thousandSeparator=oi(I,["",","," ","."],"thousandSeparator"),this.arrayColumnSeparator=oi(_,[",",";"],"arrayColumnSeparator"),this.arrayRowSeparator=oi(E,[";","|"],"arrayRowSeparator"),this.localeLang=oi(g,"string","localeLang"),this.functionPlugins=[...null!==f&&void 0!==f?f:fa.defaultConfig.functionPlugins],this.smartRounding=oi(k,"boolean","smartRounding"),this.evaluateNullToZero=oi(h,"boolean","evaluateNullToZero"),this.nullYear=oi(M,"number","nullYear"),si(this.nullYear,"nullYear",0),ai(this.nullYear,"nullYear",100),this.precisionRounding=oi(A,"number","precisionRounding"),si(this.precisionRounding,"precisionRounding",0),this.precisionEpsilon=oi(x,"number","precisionEpsilon"),si(this.precisionEpsilon,"precisionEpsilon",0),this.useColumnIndex=oi(H,"boolean","useColumnIndex"),this.useStats=oi(D,"boolean","useStats"),this.binarySearchThreshold=null!==r&&void 0!==r?r:fa.defaultConfig.binarySearchThreshold,this.parseDateTime=oi(R,"function","parseDateTime"),this.stringifyDateTime=oi(N,"function","stringifyDateTime"),this.stringifyDuration=oi(L,"function","stringifyDuration"),this.translationPackage=ha.getLanguage(this.language),this.errorMapping=this.translationPackage.buildErrorMapping(),this.nullDate=li(C,Li,"IDate","nullDate"),this.leapYear1900=oi(m,"boolean","leapYear1900"),this.undoLimit=oi(F,"number","undoLimit"),this.useRegularExpressions=oi(U,"boolean","useRegularExpressions"),this.useWildcards=oi(B,"boolean","useWildcards"),this.matchWholeCell=oi(w,"boolean","matchWholeCell"),si(this.undoLimit,"undoLimit",0),this.maxRows=oi(S,"number","maxRows"),si(this.maxRows,"maxRows",1),this.maxColumns=oi(T,"number","maxColumns"),this.currencySymbol=this.setupCurrencySymbol(l),si(this.maxColumns,"maxColumns",1),this.context=a,da.set(this,{licenseKeyValidityState:bo(this.licenseKey)}),ui({value:this.decimalSeparator,name:"decimalSeparator"},{value:this.functionArgSeparator,name:"functionArgSeparator"},{value:this.thousandSeparator,name:"thousandSeparator"}),ui({value:this.arrayRowSeparator,name:"arrayRowSeparator"},{value:this.arrayColumnSeparator,name:"arrayColumnSeparator"})}setupCurrencySymbol(e){const t=[...li(e,Array.isArray,"array","currencySymbol")];return t.forEach((e=>{if("string"!==typeof e)throw new on("string[]","currencySymbol");if(""===e)throw new sn("currencySymbol")})),t}get licenseKeyValidityState(){return da.get(this).licenseKeyValidityState}getConfig(){return pa(this)}mergeConfig(e){const t=Object.assign({},this.getConfig(),e);return fa.warnDeprecatedOptions(e),new fa(t,!1)}static warnDeprecatedOptions(e){fa.warnDeprecatedIfUsed(e.binarySearchThreshold,"binarySearchThreshold","1.1")}static warnDeprecatedIfUsed(e,t,n,r){void 0!==e&&(void 0===r?console.warn(`${t} option is deprecated since ${n}`):console.warn(`${t} option is deprecated since ${n}, please use ${r}`))}}function pa(e){var t;const n={};for(const r in fa.defaultConfig){const i=null!==(t=e[r])&&void 0!==t?t:fa.defaultConfig[r];Array.isArray(i)?n[r]=[...i]:n[r]=i}return n}function ma(){return pa({})}fa.defaultConfig={accentSensitive:!1,binarySearchThreshold:20,currencySymbol:["$"],caseSensitive:!1,caseFirst:"lower",context:void 0,chooseAddressMappingPolicy:new Vi,dateFormats:["DD/MM/YYYY","DD/MM/YY"],decimalSeparator:".",evaluateNullToZero:!1,functionArgSeparator:",",functionPlugins:[],ignorePunctuation:!1,language:"enGB",ignoreWhiteSpace:"standard",licenseKey:"",leapYear1900:!1,localeLang:"en",matchWholeCell:!0,arrayColumnSeparator:",",arrayRowSeparator:";",maxRows:4e4,maxColumns:18278,nullYear:30,nullDate:{year:1899,month:12,day:30},parseDateTime:bi,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,stringifyDateTime:ao,stringifyDuration:so,timeFormats:["hh:mm","hh:mm:ss.sss"],thousandSeparator:"",undoLimit:20,useRegularExpressions:!1,useWildcards:!0,useColumnIndex:!1,useStats:!1,useArrayArithmetic:!1};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const ga={errors:{CYCLE:"#CYCLE!",DIV_BY_ZERO:"#DIV/0!",ERROR:"#ERROR!",NA:"#N/A",NAME:"#NAME?",NUM:"#NUM!",REF:"#REF!",SPILL:"#SPILL!",VALUE:"#VALUE!"},functions:{FILTER:"FILTER",ADDRESS:"ADDRESS",ARRAY_CONSTRAIN:"ARRAY_CONSTRAIN",ARRAYFORMULA:"ARRAYFORMULA",ABS:"ABS",ACOS:"ACOS",ACOSH:"ACOSH",ACOT:"ACOT",ACOTH:"ACOTH",AND:"AND",ARABIC:"ARABIC",ASIN:"ASIN",ASINH:"ASINH",ATAN2:"ATAN2",ATAN:"ATAN",ATANH:"ATANH",AVERAGE:"AVERAGE",AVERAGEA:"AVERAGEA",AVERAGEIF:"AVERAGEIF",BASE:"BASE",BIN2DEC:"BIN2DEC",BIN2HEX:"BIN2HEX",BIN2OCT:"BIN2OCT",BITAND:"BITAND",BITLSHIFT:"BITLSHIFT",BITOR:"BITOR",BITRSHIFT:"BITRSHIFT",BITXOR:"BITXOR",CEILING:"CEILING",CHAR:"CHAR",CHOOSE:"CHOOSE",CLEAN:"CLEAN",CODE:"CODE",COLUMN:"COLUMN",COLUMNS:"COLUMNS",CONCATENATE:"CONCATENATE",CORREL:"CORREL",COS:"COS",COSH:"COSH",COT:"COT",COTH:"COTH",COUNT:"COUNT",COUNTA:"COUNTA",COUNTBLANK:"COUNTBLANK",COUNTIF:"COUNTIF",COUNTIFS:"COUNTIFS",COUNTUNIQUE:"COUNTUNIQUE",CSC:"CSC",CSCH:"CSCH",CUMIPMT:"CUMIPMT",CUMPRINC:"CUMPRINC",DATE:"DATE",DATEDIF:"DATEDIF",DATEVALUE:"DATEVALUE",DAY:"DAY",DAYS360:"DAYS360",DAYS:"DAYS",DB:"DB",DDB:"DDB",DEC2BIN:"DEC2BIN",DEC2HEX:"DEC2HEX",DEC2OCT:"DEC2OCT",DECIMAL:"DECIMAL",DEGREES:"DEGREES",DELTA:"DELTA",DOLLARDE:"DOLLARDE",DOLLARFR:"DOLLARFR",EDATE:"EDATE",EFFECT:"EFFECT",EOMONTH:"EOMONTH",ERF:"ERF",ERFC:"ERFC",EVEN:"EVEN",EXACT:"EXACT",EXP:"EXP",FALSE:"FALSE",FIND:"FIND",FORMULATEXT:"FORMULATEXT",FV:"FV",FVSCHEDULE:"FVSCHEDULE",HEX2BIN:"HEX2BIN",HEX2DEC:"HEX2DEC",HEX2OCT:"HEX2OCT",HLOOKUP:"HLOOKUP",HOUR:"HOUR",HYPERLINK:"HYPERLINK",IF:"IF",IFERROR:"IFERROR",IFNA:"IFNA",IFS:"IFS",INDEX:"INDEX",INT:"INT",INTERVAL:"INTERVAL",IPMT:"IPMT",ISBINARY:"ISBINARY",ISBLANK:"ISBLANK",ISERR:"ISERR",ISERROR:"ISERROR",ISEVEN:"ISEVEN",ISFORMULA:"ISFORMULA",ISLOGICAL:"ISLOGICAL",ISNA:"ISNA",ISNONTEXT:"ISNONTEXT",ISNUMBER:"ISNUMBER",ISODD:"ISODD",ISOWEEKNUM:"ISOWEEKNUM",ISPMT:"ISPMT",ISREF:"ISREF",ISTEXT:"ISTEXT",LEFT:"LEFT",LEN:"LEN",LN:"LN",LOG10:"LOG10",LOG:"LOG",LOWER:"LOWER",MATCH:"MATCH",MAX:"MAX",MAXA:"MAXA",MAXIFS:"MAXIFS",MAXPOOL:"MAXPOOL",MEDIAN:"MEDIAN",MEDIANPOOL:"MEDIANPOOL",MID:"MID",MIN:"MIN",MINA:"MINA",MINIFS:"MINIFS",MINUTE:"MINUTE",MIRR:"MIRR",MMULT:"MMULT",MOD:"MOD",MONTH:"MONTH",NA:"NA",NETWORKDAYS:"NETWORKDAYS","NETWORKDAYS.INTL":"NETWORKDAYS.INTL",NOMINAL:"NOMINAL",NOT:"NOT",NOW:"NOW",NPER:"NPER",NPV:"NPV",OCT2BIN:"OCT2BIN",OCT2DEC:"OCT2DEC",OCT2HEX:"OCT2HEX",ODD:"ODD",OFFSET:"OFFSET",OR:"OR",PI:"PI",PMT:"PMT",PDURATION:"PDURATION",PRODUCT:"PRODUCT",POWER:"POWER",PPMT:"PPMT",PROPER:"PROPER",PV:"PV",RADIANS:"RADIANS",RAND:"RAND",RATE:"RATE",REPLACE:"REPLACE",REPT:"REPT",RIGHT:"RIGHT",ROMAN:"ROMAN",ROUND:"ROUND",ROUNDDOWN:"ROUNDDOWN",ROUNDUP:"ROUNDUP",ROW:"ROW",ROWS:"ROWS",RRI:"RRI",SEARCH:"SEARCH",SEC:"SEC",SECH:"SECH",SECOND:"SECOND",SHEET:"SHEET",SHEETS:"SHEETS",SIN:"SIN",SINH:"SINH",SLN:"SLN",SPLIT:"SPLIT",SQRT:"SQRT",STDEVA:"STDEVA","STDEV.P":"STDEV.P",STDEVPA:"STDEVPA","STDEV.S":"STDEV.S",SUBSTITUTE:"SUBSTITUTE",SUBTOTAL:"SUBTOTAL",SUM:"SUM",SUMIF:"SUMIF",SUMIFS:"SUMIFS",SUMPRODUCT:"SUMPRODUCT",SUMSQ:"SUMSQ",SWITCH:"SWITCH",SYD:"SYD",T:"T",TAN:"TAN",TANH:"TANH",TBILLEQ:"TBILLEQ",TBILLPRICE:"TBILLPRICE",TBILLYIELD:"TBILLYIELD",TEXT:"TEXT",TIME:"TIME",TIMEVALUE:"TIMEVALUE",TODAY:"TODAY",TRANSPOSE:"TRANSPOSE",TRIM:"TRIM",TRUE:"TRUE",TRUNC:"TRUNC",UNICHAR:"UNICHAR",UNICODE:"UNICODE",UPPER:"UPPER",VARA:"VARA","VAR.P":"VAR.P",VARPA:"VARPA","VAR.S":"VAR.S",VLOOKUP:"VLOOKUP",WEEKDAY:"WEEKDAY",WEEKNUM:"WEEKNUM",WORKDAY:"WORKDAY","WORKDAY.INTL":"WORKDAY.INTL",XNPV:"XNPV",XOR:"XOR",YEAR:"YEAR",YEARFRAC:"YEARFRAC","HF.ADD":"HF.ADD","HF.CONCAT":"HF.CONCAT","HF.DIVIDE":"HF.DIVIDE","HF.EQ":"HF.EQ","HF.GT":"HF.GT","HF.GTE":"HF.GTE","HF.LT":"HF.LT","HF.LTE":"HF.LTE","HF.MINUS":"HF.MINUS","HF.MULTIPLY":"HF.MULTIPLY","HF.NE":"HF.NE","HF.POW":"HF.POW","HF.UMINUS":"HF.UMINUS","HF.UNARY_PERCENT":"HF.UNARY_PERCENT","HF.UPLUS":"HF.UPLUS",VARP:"VARP",VAR:"VAR",STDEVP:"STDEVP",STDEV:"STDEV","EXPON.DIST":"EXPON.DIST",FISHER:"FISHER",FISHERINV:"FISHERINV",GAMMA:"GAMMA","GAMMA.DIST":"GAMMA.DIST",GAMMALN:"GAMMALN","GAMMALN.PRECISE":"GAMMALN.PRECISE","GAMMA.INV":"GAMMA.INV",GAUSS:"GAUSS",FACT:"FACT",FACTDOUBLE:"FACTDOUBLE",COMBIN:"COMBIN",COMBINA:"COMBINA",GCD:"GCD",LCM:"LCM",MROUND:"MROUND",MULTINOMIAL:"MULTINOMIAL",QUOTIENT:"QUOTIENT",RANDBETWEEN:"RANDBETWEEN",SERIESSUM:"SERIESSUM",SIGN:"SIGN",SQRTPI:"SQRTPI",SUMX2MY2:"SUMX2MY2",SUMX2PY2:"SUMX2PY2",SUMXMY2:"SUMXMY2",EXPONDIST:"EXPONDIST",GAMMADIST:"GAMMADIST",GAMMAINV:"GAMMAINV","BETA.DIST":"BETA.DIST",BETADIST:"BETADIST","BETA.INV":"BETA.INV",BETAINV:"BETAINV","BINOM.DIST":"BINOM.DIST",BINOMDIST:"BINOMDIST","BINOM.INV":"BINOM.INV",BESSELI:"BESSELI",BESSELJ:"BESSELJ",BESSELK:"BESSELK",BESSELY:"BESSELY","CHISQ.DIST":"CHISQ.DIST","CHISQ.DIST.RT":"CHISQ.DIST.RT","CHISQ.INV":"CHISQ.INV","CHISQ.INV.RT":"CHISQ.INV.RT",CHIDIST:"CHIDIST",CHIINV:"CHIINV","F.DIST":"F.DIST","F.DIST.RT":"F.DIST.RT","F.INV":"F.INV","F.INV.RT":"F.INV.RT",FDIST:"FDIST",FINV:"FINV",WEIBULL:"WEIBULL","WEIBULL.DIST":"WEIBULL.DIST",POISSON:"POISSON","POISSON.DIST":"POISSON.DIST","HYPGEOM.DIST":"HYPGEOM.DIST",HYPGEOMDIST:"HYPGEOMDIST","T.DIST":"T.DIST","T.DIST.2T":"T.DIST.2T","T.DIST.RT":"T.DIST.RT","T.INV":"T.INV","T.INV.2T":"T.INV.2T",TDIST:"TDIST",TINV:"TINV",LOGINV:"LOGINV","LOGNORM.DIST":"LOGNORM.DIST","LOGNORM.INV":"LOGNORM.INV",LOGNORMDIST:"LOGNORMDIST","NORM.DIST":"NORM.DIST","NORM.INV":"NORM.INV","NORM.S.DIST":"NORM.S.DIST","NORM.S.INV":"NORM.S.INV",NORMDIST:"NORMDIST",NORMINV:"NORMINV",NORMSDIST:"NORMSDIST",NORMSINV:"NORMSINV",PHI:"PHI","NEGBINOM.DIST":"NEGBINOM.DIST",NEGBINOMDIST:"NEGBINOMDIST",COMPLEX:"COMPLEX",IMABS:"IMABS",IMAGINARY:"IMAGINARY",IMARGUMENT:"IMARGUMENT",IMCONJUGATE:"IMCONJUGATE",IMCOS:"IMCOS",IMCOSH:"IMCOSH",IMCOT:"IMCOT",IMCSC:"IMCSC",IMCSCH:"IMCSCH",IMDIV:"IMDIV",IMEXP:"IMEXP",IMLN:"IMLN",IMLOG10:"IMLOG10",IMLOG2:"IMLOG2",IMPOWER:"IMPOWER",IMPRODUCT:"IMPRODUCT",IMREAL:"IMREAL",IMSEC:"IMSEC",IMSECH:"IMSECH",IMSIN:"IMSIN",IMSINH:"IMSINH",IMSQRT:"IMSQRT",IMSUB:"IMSUB",IMSUM:"IMSUM",IMTAN:"IMTAN",LARGE:"LARGE",SMALL:"SMALL",AVEDEV:"AVEDEV",CONFIDENCE:"CONFIDENCE","CONFIDENCE.NORM":"CONFIDENCE.NORM","CONFIDENCE.T":"CONFIDENCE.T",DEVSQ:"DEVSQ",GEOMEAN:"GEOMEAN",HARMEAN:"HARMEAN",CRITBINOM:"CRITBINOM","COVARIANCE.P":"COVARIANCE.P","COVARIANCE.S":"COVARIANCE.S",COVAR:"COVAR",PEARSON:"PEARSON",RSQ:"RSQ",STANDARDIZE:"STANDARDIZE","Z.TEST":"Z.TEST",ZTEST:"ZTEST","F.TEST":"F.TEST",FTEST:"FTEST",STEYX:"STEYX",SLOPE:"SLOPE","CHISQ.TEST":"CHISQ.TEST",CHITEST:"CHITEST","T.TEST":"T.TEST",TTEST:"TTEST",SKEW:"SKEW","SKEW.P":"SKEW.P",WEIBULLDIST:"WEIBULLDIST",VARS:"VARS",TINV2T:"TINV2T",TDISTRT:"TDISTRT",TDIST2T:"TDIST2T",STDEVS:"STDEVS",FINVRT:"FINVRT",FDISTRT:"FDISTRT",CHIDISTRT:"CHIDISTRT",CHIINVRT:"CHIINVRT",COVARIANCEP:"COVARIANCEP",COVARIANCES:"COVARIANCES",LOGNORMINV:"LOGNORMINV",POISSONDIST:"POISSONDIST",SKEWP:"SKEWP","CEILING.MATH":"CEILING.MATH",FLOOR:"FLOOR","FLOOR.MATH":"FLOOR.MATH","CEILING.PRECISE":"CEILING.PRECISE","FLOOR.PRECISE":"FLOOR.PRECISE","ISO.CEILING":"ISO.CEILING"},langCode:"enGB",ui:{NEW_SHEET_PREFIX:"Sheet"}};var va,ya=ga;(function(e){e[e["FullyAbsolute"]=1]="FullyAbsolute",e[e["RowAbsoluteColRelative"]=2]="RowAbsoluteColRelative",e[e["RowRelativeColAbsolute"]=3]="RowRelativeColAbsolute",e[e["FullyRelative"]=4]="FullyRelative"})(va||(va={}));class ba extends Zr{verifyAddressArguments(e,t,n,r){if(r){if(e<1||t<1)return new lr(Yn.VALUE,Re.LessThanOne)}else if(va.FullyAbsolute==n){if(e<1||t<1)return new lr(Yn.VALUE,Re.LessThanOne)}else if(va.RowAbsoluteColRelative==n){if(e<1)return new lr(Yn.VALUE,Re.LessThanOne)}else if(va.RowRelativeColAbsolute==n&&t<1)return new lr(Yn.VALUE,Re.LessThanOne)}address(e,t){return this.runFunction(e.args,t,this.metadata("ADDRESS"),((e,t,n,r,i)=>{const o=this.verifyAddressArguments(e,t,n,r);if(void 0!==o)return o;const s=H(t-1);let a="";void 0!==i&&null!==i&&(a=`${i}!`);const l=0==t?"C":`C[${t}]`,u=0==e?"R":`R[${e}]`;return va.FullyRelative==n?r?`${a}${s}${e}`:`${a}${u}${l}`:va.RowRelativeColAbsolute==n?r?`${a}$${s}${e}`:`${a}${u}C${t}`:va.RowAbsoluteColRelative==n?r?`${a}${s}$${e}`:`${a}R${e}${l}`:r?`${a}$${s}$${e}`:`${a}R${e}C${t}`}))}}ba.implementedFunctions={ADDRESS:{method:"address",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,optionalArg:!0,defaultValue:1,minValue:1,maxValue:4},{argumentType:Qr.BOOLEAN,optionalArg:!0,defaultValue:!0},{argumentType:Qr.STRING,optionalArg:!0}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class wa extends Zr{arrayformula(e,t){return this.runFunction(e.args,t,this.metadata("ARRAYFORMULA"),(e=>e))}arrayformulaArraySize(e,t){if(1!==e.args.length)return ei.error();const n=this.metadata("ARRAYFORMULA"),r=e.args.map((e=>{var r;return this.arraySizeForAst(e,new Cr(t.formulaAddress,t.arraysFlag||null!==(r=null===n||void 0===n?void 0:n.arrayFunction)&&void 0!==r&&r))}));return r[0]}arrayconstrain(e,t){return this.runFunction(e.args,t,this.metadata("ARRAY_CONSTRAIN"),((e,t,n)=>{t=Math.min(t,e.height()),n=Math.min(n,e.width());const r=e.data,i=[];for(let o=0;o<t;o++)i.push(r[o].slice(0,n));return Dt.onlyValues(i)}))}arrayconstrainArraySize(e,t){if(3!==e.args.length)return ei.error();const n=this.metadata("ARRAY_CONSTRAIN"),r=e.args.map((e=>{var r;return this.arraySizeForAst(e,new Cr(t.formulaAddress,t.arraysFlag||null!==(r=null===n||void 0===n?void 0:n.arrayFunction)&&void 0!==r&&r))}));let{height:i,width:o}=r[0];return e.args[1].type===W.NUMBER&&(i=Math.min(i,e.args[1].value)),e.args[2].type===W.NUMBER&&(o=Math.min(o,e.args[2].value)),i<1||o<1||!Number.isInteger(i)||!Number.isInteger(o)?ei.error():new ei(o,i)}filter(e,t){return this.runFunction(e.args,t,this.metadata("FILTER"),((e,...t)=>{for(const i of t)if(e.width()!==i.width()||e.height()!==i.height())return new lr(Yn.NA,Re.EqualLength);if(e.width()>1&&e.height()>1)return new lr(Yn.NA,Re.WrongDimension);const n=e.data,r=[];for(let i=0;i<e.height();i++){const o=[];for(let r=0;r<e.width();r++){let e=!0;for(const n of t){const t=Pr(n.data[i][r]);if(!0!==t){e=!1;break}}e&&o.push(n[i][r])}o.length>0&&r.push(o)}return r.length>0?Dt.onlyValues(r):new lr(Yn.NA,Re.EmptyRange)}))}filterArraySize(e,t){if(e.args.length<=1)return ei.error();const n=this.metadata("FILTER"),r=e.args.map((e=>{var r;return this.arraySizeForAst(e,new Cr(t.formulaAddress,t.arraysFlag||null!==(r=null===n||void 0===n?void 0:n.arrayFunction)&&void 0!==r&&r))})),i=Math.max(...r.map((e=>e.width))),o=Math.max(...r.map((e=>e.height)));return new ei(i,o)}}wa.implementedFunctions={ARRAYFORMULA:{method:"arrayformula",arraySizeMethod:"arrayformulaArraySize",arrayFunction:!0,parameters:[{argumentType:Qr.ANY}]},ARRAY_CONSTRAIN:{method:"arrayconstrain",arraySizeMethod:"arrayconstrainArraySize",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.INTEGER,minValue:1},{argumentType:Qr.INTEGER,minValue:1}],vectorizationForbidden:!0},FILTER:{method:"filter",arraySizeMethod:"filterArraySize",arrayFunction:!0,parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}],repeatLastArgs:1}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class _a extends Zr{abs(e,t){return this.runFunction(e.args,t,this.metadata("ABS"),Math.abs)}}_a.implementedFunctions={ABS:{method:"abs",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const Ea=0xffffffffffff,Sa=-53,Ta=53;class Ma extends Zr{bitlshift(e,t){return this.runFunction(e.args,t,this.metadata("BITLSHIFT"),Ca)}bitrshift(e,t){return this.runFunction(e.args,t,this.metadata("BITRSHIFT"),Ra)}}function Ca(e,t){return t<0?Ra(e,-t):xa(e*Math.pow(2,t))}function Ra(e,t){return t<0?Ca(e,-t):xa(Math.floor(e/Math.pow(2,t)))}function xa(e){return e>Ea?new lr(Yn.NUM,Re.BitshiftLong):e}Ma.implementedFunctions={BITLSHIFT:{method:"bitlshift",parameters:[{argumentType:Qr.INTEGER,minValue:0},{argumentType:Qr.INTEGER,minValue:Sa,maxValue:Ta}]},BITRSHIFT:{method:"bitrshift",parameters:[{argumentType:Qr.INTEGER,minValue:0},{argumentType:Qr.INTEGER,minValue:Sa,maxValue:Ta}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Aa extends Zr{bitand(e,t){return this.runFunction(e.args,t,this.metadata("BITAND"),((e,t)=>e&t))}bitor(e,t){return this.runFunction(e.args,t,this.metadata("BITOR"),((e,t)=>e|t))}bitxor(e,t){return this.runFunction(e.args,t,this.metadata("BITXOR"),((e,t)=>e^t))}}Aa.implementedFunctions={BITAND:{method:"bitand",parameters:[{argumentType:Qr.INTEGER,minValue:0},{argumentType:Qr.INTEGER,minValue:0}]},BITOR:{method:"bitor",parameters:[{argumentType:Qr.INTEGER,minValue:0},{argumentType:Qr.INTEGER,minValue:0}]},BITXOR:{method:"bitxor",parameters:[{argumentType:Qr.INTEGER,minValue:0},{argumentType:Qr.INTEGER,minValue:0}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Na extends Zr{literalTrue(e,t){return this.runFunction(e.args,t,this.metadata("TRUE"),(()=>!0))}literalFalse(e,t){return this.runFunction(e.args,t,this.metadata("FALSE"),(()=>!1))}conditionalIf(e,t){return this.runFunction(e.args,t,this.metadata("IF"),((e,t,n)=>e?t:n))}ifs(e,t){return this.runFunction(e.args,t,this.metadata("IFS"),((...e)=>{for(let t=0;t<e.length;t+=2)if(e[t])return e[t+1];return new lr(Yn.NA,Re.NoConditionMet)}))}and(e,t){return this.runFunction(e.args,t,this.metadata("AND"),((...e)=>e.filter((e=>void 0!==e)).every((e=>!!e))))}or(e,t){return this.runFunction(e.args,t,this.metadata("OR"),((...e)=>e.filter((e=>void 0!==e)).some((e=>e))))}not(e,t){return this.runFunction(e.args,t,this.metadata("NOT"),(e=>!e))}xor(e,t){return this.runFunction(e.args,t,this.metadata("XOR"),((...e)=>{let t=0;return e.filter((e=>void 0!==e)).forEach((e=>{e&&t++})),t%2===1}))}switch(e,t){return this.runFunction(e.args,t,this.metadata("SWITCH"),((e,...t)=>{const n=t.length;let r=0;for(;r+1<n;r+=2)if(!(t[r]instanceof lr)&&this.arithmeticHelper.eq(e,t[r]))return t[r+1];return r<n?t[r]:new lr(Yn.NA,Re.NoDefault)}))}iferror(e,t){return this.runFunction(e.args,t,this.metadata("IFERROR"),((e,t)=>e instanceof lr?t:e))}ifna(e,t){return this.runFunction(e.args,t,this.metadata("IFNA"),((e,t)=>e instanceof lr&&e.type===Yn.NA?t:e))}choose(e,t){return this.runFunction(e.args,t,this.metadata("CHOOSE"),((e,...t)=>e>t.length?new lr(Yn.NUM,Re.Selector):t[e-1]))}}Na.implementedFunctions={TRUE:{method:"literalTrue",parameters:[]},FALSE:{method:"literalFalse",parameters:[]},IF:{method:"conditionalIf",parameters:[{argumentType:Qr.BOOLEAN},{argumentType:Qr.SCALAR,passSubtype:!0},{argumentType:Qr.SCALAR,defaultValue:!1,passSubtype:!0}]},IFS:{method:"ifs",parameters:[{argumentType:Qr.BOOLEAN},{argumentType:Qr.SCALAR,passSubtype:!0}],repeatLastArgs:2},AND:{method:"and",parameters:[{argumentType:Qr.BOOLEAN}],repeatLastArgs:1,expandRanges:!0},OR:{method:"or",parameters:[{argumentType:Qr.BOOLEAN}],repeatLastArgs:1,expandRanges:!0},XOR:{method:"xor",parameters:[{argumentType:Qr.BOOLEAN}],repeatLastArgs:1,expandRanges:!0},NOT:{method:"not",parameters:[{argumentType:Qr.BOOLEAN}]},SWITCH:{method:"switch",parameters:[{argumentType:Qr.NOERROR},{argumentType:Qr.SCALAR,passSubtype:!0},{argumentType:Qr.SCALAR,passSubtype:!0}],repeatLastArgs:1},IFERROR:{method:"iferror",parameters:[{argumentType:Qr.SCALAR,passSubtype:!0},{argumentType:Qr.SCALAR,passSubtype:!0}]},IFNA:{method:"ifna",parameters:[{argumentType:Qr.SCALAR,passSubtype:!0},{argumentType:Qr.SCALAR,passSubtype:!0}]},CHOOSE:{method:"choose",parameters:[{argumentType:Qr.INTEGER,minValue:1},{argumentType:Qr.SCALAR,passSubtype:!0}],repeatLastArgs:1}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class La extends Zr{char(e,t){return this.runFunction(e.args,t,this.metadata("CHAR"),(e=>e<1||e>=256?new lr(Yn.VALUE,Re.CharacterCodeBounds):String.fromCharCode(Math.trunc(e))))}unichar(e,t){return this.runFunction(e.args,t,this.metadata("CHAR"),(e=>e<1||e>=1114112?new lr(Yn.VALUE,Re.CharacterCodeBounds):String.fromCodePoint(Math.trunc(e))))}}La.implementedFunctions={CHAR:{method:"char",parameters:[{argumentType:Qr.NUMBER}]},UNICHAR:{method:"unichar",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ka extends Zr{code(e,t){return this.runFunction(e.args,t,this.metadata("CODE"),(e=>0===e.length?new lr(Yn.VALUE,Re.EmptyString):e.charCodeAt(0)))}unicode(e,t){return this.runFunction(e.args,t,this.metadata("UNICODE"),(e=>{var t;return null!==(t=e.codePointAt(0))&&void 0!==t?t:new lr(Yn.VALUE,Re.EmptyString)}))}}ka.implementedFunctions={CODE:{method:"code",parameters:[{argumentType:Qr.STRING}]},UNICODE:{method:"unicode",parameters:[{argumentType:Qr.STRING}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Oa extends Zr{countblank(e,t){return this.runFunction(e.args,t,this.metadata("COUNTBLANK"),((...e)=>{let t=0;return e.forEach((e=>{e===_t&&t++})),t}))}}Oa.implementedFunctions={COUNTBLANK:{method:"countblank",parameters:[{argumentType:Qr.SCALAR}],repeatLastArgs:1,expandRanges:!0}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ia extends Zr{countunique(e,t){return this.runFunction(e.args,t,this.metadata("COUNTUNIQUE"),((...e)=>{const t=new Set,n=new Set;for(const r of e)r instanceof lr?n.add(r.type):""!==r&&t.add(r);return t.size+n.size}))}}Ia.implementedFunctions={COUNTUNIQUE:{method:"countunique",parameters:[{argumentType:Qr.SCALAR}],repeatLastArgs:1,expandRanges:!0}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Pa extends Zr{constructor(){super(...arguments),this.isoweeknumCore=e=>{const t=Math.floor(this.dateTimeHelper.relativeNumberToAbsoluteNumber(e)),n=this.dateTimeHelper.numberToSimpleDate(e),r=this.dateTimeHelper.dateToNumber({year:n.year,month:1,day:1}),i=this.dateTimeHelper.relativeNumberToAbsoluteNumber(r),o=i+((4-i)%7+7)%7,s=Math.floor((t-1)/7)-Math.floor((o-1)/7)+1;return 0===s?this.isoweeknumCore(e-7)+1:s},this.days360Core=(e,t,n)=>{const r=this.dateTimeHelper.numberToSimpleDate(e),i=this.dateTimeHelper.numberToSimpleDate(t);let o,s;return n?(o=Yi(r),s=Yi(i)):[o,s]=this.dateTimeHelper.toBasisUS(r,i),360*(s.year-o.year)+30*(s.month-o.month)+s.day-o.day}}date(e,t){return this.runFunction(e.args,t,this.metadata("DATE"),((e,t,n)=>{const r=Math.trunc(n);let i=Math.trunc(t),o=Math.trunc(e);o<this.dateTimeHelper.getEpochYearZero()&&(o+=this.dateTimeHelper.getEpochYearZero());const s=Math.floor((i-1)/12);o+=s,i-=12*s;const a={year:o,month:i,day:1};if(this.dateTimeHelper.isValidDate(a)){let e=this.dateTimeHelper.dateToNumber(a)+(r-1);return e=this.dateTimeHelper.getWithinBounds(e),void 0===e?new lr(Yn.NUM,Re.DateBounds):e}return new lr(Yn.VALUE,Re.InvalidDate)}))}time(e,t){return this.runFunction(e.args,t,this.metadata("TIME"),((e,t,n)=>{const r=ji({hours:Math.trunc(e),minutes:Math.trunc(t),seconds:Math.trunc(n)});return r<0?new lr(Yn.NUM,Re.NegativeTime):r%1}))}eomonth(e,t){return this.runFunction(e.args,t,this.metadata("EOMONTH"),((e,t)=>{const n=this.dateTimeHelper.numberToSimpleDate(e);let r=this.dateTimeHelper.dateToNumber(this.dateTimeHelper.endOfMonth(Di(n,t)));return r=this.dateTimeHelper.getWithinBounds(r),void 0===r?new lr(Yn.NUM,Re.DateBounds):r}))}day(e,t){return this.runFunction(e.args,t,this.metadata("DAY"),(e=>this.dateTimeHelper.numberToSimpleDate(e).day))}days(e,t){return this.runFunction(e.args,t,this.metadata("DAYS"),((e,t)=>Math.trunc(e)-Math.trunc(t)))}month(e,t){return this.runFunction(e.args,t,this.metadata("MONTH"),(e=>this.dateTimeHelper.numberToSimpleDate(e).month))}year(e,t){return this.runFunction(e.args,t,this.metadata("YEAR"),(e=>this.dateTimeHelper.numberToSimpleDate(e).year))}hour(e,t){return this.runFunction(e.args,t,this.metadata("HOUR"),(e=>Bi(Hi(e)%1).hours))}minute(e,t){return this.runFunction(e.args,t,this.metadata("MINUTE"),(e=>Bi(Hi(e)%1).minutes))}second(e,t){return this.runFunction(e.args,t,this.metadata("SECOND"),(e=>Bi(Hi(e)%1).seconds))}text(e,t){return this.runFunction(e.args,t,this.metadata("TEXT"),((e,t)=>to(e,t,this.config,this.dateTimeHelper)))}weekday(e,t){return this.runFunction(e.args,t,this.metadata("WEEKDAY"),((e,t)=>{const n=Math.floor(this.dateTimeHelper.relativeNumberToAbsoluteNumber(e));if(3===t)return(n-1)%7;const r=Ha.get(t);return void 0===r?new lr(Yn.NUM,Re.BadMode):(n-r)%7+1}))}weeknum(e,t){return this.runFunction(e.args,t,this.metadata("WEEKNUM"),((e,t)=>{const n=Math.floor(this.dateTimeHelper.relativeNumberToAbsoluteNumber(e)),r=this.dateTimeHelper.numberToSimpleDate(e),i=this.dateTimeHelper.dateToNumber({year:r.year,month:1,day:1}),o=this.dateTimeHelper.relativeNumberToAbsoluteNumber(i);if(21===t)return this.isoweeknumCore(e);const s=Ha.get(t);return void 0===s?new lr(Yn.NUM,Re.BadMode):Math.floor((n-s)/7)-Math.floor((o-s)/7)+1}))}isoweeknum(e,t){return this.runFunction(e.args,t,this.metadata("ISOWEEKNUM"),this.isoweeknumCore)}datevalue(e,t){return this.runFunction(e.args,t,this.metadata("DATEVALUE"),(e=>{const{dateTime:t}=this.dateTimeHelper.parseDateTimeFromConfigFormats(e);return void 0===t?new lr(Yn.VALUE,Re.IncorrectDateTime):Li(t)?(ki(t)?Math.trunc(ji(t)):0)+this.dateTimeHelper.dateToNumber(t):0}))}timevalue(e,t){return this.runFunction(e.args,t,this.metadata("TIMEVALUE"),(e=>{const t=this.dateTimeHelper.dateStringToDateNumber(e);return void 0===t?new lr(Yn.VALUE,Re.IncorrectDateTime):Et(t)%1}))}now(e,t){return this.runFunction(e.args,t,this.metadata("NOW"),(()=>{const e=new Date(Date.now());return ji({hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()})+this.dateTimeHelper.dateToNumber({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()})}))}today(e,t){return this.runFunction(e.args,t,this.metadata("TODAY"),(()=>{const e=new Date(Date.now());return this.dateTimeHelper.dateToNumber({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()})}))}edate(e,t){return this.runFunction(e.args,t,this.metadata("EDATE"),((e,t)=>{const n=this.dateTimeHelper.numberToSimpleDate(e),r=Fi(Di(n,t));let i=this.dateTimeHelper.dateToNumber(r);return i=this.dateTimeHelper.getWithinBounds(i),void 0===i?new lr(Yn.NUM,Re.DateBounds):i}))}datedif(e,t){return this.runFunction(e.args,t,this.metadata("DATEDIF"),((e,t,n)=>{if(e>t)return new lr(Yn.NUM,Re.StartEndDate);if("D"===n)return Math.floor(t)-Math.floor(e);const r=this.dateTimeHelper.numberToSimpleDate(e),i=this.dateTimeHelper.numberToSimpleDate(t);switch(n){case"M":return 12*(i.year-r.year)+(i.month-r.month)-(i.day<r.day?1:0);case"YM":return(i.month-r.month+12-(i.day<r.day?1:0))%12;case"Y":return i.month>r.month||i.month===r.month&&i.day>=r.day?i.year-r.year:i.year-r.year-1;case"MD":if(i.day>=r.day)return i.day-r.day;{const e=1===i.month?12:i.month-1,t=1===i.month?i.year-1:i.year;return this.dateTimeHelper.daysInMonth(t,e)+i.day-r.day}case"YD":return i.month>r.month||i.month===r.month&&i.day>=r.day?Math.floor(t)-this.dateTimeHelper.dateToNumber({year:i.year,month:r.month,day:r.day}):Math.floor(t)-Math.floor(e)-365*(i.year-r.year-1)-this.dateTimeHelper.leapYearsCount(i.year-1)+this.dateTimeHelper.leapYearsCount(r.year);default:return new lr(Yn.NUM,Re.BadMode)}}))}days360(e,t){return this.runFunction(e.args,t,this.metadata("DAYS360"),this.days360Core)}yearfrac(e,t){return this.runFunction(e.args,t,this.metadata("YEARFRAC"),((e,t,n)=>{switch(e=Math.trunc(e),t=Math.trunc(t),e>t&&([e,t]=[t,e]),n){case 0:return this.days360Core(e,t,!1)/360;case 1:return(t-e)/this.dateTimeHelper.yearLengthForBasis(this.dateTimeHelper.numberToSimpleDate(e),this.dateTimeHelper.numberToSimpleDate(t));case 2:return(t-e)/360;case 3:return(t-e)/365;case 4:return this.days360Core(e,t,!0)/360}throw new Error("Should not be reachable.")}))}interval(e,t){return this.runFunction(e.args,t,this.metadata("INTERVAL"),(e=>{e=Math.trunc(e);const t=e%60;e=Math.trunc(e/60);const n=e%60;e=Math.trunc(e/60);const r=e%24;e=Math.trunc(e/24);const i=e%30;e=Math.trunc(e/30);const o=e%12,s=Math.trunc(e/12);return"P"+(s>0?`${s}Y`:"")+(o>0?`${o}M`:"")+(i>0?`${i}D`:"")+"T"+(r>0?`${r}H`:"")+(n>0?`${n}M`:"")+(t>0?`${t}S`:"")}))}networkdays(e,t){return this.runFunction(e.args,t,this.metadata("NETWORKDAYS"),((e,t,n)=>this.networkdayscore(e,t,1,n)))}networkdaysintl(e,t){return this.runFunction(e.args,t,this.metadata("NETWORKDAYS.INTL"),((e,t,n,r)=>this.networkdayscore(e,t,n,r)))}workday(e,t){return this.runFunction(e.args,t,this.metadata("WORKDAY"),((e,t,n)=>this.workdaycore(e,t,1,n)))}workdayintl(e,t){return this.runFunction(e.args,t,this.metadata("WORKDAY.INTL"),((e,t,n,r)=>this.workdaycore(e,t,n,r)))}networkdayscore(e,t,n,r){e=Math.trunc(e),t=Math.trunc(t);let i=1;e>t&&([e,t]=[t,e],i=-1);const o=Fa(n);if(o instanceof lr)return o;const s=this.simpleRangeToFilteredHolidays(o,r);return s instanceof lr?s:i*this.countWorkdays(e,t,o,s)}workdaycore(e,t,n,r){e=Math.trunc(e),t=Math.trunc(t);const i=Fa(n);if(i instanceof lr)return i;const o=this.simpleRangeToFilteredHolidays(i,r);if(o instanceof lr)return o;if(t>0){let n=1;while(this.countWorkdays(e+1,e+n,i,o)<t)n*=2;let r=1;while(r+1<n){const s=Math.trunc((r+n)/2);this.countWorkdays(e+1,e+s,i,o)<t?r=s:n=s}return e+n}if(t<0){t*=-1;let n=1;while(this.countWorkdays(e-n,e-1,i,o)<t)n*=2;let r=1;while(r+1<n){const s=Math.trunc((r+n)/2);this.countWorkdays(e-s,e-1,i,o)<t?r=s:n=s}return e-n}return e}countWorkdays(e,t,n,r){const i=Math.floor(this.dateTimeHelper.relativeNumberToAbsoluteNumber(t)),o=Math.floor(this.dateTimeHelper.relativeNumberToAbsoluteNumber(e));let s=0;for(let a=0;a<7;a++)"0"===n.charAt(a)&&(s+=Math.floor((i+6-a)/7),s-=Math.floor((o-1+6-a)/7));return s-=Da(t+1,r)-Da(e,r),s}simpleRangeToFilteredHolidays(e,t){var n;const r=null!==(n=null===t||void 0===t?void 0:t.valuesFromTopLeftCorner())&&void 0!==n?n:[];for(const o of r)if(o instanceof lr)return o;const i=[];for(const o of r)if(o!==_t){if(!Nt(o))return new lr(Yn.VALUE,Re.WrongType);i.push(Math.trunc(Et(o)))}return[...new Set(i)].sort(((e,t)=>e-t)).filter((t=>{const n=this.dateTimeHelper.relativeNumberToAbsoluteNumber(t),r=(n-1)%7;return"0"===e.charAt(r)}))}}function Da(e,t){if(0===t.length)return 0;if(e<=t[0])return 0;if(t[t.length-1]<e)return t.length;let n=0,r=t.length-1;while(n+1<r){const i=Math.floor((r+n)/2);t[i]>=e?r=i:n=i}return r}function Fa(e){var t;return"number"!==typeof e&&"string"!==typeof e?new lr(Yn.VALUE,Re.WrongType):"string"===typeof e?7===e.length&&/^(0|1)*$/.test(e)&&"1111111"!==e?e:new lr(Yn.NUM,Re.WeekendString):null!==(t=Ua.get(e))&&void 0!==t?t:new lr(Yn.NUM,Re.BadMode)}Pa.implementedFunctions={DATE:{method:"date",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}],returnNumberType:Lt.NUMBER_DATE},TIME:{method:"time",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}],returnNumberType:Lt.NUMBER_TIME},MONTH:{method:"month",parameters:[{argumentType:Qr.NUMBER,minValue:0}]},YEAR:{method:"year",parameters:[{argumentType:Qr.NUMBER,minValue:0}]},HOUR:{method:"hour",parameters:[{argumentType:Qr.NUMBER,minValue:0}]},MINUTE:{method:"minute",parameters:[{argumentType:Qr.NUMBER,minValue:0}]},SECOND:{method:"second",parameters:[{argumentType:Qr.NUMBER,minValue:0}]},TEXT:{method:"text",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.STRING}]},EOMONTH:{method:"eomonth",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER}],returnNumberType:Lt.NUMBER_DATE},DAY:{method:"day",parameters:[{argumentType:Qr.NUMBER,minValue:0}]},DAYS:{method:"days",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0}]},WEEKDAY:{method:"weekday",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,defaultValue:1}]},WEEKNUM:{method:"weeknum",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,defaultValue:1}]},ISOWEEKNUM:{method:"isoweeknum",parameters:[{argumentType:Qr.NUMBER,minValue:0}]},DATEVALUE:{method:"datevalue",parameters:[{argumentType:Qr.STRING}],returnNumberType:Lt.NUMBER_DATE},TIMEVALUE:{method:"timevalue",parameters:[{argumentType:Qr.STRING}],returnNumberType:Lt.NUMBER_TIME},NOW:{method:"now",parameters:[],isVolatile:!0,returnNumberType:Lt.NUMBER_DATETIME},TODAY:{method:"today",parameters:[],isVolatile:!0,returnNumberType:Lt.NUMBER_DATE},EDATE:{method:"edate",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER}],returnNumberType:Lt.NUMBER_DATE},DAYS360:{method:"days360",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.BOOLEAN,defaultValue:!1}]},DATEDIF:{method:"datedif",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.STRING}]},YEARFRAC:{method:"yearfrac",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.INTEGER,defaultValue:0,minValue:0,maxValue:4}]},INTERVAL:{method:"interval",parameters:[{argumentType:Qr.NUMBER,minValue:0}]},NETWORKDAYS:{method:"networkdays",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.RANGE,optionalArg:!0}]},"NETWORKDAYS.INTL":{method:"networkdaysintl",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NOERROR,defaultValue:1},{argumentType:Qr.RANGE,optionalArg:!0}]},WORKDAY:{method:"workday",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER},{argumentType:Qr.RANGE,optionalArg:!0}]},"WORKDAY.INTL":{method:"workdayintl",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER},{argumentType:Qr.NOERROR,defaultValue:1},{argumentType:Qr.RANGE,optionalArg:!0}]}};const Ha=new Map([[1,0],[2,1],[11,1],[12,2],[13,3],[14,4],[15,5],[16,6],[17,0]]),Ua=new Map([[1,"0000011"],[2,"1000001"],[3,"1100000"],[4,"0110000"],[5,"0011000"],[6,"0001100"],[7,"0000110"],[11,"0000001"],[12,"1000000"],[13,"0100000"],[14,"0010000"],[15,"0001000"],[16,"0000100"],[17,"0000010"]]);
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ba extends Zr{degrees(e,t){return this.runFunction(e.args,t,this.metadata("DEGREES"),(e=>e*(180/Math.PI)))}}Ba.implementedFunctions={DEGREES:{method:"degrees",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ja extends Zr{delta(e,t){return this.runFunction(e.args,t,this.metadata("DELTA"),((e,t)=>e===t?1:0))}}ja.implementedFunctions={DELTA:{method:"delta",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ya extends Zr{exp(e,t){return this.runFunction(e.args,t,this.metadata("EXP"),Math.exp)}}Ya.implementedFunctions={EXP:{method:"exp",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Va extends Zr{pmt(e,t){return this.runFunction(e.args,t,this.metadata("PMT"),Wa)}ipmt(e,t){return this.runFunction(e.args,t,this.metadata("IPMT"),za)}ppmt(e,t){return this.runFunction(e.args,t,this.metadata("PPMT"),$a)}fv(e,t){return this.runFunction(e.args,t,this.metadata("FV"),Ga)}cumipmt(e,t){return this.runFunction(e.args,t,this.metadata("CUMIPMT"),((e,t,n,r,i,o)=>{if(r>i)return new lr(Yn.NUM,Re.EndStartPeriod);let s=0;for(let a=r;a<=i;a++)s+=za(e,a,t,n,0,o);return s}))}cumprinc(e,t){return this.runFunction(e.args,t,this.metadata("CUMPRINC"),((e,t,n,r,i,o)=>{if(r>i)return new lr(Yn.NUM,Re.EndStartPeriod);let s=0;for(let a=r;a<=i;a++)s+=$a(e,a,t,n,0,o);return s}))}db(e,t){return this.runFunction(e.args,t,this.metadata("DB"),((e,t,n,r,i)=>{if(12===i&&r>n||r>n+1)return new lr(Yn.NUM,Re.PeriodLong);if(t>=e)return 0;const o=Math.round(1e3*(1-Math.pow(t/e,1/n)))/1e3,s=e*o*i/12;if(1===r)return s;let a=s;for(let l=0;l<r-2;l++)a+=(e-a)*o;return r===n+1?(e-a)*o*(12-i)/12:(e-a)*o}))}ddb(e,t){return this.runFunction(e.args,t,this.metadata("DDB"),((e,t,n,r,i)=>{if(r>n)return new lr(Yn.NUM);let o,s=i/n;s>=1?(s=1,o=1===r?e:0):o=e*Math.pow(1-s,r-1);const a=e*Math.pow(1-s,r);return Math.max(o-Math.max(t,a),0)}))}dollarde(e,t){return this.runFunction(e.args,t,this.metadata("DOLLARDE"),((e,t)=>{if(t<1)return new lr(Yn.DIV_BY_ZERO);t=Math.trunc(t);while(t>10)t/=10;return Math.trunc(e)+10*(e-Math.trunc(e))/t}))}dollarfr(e,t){return this.runFunction(e.args,t,this.metadata("DOLLARFR"),((e,t)=>{if(t<1)return new lr(Yn.DIV_BY_ZERO);t=Math.trunc(t);while(t>10)t/=10;return Math.trunc(e)+(e-Math.trunc(e))*t/10}))}effect(e,t){return this.runFunction(e.args,t,this.metadata("EFFECT"),((e,t)=>(t=Math.trunc(t),Math.pow(1+e/t,t)-1)))}ispmt(e,t){return this.runFunction(e.args,t,this.metadata("ISPMT"),((e,t,n,r)=>0===n?new lr(Yn.DIV_BY_ZERO):r*e*(t/n-1)))}nominal(e,t){return this.runFunction(e.args,t,this.metadata("NOMINAL"),((e,t)=>(t=Math.trunc(t),(Math.pow(e+1,1/t)-1)*t)))}nper(e,t){return this.runFunction(e.args,t,this.metadata("NPER"),((e,t,n,r,i)=>0===e?0===t?new lr(Yn.DIV_BY_ZERO):(-n-r)/t:(i&&(t*=1+e),Math.log((t-r*e)/(n*e+t))/Math.log(1+e))))}rate(e,t){return this.runFunction(e.args,t,this.metadata("RATE"),((e,t,n,r,i,o)=>{if(o<=-1)return new lr(Yn.VALUE);const s=1e-7,a=50;let l=o;i=i?1:0;for(let u=0;u<a;u++){if(l<=-1)return new lr(Yn.NUM);let o,a;if(Math.abs(l)<s)o=n*(1+e*l)+t*(1+l*i)*e+r;else{const s=Math.pow(1+l,e);o=n*s+t*(1/l+i)*(s-1)+r}if(Math.abs(o)<s)return l;if(Math.abs(l)<s)a=n*e+t*i*e;else{const r=Math.pow(1+l,e),o=e*Math.pow(1+l,e-1);a=n*o+t*(1/l+i)*o+t*(-1/(l*l))*(r-1)}l-=o/a}return new lr(Yn.NUM)}))}pv(e,t){return this.runFunction(e.args,t,this.metadata("PV"),((e,t,n,r,i)=>(i=i?1:0,-1===e?new lr(0===t?Yn.NUM:Yn.DIV_BY_ZERO):0===e?-n*t-r:((1-Math.pow(1+e,t))*n*(1+e*i)/e-r)/Math.pow(1+e,t))))}rri(e,t){return this.runFunction(e.args,t,this.metadata("RRI"),((e,t,n)=>0===t||n<0&&t>0||n>0&&t<0?new lr(Yn.NUM):Math.pow(n/t,1/e)-1))}sln(e,t){return this.runFunction(e.args,t,this.metadata("SLN"),((e,t,n)=>0===n?new lr(Yn.DIV_BY_ZERO):(e-t)/n))}syd(e,t){return this.runFunction(e.args,t,this.metadata("SYD"),((e,t,n,r)=>r>n?new lr(Yn.NUM):(e-t)*(n-r+1)*2/(n*(n+1))))}tbilleq(e,t){return this.runFunction(e.args,t,this.metadata("TBILLEQ"),((e,t,n)=>{if(e=Math.round(e),t=Math.round(t),e>=t)return new lr(Yn.NUM);const r=this.dateTimeHelper.numberToSimpleDate(e),i=this.dateTimeHelper.numberToSimpleDate(t);if(i.year>r.year+1||i.year===r.year+1&&(i.month>r.month||i.month===r.month&&i.day>r.day))return new lr(Yn.NUM);const o=360-n*(t-e);return 0===o?0:o<0?new lr(Yn.NUM):365*n/o}))}tbillprice(e,t){return this.runFunction(e.args,t,this.metadata("TBILLPRICE"),((e,t,n)=>{if(e=Math.round(e),t=Math.round(t),e>=t)return new lr(Yn.NUM);const r=this.dateTimeHelper.numberToSimpleDate(e),i=this.dateTimeHelper.numberToSimpleDate(t);if(i.year>r.year+1||i.year===r.year+1&&(i.month>r.month||i.month===r.month&&i.day>r.day))return new lr(Yn.NUM);const o=360-n*(t-e);return 0===o?0:o<0?new lr(Yn.NUM):100*(1-n*(t-e)/360)}))}tbillyield(e,t){return this.runFunction(e.args,t,this.metadata("TBILLYIELD"),((e,t,n)=>{if(e=Math.round(e),t=Math.round(t),e>=t)return new lr(Yn.NUM);const r=this.dateTimeHelper.numberToSimpleDate(e),i=this.dateTimeHelper.numberToSimpleDate(t);return i.year>r.year+1||i.year===r.year+1&&(i.month>r.month||i.month===r.month&&i.day>r.day)?new lr(Yn.NUM):360*(100-n)/(n*(t-e))}))}fvschedule(e,t){return this.runFunction(e.args,t,this.metadata("FVSCHEDULE"),((e,t)=>{const n=t.valuesFromTopLeftCorner();for(const r of n)if(r instanceof lr)return r;for(const r of n)if(Nt(r))e*=1+Et(r);else if(r!==_t)return new lr(Yn.VALUE,Re.NumberExpected);return e}))}npv(e,t){return this.runFunction(e.args,t,this.metadata("NPV"),((e,...t)=>{const n=this.arithmeticHelper.coerceNumbersExactRanges(t);return n instanceof lr?n:qa(e,n)}))}mirr(e,t){return this.runFunction(e.args,t,this.metadata("MIRR"),((e,t,n)=>{const r=this.arithmeticHelper.manyToExactNumbers(e.valuesFromTopLeftCorner());if(r instanceof lr)return r;let i=!1,o=!1;const s=[],a=[];for(const h of r)h>0?(i=!0,s.push(h),a.push(0)):h<0?(o=!0,a.push(h),s.push(0)):(a.push(0),s.push(0));if(!i||!o)return new lr(Yn.DIV_BY_ZERO);const l=r.length,u=qa(n,s);if(u instanceof lr)return u;const c=qa(t,a);return c instanceof lr?c:Math.pow(-u*Math.pow(1+n,l)/c/(1+t),1/(l-1))-1}))}pduration(e,t){return this.runFunction(e.args,t,this.metadata("PDURATION"),((e,t,n)=>(Math.log(n)-Math.log(t))/Math.log(1+e)))}xnpv(e,t){return this.runFunction(e.args,t,this.metadata("XNPV"),((e,t,n)=>{const r=t.valuesFromTopLeftCorner();for(const u of r)if("number"!==typeof u)return new lr(Yn.VALUE,Re.NumberExpected);const i=r,o=n.valuesFromTopLeftCorner();for(const u of o)if("number"!==typeof u)return new lr(Yn.VALUE,Re.NumberExpected);const s=o;if(s.length!==i.length)return new lr(Yn.NUM,Re.EqualLength);const a=s.length;let l=0;if(s[0]<0)return new lr(Yn.NUM,Re.ValueSmall);for(let u=0;u<a;u++){if(s[u]=Math.floor(s[u]),s[u]<s[0])return new lr(Yn.NUM,Re.ValueSmall);l+=i[u]/Math.pow(1+e,(s[u]-s[0])/365)}return l}))}}function Wa(e,t,n,r,i){if(0===e)return(-n-r)/t;{const o=Math.pow(1+e,t);return(r*e+n*e*o)*(i?1/(1+e):1)/(1-o)}}function za(e,t,n,r,i,o){const s=Wa(e,n,r,i,o);return 1===t?e*(o?0:-r):e*(o?Ga(e,t-2,s,r,o)-s:Ga(e,t-1,s,r,o))}function Ga(e,t,n,r,i){if(0===e)return-r-n*t;{const o=Math.pow(1+e,t);return n*(i?1+e:1)*(1-o)/e-r*o}}function $a(e,t,n,r,i,o){return Wa(e,n,r,i,o)-za(e,t,n,r,i,o)}function qa(e,t){let n=0;for(let r=t.length-1;r>=0;r--){if(n+=t[r],-1===e){if(0===n)continue;return new lr(Yn.DIV_BY_ZERO)}n/=1+e}return n}Va.implementedFunctions={PMT:{method:"pmt",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:0}],returnNumberType:Lt.NUMBER_CURRENCY},IPMT:{method:"ipmt",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:0}],returnNumberType:Lt.NUMBER_CURRENCY},PPMT:{method:"ppmt",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:0}],returnNumberType:Lt.NUMBER_CURRENCY},FV:{method:"fv",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:0}],returnNumberType:Lt.NUMBER_CURRENCY},CUMIPMT:{method:"cumipmt",parameters:[{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.INTEGER,minValue:1},{argumentType:Qr.INTEGER,minValue:1},{argumentType:Qr.INTEGER,minValue:0,maxValue:1}],returnNumberType:Lt.NUMBER_CURRENCY},CUMPRINC:{method:"cumprinc",parameters:[{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.INTEGER,minValue:1},{argumentType:Qr.INTEGER,minValue:1},{argumentType:Qr.INTEGER,minValue:0,maxValue:1}],returnNumberType:Lt.NUMBER_CURRENCY},DB:{method:"db",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.INTEGER,minValue:0},{argumentType:Qr.INTEGER,minValue:0},{argumentType:Qr.INTEGER,minValue:1,maxValue:12,defaultValue:12}],returnNumberType:Lt.NUMBER_CURRENCY},DDB:{method:"ddb",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.INTEGER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,greaterThan:0,defaultValue:2}],returnNumberType:Lt.NUMBER_CURRENCY},DOLLARDE:{method:"dollarde",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:0}]},DOLLARFR:{method:"dollarfr",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:0}]},EFFECT:{method:"effect",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:1}],returnNumberType:Lt.NUMBER_PERCENT},ISPMT:{method:"ispmt",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]},NOMINAL:{method:"nominal",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:1}],returnNumberType:Lt.NUMBER_PERCENT},NPER:{method:"nper",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:0}]},PV:{method:"pv",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:0}],returnNumberType:Lt.NUMBER_CURRENCY},RATE:{method:"rate",parameters:[{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:.1}],returnNumberType:Lt.NUMBER_PERCENT},RRI:{method:"rri",parameters:[{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}],returnNumberType:Lt.NUMBER_PERCENT},SLN:{method:"sln",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}],returnNumberType:Lt.NUMBER_CURRENCY},SYD:{method:"syd",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0}],returnNumberType:Lt.NUMBER_CURRENCY},TBILLEQ:{method:"tbilleq",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,greaterThan:0}],returnNumberType:Lt.NUMBER_PERCENT},TBILLPRICE:{method:"tbillprice",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,greaterThan:0}],returnNumberType:Lt.NUMBER_CURRENCY},TBILLYIELD:{method:"tbillyield",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,greaterThan:0}],returnNumberType:Lt.NUMBER_PERCENT},FVSCHEDULE:{method:"fvschedule",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.RANGE}],returnNumberType:Lt.NUMBER_CURRENCY},NPV:{method:"npv",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.ANY}],repeatLastArgs:1,returnNumberType:Lt.NUMBER_CURRENCY},MIRR:{method:"mirr",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}],returnNumberType:Lt.NUMBER_PERCENT},PDURATION:{method:"pduration",parameters:[{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0}]},XNPV:{method:"xnpv",parameters:[{argumentType:Qr.NUMBER,greaterThan:-1},{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ka extends Zr{formulatext(e,t){return this.runFunctionWithReferenceArgument(e.args,t,this.metadata("FORMULATEXT"),(()=>new lr(Yn.NA,Re.WrongArgNumber)),(e=>{var t;return null!==(t=this.serialization.getCellFormula(e))&&void 0!==t?t:new lr(Yn.NA,Re.Formula)}))}}Ka.implementedFunctions={FORMULATEXT:{method:"formulatext",parameters:[{argumentType:Qr.NOERROR}],doesNotNeedArgumentsToBeComputed:!0,isDependentOnSheetStructureChange:!0,vectorizationForbidden:!0}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Xa extends Zr{hyperlink(e,t){return this.runFunction(e.args,t,this.metadata("HYPERLINK"),((t,n)=>(e.hyperlink=t,null!==n&&void 0!==n?n:t)))}}Xa.implementedFunctions={HYPERLINK:{method:"hyperlink",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.STRING,optionalArg:!0}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ja extends Zr{isbinary(e,t){return this.runFunction(e.args,t,this.metadata("ISBINARY"),(e=>/^[01]{1,10}$/.test(e)))}iserr(e,t){return this.runFunction(e.args,t,this.metadata("ISERR"),(e=>e instanceof lr&&e.type!==Yn.NA))}iserror(e,t){return this.runFunction(e.args,t,this.metadata("ISERROR"),(e=>e instanceof lr))}isformula(e,t){return this.runFunctionWithReferenceArgument(e.args,t,this.metadata("ISFORMULA"),(()=>new lr(Yn.NA,Re.WrongArgNumber)),(e=>{const t=this.dependencyGraph.addressMapping.getCell(e);return t instanceof Cn}))}isblank(e,t){return this.runFunction(e.args,t,this.metadata("ISBLANK"),(e=>e===_t))}isna(e,t){return this.runFunction(e.args,t,this.metadata("ISNA"),(e=>e instanceof lr&&e.type==Yn.NA))}isnumber(e,t){return this.runFunction(e.args,t,this.metadata("ISNUMBER"),Nt)}islogical(e,t){return this.runFunction(e.args,t,this.metadata("ISLOGICAL"),(e=>"boolean"===typeof e))}isref(e,t){return this.runFunction(e.args,t,this.metadata("ISREF"),(e=>e instanceof lr&&(e.type==Yn.REF||e.type==Yn.CYCLE)))}istext(e,t){return this.runFunction(e.args,t,this.metadata("ISTEXT"),(e=>"string"===typeof e))}isnontext(e,t){return this.runFunction(e.args,t,this.metadata("ISNONTEXT"),(e=>!("string"===typeof e)))}column(e,t){return this.runFunctionWithReferenceArgument(e.args,t,this.metadata("COLUMN"),(()=>t.formulaAddress.col+1),(e=>e.col+1))}columns(e,t){if(1!==e.args.length)return new lr(Yn.NA,Re.WrongArgNumber);if(e.args.some((e=>e.type===W.EMPTY)))return new lr(Yn.NUM,Re.EmptyArg);let n=e.args[0];while(n.type===W.PARENTHESIS)n=n.expression;if(n.type===W.CELL_RANGE||n.type===W.COLUMN_RANGE)return n.end.col-n.start.col+1;if(n.type===W.CELL_REFERENCE)return 1;if(n.type===W.ROW_RANGE)return this.config.maxColumns;{const e=this.evaluateAst(n,t);return e instanceof Dt?e.width():e instanceof lr?e:1}}row(e,t){return this.runFunctionWithReferenceArgument(e.args,t,this.metadata("ROW"),(()=>t.formulaAddress.row+1),(e=>e.row+1))}rows(e,t){if(1!==e.args.length)return new lr(Yn.NA,Re.WrongArgNumber);if(e.args.some((e=>e.type===W.EMPTY)))return new lr(Yn.NUM,Re.EmptyArg);let n=e.args[0];while(n.type===W.PARENTHESIS)n=n.expression;if(n.type===W.CELL_RANGE||n.type===W.ROW_RANGE)return n.end.row-n.start.row+1;if(n.type===W.CELL_REFERENCE)return 1;if(n.type===W.COLUMN_RANGE)return this.config.maxRows;{const e=this.evaluateAst(n,t);return e instanceof Dt?e.height():e instanceof lr?e:1}}index(e,t){return this.runFunction(e.args,t,this.metadata("INDEX"),((e,t,n)=>{var r,i,o,s,a,l;return n<1||t<1?new lr(Yn.VALUE,Re.LessThanOne):n>e.width()||t>e.height()?new lr(Yn.NUM,Re.ValueLarge):null!==(l=null!==(o=null===(i=null===(r=null===e||void 0===e?void 0:e.data)||void 0===r?void 0:r[t-1])||void 0===i?void 0:i[n-1])&&void 0!==o?o:null===(a=null===(s=null===e||void 0===e?void 0:e.data)||void 0===s?void 0:s[0])||void 0===a?void 0:a[0])&&void 0!==l?l:new lr(Yn.VALUE,Re.CellRangeExpected)}))}na(e,t){return new lr(Yn.NA)}sheet(e,t){return this.runFunctionWithReferenceArgument(e.args,t,this.metadata("SHEET"),(()=>t.formulaAddress.sheet+1),(e=>e.sheet+1),(e=>{const t=this.dependencyGraph.sheetMapping.get(e);return void 0!==t?t+1:new lr(Yn.NA,Re.SheetRef)}))}sheets(e,t){return this.runFunctionWithReferenceArgument(e.args,t,this.metadata("SHEETS"),(()=>this.dependencyGraph.sheetMapping.numberOfSheets()),(()=>1),(()=>new lr(Yn.VALUE,Re.CellRefExpected)))}}Ja.implementedFunctions={COLUMN:{method:"column",parameters:[{argumentType:Qr.NOERROR,optionalArg:!0}],isDependentOnSheetStructureChange:!0,doesNotNeedArgumentsToBeComputed:!0,vectorizationForbidden:!0},COLUMNS:{method:"columns",parameters:[{argumentType:Qr.RANGE}],isDependentOnSheetStructureChange:!0,doesNotNeedArgumentsToBeComputed:!0,vectorizationForbidden:!0},ISBINARY:{method:"isbinary",parameters:[{argumentType:Qr.STRING}]},ISERR:{method:"iserr",parameters:[{argumentType:Qr.SCALAR}]},ISFORMULA:{method:"isformula",parameters:[{argumentType:Qr.NOERROR}],doesNotNeedArgumentsToBeComputed:!0,vectorizationForbidden:!0},ISNA:{method:"isna",parameters:[{argumentType:Qr.SCALAR}]},ISREF:{method:"isref",parameters:[{argumentType:Qr.SCALAR}],vectorizationForbidden:!0},ISERROR:{method:"iserror",parameters:[{argumentType:Qr.SCALAR}]},ISBLANK:{method:"isblank",parameters:[{argumentType:Qr.SCALAR}]},ISNUMBER:{method:"isnumber",parameters:[{argumentType:Qr.SCALAR}]},ISLOGICAL:{method:"islogical",parameters:[{argumentType:Qr.SCALAR}]},ISTEXT:{method:"istext",parameters:[{argumentType:Qr.SCALAR}]},ISNONTEXT:{method:"isnontext",parameters:[{argumentType:Qr.SCALAR}]},INDEX:{method:"index",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:1}]},NA:{method:"na",parameters:[]},ROW:{method:"row",parameters:[{argumentType:Qr.NOERROR,optionalArg:!0}],isDependentOnSheetStructureChange:!0,doesNotNeedArgumentsToBeComputed:!0,vectorizationForbidden:!0},ROWS:{method:"rows",parameters:[{argumentType:Qr.RANGE}],isDependentOnSheetStructureChange:!0,doesNotNeedArgumentsToBeComputed:!0,vectorizationForbidden:!0},SHEET:{method:"sheet",parameters:[{argumentType:Qr.STRING}],doesNotNeedArgumentsToBeComputed:!0,vectorizationForbidden:!0},SHEETS:{method:"sheets",parameters:[{argumentType:Qr.STRING}],doesNotNeedArgumentsToBeComputed:!0,vectorizationForbidden:!0}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Qa extends Zr{iseven(e,t){return this.runFunction(e.args,t,this.metadata("ISEVEN"),(e=>e%2===0))}}Qa.implementedFunctions={ISEVEN:{method:"iseven",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Za extends Zr{isodd(e,t){return this.runFunction(e.args,t,this.metadata("ISODD"),(e=>e%2===1))}}Za.implementedFunctions={ISODD:{method:"isodd",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class el extends Zr{log10(e,t){return this.runFunction(e.args,t,this.metadata("LOG10"),Math.log10)}log(e,t){return this.runFunction(e.args,t,this.metadata("LOG"),((e,t)=>Math.log(e)/Math.log(t)))}ln(e,t){return this.runFunction(e.args,t,this.metadata("LN"),Math.log)}}el.implementedFunctions={LOG10:{method:"log10",parameters:[{argumentType:Qr.NUMBER}]},LOG:{method:"log",parameters:[{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,defaultValue:10,greaterThan:0}]},LN:{method:"ln",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const tl=parseFloat(Math.PI.toFixed(14));class nl extends Zr{pi(e,t){return this.runFunction(e.args,t,this.metadata("PI"),(()=>tl))}sqrtpi(e,t){return this.runFunction(e.args,t,this.metadata("SQRTPI"),(e=>Math.sqrt(tl*e)))}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function rl(e,t){return new ei(t.width,e.height)}function il(e,t,n){return new ei(1+(e.width-t)/n,1+(e.height-t)/n)}nl.implementedFunctions={PI:{method:"pi",parameters:[]},SQRTPI:{method:"sqrtpi",parameters:[{argumentType:Qr.NUMBER,minValue:0}]}};class ol extends Zr{mmult(e,t){return this.runFunction(e.args,t,this.metadata("MMULT"),((e,t)=>{if(!e.hasOnlyNumbers()||!t.hasOnlyNumbers())return new lr(Yn.VALUE,Re.NumberRange);if(t.height()!==e.width())return new lr(Yn.VALUE,Re.ArrayDimensions);const n=rl(e.size,t.size),r=this.createKernel((function(e,t,n){let r=0;for(let i=0;i<n;++i)r+=e[this.thread.y][i]*t[i][this.thread.x];return r}),n)(e.rawNumbers(),t.rawNumbers(),e.width());return Dt.onlyNumbers(r)}))}mmultArraySize(e,t){if(2!==e.args.length)return ei.error();const n=this.metadata("MMULT"),r=e.args.map((e=>{var r;return this.arraySizeForAst(e,new Cr(t.formulaAddress,t.arraysFlag||null!==(r=null===n||void 0===n?void 0:n.arrayFunction)&&void 0!==r&&r))})),[i,o]=r;return rl(i,o)}maxpool(e,t){return this.runFunction(e.args,t,this.metadata("MAXPOOL"),((e,t,n=t)=>{if(!e.hasOnlyNumbers())return new lr(Yn.VALUE,Re.NumberRange);const r=il(e.size,t,n),i=this.createKernel((function(e,t,n){const r=this.thread.x*n,i=this.thread.y*n;let o=e[i][r];for(let s=0;s<t;s++)for(let n=0;n<t;n++)o=Math.max(o,e[i+s][r+n]);return o}),r)(e.rawNumbers(),t,n);return Dt.onlyNumbers(i)}))}medianpool(e,t){return this.runFunction(e.args,t,this.metadata("MEDIANPOOL"),((e,t,n=t)=>{if(!e.hasOnlyNumbers())return new lr(Yn.VALUE,Re.NumberRange);const r=il(e.size,t,n),i=this.createKernel((function(e,t,n){const r=this.thread.x*n,i=this.thread.y*n;let o=e[i][r];for(let h=0;h<t;h++)for(let n=0;n<t;n++)o=Math.max(o,e[i+h][r+n]);let s=e[i][r];for(let h=0;h<t;h++)for(let n=0;n<t;n++)s=Math.min(s,e[i+h][r+n]);const a=t*t;let l=s,u=o,c=42;for(let h=0;h<32;h++){const n=(l+u)/2;let o=0;for(let s=0;s<t;s++)for(let a=0;a<t;a++)e[i+s][r+a]>n&&o++;if(t%2===0){if(o===a/2){c=n;break}o>a/2?l=n:u=n}else{if(o===(a-1)/2){c=n;break}o>(a-1)/2?l=n:u=n}}return c}),r)(e.rawNumbers(),t,n);return Dt.onlyNumbers(i)}))}maxpoolArraySize(e,t){if(e.args.length<2||e.args.length>3)return ei.error();const n=this.metadata("MAXPOOL"),r=e.args.map((e=>{var r;return this.arraySizeForAst(e,new Cr(t.formulaAddress,t.arraysFlag||null!==(r=null===n||void 0===n?void 0:n.arrayFunction)&&void 0!==r&&r))})),i=r[0],o=e.args[1];let s;s=o.type===W.NUMBER?o.value:1;let a=s;if(3===e.args.length){const t=e.args[2];a=t.type===W.NUMBER?t.value:1}return s>i.width||s>i.height||a>s||(i.width-s)%a!==0||(i.height-s)%a!==0?ei.error():il(i,s,a)}medianpoolArraySize(e,t){return this.maxpoolArraySize(e,t)}transpose(e,t){return this.runFunction(e.args,t,this.metadata("TRANSPOSE"),(e=>{const t=e.rawData(),n=e.size,r=[];for(let i=0;i<n.width;++i){r[i]=[];for(let e=0;e<n.height;++e)r[i][e]=t[e][i]}return Dt.onlyValues(r)}))}transposeArraySize(e,t){if(1!==e.args.length)return ei.error();const n=this.metadata("TRANSPOSE"),r=e.args.map((e=>{var r;return this.arraySizeForAst(e,new Cr(t.formulaAddress,t.arraysFlag||null!==(r=null===n||void 0===n?void 0:n.arrayFunction)&&void 0!==r&&r))})),[i]=r;return new ei(i.height,i.width)}createKernel(e,t){return function(...n){const r=[];for(let i=0;i<t.height;++i){r.push([]);for(let o=0;o<t.width;++o)r[i][o]=e.apply({thread:{x:o,y:i}},n)}return r}}}ol.implementedFunctions={MMULT:{method:"mmult",arraySizeMethod:"mmultArraySize",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}],vectorizationForbidden:!0},TRANSPOSE:{method:"transpose",arraySizeMethod:"transposeArraySize",parameters:[{argumentType:Qr.RANGE}],vectorizationForbidden:!0},MAXPOOL:{method:"maxpool",arraySizeMethod:"maxpoolArraySize",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,optionalArg:!0}],vectorizationForbidden:!0},MEDIANPOOL:{method:"medianpool",arraySizeMethod:"medianpoolArraySize",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,optionalArg:!0}],vectorizationForbidden:!0}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class sl extends Zr{median(e,t){return this.runFunction(e.args,t,this.metadata("MEDIAN"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersExactRanges(e);return t instanceof lr?t:0===t.length?new lr(Yn.NUM,Re.OneValue):(t.sort(((e,t)=>e-t)),t.length%2===0?(t[t.length/2-1]+t[t.length/2])/2:t[Math.floor(t.length/2)])}))}large(e,t){return this.runFunction(e.args,t,this.metadata("LARGE"),((e,t)=>{const n=this.arithmeticHelper.manyToExactNumbers(e.valuesFromTopLeftCorner());return n instanceof lr?n:(n.sort(((e,t)=>e-t)),t=Math.trunc(t),t>n.length?new lr(Yn.NUM,Re.ValueLarge):n[n.length-t])}))}small(e,t){return this.runFunction(e.args,t,this.metadata("SMALL"),((e,t)=>{const n=this.arithmeticHelper.manyToExactNumbers(e.valuesFromTopLeftCorner());return n instanceof lr?n:(n.sort(((e,t)=>e-t)),t=Math.trunc(t),t>n.length?new lr(Yn.NUM,Re.ValueLarge):n[t-1])}))}}sl.implementedFunctions={MEDIAN:{method:"median",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},LARGE:{method:"large",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER,minValue:1}]},SMALL:{method:"small",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER,minValue:1}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class al extends Zr{mod(e,t){return this.runFunction(e.args,t,this.metadata("MOD"),((e,t)=>0===t?new lr(Yn.DIV_BY_ZERO):e%t))}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function ll(e){return Nt(e)&&!Number.isFinite(Et(e))?0:e}al.implementedFunctions={MOD:{method:"mod",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]}};class ul{constructor(e,t,n){this.sumsq=e,this.sum=t,this.count=n}static single(e){return new ul(e*e,e,1)}compose(e){return new ul(this.sumsq+e.sumsq,this.sum+e.sum,this.count+e.count)}averageValue(){return this.count>0?this.sum/this.count:void 0}varSValue(){return this.count>1?(this.sumsq-this.sum*this.sum/this.count)/(this.count-1):void 0}varPValue(){return this.count>0?(this.sumsq-this.sum*this.sum/this.count)/this.count:void 0}}ul.empty=new ul(0,0,0);class cl extends Zr{constructor(){super(...arguments),this.addWithEpsilonRaw=(e,t)=>this.arithmeticHelper.addWithEpsilonRaw(e,t)}sum(e,t){return this.doSum(e.args,t)}sumsq(e,t){return this.reduce(e.args,t,0,"SUMSQ",this.addWithEpsilonRaw,(e=>Math.pow(Et(e),2)),hl)}max(e,t){return this.doMax(e.args,t)}maxa(e,t){const n=this.reduce(e.args,t,Number.NEGATIVE_INFINITY,"MAXA",((e,t)=>Math.max(e,t)),Et,dl);return ll(n)}min(e,t){return this.doMin(e.args,t)}mina(e,t){const n=this.reduce(e.args,t,Number.POSITIVE_INFINITY,"MINA",((e,t)=>Math.min(e,t)),Et,dl);return ll(n)}count(e,t){return this.doCount(e.args,t)}counta(e,t){return this.doCounta(e.args,t)}average(e,t){return this.doAverage(e.args,t)}averagea(e,t){var n;const r=this.reduce(e.args,t,ul.empty,"_AGGREGATE_A",((e,t)=>e.compose(t)),(e=>ul.single(Et(e))),dl);return r instanceof lr?r:null!==(n=r.averageValue())&&void 0!==n?n:new lr(Yn.DIV_BY_ZERO)}vars(e,t){return this.doVarS(e.args,t)}varp(e,t){return this.doVarP(e.args,t)}vara(e,t){var n;const r=this.reduceAggregateA(e.args,t);return r instanceof lr?r:null!==(n=r.varSValue())&&void 0!==n?n:new lr(Yn.DIV_BY_ZERO)}varpa(e,t){var n;const r=this.reduceAggregateA(e.args,t);return r instanceof lr?r:null!==(n=r.varPValue())&&void 0!==n?n:new lr(Yn.DIV_BY_ZERO)}stdevs(e,t){return this.doStdevS(e.args,t)}stdevp(e,t){return this.doStdevP(e.args,t)}stdeva(e,t){const n=this.reduceAggregateA(e.args,t);if(n instanceof lr)return n;{const e=n.varSValue();return void 0===e?new lr(Yn.DIV_BY_ZERO):Math.sqrt(e)}}stdevpa(e,t){const n=this.reduceAggregateA(e.args,t);if(n instanceof lr)return n;{const e=n.varPValue();return void 0===e?new lr(Yn.DIV_BY_ZERO):Math.sqrt(e)}}product(e,t){return this.doProduct(e.args,t)}subtotal(e,t){if(e.args.length<2)return new lr(Yn.NA,Re.WrongArgNumber);const n=this.coerceToType(this.evaluateAst(e.args[0],t),{argumentType:Qr.NUMBER},t),r=e.args.slice(1);switch(n){case 1:case 101:return this.doAverage(r,t);case 2:case 102:return this.doCount(r,t);case 3:case 103:return this.doCounta(r,t);case 4:case 104:return this.doMax(r,t);case 5:case 105:return this.doMin(r,t);case 6:case 106:return this.doProduct(r,t);case 7:case 107:return this.doStdevS(r,t);case 8:case 108:return this.doStdevP(r,t);case 9:case 109:return this.doSum(r,t);case 10:case 110:return this.doVarS(r,t);case 11:case 111:return this.doVarP(r,t);default:return new lr(Yn.VALUE,Re.BadMode)}}reduceAggregate(e,t){return this.reduce(e,t,ul.empty,"_AGGREGATE",((e,t)=>e.compose(t)),(e=>ul.single(Et(e))),hl)}reduceAggregateA(e,t){return this.reduce(e,t,ul.empty,"_AGGREGATE_A",((e,t)=>e.compose(t)),(e=>ul.single(Et(e))),dl)}doAverage(e,t){var n;const r=this.reduceAggregate(e,t);return r instanceof lr?r:null!==(n=r.averageValue())&&void 0!==n?n:new lr(Yn.DIV_BY_ZERO)}doVarS(e,t){var n;const r=this.reduceAggregate(e,t);return r instanceof lr?r:null!==(n=r.varSValue())&&void 0!==n?n:new lr(Yn.DIV_BY_ZERO)}doVarP(e,t){var n;const r=this.reduceAggregate(e,t);return r instanceof lr?r:null!==(n=r.varPValue())&&void 0!==n?n:new lr(Yn.DIV_BY_ZERO)}doStdevS(e,t){const n=this.reduceAggregate(e,t);if(n instanceof lr)return n;{const e=n.varSValue();return void 0===e?new lr(Yn.DIV_BY_ZERO):Math.sqrt(e)}}doStdevP(e,t){const n=this.reduceAggregate(e,t);if(n instanceof lr)return n;{const e=n.varPValue();return void 0===e?new lr(Yn.DIV_BY_ZERO):Math.sqrt(e)}}doCount(e,t){return this.reduce(e,t,0,"COUNT",((e,t)=>e+t),Et,(e=>Nt(e)?1:0))}doCounta(e,t){return this.reduce(e,t,0,"COUNTA",((e,t)=>e+t),Et,(e=>e===_t?0:1))}doMax(e,t){const n=this.reduce(e,t,Number.NEGATIVE_INFINITY,"MAX",((e,t)=>Math.max(e,t)),Et,hl);return ll(n)}doMin(e,t){const n=this.reduce(e,t,Number.POSITIVE_INFINITY,"MIN",((e,t)=>Math.min(e,t)),Et,hl);return ll(n)}doSum(e,t){return this.reduce(e,t,0,"SUM",this.addWithEpsilonRaw,Et,hl)}doProduct(e,t){return this.reduce(e,t,1,"PRODUCT",((e,t)=>e*t),Et,hl)}reduce(e,t,n,r,i,o,s){return e.length<1?new lr(Yn.NA,Re.WrongArgNumber):e.reduce(((e,a)=>{if(e instanceof lr)return e;if(a.type===W.CELL_RANGE||a.type===W.COLUMN_RANGE||a.type===W.ROW_RANGE){const l=this.evaluateRange(a,t,n,r,i,o,s);return l instanceof lr?l:i(l,e)}let l;if(l=this.evaluateAst(a,t),l instanceof Dt){const t=Array.from(l.valuesFromTopLeftCorner()).map(s).filter((e=>void 0!==e));return t.map((e=>e instanceof lr?e:o(e))).reduce(((e,t)=>e instanceof lr?e:t instanceof lr?t:i(e,t)),e)}if(a.type===W.CELL_REFERENCE){if(l=s(l),void 0===l)return e}else if(l=this.coerceScalarToNumberOrError(l),l=s(l),void 0===l)return e;return l instanceof lr?l:i(e,o(l))}),n)}evaluateRange(e,t,n,r,i,o,s){let a;try{a=Sr.fromAst(e,t.formulaAddress)}catch(c){if(c instanceof Kt)return new lr(Yn.REF,Re.RangeManySheets);throw c}const l=this.dependencyGraph.getRange(a.start,a.end);if(void 0===l)throw new Error("Range does not exists in graph");let u=l.getFunctionValue(r);if(void 0===u){const e=this.getRangeValues(r,a,l,o,s);u=e.reduce(((e,t)=>e instanceof lr?e:t instanceof lr?t:i(e,t)),n),l.setFunctionValue(r,u)}return u}getRangeValues(e,t,n,r,i){const o=[],{smallerRangeVertex:s,restRange:a}=this.dependencyGraph.rangeMapping.findSmallerRange(t);let l;if(void 0!==s&&this.dependencyGraph.existsEdge(s,n)){const t=s.getFunctionValue(e);if(void 0!==t)o.push(t);else for(const e of s.range.addresses(this.dependencyGraph)){const t=i(this.dependencyGraph.getScalarValue(e));t instanceof lr?o.push(t):void 0!==t&&o.push(r(t))}l=a}else l=t;for(const u of l.addresses(this.dependencyGraph)){const e=i(this.dependencyGraph.getScalarValue(u));e instanceof lr?o.push(e):void 0!==e&&o.push(r(e))}return o}}function hl(e){return Nt(e)||e instanceof lr?e:void 0}function dl(e){return"boolean"===typeof e?Or(e):Nt(e)||e instanceof lr?e:"string"===typeof e?0:void 0}cl.implementedFunctions={SUM:{method:"sum",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},SUMSQ:{method:"sumsq",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},MAX:{method:"max",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},MIN:{method:"min",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},MAXA:{method:"maxa",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},MINA:{method:"mina",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},COUNT:{method:"count",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},COUNTA:{method:"counta",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},AVERAGE:{method:"average",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},AVERAGEA:{method:"averagea",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},PRODUCT:{method:"product",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},"VAR.S":{method:"vars",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},"VAR.P":{method:"varp",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},VARA:{method:"vara",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},VARPA:{method:"varpa",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},"STDEV.S":{method:"stdevs",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},"STDEV.P":{method:"stdevp",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},STDEVA:{method:"stdeva",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},STDEVPA:{method:"stdevpa",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},SUBTOTAL:{method:"subtotal",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.ANY}],repeatLastArgs:1}},cl.aliases={VAR:"VAR.S",VARP:"VAR.P",STDEV:"STDEV.S",STDEVP:"STDEV.P",VARS:"VAR.S",STDEVS:"STDEV.S"};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class fl extends Zr{power(e,t){return this.runFunction(e.args,t,this.metadata("POWER"),Math.pow)}}fl.implementedFunctions={POWER:{method:"power",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class pl extends Zr{radians(e,t){return this.runFunction(e.args,t,this.metadata("RADIANS"),(e=>e*(Math.PI/180)))}}pl.implementedFunctions={RADIANS:{method:"radians",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const ml=10,gl=255,vl=2,yl=36,bl="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";class wl extends Zr{dec2bin(e,t){return this.runFunction(e.args,t,this.metadata("DEC2BIN"),((e,t)=>El(e,2,t)))}dec2oct(e,t){return this.runFunction(e.args,t,this.metadata("DEC2OCT"),((e,t)=>El(e,8,t)))}dec2hex(e,t){return this.runFunction(e.args,t,this.metadata("DEC2HEX"),((e,t)=>El(e,16,t)))}bin2dec(e,t){return this.runFunction(e.args,t,this.metadata("BIN2DEC"),(e=>{const t=_l(e,2,ml);return void 0===t?new lr(Yn.NUM,Re.NotBinary):Rl(t,2)}))}bin2oct(e,t){return this.runFunction(e.args,t,this.metadata("BIN2OCT"),((e,t)=>{const n=_l(e,2,ml);return void 0===n?new lr(Yn.NUM,Re.NotBinary):El(Rl(n,2),8,t)}))}bin2hex(e,t){return this.runFunction(e.args,t,this.metadata("BIN2HEX"),((e,t)=>{const n=_l(e,2,ml);return void 0===n?new lr(Yn.NUM,Re.NotBinary):El(Rl(n,2),16,t)}))}oct2dec(e,t){return this.runFunction(e.args,t,this.metadata("OCT2DEC"),(e=>{const t=_l(e,8,ml);return void 0===t?new lr(Yn.NUM,Re.NotOctal):Rl(t,8)}))}oct2bin(e,t){return this.runFunction(e.args,t,this.metadata("OCT2BIN"),((e,t)=>{const n=_l(e,8,ml);return void 0===n?new lr(Yn.NUM,Re.NotOctal):El(Rl(n,8),2,t)}))}oct2hex(e,t){return this.runFunction(e.args,t,this.metadata("OCT2HEX"),((e,t)=>{const n=_l(e,8,ml);return void 0===n?new lr(Yn.NUM,Re.NotOctal):El(Rl(n,8),16,t)}))}hex2dec(e,t){return this.runFunction(e.args,t,this.metadata("HEX2DEC"),(e=>{const t=_l(e,16,ml);return void 0===t?new lr(Yn.NUM,Re.NotHex):Rl(t,16)}))}hex2bin(e,t){return this.runFunction(e.args,t,this.metadata("HEX2BIN"),((e,t)=>{const n=_l(e,16,ml);return void 0===n?new lr(Yn.NUM,Re.NotHex):El(Rl(n,16),2,t)}))}hex2oct(e,t){return this.runFunction(e.args,t,this.metadata("HEX2OCT"),((e,t)=>{const n=_l(e,16,ml);return void 0===n?new lr(Yn.NUM,Re.NotHex):El(Rl(n,16),8,t)}))}base(e,t){return this.runFunction(e.args,t,this.metadata("BASE"),Ml)}decimal(e,t){return this.runFunction(e.args,t,this.metadata("DECIMAL"),((e,t)=>{const n=_l(e,t,gl);return void 0===n?new lr(Yn.NUM,Re.NotHex):parseInt(n,t)}))}}function _l(e,t,n){const r=bl.substr(0,t),i=new RegExp(`^[${r}]+$`);if(!(e.length>n)&&i.test(e))return e}function El(e,t,n){if(e>Tl(t))return new lr(Yn.NUM,Re.ValueBaseLarge);if(e<Sl(t))return new lr(Yn.NUM,Re.ValueBaseSmall);const r=Cl(e,t);return void 0===n||e<0?r:r.length>n?new lr(Yn.NUM,Re.ValueBaseLong):no(r,n)}function Sl(e){return-Math.pow(e,ml)/2}function Tl(e){return-Sl(e)-1}function Ml(e,t,n){const r=Cl(e,t);return void 0!==n&&n>r.length?no(r,n):r}function Cl(e,t){const n=e<0?Math.pow(t,ml):0;return(e+n).toString(t).toUpperCase()}function Rl(e,t){const n=parseInt(e,t),r=Math.pow(t,ml);return n>=r/2?n-r:n}wl.implementedFunctions={DEC2BIN:{method:"dec2bin",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:1,maxValue:10}]},DEC2OCT:{method:"dec2oct",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:1,maxValue:10}]},DEC2HEX:{method:"dec2hex",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:1,maxValue:10}]},BIN2DEC:{method:"bin2dec",parameters:[{argumentType:Qr.STRING}]},BIN2OCT:{method:"bin2oct",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:0,maxValue:ml}]},BIN2HEX:{method:"bin2hex",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:0,maxValue:ml}]},OCT2DEC:{method:"oct2dec",parameters:[{argumentType:Qr.STRING}]},OCT2BIN:{method:"oct2bin",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:0,maxValue:ml}]},OCT2HEX:{method:"oct2hex",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:0,maxValue:ml}]},HEX2DEC:{method:"hex2dec",parameters:[{argumentType:Qr.STRING}]},HEX2BIN:{method:"hex2bin",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:0,maxValue:ml}]},HEX2OCT:{method:"hex2oct",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:0,maxValue:ml}]},DECIMAL:{method:"decimal",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,minValue:vl,maxValue:yl}]},BASE:{method:"base",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:vl,maxValue:yl},{argumentType:Qr.NUMBER,optionalArg:!0,minValue:0,maxValue:gl}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class xl extends Zr{rand(e,t){return this.runFunction(e.args,t,this.metadata("RAND"),Math.random)}randbetween(e,t){return this.runFunction(e.args,t,this.metadata("RANDBETWEEN"),((e,t)=>t<e?new lr(Yn.NUM,Re.WrongOrder):(e=Math.ceil(e),t=Math.floor(t)+1,e===t&&(t+=1),e+Math.floor(Math.random()*(t-e)))))}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function Al(e){const t=Math.ceil(e);return t%2===1?t:t+1}function Nl(e){const t=Math.ceil(e);return t%2===0?t:t+1}xl.implementedFunctions={RAND:{method:"rand",parameters:[],isVolatile:!0},RANDBETWEEN:{method:"randbetween",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}],isVolatile:!0}};class Ll extends Zr{roundup(e,t){return this.runFunction(e.args,t,this.metadata("ROUNDDOWN"),((e,t)=>{const n=Math.pow(10,t);return e<0?-Math.ceil(-e*n)/n:Math.ceil(e*n)/n}))}rounddown(e,t){return this.runFunction(e.args,t,this.metadata("ROUNDDOWN"),((e,t)=>{const n=Math.pow(10,t);return e<0?-Math.floor(-e*n)/n:Math.floor(e*n)/n}))}round(e,t){return this.runFunction(e.args,t,this.metadata("ROUND"),((e,t)=>{const n=Math.pow(10,t);return e<0?-Math.round(-e*n)/n:Math.round(e*n)/n}))}intFunc(e,t){return this.runFunction(e.args,t,this.metadata("INT"),(e=>e<0?-Math.floor(-e):Math.floor(e)))}even(e,t){return this.runFunction(e.args,t,this.metadata("EVEN"),(e=>e<0?-Nl(-e):Nl(e)))}odd(e,t){return this.runFunction(e.args,t,this.metadata("ODD"),(e=>e<0?-Al(-e):Al(e)))}ceilingmath(e,t){return this.runFunction(e.args,t,this.metadata("CEILING.MATH"),((e,t,n)=>0===t||0===e?0:(t=Math.abs(t),1===n&&e<0&&(t=-t),Math.ceil(e/t)*t)))}ceiling(e,t){return this.runFunction(e.args,t,this.metadata("CEILING"),((e,t)=>0===e?0:0===t?new lr(Yn.DIV_BY_ZERO):e>0&&t<0?new lr(Yn.NUM,Re.DistinctSigns):Math.ceil(e/t)*t))}ceilingprecise(e,t){return this.runFunction(e.args,t,this.metadata("CEILING.PRECISE"),((e,t)=>0===t||0===e?0:(t=Math.abs(t),Math.ceil(e/t)*t)))}floormath(e,t){return this.runFunction(e.args,t,this.metadata("FLOOR.MATH"),((e,t,n)=>0===t||0===e?0:(t=Math.abs(t),1===n&&e<0&&(t*=-1),Math.floor(e/t)*t)))}floor(e,t){return this.runFunction(e.args,t,this.metadata("FLOOR"),((e,t)=>0===e?0:0===t?new lr(Yn.DIV_BY_ZERO):e>0&&t<0?new lr(Yn.NUM,Re.DistinctSigns):Math.floor(e/t)*t))}floorprecise(e,t){return this.runFunction(e.args,t,this.metadata("FLOOR.PRECISE"),((e,t)=>0===t||0===e?0:(t=Math.abs(t),Math.floor(e/t)*t)))}}Ll.implementedFunctions={ROUNDUP:{method:"roundup",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0}]},ROUNDDOWN:{method:"rounddown",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0}]},ROUND:{method:"round",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:0}]},INT:{method:"intFunc",parameters:[{argumentType:Qr.NUMBER}]},EVEN:{method:"even",parameters:[{argumentType:Qr.NUMBER}]},ODD:{method:"odd",parameters:[{argumentType:Qr.NUMBER}]},"CEILING.MATH":{method:"ceilingmath",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:1},{argumentType:Qr.NUMBER,defaultValue:0}]},CEILING:{method:"ceiling",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]},"CEILING.PRECISE":{method:"ceilingprecise",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:1}]},"FLOOR.MATH":{method:"floormath",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:1},{argumentType:Qr.NUMBER,defaultValue:0}]},FLOOR:{method:"floor",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]},"FLOOR.PRECISE":{method:"floorprecise",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,defaultValue:1}]}},Ll.aliases={"ISO.CEILING":"CEILING.PRECISE",TRUNC:"ROUNDDOWN"};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class kl extends Zr{sqrt(e,t){return this.runFunction(e.args,t,this.metadata("SQRT"),Math.sqrt)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
function*Ol(){}function Il(e){const t=e[Symbol.iterator](),{done:n,value:r}=t.next();return n?{rest:Ol()}:{value:r,rest:t}}kl.implementedFunctions={SQRT:{method:"sqrt",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
const Pl=(e,t,n)=>{if(n.end.row>n.start.row){const r=fr(n.end.sheet,n.end.col,n.end.row-1),i=e.getRange(n.start,r);if(void 0!==i)return{smallerRangeVertex:i,restValuesRange:n.withStart(fr(n.start.sheet,n.start.col,n.end.row)),restConditionRanges:t.map((e=>e.withStart(fr(e.start.sheet,e.start.col,e.end.row))))}}return{restValuesRange:n,restConditionRanges:t}};class Dl{constructor(e,t,n,r,i){this.interpreter=e,this.cacheKey=t,this.reduceInitialValue=n,this.composeFunction=r,this.mapFunction=i,this.dependencyGraph=this.interpreter.dependencyGraph}compute(e,t){for(const i of t)if(!i.conditionRange.sameDimensionsAs(e))return new lr(Yn.VALUE,Re.EqualLength);const n=this.tryToGetRangeVertexForRangeValue(e),r=t.map((e=>this.tryToGetRangeVertexForRangeValue(e.conditionRange)));if(n&&r.every((e=>void 0!==e))){const i=t.map((e=>e.criterionPackage.raw)).join(","),o=this.findAlreadyComputedValueInCache(n,this.cacheKey(t),i);if(void 0!==o)return this.interpreter.stats.incrementCriterionFunctionFullCacheUsed(),o;const s=this.buildNewCriterionCache(this.cacheKey(t),t.map((e=>e.conditionRange.range)),e.range);return s.has(i)||s.set(i,[this.evaluateRangeValue(e,t),t.map((e=>e.criterionPackage.lambda))]),n.setCriterionFunctionValues(this.cacheKey(t),s),r.forEach((e=>{void 0!==e&&e.addDependentCacheRange(n)})),s.get(i)[0]}return this.evaluateRangeValue(e,t)}tryToGetRangeVertexForRangeValue(e){const t=e.range;return void 0===t?void 0:this.dependencyGraph.getRange(t.start,t.end)}reduceFunction(e){let t=this.reduceInitialValue;for(const n of e)t=this.composeFunction(t,n);return t}findAlreadyComputedValueInCache(e,t,n){return e.getCriterionFunctionValue(t,n)}evaluateRangeValue(e,t){const n=t.map((e=>e.criterionPackage.lambda)),r=Array.from(e.valuesFromTopLeftCorner()).map(this.mapFunction)[Symbol.iterator](),i=t.map((e=>e.conditionRange.iterateValuesFromTopLeftCorner())),o=Ul(n,i,r);return this.reduceFunction(o)}buildNewCriterionCache(e,t,n){const r=this.dependencyGraph.getRange(n.start,n.end),{smallerRangeVertex:i,restConditionRanges:o,restValuesRange:s}=Pl(this.dependencyGraph,t,n);let a;a=void 0!==i&&this.dependencyGraph.existsEdge(i,r)?i.getCriterionFunctionValues(e):new Map;const l=new Map;return a.forEach((([e,t],n)=>{const r=Ul(t,o.map((e=>Hl(this.dependencyGraph,e))),Array.from(Hl(this.dependencyGraph,s)).map(this.mapFunction)[Symbol.iterator]()),i=this.composeFunction(e,this.reduceFunction(r));this.interpreter.stats.incrementCriterionFunctionPartialCacheUsed(),l.set(n,[i,t])})),l}}class Fl{constructor(e,t){this.conditionRange=e,this.criterionPackage=t}}function*Hl(e,t){for(const n of t.addresses(e))yield Et(e.getScalarValue(n))}function*Ul(e,t,n){for(const r of n){const n=t.map((e=>Il(e)));if(!n.every((e=>Object.prototype.hasOwnProperty.call(e,"value"))))return;const i=n.map((e=>Et(e.value)));Bl(i,e).every((([e,t])=>t(e)))&&(yield r),t=n.map((e=>e.rest))}}function Bl(e,t){const n=[];for(let r=0;r<Math.min(e.length,t.length);r++)n.push([e[r],t[r]]);return n}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class jl{constructor(e,t){this.sum=e,this.count=t}static single(e){return new jl(e,1)}compose(e){return new jl(this.sum+e.sum,this.count+e.count)}averageValue(){return this.count>0?this.sum/this.count:void 0}}function Yl(e){return t=>{const n=t.map((e=>`${e.conditionRange.range.sheet},${e.conditionRange.range.start.col},${e.conditionRange.range.start.row}`));return[e,...n].join(",")}}function Vl(e){return Nt(e)&&!Number.isFinite(Et(e))?0:e}function Wl(e){return e instanceof lr?e:Nt(e)?Et(e):void 0}jl.empty=new jl(0,0);class zl extends Zr{sumif(e,t){const n="SUMIF",r=(e,t,r)=>this.computeConditionalAggregationFunction(null!==r&&void 0!==r?r:e,[e,t],n,0,((e,t)=>this.arithmeticHelper.nonstrictadd(e,t)),Wl);return this.runFunction(e.args,t,this.metadata(n),r)}sumifs(e,t){const n="SUMIFS",r=(e,...t)=>this.computeConditionalAggregationFunction(e,t,n,0,((e,t)=>this.arithmeticHelper.nonstrictadd(e,t)),Wl);return this.runFunction(e.args,t,this.metadata(n),r)}averageif(e,t){const n="AVERAGEIF",r=(e,t,r)=>{const i=this.computeConditionalAggregationFunction(null!==r&&void 0!==r?r:e,[e,t],n,jl.empty,((e,t)=>e.compose(t)),(e=>Nt(e)?jl.single(Et(e)):jl.empty));return i instanceof lr?i:i.averageValue()||new lr(Yn.DIV_BY_ZERO)};return this.runFunction(e.args,t,this.metadata(n),r)}countif(e,t){const n="COUNTIF",r=(e,t)=>this.computeConditionalAggregationFunction(e,[e,t],n,0,((e,t)=>e+t),(()=>1));return this.runFunction(e.args,t,this.metadata(n),r)}countifs(e,t){const n="COUNTIFS",r=(...e)=>this.computeConditionalAggregationFunction(e[0],e,n,0,((e,t)=>e+t),(()=>1));return this.runFunction(e.args,t,this.metadata(n),r)}minifs(e,t){const n="MINIFS",r=(e,t)=>void 0===t||void 0===e?void 0===t?e:t:Math.min(e,t),i=(e,...t)=>{const i=this.computeConditionalAggregationFunction(e,t,n,Number.POSITIVE_INFINITY,r,Wl);return Vl(i)};return this.runFunction(e.args,t,this.metadata(n),i)}maxifs(e,t){const n="MAXIFS",r=(e,t)=>void 0===t||void 0===e?void 0===t?e:t:Math.max(e,t),i=(e,...t)=>{const i=this.computeConditionalAggregationFunction(e,t,n,Number.NEGATIVE_INFINITY,r,Wl);return Vl(i)};return this.runFunction(e.args,t,this.metadata(n),i)}computeConditionalAggregationFunction(e,t,n,r,i,o){const s=[];for(let a=0;a<t.length;a+=2){const e=t[a],n=this.interpreter.criterionBuilder.fromCellValue(t[a+1],this.arithmeticHelper);if(void 0===n)return new lr(Yn.VALUE,Re.BadCriterion);s.push(new Fl(e,n))}return new Dl(this.interpreter,Yl(n),r,i,o).compute(e,s)}}zl.implementedFunctions={SUMIF:{method:"sumif",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NOERROR},{argumentType:Qr.RANGE,optionalArg:!0}]},COUNTIF:{method:"countif",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NOERROR}]},AVERAGEIF:{method:"averageif",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NOERROR},{argumentType:Qr.RANGE,optionalArg:!0}]},SUMIFS:{method:"sumifs",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE},{argumentType:Qr.NOERROR}],repeatLastArgs:2},COUNTIFS:{method:"countifs",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NOERROR}],repeatLastArgs:2},MINIFS:{method:"minifs",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE},{argumentType:Qr.NOERROR}],repeatLastArgs:2},MAXIFS:{method:"maxifs",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE},{argumentType:Qr.NOERROR}],repeatLastArgs:2}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Gl extends Zr{sumproduct(e,t){return this.runFunction(e.args,t,this.metadata("SUMPRODUCT"),((...e)=>{const t=e[0].width(),n=e[0].height();for(const o of e)if(o.width()!==t||o.height()!==n)return new lr(Yn.VALUE,Re.EqualLength);let r=0;const i=e.map((e=>e.iterateValuesFromTopLeftCorner()));for(let o=0;o<t*n;o++){let e=1;for(const t of i){const n=t.next().value;if(n instanceof lr)return n;const r=this.coerceScalarToNumberOrError(n);Nt(r)?e*=Et(r):e=0}r+=e}return r}))}}Gl.implementedFunctions={SUMPRODUCT:{method:"sumproduct",parameters:[{argumentType:Qr.RANGE}],repeatLastArgs:1}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class $l extends Zr{concatenate(e,t){return this.runFunction(e.args,t,this.metadata("CONCATENATE"),((...e)=>"".concat(...e)))}split(e,t){return this.runFunction(e.args,t,this.metadata("SPLIT"),((e,t)=>{const n=e.split(" ");return t>=n.length||t<0?new lr(Yn.VALUE,Re.IndexBounds):n[t]}))}len(e,t){return this.runFunction(e.args,t,this.metadata("LEN"),(e=>e.length))}lower(e,t){return this.runFunction(e.args,t,this.metadata("LOWER"),(e=>e.toLowerCase()))}trim(e,t){return this.runFunction(e.args,t,this.metadata("TRIM"),(e=>e.replace(/^ +| +$/g,"").replace(/ +/g," ")))}proper(e,t){return this.runFunction(e.args,t,this.metadata("PROPER"),(e=>e.replace(/\p{L}+/gu,(e=>e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()))))}clean(e,t){return this.runFunction(e.args,t,this.metadata("CLEAN"),(e=>e.replace(/[\u0000-\u001F]/g,"")))}exact(e,t){return this.runFunction(e.args,t,this.metadata("EXACT"),((e,t)=>e===t))}rept(e,t){return this.runFunction(e.args,t,this.metadata("REPT"),((e,t)=>t<0?new lr(Yn.VALUE,Re.NegativeCount):e.repeat(t)))}right(e,t){return this.runFunction(e.args,t,this.metadata("RIGHT"),((e,t)=>t<0?new lr(Yn.VALUE,Re.NegativeLength):0===t?"":e.slice(-t)))}left(e,t){return this.runFunction(e.args,t,this.metadata("LEFT"),((e,t)=>t<0?new lr(Yn.VALUE,Re.NegativeLength):e.slice(0,t)))}mid(e,t){return this.runFunction(e.args,t,this.metadata("MID"),((e,t,n)=>t<1?new lr(Yn.VALUE,Re.LessThanOne):n<0?new lr(Yn.VALUE,Re.NegativeLength):e.substring(t-1,t+n-1)))}replace(e,t){return this.runFunction(e.args,t,this.metadata("REPLACE"),((e,t,n,r)=>t<1?new lr(Yn.VALUE,Re.LessThanOne):n<0?new lr(Yn.VALUE,Re.NegativeLength):e.substring(0,t-1)+r+e.substring(t+n-1)))}search(e,t){return this.runFunction(e.args,t,this.metadata("SEARCH"),((e,t,n)=>{if(n<1||n>t.length)return new lr(Yn.VALUE,Re.LengthBounds);const r=e.toLowerCase(),i=t.substring(n-1).toLowerCase(),o=this.arithmeticHelper.requiresRegex(r)?this.arithmeticHelper.searchString(r,i):i.indexOf(r);return o>-1?o+n:new lr(Yn.VALUE,Re.PatternNotFound)}))}substitute(e,t){return this.runFunction(e.args,t,this.metadata("SUBSTITUTE"),((e,t,n,r)=>{const i=this.escapeRegExpSpecialCharacters(t),o=new RegExp(i,"g");if(void 0===r)return e.replace(o,n);if(r<1)return new lr(Yn.VALUE,Re.LessThanOne);let s,a=0;while(null!==(s=o.exec(e)))if(r===++a)return e.substring(0,s.index)+n+e.substring(o.lastIndex);return e}))}find(e,t){return this.runFunction(e.args,t,this.metadata("FIND"),((e,t,n)=>{if(n<1||n>t.length)return new lr(Yn.VALUE,Re.IndexBounds);const r=t.substring(n-1),i=r.indexOf(e)+n;return i>0?i:new lr(Yn.VALUE,Re.PatternNotFound)}))}t(e,t){return this.runFunction(e.args,t,this.metadata("T"),(e=>e instanceof lr||"string"===typeof e?e:""))}upper(e,t){return this.runFunction(e.args,t,this.metadata("UPPER"),(e=>e.toUpperCase()))}escapeRegExpSpecialCharacters(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}$l.implementedFunctions={CONCATENATE:{method:"concatenate",parameters:[{argumentType:Qr.STRING}],repeatLastArgs:1,expandRanges:!0},EXACT:{method:"exact",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.STRING}]},SPLIT:{method:"split",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER}]},LEN:{method:"len",parameters:[{argumentType:Qr.STRING}]},LOWER:{method:"lower",parameters:[{argumentType:Qr.STRING}]},MID:{method:"mid",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]},TRIM:{method:"trim",parameters:[{argumentType:Qr.STRING}]},T:{method:"t",parameters:[{argumentType:Qr.SCALAR}]},PROPER:{method:"proper",parameters:[{argumentType:Qr.STRING}]},CLEAN:{method:"clean",parameters:[{argumentType:Qr.STRING}]},REPT:{method:"rept",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER}]},RIGHT:{method:"right",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,defaultValue:1}]},LEFT:{method:"left",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,defaultValue:1}]},REPLACE:{method:"replace",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.STRING}]},SEARCH:{method:"search",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,defaultValue:1}]},SUBSTITUTE:{method:"substitute",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.STRING},{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,optionalArg:!0}]},FIND:{method:"find",parameters:[{argumentType:Qr.STRING},{argumentType:Qr.STRING},{argumentType:Qr.NUMBER,defaultValue:1}]},UPPER:{method:"upper",parameters:[{argumentType:Qr.STRING}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class ql extends Zr{acos(e,t){return this.runFunction(e.args,t,this.metadata("ACOS"),Math.acos)}asin(e,t){return this.runFunction(e.args,t,this.metadata("ASIN"),Math.asin)}cos(e,t){return this.runFunction(e.args,t,this.metadata("COS"),Math.cos)}sin(e,t){return this.runFunction(e.args,t,this.metadata("SIN"),Math.sin)}tan(e,t){return this.runFunction(e.args,t,this.metadata("TAN"),Math.tan)}atan(e,t){return this.runFunction(e.args,t,this.metadata("ATAN"),Math.atan)}atan2(e,t){return this.runFunction(e.args,t,this.metadata("ATAN2"),((e,t)=>0===e&&0===t?new lr(Yn.DIV_BY_ZERO):Math.atan2(t,e)))}cot(e,t){return this.runFunction(e.args,t,this.metadata("COT"),(e=>0===e?new lr(Yn.DIV_BY_ZERO):1/Math.tan(e)))}acot(e,t){return this.runFunction(e.args,t,this.metadata("ACOT"),(e=>0===e?tl/2:Math.atan(1/e)))}sec(e,t){return this.runFunction(e.args,t,this.metadata("SEC"),(e=>1/Math.cos(e)))}csc(e,t){return this.runFunction(e.args,t,this.metadata("CSC"),(e=>0===e?new lr(Yn.DIV_BY_ZERO):1/Math.sin(e)))}sinh(e,t){return this.runFunction(e.args,t,this.metadata("SINH"),Math.sinh)}asinh(e,t){return this.runFunction(e.args,t,this.metadata("ASINH"),Math.asinh)}cosh(e,t){return this.runFunction(e.args,t,this.metadata("COSH"),Math.cosh)}acosh(e,t){return this.runFunction(e.args,t,this.metadata("ACOSH"),Math.acosh)}tanh(e,t){return this.runFunction(e.args,t,this.metadata("TANH"),Math.tanh)}atanh(e,t){return this.runFunction(e.args,t,this.metadata("ATANH"),Math.atanh)}coth(e,t){return this.runFunction(e.args,t,this.metadata("COTH"),(e=>0===e?new lr(Yn.DIV_BY_ZERO):1/Math.tanh(e)))}acoth(e,t){return this.runFunction(e.args,t,this.metadata("ACOTH"),(e=>0===e?new lr(Yn.NUM,Re.NonZero):Math.atanh(1/e)))}sech(e,t){return this.runFunction(e.args,t,this.metadata("SECH"),(e=>1/Math.cosh(e)))}csch(e,t){return this.runFunction(e.args,t,this.metadata("CSCH"),(e=>0===e?new lr(Yn.DIV_BY_ZERO):1/Math.sinh(e)))}}ql.implementedFunctions={ACOS:{method:"acos",parameters:[{argumentType:Qr.NUMBER}]},ASIN:{method:"asin",parameters:[{argumentType:Qr.NUMBER}]},COS:{method:"cos",parameters:[{argumentType:Qr.NUMBER}]},SIN:{method:"sin",parameters:[{argumentType:Qr.NUMBER}]},TAN:{method:"tan",parameters:[{argumentType:Qr.NUMBER}]},ATAN:{method:"atan",parameters:[{argumentType:Qr.NUMBER}]},ATAN2:{method:"atan2",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]},COT:{method:"cot",parameters:[{argumentType:Qr.NUMBER}]},SEC:{method:"sec",parameters:[{argumentType:Qr.NUMBER}]},CSC:{method:"csc",parameters:[{argumentType:Qr.NUMBER}]},SINH:{method:"sinh",parameters:[{argumentType:Qr.NUMBER}]},COSH:{method:"cosh",parameters:[{argumentType:Qr.NUMBER}]},TANH:{method:"tanh",parameters:[{argumentType:Qr.NUMBER}]},COTH:{method:"coth",parameters:[{argumentType:Qr.NUMBER}]},SECH:{method:"sech",parameters:[{argumentType:Qr.NUMBER}]},CSCH:{method:"csch",parameters:[{argumentType:Qr.NUMBER}]},ACOT:{method:"acot",parameters:[{argumentType:Qr.NUMBER}]},ASINH:{method:"asinh",parameters:[{argumentType:Qr.NUMBER}]},ACOSH:{method:"acosh",parameters:[{argumentType:Qr.NUMBER}]},ATANH:{method:"atanh",parameters:[{argumentType:Qr.NUMBER}]},ACOTH:{method:"acoth",parameters:[{argumentType:Qr.NUMBER}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Kl extends Qs{constructor(e){super(e),this.dependencyGraph=e}find(e,t,n){return this.basicFind(e,t,"col",n)}}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Xl extends Zr{constructor(){super(...arguments),this.rowSearch=new Kl(this.dependencyGraph)}vlookup(e,t){return this.runFunction(e.args,t,this.metadata("VLOOKUP"),((e,t,n,r)=>{const i=t.range;return void 0===i?new lr(Yn.VALUE,Re.WrongType):n<1?new lr(Yn.VALUE,Re.LessThanOne):n>i.width()?new lr(Yn.REF,Re.IndexLarge):this.doVlookup(Fr(e),t,n-1,r)}))}hlookup(e,t){return this.runFunction(e.args,t,this.metadata("HLOOKUP"),((e,t,n,r)=>{const i=t.range;return void 0===i?new lr(Yn.VALUE,Re.WrongType):n<1?new lr(Yn.VALUE,Re.LessThanOne):n>i.height()?new lr(Yn.REF,Re.IndexLarge):this.doHlookup(Fr(e),t,n-1,r)}))}match(e,t){return this.runFunction(e.args,t,this.metadata("MATCH"),((e,t,n)=>this.doMatch(Fr(e),t,n)))}searchInRange(e,t,n,r){if(!n&&"string"===typeof e&&this.arithmeticHelper.requiresRegex(e))return r.advancedFind(this.arithmeticHelper.eqMatcherFunction(e),t);{const i=n?{ordering:"asc"}:{ordering:"none",matchExactly:!0};return r.find(e,t,i)}}doVlookup(e,t,n,r){this.dependencyGraph.stats.start(kt.VLOOKUP);const i=t.range;let o;o=void 0===i?Dt.onlyValues(t.data.map((e=>[e[0]]))):Dt.onlyRange(Sr.spanFrom(i.start,1,i.height()),this.dependencyGraph);const s=this.searchInRange(e,o,r,this.columnSearch);if(this.dependencyGraph.stats.end(kt.VLOOKUP),-1===s)return new lr(Yn.NA,Re.ValueNotFound);let a;if(void 0===i)a=t.data[s][n];else{const e=fr(i.sheet,i.start.col+n,i.start.row+s);a=this.dependencyGraph.getCellValue(e)}return a instanceof Dt?new lr(Yn.VALUE,Re.WrongType):a}doHlookup(e,t,n,r){const i=t.range;let o;o=void 0===i?Dt.onlyValues([t.data[0]]):Dt.onlyRange(Sr.spanFrom(i.start,i.width(),1),this.dependencyGraph);const s=this.searchInRange(e,o,r,this.rowSearch);if(-1===s)return new lr(Yn.NA,Re.ValueNotFound);let a;if(void 0===i)a=t.data[n][s];else{const e=fr(i.sheet,i.start.col+s,i.start.row+n);a=this.dependencyGraph.getCellValue(e)}return a instanceof Dt?new lr(Yn.VALUE,Re.WrongType):a}doMatch(e,t,n){if(![-1,0,1].includes(n))return new lr(Yn.VALUE,Re.BadMode);if(t.width()>1&&t.height()>1)return new lr(Yn.NA);const r=1===t.width()?this.columnSearch:this.rowSearch,i=0===n?{ordering:"none",matchExactly:!0}:{ordering:-1===n?"desc":"asc"},o=r.find(e,t,i);return-1===o?new lr(Yn.NA,Re.ValueNotFound):o+1}}Xl.implementedFunctions={VLOOKUP:{method:"vlookup",parameters:[{argumentType:Qr.NOERROR},{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER},{argumentType:Qr.BOOLEAN,defaultValue:!0}]},HLOOKUP:{method:"hlookup",parameters:[{argumentType:Qr.NOERROR},{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER},{argumentType:Qr.BOOLEAN,defaultValue:!0}]},MATCH:{method:"match",parameters:[{argumentType:Qr.NOERROR},{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER,defaultValue:1}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Jl extends Zr{roman(e,t){return this.runFunction(e.args,t,this.metadata("ROMAN"),((e,t)=>(e=Math.trunc(e),!1===t?t=4:!0===t&&(t=0),t=Et(this.coerceScalarToNumberOrError(t)),t instanceof lr?t:(t=Math.trunc(t),t<0?new lr(Yn.VALUE,Re.ValueSmall):t>4?new lr(Yn.VALUE,Re.ValueLarge):Zl(e,t)))))}arabic(e,t){return this.runFunction(e.args,t,this.metadata("ARABIC"),(e=>{e=e.trim().toUpperCase();let t=!1;if(e.startsWith("-")&&(e=e.slice(1),t=!0,""===e))return new lr(Yn.VALUE,Re.InvalidRoman);const n={input:e,acc:0};return Ql(n,{token:"MMM",val:3e3},{token:"MM",val:2e3},{token:"M",val:1e3}),Ql(n,{token:"IM",val:999},{token:"VM",val:995},{token:"XM",val:990},{token:"LM",val:950},{token:"CM",val:900}),Ql(n,{token:"D",val:500},{token:"ID",val:499},{token:"VD",val:495},{token:"XD",val:490},{token:"LD",val:450},{token:"CD",val:400}),Ql(n,{token:"CCC",val:300},{token:"CC",val:200},{token:"C",val:100}),Ql(n,{token:"IC",val:99},{token:"VC",val:95},{token:"XC",val:90}),Ql(n,{token:"L",val:50},{token:"IL",val:49},{token:"VL",val:45},{token:"XL",val:40}),Ql(n,{token:"XXX",val:30},{token:"XX",val:20},{token:"X",val:10}),Ql(n,{token:"IX",val:9}),Ql(n,{token:"V",val:5},{token:"IV",val:4}),Ql(n,{token:"III",val:3},{token:"II",val:2},{token:"I",val:1}),""!==n.input?new lr(Yn.VALUE,Re.InvalidRoman):t?-n.acc:n.acc}))}}function Ql(e,...t){for(const n of t)if(e.input.startsWith(n.token)){e.input=e.input.slice(n.token.length),e.acc+=n.val;break}}function Zl(e,t){const n={val:e%1e3,acc:"M".repeat(Math.floor(e/1e3))};return 4===t&&(eu(n,"IM",999,1e3),eu(n,"ID",499,500)),t>=3&&(eu(n,"VM",995,1e3),eu(n,"VD",495,500)),t>=2&&(eu(n,"XM",990,1e3),eu(n,"XD",490,500)),t>=1&&(eu(n,"LM",950,1e3),eu(n,"LD",450,500)),eu(n,"CM",900,1e3),eu(n,"CD",400,500),eu(n,"D",500,900),n.acc+="C".repeat(Math.floor(n.val/100)),n.val%=100,t>=2&&(eu(n,"IC",99,100),eu(n,"IL",49,50)),t>=1&&(eu(n,"VC",95,100),eu(n,"VL",45,50)),eu(n,"XC",90,100),eu(n,"XL",40,50),eu(n,"L",50,90),n.acc+="X".repeat(Math.floor(n.val/10)),n.val%=10,eu(n,"IX",9,10),eu(n,"IV",4,5),eu(n,"V",5,9),n.acc+="I".repeat(n.val),n.acc}function eu(e,t,n,r){e.val>=n&&e.val<r&&(e.val-=n,e.acc+=t)}Jl.implementedFunctions={ROMAN:{method:"roman",parameters:[{argumentType:Qr.NUMBER,minValue:1,lessThan:4e3},{argumentType:Qr.NOERROR,optionalArg:!0,defaultValue:0}]},ARABIC:{method:"arabic",parameters:[{argumentType:Qr.STRING}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class tu extends Zr{add(e,t){return this.runFunction(e.args,t,this.metadata("HF.ADD"),this.arithmeticHelper.addWithEpsilon)}concat(e,t){return this.runFunction(e.args,t,this.metadata("HF.CONCAT"),this.arithmeticHelper.concat)}divide(e,t){return this.runFunction(e.args,t,this.metadata("HF.DIVIDE"),this.arithmeticHelper.divide)}eq(e,t){return this.runFunction(e.args,t,this.metadata("HF.EQ"),this.arithmeticHelper.eq)}gt(e,t){return this.runFunction(e.args,t,this.metadata("HF.GT"),this.arithmeticHelper.gt)}gte(e,t){return this.runFunction(e.args,t,this.metadata("HF.GTE"),this.arithmeticHelper.geq)}lt(e,t){return this.runFunction(e.args,t,this.metadata("HF.LT"),this.arithmeticHelper.lt)}lte(e,t){return this.runFunction(e.args,t,this.metadata("HF.LTE"),this.arithmeticHelper.leq)}minus(e,t){return this.runFunction(e.args,t,this.metadata("HF.MINUS"),this.arithmeticHelper.subtract)}multiply(e,t){return this.runFunction(e.args,t,this.metadata("HF.MULTIPLY"),this.arithmeticHelper.multiply)}ne(e,t){return this.runFunction(e.args,t,this.metadata("HF.NE"),this.arithmeticHelper.neq)}pow(e,t){return this.runFunction(e.args,t,this.metadata("HF.POW"),this.arithmeticHelper.pow)}uminus(e,t){return this.runFunction(e.args,t,this.metadata("HF.UMINUS"),this.arithmeticHelper.unaryMinus)}upercent(e,t){return this.runFunction(e.args,t,this.metadata("HF.UNARY_PERCENT"),this.arithmeticHelper.unaryPercent)}uplus(e,t){return this.runFunction(e.args,t,this.metadata("HF.UPLUS"),this.arithmeticHelper.unaryPlus)}}tu.implementedFunctions={"HF.ADD":{method:"add",parameters:[{argumentType:Qr.NUMBER,passSubtype:!0},{argumentType:Qr.NUMBER,passSubtype:!0}]},"HF.CONCAT":{method:"concat",parameters:[{argumentType:Qr.STRING,passSubtype:!0},{argumentType:Qr.STRING,passSubtype:!0}]},"HF.DIVIDE":{method:"divide",parameters:[{argumentType:Qr.NUMBER,passSubtype:!0},{argumentType:Qr.NUMBER,passSubtype:!0}]},"HF.EQ":{method:"eq",parameters:[{argumentType:Qr.NOERROR,passSubtype:!0},{argumentType:Qr.NOERROR,passSubtype:!0}]},"HF.GT":{method:"gt",parameters:[{argumentType:Qr.NOERROR,passSubtype:!0},{argumentType:Qr.NOERROR,passSubtype:!0}]},"HF.GTE":{method:"gte",parameters:[{argumentType:Qr.NOERROR,passSubtype:!0},{argumentType:Qr.NOERROR,passSubtype:!0}]},"HF.LT":{method:"lt",parameters:[{argumentType:Qr.NOERROR,passSubtype:!0},{argumentType:Qr.NOERROR,passSubtype:!0}]},"HF.LTE":{method:"lte",parameters:[{argumentType:Qr.NOERROR,passSubtype:!0},{argumentType:Qr.NOERROR,passSubtype:!0}]},"HF.MINUS":{method:"minus",parameters:[{argumentType:Qr.NUMBER,passSubtype:!0},{argumentType:Qr.NUMBER,passSubtype:!0}]},"HF.MULTIPLY":{method:"multiply",parameters:[{argumentType:Qr.NUMBER,passSubtype:!0},{argumentType:Qr.NUMBER,passSubtype:!0}]},"HF.NE":{method:"ne",parameters:[{argumentType:Qr.NOERROR,passSubtype:!0},{argumentType:Qr.NOERROR,passSubtype:!0}]},"HF.POW":{method:"pow",parameters:[{argumentType:Qr.NUMBER,passSubtype:!0},{argumentType:Qr.NUMBER,passSubtype:!0}]},"HF.UMINUS":{method:"uminus",parameters:[{argumentType:Qr.NUMBER,passSubtype:!0}]},"HF.UNARY_PERCENT":{method:"upercent",parameters:[{argumentType:Qr.NUMBER,passSubtype:!0}]},"HF.UPLUS":{method:"uplus",parameters:[{argumentType:Qr.NUMBER,passSubtype:!0}]}};
/**
 * @license
 bessel.js (C) 2013-present SheetJS -- http://sheetjs.com

 Apache License
 Version 2.0, January 2004
 http://www.apache.org/licenses/

 TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

 1. Definitions.

 "License" shall mean the terms and conditions for use, reproduction,
 and distribution as defined by Sections 1 through 9 of this document.

 "Licensor" shall mean the copyright owner or entity authorized by
 the copyright owner that is granting the License.

 "Legal Entity" shall mean the union of the acting entity and all
 other entities that control, are controlled by, or are under common
 control with that entity. For the purposes of this definition,
 "control" means (i) the power, direct or indirect, to cause the
 direction or management of such entity, whether by contract or
 otherwise, or (ii) ownership of fifty percent (50%) or more of the
 outstanding shares, or (iii) beneficial ownership of such entity.

 "You" (or "Your") shall mean an individual or Legal Entity
 exercising permissions granted by this License.

 "Source" form shall mean the preferred form for making modifications,
 including but not limited to software source code, documentation
 source, and configuration files.

 "Object" form shall mean any form resulting from mechanical
 transformation or translation of a Source form, including but
 not limited to compiled object code, generated documentation,
 and conversions to other media types.

 "Work" shall mean the work of authorship, whether in Source or
 Object form, made available under the License, as indicated by a
 copyright notice that is included in or attached to the work
 (an example is provided in the Appendix below).

 "Derivative Works" shall mean any work, whether in Source or Object
 form, that is based on (or derived from) the Work and for which the
 editorial revisions, annotations, elaborations, or other modifications
 represent, as a whole, an original work of authorship. For the purposes
 of this License, Derivative Works shall not include works that remain
 separable from, or merely link (or bind by name) to the interfaces of,
 the Work and Derivative Works thereof.

 "Contribution" shall mean any work of authorship, including
 the original version of the Work and any modifications or additions
 to that Work or Derivative Works thereof, that is intentionally
 submitted to Licensor for inclusion in the Work by the copyright owner
 or by an individual or Legal Entity authorized to submit on behalf of
 the copyright owner. For the purposes of this definition, "submitted"
 means any form of electronic, verbal, or written communication sent
 to the Licensor or its representatives, including but not limited to
 communication on electronic mailing lists, source code control systems,
 and issue tracking systems that are managed by, or on behalf of, the
 Licensor for the purpose of discussing and improving the Work, but
 excluding communication that is conspicuously marked or otherwise
 designated in writing by the copyright owner as "Not a Contribution."

 "Contributor" shall mean Licensor and any individual or Legal Entity
 on behalf of whom a Contribution has been received by Licensor and
 subsequently incorporated within the Work.

 2. Grant of Copyright License. Subject to the terms and conditions of
 this License, each Contributor hereby grants to You a perpetual,
 worldwide, non-exclusive, no-charge, royalty-free, irrevocable
 copyright license to reproduce, prepare Derivative Works of,
 publicly display, publicly perform, sublicense, and distribute the
 Work and such Derivative Works in Source or Object form.

 3. Grant of Patent License. Subject to the terms and conditions of
 this License, each Contributor hereby grants to You a perpetual,
 worldwide, non-exclusive, no-charge, royalty-free, irrevocable
 (except as stated in this section) patent license to make, have made,
 use, offer to sell, sell, import, and otherwise transfer the Work,
 where such license applies only to those patent claims licensable
 by such Contributor that are necessarily infringed by their
 Contribution(s) alone or by combination of their Contribution(s)
 with the Work to which such Contribution(s) was submitted. If You
 institute patent litigation against any entity (including a
 cross-claim or counterclaim in a lawsuit) alleging that the Work
 or a Contribution incorporated within the Work constitutes direct
 or contributory patent infringement, then any patent licenses
 granted to You under this License for that Work shall terminate
 as of the date such litigation is filed.

 4. Redistribution. You may reproduce and distribute copies of the
 Work or Derivative Works thereof in any medium, with or without
 modifications, and in Source or Object form, provided that You
 meet the following conditions:

 (a) You must give any other recipients of the Work or
 Derivative Works a copy of this License; and

 (b) You must cause any modified files to carry prominent notices
 stating that You changed the files; and

 (c) You must retain, in the Source form of any Derivative Works
 that You distribute, all copyright, patent, trademark, and
 attribution notices from the Source form of the Work,
 excluding those notices that do not pertain to any part of
 the Derivative Works; and

 (d) If the Work includes a "NOTICE" text file as part of its
 distribution, then any Derivative Works that You distribute must
 include a readable copy of the attribution notices contained
 within such NOTICE file, excluding those notices that do not
 pertain to any part of the Derivative Works, in at least one
 of the following places: within a NOTICE text file distributed
 as part of the Derivative Works; within the Source form or
 documentation, if provided along with the Derivative Works; or,
 within a display generated by the Derivative Works, if and
 wherever such third-party notices normally appear. The contents
 of the NOTICE file are for informational purposes only and
 do not modify the License. You may add Your own attribution
 notices within Derivative Works that You distribute, alongside
 or as an addendum to the NOTICE text from the Work, provided
 that such additional attribution notices cannot be construed
 as modifying the License.

 You may add Your own copyright statement to Your modifications and
 may provide additional or different license terms and conditions
 for use, reproduction, or distribution of Your modifications, or
 for any such Derivative Works as a whole, provided Your use,
 reproduction, and distribution of the Work otherwise complies with
 the conditions stated in this License.

 5. Submission of Contributions. Unless You explicitly state otherwise,
 any Contribution intentionally submitted for inclusion in the Work
 by You to the Licensor shall be under the terms and conditions of
 this License, without any additional terms or conditions.
 Notwithstanding the above, nothing herein shall supersede or modify
 the terms of any separate license agreement you may have executed
 with Licensor regarding such Contributions.

 6. Trademarks. This License does not grant permission to use the trade
 names, trademarks, service marks, or product names of the Licensor,
 except as required for reasonable and customary use in describing the
 origin of the Work and reproducing the content of the NOTICE file.

 7. Disclaimer of Warranty. Unless required by applicable law or
 agreed to in writing, Licensor provides the Work (and each
 Contributor provides its Contributions) on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
 implied, including, without limitation, any warranties or conditions
 of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
 PARTICULAR PURPOSE. You are solely responsible for determining the
 appropriateness of using or redistributing the Work and assume any
 risks associated with Your exercise of permissions under this License.

 8. Limitation of Liability. In no event and under no legal theory,
 whether in tort (including negligence), contract, or otherwise,
 unless required by applicable law (such as deliberate and grossly
 negligent acts) or agreed to in writing, shall any Contributor be
 liable to You for damages, including any direct, indirect, special,
 incidental, or consequential damages of any character arising as a
 result of this License or out of the use or inability to use the
 Work (including but not limited to damages for loss of goodwill,
 work stoppage, computer failure or malfunction, or any and all
 other commercial damages or losses), even if such Contributor
 has been advised of the possibility of such damages.

 9. Accepting Warranty or Additional Liability. While redistributing
 the Work or Derivative Works thereof, You may choose to offer,
 and charge a fee for, acceptance of support, warranty, indemnity,
 or other liability obligations and/or rights consistent with this
 License. However, in accepting such obligations, You may act only
 on Your own behalf and on Your sole responsibility, not on behalf
 of any other Contributor, and only if You agree to indemnify,
 defend, and hold each Contributor harmless for any liability
 incurred by, or claims asserted against, such Contributor by reason
 of your accepting any such warranty or additional liability.

 END OF TERMS AND CONDITIONS

 APPENDIX: How to apply the Apache License to your work.

 To apply the Apache License to your work, attach the following
 boilerplate notice, with the fields enclosed by brackets "{}"
 replaced with your own identifying information. (Don't include
 the brackets!)  The text should be enclosed in the appropriate
 comment syntax for the file format. We also recommend that a
 file or class name and description of purpose be included on the
 same "printed page" as the copyright notice for easier
 identification within third-party archives.

 Copyright (C) 2013-present   SheetJS LLC

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 */
var nu=Math;function ru(e,t){for(var n=0,r=0;n<e.length;++n)r=t*r+e[n];return r}function iu(e,t,n,r,i){if(0===t)return n;if(1===t)return r;for(var o=2/e,s=r,a=1;a<t;++a)s=r*a*o+i*n,n=r,r=s;return s}function ou(e,t,n,r,i){return function(n,o){if(r){if(0===n)return 1==r?-1/0:1/0;if(n<0)return NaN}if(0===o)return e(n);if(1===o)return t(n);if(o<0)return NaN;o|=0;var s=e(n),a=t(n);return iu(n,o,s,a,i)}}var su=function(){var e=.636619772,t=[57568490574,-13362590354,651619640.7,-11214424.18,77392.33017,-184.9052456].reverse(),n=[57568490411,1029532985,9494680.718,59272.64853,267.8532712,1].reverse(),r=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),i=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34935152e-8].reverse();function o(o){var s=0,a=0,l=0,u=o*o;if(o<8)a=ru(t,u),l=ru(n,u),s=a/l;else{var c=o-.785398164;u=64/u,a=ru(r,u),l=ru(i,u),s=nu.sqrt(e/o)*(nu.cos(c)*a-nu.sin(c)*l*8/o)}return s}var s=[72362614232,-7895059235,242396853.1,-2972611.439,15704.4826,-30.16036606].reverse(),a=[144725228442,2300535178,18583304.74,99447.43394,376.9991397,1].reverse(),l=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),u=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();function c(t){var n=0,r=0,i=0,o=t*t,c=nu.abs(t)-2.356194491;return Math.abs(t)<8?(r=t*ru(s,o),i=ru(a,o),n=r/i):(o=64/o,r=ru(l,o),i=ru(u,o),n=nu.sqrt(e/nu.abs(t))*(nu.cos(c)*r-nu.sin(c)*i*8/nu.abs(t)),t<0&&(n=-n)),n}return function e(t,n){if(n=Math.round(n),!isFinite(t))return isNaN(t)?t:0;if(n<0)return(n%2?-1:1)*e(t,-n);if(t<0)return(n%2?-1:1)*e(-t,n);if(0===n)return o(t);if(1===n)return c(t);if(0===t)return 0;var r=0;if(t>n)r=iu(t,n,o(t),c(t),-1);else{for(var i=2*nu.floor((n+nu.floor(nu.sqrt(40*n)))/2),s=!1,a=0,l=0,u=1,h=0,d=2/t,f=i;f>0;f--)h=f*d*u-a,a=u,u=h,nu.abs(u)>1e10&&(u*=1e-10,a*=1e-10,r*=1e-10,l*=1e-10),s&&(l+=u),s=!s,f==n&&(r=a);l=2*l-u,r/=l}return r}}(),au=function(){var e=.636619772,t=[-2957821389,7062834065,-512359803.6,10879881.29,-86327.92757,228.4622733].reverse(),n=[40076544269,745249964.8,7189466.438,47447.2647,226.1030244,1].reverse(),r=[1,-.001098628627,2734510407e-14,-2073370639e-15,2.093887211e-7].reverse(),i=[-.01562499995,.0001430488765,-6911147651e-15,7.621095161e-7,-9.34945152e-8].reverse();function o(o){var s=0,a=0,l=0,u=o*o,c=o-.785398164;return o<8?(a=ru(t,u),l=ru(n,u),s=a/l+e*su(o,0)*nu.log(o)):(u=64/u,a=ru(r,u),l=ru(i,u),s=nu.sqrt(e/o)*(nu.sin(c)*a+nu.cos(c)*l*8/o)),s}var s=[-4900604943e3,127527439e4,-51534381390,734926455.1,-4237922.726,8511.937935].reverse(),a=[249958057e5,424441966400,3733650367,22459040.02,102042.605,354.9632885,1].reverse(),l=[1,.00183105,-3516396496e-14,2457520174e-15,-2.40337019e-7].reverse(),u=[.04687499995,-.0002002690873,8449199096e-15,-8.8228987e-7,1.05787412e-7].reverse();function c(t){var n=0,r=0,i=0,o=t*t,c=t-2.356194491;return t<8?(r=t*ru(s,o),i=ru(a,o),n=r/i+e*(su(t,1)*nu.log(t)-1/t)):(o=64/o,r=ru(l,o),i=ru(u,o),n=nu.sqrt(e/t)*(nu.sin(c)*r+nu.cos(c)*i*8/t)),n}return ou(o,c,"BESSELY",1,-1)}(),lu=function(){var e=[1,3.5156229,3.0899424,1.2067492,.2659732,.0360768,.0045813].reverse(),t=[.39894228,.01328592,.00225319,-.00157565,.00916281,-.02057706,.02635537,-.01647633,.00392377].reverse();function n(n){return n<=3.75?ru(e,n*n/14.0625):nu.exp(nu.abs(n))/nu.sqrt(nu.abs(n))*ru(t,3.75/nu.abs(n))}var r=[.5,.87890594,.51498869,.15084934,.02658733,.00301532,32411e-8].reverse(),i=[.39894228,-.03988024,-.00362018,.00163801,-.01031555,.02282967,-.02895312,.01787654,-.00420059].reverse();function o(e){return e<3.75?e*ru(r,e*e/14.0625):(e<0?-1:1)*nu.exp(nu.abs(e))/nu.sqrt(nu.abs(e))*ru(i,3.75/nu.abs(e))}return function e(t,r){if(r=Math.round(r),0===r)return n(t);if(1===r)return o(t);if(r<0)return NaN;if(0===nu.abs(t))return 0;if(t==1/0)return 1/0;var i,s=0,a=2/nu.abs(t),l=0,u=1,c=0,h=2*nu.round((r+nu.round(nu.sqrt(40*r)))/2);for(i=h;i>0;i--)c=i*a*u+l,l=u,u=c,nu.abs(u)>1e10&&(u*=1e-10,l*=1e-10,s*=1e-10),i==r&&(s=l);return s*=e(t,0)/u,t<0&&r%2?-s:s}}(),uu=function(){var e=[-.57721566,.4227842,.23069756,.0348859,.00262698,1075e-7,74e-7].reverse(),t=[1.25331414,-.07832358,.02189568,-.01062446,.00587872,-.0025154,53208e-8].reverse();function n(n){return n<=2?-nu.log(n/2)*lu(n,0)+ru(e,n*n/4):nu.exp(-n)/nu.sqrt(n)*ru(t,2/n)}var r=[1,.15443144,-.67278579,-.18156897,-.01919402,-.00110404,-4686e-8].reverse(),i=[1.25331414,.23498619,-.0365562,.01504268,-.00780353,.00325614,-68245e-8].reverse();function o(e){return e<=2?nu.log(e/2)*lu(e,1)+1/e*ru(r,e*e/4):nu.exp(-e)/nu.sqrt(e)*ru(i,2/e)}return ou(n,o,"BESSELK",2,1)}();
/**
 * @license
 Copyright (c) 2013 jStat

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 */
function cu(e){const t=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18];let n,r,i,o,s=t.length-1,a=!1,l=0,u=0;if(0===e)return 0;for(e<0&&(e=-e,a=!0),n=2/(2+e),r=4*n-2;s>0;s--)i=l,l=r*l-u+t[s],u=i;return o=n*Math.exp(-e*e+.5*(t[0]+r*l)-u),a?o-1:1-o}function hu(e){return 1-cu(e)}function du(e){let t,n,r,i,o=0;if(e>=2)return-100;if(e<=0)return 100;for(i=e<1?e:2-e,r=Math.sqrt(-2*Math.log(i/2)),t=-.70711*((2.30753+.27061*r)/(1+r*(.99229+.04481*r))-r);o<2;o++)n=hu(t)-i,t+=n/(1.1283791670955126*Math.exp(-t*t)-t*n);return e<1?t:-t}const fu={pdf:(e,t)=>e<0?0:t*Math.exp(-t*e),cdf:(e,t)=>e<0?0:1-Math.exp(-t*e)};function pu(e){const t=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],n=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535];let r,i,o,s,a=!1,l=0,u=0,c=0,h=e;if(e>171.6243769536076)return 1/0;if(h<=0){if(s=h%1,!s)return 1/0;a=(1&h?-1:1)*Math.PI/Math.sin(Math.PI*s),h=1-h}for(o=h,i=h<1?h++:(h-=l=(0|h)-1)-1,r=0;r<8;++r)c=(c+t[r])*i,u=u*i+n[r];if(s=c/u+1,o<h)s/=o;else if(o>h)for(r=0;r<l;++r)s*=h,h++;return a&&(s=a/s),s}const mu={pdf:function(e,t,n){return e<0?0:0===e&&1===t?1/n:Math.exp((t-1)*Math.log(e)-e/n-gu(t)-t*Math.log(n))},cdf:function(e,t,n){return e<0?0:vu(t,e/n)},inv:function(e,t,n){return yu(e,t)*n}};function gu(e){let t=0;const n=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];let r,i,o,s=1.000000000190015;for(o=(i=r=e)+5.5,o-=(r+.5)*Math.log(o);t<6;t++)s+=n[t]/++i;return Math.log(2.5066282746310007*s/r)-o}function vu(e,t){const n=gu(e);let r=e,i=1/e,o=i,s=t+1-e,a=1/1e-30,l=1/s,u=l,c=1;const h=-~(8.5*Math.log(e>=1?e:1/e)+.4*e+17);let d;if(t<0||e<=0)return NaN;if(t<e+1){for(;c<=h;c++)i+=o*=t/++r;return i*Math.exp(-t+e*Math.log(t)-n)}for(;c<=h;c++)d=-c*(c-e),s+=2,l=d*l+s,a=s+d/a,l=1/l,u*=l*a;return 1-u*Math.exp(-t+e*Math.log(t)-n)}function yu(e,t){let n=0;const r=t-1,i=1e-8,o=gu(t);let s,a,l,u,c,h,d;if(e>=1)return Math.max(100,t+100*Math.sqrt(t));if(e<=0)return 0;for(t>1?(h=Math.log(r),d=Math.exp(r*(h-1)-o),c=e<.5?e:1-e,l=Math.sqrt(-2*Math.log(c)),s=(2.30753+.27061*l)/(1+l*(.99229+.04481*l))-l,e<.5&&(s=-s),s=Math.max(.001,t*Math.pow(1-1/(9*t)-s/(3*Math.sqrt(t)),3))):(l=1-t*(.253+.12*t),s=e<l?Math.pow(e/l,1/t):1-Math.log(1-(e-l)/(1-l)));n<12;n++){if(s<=0)return 0;if(a=vu(t,s)-e,l=t>1?d*Math.exp(-(s-r)+r*(Math.log(s)-h)):Math.exp(-s+r*Math.log(s)-o),u=a/l,s-=l=u/(1-.5*Math.min(1,u*((t-1)/s-1))),s<=0&&(s=.5*(s+l)),Math.abs(l)<i*s)break}return s}const bu={pdf:function(e,t,n){return Math.exp(-.5*Math.log(2*Math.PI)-Math.log(n)-Math.pow(e-t,2)/(2*n*n))},cdf:function(e,t,n){return.5*(1+cu((e-t)/Math.sqrt(2*n*n)))},inv:function(e,t,n){return-1.4142135623730951*n*du(2*e)+t}},wu={pdf:function(e,t,n){return e>1||e<0?0:1==t&&1==n?1:t<512&&n<512?Math.pow(e,t-1)*Math.pow(1-e,n-1)/_u(t,n):Math.exp((t-1)*Math.log(e)+(n-1)*Math.log(1-e)-Eu(t,n))},cdf:function(e,t,n){return e>1||e<0?+(e>1):Tu(e,t,n)},inv:function(e,t,n){return Su(e,t,n)}};function _u(e,t){if(!(e<=0||t<=0))return e+t>170?Math.exp(Eu(e,t)):pu(e)*pu(t)/pu(e+t)}function Eu(e,t){return gu(e)+gu(t)-gu(e+t)}function Su(e,t,n){var r,i,o,s,a,l,u,c,h,d,f,p=1e-8,m=t-1,g=n-1,v=0;if(e<=0)return 0;if(e>=1)return 1;for(t>=1&&n>=1?(o=e<.5?e:1-e,s=Math.sqrt(-2*Math.log(o)),u=(2.30753+.27061*s)/(1+s*(.99229+.04481*s))-s,e<.5&&(u=-u),c=(u*u-3)/6,h=2/(1/(2*t-1)+1/(2*n-1)),d=u*Math.sqrt(c+h)/h-(1/(2*n-1)-1/(2*t-1))*(c+5/6-2/(3*h)),u=t/(t+n*Math.exp(2*d))):(r=Math.log(t/(t+n)),i=Math.log(n/(t+n)),s=Math.exp(t*r)/t,a=Math.exp(n*i)/n,d=s+a,u=e<s/d?Math.pow(t*d*e,1/t):1-Math.pow(n*d*(1-e),1/n)),f=-gu(t)-gu(n)+gu(t+n);v<10;v++){if(0===u||1===u)return u;if(l=Tu(u,t,n)-e,s=Math.exp(m*Math.log(u)+g*Math.log(1-u)+f),a=l/s,u-=s=a/(1-.5*Math.min(1,a*(m/u-g/(1-u)))),u<=0&&(u=.5*(u+s)),u>=1&&(u=.5*(u+s+1)),Math.abs(s)<p*u&&v>0)break}return u}function Tu(e,t,n){var r=0===e||1===e?0:Math.exp(gu(t+n)-gu(t)-gu(n)+t*Math.log(e)+n*Math.log(1-e));return!(e<0||e>1)&&(e<(t+1)/(t+n+2)?r*Mu(e,t,n)/t:1-r*Mu(1-e,n,t)/n)}function Mu(e,t,n){var r,i,o,s,a=1e-30,l=1,u=t+n,c=t+1,h=t-1,d=1,f=1-u*e/c;for(Math.abs(f)<a&&(f=a),f=1/f,s=f;l<=100;l++)if(r=2*l,i=l*(n-l)*e/((h+r)*(t+r)),f=1+i*f,Math.abs(f)<a&&(f=a),d=1+i/d,Math.abs(d)<a&&(d=a),f=1/f,s*=f*d,i=-(t+l)*(u+l)*e/((t+r)*(c+r)),f=1+i*f,Math.abs(f)<a&&(f=a),d=1+i/d,Math.abs(d)<a&&(d=a),f=1/f,o=f*d,s*=o,Math.abs(o-1)<3e-7)break;return s}const Cu={pdf:function(e,t,n){return 0===n||1===n?t*n===e?1:0:xu(t,e)*Math.pow(n,e)*Math.pow(1-n,t-e)},cdf:function(e,t,n){var r,i=1e-10;if(e<0)return 0;if(e>=t)return 1;if(n<0||n>1||t<=0)return NaN;e=Math.floor(e);var o=n,s=e+1,a=t-e,l=s+a,u=Math.exp(gu(l)-gu(a)-gu(s)+s*Math.log(o)+a*Math.log(1-o));return r=o<(s+1)/(l+2)?u*Ru(o,s,a,i):1-u*Ru(1-o,a,s,i),Math.round(1/i*(1-r))/(1/i)}};function Ru(e,t,n,r){var i,o=0,s=1,a=1,l=1,u=0,c=0;while(Math.abs((a-c)/a)>r)c=a,i=-(t+u)*(t+n+u)*e/(t+2*u)/(t+2*u+1),o=a+i*o,s=l+i*s,u+=1,i=u*(n-u)*e/(t+2*u-1)/(t+2*u),a=o+i*a,l=s+i*l,o/=l,s/=l,a/=l,l=1;return a/t}function xu(e,t){return e>170||t>170?Math.exp(Au(e,t)):Lu(e)/Lu(t)/Lu(e-t)}function Au(e,t){return Nu(e)-Nu(t)-Nu(e-t)}function Nu(e){return e<0?NaN:gu(e+1)}function Lu(e){return e<0?NaN:pu(e+1)}const ku={pdf:function(e,t){return e<0?0:0===e&&2===t?.5:Math.exp((t/2-1)*Math.log(e)-e/2-t/2*Math.log(2)-gu(t/2))},cdf:function(e,t){return e<0?0:vu(t/2,e/2)},inv:function(e,t){return 2*yu(e,.5*t)}},Ou={pdf:function(e,t,n){var r,i,o;return e<0?0:t<=2?0===e&&t<2?1/0:0===e&&2===t?1:1/_u(t/2,n/2)*Math.pow(t/n,t/2)*Math.pow(e,t/2-1)*Math.pow(1+t/n*e,-(t+n)/2):(r=t*e/(n+e*t),i=n/(n+e*t),o=t*i/2,o*Cu.pdf((t-2)/2,(t+n-2)/2,r))},cdf:function(e,t,n){return e<0?0:Tu(t*e/(t*e+n),t/2,n/2)},inv:function(e,t,n){return n/(t*(1/Su(e,t/2,n/2)-1))}},Iu={pdf:function(e,t,n){return e<0||t<0||n<0?0:n/t*Math.pow(e/t,n-1)*Math.exp(-Math.pow(e/t,n))},cdf:function(e,t,n){return e<0?0:1-Math.exp(-Math.pow(e/t,n))}},Pu={pdf:function(e,t){return t<0||e%1!==0||e<0?0:Math.pow(t,e)*Math.exp(-t)/Lu(e)},cdf:function(e,t){var n=0;if(e<0)return 0;for(var r=0;n<=e;n++)r+=Pu.pdf(n,t);return r}},Du={pdf:function(e,t,n,r){if(e<0||e<n-(t-r))return 0;if(e>r||e>n)return 0;if(2*n>t)return 2*r>t?Du.pdf(t-n-r+e,t,t-n,t-r):Du.pdf(r-e,t,t-n,r);if(2*r>t)return Du.pdf(n-e,t,n,t-r);if(n<r)return Du.pdf(e,t,r,n);for(var i=1,o=0,s=0;s<e;s++){while(i>1&&o<r)i*=1-n/(t-o),o++;i*=(r-s)*(n-s)/((s+1)*(t-n-r+s+1))}for(;o<r;o++)i*=1-n/(t-o);return Math.min(1,Math.max(0,i))},cdf:function e(t,n,r,i){if(t<0||t<r-(n-i))return 0;if(t>=i||t>=r)return 1;if(2*r>n)return 2*i>n?e(n-r-i+t,n,n-r,n-i):1-Du.cdf(i-t-1,n,n-r,i);if(2*i>n)return 1-Du.cdf(r-t-1,n,r,n-i);if(r<i)return Du.cdf(t,n,i,r);for(var o=1,s=1,a=0,l=0;l<t;l++){while(o>1&&a<i){var u=1-r/(n-a);s*=u,o*=u,a++}s*=(i-l)*(r-l)/((l+1)*(n-r-i+l+1)),o+=s}for(;a<i;a++)o*=1-r/(n-a);return Math.min(1,Math.max(0,o))}},Fu={pdf:function(e,t){return t=t>1e100?1e100:t,1/(Math.sqrt(t)*_u(.5,t/2))*Math.pow(1+e*e/t,-(t+1)/2)},cdf:function(e,t){var n=t/2;return Tu((e+Math.sqrt(e*e+t))/(2*Math.sqrt(e*e+t)),n,n)},inv:function(e,t){var n=Su(2*Math.min(e,1-e),.5*t,.5);return n=Math.sqrt(t*(1-n)/n),e>.5?n:-n}},Hu={pdf:function(e,t,n){return e<=0?0:Math.exp(-Math.log(e)-.5*Math.log(2*Math.PI)-Math.log(n)-Math.pow(Math.log(e)-t,2)/(2*n*n))},cdf:function(e,t,n){return e<0?0:.5+.5*cu((Math.log(e)-t)/Math.sqrt(2*n*n))},inv:function(e,t,n){return Math.exp(-1.4142135623730951*n*du(2*e)+t)}},Uu={pdf:function(e,t,n){return e===e>>>0&&(e<0?0:xu(e+t-1,t-1)*Math.pow(1-n,e)*Math.pow(n,t))},cdf:function(e,t,n){var r=0,i=0;if(e<0)return 0;for(;i<=e;i++)r+=Uu.pdf(i,t,n);return r}};function Bu(e){var t=0,n=e.length;while(--n>=0)t+=e[n];return t}function ju(e){return Bu(e)/e.length}function Yu(e){var t,n=ju(e),r=0,i=e.length;while(--i>=0)t=e[i]-n,r+=t*t;return r}function Vu(e,t){return Yu(e)/(e.length-(t?1:0))}function Wu(e,t){return Math.sqrt(Vu(e,t))}function zu(){var e,t=[].slice.call(arguments),n=new Array(2);return e=4===t.length?Math.abs(bu.inv(t[1]/2,0,1)*t[2]/Math.sqrt(t[3])):Math.abs(bu.inv(t[1]/2,0,1)*Wu(t[2])/Math.sqrt(t[2].length)),n[0]=t[0]-e,n[1]=t[0]+e,n}function Gu(){var e,t=[].slice.call(arguments),n=new Array(2);return e=4===t.length?Math.abs(Fu.inv(t[1]/2,t[3]-1)*t[2]/Math.sqrt(t[3])):Math.abs(Fu.inv(t[1]/2,t[2].length-1)*Wu(t[2],!0)/Math.sqrt(t[2].length)),n[0]=t[0]-e,n[1]=t[0]+e,n}function $u(e){var t=1,n=e.length;while(--n>=0)t*=e[n];return t}function qu(e){return Math.pow($u(e),1/e.length)}function Ku(e,t){var n,r=ju(e),i=ju(t),o=e.length,s=new Array(o);for(n=0;n<o;n++)s[n]=(e[n]-r)*(t[n]-i);return Bu(s)/(o-1)}function Xu(e,t){return Ku(e,t)/Wu(e,1)/Wu(t,1)}
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Ju extends Zr{erf(e,t){return this.runFunction(e.args,t,this.metadata("ERF"),((e,t)=>void 0===t?cu(e):cu(t)-cu(e)))}erfc(e,t){return this.runFunction(e.args,t,this.metadata("ERFC"),hu)}expondist(e,t){return this.runFunction(e.args,t,this.metadata("EXPON.DIST"),((e,t,n)=>n?fu.cdf(e,t):fu.pdf(e,t)))}fisher(e,t){return this.runFunction(e.args,t,this.metadata("FISHER"),(e=>Math.log((1+e)/(1-e))/2))}fisherinv(e,t){return this.runFunction(e.args,t,this.metadata("FISHERINV"),(e=>1-2/(Math.exp(2*e)+1)))}gamma(e,t){return this.runFunction(e.args,t,this.metadata("GAMMA"),pu)}gammadist(e,t){return this.runFunction(e.args,t,this.metadata("GAMMA.DIST"),((e,t,n,r)=>r?mu.cdf(e,t,n):mu.pdf(e,t,n)))}gammaln(e,t){return this.runFunction(e.args,t,this.metadata("GAMMALN"),gu)}gammainv(e,t){return this.runFunction(e.args,t,this.metadata("GAMMA.INV"),mu.inv)}gauss(e,t){return this.runFunction(e.args,t,this.metadata("GAUSS"),(e=>bu.cdf(e,0,1)-.5))}betadist(e,t){return this.runFunction(e.args,t,this.metadata("BETA.DIST"),((e,t,n,r,i,o)=>e<=i?new lr(Yn.NUM,Re.ValueSmall):e>=o?new lr(Yn.NUM,Re.ValueLarge):(e=(e-i)/(o-i),r?wu.cdf(e,t,n):wu.pdf(e,t,n))))}betainv(e,t){return this.runFunction(e.args,t,this.metadata("BETA.INV"),((e,t,n,r,i)=>r>=i?new lr(Yn.NUM,Re.WrongOrder):wu.inv(e,t,n)*(i-r)+r))}binomialdist(e,t){return this.runFunction(e.args,t,this.metadata("BINOM.DIST"),((e,t,n,r)=>e>t?new lr(Yn.NUM,Re.WrongOrder):(e=Math.trunc(e),t=Math.trunc(t),r?Cu.cdf(e,t,n):Cu.pdf(e,t,n))))}binomialinv(e,t){return this.runFunction(e.args,t,this.metadata("BINOM.INV"),((e,t,n)=>{e=Math.trunc(e);let r=-1,i=e;while(i>r+1){const o=Math.trunc((r+i)/2);Cu.cdf(o,e,t)>=n?i=o:r=o}return i}))}besselifn(e,t){return this.runFunction(e.args,t,this.metadata("BESSELI"),((e,t)=>lu(e,Math.trunc(t))))}besseljfn(e,t){return this.runFunction(e.args,t,this.metadata("BESSELJ"),((e,t)=>su(e,Math.trunc(t))))}besselkfn(e,t){return this.runFunction(e.args,t,this.metadata("BESSELK"),((e,t)=>uu(e,Math.trunc(t))))}besselyfn(e,t){return this.runFunction(e.args,t,this.metadata("BESSELY"),((e,t)=>au(e,Math.trunc(t))))}chisqdist(e,t){return this.runFunction(e.args,t,this.metadata("CHISQ.DIST"),((e,t,n)=>(t=Math.trunc(t),n?ku.cdf(e,t):ku.pdf(e,t))))}chisqdistrt(e,t){return this.runFunction(e.args,t,this.metadata("CHISQ.DIST.RT"),((e,t)=>1-ku.cdf(e,Math.trunc(t))))}chisqinv(e,t){return this.runFunction(e.args,t,this.metadata("CHISQ.INV"),((e,t)=>ku.inv(e,Math.trunc(t))))}chisqinvrt(e,t){return this.runFunction(e.args,t,this.metadata("CHISQ.INV.RT"),((e,t)=>ku.inv(1-e,Math.trunc(t))))}fdist(e,t){return this.runFunction(e.args,t,this.metadata("F.DIST"),((e,t,n,r)=>(t=Math.trunc(t),n=Math.trunc(n),r?Ou.cdf(e,t,n):Ou.pdf(e,t,n))))}fdistrt(e,t){return this.runFunction(e.args,t,this.metadata("F.DIST.RT"),((e,t,n)=>1-Ou.cdf(e,Math.trunc(t),Math.trunc(n))))}finv(e,t){return this.runFunction(e.args,t,this.metadata("F.INV"),((e,t,n)=>Ou.inv(e,Math.trunc(t),Math.trunc(n))))}finvrt(e,t){return this.runFunction(e.args,t,this.metadata("F.INV.RT"),((e,t,n)=>Ou.inv(1-e,Math.trunc(t),Math.trunc(n))))}weibulldist(e,t){return this.runFunction(e.args,t,this.metadata("WEIBULL.DIST"),((e,t,n,r)=>r?Iu.cdf(e,n,t):Iu.pdf(e,n,t)))}poissondist(e,t){return this.runFunction(e.args,t,this.metadata("POISSON.DIST"),((e,t,n)=>(e=Math.trunc(e),n?Pu.cdf(e,t):Pu.pdf(e,t))))}hypgeomdist(e,t){return this.runFunction(e.args,t,this.metadata("HYPGEOM.DIST"),((e,t,n,r,i)=>e>t||e>n||t>r||n>r||e+r<n+t?new lr(Yn.NUM,Re.ValueLarge):(e=Math.trunc(e),t=Math.trunc(t),n=Math.trunc(n),r=Math.trunc(r),i?Du.cdf(e,r,n,t):Du.pdf(e,r,n,t))))}tdist(e,t){return this.runFunction(e.args,t,this.metadata("T.DIST"),((e,t,n)=>(t=Math.trunc(t),n?Fu.cdf(e,t):Fu.pdf(e,t))))}tdist2t(e,t){return this.runFunction(e.args,t,this.metadata("T.DIST.2T"),((e,t)=>2*(1-Fu.cdf(e,Math.trunc(t)))))}tdistrt(e,t){return this.runFunction(e.args,t,this.metadata("T.DIST.RT"),((e,t)=>1-Fu.cdf(e,Math.trunc(t))))}tdistold(e,t){return this.runFunction(e.args,t,this.metadata("TDIST"),((e,t,n)=>n*(1-Fu.cdf(e,Math.trunc(t)))))}tinv(e,t){return this.runFunction(e.args,t,this.metadata("T.INV"),((e,t)=>Fu.inv(e,Math.trunc(t))))}tinv2t(e,t){return this.runFunction(e.args,t,this.metadata("T.INV.2T"),((e,t)=>Fu.inv(1-e/2,Math.trunc(t))))}lognormdist(e,t){return this.runFunction(e.args,t,this.metadata("LOGNORM.DIST"),((e,t,n,r)=>r?Hu.cdf(e,t,n):Hu.pdf(e,t,n)))}lognorminv(e,t){return this.runFunction(e.args,t,this.metadata("LOGNORM.INV"),((e,t,n)=>Hu.inv(e,t,n)))}normdist(e,t){return this.runFunction(e.args,t,this.metadata("NORM.DIST"),((e,t,n,r)=>r?bu.cdf(e,t,n):bu.pdf(e,t,n)))}norminv(e,t){return this.runFunction(e.args,t,this.metadata("NORM.INV"),((e,t,n)=>bu.inv(e,t,n)))}normsdist(e,t){return this.runFunction(e.args,t,this.metadata("NORM.S.DIST"),((e,t)=>t?bu.cdf(e,0,1):bu.pdf(e,0,1)))}normsinv(e,t){return this.runFunction(e.args,t,this.metadata("NORM.S.INV"),(e=>bu.inv(e,0,1)))}phi(e,t){return this.runFunction(e.args,t,this.metadata("PHI"),(e=>bu.pdf(e,0,1)))}negbinomdist(e,t){return this.runFunction(e.args,t,this.metadata("NEGBINOM.DIST"),((e,t,n,r)=>(e=Math.trunc(e),t=Math.trunc(t),r?Uu.cdf(e,t,n):Uu.pdf(e,t,n))))}confidencenorm(e,t){return this.runFunction(e.args,t,this.metadata("CONFIDENCE.NORM"),((e,t,n)=>zu(1,e,t,Math.trunc(n))[1]-1))}confidencet(e,t){return this.runFunction(e.args,t,this.metadata("CONFIDENCE.T"),((e,t,n)=>(n=Math.trunc(n),1===n?new lr(Yn.DIV_BY_ZERO):Gu(1,e,t,n)[1]-1)))}standardize(e,t){return this.runFunction(e.args,t,this.metadata("STANDARDIZE"),((e,t,n)=>(e-t)/n))}}Ju.implementedFunctions={ERF:{method:"erf",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,optionalArg:!0}]},ERFC:{method:"erfc",parameters:[{argumentType:Qr.NUMBER}]},"EXPON.DIST":{method:"expondist",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.BOOLEAN}]},FISHER:{method:"fisher",parameters:[{argumentType:Qr.NUMBER,greaterThan:-1,lessThan:1}]},FISHERINV:{method:"fisherinv",parameters:[{argumentType:Qr.NUMBER}]},GAMMA:{method:"gamma",parameters:[{argumentType:Qr.NUMBER}]},"GAMMA.DIST":{method:"gammadist",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.BOOLEAN}]},GAMMALN:{method:"gammaln",parameters:[{argumentType:Qr.NUMBER,greaterThan:0}]},"GAMMA.INV":{method:"gammainv",parameters:[{argumentType:Qr.NUMBER,minValue:0,lessThan:1},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0}]},GAUSS:{method:"gauss",parameters:[{argumentType:Qr.NUMBER}]},"BETA.DIST":{method:"betadist",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.BOOLEAN},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:1}]},"BETA.INV":{method:"betainv",parameters:[{argumentType:Qr.NUMBER,greaterThan:0,maxValue:1},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,defaultValue:0},{argumentType:Qr.NUMBER,defaultValue:1}]},"BINOM.DIST":{method:"binomialdist",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0,maxValue:1},{argumentType:Qr.BOOLEAN}]},"BINOM.INV":{method:"binomialinv",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0,maxValue:1},{argumentType:Qr.NUMBER,greaterThan:0,lessThan:1}]},BESSELI:{method:"besselifn",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:0}]},BESSELJ:{method:"besseljfn",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:0}]},BESSELK:{method:"besselkfn",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:0}]},BESSELY:{method:"besselyfn",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:0}]},"CHISQ.DIST":{method:"chisqdist",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:1,maxValue:1e10},{argumentType:Qr.BOOLEAN}]},"CHISQ.DIST.RT":{method:"chisqdistrt",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:1,maxValue:1e10}]},"CHISQ.INV":{method:"chisqinv",parameters:[{argumentType:Qr.NUMBER,minValue:0,maxValue:1},{argumentType:Qr.NUMBER,minValue:1,maxValue:1e10}]},"CHISQ.INV.RT":{method:"chisqinvrt",parameters:[{argumentType:Qr.NUMBER,minValue:0,maxValue:1},{argumentType:Qr.NUMBER,minValue:1}]},"F.DIST":{method:"fdist",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:1},{argumentType:Qr.NUMBER,minValue:1},{argumentType:Qr.BOOLEAN}]},"F.DIST.RT":{method:"fdistrt",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:1},{argumentType:Qr.NUMBER,minValue:1}]},"F.INV":{method:"finv",parameters:[{argumentType:Qr.NUMBER,minValue:0,maxValue:1},{argumentType:Qr.NUMBER,minValue:1},{argumentType:Qr.NUMBER,minValue:1}]},"F.INV.RT":{method:"finvrt",parameters:[{argumentType:Qr.NUMBER,minValue:0,maxValue:1},{argumentType:Qr.NUMBER,minValue:1},{argumentType:Qr.NUMBER,minValue:1}]},"WEIBULL.DIST":{method:"weibulldist",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.BOOLEAN}]},"POISSON.DIST":{method:"poissondist",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.BOOLEAN}]},"HYPGEOM.DIST":{method:"hypgeomdist",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.BOOLEAN}]},"T.DIST":{method:"tdist",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:1},{argumentType:Qr.BOOLEAN}]},"T.DIST.2T":{method:"tdist2t",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:1}]},"T.DIST.RT":{method:"tdistrt",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,minValue:1}]},TDIST:{method:"tdistold",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:1},{argumentType:Qr.INTEGER,minValue:1,maxValue:2}]},"T.INV":{method:"tinv",parameters:[{argumentType:Qr.NUMBER,greaterThan:0,lessThan:1},{argumentType:Qr.NUMBER,minValue:1}]},"T.INV.2T":{method:"tinv2t",parameters:[{argumentType:Qr.NUMBER,greaterThan:0,maxValue:1},{argumentType:Qr.NUMBER,minValue:1}]},"LOGNORM.DIST":{method:"lognormdist",parameters:[{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.BOOLEAN}]},"LOGNORM.INV":{method:"lognorminv",parameters:[{argumentType:Qr.NUMBER,greaterThan:0,lessThan:1},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,greaterThan:0}]},"NORM.DIST":{method:"normdist",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.BOOLEAN}]},"NORM.INV":{method:"norminv",parameters:[{argumentType:Qr.NUMBER,greaterThan:0,lessThan:1},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,greaterThan:0}]},"NORM.S.DIST":{method:"normsdist",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.BOOLEAN}]},"NORM.S.INV":{method:"normsinv",parameters:[{argumentType:Qr.NUMBER,greaterThan:0,lessThan:1}]},PHI:{method:"phi",parameters:[{argumentType:Qr.NUMBER}]},"NEGBINOM.DIST":{method:"negbinomdist",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:1},{argumentType:Qr.NUMBER,minValue:0,maxValue:1},{argumentType:Qr.BOOLEAN}]},"CONFIDENCE.NORM":{method:"confidencenorm",parameters:[{argumentType:Qr.NUMBER,greaterThan:0,lessThan:1},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,minValue:1}]},"CONFIDENCE.T":{method:"confidencet",parameters:[{argumentType:Qr.NUMBER,greaterThan:0,lessThan:1},{argumentType:Qr.NUMBER,greaterThan:0},{argumentType:Qr.NUMBER,minValue:1}]},STANDARDIZE:{method:"standardize",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,greaterThan:0}]}},Ju.aliases={NEGBINOMDIST:"NEGBINOM.DIST",EXPONDIST:"EXPON.DIST",BETADIST:"BETA.DIST",NORMDIST:"NORM.DIST",NORMINV:"NORM.INV",NORMSDIST:"NORM.S.DIST",NORMSINV:"NORM.S.INV",LOGNORMDIST:"LOGNORM.DIST",LOGINV:"LOGNORM.INV",TINV:"T.INV.2T",HYPGEOMDIST:"HYPGEOM.DIST",POISSON:"POISSON.DIST",WEIBULL:"WEIBULL.DIST",FINV:"F.INV.RT",FDIST:"F.DIST.RT",CHIDIST:"CHISQ.DIST.RT",CHIINV:"CHISQ.INV.RT",GAMMADIST:"GAMMA.DIST","GAMMALN.PRECISE":"GAMMALN",GAMMAINV:"GAMMA.INV",BETAINV:"BETA.INV",BINOMDIST:"BINOM.DIST",CONFIDENCE:"CONFIDENCE.NORM",CRITBINOM:"BINOM.INV",WEIBULLDIST:"WEIBULL.DIST",TINV2T:"T.INV.2T",TDISTRT:"T.DIST.RT",TDIST2T:"T.DIST.2T",FINVRT:"F.INV.RT",FDISTRT:"F.DIST.RT",CHIDISTRT:"CHISQ.DIST.RT",CHIINVRT:"CHISQ.INV.RT",LOGNORMINV:"LOGNORM.INV",POISSONDIST:"POISSON.DIST"};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class Qu extends Zr{fact(e,t){return this.runFunction(e.args,t,this.metadata("FACT"),(e=>{e=Math.trunc(e);let t=1;for(let n=1;n<=e;n++)t*=n;return t}))}factdouble(e,t){return this.runFunction(e.args,t,this.metadata("FACTDOUBLE"),(e=>{e=Math.trunc(e);let t=1;for(let n=e;n>=1;n-=2)t*=n;return t}))}combin(e,t){return this.runFunction(e.args,t,this.metadata("COMBIN"),((e,t)=>t>e?new lr(Yn.NUM,Re.WrongOrder):(e=Math.trunc(e),t=Math.trunc(t),Zu(e,t))))}combina(e,t){return this.runFunction(e.args,t,this.metadata("COMBINA"),((e,t)=>(e=Math.trunc(e),t=Math.trunc(t),e+t-1>=1030?new lr(Yn.NUM,Re.ValueLarge):0===e&&0===t?1:Zu(e+t-1,t))))}gcd(e,t){return this.runFunction(e.args,t,this.metadata("GCD"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersCoerceRangesDropNulls(e);if(t instanceof lr)return t;let n=0;for(const r of t){if(r<0)return new lr(Yn.NUM,Re.ValueSmall);n=ec(n,Math.trunc(r))}return n>Number.MAX_SAFE_INTEGER?new lr(Yn.NUM,Re.ValueLarge):n}))}lcm(e,t){return this.runFunction(e.args,t,this.metadata("LCM"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersCoerceRangesDropNulls(e);if(t instanceof lr)return t;let n=1;for(const r of t){if(r<0)return new lr(Yn.NUM,Re.ValueSmall);n=tc(n,Math.trunc(r))}return n>Number.MAX_SAFE_INTEGER?new lr(Yn.NUM,Re.ValueLarge):n}))}mround(e,t){return this.runFunction(e.args,t,this.metadata("MROUND"),((e,t)=>0===t?0:e>0&&t<0||e<0&&t>0?new lr(Yn.NUM,Re.DistinctSigns):Math.round(e/t)*t))}multinomial(e,t){return this.runFunction(e.args,t,this.metadata("MULTINOMIAL"),((...e)=>{let t=0,n=1;for(let r of e){if(r<0)return new lr(Yn.NUM,Re.ValueSmall);r=Math.trunc(r);for(let e=1;e<=r;e++)n*=(t+e)/e;t+=r}return Math.round(n)}))}quotient(e,t){return this.runFunction(e.args,t,this.metadata("QUOTIENT"),((e,t)=>0===t?new lr(Yn.DIV_BY_ZERO):Math.trunc(e/t)))}seriessum(e,t){return this.runFunction(e.args,t,this.metadata("SERIESSUM"),((e,t,n,r)=>{const i=this.arithmeticHelper.manyToOnlyNumbersDropNulls(r.valuesFromTopLeftCorner());if(i instanceof lr)return i;let o=0;i.reverse();for(const s of i)o*=Math.pow(e,n),o+=s;return o*Math.pow(e,t)}))}sign(e,t){return this.runFunction(e.args,t,this.metadata("SIGN"),(e=>e>0?1:e<0?-1:0))}sumx2my2(e,t){return this.runFunction(e.args,t,this.metadata("SUMX2MY2"),((e,t)=>{const n=e.valuesFromTopLeftCorner(),r=t.valuesFromTopLeftCorner();if(n.length!==r.length)return new lr(Yn.NA,Re.EqualLength);const i=n.length;let o=0;for(let s=0;s<i;s++){const e=n[s],t=r[s];if(e instanceof lr)return e;if(t instanceof lr)return t;"number"===typeof e&&"number"===typeof t&&(o+=Math.pow(e,2)-Math.pow(t,2))}return o}))}sumx2py2(e,t){return this.runFunction(e.args,t,this.metadata("SUMX2PY2"),((e,t)=>{const n=e.valuesFromTopLeftCorner(),r=t.valuesFromTopLeftCorner();if(n.length!==r.length)return new lr(Yn.NA,Re.EqualLength);const i=n.length;let o=0;for(let s=0;s<i;s++){const e=n[s],t=r[s];if(e instanceof lr)return e;if(t instanceof lr)return t;"number"===typeof e&&"number"===typeof t&&(o+=Math.pow(e,2)+Math.pow(t,2))}return o}))}sumxmy2(e,t){return this.runFunction(e.args,t,this.metadata("SUMXMY2"),((e,t)=>{const n=e.valuesFromTopLeftCorner(),r=t.valuesFromTopLeftCorner();if(n.length!==r.length)return new lr(Yn.NA,Re.EqualLength);const i=n.length;let o=0;for(let s=0;s<i;s++){const e=n[s],t=r[s];if(e instanceof lr)return e;if(t instanceof lr)return t;"number"===typeof e&&"number"===typeof t&&(o+=Math.pow(e-t,2))}return o}))}}function Zu(e,t){2*t>e&&(t=e-t);let n=1;for(let r=1;r<=t;r++)n*=(e-t+r)/r;return Math.round(n)}function ec(e,t){e<t&&([e,t]=[t,e]);while(t>0)[e,t]=[t,e%t];return e}function tc(e,t){return 0===e||0===t?0:e*(t/ec(e,t))}Qu.implementedFunctions={FACT:{method:"fact",parameters:[{argumentType:Qr.NUMBER,minValue:0,maxValue:170}]},FACTDOUBLE:{method:"factdouble",parameters:[{argumentType:Qr.NUMBER,minValue:0,maxValue:288}]},COMBIN:{method:"combin",parameters:[{argumentType:Qr.NUMBER,minValue:0,lessThan:1030},{argumentType:Qr.NUMBER,minValue:0}]},COMBINA:{method:"combina",parameters:[{argumentType:Qr.NUMBER,minValue:0},{argumentType:Qr.NUMBER,minValue:0}]},GCD:{method:"gcd",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},LCM:{method:"lcm",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},MROUND:{method:"mround",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]},MULTINOMIAL:{method:"multinomial",parameters:[{argumentType:Qr.NUMBER}],repeatLastArgs:1,expandRanges:!0},QUOTIENT:{method:"quotient",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER}]},SERIESSUM:{method:"seriessum",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.RANGE}]},SIGN:{method:"sign",parameters:[{argumentType:Qr.NUMBER}]},SUMX2MY2:{method:"sumx2my2",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},SUMX2PY2:{method:"sumx2py2",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},SUMXMY2:{method:"sumxmy2",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class nc extends Zr{complex(e,t){return this.runFunction(e.args,t,this.metadata("COMPLEX"),((e,t,n)=>"i"!==n&&"j"!==n?new lr(Yn.VALUE,Re.ShouldBeIorJ):Lr([e,t],n)))}imabs(e,t){return this.runFunction(e.args,t,this.metadata("IMABS"),dc)}imaginary(e,t){return this.runFunction(e.args,t,this.metadata("IMAGINARY"),(([e,t])=>t))}imreal(e,t){return this.runFunction(e.args,t,this.metadata("IMREAL"),(([e,t])=>e))}imargument(e,t){return this.runFunction(e.args,t,this.metadata("IMARGUMENT"),(([e,t])=>0===e&&0===t?new lr(Yn.DIV_BY_ZERO):Math.atan2(t,e)))}imconjugate(e,t){return this.runFunction(e.args,t,this.metadata("IMCONJUGATE"),(([e,t])=>Lr([e,-t])))}imcos(e,t){return this.runFunction(e.args,t,this.metadata("IMCOS"),(e=>Lr(ac(e))))}imcosh(e,t){return this.runFunction(e.args,t,this.metadata("IMCOSH"),(e=>Lr(lc(e))))}imcot(e,t){return this.runFunction(e.args,t,this.metadata("IMCOT"),(e=>Lr(sc(ac(e),uc(e)))))}imcsc(e,t){return this.runFunction(e.args,t,this.metadata("IMCSC"),(e=>Lr(sc([1,0],uc(e)))))}imcsch(e,t){return this.runFunction(e.args,t,this.metadata("IMCSCH"),(e=>Lr(sc([1,0],cc(e)))))}imsec(e,t){return this.runFunction(e.args,t,this.metadata("IMSEC"),(e=>Lr(sc([1,0],ac(e)))))}imsech(e,t){return this.runFunction(e.args,t,this.metadata("IMSECH"),(e=>Lr(sc([1,0],lc(e)))))}imsin(e,t){return this.runFunction(e.args,t,this.metadata("IMSIN"),(e=>Lr(uc(e))))}imsinh(e,t){return this.runFunction(e.args,t,this.metadata("IMSINH"),(e=>Lr(cc(e))))}imtan(e,t){return this.runFunction(e.args,t,this.metadata("IMTAN"),(e=>Lr(sc(uc(e),ac(e)))))}imdiv(e,t){return this.runFunction(e.args,t,this.metadata("IMDIV"),((e,t)=>Lr(sc(e,t))))}improduct(e,t){return this.runFunction(e.args,t,this.metadata("IMPRODUCT"),((...e)=>{const t=this.arithmeticHelper.coerceComplexExactRanges(e);if(t instanceof lr)return t;let n=[1,0];for(const r of t)n=oc(n,r);return Lr(n)}))}imsum(e,t){return this.runFunction(e.args,t,this.metadata("IMSUM"),((...e)=>{const t=this.arithmeticHelper.coerceComplexExactRanges(e);if(t instanceof lr)return t;let n=[0,0];for(const r of t)n=rc(n,r);return Lr(n)}))}imsub(e,t){return this.runFunction(e.args,t,this.metadata("IMSUB"),((e,t)=>Lr(ic(e,t))))}imexp(e,t){return this.runFunction(e.args,t,this.metadata("IMEXP"),(e=>Lr(hc(e))))}imln(e,t){return this.runFunction(e.args,t,this.metadata("IMLN"),(e=>Lr(fc(e))))}imlog10(e,t){return this.runFunction(e.args,t,this.metadata("IMLOG10"),(e=>{const[t,n]=fc(e),r=Math.log(10);return Lr([t/r,n/r])}))}imlog2(e,t){return this.runFunction(e.args,t,this.metadata("IMLOG2"),(e=>{const[t,n]=fc(e),r=Math.log(2);return Lr([t/r,n/r])}))}impower(e,t){return this.runFunction(e.args,t,this.metadata("IMPOWER"),((e,t)=>Lr(pc(e,t))))}imsqrt(e,t){return this.runFunction(e.args,t,this.metadata("IMSQRT"),(e=>Lr(pc(e,.5))))}}function rc([e,t],[n,r]){return[e+n,t+r]}function ic([e,t],[n,r]){return[e-n,t-r]}function oc([e,t],[n,r]){return[e*n-t*r,e*r+n*t]}function sc([e,t],[n,r]){const i=Math.pow(n,2)+Math.pow(r,2),[o,s]=oc([e,t],[n,-r]);return[o/i,s/i]}function ac([e,t]){return[Math.cos(e)*Math.cosh(t),-Math.sin(e)*Math.sinh(t)]}function lc([e,t]){return[Math.cosh(e)*Math.cos(t),Math.sinh(e)*Math.sin(t)]}function uc([e,t]){return[Math.sin(e)*Math.cosh(t),Math.cos(e)*Math.sinh(t)]}function cc([e,t]){return[Math.sinh(e)*Math.cos(t),Math.cosh(e)*Math.sin(t)]}function hc([e,t]){return[Math.exp(e)*Math.cos(t),Math.exp(e)*Math.sin(t)]}function dc([e,t]){return Math.sqrt(e*e+t*t)}function fc([e,t]){return[Math.log(dc([e,t])),Math.atan2(t,e)]}function pc(e,t){const[n,r]=fc(e);return hc([t*n,t*r])}nc.implementedFunctions={COMPLEX:{method:"complex",parameters:[{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER},{argumentType:Qr.STRING,defaultValue:"i"}]},IMABS:{method:"imabs",parameters:[{argumentType:Qr.COMPLEX}]},IMAGINARY:{method:"imaginary",parameters:[{argumentType:Qr.COMPLEX}]},IMREAL:{method:"imreal",parameters:[{argumentType:Qr.COMPLEX}]},IMARGUMENT:{method:"imargument",parameters:[{argumentType:Qr.COMPLEX}]},IMCONJUGATE:{method:"imconjugate",parameters:[{argumentType:Qr.COMPLEX}]},IMCOS:{method:"imcos",parameters:[{argumentType:Qr.COMPLEX}]},IMCOSH:{method:"imcosh",parameters:[{argumentType:Qr.COMPLEX}]},IMCOT:{method:"imcot",parameters:[{argumentType:Qr.COMPLEX}]},IMCSC:{method:"imcsc",parameters:[{argumentType:Qr.COMPLEX}]},IMCSCH:{method:"imcsch",parameters:[{argumentType:Qr.COMPLEX}]},IMSEC:{method:"imsec",parameters:[{argumentType:Qr.COMPLEX}]},IMSECH:{method:"imsech",parameters:[{argumentType:Qr.COMPLEX}]},IMSIN:{method:"imsin",parameters:[{argumentType:Qr.COMPLEX}]},IMSINH:{method:"imsinh",parameters:[{argumentType:Qr.COMPLEX}]},IMTAN:{method:"imtan",parameters:[{argumentType:Qr.COMPLEX}]},IMDIV:{method:"imdiv",parameters:[{argumentType:Qr.COMPLEX},{argumentType:Qr.COMPLEX}]},IMPRODUCT:{method:"improduct",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},IMSUM:{method:"imsum",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},IMSUB:{method:"imsub",parameters:[{argumentType:Qr.COMPLEX},{argumentType:Qr.COMPLEX}]},IMEXP:{method:"imexp",parameters:[{argumentType:Qr.COMPLEX}]},IMLN:{method:"imln",parameters:[{argumentType:Qr.COMPLEX}]},IMLOG10:{method:"imlog10",parameters:[{argumentType:Qr.COMPLEX}]},IMLOG2:{method:"imlog2",parameters:[{argumentType:Qr.COMPLEX}]},IMPOWER:{method:"impower",parameters:[{argumentType:Qr.COMPLEX},{argumentType:Qr.NUMBER}]},IMSQRT:{method:"imsqrt",parameters:[{argumentType:Qr.COMPLEX}]}};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class mc extends Zr{avedev(e,t){return this.runFunction(e.args,t,this.metadata("AVEDEV"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersExactRanges(e);if(t instanceof lr)return t;if(0===t.length)return new lr(Yn.DIV_BY_ZERO);const n=ju(t);return t.reduce(((e,t)=>e+Math.abs(t-n)),0)/t.length}))}devsq(e,t){return this.runFunction(e.args,t,this.metadata("DEVSQ"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersExactRanges(e);return t instanceof lr?t:0===t.length?0:Yu(t)}))}geomean(e,t){return this.runFunction(e.args,t,this.metadata("GEOMEAN"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersExactRanges(e);if(t instanceof lr)return t;if(0===t.length)return new lr(Yn.NUM,Re.OneValue);for(const n of t)if(n<=0)return new lr(Yn.NUM,Re.ValueSmall);return qu(t)}))}harmean(e,t){return this.runFunction(e.args,t,this.metadata("HARMEAN"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersExactRanges(e);if(t instanceof lr)return t;if(0===t.length)return new lr(Yn.NUM,Re.OneValue);for(const n of t)if(n<=0)return new lr(Yn.NUM,Re.ValueSmall);return t.length/t.reduce(((e,t)=>e+1/t),0)}))}correl(e,t){return this.runFunction(e.args,t,this.metadata("CORREL"),((e,t)=>{if(e.numberOfElements()!==t.numberOfElements())return new lr(Yn.NA,Re.EqualLength);const n=gc(e,t);if(n instanceof lr)return n;const r=n[0].length;return r<=1?new lr(Yn.DIV_BY_ZERO,Re.TwoValues):Xu(n[0],n[1])}))}rsq(e,t){return this.runFunction(e.args,t,this.metadata("RSQ"),((e,t)=>{if(e.numberOfElements()!==t.numberOfElements())return new lr(Yn.NA,Re.EqualLength);const n=gc(e,t);if(n instanceof lr)return n;const r=n[0].length;return r<=1?new lr(Yn.DIV_BY_ZERO,Re.TwoValues):Math.pow(Xu(n[0],n[1]),2)}))}covariancep(e,t){return this.runFunction(e.args,t,this.metadata("COVARIANCE.P"),((e,t)=>{if(e.numberOfElements()!==t.numberOfElements())return new lr(Yn.NA,Re.EqualLength);const n=gc(e,t);if(n instanceof lr)return n;const r=n[0].length;return r<1?new lr(Yn.DIV_BY_ZERO,Re.OneValue):1===r?0:Ku(n[0],n[1])*(r-1)/r}))}covariances(e,t){return this.runFunction(e.args,t,this.metadata("COVARIANCE.S"),((e,t)=>{if(e.numberOfElements()!==t.numberOfElements())return new lr(Yn.NA,Re.EqualLength);const n=gc(e,t);if(n instanceof lr)return n;const r=n[0].length;return r<=1?new lr(Yn.DIV_BY_ZERO,Re.TwoValues):Ku(n[0],n[1])}))}ztest(e,t){return this.runFunction(e.args,t,this.metadata("Z.TEST"),((e,t,n)=>{const r=this.arithmeticHelper.manyToExactNumbers(e.valuesFromTopLeftCorner());if(r instanceof lr)return r;const i=r.length;if(void 0===n){if(i<2)return new lr(Yn.DIV_BY_ZERO,Re.TwoValues);n=Wu(r,!0)}return i<1?new lr(Yn.NA,Re.OneValue):0===n?new lr(Yn.DIV_BY_ZERO):1-bu.cdf((ju(r)-t)/(n/Math.sqrt(i)),0,1)}))}ftest(e,t){return this.runFunction(e.args,t,this.metadata("F.TEST"),((e,t)=>{const n=this.arithmeticHelper.manyToExactNumbers(e.valuesFromTopLeftCorner()),r=this.arithmeticHelper.manyToExactNumbers(t.valuesFromTopLeftCorner());if(n instanceof lr)return n;if(r instanceof lr)return r;if(n.length<=1||r.length<=1)return new lr(Yn.DIV_BY_ZERO);const i=Vu(n,!0),o=Vu(r,!0);if(0===i||0===o)return new lr(Yn.DIV_BY_ZERO);const s=i/o,a=Ou.cdf(s,n.length-1,r.length-1);return 2*Math.min(a,1-a)}))}steyx(e,t){return this.runFunction(e.args,t,this.metadata("STEYX"),((e,t)=>{if(e.numberOfElements()!==t.numberOfElements())return new lr(Yn.NA,Re.EqualLength);const n=gc(e,t);if(n instanceof lr)return n;const r=n[0].length;return r<=2?new lr(Yn.DIV_BY_ZERO,Re.ThreeValues):Math.sqrt((Yu(n[0])-Math.pow(Ku(n[0],n[1])*(r-1),2)/Yu(n[1]))/(r-2))}))}slope(e,t){return this.runFunction(e.args,t,this.metadata("SLOPE"),((e,t)=>{if(e.numberOfElements()!==t.numberOfElements())return new lr(Yn.NA,Re.EqualLength);const n=gc(e,t);if(n instanceof lr)return n;const r=n[0].length;return r<=1?new lr(Yn.DIV_BY_ZERO,Re.TwoValues):Ku(n[0],n[1])*(r-1)/Yu(n[1])}))}chisqtest(e,t){return this.runFunction(e.args,t,this.metadata("CHISQ.TEST"),((e,t)=>{const n=e.height(),r=e.width();if(t.height()!==n||t.width()!==r)return new lr(Yn.NA,Re.EqualLength);const i=gc(e,t);if(i instanceof lr)return i;if(i[0].length<=1)return new lr(Yn.DIV_BY_ZERO,Re.TwoValues);let o=0;for(let s=0;s<i[0].length;s++){if(0===i[1][s])return new lr(Yn.DIV_BY_ZERO);o+=Math.pow(i[0][s]-i[1][s],2)/i[1][s]}return o<0?new lr(Yn.NUM,Re.NaN):1-ku.cdf(o,n>1&&r>1?(n-1)*(r-1):n*r-1)}))}ttest(e,t){return this.runFunction(e.args,t,this.metadata("T.TEST"),((e,t,n,r)=>{const i=this.arithmeticHelper.manyToExactNumbers(e.valuesFromTopLeftCorner()),o=this.arithmeticHelper.manyToExactNumbers(t.valuesFromTopLeftCorner());if(i instanceof lr)return i;if(o instanceof lr)return o;const s=i.length,a=o.length;if(1===r){if(a!==s)return new lr(Yn.NA,Re.EqualLength);if(s<=1)return new lr(Yn.DIV_BY_ZERO,Re.TwoValues);const e=Array(s);for(let n=0;n<s;n++)e[n]=i[n]-o[n];const t=Wu(e,!0);if(0===t)return new lr(Yn.DIV_BY_ZERO);const r=Math.abs(Math.sqrt(s)*ju(e)/t);return n*(1-Fu.cdf(r,s-1))}if(2===r){if(s<=1||a<=1)return new lr(Yn.DIV_BY_ZERO,Re.TwoValues);const e=(Yu(i)+Yu(o))/(s+a-2);if(0===e)return new lr(Yn.DIV_BY_ZERO);const t=Math.abs((ju(i)-ju(o))/Math.sqrt(e*(1/s+1/a)));return n*(1-Fu.cdf(t,s+a-2))}{if(s<=1||a<=1)return new lr(Yn.DIV_BY_ZERO,Re.TwoValues);const e=Vu(i,!0),t=Vu(o,!0);if(0===e&&0===t)return new lr(Yn.DIV_BY_ZERO);const r=Math.abs((ju(i)-ju(o))/Math.sqrt(e/s+t/a)),l=Math.pow(e/s+t/a,2)/(Math.pow(e/s,2)/(s-1)+Math.pow(t/a,2)/(a-1));return n*(1-Fu.cdf(r,l))}}))}skew(e,t){return this.runFunction(e.args,t,this.metadata("SKEW"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersExactRanges(e);if(t instanceof lr)return t;const n=t.length;if(n<3)return new lr(Yn.DIV_BY_ZERO,Re.ThreeValues);const r=ju(t),i=Wu(t,!0);return 0===i?new lr(Yn.DIV_BY_ZERO):t.reduce(((e,t)=>e+Math.pow((t-r)/i,3)),0)*n/(n-1)/(n-2)}))}skewp(e,t){return this.runFunction(e.args,t,this.metadata("SKEW.P"),((...e)=>{const t=this.arithmeticHelper.coerceNumbersExactRanges(e);if(t instanceof lr)return t;const n=t.length;if(n<3)return new lr(Yn.DIV_BY_ZERO,Re.ThreeValues);const r=ju(t),i=Wu(t,!1);return 0===i?new lr(Yn.DIV_BY_ZERO):t.reduce(((e,t)=>e+Math.pow((t-r)/i,3)),0)/n}))}}function gc(e,t){const n=e.iterateValuesFromTopLeftCorner(),r=t.iterateValuesFromTopLeftCorner();let i,o;const s=[],a=[];while(i=n.next(),o=r.next(),!i.done&&!o.done){const e=i.value,t=o.value;if(e instanceof lr)return e;if(t instanceof lr)return t;Nt(e)&&Nt(t)&&(s.push(Et(e)),a.push(Et(t)))}return[s,a]}mc.implementedFunctions={AVEDEV:{method:"avedev",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},DEVSQ:{method:"devsq",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},GEOMEAN:{method:"geomean",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},HARMEAN:{method:"harmean",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},CORREL:{method:"correl",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},RSQ:{method:"rsq",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},"COVARIANCE.P":{method:"covariancep",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},"COVARIANCE.S":{method:"covariances",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},"Z.TEST":{method:"ztest",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.NUMBER},{argumentType:Qr.NUMBER,optionalArg:!0}]},"F.TEST":{method:"ftest",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},STEYX:{method:"steyx",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},SLOPE:{method:"slope",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},"CHISQ.TEST":{method:"chisqtest",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE}]},"T.TEST":{method:"ttest",parameters:[{argumentType:Qr.RANGE},{argumentType:Qr.RANGE},{argumentType:Qr.INTEGER,minValue:1,maxValue:2},{argumentType:Qr.INTEGER,minValue:1,maxValue:3}]},SKEW:{method:"skew",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1},"SKEW.P":{method:"skewp",parameters:[{argumentType:Qr.ANY}],repeatLastArgs:1}},mc.aliases={COVAR:"COVARIANCE.P",FTEST:"F.TEST",PEARSON:"CORREL",ZTEST:"Z.TEST",CHITEST:"CHISQ.TEST",TTEST:"T.TEST",COVARIANCEP:"COVARIANCE.P",COVARIANCES:"COVARIANCE.S",SKEWP:"SKEW.P"};
/**
 * @license
 * Copyright (c) 2024 Handsoncode. All rights reserved.
 */
class vc extends ha{}vc.HyperFormula=ha,vc.ErrorType=Yn,vc.CellError=lr,vc.CellType=Vn,vc.CellValueType=nr,vc.CellValueDetailedType=rr,vc.DetailedCellError=ii,vc.ExportedCellChange=Rs,vc.ExportedNamedExpressionChange=xs,vc.ConfigValueTooBigError=ln,vc.ConfigValueTooSmallError=an,vc.EvaluationSuspendedError=cn,vc.ExpectedOneOfValuesError=un,vc.ExpectedValueOfTypeError=on,vc.ArraySize=ei,vc.SimpleRangeValue=Dt,vc.EmptyValue=_t,vc.FunctionPlugin=Zr,vc.FunctionArgumentType=Qr,vc.FunctionPluginValidationError=mn,vc.InvalidAddressError=$t,vc.InvalidArgumentsError=qt,vc.LanguageNotRegisteredError=fn,vc.LanguageAlreadyRegisteredError=pn,vc.MissingTranslationError=hn,vc.NamedExpressionDoesNotExistError=Qt,vc.NamedExpressionNameIsAlreadyTakenError=Xt,vc.NamedExpressionNameIsInvalidError=Jt,vc.NoOperationToRedoError=en,vc.NoOperationToUndoError=Zt,vc.NoRelativeAddressesAllowedError=bn,vc.NoSheetWithIdError=Yt,vc.NoSheetWithNameError=Vt,vc.NotAFormulaError=Gt,vc.NothingToPasteError=tn,vc.ProtectedFunctionTranslationError=dn,vc.SheetNameAlreadyTakenError=Wt,vc.SheetSizeLimitExceededError=zt,vc.SourceLocationHasArrayError=vn,vc.TargetLocationHasArrayError=yn,vc.UnableToParseError=rn;const yc=fa.defaultConfig.language;ha.registerLanguage(yc,ya),ha.languages[ya.langCode]=ya;for(const wc of Object.getOwnPropertyNames(o))wc.startsWith("_")||ha.registerFunctionPlugin(o[wc]);var bc=vc},31195:function(e,t,n){"use strict";n.r(t),n.d(t,{Alternation:function(){return Je},CstParser:function(){return Jr},EMPTY_ALT:function(){return Kr},EOF:function(){return He},EarlyExitException:function(){return sr},EmbeddedActionsParser:function(){return Qr},Flat:function(){return ze},GAstVisitor:function(){return rt},Lexer:function(){return Se},LexerDefinitionErrorType:function(){return we},MismatchedTokenException:function(){return rr},NoViableAltException:function(){return ir},NonTerminal:function(){return Ve},NotAllInputParsedException:function(){return or},Option:function(){return Ge},Parser:function(){return Xr},ParserDefinitionErrorType:function(){return Gr},Repetition:function(){return Ke},RepetitionMandatory:function(){return $e},RepetitionMandatoryWithSeparator:function(){return qe},RepetitionWithSeparator:function(){return Xe},Rule:function(){return We},Terminal:function(){return Qe},VERSION:function(){return r},assignOccurrenceIndices:function(){return Xn},clearCache:function(){return vi},createSyntaxDiagramsCode:function(){return Zr},createToken:function(){return De},createTokenInstance:function(){return Ue},defaultGrammarResolverErrorProvider:function(){return Vn},defaultGrammarValidatorErrorProvider:function(){return Wn},defaultLexerErrorProvider:function(){return _e},defaultParserErrorProvider:function(){return Yn},generateParserFactory:function(){return mi},generateParserModule:function(){return gi},isRecognitionException:function(){return nr},resolveGrammar:function(){return qn},serializeGrammar:function(){return Ze},serializeProduction:function(){return et},tokenLabel:function(){return Te},tokenMatcher:function(){return Be},tokenName:function(){return Me},validateGrammar:function(){return Kn}});var r="6.5.0",i=n(15527),o=n(48214),s={},a=new o.RegExpParser;function l(e){var t=e.toString();if(s.hasOwnProperty(t))return s[t];var n=a.pattern(t);return s[t]=n,n}function u(){s={}}var c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h="Complement Sets are not supported for first char optimization",d='Unable to use "first char" lexer optimizations:\n';function f(e,t){void 0===t&&(t=!1);try{var n=l(e),r=p(n.value,{},n.flags.ignoreCase);return r}catch(a){if(a.message===h)t&&(0,i.x5)(d+"\tUnable to optimize: < "+e.toString()+" >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.");else{var s="";t&&(s="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),(0,i.Zi)(d+"\n\tFailed parsing: < "+e.toString()+" >\n\tUsing the regexp-to-ast library version: "+o.VERSION+"\n\tPlease open an issue at: https://github.com/bd82/regexp-to-ast/issues"+s)}}return[]}function p(e,t,n){switch(e.type){case"Disjunction":for(var r=0;r<e.value.length;r++)p(e.value[r],t,n);break;case"Alternative":var o=e.value;for(r=0;r<o.length;r++){var s=o[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var a=s;switch(a.type){case"Character":m(a.value,t,n);break;case"Set":if(!0===a.complement)throw Error(h);(0,i.jJ)(a.value,(function(e){if("number"===typeof e)m(e,t,n);else{var r=e;if(!0===n)for(var i=r.from;i<=r.to;i++)m(i,t,n);else{for(i=r.from;i<=r.to&&i<te;i++)m(i,t,n);if(r.to>=te)for(var o=r.from>=te?r.from:te,s=r.to,a=ne(o),l=ne(s),u=a;u<=l;u++)t[u]=u}}}));break;case"Group":p(a.value,t,n);break;default:throw Error("Non Exhaustive Match")}var l=void 0!==a.quantifier&&0===a.quantifier.atLeast;if("Group"===a.type&&!1===y(a)||"Group"!==a.type&&!1===l)break}break;default:throw Error("non exhaustive match!")}return(0,i.zu)(t)}function m(e,t,n){var r=ne(e);t[r]=r,!0===n&&g(e,t)}function g(e,t){var n=String.fromCharCode(e),r=n.toUpperCase();if(r!==n){var i=ne(r.charCodeAt(0));t[i]=i}else{var o=n.toLowerCase();if(o!==n){i=ne(o.charCodeAt(0));t[i]=i}}}function v(e,t){return(0,i.I6)(e.value,(function(e){if("number"===typeof e)return(0,i.gR)(t,e);var n=e;return void 0!==(0,i.I6)(t,(function(e){return n.from<=e&&e<=n.to}))}))}function y(e){return!(!e.quantifier||0!==e.quantifier.atLeast)||!!e.value&&((0,i.cy)(e.value)?(0,i.Si)(e.value,y):y(e.value))}var b=function(e){function t(t){var n=e.call(this)||this;return n.targetCharCodes=t,n.found=!1,n}return c(t,e),t.prototype.visitChildren=function(t){if(!0!==this.found){switch(t.type){case"Lookahead":return void this.visitLookahead(t);case"NegativeLookahead":return void this.visitNegativeLookahead(t)}e.prototype.visitChildren.call(this,t)}},t.prototype.visitCharacter=function(e){(0,i.gR)(this.targetCharCodes,e.value)&&(this.found=!0)},t.prototype.visitSet=function(e){e.complement?void 0===v(e,this.targetCharCodes)&&(this.found=!0):void 0!==v(e,this.targetCharCodes)&&(this.found=!0)},t}(o.BaseRegExpVisitor);function w(e,t){if(t instanceof RegExp){var n=l(t),r=new b(e);return r.visit(n),r.found}return void 0!==(0,i.I6)(t,(function(t){return(0,i.gR)(e,t.charCodeAt(0))}))}var _=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),E="PATTERN",S="defaultMode",T="modes",M="boolean"===typeof new RegExp("(?:)").sticky;function C(e,t){t=(0,i.NT)(t,{useSticky:M,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:function(e,t){return t()}});var n,r=t.tracer;r("initCharCodeToOptimizedIndexMap",(function(){ie()})),r("Reject Lexer.NA",(function(){n=(0,i.ku)(e,(function(e){return e[E]===Se.NA}))}));var o,s,a,l,u,c,h,p,m,g,v,y=!1;r("Transform Patterns",(function(){y=!1,o=(0,i.Tj)(n,(function(e){var n=e[E];if((0,i.gd)(n)){var r=n.source;return 1===r.length&&"^"!==r&&"$"!==r&&"."!==r?r:2!==r.length||"\\"!==r[0]||(0,i.gR)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],r[1])?t.useSticky?W(n):V(n):r[1]}if((0,i.Tn)(n))return y=!0,{exec:n};if((0,i.zy)(n,"exec"))return y=!0,n;if("string"===typeof n){if(1===n.length)return n;var o=n.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=new RegExp(o);return t.useSticky?W(s):V(s)}throw Error("non exhaustive match")}))})),r("misc mapping",(function(){s=(0,i.Tj)(n,(function(e){return e.tokenTypeIdx})),a=(0,i.Tj)(n,(function(e){var t=e.GROUP;if(t!==Se.SKIPPED){if((0,i.Kg)(t))return t;if((0,i.b0)(t))return!1;throw Error("non exhaustive match")}})),l=(0,i.Tj)(n,(function(e){var t=e.LONGER_ALT;if(t){var r=(0,i.qh)(n,t);return r}})),u=(0,i.Tj)(n,(function(e){return e.PUSH_MODE})),c=(0,i.Tj)(n,(function(e){return(0,i.zy)(e,"POP_MODE")}))})),r("Line Terminator Handling",(function(){var e=Z(t.lineTerminatorCharacters);h=(0,i.Tj)(n,(function(e){return!1})),"onlyOffset"!==t.positionTracking&&(h=(0,i.Tj)(n,(function(t){return(0,i.zy)(t,"LINE_BREAKS")?t.LINE_BREAKS:!1===J(t,e)?w(e,t.PATTERN):void 0})))})),r("Misc Mapping #2",(function(){p=(0,i.Tj)(n,q),m=(0,i.Tj)(o,K),g=(0,i.TS)(n,(function(e,t){var n=t.GROUP;return(0,i.Kg)(n)&&n!==Se.SKIPPED&&(e[n]=[]),e}),{}),v=(0,i.Tj)(o,(function(e,t){return{pattern:o[t],longerAlt:l[t],canLineTerminator:h[t],isCustom:p[t],short:m[t],group:a[t],push:u[t],pop:c[t],tokenTypeIdx:s[t],tokenType:n[t]}}))}));var b=!0,_=[];return t.safeMode||r("First Char Optimization",(function(){_=(0,i.TS)(n,(function(e,n,r){if("string"===typeof n.PATTERN){var o=n.PATTERN.charCodeAt(0),s=ne(o);ee(e,s,v[r])}else if((0,i.cy)(n.START_CHARS_HINT)){var a;(0,i.jJ)(n.START_CHARS_HINT,(function(t){var n="string"===typeof t?t.charCodeAt(0):t,i=ne(n);a!==i&&(a=i,ee(e,i,v[r]))}))}else if((0,i.gd)(n.PATTERN))if(n.PATTERN.unicode)b=!1,t.ensureOptimizations&&(0,i.Zi)(d+"\tUnable to analyze < "+n.PATTERN.toString()+" > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE");else{var l=f(n.PATTERN,t.ensureOptimizations);(0,i.Im)(l)&&(b=!1),(0,i.jJ)(l,(function(t){ee(e,t,v[r])}))}else t.ensureOptimizations&&(0,i.Zi)(d+"\tTokenType: <"+n.name+"> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE"),b=!1;return e}),[])})),r("ArrayPacking",(function(){_=(0,i.VS)(_)})),{emptyGroups:g,patternIdxToConfig:v,charCodeToPatternIdxToConfig:_,hasCustom:y,canBeOptimized:b}}function R(e,t){var n=[],r=A(e);n=n.concat(r.errors);var i=N(r.valid),o=i.valid;return n=n.concat(i.errors),n=n.concat(x(o)),n=n.concat(H(o)),n=n.concat(U(o,t)),n=n.concat(B(o)),n}function x(e){var t=[],n=(0,i.pb)(e,(function(e){return(0,i.gd)(e[E])}));return t=t.concat(k(n)),t=t.concat(P(n)),t=t.concat(D(n)),t=t.concat(F(n)),t=t.concat(O(n)),t}function A(e){var t=(0,i.pb)(e,(function(e){return!(0,i.zy)(e,E)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:we.MISSING_PATTERN,tokenTypes:[e]}})),r=(0,i.iv)(e,t);return{errors:n,valid:r}}function N(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return!(0,i.gd)(t)&&!(0,i.Tn)(t)&&!(0,i.zy)(t,"exec")&&!(0,i.Kg)(t)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:we.INVALID_PATTERN,tokenTypes:[e]}})),r=(0,i.iv)(e,t);return{errors:n,valid:r}}var L=/[^\\][\$]/;function k(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return _(t,e),t.prototype.visitEndAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=(0,i.pb)(e,(function(e){var n=e[E];try{var r=l(n),i=new t;return i.visit(r),i.found}catch(o){return L.test(n.source)}})),r=(0,i.Tj)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:we.EOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}function O(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return t.test("")})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:we.EMPTY_MATCH_PATTERN,tokenTypes:[e]}}));return n}var I=/[^\\[][\^]|^\^/;function P(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.found=!1,t}return _(t,e),t.prototype.visitStartAnchor=function(e){this.found=!0},t}(o.BaseRegExpVisitor),n=(0,i.pb)(e,(function(e){var n=e[E];try{var r=l(n),i=new t;return i.visit(r),i.found}catch(o){return I.test(n.source)}})),r=(0,i.Tj)(n,(function(e){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:we.SOI_ANCHOR_FOUND,tokenTypes:[e]}}));return r}function D(e){var t=(0,i.pb)(e,(function(e){var t=e[E];return t instanceof RegExp&&(t.multiline||t.global)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:we.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]}}));return n}function F(e){var t=[],n=(0,i.Tj)(e,(function(n){return(0,i.TS)(e,(function(e,r){return n.PATTERN.source!==r.PATTERN.source||(0,i.gR)(t,r)||r.PATTERN===Se.NA||(t.push(r),e.push(r)),e}),[])}));n=(0,i.oE)(n);var r=(0,i.pb)(n,(function(e){return e.length>1})),o=(0,i.Tj)(r,(function(e){var t=(0,i.Tj)(e,(function(e){return e.name})),n=(0,i.$1)(e).PATTERN;return{message:"The same RegExp pattern ->"+n+"<-has been used in all of the following Token Types: "+t.join(", ")+" <-",type:we.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}));return o}function H(e){var t=(0,i.pb)(e,(function(e){if(!(0,i.zy)(e,"GROUP"))return!1;var t=e.GROUP;return t!==Se.SKIPPED&&t!==Se.NA&&!(0,i.Kg)(t)})),n=(0,i.Tj)(t,(function(e){return{message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:we.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]}}));return n}function U(e,t){var n=(0,i.pb)(e,(function(e){return void 0!==e.PUSH_MODE&&!(0,i.gR)(t,e.PUSH_MODE)})),r=(0,i.Tj)(n,(function(e){var t="Token Type: ->"+e.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+e.PUSH_MODE+"<-which does not exist";return{message:t,type:we.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]}}));return r}function B(e){var t=[],n=(0,i.TS)(e,(function(e,t,n){var r=t.PATTERN;return r===Se.NA||((0,i.Kg)(r)?e.push({str:r,idx:n,tokenType:t}):(0,i.gd)(r)&&Y(r)&&e.push({str:r.source,idx:n,tokenType:t})),e}),[]);return(0,i.jJ)(e,(function(e,r){(0,i.jJ)(n,(function(n){var i=n.str,o=n.idx,s=n.tokenType;if(r<o&&j(i,e.PATTERN)){var a="Token: ->"+s.name+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+e.name+"<-in the lexer's definition.\nSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#UNREACHABLE";t.push({message:a,type:we.UNREACHABLE_PATTERN,tokenTypes:[e,s]})}}))})),t}function j(e,t){if((0,i.gd)(t)){var n=t.exec(e);return null!==n&&0===n.index}if((0,i.Tn)(t))return t(e,0,[],{});if((0,i.zy)(t,"exec"))return t.exec(e,0,[],{});if("string"===typeof t)return t===e;throw Error("non exhaustive match")}function Y(e){var t=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return void 0===(0,i.I6)(t,(function(t){return-1!==e.source.indexOf(t)}))}function V(e){var t=e.ignoreCase?"i":"";return new RegExp("^(?:"+e.source+")",t)}function W(e){var t=e.ignoreCase?"iy":"y";return new RegExp(""+e.source,t)}function z(e,t,n){var r=[];return(0,i.zy)(e,S)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+S+"> property in its definition\n",type:we.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,i.zy)(e,T)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+T+"> property in its definition\n",type:we.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,i.zy)(e,T)&&(0,i.zy)(e,S)&&!(0,i.zy)(e.modes,e.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a "+S+": <"+e.defaultMode+">which does not exist\n",type:we.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,i.zy)(e,T)&&(0,i.jJ)(e.modes,(function(e,t){(0,i.jJ)(e,(function(e,n){(0,i.b0)(e)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+t+"> at index: <"+n+">\n",type:we.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})}))})),r}function G(e,t,n){var r=[],o=!1,s=(0,i.oE)((0,i.Bq)((0,i.LG)(e.modes,(function(e){return e})))),a=(0,i.ku)(s,(function(e){return e[E]===Se.NA})),l=Z(n);return t&&(0,i.jJ)(a,(function(e){var t=J(e,l);if(!1!==t){var n=Q(e,t),s={message:n,type:t.issue,tokenType:e};r.push(s)}else(0,i.zy)(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(o=!0):w(l,e.PATTERN)&&(o=!0)})),t&&!o&&r.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:we.NO_LINE_BREAKS_FLAGS}),r}function $(e){var t={},n=(0,i.HP)(e);return(0,i.jJ)(n,(function(n){var r=e[n];if(!(0,i.cy)(r))throw Error("non exhaustive match");t[n]=[]})),t}function q(e){var t=e.PATTERN;if((0,i.gd)(t))return!1;if((0,i.Tn)(t))return!0;if((0,i.zy)(t,"exec"))return!0;if((0,i.Kg)(t))return!1;throw Error("non exhaustive match")}function K(e){return!(!(0,i.Kg)(e)||1!==e.length)&&e.charCodeAt(0)}var X={test:function(e){for(var t=e.length,n=this.lastIndex;n<t;n++){var r=e.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===e.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function J(e,t){if((0,i.zy)(e,"LINE_BREAKS"))return!1;if((0,i.gd)(e.PATTERN)){try{w(t,e.PATTERN)}catch(n){return{issue:we.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}if((0,i.Kg)(e.PATTERN))return!1;if(q(e))return{issue:we.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function Q(e,t){if(t.issue===we.IDENTIFY_TERMINATOR)return"Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <"+e.name+"> Token Type\n\t Root cause: "+t.errMsg+".\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(t.issue===we.CUSTOM_LINE_BREAK)return"Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <"+e.name+"> Token Type\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}function Z(e){var t=(0,i.Tj)(e,(function(e){return(0,i.Kg)(e)&&e.length>0?e.charCodeAt(0):e}));return t}function ee(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}var te=256;function ne(e){return e<te?e:re[e]}var re=[];function ie(){if((0,i.Im)(re)){re=new Array(65536);for(var e=0;e<65536;e++)re[e]=e>255?255+~~(e/255):e}}function oe(e,t){var n=e.tokenTypeIdx;return n===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[n]}function se(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var ae=1,le={};function ue(e){var t=ce(e);he(t),fe(t),de(t),(0,i.jJ)(t,(function(e){e.isParent=e.categoryMatches.length>0}))}function ce(e){var t=(0,i.T9)(e),n=e,r=!0;while(r){n=(0,i.oE)((0,i.Bq)((0,i.Tj)(n,(function(e){return e.CATEGORIES}))));var o=(0,i.iv)(n,t);t=t.concat(o),(0,i.Im)(o)?r=!1:n=o}return t}function he(e){(0,i.jJ)(e,(function(e){me(e)||(le[ae]=e,e.tokenTypeIdx=ae++),ge(e)&&!(0,i.cy)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),ge(e)||(e.CATEGORIES=[]),ve(e)||(e.categoryMatches=[]),ye(e)||(e.categoryMatchesMap={})}))}function de(e){(0,i.jJ)(e,(function(e){e.categoryMatches=[],(0,i.jJ)(e.categoryMatchesMap,(function(t,n){e.categoryMatches.push(le[n].tokenTypeIdx)}))}))}function fe(e){(0,i.jJ)(e,(function(e){pe([],e)}))}function pe(e,t){(0,i.jJ)(e,(function(e){t.categoryMatchesMap[e.tokenTypeIdx]=!0})),(0,i.jJ)(t.CATEGORIES,(function(n){var r=e.concat(t);(0,i.gR)(r,n)||pe(r,n)}))}function me(e){return(0,i.zy)(e,"tokenTypeIdx")}function ge(e){return(0,i.zy)(e,"CATEGORIES")}function ve(e){return(0,i.zy)(e,"categoryMatches")}function ye(e){return(0,i.zy)(e,"categoryMatchesMap")}function be(e){return(0,i.zy)(e,"tokenTypeIdx")}var we,_e={buildUnableToPopLexerModeMessage:function(e){return"Unable to pop Lexer Mode after encountering Token ->"+e.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(e,t,n,r,i){return"unexpected character: ->"+e.charAt(t)+"<- at offset: "+t+", skipped "+n+" characters."}};(function(e){e[e["MISSING_PATTERN"]=0]="MISSING_PATTERN",e[e["INVALID_PATTERN"]=1]="INVALID_PATTERN",e[e["EOI_ANCHOR_FOUND"]=2]="EOI_ANCHOR_FOUND",e[e["UNSUPPORTED_FLAGS_FOUND"]=3]="UNSUPPORTED_FLAGS_FOUND",e[e["DUPLICATE_PATTERNS_FOUND"]=4]="DUPLICATE_PATTERNS_FOUND",e[e["INVALID_GROUP_TYPE_FOUND"]=5]="INVALID_GROUP_TYPE_FOUND",e[e["PUSH_MODE_DOES_NOT_EXIST"]=6]="PUSH_MODE_DOES_NOT_EXIST",e[e["MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE"]=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e["MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY"]=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e["MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST"]=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e["LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED"]=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e["SOI_ANCHOR_FOUND"]=11]="SOI_ANCHOR_FOUND",e[e["EMPTY_MATCH_PATTERN"]=12]="EMPTY_MATCH_PATTERN",e[e["NO_LINE_BREAKS_FLAGS"]=13]="NO_LINE_BREAKS_FLAGS",e[e["UNREACHABLE_PATTERN"]=14]="UNREACHABLE_PATTERN",e[e["IDENTIFY_TERMINATOR"]=15]="IDENTIFY_TERMINATOR",e[e["CUSTOM_LINE_BREAK"]=16]="CUSTOM_LINE_BREAK"})(we||(we={}));var Ee={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:_e,traceInitPerf:!1,skipValidations:!1};Object.freeze(Ee);var Se=function(){function e(e,t){var n=this;if(void 0===t&&(t=Ee),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},"boolean"===typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=(0,i.h1)(Ee,t);var r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"===typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(function(){var r,o=!0;n.TRACE_INIT("Lexer Config handling",(function(){if(n.config.lineTerminatorsPattern===Ee.lineTerminatorsPattern)n.config.lineTerminatorsPattern=X;else if(n.config.lineTerminatorCharacters===Ee.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://sap.github.io/chevrotain/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),(0,i.cy)(e)?(r={modes:{}},r.modes[S]=(0,i.T9)(e),r[S]=S):(o=!1,r=(0,i.lR)(e))})),!1===n.config.skipValidations&&(n.TRACE_INIT("performRuntimeChecks",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(z(r,n.trackStartLines,n.config.lineTerminatorCharacters))})),n.TRACE_INIT("performWarningRuntimeChecks",(function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat(G(r,n.trackStartLines,n.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},(0,i.jJ)(r.modes,(function(e,t){r.modes[t]=(0,i.ku)(e,(function(e){return(0,i.b0)(e)}))}));var s=(0,i.HP)(r.modes);if((0,i.jJ)(r.modes,(function(e,r){n.TRACE_INIT("Mode: <"+r+"> processing",(function(){var o;(n.modes.push(r),!1===n.config.skipValidations&&n.TRACE_INIT("validatePatterns",(function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat(R(e,s))})),(0,i.Im)(n.lexerDefinitionErrors))&&(ue(e),n.TRACE_INIT("analyzeTokenTypes",(function(){o=C(e,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:n.TRACE_INIT.bind(n)})})),n.patternIdxToConfig[r]=o.patternIdxToConfig,n.charCodeToPatternIdxToConfig[r]=o.charCodeToPatternIdxToConfig,n.emptyGroups=(0,i.h1)(n.emptyGroups,o.emptyGroups),n.hasCustom=o.hasCustom||n.hasCustom,n.canModeBeOptimized[r]=o.canBeOptimized)}))})),n.defaultMode=r.defaultMode,!(0,i.Im)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var a=(0,i.Tj)(n.lexerDefinitionErrors,(function(e){return e.message})),l=a.join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+l)}(0,i.jJ)(n.lexerDefinitionWarning,(function(e){(0,i.x5)(e.message)})),n.TRACE_INIT("Choosing sub-methods implementations",(function(){if(M?(n.chopInput=i.zK,n.match=n.matchWithTest):(n.updateLastIndex=i.tE,n.match=n.matchWithExec),o&&(n.handleModes=i.tE),!1===n.trackStartLines&&(n.computeNewColumn=i.zK),!1===n.trackEndLines&&(n.updateTokenEndLineColumnLocation=i.tE),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else{if(!/onlyOffset/i.test(n.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.createTokenInstance=n.createOffsetOnlyToken}n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)})),n.TRACE_INIT("Failed Optimization Warnings",(function(){var e=(0,i.TS)(n.canModeBeOptimized,(function(e,t,n){return!1===t&&e.push(n),e}),[]);if(t.ensureOptimizations&&!(0,i.Im)(e))throw Error("Lexer Modes: < "+e.join(", ")+' > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.')})),n.TRACE_INIT("clearRegExpParserCache",(function(){u()})),n.TRACE_INIT("toFastProperties",(function(){(0,i.Bl)(n)}))}))}return e.prototype.tokenize=function(e,t){if(void 0===t&&(t=this.defaultMode),!(0,i.Im)(this.lexerDefinitionErrors)){var n=(0,i.Tj)(this.lexerDefinitionErrors,(function(e){return e.message})),r=n.join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+r)}var o=this.tokenizeInternal(e,t);return o},e.prototype.tokenizeInternal=function(e,t){var n,r,o,s,a,l,u,c,h,d,f,p,m,g,v=this,y=e,b=y.length,w=0,_=0,E=this.hasCustom?0:Math.floor(e.length/10),S=new Array(E),T=[],M=this.trackStartLines?1:void 0,C=this.trackStartLines?1:void 0,R=$(this.emptyGroups),x=this.trackStartLines,A=this.config.lineTerminatorsPattern,N=0,L=[],k=[],O=[],I=[];Object.freeze(I);var P=void 0;function D(){return L}function F(e){var t=ne(e),n=k[t];return void 0===n?I:n}var H,U=function(e){if(1===O.length&&void 0===e.tokenType.PUSH_MODE){var t=v.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);T.push({offset:e.startOffset,line:void 0!==e.startLine?e.startLine:void 0,column:void 0!==e.startColumn?e.startColumn:void 0,length:e.image.length,message:t})}else{O.pop();var n=(0,i.HV)(O);L=v.patternIdxToConfig[n],k=v.charCodeToPatternIdxToConfig[n],N=L.length;var r=v.canModeBeOptimized[n]&&!1===v.config.safeMode;P=k&&r?F:D}};function B(e){O.push(e),k=this.charCodeToPatternIdxToConfig[e],L=this.patternIdxToConfig[e],N=L.length,N=L.length;var t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;P=k&&t?F:D}B.call(this,t);while(w<b){a=null;var j=y.charCodeAt(w),Y=P(j),V=Y.length;for(n=0;n<V;n++){H=Y[n];var W=H.pattern;l=null;var z=H.short;if(!1!==z?j===z&&(a=W):!0===H.isCustom?(g=W.exec(y,w,S,R),null!==g?(a=g[0],void 0!==g.payload&&(l=g.payload)):a=null):(this.updateLastIndex(W,w),a=this.match(W,e,w)),null!==a){if(s=H.longerAlt,void 0!==s){var G=L[s],q=G.pattern;u=null,!0===G.isCustom?(g=q.exec(y,w,S,R),null!==g?(o=g[0],void 0!==g.payload&&(u=g.payload)):o=null):(this.updateLastIndex(q,w),o=this.match(q,e,w)),o&&o.length>a.length&&(a=o,l=u,H=G)}break}}if(null!==a){if(c=a.length,h=H.group,void 0!==h&&(d=H.tokenTypeIdx,f=this.createTokenInstance(a,w,d,H.tokenType,M,C,c),this.handlePayload(f,l),!1===h?_=this.addToken(S,_,f):R[h].push(f)),e=this.chopInput(e,c),w+=c,C=this.computeNewColumn(C,c),!0===x&&!0===H.canLineTerminator){var K=0,X=void 0,J=void 0;A.lastIndex=0;do{X=A.test(a),!0===X&&(J=A.lastIndex-1,K++)}while(!0===X);0!==K&&(M+=K,C=c-J,this.updateTokenEndLineColumnLocation(f,h,J,K,M,C,c))}this.handleModes(H,U,B,f)}else{var Q=w,Z=M,ee=C,te=!1;while(!te&&w<b)for(y.charCodeAt(w),e=this.chopInput(e,1),w++,r=0;r<N;r++){var re=L[r];W=re.pattern,z=re.short;if(!1!==z?y.charCodeAt(w)===z&&(te=!0):!0===re.isCustom?te=null!==W.exec(y,w,S,R):(this.updateLastIndex(W,w),te=null!==W.exec(e)),!0===te)break}p=w-Q,m=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(y,Q,p,Z,ee),T.push({offset:Q,line:Z,column:ee,length:p,message:m})}}return this.hasCustom||(S.length=_),{tokens:S,groups:R,errors:T}},e.prototype.handleModes=function(e,t,n,r){if(!0===e.pop){var i=e.push;t(r),void 0!==i&&n.call(this,i)}else void 0!==e.push&&n.call(this,e.push)},e.prototype.chopInput=function(e,t){return e.substring(t)},e.prototype.updateLastIndex=function(e,t){e.lastIndex=t},e.prototype.updateTokenEndLineColumnLocation=function(e,t,n,r,i,o,s){var a,l;void 0!==t&&(a=n===s-1,l=a?-1:0,1===r&&!0===a||(e.endLine=i+l,e.endColumn=o-1-l))},e.prototype.computeNewColumn=function(e,t){return e+t},e.prototype.createTokenInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},e.prototype.createOffsetOnlyToken=function(e,t,n,r){return{image:e,startOffset:t,tokenTypeIdx:n,tokenType:r}},e.prototype.createStartOnlyToken=function(e,t,n,r,i,o){return{image:e,startOffset:t,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},e.prototype.createFullToken=function(e,t,n,r,i,o,s){return{image:e,startOffset:t,endOffset:t+s-1,startLine:i,endLine:i,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:r}},e.prototype.addToken=function(e,t,n){return 666},e.prototype.addTokenUsingPush=function(e,t,n){return e.push(n),t},e.prototype.addTokenUsingMemberAccess=function(e,t,n){return e[t]=n,t++,t},e.prototype.handlePayload=function(e,t){},e.prototype.handlePayloadNoCustom=function(e,t){},e.prototype.handlePayloadWithCustom=function(e,t){null!==t&&(e.payload=t)},e.prototype.match=function(e,t,n){return null},e.prototype.matchWithTest=function(e,t,n){var r=e.test(t);return!0===r?t.substring(n,e.lastIndex):null},e.prototype.matchWithExec=function(e,t){var n=e.exec(t);return null!==n?n[0]:n},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=(0,i.O1)(t),o=r.time,s=r.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,s}return t()},e.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",e.NA=/NOT_APPLICABLE/,e}();function Te(e){return Ce(e)?e.LABEL:e.name}function Me(e){return e.name}function Ce(e){return(0,i.Kg)(e.LABEL)&&""!==e.LABEL}var Re="parent",xe="categories",Ae="label",Ne="group",Le="push_mode",ke="pop_mode",Oe="longer_alt",Ie="line_breaks",Pe="start_chars_hint";function De(e){return Fe(e)}function Fe(e){var t=e.pattern,n={};if(n.name=e.name,(0,i.b0)(t)||(n.PATTERN=t),(0,i.zy)(e,Re))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";return(0,i.zy)(e,xe)&&(n.CATEGORIES=e[xe]),ue([n]),(0,i.zy)(e,Ae)&&(n.LABEL=e[Ae]),(0,i.zy)(e,Ne)&&(n.GROUP=e[Ne]),(0,i.zy)(e,ke)&&(n.POP_MODE=e[ke]),(0,i.zy)(e,Le)&&(n.PUSH_MODE=e[Le]),(0,i.zy)(e,Oe)&&(n.LONGER_ALT=e[Oe]),(0,i.zy)(e,Ie)&&(n.LINE_BREAKS=e[Ie]),(0,i.zy)(e,Pe)&&(n.START_CHARS_HINT=e[Pe]),n}var He=De({name:"EOF",pattern:Se.NA});function Ue(e,t,n,r,i,o,s,a){return{image:t,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function Be(e,t){return oe(e,t)}ue([He]);var je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ye=function(){function e(e){this.definition=e}return e.prototype.accept=function(e){e.visit(this),(0,i.jJ)(this.definition,(function(t){t.accept(e)}))},e}(),Ve=function(e){function t(t){var n=e.call(this,[])||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),Object.defineProperty(t.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.accept=function(e){e.visit(this)},t}(Ye),We=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.orgText="",(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),ze=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.ignoreAmbiguities=!1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Ge=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),$e=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),qe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Ke=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Xe=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Je=function(e){function t(t){var n=e.call(this,t.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,(0,i.kp)(n,(0,i.Up)(t,(function(e){return void 0!==e}))),n}return je(t,e),t}(Ye),Qe=function(){function e(e){this.idx=1,(0,i.kp)(this,(0,i.Up)(e,(function(e){return void 0!==e})))}return e.prototype.accept=function(e){e.visit(this)},e}();function Ze(e){return(0,i.Tj)(e,et)}function et(e){function t(e){return(0,i.Tj)(e,et)}if(e instanceof Ve)return{type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};if(e instanceof ze)return{type:"Flat",definition:t(e.definition)};if(e instanceof Ge)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof $e)return{type:"RepetitionMandatory",name:e.name,idx:e.idx,definition:t(e.definition)};if(e instanceof qe)return{type:"RepetitionMandatoryWithSeparator",name:e.name,idx:e.idx,separator:et(new Qe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Xe)return{type:"RepetitionWithSeparator",name:e.name,idx:e.idx,separator:et(new Qe({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof Ke)return{type:"Repetition",name:e.name,idx:e.idx,definition:t(e.definition)};if(e instanceof Je)return{type:"Alternation",name:e.name,idx:e.idx,definition:t(e.definition)};if(e instanceof Qe){var n={type:"Terminal",name:e.terminalType.name,label:Te(e.terminalType),idx:e.idx},r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(n.pattern=(0,i.gd)(r)?r.source:r),n}if(e instanceof We)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}var tt=function(){function e(){}return e.prototype.walk=function(e,t){var n=this;void 0===t&&(t=[]),(0,i.jJ)(e.definition,(function(r,o){var s=(0,i.gv)(e.definition,o+1);if(r instanceof Ve)n.walkProdRef(r,s,t);else if(r instanceof Qe)n.walkTerminal(r,s,t);else if(r instanceof ze)n.walkFlat(r,s,t);else if(r instanceof Ge)n.walkOption(r,s,t);else if(r instanceof $e)n.walkAtLeastOne(r,s,t);else if(r instanceof qe)n.walkAtLeastOneSep(r,s,t);else if(r instanceof Xe)n.walkManySep(r,s,t);else if(r instanceof Ke)n.walkMany(r,s,t);else{if(!(r instanceof Je))throw Error("non exhaustive match");n.walkOr(r,s,t)}}))},e.prototype.walkTerminal=function(e,t,n){},e.prototype.walkProdRef=function(e,t,n){},e.prototype.walkFlat=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkOption=function(e,t,n){var r=t.concat(n);this.walk(e,r)},e.prototype.walkAtLeastOne=function(e,t,n){var r=[new Ge({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkAtLeastOneSep=function(e,t,n){var r=nt(e,t,n);this.walk(e,r)},e.prototype.walkMany=function(e,t,n){var r=[new Ge({definition:e.definition})].concat(t,n);this.walk(e,r)},e.prototype.walkManySep=function(e,t,n){var r=nt(e,t,n);this.walk(e,r)},e.prototype.walkOr=function(e,t,n){var r=this,o=t.concat(n);(0,i.jJ)(e.definition,(function(e){var t=new ze({definition:[e]});r.walk(t,o)}))},e}();function nt(e,t,n){var r=[new Ge({definition:[new Qe({terminalType:e.separator})].concat(e.definition)})],i=r.concat(t,n);return i}var rt=function(){function e(){}return e.prototype.visit=function(e){var t=e;switch(t.constructor){case Ve:return this.visitNonTerminal(t);case ze:return this.visitFlat(t);case Ge:return this.visitOption(t);case $e:return this.visitRepetitionMandatory(t);case qe:return this.visitRepetitionMandatoryWithSeparator(t);case Xe:return this.visitRepetitionWithSeparator(t);case Ke:return this.visitRepetition(t);case Je:return this.visitAlternation(t);case Qe:return this.visitTerminal(t);case We:return this.visitRule(t);default:throw Error("non exhaustive match")}},e.prototype.visitNonTerminal=function(e){},e.prototype.visitFlat=function(e){},e.prototype.visitOption=function(e){},e.prototype.visitRepetition=function(e){},e.prototype.visitRepetitionMandatory=function(e){},e.prototype.visitRepetitionMandatoryWithSeparator=function(e){},e.prototype.visitRepetitionWithSeparator=function(e){},e.prototype.visitAlternation=function(e){},e.prototype.visitTerminal=function(e){},e.prototype.visitRule=function(e){},e}(),it=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function ot(e){return e instanceof ze||e instanceof Ge||e instanceof Ke||e instanceof $e||e instanceof qe||e instanceof Xe||e instanceof Qe||e instanceof We}function st(e,t){void 0===t&&(t=[]);var n=e instanceof Ge||e instanceof Ke||e instanceof Xe;return!!n||(e instanceof Je?(0,i.zN)(e.definition,(function(e){return st(e,t)})):!(e instanceof Ve&&(0,i.gR)(t,e))&&(e instanceof Ye&&(e instanceof Ve&&t.push(e),(0,i.Si)(e.definition,(function(e){return st(e,t)})))))}function at(e){return e instanceof Je}function lt(e){if(e instanceof Ve)return"SUBRULE";if(e instanceof Ge)return"OPTION";if(e instanceof Je)return"OR";if(e instanceof $e)return"AT_LEAST_ONE";if(e instanceof qe)return"AT_LEAST_ONE_SEP";if(e instanceof Xe)return"MANY_SEP";if(e instanceof Ke)return"MANY";if(e instanceof Qe)return"CONSUME";throw Error("non exhaustive match")}var ut=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.separator="-",t.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},t}return it(t,e),t.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},t.prototype.visitTerminal=function(e){var t=e.terminalType.name+this.separator+"Terminal";(0,i.zy)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitNonTerminal=function(e){var t=e.nonTerminalName+this.separator+"Terminal";(0,i.zy)(this.dslMethods,t)||(this.dslMethods[t]=[]),this.dslMethods[t].push(e)},t.prototype.visitOption=function(e){this.dslMethods.option.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.dslMethods.repetitionWithSeparator.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.dslMethods.repetitionMandatory.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)},t.prototype.visitRepetition=function(e){this.dslMethods.repetition.push(e)},t.prototype.visitAlternation=function(e){this.dslMethods.alternation.push(e)},t}(rt),ct=new ut;function ht(e){ct.reset(),e.accept(ct);var t=ct.dslMethods;return ct.reset(),t}function dt(e){if(e instanceof Ve)return dt(e.referencedRule);if(e instanceof Qe)return mt(e);if(ot(e))return ft(e);if(at(e))return pt(e);throw Error("non exhaustive match")}function ft(e){var t,n=[],r=e.definition,o=0,s=r.length>o,a=!0;while(s&&a)t=r[o],a=st(t),n=n.concat(dt(t)),o+=1,s=r.length>o;return(0,i.sb)(n)}function pt(e){var t=(0,i.Tj)(e.definition,(function(e){return dt(e)}));return(0,i.sb)((0,i.Bq)(t))}function mt(e){return[e.terminalType]}var gt="_~IN~_",vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yt=function(e){function t(t){var n=e.call(this)||this;return n.topProd=t,n.follows={},n}return vt(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},t.prototype.walkTerminal=function(e,t,n){},t.prototype.walkProdRef=function(e,t,n){var r=wt(e.referencedRule,e.idx)+this.topProd.name,i=t.concat(n),o=new ze({definition:i}),s=dt(o);this.follows[r]=s},t}(tt);function bt(e){var t={};return(0,i.jJ)(e,(function(e){var n=new yt(e).startWalking();(0,i.kp)(t,n)})),t}function wt(e,t){return e.name+t+gt}var _t=4,Et=8,St=8,Tt=1<<Et,Mt=2<<Et,Ct=3<<Et,Rt=4<<Et,xt=5<<Et,At=6<<Et;function Nt(e,t,n){return n|t|e}var Lt=32-St;function kt(e,t,n,r){var i=r+1<<Lt;return Nt(e,t,n)|i}var Ot=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function It(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset)}function Pt(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset===!0&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Dt(e,t,n){void 0===e.children[n]?e.children[n]=[t]:e.children[n].push(t)}function Ft(e,t,n){void 0===e.children[t]?e.children[t]=[n]:e.children[t].push(n)}var Ht=function(e){function t(t){var n=e.call(this)||this;return n.result=[],n.ruleIdx=t,n}return Ot(t,e),t.prototype.collectNamedDSLMethod=function(e,t,n){if(!(0,i.b0)(e.name)){var r=void 0;if(e instanceof Ge||e instanceof Ke||e instanceof $e||e instanceof Je)r=new t({definition:e.definition,idx:e.idx});else{if(!(e instanceof qe||e instanceof Xe))throw Error("non exhaustive match");r=new t({definition:e.definition,idx:e.idx,separator:e.separator})}var o=[r],s=Nt(this.ruleIdx,n,e.idx);this.result.push({def:o,key:s,name:e.name,orgProd:e})}},t.prototype.visitOption=function(e){this.collectNamedDSLMethod(e,Ge,Mt)},t.prototype.visitRepetition=function(e){this.collectNamedDSLMethod(e,Ke,Ct)},t.prototype.visitRepetitionMandatory=function(e){this.collectNamedDSLMethod(e,$e,Rt)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.collectNamedDSLMethod(e,qe,At)},t.prototype.visitRepetitionWithSeparator=function(e){this.collectNamedDSLMethod(e,Xe,xt)},t.prototype.visitAlternation=function(e){var t=this;this.collectNamedDSLMethod(e,Je,Tt);var n=e.definition.length>1;(0,i.jJ)(e.definition,(function(r,o){if(!(0,i.b0)(r.name)){var s=r.definition;s=n?[new Ge({definition:r.definition})]:r.definition;var a=kt(t.ruleIdx,Tt,e.idx,o);t.result.push({def:s,key:a,name:r.name,orgProd:r})}}))},t}(rt);function Ut(e,t){var n={allRuleNames:[]};return(0,i.jJ)(e,(function(e){var r=t[e.name];n.allRuleNames.push(e.name);var o=new Ht(r);e.accept(o),(0,i.jJ)(o.result,(function(t){t.def,t.key;var r=t.name;n.allRuleNames.push(e.name+r)}))})),n}var Bt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jt=function(e){function t(t,n){var r=e.call(this)||this;return r.topProd=t,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return Bt(t,e),t.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,i.T9)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,i.T9)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},t.prototype.walk=function(t,n){void 0===n&&(n=[]),this.found||e.prototype.walk.call(this,t,n)},t.prototype.walkProdRef=function(e,t,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){var r=t.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}},t.prototype.updateExpectedNext=function(){(0,i.Im)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},t}(tt),Yt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=r.path.lastTok.name,r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return Bt(t,e),t.prototype.walkTerminal=function(e,t,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){var r=t.concat(n),i=new ze({definition:r});this.possibleTokTypes=dt(i),this.found=!0}},t}(jt),Vt=function(e){function t(t,n){var r=e.call(this)||this;return r.topRule=t,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return Bt(t,e),t.prototype.startWalking=function(){return this.walk(this.topRule),this.result},t}(tt),Wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bt(t,e),t.prototype.walkMany=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkMany.call(this,t,n,r)},t}(Vt),zt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bt(t,e),t.prototype.walkManySep=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkManySep.call(this,t,n,r)},t}(Vt),Gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bt(t,e),t.prototype.walkAtLeastOne=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOne.call(this,t,n,r)},t}(Vt),$t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bt(t,e),t.prototype.walkAtLeastOneSep=function(t,n,r){if(t.idx===this.occurrence){var o=(0,i.$1)(n.concat(r));this.result.isEndOfRule=void 0===o,o instanceof Qe&&(this.result.token=o.terminalType,this.result.occurrence=o.idx)}else e.prototype.walkAtLeastOneSep.call(this,t,n,r)},t}(Vt);function qt(e,t,n){void 0===n&&(n=[]),n=(0,i.T9)(n);var r=[],o=0;function s(t){return t.concat((0,i.gv)(e,o+1))}function a(e){var i=qt(s(e),t,n);return r.concat(i)}while(n.length<t&&o<e.length){var l=e[o];if(l instanceof ze)return a(l.definition);if(l instanceof Ve)return a(l.definition);if(l instanceof Ge)r=a(l.definition);else{if(l instanceof $e){var u=l.definition.concat([new Ke({definition:l.definition})]);return a(u)}if(l instanceof qe){u=[new ze({definition:l.definition}),new Ke({definition:[new Qe({terminalType:l.separator})].concat(l.definition)})];return a(u)}if(l instanceof Xe){u=l.definition.concat([new Ke({definition:[new Qe({terminalType:l.separator})].concat(l.definition)})]);r=a(u)}else if(l instanceof Ke){u=l.definition.concat([new Ke({definition:l.definition})]);r=a(u)}else{if(l instanceof Je)return(0,i.jJ)(l.definition,(function(e){r=a(e.definition)})),r;if(!(l instanceof Qe))throw Error("non exhaustive match");n.push(l.terminalType)}}o++}return r.push({partialPath:n,suffixDef:(0,i.gv)(e,o)}),r}function Kt(e,t,n,r){var o="EXIT_NONE_TERMINAL",s=[o],a="EXIT_ALTERNATIVE",l=!1,u=t.length,c=u-r-1,h=[],d=[];d.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});while(!(0,i.Im)(d)){var f=d.pop();if(f!==a){var p=f.def,m=f.idx,g=f.ruleStack,v=f.occurrenceStack;if(!(0,i.Im)(p)){var y=p[0];if(y===o){var b={idx:m,def:(0,i.gv)(p),ruleStack:(0,i.gc)(g),occurrenceStack:(0,i.gc)(v)};d.push(b)}else if(y instanceof Qe)if(m<u-1){var w=m+1,_=t[w];if(n(_,y.terminalType)){b={idx:w,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(b)}}else{if(m!==u-1)throw Error("non exhaustive match");h.push({nextTokenType:y.terminalType,nextTokenOccurrence:y.idx,ruleStack:g,occurrenceStack:v}),l=!0}else if(y instanceof Ve){var E=(0,i.T9)(g);E.push(y.nonTerminalName);var S=(0,i.T9)(v);S.push(y.idx);b={idx:m,def:y.definition.concat(s,(0,i.gv)(p)),ruleStack:E,occurrenceStack:S};d.push(b)}else if(y instanceof Ge){var T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);var M={idx:m,def:y.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof $e){var C=new Ke({definition:y.definition,idx:y.idx}),R=y.definition.concat([C],(0,i.gv)(p));b={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(b)}else if(y instanceof qe){var x=new Qe({terminalType:y.separator});C=new Ke({definition:[x].concat(y.definition),idx:y.idx}),R=y.definition.concat([C],(0,i.gv)(p)),b={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(b)}else if(y instanceof Xe){T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);x=new Qe({terminalType:y.separator});var A=new Ke({definition:[x].concat(y.definition),idx:y.idx});R=y.definition.concat([A],(0,i.gv)(p)),M={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof Ke){T={idx:m,def:(0,i.gv)(p),ruleStack:g,occurrenceStack:v};d.push(T),d.push(a);A=new Ke({definition:y.definition,idx:y.idx}),R=y.definition.concat([A],(0,i.gv)(p)),M={idx:m,def:R,ruleStack:g,occurrenceStack:v};d.push(M)}else if(y instanceof Je)for(var N=y.definition.length-1;N>=0;N--){var L=y.definition[N],k={idx:m,def:L.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v};d.push(k),d.push(a)}else if(y instanceof ze)d.push({idx:m,def:y.definition.concat((0,i.gv)(p)),ruleStack:g,occurrenceStack:v});else{if(!(y instanceof We))throw Error("non exhaustive match");d.push(Xt(y,m,g,v))}}}else l&&(0,i.HV)(d).idx<=c&&d.pop()}return h}function Xt(e,t,n,r){var o=(0,i.T9)(n);o.push(e.name);var s=(0,i.T9)(r);return s.push(1),{idx:t,def:e.definition,ruleStack:o,occurrenceStack:s}}var Jt,Qt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Zt(e){if(e instanceof Ge)return Jt.OPTION;if(e instanceof Ke)return Jt.REPETITION;if(e instanceof $e)return Jt.REPETITION_MANDATORY;if(e instanceof qe)return Jt.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Xe)return Jt.REPETITION_WITH_SEPARATOR;if(e instanceof Je)return Jt.ALTERNATION;throw Error("non exhaustive match")}function en(e,t,n,r,i,o){var s=hn(e,t,n),a=mn(s)?se:oe;return o(s,r,a,i)}function tn(e,t,n,r,i,o){var s=dn(e,t,i,n),a=mn(s)?se:oe;return o(s[0],a,r)}function nn(e,t,n,r){var o=e.length,s=(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return 1===e.length}))}));if(t)return function(t){for(var r=(0,i.Tj)(t,(function(e){return e.GATE})),s=0;s<o;s++){var a=e[s],l=a.length,u=r[s];if(void 0===u||!1!==u.call(this))e:for(var c=0;c<l;c++){for(var h=a[c],d=h.length,f=0;f<d;f++){var p=this.LA(f+1);if(!1===n(p,h[f]))continue e}return s}}};if(s&&!r){var a=(0,i.Tj)(e,(function(e){return(0,i.Bq)(e)})),l=(0,i.TS)(a,(function(e,t,n){return(0,i.jJ)(t,(function(t){(0,i.zy)(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=n),(0,i.jJ)(t.categoryMatches,(function(t){(0,i.zy)(e,t)||(e[t]=n)}))})),e}),[]);return function(){var e=this.LA(1);return l[e.tokenTypeIdx]}}return function(){for(var t=0;t<o;t++){var r=e[t],i=r.length;e:for(var s=0;s<i;s++){for(var a=r[s],l=a.length,u=0;u<l;u++){var c=this.LA(u+1);if(!1===n(c,a[u]))continue e}return t}}}}function rn(e,t,n){var r=(0,i.Si)(e,(function(e){return 1===e.length})),o=e.length;if(r&&!n){var s=(0,i.Bq)(e);if(1===s.length&&(0,i.Im)(s[0].categoryMatches)){var a=s[0],l=a.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===l}}var u=(0,i.TS)(s,(function(e,t,n){return e[t.tokenTypeIdx]=!0,(0,i.jJ)(t.categoryMatches,(function(t){e[t]=!0})),e}),[]);return function(){var e=this.LA(1);return!0===u[e.tokenTypeIdx]}}return function(){e:for(var n=0;n<o;n++){for(var r=e[n],i=r.length,s=0;s<i;s++){var a=this.LA(s+1);if(!1===t(a,r[s]))continue e}return!0}return!1}}(function(e){e[e["OPTION"]=0]="OPTION",e[e["REPETITION"]=1]="REPETITION",e[e["REPETITION_MANDATORY"]=2]="REPETITION_MANDATORY",e[e["REPETITION_MANDATORY_WITH_SEPARATOR"]=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e["REPETITION_WITH_SEPARATOR"]=4]="REPETITION_WITH_SEPARATOR",e[e["ALTERNATION"]=5]="ALTERNATION"})(Jt||(Jt={}));var on=function(e){function t(t,n,r){var i=e.call(this)||this;return i.topProd=t,i.targetOccurrence=n,i.targetProdType=r,i}return Qt(t,e),t.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},t.prototype.checkIsTarget=function(e,t,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=n.concat(r),!0)},t.prototype.walkOption=function(t,n,r){this.checkIsTarget(t,Jt.OPTION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOne=function(t,n,r){this.checkIsTarget(t,Jt.REPETITION_MANDATORY,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkAtLeastOneSep=function(t,n,r){this.checkIsTarget(t,Jt.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkMany=function(t,n,r){this.checkIsTarget(t,Jt.REPETITION,n,r)||e.prototype.walkOption.call(this,t,n,r)},t.prototype.walkManySep=function(t,n,r){this.checkIsTarget(t,Jt.REPETITION_WITH_SEPARATOR,n,r)||e.prototype.walkOption.call(this,t,n,r)},t}(tt),sn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.targetOccurrence=t,i.targetProdType=n,i.targetRef=r,i.result=[],i}return Qt(t,e),t.prototype.checkIsTarget=function(e,t){e.idx!==this.targetOccurrence||this.targetProdType!==t||void 0!==this.targetRef&&e!==this.targetRef||(this.result=e.definition)},t.prototype.visitOption=function(e){this.checkIsTarget(e,Jt.OPTION)},t.prototype.visitRepetition=function(e){this.checkIsTarget(e,Jt.REPETITION)},t.prototype.visitRepetitionMandatory=function(e){this.checkIsTarget(e,Jt.REPETITION_MANDATORY)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.checkIsTarget(e,Jt.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.visitRepetitionWithSeparator=function(e){this.checkIsTarget(e,Jt.REPETITION_WITH_SEPARATOR)},t.prototype.visitAlternation=function(e){this.checkIsTarget(e,Jt.ALTERNATION)},t}(rt);function an(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=[];return t}function ln(e){for(var t=[""],n=0;n<e.length;n++){for(var r=e[n],i=[],o=0;o<t.length;o++){var s=t[o];i.push(s+"_"+r.tokenTypeIdx);for(var a=0;a<r.categoryMatches.length;a++){var l="_"+r.categoryMatches[a];i.push(s+l)}}t=i}return t}function un(e,t,n){for(var r=0;r<e.length;r++)if(r!==n)for(var i=e[r],o=0;o<t.length;o++){var s=t[o];if(!0===i[s])return!1}return!0}function cn(e,t){for(var n=(0,i.Tj)(e,(function(e){return qt([e],1)})),r=an(n.length),o=(0,i.Tj)(n,(function(e){var t={};return(0,i.jJ)(e,(function(e){var n=ln(e.partialPath);(0,i.jJ)(n,(function(e){t[e]=!0}))})),t})),s=n,a=1;a<=t;a++){var l=s;s=an(l.length);for(var u=function(e){for(var n=l[e],u=0;u<n.length;u++){var c=n[u].partialPath,h=n[u].suffixDef,d=ln(c),f=un(o,d,e);if(f||(0,i.Im)(h)||c.length===t){var p=r[e];if(!1===fn(p,c)){p.push(c);for(var m=0;m<d.length;m++){var g=d[m];o[e][g]=!0}}}else{var v=qt(h,a+1,c);s[e]=s[e].concat(v),(0,i.jJ)(v,(function(t){var n=ln(t.partialPath);(0,i.jJ)(n,(function(t){o[e][t]=!0}))}))}}},c=0;c<l.length;c++)u(c)}return r}function hn(e,t,n,r){var i=new sn(e,Jt.ALTERNATION,r);return t.accept(i),cn(i.result,n)}function dn(e,t,n,r){var i=new sn(e,n);t.accept(i);var o=i.result,s=new on(t,e,n),a=s.startWalking(),l=new ze({definition:o}),u=new ze({definition:a});return cn([l,u],r)}function fn(e,t){e:for(var n=0;n<e.length;n++){var r=e[n];if(r.length===t.length){for(var i=0;i<r.length;i++){var o=t[i],s=r[i],a=o===s||void 0!==s.categoryMatchesMap[o.tokenTypeIdx];if(!1===a)continue e}return!0}}return!1}function pn(e,t){return e.length<t.length&&(0,i.Si)(e,(function(e,n){var r=t[n];return e===r||r.categoryMatchesMap[e.tokenTypeIdx]}))}function mn(e){return(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return(0,i.Si)(e,(function(e){return(0,i.Im)(e.categoryMatches)}))}))}))}var gn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function vn(e,t,n,r,o,s){var a=i.Tj(e,(function(e){return bn(e,o)})),l=i.Tj(e,(function(e){return Nn(e,e,o)})),u=[],c=[],h=[];(0,i.Si)(l,i.Im)&&(u=(0,i.Tj)(e,(function(e){return On(e,o)})),c=(0,i.Tj)(e,(function(e){return In(e,t,r,o)})),h=Fn(e,t,o));var d=Bn(e,n,o),f=i.Tj(n,(function(e){return Rn(e,o)})),p=yn(e,o),m=jn(e,o),g=(0,i.Tj)(e,(function(e){return Dn(e,o)})),v=(0,i.Tj)(e,(function(e){return Mn(e,o)})),y=(0,i.Tj)(e,(function(t){return xn(t,e,s,o)}));return i.Bq(a.concat(f,p,m,h,l,u,c,d,g,v,y))}function yn(e,t){var n=[];return(0,i.jJ)(e,(function(e){var r=new Ht("");e.accept(r);var o=(0,i.Tj)(r.result,(function(e){return e.orgProd}));n.push((0,i.Tj)(o,(function(n){return Cn(e,n,t)})))})),(0,i.Bq)(n)}function bn(e,t){var n=new En;e.accept(n);var r=n.allProductions,o=i.$z(r,wn),s=i.Up(o,(function(e){return e.length>1})),a=i.Tj(i.zu(s),(function(n){var r=i.$1(n),o=t.buildDuplicateFoundError(e,n),s=lt(r),a={message:o,type:Gr.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:s,occurrence:r.idx},l=_n(r);return l&&(a.parameter=l),a}));return a}function wn(e){return lt(e)+"_#_"+e.idx+"_#_"+_n(e)}function _n(e){return e instanceof Qe?e.terminalType.name:e instanceof Ve?e.nonTerminalName:""}var En=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return gn(t,e),t.prototype.visitNonTerminal=function(e){this.allProductions.push(e)},t.prototype.visitOption=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t.prototype.visitAlternation=function(e){this.allProductions.push(e)},t.prototype.visitTerminal=function(e){this.allProductions.push(e)},t}(rt),Sn=/^[a-zA-Z_]\w*$/,Tn=new RegExp(Sn.source.replace("^","^\\$"));function Mn(e,t){var n=[],r=e.name;return r.match(Sn)||n.push({message:t.buildInvalidRuleNameError({topLevelRule:e,expectedPattern:Sn}),type:Gr.INVALID_RULE_NAME,ruleName:r}),n}function Cn(e,t,n){var r,i=[];return t.name.match(Tn)||(r=n.buildInvalidNestedRuleNameError(e,t),i.push({message:r,type:Gr.INVALID_NESTED_RULE_NAME,ruleName:e.name})),i}function Rn(e,t){var n=[],r=e.name;return r.match(Sn)||n.push({message:t.buildTokenNameError({tokenType:e,expectedPattern:Sn}),type:Gr.INVALID_TOKEN_NAME}),n}function xn(e,t,n,r){var o=[],s=(0,i.TS)(t,(function(t,n){return n.name===e.name?t+1:t}),0);if(s>1){var a=r.buildDuplicateRuleNameError({topLevelRule:e,grammarName:n});o.push({message:a,type:Gr.DUPLICATE_RULE_NAME,ruleName:e.name})}return o}function An(e,t,n){var r,o=[];return i.gR(t,e)||(r="Invalid rule override, rule: ->"+e+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",o.push({message:r,type:Gr.INVALID_RULE_OVERRIDE,ruleName:e})),o}function Nn(e,t,n,r){void 0===r&&(r=[]);var o=[],s=Ln(t.definition);if(i.Im(s))return[];var a=e.name,l=i.gR(s,e);l&&o.push({message:n.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:r}),type:Gr.LEFT_RECURSION,ruleName:a});var u=i.iv(s,r.concat([e])),c=i.Tj(u,(function(t){var o=i.T9(r);return o.push(t),Nn(e,t,n,o)}));return o.concat(i.Bq(c))}function Ln(e){var t=[];if(i.Im(e))return t;var n=i.$1(e);if(n instanceof Ve)t.push(n.referencedRule);else if(n instanceof ze||n instanceof Ge||n instanceof $e||n instanceof qe||n instanceof Xe||n instanceof Ke)t=t.concat(Ln(n.definition));else if(n instanceof Je)t=i.Bq(i.Tj(n.definition,(function(e){return Ln(e.definition)})));else if(!(n instanceof Qe))throw Error("non exhaustive match");var r=st(n),o=e.length>1;if(r&&o){var s=i.gv(e);return t.concat(Ln(s))}return t}var kn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.alternations=[],t}return gn(t,e),t.prototype.visitAlternation=function(e){this.alternations.push(e)},t}(rt);function On(e,t){var n=new kn;e.accept(n);var r=n.alternations,o=i.TS(r,(function(n,r){var o=i.gc(r.definition),s=i.Tj(o,(function(n,o){var s=Kt([n],[],null,1);return i.Im(s)?{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:o}),type:Gr.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:o+1}:null}));return n.concat(i.oE(s))}),[]);return o}function In(e,t,n,r){var o=new kn;e.accept(o);var s=o.alternations,a=n[e.name];a&&(s=(0,i.ku)(s,(function(e){return a[lt(e)+(0===e.idx?"":e.idx)]}))),s=(0,i.ku)(s,(function(e){return!0===e.ignoreAmbiguities}));var l=i.TS(s,(function(n,i){var o=i.idx,s=i.maxLookahead||t,a=hn(o,e,s,i),l=Hn(a,i,e,r),u=Un(a,i,e,r);return n.concat(l,u)}),[]);return l}var Pn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.allProductions=[],t}return gn(t,e),t.prototype.visitRepetitionWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatory=function(e){this.allProductions.push(e)},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){this.allProductions.push(e)},t.prototype.visitRepetition=function(e){this.allProductions.push(e)},t}(rt);function Dn(e,t){var n=new kn;e.accept(n);var r=n.alternations,o=i.TS(r,(function(n,r){return r.definition.length>255&&n.push({message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:Gr.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}),n}),[]);return o}function Fn(e,t,n){var r=[];return(0,i.jJ)(e,(function(e){var o=new Pn;e.accept(o);var s=o.allProductions;(0,i.jJ)(s,(function(o){var s=Zt(o),a=o.maxLookahead||t,l=o.idx,u=dn(l,e,s,a),c=u[0];if((0,i.Im)((0,i.Bq)(c))){var h=n.buildEmptyRepetitionError({topLevelRule:e,repetition:o});r.push({message:h,type:Gr.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),r}function Hn(e,t,n,r){var o=[],s=(0,i.TS)(e,(function(n,r,s){return!0===t.definition[s].ignoreAmbiguities||(0,i.jJ)(r,(function(r){var a=[s];(0,i.jJ)(e,(function(e,n){s!==n&&fn(e,r)&&!0!==t.definition[n].ignoreAmbiguities&&a.push(n)})),a.length>1&&!fn(o,r)&&(o.push(r),n.push({alts:a,path:r}))})),n}),[]),a=i.Tj(s,(function(e){var o=(0,i.Tj)(e.alts,(function(e){return e+1})),s=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:o,prefixPath:e.path});return{message:s,type:Gr.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:t.idx,alternatives:[e.alts]}}));return a}function Un(e,t,n,r){var o=[],s=(0,i.TS)(e,(function(e,t,n){var r=(0,i.Tj)(t,(function(e){return{idx:n,path:e}}));return e.concat(r)}),[]);return(0,i.jJ)(s,(function(e){var a=t.definition[e.idx];if(!0!==a.ignoreAmbiguities){var l=e.idx,u=e.path,c=(0,i.JW)(s,(function(e){return!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<l&&pn(e.path,u)})),h=(0,i.Tj)(c,(function(e){var i=[e.idx+1,l+1],o=0===t.idx?"":t.idx,s=r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:t,ambiguityIndices:i,prefixPath:e.path});return{message:s,type:Gr.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}}));o=o.concat(h)}})),o}function Bn(e,t,n){var r=[],o=(0,i.Tj)(t,(function(e){return e.name}));return(0,i.jJ)(e,(function(e){var t=e.name;if((0,i.gR)(o,t)){var s=n.buildNamespaceConflictError(e);r.push({message:s,type:Gr.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),r}function jn(e,t){var n=[];return(0,i.jJ)(e,(function(e){var r=new Ht("");e.accept(r);var o=(0,i.$z)(r.result,(function(e){return e.name})),s=(0,i.Up)(o,(function(e){return e.length>1}));(0,i.jJ)((0,i.zu)(s),(function(r){var o=(0,i.Tj)(r,(function(e){return e.orgProd})),s=t.buildDuplicateNestedRuleNameError(e,o);n.push({message:s,type:Gr.DUPLICATE_NESTED_NAME,ruleName:e.name})}))})),n}var Yn={buildMismatchTokenMessage:function(e){var t=e.expected,n=e.actual,r=(e.previous,e.ruleName,Ce(t)),i=r?"--\x3e "+Te(t)+" <--":"token of type --\x3e "+t.name+" <--",o="Expecting "+i+" but found --\x3e '"+n.image+"' <--";return o},buildNotAllInputParsedMessage:function(e){var t=e.firstRedundant;e.ruleName;return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage:function(e){var t=e.expectedPathsPerAlt,n=e.actual,r=(e.previous,e.customUserDescription),o=(e.ruleName,"Expecting: "),s=(0,i.$1)(n).image,a="\nbut found: '"+s+"'";if(r)return o+r+a;var l=(0,i.TS)(t,(function(e,t){return e.concat(t)}),[]),u=(0,i.Tj)(l,(function(e){return"["+(0,i.Tj)(e,(function(e){return Te(e)})).join(", ")+"]"})),c=(0,i.Tj)(u,(function(e,t){return"  "+(t+1)+". "+e})),h="one of these possible Token sequences:\n"+c.join("\n");return o+h+a},buildEarlyExitMessage:function(e){var t=e.expectedIterationPaths,n=e.actual,r=e.customUserDescription,o=(e.ruleName,"Expecting: "),s=(0,i.$1)(n).image,a="\nbut found: '"+s+"'";if(r)return o+r+a;var l=(0,i.Tj)(t,(function(e){return"["+(0,i.Tj)(e,(function(e){return Te(e)})).join(",")+"]"})),u="expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+l.join(" ,")+">";return o+u+a}};Object.freeze(Yn);var Vn={buildRuleNotFoundError:function(e,t){var n="Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-";return n}},Wn={buildDuplicateFoundError:function(e,t){function n(e){return e instanceof Qe?e.terminalType.name:e instanceof Ve?e.nonTerminalName:""}var r=e.name,o=(0,i.$1)(t),s=o.idx,a=lt(o),l=n(o),u=s>0,c="->"+a+(u?s:"")+"<- "+(l?"with argument: ->"+l+"<-":"")+"\n                  appears more than once ("+t.length+" times) in the top level rule: ->"+r+"<-.                  \n                  For further details see: https://sap.github.io/chevrotain/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,"\n"),c},buildInvalidNestedRuleNameError:function(e,t){var n="Invalid nested rule name: ->"+t.name+"<- inside rule: ->"+e.name+"<-\nit must match the pattern: ->"+Tn.toString()+"<-.\nNote that this means a nested rule name must start with the '$'(dollar) sign.";return n},buildDuplicateNestedRuleNameError:function(e,t){var n=(0,i.$1)(t).name,r="Duplicate nested rule name: ->"+n+"<- inside rule: ->"+e.name+"<-\nA nested name must be unique in the scope of a top level grammar rule.";return r},buildNamespaceConflictError:function(e){var t="Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+e.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.";return t},buildAlternationPrefixAmbiguityError:function(e){var t=(0,i.Tj)(e.prefixPath,(function(e){return Te(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous alternatives: <"+e.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\nSee: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.";return r},buildAlternationAmbiguityError:function(e){var t=(0,i.Tj)(e.prefixPath,(function(e){return Te(e)})).join(", "),n=0===e.alternation.idx?"":e.alternation.idx,r="Ambiguous Alternatives Detected: <"+e.ambiguityIndices.join(" ,")+"> in <OR"+n+"> inside <"+e.topLevelRule.name+"> Rule,\n<"+t+"> may appears as a prefix path in all these alternatives.\n";return r+="See: https://sap.github.io/chevrotain/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",r},buildEmptyRepetitionError:function(e){var t=lt(e.repetition);0!==e.repetition.idx&&(t+=e.repetition.idx);var n="The repetition <"+t+"> within Rule <"+e.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop.";return n},buildTokenNameError:function(e){var t=e.tokenType.name,n="Invalid Grammar Token name: ->"+t+"<- it must match the pattern: ->"+e.expectedPattern.toString()+"<-";return n},buildEmptyAlternationError:function(e){var t="Ambiguous empty alternative: <"+(e.emptyChoiceIdx+1)+"> in <OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative.";return t},buildTooManyAlternativesError:function(e){var t="An Alternation cannot have more than 256 alternatives:\n<OR"+e.alternation.idx+"> inside <"+e.topLevelRule.name+"> Rule.\n has "+(e.alternation.definition.length+1)+" alternatives.";return t},buildLeftRecursionError:function(e){var t=e.topLevelRule.name,n=i.Tj(e.leftRecursionPath,(function(e){return e.name})),r=t+" --\x3e "+n.concat([t]).join(" --\x3e "),o="Left Recursion found in grammar.\nrule: <"+t+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+r+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.";return o},buildInvalidRuleNameError:function(e){var t=e.topLevelRule.name,n=e.expectedPattern.toString(),r="Invalid grammar rule name: ->"+t+"<- it must match the pattern: ->"+n+"<-";return r},buildDuplicateRuleNameError:function(e){var t;t=e.topLevelRule instanceof We?e.topLevelRule.name:e.topLevelRule;var n="Duplicate definition, rule: ->"+t+"<- is already defined in the grammar: ->"+e.grammarName+"<-";return n}},zn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Gn(e,t){var n=new $n(e,t);return n.resolveRefs(),n.errors}var $n=function(e){function t(t,n){var r=e.call(this)||this;return r.nameToTopRule=t,r.errMsgProvider=n,r.errors=[],r}return zn(t,e),t.prototype.resolveRefs=function(){var e=this;(0,i.jJ)((0,i.zu)(this.nameToTopRule),(function(t){e.currTopLevel=t,t.accept(e)}))},t.prototype.visitNonTerminal=function(e){var t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:Gr.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}},t}(rt);function qn(e){e=(0,i.NT)(e,{errMsgProvider:Vn});var t={};return(0,i.jJ)(e.rules,(function(e){t[e.name]=e})),Gn(t,e.errMsgProvider)}function Kn(e){return e=(0,i.NT)(e,{errMsgProvider:Wn,ignoredIssues:{}}),vn(e.rules,e.maxLookahead,e.tokenTypes,e.ignoredIssues,e.errMsgProvider,e.grammarName)}function Xn(e){(0,i.jJ)(e.rules,(function(e){var t=new ut;e.accept(t),(0,i.jJ)(t.dslMethods,(function(e){(0,i.jJ)(e,(function(e,t){e.idx=t+1}))}))}))}var Jn="MismatchedTokenException",Qn="NoViableAltException",Zn="EarlyExitException",er="NotAllInputParsedException",tr=[Jn,Qn,Zn,er];function nr(e){return(0,i.gR)(tr,e.name)}function rr(e,t,n){this.name=Jn,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}function ir(e,t,n){this.name=Qn,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}function or(e,t){this.name=er,this.message=e,this.token=t,this.resyncedTokens=[]}function sr(e,t,n){this.name=Zn,this.message=e,this.token=t,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(tr),rr.prototype=Error.prototype,ir.prototype=Error.prototype,or.prototype=Error.prototype,sr.prototype=Error.prototype;var ar={},lr="InRuleRecoveryException";function ur(e){this.name=lr,this.message=e}ur.prototype=Error.prototype;var cr=function(){function e(){}return e.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,i.zy)(e,"recoveryEnabled")?e.recoveryEnabled:$r.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=hr)},e.prototype.getTokenToInsert=function(e){var t=Ue(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t},e.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},e.prototype.tryInRepetitionRecovery=function(e,t,n,r){var o=this,s=this.findReSyncTokenType(),a=this.exportLexerState(),l=[],u=!1,c=this.LA(1),h=this.LA(1),d=function(){var e=o.LA(0),t=o.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:e,ruleName:o.getCurrRuleFullName()}),n=new rr(t,c,o.LA(0));n.resyncedTokens=(0,i.gc)(l),o.SAVE_ERROR(n)};while(!u){if(this.tokenMatcher(h,r))return void d();if(n.call(this))return d(),void e.apply(this,t);this.tokenMatcher(h,s)?u=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,l))}this.importLexerState(a)},e.prototype.shouldInRepetitionRecoveryBeTried=function(e,t,n){return!1!==n&&(void 0!==e&&void 0!==t&&(!this.tokenMatcher(this.LA(1),e)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))))},e.prototype.getFollowsForInRuleRecovery=function(e,t){var n=this.getCurrentGrammarPath(e,t),r=this.getNextPossibleTokenTypes(n);return r},e.prototype.tryInRuleRecovery=function(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t)){var n=this.getTokenToInsert(e);return n}if(this.canRecoverWithSingleTokenDeletion(e)){var r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new ur("sad sad panda")},e.prototype.canPerformInRuleRecovery=function(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)},e.prototype.canRecoverWithSingleTokenInsertion=function(e,t){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e))return!1;if((0,i.Im)(t))return!1;var r=this.LA(1),o=void 0!==(0,i.I6)(t,(function(e){return n.tokenMatcher(r,e)}));return o},e.prototype.canRecoverWithSingleTokenDeletion=function(e){var t=this.tokenMatcher(this.LA(2),e);return t},e.prototype.isInCurrentRuleReSyncSet=function(e){var t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return(0,i.gR)(n,e)},e.prototype.findReSyncTokenType=function(){var e=this.flattenFollowSet(),t=this.LA(1),n=2;while(1){var r=t.tokenType;if((0,i.gR)(e,r))return r;t=this.LA(n),n++}},e.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return ar;var e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}},e.prototype.buildFullFollowKeyStack=function(){var e=this,t=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return(0,i.Im)(this.LAST_EXPLICIT_RULE_STACK)||(t=(0,i.Tj)(this.LAST_EXPLICIT_RULE_STACK,(function(t){return e.RULE_STACK[t]})),n=(0,i.Tj)(this.LAST_EXPLICIT_RULE_STACK,(function(t){return e.RULE_OCCURRENCE_STACK[t]}))),(0,i.Tj)(t,(function(r,i){return 0===i?ar:{ruleName:e.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:e.shortRuleNameToFullName(t[i-1])}}))},e.prototype.flattenFollowSet=function(){var e=this,t=(0,i.Tj)(this.buildFullFollowKeyStack(),(function(t){return e.getFollowSetFromFollowKey(t)}));return(0,i.Bq)(t)},e.prototype.getFollowSetFromFollowKey=function(e){if(e===ar)return[He];var t=e.ruleName+e.idxInCallingRule+gt+e.inRule;return this.resyncFollows[t]},e.prototype.addToResyncTokens=function(e,t){return this.tokenMatcher(e,He)||t.push(e),t},e.prototype.reSyncTo=function(e){var t=[],n=this.LA(1);while(!1===this.tokenMatcher(n,e))n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return(0,i.gc)(t)},e.prototype.attemptInRepetitionRecovery=function(e,t,n,r,i,o,s){},e.prototype.getCurrentGrammarPath=function(e,t){var n=this.getHumanReadableRuleStack(),r=(0,i.T9)(this.RULE_OCCURRENCE_STACK),o={ruleStack:n,occurrenceStack:r,lastTok:e,lastTokOccurrence:t};return o},e.prototype.getHumanReadableRuleStack=function(){var e=this;return(0,i.Im)(this.LAST_EXPLICIT_RULE_STACK)?(0,i.Tj)(this.RULE_STACK,(function(t){return e.shortRuleNameToFullName(t)})):(0,i.Tj)(this.LAST_EXPLICIT_RULE_STACK,(function(t){return e.shortRuleNameToFullName(e.RULE_STACK[t])}))},e}();function hr(e,t,n,r,i,o,s){var a=this.getKeyForAutomaticLookahead(r,i),l=this.firstAfterRepMap[a];if(void 0===l){var u=this.getCurrRuleFullName(),c=this.getGAstProductions()[u],h=new o(c,i);l=h.startWalking(),this.firstAfterRepMap[a]=l}var d=l.token,f=l.occurrence,p=l.isEndOfRule;1===this.RULE_STACK.length&&p&&void 0===d&&(d=He,f=1),this.shouldInRepetitionRecoveryBeTried(d,f,s)&&this.tryInRepetitionRecovery(e,t,n,d)}var dr=function(){function e(){}return e.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=(0,i.zy)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:$r.dynamicTokensEnabled,this.maxLookahead=(0,i.zy)(e,"maxLookahead")?e.maxLookahead:$r.maxLookahead,this.lookAheadFuncsCache=(0,i.rF)()?new Map:[],(0,i.rF)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},e.prototype.preComputeLookaheadFunctions=function(e){var t=this;(0,i.jJ)(e,(function(e){t.TRACE_INIT(e.name+" Rule Lookahead",(function(){var n=ht(e),r=n.alternation,o=n.repetition,s=n.option,a=n.repetitionMandatory,l=n.repetitionMandatoryWithSeparator,u=n.repetitionWithSeparator;(0,i.jJ)(r,(function(n){var r=0===n.idx?"":n.idx;t.TRACE_INIT(""+lt(n)+r,(function(){var r=en(n.idx,e,n.maxLookahead||t.maxLookahead,n.hasPredicates,t.dynamicTokensEnabled,t.lookAheadBuilderForAlternatives),i=Nt(t.fullRuleNameToShort[e.name],Tt,n.idx);t.setLaFuncCache(i,r)}))})),(0,i.jJ)(o,(function(n){t.computeLookaheadFunc(e,n.idx,Ct,Jt.REPETITION,n.maxLookahead,lt(n))})),(0,i.jJ)(s,(function(n){t.computeLookaheadFunc(e,n.idx,Mt,Jt.OPTION,n.maxLookahead,lt(n))})),(0,i.jJ)(a,(function(n){t.computeLookaheadFunc(e,n.idx,Rt,Jt.REPETITION_MANDATORY,n.maxLookahead,lt(n))})),(0,i.jJ)(l,(function(n){t.computeLookaheadFunc(e,n.idx,At,Jt.REPETITION_MANDATORY_WITH_SEPARATOR,n.maxLookahead,lt(n))})),(0,i.jJ)(u,(function(n){t.computeLookaheadFunc(e,n.idx,xt,Jt.REPETITION_WITH_SEPARATOR,n.maxLookahead,lt(n))}))}))}))},e.prototype.computeLookaheadFunc=function(e,t,n,r,i,o){var s=this;this.TRACE_INIT(""+o+(0===t?"":t),(function(){var o=tn(t,e,i||s.maxLookahead,s.dynamicTokensEnabled,r,s.lookAheadBuilderForOptional),a=Nt(s.fullRuleNameToShort[e.name],n,t);s.setLaFuncCache(a,o)}))},e.prototype.lookAheadBuilderForOptional=function(e,t,n){return rn(e,t,n)},e.prototype.lookAheadBuilderForAlternatives=function(e,t,n,r){return nn(e,t,n,r)},e.prototype.getKeyForAutomaticLookahead=function(e,t){var n=this.getLastExplicitRuleShortName();return Nt(n,e,t)},e.prototype.getLaFuncFromCache=function(e){},e.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},e.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},e.prototype.setLaFuncCache=function(e,t){},e.prototype.setLaFuncCacheUsingMap=function(e,t){this.lookAheadFuncsCache.set(e,t)},e.prototype.setLaFuncUsingObj=function(e,t){this.lookAheadFuncsCache[e]=t},e}();function fr(e){return vr(e.constructor)}var pr,mr=/^\s*function\s*(\S*)\s*\(/,gr="name";function vr(e){var t=e.name;if(t)return t;var n=e.toString().match(mr)[1];return n}function yr(e,t){var n=Object.getOwnPropertyDescriptor(e,gr);return!(!(0,i.b0)(n)&&!n.configurable)&&(Object.defineProperty(e,gr,{enumerable:!1,configurable:!0,writable:!1,value:t}),!0)}function br(e,t){for(var n=(0,i.HP)(e),r=n.length,o=0;o<r;o++)for(var s=n[o],a=e[s],l=a.length,u=0;u<l;u++){var c=a[u];void 0===c.tokenTypeIdx&&(void 0!==c.fullName?this[c.fullName](c.children,t):this[c.name](c.children,t))}}function wr(e,t){var n=function(){};yr(n,e+"BaseSemantics");var r={visit:function(e,t){if((0,i.cy)(e)&&(e=e[0]),!(0,i.b0)(e))return void 0!==e.fullName?this[e.fullName](e.children,t):this[e.name](e.children,t)},validateVisitor:function(){var e=Er(this,t);if(!(0,i.Im)(e)){var n=(0,i.Tj)(e,(function(e){return e.msg}));throw Error("Errors Detected in CST Visitor <"+vr(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=t,n}function _r(e,t,n){var r=function(){};yr(r,e+"BaseSemanticsWithDefaults");var o=Object.create(n.prototype);return(0,i.jJ)(t,(function(e){o[e]=br})),r.prototype=o,r.prototype.constructor=r,r}function Er(e,t){var n=Sr(e,t),r=Mr(e,t);return n.concat(r)}function Sr(e,t){var n=(0,i.Tj)(t,(function(t){if(!(0,i.Tn)(e[t]))return{msg:"Missing visitor method: <"+t+"> on "+vr(e.constructor)+" CST Visitor.",type:pr.MISSING_METHOD,methodName:t}}));return(0,i.oE)(n)}(function(e){e[e["REDUNDANT_METHOD"]=0]="REDUNDANT_METHOD",e[e["MISSING_METHOD"]=1]="MISSING_METHOD"})(pr||(pr={}));var Tr=["constructor","visit","validateVisitor"];function Mr(e,t){var n=[];for(var r in e)Sn.test(r)&&(0,i.Tn)(e[r])&&!(0,i.gR)(Tr,r)&&!(0,i.gR)(t,r)&&n.push({msg:"Redundant visitor method: <"+r+"> on "+vr(e.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+Sn.source+"/.",type:pr.REDUNDANT_METHOD,methodName:r});return n}var Cr=function(){function e(){}return e.prototype.initTreeBuilder=function(e){if(this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.outputCst=(0,i.zy)(e,"outputCst")?e.outputCst:$r.outputCst,this.nodeLocationTracking=(0,i.zy)(e,"nodeLocationTracking")?e.nodeLocationTracking:$r.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Pt,this.setNodeLocationFromNode=Pt,this.cstPostRule=i.tE,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=It,this.setNodeLocationFromNode=It,this.cstPostRule=i.tE,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"');this.setNodeLocationFromToken=i.tE,this.setNodeLocationFromNode=i.tE,this.cstPostRule=i.tE,this.setInitialNodeLocation=i.tE}else this.cstInvocationStateUpdate=i.tE,this.cstFinallyStateUpdate=i.tE,this.cstPostTerminal=i.tE,this.cstPostNonTerminal=i.tE,this.cstPostRule=i.tE,this.getLastExplicitRuleShortName=this.getLastExplicitRuleShortNameNoCst,this.getPreviousExplicitRuleShortName=this.getPreviousExplicitRuleShortNameNoCst,this.getLastExplicitRuleOccurrenceIndex=this.getLastExplicitRuleOccurrenceIndexNoCst,this.manyInternal=this.manyInternalNoCst,this.orInternal=this.orInternalNoCst,this.optionInternal=this.optionInternalNoCst,this.atLeastOneInternal=this.atLeastOneInternalNoCst,this.manySepFirstInternal=this.manySepFirstInternalNoCst,this.atLeastOneSepFirstInternal=this.atLeastOneSepFirstInternalNoCst},e.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},e.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},e.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.setInitialNodeLocationFullRegular=function(e){var t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},e.prototype.cstNestedInvocationStateUpdate=function(e,t){var n={name:e,fullName:this.shortRuleNameToFull[this.getLastExplicitRuleShortName()]+e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstInvocationStateUpdate=function(e,t){this.LAST_EXPLICIT_RULE_STACK.push(this.RULE_STACK.length-1);var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},e.prototype.cstFinallyStateUpdate=function(){this.LAST_EXPLICIT_RULE_STACK.pop(),this.CST_STACK.pop()},e.prototype.cstNestedFinallyStateUpdate=function(){var e=this.CST_STACK.pop();this.cstPostRule(e)},e.prototype.cstPostRuleFull=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},e.prototype.cstPostRuleOnlyOffset=function(e){var t=this.LA(0),n=e.location;n.startOffset<=t.startOffset===!0?n.endOffset=t.endOffset:n.startOffset=NaN},e.prototype.cstPostTerminal=function(e,t){var n=this.CST_STACK[this.CST_STACK.length-1];Dt(n,t,e),this.setNodeLocationFromToken(n.location,t)},e.prototype.cstPostNonTerminal=function(e,t){if(!0!==this.isBackTracking()){var n=this.CST_STACK[this.CST_STACK.length-1];Ft(n,t,e),this.setNodeLocationFromNode(n.location,e.location)}},e.prototype.getBaseCstVisitorConstructor=function(){if((0,i.b0)(this.baseCstVisitorConstructor)){var e=wr(this.className,this.allRuleNames);return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},e.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,i.b0)(this.baseCstVisitorWithDefaultsConstructor)){var e=_r(this.className,this.allRuleNames,this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},e.prototype.nestedRuleBeforeClause=function(e,t){var n;return void 0!==e.NAME?(n=e.NAME,this.nestedRuleInvocationStateUpdate(n,t),n):void 0},e.prototype.nestedAltBeforeClause=function(e,t,n,r){var i,o=this.getLastExplicitRuleShortName(),s=kt(o,n,t,r);return void 0!==e.NAME?(i=e.NAME,this.nestedRuleInvocationStateUpdate(i,s),{shortName:s,nestedName:i}):void 0},e.prototype.nestedRuleFinallyClause=function(e,t){var n=this.CST_STACK,r=n[n.length-1];this.nestedRuleFinallyStateUpdate();var i=n[n.length-1];Ft(i,t,r),this.setNodeLocationFromNode(i.location,r.location)},e.prototype.getLastExplicitRuleShortName=function(){var e=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_STACK[e]},e.prototype.getLastExplicitRuleShortNameNoCst=function(){var e=this.RULE_STACK;return e[e.length-1]},e.prototype.getPreviousExplicitRuleShortName=function(){var e=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-2];return this.RULE_STACK[e]},e.prototype.getPreviousExplicitRuleShortNameNoCst=function(){var e=this.RULE_STACK;return e[e.length-2]},e.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_OCCURRENCE_STACK[e]},e.prototype.getLastExplicitRuleOccurrenceIndexNoCst=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},e.prototype.nestedRuleInvocationStateUpdate=function(e,t){this.RULE_OCCURRENCE_STACK.push(1),this.RULE_STACK.push(t),this.cstNestedInvocationStateUpdate(e,t)},e.prototype.nestedRuleFinallyStateUpdate=function(){this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstNestedFinallyStateUpdate()},e}(),Rr=function(){function e(){}return e.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(e.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!0,configurable:!0}),e.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):zr},e.prototype.LA=function(e){var t=this.currIdx+e;return t<0||this.tokVectorLength<=t?zr:this.tokVector[t]},e.prototype.consumeToken=function(){this.currIdx++},e.prototype.exportLexerState=function(){return this.currIdx},e.prototype.importLexerState=function(e){this.currIdx=e},e.prototype.resetLexerState=function(){this.currIdx=-1},e.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},e.prototype.getLexerPosition=function(){return this.exportLexerState()},e}(),xr=function(){function e(){}return e.prototype.ACTION=function(e){return e.call(this)},e.prototype.consume=function(e,t,n){return this.consumeInternal(t,e,n)},e.prototype.subrule=function(e,t,n){return this.subruleInternal(t,e,n)},e.prototype.option=function(e,t){return this.optionInternal(t,e)},e.prototype.or=function(e,t){return this.orInternal(t,e)},e.prototype.many=function(e,t){return this.manyInternal(e,t)},e.prototype.atLeastOne=function(e,t){return this.atLeastOneInternal(e,t)},e.prototype.CONSUME=function(e,t){return this.consumeInternal(e,0,t)},e.prototype.CONSUME1=function(e,t){return this.consumeInternal(e,1,t)},e.prototype.CONSUME2=function(e,t){return this.consumeInternal(e,2,t)},e.prototype.CONSUME3=function(e,t){return this.consumeInternal(e,3,t)},e.prototype.CONSUME4=function(e,t){return this.consumeInternal(e,4,t)},e.prototype.CONSUME5=function(e,t){return this.consumeInternal(e,5,t)},e.prototype.CONSUME6=function(e,t){return this.consumeInternal(e,6,t)},e.prototype.CONSUME7=function(e,t){return this.consumeInternal(e,7,t)},e.prototype.CONSUME8=function(e,t){return this.consumeInternal(e,8,t)},e.prototype.CONSUME9=function(e,t){return this.consumeInternal(e,9,t)},e.prototype.SUBRULE=function(e,t){return this.subruleInternal(e,0,t)},e.prototype.SUBRULE1=function(e,t){return this.subruleInternal(e,1,t)},e.prototype.SUBRULE2=function(e,t){return this.subruleInternal(e,2,t)},e.prototype.SUBRULE3=function(e,t){return this.subruleInternal(e,3,t)},e.prototype.SUBRULE4=function(e,t){return this.subruleInternal(e,4,t)},e.prototype.SUBRULE5=function(e,t){return this.subruleInternal(e,5,t)},e.prototype.SUBRULE6=function(e,t){return this.subruleInternal(e,6,t)},e.prototype.SUBRULE7=function(e,t){return this.subruleInternal(e,7,t)},e.prototype.SUBRULE8=function(e,t){return this.subruleInternal(e,8,t)},e.prototype.SUBRULE9=function(e,t){return this.subruleInternal(e,9,t)},e.prototype.OPTION=function(e){return this.optionInternal(e,0)},e.prototype.OPTION1=function(e){return this.optionInternal(e,1)},e.prototype.OPTION2=function(e){return this.optionInternal(e,2)},e.prototype.OPTION3=function(e){return this.optionInternal(e,3)},e.prototype.OPTION4=function(e){return this.optionInternal(e,4)},e.prototype.OPTION5=function(e){return this.optionInternal(e,5)},e.prototype.OPTION6=function(e){return this.optionInternal(e,6)},e.prototype.OPTION7=function(e){return this.optionInternal(e,7)},e.prototype.OPTION8=function(e){return this.optionInternal(e,8)},e.prototype.OPTION9=function(e){return this.optionInternal(e,9)},e.prototype.OR=function(e){return this.orInternal(e,0)},e.prototype.OR1=function(e){return this.orInternal(e,1)},e.prototype.OR2=function(e){return this.orInternal(e,2)},e.prototype.OR3=function(e){return this.orInternal(e,3)},e.prototype.OR4=function(e){return this.orInternal(e,4)},e.prototype.OR5=function(e){return this.orInternal(e,5)},e.prototype.OR6=function(e){return this.orInternal(e,6)},e.prototype.OR7=function(e){return this.orInternal(e,7)},e.prototype.OR8=function(e){return this.orInternal(e,8)},e.prototype.OR9=function(e){return this.orInternal(e,9)},e.prototype.MANY=function(e){this.manyInternal(0,e)},e.prototype.MANY1=function(e){this.manyInternal(1,e)},e.prototype.MANY2=function(e){this.manyInternal(2,e)},e.prototype.MANY3=function(e){this.manyInternal(3,e)},e.prototype.MANY4=function(e){this.manyInternal(4,e)},e.prototype.MANY5=function(e){this.manyInternal(5,e)},e.prototype.MANY6=function(e){this.manyInternal(6,e)},e.prototype.MANY7=function(e){this.manyInternal(7,e)},e.prototype.MANY8=function(e){this.manyInternal(8,e)},e.prototype.MANY9=function(e){this.manyInternal(9,e)},e.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},e.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},e.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},e.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},e.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},e.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},e.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},e.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},e.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},e.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},e.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},e.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},e.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},e.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},e.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},e.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},e.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},e.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},e.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},e.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},e.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},e.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},e.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},e.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},e.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},e.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},e.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},e.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},e.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},e.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},e.prototype.RULE=function(e,t,n){if(void 0===n&&(n=qr),(0,i.gR)(this.definedRulesNames,e)){var r=Wn.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),o={message:r,type:Gr.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);var s=this.defineRule(e,t,n);return this[e]=s,s},e.prototype.OVERRIDE_RULE=function(e,t,n){void 0===n&&(n=qr);var r=[];r=r.concat(An(e,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,r);var i=this.defineRule(e,t,n);return this[e]=i,i},e.prototype.BACKTRACK=function(e,t){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,t),!0}catch(r){if(nr(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},e.prototype.getGAstProductions=function(){return this.gastProductionsCache},e.prototype.getSerializedGastProductions=function(){return Ze((0,i.zu)(this.gastProductionsCache))},e}(),Ar=function(){function e(){}return e.prototype.initRecognizerEngine=function(e,t){if(this.className=fr(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=se,this.definedRulesNames=[],this.tokensMap={},this.allRuleNames=[],this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,i.zy)(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if((0,i.cy)(e)){if((0,i.Im)(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"===typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://sap.github.io/chevrotain/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if((0,i.cy)(e))this.tokensMap=(0,i.TS)(e,(function(e,t){return e[t.name]=t,e}),{});else if((0,i.zy)(e,"modes")&&(0,i.Si)((0,i.Bq)((0,i.zu)(e.modes)),be)){var n=(0,i.Bq)((0,i.zu)(e.modes)),r=(0,i.sb)(n);this.tokensMap=(0,i.TS)(r,(function(e,t){return e[t.name]=t,e}),{})}else{if(!(0,i.Gv)(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=(0,i.lR)(e)}this.tokensMap["EOF"]=He;var o=(0,i.Si)((0,i.zu)(e),(function(e){return(0,i.Im)(e.categoryMatches)}));this.tokenMatcher=o?se:oe,ue((0,i.zu)(this.tokensMap))},e.prototype.defineRule=function(e,t,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,o=(0,i.zy)(n,"resyncEnabled")?n.resyncEnabled:qr.resyncEnabled,s=(0,i.zy)(n,"recoveryValueFunc")?n.recoveryValueFunc:qr.recoveryValueFunc,a=this.ruleShortNameIdx<<_t+Et;function l(e){try{if(!0===this.outputCst){t.apply(this,e);var n=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(n),n}return t.apply(this,e)}catch(r){return this.invokeRuleCatch(r,o,s)}finally{this.ruleFinallyStateUpdate()}}this.ruleShortNameIdx++,this.shortRuleNameToFull[a]=e,this.fullRuleNameToShort[e]=a,r=function(t,n){return void 0===t&&(t=0),this.ruleInvocationStateUpdate(a,e,t),l.call(this,n)};var u="ruleName";return r[u]=e,r["originalGrammarAction"]=t,r},e.prototype.invokeRuleCatch=function(e,t,n){var r=1===this.RULE_STACK.length,i=t&&!this.isBackTracking()&&this.recoveryEnabled;if(nr(e)){var o=e;if(i){var s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s)){if(o.resyncedTokens=this.reSyncTo(s),this.outputCst){var a=this.CST_STACK[this.CST_STACK.length-1];return a.recoveredNode=!0,a}return n()}if(this.outputCst){a=this.CST_STACK[this.CST_STACK.length-1];a.recoveredNode=!0,o.partialCstResult=a}throw o}if(r)return this.moveToTerminatedState(),n();throw o}throw e},e.prototype.optionInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Mt,t),r=this.nestedRuleBeforeClause(e,n);try{return this.optionInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.optionInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(Mt,t);return this.optionInternalLogic(e,t,n)},e.prototype.optionInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==e.DEF){if(r=e.DEF,i=e.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=e;if(!0===s.call(this))return r.call(this)},e.prototype.atLeastOneInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Rt,e),r=this.nestedRuleBeforeClause(t,n);try{return this.atLeastOneInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.atLeastOneInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(Rt,e);this.atLeastOneInternalLogic(e,t,n)},e.prototype.atLeastOneInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,i=t.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=t;if(!0!==s.call(this))throw this.raiseEarlyExitException(e,Jt.REPETITION_MANDATORY,t.ERR_MSG);var l=this.doSingleRepetition(r);while(!0===s.call(this)&&!0===l)l=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],s,Rt,e,Gt)},e.prototype.atLeastOneSepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(At,e),r=this.nestedRuleBeforeClause(t,n);try{this.atLeastOneSepFirstInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.atLeastOneSepFirstInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(At,e);this.atLeastOneSepFirstInternalLogic(e,t,n)},e.prototype.atLeastOneSepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP,s=this.getLaFuncFromCache(n);if(!0!==s.call(this))throw this.raiseEarlyExitException(e,Jt.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);i.call(this);var a=function(){return r.tokenMatcher(r.LA(1),o)};while(!0===this.tokenMatcher(this.LA(1),o))this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,$t],a,At,e,$t)},e.prototype.manyInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Ct,e),r=this.nestedRuleBeforeClause(t,n);try{return this.manyInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.manyInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(Ct,e);return this.manyInternalLogic(e,t,n)},e.prototype.manyInternalLogic=function(e,t,n){var r,i,o=this,s=this.getLaFuncFromCache(n);if(void 0!==t.DEF){if(r=t.DEF,i=t.GATE,void 0!==i){var a=s;s=function(){return i.call(o)&&a.call(o)}}}else r=t;var l=!0;while(!0===s.call(this)&&!0===l)l=this.doSingleRepetition(r);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],s,Ct,e,Wt,l)},e.prototype.manySepFirstInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(xt,e),r=this.nestedRuleBeforeClause(t,n);try{this.manySepFirstInternalLogic(e,t,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.manySepFirstInternalNoCst=function(e,t){var n=this.getKeyForAutomaticLookahead(xt,e);this.manySepFirstInternalLogic(e,t,n)},e.prototype.manySepFirstInternalLogic=function(e,t,n){var r=this,i=t.DEF,o=t.SEP,s=this.getLaFuncFromCache(n);if(!0===s.call(this)){i.call(this);var a=function(){return r.tokenMatcher(r.LA(1),o)};while(!0===this.tokenMatcher(this.LA(1),o))this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,a,i,zt],a,xt,e,zt)}},e.prototype.repetitionSepSecondInternal=function(e,t,n,r,i){while(n())this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,n,r,i],n,At,e,i)},e.prototype.doSingleRepetition=function(e){var t=this.getLexerPosition();e.call(this);var n=this.getLexerPosition();return n>t},e.prototype.orInternalNoCst=function(e,t){var n=(0,i.cy)(e)?e:e.DEF,r=this.getKeyForAutomaticLookahead(Tt,t),o=this.getLaFuncFromCache(r),s=o.call(this,n);if(void 0!==s){var a=n[s];return a.ALT.call(this)}this.raiseNoAltException(t,e.ERR_MSG)},e.prototype.orInternal=function(e,t){var n=this.getKeyForAutomaticLookahead(Tt,t),r=this.nestedRuleBeforeClause(e,n);try{var o=(0,i.cy)(e)?e:e.DEF,s=this.getLaFuncFromCache(n),a=s.call(this,o);if(void 0!==a){var l=o[a],u=this.nestedAltBeforeClause(l,t,Tt,a);try{return l.ALT.call(this)}finally{void 0!==u&&this.nestedRuleFinallyClause(u.shortName,u.nestedName)}}this.raiseNoAltException(t,e.ERR_MSG)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},e.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){var e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new or(t,e))}},e.prototype.subruleInternal=function(e,t,n){var r;try{var i=void 0!==n?n.ARGS:void 0;return r=e.call(this,t,i),this.cstPostNonTerminal(r,void 0!==n&&void 0!==n.LABEL?n.LABEL:e.ruleName),r}catch(o){this.subruleInternalError(o,n,e.ruleName)}},e.prototype.subruleInternalError=function(e,t,n){throw nr(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:n),delete e.partialCstResult),e},e.prototype.consumeInternal=function(e,t,n){var r;try{var i=this.LA(1);!0===this.tokenMatcher(i,e)?(this.consumeToken(),r=i):this.consumeInternalError(e,i,n)}catch(o){r=this.consumeInternalRecovery(e,t,o)}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:e.name,r),r},e.prototype.consumeInternalError=function(e,t,n){var r,i=this.LA(0);throw r=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:i,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new rr(r,t,i))},e.prototype.consumeInternalRecovery=function(e,t,n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var r=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,r)}catch(i){throw i.name===lr?n:i}},e.prototype.saveRecogState=function(){var e=this.errors,t=(0,i.T9)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK,LAST_EXPLICIT_RULE_STACK:this.LAST_EXPLICIT_RULE_STACK}},e.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},e.prototype.ruleInvocationStateUpdate=function(e,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t,e)},e.prototype.isBackTracking=function(){return 0!==this.isBackTrackingStack.length},e.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},e.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},e.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),He)},e.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},e}(),Nr=function(){function e(){}return e.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=(0,i.NT)(e.errorMessageProvider,$r.errorMessageProvider)},e.prototype.SAVE_ERROR=function(e){if(nr(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,i.T9)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(e.prototype,"errors",{get:function(){return(0,i.T9)(this._errors)},set:function(e){this._errors=e},enumerable:!0,configurable:!0}),e.prototype.raiseEarlyExitException=function(e,t,n){for(var r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],o=dn(e,i,t,this.maxLookahead),s=o[0],a=[],l=1;l<=this.maxLookahead;l++)a.push(this.LA(l));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new sr(u,this.LA(1),this.LA(0)))},e.prototype.raiseNoAltException=function(e,t){for(var n=this.getCurrRuleFullName(),r=this.getGAstProductions()[n],i=hn(e,r,this.maxLookahead),o=[],s=1;s<=this.maxLookahead;s++)o.push(this.LA(s));var a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:o,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new ir(l,this.LA(1),a))},e}(),Lr=function(){function e(){}return e.prototype.initContentAssist=function(){},e.prototype.computeContentAssist=function(e,t){var n=this.gastProductionsCache[e];if((0,i.b0)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return Kt([n],t,this.tokenMatcher,this.maxLookahead)},e.prototype.getNextPossibleTokenTypes=function(e){var t=(0,i.$1)(e.ruleStack),n=this.getGAstProductions(),r=n[t],o=new Yt(r,e).startWalking();return o},e}(),kr={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(kr);var Or=!0,Ir=Math.pow(2,Et)-1,Pr=De({name:"RECORDING_PHASE_TOKEN",pattern:Se.NA});ue([Pr]);var Dr=Ue(Pr,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(Dr);var Fr={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording for details",children:{}},Hr=function(){function e(){}return e.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},e.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(function(){for(var t=function(t){var n=t>0?t:"";e["CONSUME"+n]=function(e,n){return this.consumeInternalRecord(e,t,n)},e["SUBRULE"+n]=function(e,n){return this.subruleInternalRecord(e,t,n)},e["OPTION"+n]=function(e){return this.optionInternalRecord(e,t)},e["OR"+n]=function(e){return this.orInternalRecord(e,t)},e["MANY"+n]=function(e){this.manyInternalRecord(t,e)},e["MANY_SEP"+n]=function(e){this.manySepFirstInternalRecord(t,e)},e["AT_LEAST_ONE"+n]=function(e){this.atLeastOneInternalRecord(t,e)},e["AT_LEAST_ONE_SEP"+n]=function(e){this.atLeastOneSepFirstInternalRecord(t,e)}},n=0;n<10;n++)t(n);e["consume"]=function(e,t,n){return this.consumeInternalRecord(t,e,n)},e["subrule"]=function(e,t,n){return this.subruleInternalRecord(t,e,n)},e["option"]=function(e,t){return this.optionInternalRecord(t,e)},e["or"]=function(e,t){return this.orInternalRecord(t,e)},e["many"]=function(e,t){this.manyInternalRecord(e,t)},e["atLeastOne"]=function(e,t){this.atLeastOneInternalRecord(e,t)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD}))},e.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(function(){for(var t=0;t<10;t++){var n=t>0?t:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e["consume"],delete e["subrule"],delete e["option"],delete e["or"],delete e["many"],delete e["atLeastOne"],delete e.ACTION,delete e.BACKTRACK,delete e.LA}))},e.prototype.ACTION_RECORD=function(e){},e.prototype.BACKTRACK_RECORD=function(e,t){return function(){return!0}},e.prototype.LA_RECORD=function(e){return zr},e.prototype.topLevelRuleRecord=function(e,t){try{var n=new We({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(r){if(!0!==r.KNOWN_RECORDER_ERROR)try{r.message=r.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://sap.github.io/chevrotain/docs/guide/internals.html#grammar-recording'}catch(i){throw r}throw r}},e.prototype.optionInternalRecord=function(e,t){return Ur.call(this,Ge,e,t)},e.prototype.atLeastOneInternalRecord=function(e,t){Ur.call(this,$e,t,e)},e.prototype.atLeastOneSepFirstInternalRecord=function(e,t){Ur.call(this,qe,t,e,Or)},e.prototype.manyInternalRecord=function(e,t){Ur.call(this,Ke,t,e)},e.prototype.manySepFirstInternalRecord=function(e,t){Ur.call(this,Xe,t,e,Or)},e.prototype.orInternalRecord=function(e,t){return Br.call(this,e,t)},e.prototype.subruleInternalRecord=function(e,t,n){if(Yr(t),!e||!1===(0,i.zy)(e,"ruleName")){var r=new Error("<SUBRULE"+jr(t)+"> argument is invalid expecting a Parser method reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=(0,i.se)(this.recordingProdStack),s=e["ruleName"],a=new Ve({idx:t,nonTerminalName:s,referencedRule:void 0});return o.definition.push(a),this.outputCst?Fr:kr},e.prototype.consumeInternalRecord=function(e,t,n){if(Yr(t),!me(e)){var r=new Error("<CONSUME"+jr(t)+"> argument is invalid expecting a TokenType reference but got: <"+JSON.stringify(e)+">\n inside top level rule: <"+this.recordingProdStack[0].name+">");throw r.KNOWN_RECORDER_ERROR=!0,r}var o=(0,i.se)(this.recordingProdStack),s=new Qe({idx:t,terminalType:e});return o.definition.push(s),Dr},e}();function Ur(e,t,n,r){void 0===r&&(r=!1),Yr(n);var o=(0,i.se)(this.recordingProdStack),s=(0,i.Tn)(t)?t:t.DEF,a=new e({definition:[],idx:n});return(0,i.zy)(t,"NAME")&&(a.name=t.NAME),r&&(a.separator=t.SEP),(0,i.zy)(t,"MAX_LOOKAHEAD")&&(a.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(a),s.call(this),o.definition.push(a),this.recordingProdStack.pop(),kr}function Br(e,t){var n=this;Yr(t);var r=(0,i.se)(this.recordingProdStack),o=!1===(0,i.cy)(e),s=!1===o?e:e.DEF,a=new Je({definition:[],idx:t,ignoreAmbiguities:o&&!0===e.IGNORE_AMBIGUITIES});(0,i.zy)(e,"NAME")&&(a.name=e.NAME),(0,i.zy)(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);var l=(0,i.zN)(s,(function(e){return(0,i.Tn)(e.GATE)}));return a.hasPredicates=l,r.definition.push(a),(0,i.jJ)(s,(function(e){var t=new ze({definition:[]});a.definition.push(t),(0,i.zy)(e,"NAME")&&(t.name=e.NAME),(0,i.zy)(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:(0,i.zy)(e,"GATE")&&(t.ignoreAmbiguities=!0),n.recordingProdStack.push(t),e.ALT.call(n),n.recordingProdStack.pop()})),kr}function jr(e){return 0===e?"":""+e}function Yr(e){if(e<0||e>Ir){var t=new Error("Invalid DSL Method idx value: <"+e+">\n\tIdx value must be a none negative value smaller than "+(Ir+1));throw t.KNOWN_RECORDER_ERROR=!0,t}}var Vr=function(){function e(){}return e.prototype.initPerformanceTracer=function(e){if((0,i.zy)(e,"traceInitPerf")){var t=e.traceInitPerf,n="number"===typeof t;this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=$r.traceInitPerf;this.traceInitIndent=-1},e.prototype.TRACE_INIT=function(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--\x3e <"+e+">");var r=(0,i.O1)(t),o=r.time,s=r.value,a=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(n+"<-- <"+e+"> time: "+o+"ms"),this.traceInitIndent--,s}return t()},e}(),Wr=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zr=Ue(He,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(zr);var Gr,$r=Object.freeze({recoveryEnabled:!1,maxLookahead:4,ignoredIssues:{},dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Yn,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),qr=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});function Kr(e){return void 0===e&&(e=void 0),function(){return e}}(function(e){e[e["INVALID_RULE_NAME"]=0]="INVALID_RULE_NAME",e[e["DUPLICATE_RULE_NAME"]=1]="DUPLICATE_RULE_NAME",e[e["INVALID_RULE_OVERRIDE"]=2]="INVALID_RULE_OVERRIDE",e[e["DUPLICATE_PRODUCTIONS"]=3]="DUPLICATE_PRODUCTIONS",e[e["UNRESOLVED_SUBRULE_REF"]=4]="UNRESOLVED_SUBRULE_REF",e[e["LEFT_RECURSION"]=5]="LEFT_RECURSION",e[e["NONE_LAST_EMPTY_ALT"]=6]="NONE_LAST_EMPTY_ALT",e[e["AMBIGUOUS_ALTS"]=7]="AMBIGUOUS_ALTS",e[e["CONFLICT_TOKENS_RULES_NAMESPACE"]=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e["INVALID_TOKEN_NAME"]=9]="INVALID_TOKEN_NAME",e[e["INVALID_NESTED_RULE_NAME"]=10]="INVALID_NESTED_RULE_NAME",e[e["DUPLICATE_NESTED_NAME"]=11]="DUPLICATE_NESTED_NAME",e[e["NO_NON_EMPTY_LOOKAHEAD"]=12]="NO_NON_EMPTY_LOOKAHEAD",e[e["AMBIGUOUS_PREFIX_ALTS"]=13]="AMBIGUOUS_PREFIX_ALTS",e[e["TOO_MANY_ALTS"]=14]="TOO_MANY_ALTS"})(Gr||(Gr={}));var Xr=function(){function e(e,t){void 0===t&&(t=$r),this.ignoredIssues=$r.ignoredIssues,this.definitionErrors=[],this.selfAnalysisDone=!1;var n=this;n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(e,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),(0,i.zy)(t,"ignoredIssues")&&t.ignoredIssues!==$r.ignoredIssues&&(0,i.x5)("The <ignoredIssues> IParserConfig property is soft-deprecated and will be removed in future versions.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead."),this.ignoredIssues=(0,i.zy)(t,"ignoredIssues")?t.ignoredIssues:$r.ignoredIssues,this.skipValidations=(0,i.zy)(t,"skipValidations")?t.skipValidations:$r.skipValidations}return e.performSelfAnalysis=function(e){e.performSelfAnalysis()},e.prototype.performSelfAnalysis=function(){var t=this;this.TRACE_INIT("performSelfAnalysis",(function(){var n;t.selfAnalysisDone=!0;var r=t.className;t.TRACE_INIT("toFastProps",(function(){(0,i.Bl)(t)})),t.TRACE_INIT("Grammar Recording",(function(){try{t.enableRecording(),(0,i.jJ)(t.definedRulesNames,(function(e){var n=t[e],r=n["originalGrammarAction"],i=void 0;t.TRACE_INIT(e+" Rule",(function(){i=t.topLevelRuleRecord(e,r)})),t.gastProductionsCache[e]=i}))}finally{t.disableRecording()}}));var o=[];if(t.TRACE_INIT("Grammar Resolving",(function(){o=qn({rules:(0,i.zu)(t.gastProductionsCache)}),t.definitionErrors.push.apply(t.definitionErrors,o)})),t.TRACE_INIT("Grammar Validations",(function(){if((0,i.Im)(o)&&!1===t.skipValidations){var e=Kn({rules:(0,i.zu)(t.gastProductionsCache),maxLookahead:t.maxLookahead,tokenTypes:(0,i.zu)(t.tokensMap),ignoredIssues:t.ignoredIssues,errMsgProvider:Wn,grammarName:r});t.definitionErrors.push.apply(t.definitionErrors,e)}})),(0,i.Im)(t.definitionErrors)&&(t.recoveryEnabled&&t.TRACE_INIT("computeAllProdsFollows",(function(){var e=bt((0,i.zu)(t.gastProductionsCache));t.resyncFollows=e})),t.TRACE_INIT("ComputeLookaheadFunctions",(function(){t.preComputeLookaheadFunctions((0,i.zu)(t.gastProductionsCache))}))),t.TRACE_INIT("expandAllNestedRuleNames",(function(){var e=Ut((0,i.zu)(t.gastProductionsCache),t.fullRuleNameToShort);t.allRuleNames=e.allRuleNames})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,i.Im)(t.definitionErrors))throw n=(0,i.Tj)(t.definitionErrors,(function(e){return e.message})),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))}))},e.DEFER_DEFINITION_ERRORS_HANDLING=!1,e}();(0,i.XJ)(Xr,[cr,dr,Cr,Rr,Ar,xr,Nr,Lr,Hr,Vr]);var Jr=function(e){function t(t,n){void 0===n&&(n=$r);var r=this,o=(0,i.lR)(n);return o.outputCst=!0,r=e.call(this,t,o)||this,r}return Wr(t,e),t}(Xr),Qr=function(e){function t(t,n){void 0===n&&(n=$r);var r=this,o=(0,i.lR)(n);return o.outputCst=!1,r=e.call(this,t,o)||this,r}return Wr(t,e),t}(Xr);function Zr(e,t){var n=void 0===t?{}:t,i=n.resourceBase,o=void 0===i?"https://unpkg.com/chevrotain@"+r+"/diagrams/":i,s=n.css,a=void 0===s?"https://unpkg.com/chevrotain@"+r+"/diagrams/diagrams.css":s,l='\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset="utf-8">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n',u="\n<link rel='stylesheet' href='"+a+"'>\n",c="\n<script src='"+o+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+o+"src/diagrams_builder.js'><\/script>\n<script src='"+o+"src/diagrams_behavior.js'><\/script>\n<script src='"+o+"src/main.js'><\/script>\n",h='\n<div id="diagrams" align="center"></div>    \n',d="\n<script>\n    window.serializedGrammar = "+JSON.stringify(e,null,"  ")+";\n<\/script>\n",f='\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n';return l+u+c+h+d+f}var ei="\n";function ti(e){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+ri(e)+"\n    \nreturn {\n    "+e.name+": "+e.name+" \n}\n}));\n"}function ni(e){return"    \n"+ri(e)+"\nreturn new "+e.name+"(tokenVocabulary, config)    \n"}function ri(e){var t="\nfunction "+e.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    // No support for embedded actions currently, so we can 'hardcode'\n    // The use of CstParser.\n    chevrotain.CstParser.call(this, tokenVocabulary, config)\n\n    const $ = this\n\n    "+ii(e.rules)+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    this.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+e.name+".prototype = Object.create(chevrotain.CstParser.prototype)\n"+e.name+".prototype.constructor = "+e.name+"    \n    ";return t}function ii(e){var t=(0,i.Tj)(e,(function(e){return oi(e,1)}));return t.join("\n")}function oi(e,t){var n=pi(t,'$.RULE("'+e.name+'", function() {')+ei;return n+=fi(e.definition,t+1),n+=pi(t+1,"})")+ei,n}function si(e,t){var n=e.terminalType.name;return pi(t,"$.CONSUME"+e.idx+"(this.tokensMap."+n+")"+ei)}function ai(e,t){return pi(t,"$.SUBRULE"+e.idx+"($."+e.nonTerminalName+")"+ei)}function li(e,t){var n=pi(t,"$.OR"+e.idx+"([")+ei,r=(0,i.Tj)(e.definition,(function(e){return ui(e,t+1)}));return n+=r.join(","+ei),n+=ei+pi(t,"])"+ei),n}function ui(e,t){var n=pi(t,"{")+ei;return e.name&&(n+=pi(t+1,'NAME: "'+e.name+'",')+ei),n+=pi(t+1,"ALT: function() {")+ei,n+=fi(e.definition,t+1),n+=pi(t+1,"}")+ei,n+=pi(t,"}"),n}function ci(e,t){if(e instanceof Ve)return ai(e,t);if(e instanceof Ge)return hi("OPTION",e,t);if(e instanceof $e)return hi("AT_LEAST_ONE",e,t);if(e instanceof qe)return hi("AT_LEAST_ONE_SEP",e,t);if(e instanceof Xe)return hi("MANY_SEP",e,t);if(e instanceof Ke)return hi("MANY",e,t);if(e instanceof Je)return li(e,t);if(e instanceof Qe)return si(e,t);if(e instanceof ze)return fi(e.definition,t);throw Error("non exhaustive match")}function hi(e,t,n){var r=pi(n,"$."+(e+t.idx)+"(");return t.name||t.separator?(r+="{"+ei,t.name&&(r+=pi(n+1,'NAME: "'+t.name+'"')+","+ei),t.separator&&(r+=pi(n+1,"SEP: this.tokensMap."+t.separator.name)+","+ei),r+="DEF: "+di(t.definition,n+2)+ei,r+=pi(n,"}")+ei):r+=di(t.definition,n+1),r+=pi(n,")")+ei,r}function di(e,t){var n="function() {"+ei;return n+=fi(e,t),n+=pi(t,"}")+ei,n}function fi(e,t){var n="";return(0,i.jJ)(e,(function(e){n+=ci(e,t+1)})),n}function pi(e,t){var n=Array(4*e+1).join(" ");return n+t}function mi(e){var t=ni({name:e.name,rules:e.rules}),r=new Function("tokenVocabulary","config","chevrotain",t);return function(t){return r(e.tokenVocabulary,t,n(31195))}}function gi(e){return ti({name:e.name,rules:e.rules})}function vi(){console.warn("The clearCache function was 'soft' removed from the Chevrotain API.\n\t It performs no action other than printing this message.\n\t Please avoid using it as it will be completely removed in the future")}},15527:function(e,t,n){"use strict";function r(e){return e&&0===e.length}function i(e){return void 0===e||null===e?[]:Object.keys(e)}function o(e){for(var t=[],n=Object.keys(e),r=0;r<n.length;r++)t.push(e[n[r]]);return t}function s(e,t){for(var n=[],r=i(e),o=0;o<r.length;o++){var s=r[o];n.push(t.call(null,e[s],s))}return n}function a(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t.call(null,e[r],r));return n}function l(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?t=t.concat(l(r)):t.push(r)}return t}function u(e){return r(e)?void 0:e[0]}function c(e){var t=e&&e.length;return t?e[t-1]:void 0}function h(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t.call(null,e[n],n);else{if(!k(e))throw Error("non exhaustive match");var r=i(e);for(n=0;n<r.length;n++){var o=r[n],s=e[o];t.call(null,s,o)}}}function d(e){return"string"===typeof e}function f(e){return void 0===e}function p(e){return e instanceof Function}function m(e,t){return void 0===t&&(t=1),e.slice(t,e.length)}function g(e,t){return void 0===t&&(t=1),e.slice(0,e.length-t)}function v(e,t){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function y(e,t){return v(e,(function(e){return!t(e)}))}function b(e,t){for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],s=e[o];t(s)&&(r[o]=s)}return r}function w(e,t){return!!k(e)&&e.hasOwnProperty(t)}function _(e,t){return void 0!==T(e,(function(e){return e===t}))}function E(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function S(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function T(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t.call(null,r))return r}}function M(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r];t.call(null,i)&&n.push(i)}return n}function C(e,t,n){for(var r=Array.isArray(e),s=r?e:o(e),a=r?[]:i(e),l=n,u=0;u<s.length;u++)l=t.call(null,l,s[u],r?u:a[u]);return l}function R(e){return y(e,(function(e){return null===e||void 0===e}))}function x(e,t){void 0===t&&(t=function(e){return e});var n=[];return C(e,(function(e,r){var i=t(r);return _(n,i)?e:(n.push(i),e.concat(r))}),[])}function A(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=[null],i=r.concat(t);return Function.bind.apply(e,i)}function N(e){return Array.isArray(e)}function L(e){return e instanceof RegExp}function k(e){return e instanceof Object}function O(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function I(e,t){return y(e,(function(e){return _(t,e)}))}function P(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}function D(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function F(e,t){var n=E(e);return n.sort((function(e,n){return t(e)-t(n)})),n}function H(e,t){if(e.length!==t.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}function U(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)for(var o=t[r],s=i(o),a=0;a<s.length;a++){var l=s[a];e[l]=o[l]}return e}function B(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];if(!f(o))for(var s=i(o),a=0;a<s.length;a++){var l=s[a];w(e,l)||(e[l]=o[l])}}return e}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return B.apply(null,[{}].concat(e))}function Y(e,t){var n={};return h(e,(function(e){var r=t(e),i=n[r];i?i.push(e):n[r]=[e]})),n}function V(e,t){for(var n=S(e),r=i(t),o=0;o<r.length;o++){var s=r[o],a=t[s];n[s]=a}return n}function W(){}function z(e){return e}function G(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(void 0!==r?r:void 0)}return t}function $(e){console&&console.error&&console.error("Error: "+e)}function q(e){console&&console.warn&&console.warn("Warning: "+e)}function K(){return"function"===typeof Map}function X(e,t){t.forEach((function(t){var n=t.prototype;Object.getOwnPropertyNames(n).forEach((function(r){if("constructor"!==r){var i=Object.getOwnPropertyDescriptor(n,r);i&&(i.get||i.set)?Object.defineProperty(e.prototype,r,i):e.prototype[r]=t.prototype[r]}}))}))}function J(e){function t(){}t.prototype=e;var n=new t;function r(){return typeof n.bar}return r(),r(),e}function Q(e){return e[e.length-1]}function Z(e){var t=(new Date).getTime(),n=e(),r=(new Date).getTime(),i=r-t;return{time:i,value:n}}n.d(t,{$1:function(){return u},$z:function(){return Y},Bl:function(){return J},Bq:function(){return l},Gv:function(){return k},HP:function(){return i},HV:function(){return c},I6:function(){return T},Im:function(){return r},JW:function(){return M},Kg:function(){return d},LG:function(){return s},NT:function(){return j},O1:function(){return Z},Si:function(){return O},T9:function(){return E},TS:function(){return C},Tj:function(){return a},Tn:function(){return p},Up:function(){return b},VS:function(){return G},XJ:function(){return X},Zi:function(){return $},b0:function(){return f},cy:function(){return N},gR:function(){return _},gc:function(){return g},gd:function(){return L},gv:function(){return m},h1:function(){return V},iv:function(){return I},jJ:function(){return h},kp:function(){return U},ku:function(){return y},lR:function(){return S},oE:function(){return R},pb:function(){return v},qh:function(){return D},rF:function(){return K},sb:function(){return x},se:function(){return Q},tE:function(){return W},x5:function(){return q},zK:function(){return z},zN:function(){return P},zu:function(){return o},zy:function(){return w}})},48214:function(e,t){var n,r,i;(function(o,s){r=[],n=s,i="function"===typeof n?n.apply(t,r):n,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){}e.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},e.prototype.restoreState=function(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx},e.prototype.pattern=function(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");var n={type:"Flags",global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};while(this.isRegExpFlag())switch(this.popChar()){case"g":a(n,"global");break;case"i":a(n,"ignoreCase");break;case"m":a(n,"multiLine");break;case"u":a(n,"unicode");break;case"y":a(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t}},e.prototype.disjunction=function(){var e=[];e.push(this.alternative());while("|"===this.peekChar())this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e}},e.prototype.alternative=function(){var e=[];while(this.isTerm())e.push(this.term());return{type:"Alternative",value:e}},e.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},e.prototype.assertion=function(){switch(this.popChar()){case"^":return{type:"StartAnchor"};case"$":return{type:"EndAnchor"};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary"};case"B":return{type:"NonWordBoundary"}}throw Error("Invalid Assertion Escape");case"(":var e;switch(this.consumeChar("?"),this.popChar()){case"=":e="Lookahead";break;case"!":e="NegativeLookahead";break}l(e);var t=this.disjunction();return this.consumeChar(")"),{type:e,value:t}}u()},e.prototype.quantifier=function(e){var t;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":var n=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:n,atMost:n};break;case",":var r;this.isDigit()?(r=this.integerIncludingZero(),t={atLeast:n,atMost:r}):t={atLeast:n,atMost:1/0},this.consumeChar("}");break}if(!0===e&&void 0===t)return;l(t);break}if(!0!==e||void 0!==t)return l(t),"?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t},e.prototype.atom=function(){var e;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),l(e),this.isQuantifier()&&(e.quantifier=this.quantifier()),e},e.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},e.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.decimalEscapeAtom=function(){var e=this.positiveInteger();return{type:"GroupBackReference",value:e}},e.prototype.characterClassEscape=function(){var e,t=!1;switch(this.popChar()){case"d":e=c;break;case"D":e=c,t=!0;break;case"s":e=d;break;case"S":e=d,t=!0;break;case"w":e=h;break;case"W":e=h,t=!0;break}return l(e),{type:"Set",value:e,complement:t}},e.prototype.controlEscapeAtom=function(){var e;switch(this.popChar()){case"f":e=o("\f");break;case"n":e=o("\n");break;case"r":e=o("\r");break;case"t":e=o("\t");break;case"v":e=o("\v");break}return l(e),{type:"Character",value:e}},e.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");var t=e.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:t}},e.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},e.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},e.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},e.prototype.identityEscapeAtom=function(){var e=this.popChar();return{type:"Character",value:o(e)}},e.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var e=this.popChar();return{type:"Character",value:o(e)}}},e.prototype.characterClass=function(){var e=[],t=!1;this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);while(this.isClassAtom()){var n=this.classAtom(),r="Character"===n.type;if(r&&this.isRangeDash()){this.consumeChar("-");var i=this.classAtom(),a="Character"===i.type;if(a){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else s(n.value,e),e.push(o("-")),s(i.value,e)}else s(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}},e.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},e.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.group=function(){var e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}var t=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n},e.prototype.positiveInteger=function(){var e=this.popChar();if(!1===i.test(e))throw Error("Expecting a positive integer");while(r.test(this.peekChar(0)))e+=this.popChar();return parseInt(e,10)},e.prototype.integerIncludingZero=function(){var e=this.popChar();if(!1===r.test(e))throw Error("Expecting an integer");while(r.test(this.peekChar(0)))e+=this.popChar();return parseInt(e,10)},e.prototype.patternCharacter=function(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(e)}}},e.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},e.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},e.prototype.isDigit=function(){return r.test(this.peekChar(0))},e.prototype.isClassAtom=function(e){switch(void 0===e&&(e=0),this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},e.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},e.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},e.prototype.isQuantifier=function(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(e)}},e.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.parseHexDigits=function(e){for(var t="",r=0;r<e;r++){var i=this.popChar();if(!1===n.test(i))throw Error("Expecting a HexDecimal digits");t+=i}var o=parseInt(t,16);return{type:"Character",value:o}},e.prototype.peekChar=function(e){return void 0===e&&(e=0),this.input[this.idx+e]},e.prototype.popChar=function(){var e=this.peekChar(0);return this.consumeChar(),e},e.prototype.consumeChar=function(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++};var t,n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(e){return e.charCodeAt(0)}function s(e,t){void 0!==e.length?e.forEach((function(e){t.push(e)})):t.push(e)}function a(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t]=!0}function l(e){if(void 0===e)throw Error("Internal Error - Should never get here!")}function u(){throw Error("Internal Error - Should never get here!")}var c=[];for(t=o("0");t<=o("9");t++)c.push(t);var h=[o("_")].concat(c);for(t=o("a");t<=o("z");t++)h.push(t);for(t=o("A");t<=o("Z");t++)h.push(t);var d=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o("\u2028"),o("\u2029"),o(""),o(""),o(""),o("\ufeff")];function f(){}return f.prototype.visitChildren=function(e){for(var t in e){var n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(e){this.visit(e)}),this))}},f.prototype.visit=function(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)},f.prototype.visitPattern=function(e){},f.prototype.visitFlags=function(e){},f.prototype.visitDisjunction=function(e){},f.prototype.visitAlternative=function(e){},f.prototype.visitStartAnchor=function(e){},f.prototype.visitEndAnchor=function(e){},f.prototype.visitWordBoundary=function(e){},f.prototype.visitNonWordBoundary=function(e){},f.prototype.visitLookahead=function(e){},f.prototype.visitNegativeLookahead=function(e){},f.prototype.visitCharacter=function(e){},f.prototype.visitSet=function(e){},f.prototype.visitGroup=function(e){},f.prototype.visitGroupBackReference=function(e){},f.prototype.visitQuantifier=function(e){},{RegExpParser:e,BaseRegExpVisitor:f,VERSION:"0.4.0"}}))},5048:function(e,t,n){"use strict";n.d(t,{uE:function(){return Oe}});var r=n(7302),i=Uint8Array,o=Uint16Array,s=Int32Array,a=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=function(e,t){for(var n=new o(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new s(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},h=c(a,2),d=h.b,f=h.r;d[28]=258,f[258]=28;for(var p=c(l,0),m=p.b,g=p.r,v=new o(32768),y=0;y<32768;++y){var b=(43690&y)>>1|(21845&y)<<1;b=(52428&b)>>2|(13107&b)<<2,b=(61680&b)>>4|(3855&b)<<4,v[y]=((65280&b)>>8|(255&b)<<8)>>1}var w=function(e,t,n){for(var r=e.length,i=0,s=new o(t);i<r;++i)e[i]&&++s[e[i]-1];var a,l=new o(t);for(i=1;i<t;++i)l[i]=l[i-1]+s[i-1]<<1;if(n){a=new o(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],d=l[e[i]-1]++<<h,f=d|(1<<h)-1;d<=f;++d)a[v[d]>>u]=c}else for(a=new o(r),i=0;i<r;++i)e[i]&&(a[i]=v[l[e[i]-1]++]>>15-e[i]);return a},_=new i(288);for(y=0;y<144;++y)_[y]=8;for(y=144;y<256;++y)_[y]=9;for(y=256;y<280;++y)_[y]=7;for(y=280;y<288;++y)_[y]=8;var E=new i(32);for(y=0;y<32;++y)E[y]=5;var S=w(_,9,0),T=w(_,9,1),M=w(E,5,0),C=w(E,5,1),R=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},x=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},A=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},N=function(e){return(e+7)/8|0},L=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new i(e.subarray(t,n))},k=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],O=function(e,t,n){var r=new Error(t||k[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,O),!n)throw r;return r},I=function(e,t,n,r){var o=e.length,s=r?r.length:0;if(!o||t.f&&!t.l)return n||new i(0);var c=!n,h=c||2!=t.i,f=t.i;c&&(n=new i(3*o));var p=function(e){var t=n.length;if(e>t){var r=new i(Math.max(2*t,e));r.set(n),n=r}},g=t.f||0,v=t.p||0,y=t.b||0,b=t.l,_=t.d,E=t.m,S=t.n,M=8*o;do{if(!b){g=x(e,v,1);var k=x(e,v+1,3);if(v+=3,!k){var I=N(v)+4,P=e[I-4]|e[I-3]<<8,D=I+P;if(D>o){f&&O(0);break}h&&p(y+P),n.set(e.subarray(I,D),y),t.b=y+=P,t.p=v=8*D,t.f=g;continue}if(1==k)b=T,_=C,E=9,S=5;else if(2==k){var F=x(e,v,31)+257,H=x(e,v+10,15)+4,U=F+x(e,v+5,31)+1;v+=14;for(var B=new i(U),j=new i(19),Y=0;Y<H;++Y)j[u[Y]]=x(e,v+3*Y,7);v+=3*H;var V=R(j),W=(1<<V)-1,z=w(j,V,1);for(Y=0;Y<U;){var G=z[x(e,v,W)];v+=15&G;I=G>>4;if(I<16)B[Y++]=I;else{var $=0,q=0;16==I?(q=3+x(e,v,3),v+=2,$=B[Y-1]):17==I?(q=3+x(e,v,7),v+=3):18==I&&(q=11+x(e,v,127),v+=7);while(q--)B[Y++]=$}}var K=B.subarray(0,F),X=B.subarray(F);E=R(K),S=R(X),b=w(K,E,1),_=w(X,S,1)}else O(1);if(v>M){f&&O(0);break}}h&&p(y+131072);for(var J=(1<<E)-1,Q=(1<<S)-1,Z=v;;Z=v){$=b[A(e,v)&J];var ee=$>>4;if(v+=15&$,v>M){f&&O(0);break}if($||O(2),ee<256)n[y++]=ee;else{if(256==ee){Z=v,b=null;break}var te=ee-254;if(ee>264){Y=ee-257;var ne=a[Y];te=x(e,v,(1<<ne)-1)+d[Y],v+=ne}var re=_[A(e,v)&Q],ie=re>>4;re||O(3),v+=15&re;X=m[ie];if(ie>3){ne=l[ie];X+=A(e,v)&(1<<ne)-1,v+=ne}if(v>M){f&&O(0);break}h&&p(y+131072);var oe=y+te;if(y<X){var se=s-X,ae=Math.min(X,oe);for(se+y<0&&O(3);y<ae;++y)n[y]=r[se+y]}for(;y<oe;++y)n[y]=n[y-X]}}t.l=b,t.p=Z,t.b=y,t.f=g,b&&(g=1,t.m=E,t.d=_,t.n=S)}while(!g);return y!=n.length&&c?L(n,0,y):n.subarray(0,y)},P=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},D=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},F=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var s=n.length,a=n.slice();if(!s)return{t:W,l:0};if(1==s){var l=new i(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var u=n[0],c=n[1],h=0,d=1,f=2;n[0]={s:-1,f:u.f+c.f,l:u,r:c};while(d!=s-1)u=n[n[h].f<n[f].f?h++:f++],c=n[h!=d&&n[h].f<n[f].f?h++:f++],n[d++]={s:-1,f:u.f+c.f,l:u,r:c};var p=a[0].s;for(r=1;r<s;++r)a[r].s>p&&(p=a[r].s);var m=new o(p+1),g=H(n[d-1],m,0);if(g>t){r=0;var v=0,y=g-t,b=1<<y;for(a.sort((function(e,t){return m[t.s]-m[e.s]||e.f-t.f}));r<s;++r){var w=a[r].s;if(!(m[w]>t))break;v+=b-(1<<g-m[w]),m[w]=t}v>>=y;while(v>0){var _=a[r].s;m[_]<t?v-=1<<t-m[_]++-1:++r}for(;r>=0&&v;--r){var E=a[r].s;m[E]==t&&(--m[E],++v)}g=t}return{t:new i(m),l:g}},H=function(e,t,n){return-1==e.s?Math.max(H(e.l,t,n+1),H(e.r,t,n+1)):t[e.s]=n},U=function(e){var t=e.length;while(t&&!e[--t]);for(var n=new o(++t),r=0,i=e[0],s=1,a=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==i&&l!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}while(s--)a(i);s=1,i=e[l]}return{c:n.subarray(0,r),n:t}},B=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},j=function(e,t,n){var r=n.length,i=N(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},Y=function(e,t,n,r,i,s,c,h,d,f,p){P(t,p++,n),++i[256];for(var m=F(i,15),g=m.t,v=m.l,y=F(s,15),b=y.t,T=y.l,C=U(g),R=C.c,x=C.n,A=U(b),N=A.c,L=A.n,k=new o(19),O=0;O<R.length;++O)++k[31&R[O]];for(O=0;O<N.length;++O)++k[31&N[O]];for(var I=F(k,7),H=I.t,Y=I.l,V=19;V>4&&!H[u[V-1]];--V);var W,z,G,$,q=f+5<<3,K=B(i,_)+B(s,E)+c,X=B(i,g)+B(s,b)+c+14+3*V+B(k,H)+2*k[16]+3*k[17]+7*k[18];if(d>=0&&q<=K&&q<=X)return j(t,p,e.subarray(d,d+f));if(P(t,p,1+(X<K)),p+=2,X<K){W=w(g,v,0),z=g,G=w(b,T,0),$=b;var J=w(H,Y,0);P(t,p,x-257),P(t,p+5,L-1),P(t,p+10,V-4),p+=14;for(O=0;O<V;++O)P(t,p+3*O,H[u[O]]);p+=3*V;for(var Q=[R,N],Z=0;Z<2;++Z){var ee=Q[Z];for(O=0;O<ee.length;++O){var te=31&ee[O];P(t,p,J[te]),p+=H[te],te>15&&(P(t,p,ee[O]>>5&127),p+=ee[O]>>12)}}}else W=S,z=_,G=M,$=E;for(O=0;O<h;++O){var ne=r[O];if(ne>255){te=ne>>18&31;D(t,p,W[te+257]),p+=z[te+257],te>7&&(P(t,p,ne>>23&31),p+=a[te]);var re=31&ne;D(t,p,G[re]),p+=$[re],re>3&&(D(t,p,ne>>5&8191),p+=l[re])}else D(t,p,W[ne]),p+=z[ne]}return D(t,p,W[256]),p+z[256]},V=new s([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W=new i(0),z=function(e,t,n,r,u,c){var h=c.z||e.length,d=new i(r+h+5*(1+Math.ceil(h/7e3))+u),p=d.subarray(r,d.length-u),m=c.l,v=7&(c.r||0);if(t){v&&(p[0]=c.r>>3);for(var y=V[t-1],b=y>>13,w=8191&y,_=(1<<n)-1,E=c.p||new o(32768),S=c.h||new o(_+1),T=Math.ceil(n/3),M=2*T,C=function(t){return(e[t]^e[t+1]<<T^e[t+2]<<M)&_},R=new s(25e3),x=new o(288),A=new o(32),k=0,O=0,I=c.i||0,P=0,D=c.w||0,F=0;I+2<h;++I){var H=C(I),U=32767&I,B=S[H];if(E[U]=B,S[H]=U,D<=I){var W=h-I;if((k>7e3||P>24576)&&(W>423||!m)){v=Y(e,p,0,R,x,A,O,P,F,I-F,v),P=k=O=0,F=I;for(var z=0;z<286;++z)x[z]=0;for(z=0;z<30;++z)A[z]=0}var G=2,$=0,q=w,K=U-B&32767;if(W>2&&H==C(I-K)){var X=Math.min(b,W)-1,J=Math.min(32767,I),Q=Math.min(258,W);while(K<=J&&--q&&U!=B){if(e[I+G]==e[I+G-K]){for(var Z=0;Z<Q&&e[I+Z]==e[I+Z-K];++Z);if(Z>G){if(G=Z,$=K,Z>X)break;var ee=Math.min(K,Z-2),te=0;for(z=0;z<ee;++z){var ne=I-K+z&32767,re=E[ne],ie=ne-re&32767;ie>te&&(te=ie,B=ne)}}}U=B,B=E[U],K+=U-B&32767}}if($){R[P++]=268435456|f[G]<<18|g[$];var oe=31&f[G],se=31&g[$];O+=a[oe]+l[se],++x[257+oe],++A[se],D=I+G,++k}else R[P++]=e[I],++x[e[I]]}}for(I=Math.max(I,D);I<h;++I)R[P++]=e[I],++x[e[I]];v=Y(e,p,m,R,x,A,O,P,F,I-F,v),m||(c.r=7&v|p[v/8|0]<<3,v-=7,c.h=S,c.p=E,c.i=I,c.w=D)}else{for(I=c.w||0;I<h+m;I+=65535){var ae=I+65535;ae>=h&&(p[v/8|0]=m,ae=h),v=j(p,v+1,e.subarray(I,ae))}c.i=h}return L(d,0,r+N(v)+u)},G=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=0|n.length,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(255&e)<<24|(65280&e)<<8|(255&t)<<8|t>>8}}},$=function(e,t,n,r,o){if(!o&&(o={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new i(s.length+e.length);a.set(s),a.set(e,s.length),e=a,o.w=s.length}return z(e,null==t.level?6:t.level,null==t.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,o)},q=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},K=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=G();i.p(t.dictionary),q(e,2,i.d())}},X=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&O(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&O(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function J(e,t){t||(t={});var n=G();n.p(e);var r=$(e,t,t.dictionary?6:2,4);return K(r,t),q(r,r.length-4,n.d()),r}function Q(e,t){return I(e.subarray(X(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Z="undefined"!=typeof TextDecoder&&new TextDecoder;try{Z.decode(W,{stream:!0}),1}catch(wn){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;
/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.2 Built on 2024-09-17T13:29:57.859Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */
var ee=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function te(){ee.console&&"function"==typeof ee.console.log&&ee.console.log.apply(ee.console,arguments)}var ne={log:te,warn:function(e){ee.console&&("function"==typeof ee.console.warn?ee.console.warn.apply(ee.console,arguments):te.call(null,arguments))},error:function(e){ee.console&&("function"==typeof ee.console.error?ee.console.error.apply(ee.console,arguments):te(e))}};function re(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){le(r.response,t,n)},r.onerror=function(){ne.error("could not download file")},r.send()}function ie(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function oe(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var se,ae,le=ee.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,r.A)(window))||window!==ee?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ee.URL||ee.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?ie(i.href)?re(e,t,n):oe(i,i.target="_blank"):oe(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){oe(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(ie(e))re(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){oe(i)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,r.A)(t)&&(ne.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return re(e,t,n);var o="application/octet-stream"===e.type,s=/constructor/i.test(ee.HTMLElement)||ee.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,r.A)(FileReader))){var l=new FileReader;l.onloadend=function(){var e=l.result;e=a?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(e)}else{var u=ee.URL||ee.webkitURL,c=u.createObjectURL(e);i?i.location=c:location.href=c,i=null,setTimeout((function(){u.revokeObjectURL(c)}),4e4)}});
/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ue(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n
/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */}}function ce(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=de(n,r,i,o,t[0],7,-680876936),o=de(o,n,r,i,t[1],12,-389564586),i=de(i,o,n,r,t[2],17,606105819),r=de(r,i,o,n,t[3],22,-1044525330),n=de(n,r,i,o,t[4],7,-176418897),o=de(o,n,r,i,t[5],12,1200080426),i=de(i,o,n,r,t[6],17,-1473231341),r=de(r,i,o,n,t[7],22,-45705983),n=de(n,r,i,o,t[8],7,1770035416),o=de(o,n,r,i,t[9],12,-1958414417),i=de(i,o,n,r,t[10],17,-42063),r=de(r,i,o,n,t[11],22,-1990404162),n=de(n,r,i,o,t[12],7,1804603682),o=de(o,n,r,i,t[13],12,-40341101),i=de(i,o,n,r,t[14],17,-1502002290),n=fe(n,r=de(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=fe(o,n,r,i,t[6],9,-1069501632),i=fe(i,o,n,r,t[11],14,643717713),r=fe(r,i,o,n,t[0],20,-373897302),n=fe(n,r,i,o,t[5],5,-701558691),o=fe(o,n,r,i,t[10],9,38016083),i=fe(i,o,n,r,t[15],14,-660478335),r=fe(r,i,o,n,t[4],20,-405537848),n=fe(n,r,i,o,t[9],5,568446438),o=fe(o,n,r,i,t[14],9,-1019803690),i=fe(i,o,n,r,t[3],14,-187363961),r=fe(r,i,o,n,t[8],20,1163531501),n=fe(n,r,i,o,t[13],5,-1444681467),o=fe(o,n,r,i,t[2],9,-51403784),i=fe(i,o,n,r,t[7],14,1735328473),n=pe(n,r=fe(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=pe(o,n,r,i,t[8],11,-2022574463),i=pe(i,o,n,r,t[11],16,1839030562),r=pe(r,i,o,n,t[14],23,-35309556),n=pe(n,r,i,o,t[1],4,-1530992060),o=pe(o,n,r,i,t[4],11,1272893353),i=pe(i,o,n,r,t[7],16,-155497632),r=pe(r,i,o,n,t[10],23,-1094730640),n=pe(n,r,i,o,t[13],4,681279174),o=pe(o,n,r,i,t[0],11,-358537222),i=pe(i,o,n,r,t[3],16,-722521979),r=pe(r,i,o,n,t[6],23,76029189),n=pe(n,r,i,o,t[9],4,-640364487),o=pe(o,n,r,i,t[12],11,-421815835),i=pe(i,o,n,r,t[15],16,530742520),n=me(n,r=pe(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=me(o,n,r,i,t[7],10,1126891415),i=me(i,o,n,r,t[14],15,-1416354905),r=me(r,i,o,n,t[5],21,-57434055),n=me(n,r,i,o,t[12],6,1700485571),o=me(o,n,r,i,t[3],10,-1894986606),i=me(i,o,n,r,t[10],15,-1051523),r=me(r,i,o,n,t[1],21,-2054922799),n=me(n,r,i,o,t[8],6,1873313359),o=me(o,n,r,i,t[15],10,-30611744),i=me(i,o,n,r,t[6],15,-1560198380),r=me(r,i,o,n,t[13],21,1309151649),n=me(n,r,i,o,t[4],6,-145523070),o=me(o,n,r,i,t[11],10,-1120210379),i=me(i,o,n,r,t[2],15,718787259),r=me(r,i,o,n,t[9],21,-343485551),e[0]=Se(n,e[0]),e[1]=Se(r,e[1]),e[2]=Se(i,e[2]),e[3]=Se(o,e[3])}function he(e,t,n,r,i,o){return t=Se(Se(t,e),Se(r,o)),Se(t<<i|t>>>32-i,n)}function de(e,t,n,r,i,o,s){return he(t&n|~t&r,e,t,i,o,s)}function fe(e,t,n,r,i,o,s){return he(t&r|n&~r,e,t,i,o,s)}function pe(e,t,n,r,i,o,s){return he(t^n^r,e,t,i,o,s)}function me(e,t,n,r,i,o,s){return he(n^(t|~r),e,t,i,o,s)}function ge(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)ce(r,ve(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(ce(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,ce(r,i),r}function ve(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}se=ee.atob.bind(ee),ae=ee.btoa.bind(ee);var ye="0123456789abcdef".split("");function be(e){for(var t="",n=0;n<4;n++)t+=ye[e>>8*n+4&15]+ye[e>>8*n&15];return t}function we(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function _e(e){return ge(e).map(we).join("")}var Ee="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=be(e[t]);return e.join("")}(ge("hello"));function Se(e,t){if(Ee){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}
/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Te(e,t){var n,r,i,o;if(e!==n){for(var s=(i=e,o=1+(256/e.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+s.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=e,r=a}else a=r;var h=t.length,d=0,f=0,p="";for(l=0;l<h;l++)f=(f+(c=a[d=(d+1)%256]))%256,a[d]=a[f],a[f]=c,s=a[(a[d]+a[f])%256],p+=String.fromCharCode(t.charCodeAt(l)^s);return p}
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Me={print:4,modify:8,copy:16,"annot-forms":32};function Ce(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==Me.perm)throw new Error("Invalid permission: "+e);i+=Me[e]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=_e(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Te(this.encryptionKey,this.padding)}function Re(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function xe(e){if("object"!==(0,r.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var s=t[n][o];try{s[0].apply(e,r)}catch(n){ee.console&&ne.error("jsPDF PubSub Error",n.message,n)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ae(e){if(!(this instanceof Ae))return new Ae(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Ne(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Le(e,t,n,r,i){if(!(this instanceof Le))return new Le(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Ne.call(this,r,i)}function ke(e,t,n,r,i){if(!(this instanceof ke))return new ke(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Ne.call(this,r,i)}function Oe(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],o=arguments[2],s=arguments[3],a=[],l=1,u=16,c="S",h=null;"object"===(0,r.A)(e=e||{})&&(n=e.orientation,i=e.unit||i,o=e.format||o,s=e.compress||e.compressPdf||s,null!==(h=e.encryption||null)&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(u=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(!0===s?["FlateEncode"]:a),i=i||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=xe;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(e){m=e};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(e){return v[e]};o=o||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function _(){this.saveGraphicsState(),Z(new ze(be,0,0,-be,0,Bn()*be).toString()+" cm"),this.setFontSize(this.getFontSize()/be),c="n",w=b.ADVANCED}function E(){this.restoreGraphicsState(),c="S",w=b.COMPAT}var S=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=w===b.COMPAT;return t&&_.call(this),"function"!=typeof e||(e(this),t&&E.call(this)),this},p.compatAPI=function(e){var t=w===b.ADVANCED;return t&&E.call(this),"function"!=typeof e||(e(this),t&&_.call(this)),this},p.isAdvancedAPI=function(){return w===b.ADVANCED};var T,M=function(e){if(w!==b.ADVANCED)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};T=p.hpf=p.__private__.hpf="number"==typeof u?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,u)}:"smart"===u?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var R=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},x=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},A=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?e*be:w===b.ADVANCED?e:void 0},N=function(e){return w===b.COMPAT?Bn()-e:w===b.ADVANCED?e:void 0},L=function(e){return A(N(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var k,O="00000000000000000000000000000000",I=p.__private__.getFileId=function(){return O},P=p.__private__.setFileId=function(e){return O=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():O.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==h&&($t=new Ce(h.userPermissions,h.userPassword,h.ownerPassword,O)),O};p.setFileId=function(e){return P(e),this},p.getFileId=function(){return I()};var D=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),o=[n,j(r),"'",j(i),"'"].join("");return["D:",e.getFullYear(),j(e.getMonth()+1),j(e.getDate()),j(e.getHours()),j(e.getMinutes()),j(e.getSeconds()),o].join("")},F=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),o=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,o,s,0)},H=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=D(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return k=t},U=p.__private__.getCreationDate=function(e){var t=k;return"jsDate"===e&&(t=F(k)),t};p.setCreationDate=function(e){return H(e),this},p.getCreationDate=function(e){return U(e)};var B,j=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},Y=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},V=0,W=[],z=[],G=0,$=[],q=[],K=!1,X=z,J=function(){V=0,G=0,z=[],W=[],$=[],Ze=Xe(),et=Xe()};p.__private__.setCustomOutputDestination=function(e){K=!0,X=e};var Q=function(e){K||(X=e)};p.__private__.resetCustomOutputDestination=function(){K=!1,X=z};var Z=p.__private__.out=function(e){return e=e.toString(),G+=e.length+1,X.push(e),X},te=p.__private__.write=function(e){return Z(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},re=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ie};var oe=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return oe=w===b.ADVANCED?e/be:e,this};var se,ce=p.__private__.getFontSize=p.getFontSize=function(){return w===b.COMPAT?oe:oe*be},he=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return he=e,this},p.__private__.getR2L=p.getR2L=function(){return he};var de,fe=p.__private__.setZoomMode=function(e){var t=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))se=e;else if(isNaN(e)){if(-1===t.indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');se=e}else se=parseInt(e,10)};p.__private__.getZoomMode=function(){return se};var pe,me=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');de=e};p.__private__.getPageMode=function(){return de};var ge=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');pe=e};p.__private__.getLayoutMode=function(){return pe},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return fe(e),ge(t),me(n),this};var ve={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ve).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ve[e]},p.__private__.getDocumentProperties=function(){return ve},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in ve)ve.hasOwnProperty(t)&&e[t]&&(ve[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ve).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ve[e]=t};var ye,be,we,_e,Ee,Se={},Te={},Me=[],Ne={},Ie={},Pe={},De={},Fe=null,He=0,Ue=[],Be=new xe(p),je=e.hotfixes||[],Ye={},Ve={},We=[],ze=function e(t,n,r,i,o,s){if(!(this instanceof e))return new e(t,n,r,i,o,s);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(s)&&(s=0),this._matrix=[t,n,r,i,o,s]};Object.defineProperty(ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ze.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ze.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(e)},ze.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,o=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new ze(t,n,r,i,o,s)},ze.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,s=Math.sqrt(e*e+t*t),a=(e/=s)*n+(t/=s)*r;n-=e*a,r-=t*a;var l=Math.sqrt(n*n+r*r);return a/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,a=-a,s=-s),{scale:new ze(s,0,0,l,0,0),translate:new ze(1,0,0,1,i,o),rotate:new ze(e,t,-t,e,0,0),skew:new ze(1,0,a,1,0,0)}},ze.prototype.toString=function(e){return this.join(" ")},ze.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,s=1/(e*r-t*n),a=r*s,l=-t*s,u=-n*s,c=e*s;return new ze(a,l,u,c,-a*i-u*o,-l*i-c*o)},ze.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new kn(t,n)},ze.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new kn(e.x+e.w,e.y+e.h));return new On(t.x,t.y,n.x-t.x,n.y-t.y)},ze.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty;return new ze(e,t,n,r,i,o)},p.Matrix=ze;var Ge=p.matrixMult=function(e,t){return t.multiply(e)},$e=new ze(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=$e;var qe=function(e,t){if(!Ie[e]){var n=(t instanceof Le?"Sh":"P")+(Object.keys(Ne).length+1).toString(10);t.id=n,Ie[e]=n,Ne[n]=t,Be.publish("addPattern",t)}};p.ShadingPattern=Le,p.TilingPattern=ke,p.addShadingPattern=function(e,t){return M("addShadingPattern()"),qe(e,t),this},p.beginTilingPattern=function(e){M("beginTilingPattern()"),Pn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){M("endTilingPattern()"),t.stream=q[B].join("\n"),qe(e,t),Be.publish("endTilingPattern",t),We.pop().restore()};var Ke=p.__private__.newObject=function(){var e=Xe();return Je(e,!0),e},Xe=p.__private__.newObjectDeferred=function(){return V++,W[V]=function(){return G},V},Je=function(e,t){return t="boolean"==typeof t&&t,W[e]=G,t&&Z(e+" 0 obj"),e},Qe=p.__private__.newAdditionalObject=function(){var e={objId:Xe(),content:""};return $.push(e),e},Ze=Xe(),et=Xe(),tt=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},nt=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,i=e.ch2,o=e.ch3,s=e.ch4,a="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var l=new ue(n);if(l.ok)n=l.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var u=parseInt(n.substr(1),16);n=u>>16&255,i=u>>8&255,o=255&u}if(void 0===i||void 0===s&&n===i&&i===o)if("string"==typeof n)t=n+" "+a[0];else switch(e.precision){case 2:t=R(n/255)+" "+a[0];break;case 3:default:t=x(n/255)+" "+a[0]}else if(void 0===s||"object"===(0,r.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)t=[n,i,o,a[1]].join(" ");else switch(e.precision){case 2:t=[R(n/255),R(i/255),R(o/255),a[1]].join(" ");break;default:case 3:t=[x(n/255),x(i/255),x(o/255),a[1]].join(" ")}}else if("string"==typeof n)t=[n,i,o,s,a[2]].join(" ");else switch(e.precision){case 2:t=[R(n),R(i),R(o),R(s),a[2]].join(" ");break;case 3:default:t=[x(n),x(i),x(o),x(s),a[2]].join(" ")}return t},rt=p.__private__.getFilters=function(){return a},it=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||rt(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,o=t.length,s=e.objectId,a=function(e){return e};if(null!==h&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==h&&(a=$t.encryptor(s,0));var l={};!0===n&&(n=["FlateEncode"]);var u=e.additionalKeyValues||[],c=(l=void 0!==Oe.API.processDataByFilters?Oe.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(u.push({key:"Length",value:l.data.length}),!0===i&&u.push({key:"Length1",value:o})),0!=c.length)if(c.split("/").length-1==1)u.push({key:"Filter",value:c});else{u.push({key:"Filter",value:"["+c+"]"});for(var d=0;d<u.length;d+=1)if("DecodeParms"===u[d].key){for(var f=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)f.push("null");f.push(u[d].value),u[d].value="["+f.join(" ")+"]"}}Z("<<");for(var m=0;m<u.length;m++)Z("/"+u[m].key+" "+u[m].value);Z(">>"),0!==l.data.length&&(Z("stream"),Z(a(l.data)),Z("endstream"))},ot=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Je(r,!0),Z("<</Type /Page"),Z("/Parent "+e.rootDictionaryObjId+" 0 R"),Z("/Resources "+e.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(T(e.mediaBox.bottomLeftX))+" "+parseFloat(T(e.mediaBox.bottomLeftY))+" "+T(e.mediaBox.topRightX)+" "+T(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Z("/CropBox ["+T(e.cropBox.bottomLeftX)+" "+T(e.cropBox.bottomLeftY)+" "+T(e.cropBox.topRightX)+" "+T(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Z("/BleedBox ["+T(e.bleedBox.bottomLeftX)+" "+T(e.bleedBox.bottomLeftY)+" "+T(e.bleedBox.topRightX)+" "+T(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Z("/TrimBox ["+T(e.trimBox.bottomLeftX)+" "+T(e.trimBox.bottomLeftY)+" "+T(e.trimBox.topRightX)+" "+T(e.trimBox.topRightY)+"]"),null!==e.artBox&&Z("/ArtBox ["+T(e.artBox.bottomLeftX)+" "+T(e.artBox.bottomLeftY)+" "+T(e.artBox.topRightX)+" "+T(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Z("/UserUnit "+e.userUnit),Be.publish("putPage",{objId:r,pageContext:Ue[t],pageNumber:t,page:n}),Z("/Contents "+i+" 0 R"),Z(">>"),Z("endobj");var o=n.join("\n");return w===b.ADVANCED&&(o+="\nQ"),Je(i,!0),it({data:o,filters:rt(),objectId:i}),Z("endobj"),r},st=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=He;e++)Ue[e].objId=Xe(),Ue[e].contentsObjId=Xe();for(e=1;e<=He;e++)n.push(ot({number:e,data:q[e],objId:Ue[e].objId,contentsObjId:Ue[e].contentsObjId,mediaBox:Ue[e].mediaBox,cropBox:Ue[e].cropBox,bleedBox:Ue[e].bleedBox,trimBox:Ue[e].trimBox,artBox:Ue[e].artBox,userUnit:Ue[e].userUnit,rootDictionaryObjId:Ze,resourceDictionaryObjId:et}));Je(Ze,!0),Z("<</Type /Pages");var r="/Kids [";for(t=0;t<He;t++)r+=n[t]+" 0 R ";Z(r+"]"),Z("/Count "+He),Z(">>"),Z("endobj"),Be.publish("postPutPages")},at=function(e){Be.publish("putFont",{font:e,out:Z,newObject:Ke,putStream:it}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ke(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Re(e.postScriptName)),Z("/Subtype /Type1"),"string"==typeof e.encoding&&Z("/Encoding /"+e.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},lt=function(){for(var e in Se)Se.hasOwnProperty(e)&&(!1===d||!0===d&&f.hasOwnProperty(e))&&at(Se[e])},ut=function(e){e.objectNumber=Ke();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[T(e.x),T(e.y),T(e.x+e.width),T(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");it({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Z("endobj")},ct=function(){for(var e in Ye)Ye.hasOwnProperty(e)&&ut(Ye[e])},ht=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var o={offset:0,color:e[0].color};e.unshift(o)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var a="",l=0,u=0;u<r.length;u++){for(n=r[u];n>e[l+1].offset;)l++;var c=e[l].offset,h=(n-c)/(e[l+1].offset-c),d=e[l].color,f=e[l+1].color;a+=Y(Math.round((1-h)*d[0]+h*f[0]).toString(16))+Y(Math.round((1-h)*d[1]+h*f[1]).toString(16))+Y(Math.round((1-h)*d[2]+h*f[2]).toString(16))}return a.trim()},dt=function(e,t){t||(t=21);var n=Ke(),r=ht(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Z("endobj"),e.objectNumber=Ke(),Z("<< /ShadingType "+e.type),Z("/ColorSpace /DeviceRGB");var o="/Coords ["+T(parseFloat(e.coords[0]))+" "+T(parseFloat(e.coords[1]))+" ";2===e.type?o+=T(parseFloat(e.coords[2]))+" "+T(parseFloat(e.coords[3])):o+=T(parseFloat(e.coords[2]))+" "+T(parseFloat(e.coords[3]))+" "+T(parseFloat(e.coords[4]))+" "+T(parseFloat(e.coords[5])),Z(o+="]"),e.matrix&&Z("/Matrix ["+e.matrix.toString()+"]"),Z("/Function "+n+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},ft=function(e,t){var n=Xe(),r=Ke();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(T).join(" ")+"]"}),i.push({key:"XStep",value:T(e.xStep)}),i.push({key:"YStep",value:T(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),it({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),Z("endobj")},pt=function(e){var t;for(t in Ne)Ne.hasOwnProperty(t)&&(Ne[t]instanceof Le?dt(Ne[t]):Ne[t]instanceof ke&&ft(Ne[t],e))},mt=function(e){for(var t in e.objectNumber=Ke(),Z("<<"),e)switch(t){case"opacity":Z("/ca "+R(e[t]));break;case"stroke-opacity":Z("/CA "+R(e[t]))}Z(">>"),Z("endobj")},gt=function(){var e;for(e in Pe)Pe.hasOwnProperty(e)&&mt(Pe[e])},vt=function(){for(var e in Z("/XObject <<"),Ye)Ye.hasOwnProperty(e)&&Ye[e].objectNumber>=0&&Z("/"+e+" "+Ye[e].objectNumber+" 0 R");Be.publish("putXobjectDict"),Z(">>")},yt=function(){$t.oid=Ke(),Z("<<"),Z("/Filter /Standard"),Z("/V "+$t.v),Z("/R "+$t.r),Z("/U <"+$t.toHexString($t.U)+">"),Z("/O <"+$t.toHexString($t.O)+">"),Z("/P "+$t.P),Z(">>"),Z("endobj")},bt=function(){for(var e in Z("/Font <<"),Se)Se.hasOwnProperty(e)&&(!1===d||!0===d&&f.hasOwnProperty(e))&&Z("/"+e+" "+Se[e].objectNumber+" 0 R");Z(">>")},wt=function(){if(Object.keys(Ne).length>0){for(var e in Z("/Shading <<"),Ne)Ne.hasOwnProperty(e)&&Ne[e]instanceof Le&&Ne[e].objectNumber>=0&&Z("/"+e+" "+Ne[e].objectNumber+" 0 R");Be.publish("putShadingPatternDict"),Z(">>")}},_t=function(e){if(Object.keys(Ne).length>0){for(var t in Z("/Pattern <<"),Ne)Ne.hasOwnProperty(t)&&Ne[t]instanceof p.TilingPattern&&Ne[t].objectNumber>=0&&Ne[t].objectNumber<e&&Z("/"+t+" "+Ne[t].objectNumber+" 0 R");Be.publish("putTilingPatternDict"),Z(">>")}},Et=function(){if(Object.keys(Pe).length>0){var e;for(e in Z("/ExtGState <<"),Pe)Pe.hasOwnProperty(e)&&Pe[e].objectNumber>=0&&Z("/"+e+" "+Pe[e].objectNumber+" 0 R");Be.publish("putGStateDict"),Z(">>")}},St=function(e){Je(e.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bt(),wt(),_t(e.objectOid),Et(),vt(),Z(">>"),Z("endobj")},Tt=function(){var e=[];lt(),gt(),ct(),pt(e),Be.publish("putResources"),e.forEach(St),St({resourcesOid:et,objectOid:Number.MAX_SAFE_INTEGER}),Be.publish("postPutResources")},Mt=function(){Be.publish("putAdditionalObjects");for(var e=0;e<$.length;e++){var t=$[e];Je(t.objId,!0),Z(t.content),Z("endobj")}Be.publish("postPutAdditionalObjects")},Ct=function(e){Te[e.fontName]=Te[e.fontName]||{},Te[e.fontName][e.fontStyle]=e.id},Rt=function(e,t,n,r,i){var o={id:"F"+(Object.keys(Se).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Be.publish("addFont",{font:o,instance:this}),Se[o.id]=o,Ct(o),o.id},xt=function(e){for(var t=0,n=ie.length;t<n;t++){var r=Rt.call(this,e[t][0],e[t][1],e[t][2],ie[t][3],!0);!1===d&&(f[r]=!0);var i=e[t][0].split("-");Ct({id:r,fontName:i[0],fontStyle:i[1]||""})}Be.publish("addFonts",{fonts:Se,dictionary:Te})},At=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(e){var t=e.stack||"";~t.indexOf(" at ")&&(t=t.split(" at ")[1]);var n="Error in function "+t.split("\n")[0].split("<")[0]+": "+e.message;if(!ee.console)throw new Error(n);ee.console.error(n,e),ee.alert&&alert(n)}},e.foo.bar=e,e.foo},Nt=function(e,t){var n,r,i,o,s,a,l,u,c;if(i=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&Se[ye].metadata&&Se[ye].metadata[i]&&Se[ye].metadata[i].encoding&&(o=Se[ye].metadata[i].encoding,!s&&Se[ye].encoding&&(s=Se[ye].encoding),!s&&o.codePages&&(s=o.codePages[0]),"string"==typeof s&&(s=o[s]),s)){for(l=!1,a=[],n=0,r=e.length;n<r;n++)(u=s[e.charCodeAt(n)])?a.push(String.fromCharCode(u)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(l=!0);e=a.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(a=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((c=(u=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(c),a.push(u-(c<<8))}return String.fromCharCode.apply(void 0,a)},Lt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return Nt(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kt=p.__private__.beginPage=function(e){q[++He]=[],Ue[He]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},Pt(He),Q(q[B])},Ot=function(e,t){var r,i,s;switch(n=t||n,"string"==typeof e&&(r=y(e.toLowerCase()),Array.isArray(r)&&(i=r[0],s=r[1])),Array.isArray(e)&&(i=e[0]*be,s=e[1]*be),isNaN(i)&&(i=o[0],s=o[1]),(i>14400||s>14400)&&(ne.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),o=[i,s],n.substr(0,1)){case"l":s>i&&(o=[s,i]);break;case"p":i>s&&(o=[s,i])}kt(o),mn(fn),Z(Sn),0!==An&&Z(An+" J"),0!==Nn&&Z(Nn+" j"),Be.publish("addPage",{pageNumber:He})},It=function(e){e>0&&e<=He&&(q.splice(e,1),Ue.splice(e,1),He--,B>He&&(B=He),this.setPage(B))},Pt=function(e){e>0&&e<=He&&(B=e)},Dt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return q.length-1},Ft=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:Se[ye].fontName,t=void 0!==t?t:Se[ye].fontStyle,r=e.toLowerCase(),void 0!==Te[r]&&void 0!==Te[r][t]?i=Te[r][t]:void 0!==Te[e]&&void 0!==Te[e][t]?i=Te[e][t]:!1===n.disableWarning&&ne.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=Te.times[t])&&(i=Te.times.normal),i},Ht=p.__private__.putInfo=function(){var e=Ke(),t=function(e){return e};for(var n in null!==h&&(t=$t.encryptor(e,0)),Z("<<"),Z("/Producer ("+Lt(t("jsPDF "+Oe.version))+")"),ve)ve.hasOwnProperty(n)&&ve[n]&&Z("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+Lt(t(ve[n]))+")");Z("/CreationDate ("+Lt(t(k))+")"),Z(">>"),Z("endobj")},Ut=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Ze;switch(Ke(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+t+" 0 R"),se||(se="fullwidth"),se){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+se;"%"===n.substr(n.length-1)&&(se=parseInt(se)/100),"number"==typeof se&&Z("/OpenAction [3 0 R /XYZ null null "+R(se)+"]")}switch(pe||(pe="continuous"),pe){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}de&&Z("/PageMode /"+de),Be.publish("putCatalog"),Z(">>"),Z("endobj")},Bt=p.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(V+1)),Z("/Root "+V+" 0 R"),Z("/Info "+(V-1)+" 0 R"),null!==h&&Z("/Encrypt "+$t.oid+" 0 R"),Z("/ID [ <"+O+"> <"+O+"> ]"),Z(">>")},jt=p.__private__.putHeader=function(){Z("%PDF-"+m),Z("%")},Yt=p.__private__.putXRef=function(){var e="0000000000";Z("xref"),Z("0 "+(V+1)),Z("0000000000 65535 f ");for(var t=1;t<=V;t++)"function"==typeof W[t]?Z((e+W[t]()).slice(-10)+" 00000 n "):void 0!==W[t]?Z((e+W[t]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Vt=p.__private__.buildDocument=function(){J(),Q(z),Be.publish("buildDocument"),jt(),st(),Mt(),Tt(),null!==h&&yt(),Ht(),Ut();var e=G;return Yt(),Bt(),Z("startxref"),Z(""+e),Z("%%EOF"),Q(q[B]),z.join("\n")},Wt=p.__private__.getBlob=function(e){return new Blob([re(e)],{type:"application/pdf"})},zt=p.output=p.__private__.output=At((function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return Vt();case"save":p.save(t.filename);break;case"arraybuffer":return re(Vt());case"blob":return Wt(Vt());case"bloburi":case"bloburl":if(void 0!==ee.URL&&"function"==typeof ee.URL.createObjectURL)return ee.URL&&ee.URL.createObjectURL(Wt(Vt()))||void 0;ne.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=Vt();try{n=ae(r)}catch(e){n=ae(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",o=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,o="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+o+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",a=ee.open();return null!==a&&a.document.write(s),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',u=ee.open();if(null!==u){u.document.write(l);var c=this;u.document.documentElement.querySelector("#pdfViewer").onload=function(){u.document.title=t.filename,u.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(c.output("bloburl"))}}return u}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ee))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',d=ee.open();if(null!==d&&(d.document.write(h),d.document.title=t.filename),d||"undefined"==typeof safari)return d;break;case"datauri":case"dataurl":return ee.document.location.href=this.output("datauristring",t);default:return null}})),Gt=function(e){return!0===Array.isArray(je)&&je.indexOf(e)>-1};switch(i){case"pt":be=1;break;case"mm":be=72/25.4;break;case"cm":be=72/2.54;break;case"in":be=72;break;case"px":be=1==Gt("px_scaling")?.75:96/72;break;case"pc":case"em":be=12;break;case"ex":be=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);be=i}var $t=null;H(),P();var qt=function(e){return null!==h?$t.encryptor(e,0):function(e){return e}},Kt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ue[e].objId,pageNumber:e,pageContext:Ue[e]}},Xt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ue)if(Ue[t].objId===e)break;return Kt(t)},Jt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ue[B].objId,pageNumber:B,pageContext:Ue[B]}};p.addPage=function(){return Ot.apply(this,arguments),this},p.setPage=function(){return Pt.apply(this,arguments),Q.call(this,q[B]),this},p.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=q[e],r=Ue[e];for(var i=e;i>t;i--)q[i]=q[i-1],Ue[i]=Ue[i-1];q[t]=n,Ue[t]=r,this.setPage(t)}else if(e<t){n=q[e],r=Ue[e];for(var o=e;o<t;o++)q[o]=q[o+1],Ue[o]=Ue[o+1];q[t]=n,Ue[t]=r,this.setPage(t)}return this},p.deletePage=function(){return It.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,i,o){var s,a,l,u,c,h,d,p,m,g=(i=i||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var v=n;n=t,t=e,e=v}if(arguments[3]instanceof ze==0?(l=arguments[4],u=arguments[5],"object"===(0,r.A)(d=arguments[3])&&null!==d||("string"==typeof l&&(u=l,l=null),"string"==typeof d&&(u=d,d=null),"number"==typeof d&&(l=d,d=null),i={flags:d,angle:l,align:u})):(M("The transform parameter of text() with a Matrix value"),m=o),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var y="",_=!1,E="number"==typeof i.lineHeightFactor?i.lineHeightFactor:dn,S=g.internal.scaleFactor;function C(e){return e=e.split("\t").join(Array(i.TabLen||9).join(" ")),Lt(e,d)}function R(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function x(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,o=e.concat(),s=[],a=o.length;a--;)"string"==typeof(r=o.shift())?s.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),s.push([i[0],i[1],i[2]]));n=s}return n}var N=!1,L=!0;if("string"==typeof e)N=!0;else if(Array.isArray(e)){var k=e.concat();a=[];for(var O,I=k.length;I--;)("string"!=typeof(O=k.shift())||Array.isArray(O)&&"string"!=typeof O[0])&&(L=!1);N=L}if(!1===N)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var P=oe/g.internal.scaleFactor,D=P*(E-1);switch(i.baseline){case"bottom":n-=D;break;case"top":n+=P-D;break;case"hanging":n+=P-2*D;break;case"middle":n+=P/2-D}if((h=i.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,h):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(g.splitTextToSize(t,h))}),[]))),s={text:e,x:t,y:n,options:i,mutex:{pdfEscape:Lt,activeFontKey:ye,fonts:Se,activeFontSize:oe}},Be.publish("preProcessText",s),e=s.text,l=(i=s.options).angle,m instanceof ze==0&&l&&"number"==typeof l){l*=Math.PI/180,0===i.rotationDirection&&(l=-l),w===b.ADVANCED&&(l=-l);var F=Math.cos(l),H=Math.sin(l);m=new ze(F,H,-H,F,0,0)}else l&&l instanceof ze&&(m=l);w!==b.ADVANCED||m||(m=$e),void 0!==(c=i.charSpace||Rn)&&(y+=T(A(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=i.horizontalScale)&&(y+=T(100*p)+" Tz\n"),i.lang;var U=-1,B=void 0!==i.renderingMode?i.renderingMode:i.stroke,j=g.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":U=0;break;case 1:case!0:case"stroke":U=1;break;case 2:case"fillThenStroke":U=2;break;case 3:case"invisible":U=3;break;case 4:case"fillAndAddForClipping":U=4;break;case 5:case"strokeAndAddPathForClipping":U=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":U=6;break;case 7:case"addToPathForClipping":U=7}var Y=void 0!==j.usedRenderingMode?j.usedRenderingMode:-1;-1!==U?y+=U+" Tr\n":-1!==Y&&(y+="0 Tr\n"),-1!==U&&(j.usedRenderingMode=U),u=i.align||"left";var V,W=oe*E,z=g.internal.pageSize.getWidth(),G=Se[ye];c=i.charSpace||Rn,h=i.maxWidth||0,d=Object.assign({autoencode:!0,noBOM:!0},i.flags);var $=[],q=function(e){return g.getStringUnitWidth(e,{font:G,charSpace:c,fontSize:oe,doKerning:!1})*oe/S};if("[object Array]"===Object.prototype.toString.call(e)){var K;a=R(e),"left"!==u&&(V=a.map(q));var X,J=0;if("right"===u){t-=V[0],e=[],I=a.length;for(var Q=0;Q<I;Q++)0===Q?(X=bn(t),K=wn(n)):(X=A(J-V[Q]),K=-W),e.push([a[Q],X,K]),J=V[Q]}else if("center"===u){t-=V[0]/2,e=[],I=a.length;for(var ee=0;ee<I;ee++)0===ee?(X=bn(t),K=wn(n)):(X=A((J-V[ee])/2),K=-W),e.push([a[ee],X,K]),J=V[ee]}else if("left"===u){e=[],I=a.length;for(var te=0;te<I;te++)e.push(a[te])}else if("justify"===u&&"Identity-H"===G.encoding){e=[],I=a.length,h=0!==h?h:z;for(var ne=0,re=0;re<I;re++)if(K=0===re?wn(n):-W,X=0===re?bn(t):ne,re<I-1){var ie=A((h-V[re])/(a[re].split(" ").length-1)),se=a[re].split(" ");e.push([se[0]+" ",X,K]),ne=0;for(var ae=1;ae<se.length;ae++){var le=(q(se[ae-1]+" "+se[ae])-q(se[ae]))*S+ie;ae==se.length-1?e.push([se[ae],le,0]):e.push([se[ae]+" ",le,0]),ne-=le}}else e.push([a[re],X,K]);e.push(["",ne,0])}else{if("justify"!==u)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],I=a.length,h=0!==h?h:z,re=0;re<I;re++)K=0===re?wn(n):-W,X=0===re?bn(t):0,re<I-1?$.push(T(A((h-V[re])/(a[re].split(" ").length-1)))):$.push(0),e.push([a[re],X,K])}}var ue="boolean"==typeof i.R2L?i.R2L:he;!0===ue&&(e=x(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),s={text:e,x:t,y:n,options:i,mutex:{pdfEscape:Lt,activeFontKey:ye,fonts:Se,activeFontSize:oe}},Be.publish("postProcessText",s),e=s.text,_=s.mutex.isHex||!1;var ce=Se[ye].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=x(e,(function(e,t,n){return[C(e),t,n]}))),a=R(e),e=[];for(var de,fe,pe,me=0,ge=1,ve=Array.isArray(a[0])?ge:me,be="",we=function(e,t,n){var r="";return n instanceof ze?(n="number"==typeof i.angle?Ge(n,new ze(1,0,0,1,e,t)):Ge(new ze(1,0,0,1,e,t),n),w===b.ADVANCED&&(n=Ge(new ze(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=T(e)+" "+T(t)+" Td\n",r},_e=0;_e<a.length;_e++){switch(be="",ve){case ge:pe=(_?"<":"(")+a[_e][0]+(_?">":")"),de=parseFloat(a[_e][1]),fe=parseFloat(a[_e][2]);break;case me:pe=(_?"<":"(")+a[_e]+(_?">":")"),de=bn(t),fe=wn(n)}void 0!==$&&void 0!==$[_e]&&(be=$[_e]+" Tw\n"),0===_e?e.push(be+we(de,fe,m)+pe):ve===me?e.push(be+pe):ve===ge&&e.push(be+we(de,fe,m)+pe)}e=ve===me?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var Ee="BT\n/";return Ee+=ye+" "+oe+" Tf\n",Ee+=T(oe*E)+" TL\n",Ee+=Mn+"\n",Ee+=y,Ee+=e,Z(Ee+="ET"),f[ye]=!0,g};var Qt=p.__private__.clip=p.clip=function(e){return Z("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return Qt("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Z("n"),this};var Zt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Zt(e)&&(c=e),this};var en=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},tn=p.close=function(){return Z("h"),this};p.stroke=function(){return Z("S"),this},p.fill=function(e){return nn("f",e),this},p.fillEvenOdd=function(e){return nn("f*",e),this},p.fillStroke=function(e){return nn("B",e),this},p.fillStrokeEvenOdd=function(e){return nn("B*",e),this};var nn=function(e,t){"object"===(0,r.A)(t)?sn(t,e):Z(e)},rn=function(e){null===e||w===b.ADVANCED&&void 0===e||(e=en(e),Z(e))};function on(e,t,n,r,i){var o=new ke(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return qe(s,o),o}var sn=function(e,t){var n=Ie[e.key],r=Ne[n];if(r instanceof Le)Z("q"),Z(an(t)),r.gState&&p.setGState(r.gState),Z(e.matrix.toString()+" cm"),Z("/"+n+" sh"),Z("Q");else if(r instanceof ke){var i=new ze(1,0,0,-1,0,Bn());e.matrix&&(i=i.multiply(e.matrix||$e),n=on.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),Z("q"),Z("/Pattern cs"),Z("/"+n+" scn"),r.gState&&p.setGState(r.gState),Z(t),Z("Q")}},an=function(e){switch(e){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ln=p.moveTo=function(e,t){return Z(T(A(e))+" "+T(L(t))+" m"),this},un=p.lineTo=function(e,t){return Z(T(A(e))+" "+T(L(t))+" l"),this},cn=p.curveTo=function(e,t,n,r,i,o){return Z([T(A(e)),T(L(t)),T(A(n)),T(L(r)),T(A(i)),T(L(o)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Zt(i))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,i,o){var s,a,l,u,c,h,d,f,p,m,g,v;if("number"==typeof e&&(v=n,n=t,t=e,e=v),r=r||[1,1],o=o||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Zt(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(ln(t,n),s=r[0],a=r[1],u=e.length,m=t,g=n,l=0;l<u;l++)2===(c=e[l]).length?(m=c[0]*s+m,g=c[1]*a+g,un(m,g)):(h=c[0]*s+m,d=c[1]*a+g,f=c[2]*s+m,p=c[3]*a+g,m=c[4]*s+m,g=c[5]*a+g,cn(h,d,f,p,m,g));return o&&tn(),rn(i),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":ln(r[0],r[1]);break;case"l":un(r[0],r[1]);break;case"c":cn.apply(this,r);break;case"h":tn()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Zt(i))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(r=-r),Z([T(A(e)),T(L(t)),T(A(n)),T(A(r)),"re"].join(" ")),rn(i),this},p.__private__.triangle=p.triangle=function(e,t,n,r,i,o,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Zt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,o-r],[e-i,t-o]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,i,o,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Zt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*a,0,i,o-o*a,i,o],[0,r-2*o],[0,o*a,-i*a,o,-i,o],[2*i-n,0],[-i*a,0,-i,-o*a,-i,-o],[0,2*o-r],[0,-o*a,i*a,-o,i,-o]],e+i,t,[1,1],s,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Zt(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*r;return ln(e+n,t),cn(e+n,t-s,e+o,t-r,e,t-r),cn(e-o,t-r,e-n,t-s,e-n,t),cn(e-n,t+s,e-o,t+r,e,t+r),cn(e+o,t+r,e+n,t+s,e+n,t),rn(i),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Zt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=S(t,n)),ye=Ft(e,t,{disableWarning:!1}),this};var hn=p.__private__.getFont=p.getFont=function(){return Se[Ft.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in Te)if(Te.hasOwnProperty(e))for(t in n[e]=[],Te[e])Te[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=S(n,r)),i=i||"Identity-H",Rt.call(this,e,t,n,i)};var dn,fn=e.lineWidth||.200025,pn=p.__private__.getLineWidth=p.getLineWidth=function(){return fn},mn=p.__private__.setLineWidth=p.setLineWidth=function(e){return fn=e,Z(T(A(e))+" w"),this};p.__private__.setLineDash=Oe.API.setLineDash=Oe.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return T(A(e))})).join(" "),t=T(A(t)),Z("["+e+"] "+t+" d"),this};var gn=p.__private__.getLineHeight=p.getLineHeight=function(){return oe*dn};p.__private__.getLineHeight=p.getLineHeight=function(){return oe*dn};var vn=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(dn=e),this},yn=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return dn};vn(e.lineHeight);var bn=p.__private__.getHorizontalCoordinate=function(e){return A(e)},wn=p.__private__.getVerticalCoordinate=function(e){return w===b.ADVANCED?e:Ue[B].mediaBox.topRightY-Ue[B].mediaBox.bottomLeftY-A(e)},_n=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return T(bn(e))},En=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return T(wn(e))},Sn=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return tt(Sn)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return Sn=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Z(Sn),this};var Tn=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return tt(Tn)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return Tn=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Z(Tn),this};var Mn=e.textColor||"0 g",Cn=p.__private__.getTextColor=p.getTextColor=function(){return tt(Mn)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return Mn=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Rn=e.charSpace,xn=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Rn||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Rn=e,this};var An=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return An=t,Z(t+" J"),this};var Nn=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Nn=t,Z(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(T(A(e))+" M"),this},p.GState=Ae,p.setGState=function(e){(e="string"==typeof e?Pe[De[e]]:Ln(null,e)).equals(Fe)||(Z("/"+e.id+" gs"),Fe=e)};var Ln=function(e,t){if(!e||!De[e]){var n=!1;for(var r in Pe)if(Pe.hasOwnProperty(r)&&Pe[r].equals(t)){n=!0;break}if(n)t=Pe[r];else{var i="GS"+(Object.keys(Pe).length+1).toString(10);Pe[i]=t,t.id=i}return e&&(De[e]=t.id),Be.publish("addGState",t),t}};p.addGState=function(e,t){return Ln(e,t),this},p.saveGraphicsState=function(){return Z("q"),Me.push({key:ye,size:oe,color:Mn}),this},p.restoreGraphicsState=function(){Z("Q");var e=Me.pop();return ye=e.key,oe=e.size,Mn=e.color,Fe=null,this},p.setCurrentTransformationMatrix=function(e){return Z(e.toString()+" cm"),this},p.comment=function(e){return Z("#"+e),this};var kn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},On=function(e,t,n,r){kn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(e){isNaN(e)||(o=parseFloat(e))}}),this},In=function(){this.page=He,this.currentPage=B,this.pages=q.slice(0),this.pagesContext=Ue.slice(0),this.x=we,this.y=_e,this.matrix=Ee,this.width=Hn(B),this.height=Bn(B),this.outputDestination=X,this.id="",this.objectNumber=-1};In.prototype.restore=function(){He=this.page,B=this.currentPage,Ue=this.pagesContext,q=this.pages,we=this.x,_e=this.y,Ee=this.matrix,Un(B,this.width),jn(B,this.height),X=this.outputDestination};var Pn=function(e,t,n,r,i){We.push(new In),He=B=0,q=[],we=e,_e=t,Ee=i,kt([n,r])},Dn=function(e){if(Ve[e])We.pop().restore();else{var t=new In,n="Xo"+(Object.keys(Ye).length+1).toString(10);t.id=n,Ve[e]=n,Ye[n]=t,Be.publish("addFormObject",t),We.pop().restore()}};for(var Fn in p.beginFormObject=function(e,t,n,r,i){return Pn(e,t,n,r,i),this},p.endFormObject=function(e){return Dn(e),this},p.doFormObject=function(e,t){var n=Ye[Ve[e]];return Z("q"),Z(t.toString()+" cm"),Z("/"+n.id+" Do"),Z("Q"),this},p.getFormObject=function(e){var t=Ye[Ve[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(le(Wt(Vt()),e),"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),this):new Promise((function(t,n){try{var r=le(Wt(Vt()),e);"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),t(r)}catch(e){n(e.message)}}))},Oe.API)Oe.API.hasOwnProperty(Fn)&&("events"===Fn&&Oe.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Be,Oe.API.events):p[Fn]=Oe.API[Fn]);var Hn=p.getPageWidth=function(e){return(Ue[e=e||B].mediaBox.topRightX-Ue[e].mediaBox.bottomLeftX)/be},Un=p.setPageWidth=function(e,t){Ue[e].mediaBox.topRightX=t*be+Ue[e].mediaBox.bottomLeftX},Bn=p.getPageHeight=function(e){return(Ue[e=e||B].mediaBox.topRightY-Ue[e].mediaBox.bottomLeftY)/be},jn=p.setPageHeight=function(e,t){Ue[e].mediaBox.topRightY=t*be+Ue[e].mediaBox.bottomLeftY};return p.internal={pdfEscape:Lt,getStyle:en,getFont:hn,getFontSize:ce,getCharSpace:xn,getTextColor:Cn,getLineHeight:gn,getLineHeightFactor:yn,getLineWidth:pn,write:te,getHorizontalCoordinate:bn,getVerticalCoordinate:wn,getCoordinateString:_n,getVerticalCoordinateString:En,collections:{},newObject:Ke,newAdditionalObject:Qe,newObjectDeferred:Xe,newObjectDeferredBegin:Je,getFilters:rt,putStream:it,events:Be,scaleFactor:be,pageSize:{getWidth:function(){return Hn(B)},setWidth:function(e){Un(B,e)},getHeight:function(){return Bn(B)},setHeight:function(e){jn(B,e)}},encryptionOptions:h,encryption:$t,getEncryptor:qt,output:zt,getNumberOfPages:Dt,pages:q,out:Z,f2:R,f3:x,getPageInfo:Kt,getPageInfoByObjId:Xt,getCurrentPageInfo:Jt,getPDFVersion:g,Point:kn,Rectangle:On,Matrix:ze,hasHotfix:Gt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Hn(B)},set:function(e){Un(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Bn(B)},set:function(e){jn(B,e)},enumerable:!0,configurable:!0}),xt.call(p,ie),ye="F1",Ot(o,n),Be.publish("initialized"),p}Ce.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Ce.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Ce.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ce.prototype.processOwnerPassword=function(e,t){return Te(_e(t).substr(0,5),e)},Ce.prototype.encryptor=function(e,t){var n=_e(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Te(n,e)}},Ae.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,r.A)(e)!==(0,r.A)(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return 0===i},Oe.API={events:[]},Oe.version="2.5.2";var Ie=Oe.API,Pe=1,De=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fe=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},He=function(e){return e.toFixed(2)},Ue=function(e){return e.toFixed(5)};Ie.__acroform__={};var Be=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},je=function(e){return e*Pe},Ye=function(e){var t=new st,n=wt.internal.getHeight(e)||0,r=wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(He(r)),Number(He(n))],t},Ve=Ie.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},We=Ie.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},ze=Ie.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Ge=Ie.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ze(e,t-1)},$e=Ie.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ve(e,t-1)},qe=Ie.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return We(e,t-1)},Ke=Ie.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],s=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(He(l.lowerLeft_X)),Number(He(l.lowerLeft_Y)),Number(He(l.upperRight_X)),Number(He(l.upperRight_Y))]},Xe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Je(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+He(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Ye(e);return o.scope=e.scope,o.stream=t.join("\n"),o}},Je=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(e){return e.split("\n")})):i.map((function(e){return[e]}));var o=n,s=wt.internal.getHeight(e)||0;s=s<0?-s:s;var a=wt.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(t,n,r){if(t+1<i.length){var o=n+" "+i[t+1][0];return Qe(o,e,r).width<=a-4}return!1};o++;e:for(;o>0;){t="",o--;var u,c,h=Qe("3",e,o).height,d=e.multiline?s-o:(s-h)/2,f=d+=2,p=0,m=0,g=0;if(o<=0){t="(...) Tj\n",t+="% Width of Text: "+Qe(t,e,o=12).width+", FieldWidth:"+a+"\n";break}for(var v="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var w=!1;if(1!==i[b].length&&g!==i[b].length-1){if((h+2)*(y+2)+2>s)continue e;v+=i[b][g],w=!0,m=b,b--}else{v=" "==(v+=i[b][g]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var _=parseInt(b),E=l(_,v,o),S=b>=i.length-1;if(E&&!S){v+=" ",g=0;continue}if(E||S){if(S)m=_;else if(e.multiline&&(h+2)*(y+2)+2>s)continue e}else{if(!e.multiline)continue e;if((h+2)*(y+2)+2>s)continue e;m=_}}for(var T="",M=p;M<=m;M++){var C=i[M];if(e.multiline){if(M===m){T+=C[g]+" ",g=(g+1)%C.length;continue}if(M===p){T+=C[C.length-1]+" ";continue}}T+=C[0]+" "}switch(T=" "==T.substr(T.length-1)?T.substr(0,T.length-1):T,c=Qe(T,e,o).width,e.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;case"left":default:u=2}t+=He(u)+" "+He(f)+" Td\n",t+="("+De(T)+") Tj\n",t+=-He(u)+" 0 Td\n",f=-(o+2),c=0,p=w?m:m+1,y++,v=""}break}return r.text=t,r.fontSize=o,r},Qe=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Ze={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},et=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},tt=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,o=e[n];t.internal.newObjectDeferredBegin(o.objId,!0),"object"===(0,r.A)(o)&&"function"==typeof o.putStream&&o.putStream(),delete e[i]}},nt=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(lt.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ze)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Pe=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new at,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){!function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}(e)})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&et(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var i in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(i)){var o=e[i],s=[],a=o.Rect;if(o.Rect&&(o.Rect=Ke(o.Rect,t)),t.internal.newObjectDeferredBegin(o.objId,!0),o.DA=wt.createDefaultAppearanceStream(o),"object"===(0,r.A)(o)&&"function"==typeof o.getKeyValueListForStream&&(s=o.getKeyValueListForStream()),o.Rect=a,o.hasAppearanceStream&&!o.appearanceStreamContent){var l=Xe(o);s.push({key:"AP",value:"<</N "+l+">>"}),t.internal.acroformPlugin.xForms.push(l)}if(o.appearanceStreamContent){var u="";for(var c in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(c)){var h=o.appearanceStreamContent[c];if(u+="/"+c+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var d=h[i];"function"==typeof d&&(d=d.call(t,o)),u+="/"+i+" "+d+" ",t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d)}}else"function"==typeof(d=h)&&(d=d.call(t,o)),u+="/"+i+" "+d,t.internal.acroformPlugin.xForms.indexOf(d)>=0||t.internal.acroformPlugin.xForms.push(d);u+=">>"}s.push({key:"AP",value:"<<\n"+u+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:o.objId}),t.internal.out("endobj")}n&&tt(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},rt=Ie.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(e){return e};if(Array.isArray(e)){for(var o="[",s=0;s<e.length;s++)switch(0!==s&&(o+=" "),(0,r.A)(e[s])){case"boolean":case"number":case"object":o+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(i=n.internal.getEncryptor(t)),o+="("+De(i(e[s].toString()))+")"):o+=e[s].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},it=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+De(r(e))+")"},ot=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ot.prototype.toString=function(){return this.objId+" 0 R"},ot.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ot.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:rt(i,this.objId,this.scope)}):i instanceof ot?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var st=function(){ot.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Be(st,ot);var at=function(){ot.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+De(t(e))+")"}},set:function(t){e=t}})};Be(at,ot);var lt=function e(){ot.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(t,3))},set:function(e){!0===Boolean(e)?this.F=$e(t,3):this.F=qe(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof gt)return;o="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+De(t(o))+")"},set:function(e){o=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u?50/Pe:u},set:function(e){u=e}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(e){c=e}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof gt||this instanceof yt))return it(h,this.objId,this.scope)},set:function(e){e=e.toString(),h=e}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof ft==0?it(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof ft==0?"("===e.substr(0,1)?Fe(e.substr(1,e.length-2)):Fe(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ft==1?Fe(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof ft==1?"/"+e:e}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ft==0?it(f,this.objId,this.scope):f},set:function(e){e=e.toString(),f=this instanceof ft==0?"("===e.substr(0,1)?Fe(e.substr(1,e.length-2)):Fe(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ft==1?Fe(f.substr(1,f.length-1)):f},set:function(e){e=e.toString(),f=this instanceof ft==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,1):this.Ff=qe(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,2):this.Ff=qe(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,3):this.Ff=qe(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Be(lt,ot);var ut=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return rt(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,18):this.Ff=qe(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=$e(this.Ff,19):this.Ff=qe(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=$e(this.Ff,20),t.sort()):this.Ff=qe(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,22):this.Ff=qe(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,23):this.Ff=qe(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,27):this.Ff=qe(this.Ff,27)}}),this.hasAppearanceStream=!1};Be(ut,lt);var ct=function(){ut.call(this),this.fontName="helvetica",this.combo=!1};Be(ct,ut);var ht=function(){ct.call(this),this.combo=!0};Be(ht,ct);var dt=function(){ht.call(this),this.edit=!0};Be(dt,ht);var ft=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,15):this.Ff=qe(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,16):this.Ff=qe(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,17):this.Ff=qe(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,26):this.Ff=qe(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+De(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,r.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Be(ft,lt);var pt=function(){ft.call(this),this.pushButton=!0};Be(pt,ft);var mt=function(){ft.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Be(mt,ft);var gt=function(){var e,t;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),i)n.push("/"+t+" ("+De(e(i[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,r.A)(e)&&(i=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(e){"string"==typeof e&&(i.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Be(gt,lt),mt.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},mt.prototype.createOption=function(e){var t=new gt;return t.Parent=this,t.optionName=e,this.Kids.push(t),_t.call(this.scope,t),t};var vt=function(){ft.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};Be(vt,ft);var yt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,13):this.Ff=qe(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,21):this.Ff=qe(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,23):this.Ff=qe(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,24):this.Ff=qe(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,25):this.Ff=qe(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,26):this.Ff=qe(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Be(yt,lt);var bt=function(){yt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ge(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=$e(this.Ff,14):this.Ff=qe(this.Ff,14)}}),this.password=!0};Be(bt,yt);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ye(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=Je(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+He(wt.internal.getWidth(e))+" "+He(wt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+He(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=Ye(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=wt.internal.getHeight(e),s=wt.internal.getWidth(e),a=Je(e,e.caption);return i.push("1 g"),i.push("0 0 "+He(s)+" "+He(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+He(s-1)+" "+He(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+He(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=Ye(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+He(wt.internal.getWidth(e))+" "+He(wt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Circle.YesNormal,t.D[e]=wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ye(e);t.scope=e.scope;var n=[],r=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=wt.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ue(wt.internal.getWidth(e)/2)+" "+Ue(wt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Ye(e);t.scope=e.scope;var n=[],r=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*wt.internal.Bezier_C).toFixed(5)),s=Number((r*wt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ue(wt.internal.getWidth(e)/2)+" "+Ue(wt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ue(wt.internal.getWidth(e)/2)+" "+Ue(wt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=Ye(e);t.scope=e.scope;var n=[],r=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*wt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ue(wt.internal.getWidth(e)/2)+" "+Ue(wt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Cross.YesNormal,t.D[e]=wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ye(e);t.scope=e.scope;var n=[],r=wt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+He(wt.internal.getWidth(e)-2)+" "+He(wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(He(r.x1.x)+" "+He(r.x1.y)+" m"),n.push(He(r.x2.x)+" "+He(r.x2.y)+" l"),n.push(He(r.x4.x)+" "+He(r.x4.y)+" m"),n.push(He(r.x3.x)+" "+He(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=Ye(e);t.scope=e.scope;var n=wt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+He(wt.internal.getWidth(e))+" "+He(wt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+He(wt.internal.getWidth(e)-2)+" "+He(wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(He(n.x1.x)+" "+He(n.x1.y)+" m"),r.push(He(n.x2.x)+" "+He(n.x2.y)+" l"),r.push(He(n.x4.x)+" "+He(n.x4.y)+" m"),r.push(He(n.x3.x)+" "+He(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=Ye(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+He(wt.internal.getWidth(e))+" "+He(wt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=wt.internal.getWidth(e),n=wt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},wt.internal.getWidth=function(e){var t=0;return"object"===(0,r.A)(e)&&(t=je(e.Rect[2])),t},wt.internal.getHeight=function(e){var t=0;return"object"===(0,r.A)(e)&&(t=je(e.Rect[3])),t};var _t=Ie.addField=function(e){if(nt(this,e),!(e instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ie.AcroFormChoiceField=ut,Ie.AcroFormListBox=ct,Ie.AcroFormComboBox=ht,Ie.AcroFormEditBox=dt,Ie.AcroFormButton=ft,Ie.AcroFormPushButton=pt,Ie.AcroFormRadioButton=mt,Ie.AcroFormCheckBox=vt,Ie.AcroFormTextField=yt,Ie.AcroFormPasswordField=bt,Ie.AcroFormAppearance=wt,Ie.AcroForm={ChoiceField:ut,ListBox:ct,ComboBox:ht,EditBox:dt,Button:ft,PushButton:pt,RadioButton:mt,CheckBox:vt,TextField:yt,PasswordField:bt,Appearance:wt},Oe.AcroForm={ChoiceField:ut,ListBox:ct,ComboBox:ht,EditBox:dt,Button:ft,PushButton:pt,RadioButton:mt,CheckBox:vt,TextField:yt,PasswordField:bt,Appearance:wt};Oe.AcroForm;function Et(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,o,s,a,l,u=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(S(e))for(l in n)for(s=n[l],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==e[o]){a=!1;break}if(!0===a){u=l;break}}else for(l in n)for(s=n[l],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==e.charCodeAt(o)){a=!1;break}if(!0===a){u=l;break}}return u===t&&r!==t&&(u=r),u},o=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:t.width}),o.push({key:"Height",value:t.height}),t.colorSpace===v.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===v.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var s="",a=0,l=t.transparency.length;a<l;a++)s+=t.transparency[a]+" "+t.transparency[a]+" ";o.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&o.push({key:"SMask",value:t.objectId+1+" 0 R"});var u=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:o,alreadyAppliedFilters:u,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var c="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:c,data:t.sMask};"filter"in t&&(h.filter=t.filter),e.call(this,h)}if(t.colorSpace===v.INDEXED){var d=this.internal.newObject();r({data:M(new Uint8Array(t.palette)),objectId:d}),n("endobj")}},s=function(){var e=this.internal.collections.addImage_images;for(var t in e)o.call(this,e[t])},a=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},u=function(){var e=this.internal.collections.addImage_images;return l.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(t){return"function"==typeof e["process"+t.toUpperCase()]},d=function(e){return"object"===(0,r.A)(e)&&1===e.nodeType},f=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return se(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;case"JPEG":case"JPG":default:o="image/jpeg"}return se(t.toDataURL(o,1).split("base64,").pop())}},p=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,i,o){var s=m.call(this,n,r,i),a=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=u.call(this);if(n=s[0],r=s[1],c[i.index]=i,o){o*=Math.PI/180;var h=Math.cos(o),d=Math.sin(o),f=function(e){return e.toFixed(4)},p=[f(h),f(d),f(-1*d),f(h),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,a(e),l(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([a(n),"0","0",a(r),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(r),a(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(S(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},w=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},_=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},E=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return E()&&e instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(e){return E()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},M=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=S(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,i,o,s,a,u,c,h;if("number"==typeof arguments[1]?(n=t,i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=arguments[5],c=arguments[6],h=arguments[7]):(n=arguments[1],i=arguments[2],o=arguments[3],s=arguments[4],a=arguments[5],u=arguments[6],c=arguments[7],h=arguments[8]),"object"===(0,r.A)(e=arguments[0])&&!d(e)&&"imageData"in e){var f=e;e=f.imageData,n=f.format||n||t,i=f.x||i||0,o=f.y||o||0,s=f.w||f.width||s,a=f.h||f.height||a,u=f.alias||u,c=f.compression||c,h=f.rotation||f.angle||h}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(i)||isNaN(o))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=C.call(this,e,n,u,c);return g.call(this,i,o,s,a,m,h),this};var C=function(n,r,o,s){var a,l,u;if("string"==typeof n&&i(n)===t){n=unescape(n);var m=R(n,!1);(""!==m||void 0!==(m=e.loadFile(n,!0)))&&(n=m)}if(d(n)&&(n=f(n,r)),r=i(n,r),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(u=o)||0===u.length)&&(o=function(e){return"string"==typeof e||S(e)?b(e):S(e.data)?b(e.data):null}(n)),(a=p.call(this,o))||(E()&&(n instanceof Uint8Array||"RGBA"===r||(l=n,n=T(n))),a=this["process"+r.toUpperCase()](n,c.call(this),o,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(s),l)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},R=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,i="";if("string"==typeof e){r=null!==(n=_(e))?n.data:e;try{i=se(r)}catch(e){if(t)throw w(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(n){var r,o,s="";if(d(n)&&(n=f(n)),"string"==typeof n&&i(n)===t&&(""===(s=R(n,!1))&&(s=e.loadFile(n)||""),n=s),o=i(n),!h(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!E()||n instanceof Uint8Array||(n=T(n)),!(r=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=o,r}}(Oe.API),
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};Oe.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,o=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,u=!1,c=0;c<l.length&&!u;c++)switch((n=l[c]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var d=this.internal.pdfEscape,f=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(p.objId),v=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+d(g(v))+") >>",p.content=i;var y=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(p.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+o(n.bounds.x)+" "+s(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+d(f(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+d(f(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var _=s(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+_+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var o=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:s(e),y:a(t),w:s(e+n),h:a(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,o,s=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){o=r.maxWidth;var l=this.splitTextToSize(e,o).length;i=Math.ceil(a*l)}else o=s,i=a;return this.text(e,t,n,r),n+=.2*a,"center"===r.align&&(t-=s/2),"right"===r.align&&(t-=s),this.link(t,n-a,o,i,r),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(Oe.API),
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&o(e)&&t[e.charCodeAt(0)].length>=3};var c=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&o(e)&&4==t[e.charCodeAt(0)].length},h=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",o=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(o++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,o=0),t===e.length-1&&(r=n,i+=e.charAt(t-(o-1)),t-=o-1,o=0)):(r=n,i+=e.charAt(t-o),t-=o,o=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var d=e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===o(e)?-1:!u(e)||!s(t)&&!s(n)||!s(n)&&a(t)||a(e)&&!s(t)||a(e)&&l(t)||a(e)&&a(t)?0:c(e)&&s(t)&&!a(t)&&s(n)&&u(n)?3:a(e)||!s(n)?1:2:-1},f=function(e){var n=0,r=0,i=0,o="",a="",l="",u=(e=e||"").split("\\s+"),c=[];for(n=0;n<u.length;n+=1){for(c.push(""),r=0;r<u[n].length;r+=1)o=u[n][r],a=u[n][r-1],l=u[n][r+1],s(o)?(i=d(o,a,l),c[n]+=-1!==i?String.fromCharCode(t[o.charCodeAt(0)][i]):o):c[n]+=o;c[n]=h(c[n])}return c.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([f(t[r][0]),t[r][1],t[r][2]]):n.push([f(t[r])]);e=n}else e=f(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(Oe.API),Oe.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}))}return this},
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Oe.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(e){o=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){i.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),r=t.font||this.getFont(),o=t.scaleFactor||this.internal.scaleFactor,s=0,a=0,l=0,u=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var c=t.maxWidth;c>0?"string"==typeof e?e=this.splitTextToSize(e,c):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(u.splitTextToSize(t,c))}),[])):e=Array.isArray(e)?e:[e];for(var h=0;h<e.length;h++)s<(l=this.getStringUnitWidth(e[h],{font:r})*n)&&(s=l);return 0!==s&&(a=e.length),{w:s/=o,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var r=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===e.lineNumber?(e.x=(r.x||0)+(r.width||0),e.y=r.y||0):r.y+r.height+e.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=a.top,u&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=r.y+r.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,u,c,h){if(i.call(this),!u)throw new Error("No data for PDF table.");var d,f,p,m,g=[],v=[],y=[],b={},w={},_=[],E=[],S=(h=h||{}).autoSize||!1,T=!1!==h.printHeaders,M=h.css&&void 0!==h.css["font-size"]?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},t),R="number"==typeof h.padding?h.padding:3,x=h.headerBackgroundColor||"#c8c8c8",A=h.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=x,this.internal.__cell__.headerTextColor=A,this.setFontSize(M),null==c)v=g=Object.keys(u[0]),y=g.map((function(){return"left"}));else if(Array.isArray(c)&&"object"===(0,r.A)(c[0]))for(g=c.map((function(e){return e.name})),v=c.map((function(e){return e.prompt||e.name||""})),y=c.map((function(e){return e.align||"left"})),d=0;d<c.length;d+=1)w[c[d].name]=c[d].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(v=g=c,y=g.map((function(){return"left"})));if(S||Array.isArray(c)&&"string"==typeof c[0])for(d=0;d<g.length;d+=1){for(b[m=g[d]]=u.map((function(e){return e[m]})),this.setFont(void 0,"bold"),_.push(this.getTextDimensions(v[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),f=b[m],this.setFont(void 0,"normal"),p=0;p<f.length;p+=1)_.push(this.getTextDimensions(f[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[m]=Math.max.apply(null,_)+R+R,_=[]}if(T){var N={};for(d=0;d<g.length;d+=1)N[g[d]]={},N[g[d]].text=v[d],N[g[d]].align=y[d];var L=l.call(this,N,w);E=g.map((function(t){return new s(e,n,w[t],L,N[t].text,void 0,N[t].align)})),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var k=c.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var O=l.call(this,u[d],w);for(p=0;p<g.length;p+=1){var I=u[d][g[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:p,data:I},this),a.call(this,new s(e,n,w[g[p]],O,I,d+2,k[g[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var l=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/i+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){i.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){r=this.internal.__cell__.tableHeaderRow[u].clone(),t&&(r.y=this.internal.__cell__.margins.top||0,l.push(r)),r.lineNumber=e;var c=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,r),this.setTextColor(c)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(Oe.API);var St={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Tt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Mt=Et(Tt),Ct=[100,200,300,400,500,600,700,800,900],Rt=Et(Ct);function xt(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return St[e=e||"normal"]?e:"normal"}(e.style),r=function(e){if(!e)return 400;if("number"==typeof e)return e>=100&&e<=900&&e%100==0?e:400;if(/^\d00$/.test(e))return parseInt(e);switch(e){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(e){return"number"==typeof Mt[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function At(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var Nt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Lt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kt(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Ot(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},Nt,n.genericFontFamilies||{}),o=null,s=null,a=0;a<t.length;++a)if(i[(o=xt(t[a])).family]&&(o.family=i[o.family]),e.hasOwnProperty(o.family)){s=e[o.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+kt(o)+"' and default family '"+r+"'.");if(s=function(e,t){if(t[e])return t[e];var n=Mt[e],r=n<=Mt.normal?-1:1,i=At(t,Tt,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(o.stretch,s),s=function(e,t){if(t[e])return t[e];for(var n=St[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(o.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=Rt[e],r=At(t,Ct,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+kt(o)+"'.");return s}function It(e){return e.trimLeft()}function Pt(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Dt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Ft,Ht,Ut,Bt=["times"];!function(e){var t,n,i,o,s,a,l,u,c,h=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new u,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new a,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new a,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,c=new h}]);var d=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(e){isNaN(e)||(o=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof h&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=f(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=f(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var d=null;function p(e,t){if(null===d){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());d=function(e){for(var t={},n=0;n<e.length;++n){var r=xt(e[n]),i=r.family,o=r.stretch,s=r.style,a=r.weight;t[i]=t[i]||{},t[i][o]=t[i][o]||{},t[i][o][s]=t[i][o][s]||{},t[i][o][s][a]=r}return t}(n.concat(t))}return d}var m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){d=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=(t[2],t[3]),i=t[4],o=(t[5],t[6]),s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===s?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var a=function(e){var t,n,r=[],i=e.trim();if(""===i)return Bt;if(i in Lt)return[Lt[i]];for(;""!==i;){switch(n=null,t=(i=It(i)).charAt(0)){case'"':case"'":n=Pt(i.substring(1),t);break;default:n=Dt(i)}if(null===n)return Bt;if(r.push(n[0]),""!==(i=It(n[1]))&&","!==i.charAt(0))return Bt;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var l=Ot(p(this.pdf,this.fontFaces),a.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(l.ref.name,l.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var c="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d=0;d<a.length;d++){if(void 0!==this.pdf.internal.getFont(a[d],u,{noFallback:!0,disableWarning:!0})){c=a[d];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(a[d],"bold",{noFallback:!0,disableWarning:!0}))c=a[d],u="bold";else if(void 0!==this.pdf.internal.getFont(a[d],"normal",{noFallback:!0,disableWarning:!0})){c=a[d],u="normal";break}}if(""===c)for(var f=0;f<a.length;f++)if(h[a[f]]){c=h[a[f]];break}c=""===c?"Times":c,this.pdf.setFont(c,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};d.prototype.setLineDash=function(e){this.lineDash=e},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){_.call(this,"fill",!1)},d.prototype.stroke=function(){_.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(e,t)},d.prototype.closePath=function(){var e=new a(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,r.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new a(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(e.x,e.y)},d.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},d.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),o=this.ctx.transform.applyToPoint(new a(e,t));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},d.prototype.bezierCurveTo=function(e,t,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new a(i,o)),l=this.ctx.transform.applyToPoint(new a(e,t)),u=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:u.x,y2:u.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},d.prototype.arc=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw ne.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new a(e,t));e=s.x,t=s.y;var l=this.ctx.transform.applyToPoint(new a(0,n)),u=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},d.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},d.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},d.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},d.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},d.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},d.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},d.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==o)t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new ue(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};d.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ne.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var i=P(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;A.call(this,{text:e,x:t,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ne.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var i=P(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;A.call(this,{text:e,x:t,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},d.prototype.measureText=function(e){if("string"!=typeof e)throw ne.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor,o=function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this};return new o({width:i*=Math.round(96*n/72*1e4)/1e4})},d.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new u(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.rotate=function(e){if(isNaN(e))throw ne.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new u(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},d.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new u(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},d.prototype.transform=function(e,t,n,r,i,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw ne.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new u(e,t,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(s)},d.prototype.setTransform=function(e,t,n,r,i,o){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new u(e,t,n,r,i,o)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(e,t,n,r,i,o,s,a,c){var h=this.pdf.getImageProperties(e),d=1,f=1,p=1,m=1;void 0!==r&&void 0!==a&&(p=a/r,m=c/i,d=h.width/r*a/r,f=h.height/i*c/i),void 0===o&&(o=t,s=n,t=0,n=0),void 0!==r&&void 0===a&&(a=r,c=i),void 0===r&&void 0===a&&(a=h.width,c=h.height);for(var y,_=this.ctx.transform.decompose(),S=P(_.rotate.shx),T=new u,M=(T=(T=(T=T.multiply(_.translate)).multiply(_.skew)).multiply(_.scale)).applyToRectangle(new l(o-t*p,s-n*m,r*d,i*f)),C=v.call(this,M),R=[],x=0;x<C.length;x+=1)-1===R.indexOf(C[x])&&R.push(C[x]);if(w(R),this.autoPaging)for(var A=R[0],N=R[R.length-1],L=A;L<N+1;L++){this.pdf.setPage(L);var k=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],O=1===L?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F=1===L?0:I+(L-2)*D;if(0!==this.ctx.clip_path.length){var H=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(y,this.posX+this.margin[3],-F+O+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=H}var U=JSON.parse(JSON.stringify(M));U=b([U],this.posX+this.margin[3],-F+O+this.ctx.prevPageLastElemOffset)[0];var B=(L>A||L<N)&&g.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],k,D,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",U.x,U.y,U.w,U.h,null,null,S),B&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",M.x,M.y,M.w,M.h,null,null,S)};var v=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var o=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"bct":var s=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)y.call(this);return r},y=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},b=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;case"mt":case"lt":case"arc":default:e[r].x+=t,e[r].y+=n}return e},w=function(e){return e.sort((function(e,t){return e-t}))},_=function(e,t){for(var n,r,i=this.fillStyle,o=this.strokeStyle,s=this.lineCap,a=this.lineWidth,l=Math.abs(a*this.ctx.transform.scaleX),u=this.lineJoin,c=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),d=[],f=0;f<h.length;f++)if(void 0!==h[f].x)for(var p=v.call(this,h[f]),m=0;m<p.length;m+=1)-1===d.indexOf(p[m])&&d.push(p[m]);for(var _=0;_<d.length;_++)for(;this.pdf.internal.getNumberOfPages()<d[_];)y.call(this);if(w(d),this.autoPaging)for(var S=d[0],T=d[d.length-1],M=S;M<T+1;M++){this.pdf.setPage(M),this.fillStyle=i,this.strokeStyle=o,this.lineCap=s,this.lineWidth=l,this.lineJoin=u;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],R=1===M?this.posY+this.margin[0]:this.margin[0],x=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],A=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],N=1===M?0:x+(M-2)*A;if(0!==this.ctx.clip_path.length){var L=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-N+R+this.ctx.prevPageLastElemOffset),E.call(this,e,!0),this.path=L}if(r=JSON.parse(JSON.stringify(c)),this.path=b(r,this.posX+this.margin[3],-N+R+this.ctx.prevPageLastElemOffset),!1===t||0===M){var k=(M>S||M<T)&&g.call(this);k&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,A,null).clip().discardPath()),E.call(this,e,t),k&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=l,E.call(this,e,t),this.lineWidth=a;this.path=c},E=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,r,i=[],o=this.path,s=0;s<o.length;s++){var a=o[s];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var l=i.length;if(o[s-1]&&!isNaN(o[s-1].x)&&(n=[a.x-o[s-1].x,a.y-o[s-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(a);break}break;case"bct":n=[a.x1-o[s-1].x,a.y1-o[s-1].y,a.x2-o[s-1].x,a.y2-o[s-1].y,a.x-o[s-1].x,a.y-o[s-1].y],i[i.length-1].deltas.push(n);break;case"qct":var u=o[s-1].x+2/3*(a.x1-o[s-1].x),c=o[s-1].y+2/3*(a.y1-o[s-1].y),h=a.x+2/3*(a.x1-a.x),d=a.y+2/3*(a.y1-a.y),f=a.x,g=a.y;n=[u-o[s-1].x,c-o[s-1].y,h-o[s-1].x,d-o[s-1].y,f-o[s-1].x,g-o[s-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}r=t?null:"stroke"===e?"stroke":"fill";for(var v=!1,y=0;y<i.length;y++)if(i[y].arc)for(var b=i[y].abs,w=0;w<b.length;w++){var _=b[w];"arc"===_.type?M.call(this,_.x,_.y,_.radius,_.startAngle,_.endAngle,_.counterclockwise,void 0,t,!v):N.call(this,_.x,_.y),v=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),v=!1;else if(!0!==i[y].begin){var E=i[y].start.x,S=i[y].start.y;L.call(this,i[y].deltas,E,S),v=!0}r&&C.call(this,r),t&&R.call(this)}},S=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;case"ideographic":return e;case"alphabetic":default:return e}},T=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(e,t,n,r,i,o,s,a,l){for(var u=O.call(this,n,r,i,o),c=0;c<u.length;c++){var h=u[c];0===c&&(l?x.call(this,h.x1+e,h.y1+t):N.call(this,h.x1+e,h.y1+t)),k.call(this,e,t,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}a?R.call(this):C.call(this,s)},C=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(e,t){this.pdf.internal.out(n(e)+" "+i(t)+" m")},A=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;case"left":case"start":default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=S.call(this,e.y),i=T.call(this,r)-n.h,o=this.ctx.transform.applyToPoint(new a(e.x,r)),s=this.ctx.transform.decompose(),c=new u;c=(c=(c=c.multiply(s.translate)).multiply(s.skew)).multiply(s.scale);for(var h,d,f,p=this.ctx.transform.applyToRectangle(new l(e.x,r,n.w,n.h)),m=c.applyToRectangle(new l(e.x,i,n.w,n.h)),y=v.call(this,m),_=[],M=0;M<y.length;M+=1)-1===_.indexOf(y[M])&&_.push(y[M]);if(w(_),this.autoPaging)for(var C=_[0],R=_[_.length-1],x=C;x<R+1;x++){this.pdf.setPage(x);var A=1===x?this.posY+this.margin[0]:this.margin[0],N=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[2],k=L-this.margin[0],O=this.pdf.internal.pageSize.width-this.margin[1],I=O-this.margin[3],P=1===x?0:N+(x-2)*k;if(0!==this.ctx.clip_path.length){var D=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(h,this.posX+this.margin[3],-1*P+A),E.call(this,"fill",!0),this.path=D}var F=b([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale);var H="text"!==this.autoPaging;if(H||F.y+F.h<=L){if(H||F.y>=A&&F.x<=O){var U=H?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||O-F.x)[0],B=b([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-P+A+this.ctx.prevPageLastElemOffset)[0],j=H&&(x>C||x<R)&&g.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,k,null).clip().discardPath()),this.pdf.text(U,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),j&&this.pdf.restoreGraphicsState()}}else F.y<L&&(this.ctx.prevPageLastElemOffset+=L-F.y);e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)}else e.scale>=.01&&(d=this.pdf.internal.getFontSize(),this.pdf.setFontSize(d*e.scale),f=this.lineWidth,this.lineWidth=f*e.scale),this.pdf.text(e.text,o.x+this.posX,o.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(d),this.lineWidth=f)},N=function(e,t,r,o){r=r||0,o=o||0,this.pdf.internal.out(n(e+r)+" "+i(t+o)+" l")},L=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},k=function(e,n,r,i,a,l,u,c){this.pdf.internal.out([t(o(r+e)),t(s(i+n)),t(o(a+e)),t(s(l+n)),t(o(u+e)),t(s(c+n)),"c"].join(" "))},O=function(e,t,n,r){for(var i=2*Math.PI,o=Math.PI/2;t>n;)t-=i;var s=Math.abs(n-t);s<i&&r&&(s=i-s);for(var a=[],l=r?-1:1,u=t;s>1e-5;){var c=u+l*Math.min(s,o);a.push(I.call(this,e,u,c)),s-=Math.abs(c-u),u=c}return a},I=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),o=e*Math.sin(r),s=i,a=-o,l=s*s+a*a,u=l+s*i+a*o,c=4/3*(Math.sqrt(2*l*u)-u)/(s*o-a*i),h=s-c*a,d=a+c*s,f=h,p=-d,m=r+t,g=Math.cos(m),v=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:h*g-d*v,y2:h*v+d*g,x3:f*g-p*v,y3:f*v+p*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},P=function(e){return 180*e/Math.PI},D=function(e,t,n,r,i,o){var s=e+.5*(n-e),a=t+.5*(r-t),u=i+.5*(n-i),c=o+.5*(r-o),h=Math.min(e,i,s,u),d=Math.max(e,i,s,u),f=Math.min(t,o,a,c),p=Math.max(t,o,a,c);return new l(h,f,d-h,p-f)},F=function(e,t,n,r,i,o,s,a){var u,c,h,d,f,p,m,g,v,y,b,w,_,E,S=n-e,T=r-t,M=i-n,C=o-r,R=s-i,x=a-o;for(c=0;c<41;c++)v=(m=(h=e+(u=c/40)*S)+u*((f=n+u*M)-h))+u*(f+u*(i+u*R-f)-m),y=(g=(d=t+u*T)+u*((p=r+u*C)-d))+u*(p+u*(o+u*x-p)-g),0==c?(b=v,w=y,_=v,E=y):(b=Math.min(b,v),w=Math.min(w,y),_=Math.max(_,v),E=Math.max(E,y));return new l(Math.round(b),Math.round(w),Math.round(_-b),Math.round(E-w))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Oe.API),
/**
 * @license
 * jsPDF filters PlugIn
 * Copyright (c) 2014 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){var t,n,r,i,o,s,a,l,u,c;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(o=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(s=(o=((o=((o=((o=(o-(c=o%85))/85)-(u=o%85))/85)-(l=o%85))/85)-(a=o%85))/85)%85,n.push(s+33,a+33,l+33,u+33,c+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,o,s=String,a="length",l=255,u="charCodeAt",c="slice",h="replace";for(e[c](-2),e=e[c](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,o=(e+=t="uuuuu"[c](e[a]%5||5))[a];o>i;i+=5)n=52200625*(e[u](i)-33)+614125*(e[u](i+1)-33)+7225*(e[u](i+2)-33)+85*(e[u](i+3)-33)+(e[u](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[a]),s.fromCharCode.apply(s,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=J(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,o){var s=0,a=e||"",l=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}(Oe.API),
/**
 * @license
 * jsPDF fileloading PlugIn
 * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,o=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(o(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return o(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},e.loadImageFile=e.loadFile}(Oe.API),function(e){function t(){return(ee.html2canvas?Promise.resolve(ee.html2canvas):n.e(969).then(n.t.bind(n,70969,23))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function i(){return(ee.DOMPurify?Promise.resolve(ee.DOMPurify):Promise.resolve().then(n.t.bind(n,55215,23))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var o=function(e){var t=(0,r.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},a=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(e,t){return e.__proto__=t||a.prototype,e},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(o(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(i).then((function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},a.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},a.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},a.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var o=0;o<n.length;++o){var s=n[o],a=s.src.find((function(e){return"truetype"===e.format}));a&&t.addFont(a.url,s.ref.name,s.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},a.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},a.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},a.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},a.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},a.prototype.set=function(e){if("object"!==o(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in a.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},a.prototype.get=function(e,t){return this.then((function(){var n=e in a.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},a.prototype.setMargin=function(e){return this.then((function(){switch(o(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},a.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||Oe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},a.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},a.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},a.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:a.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return a.convert(i,this.__proto__)},a.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},a.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},a.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return a.convert(t,this)},a.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},a.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Oe.getPageSize=function(e,t,n){if("object"===(0,r.A)(e)){var i=e;e=i.orientation,t=i.unit||t,n=i.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var o,s=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":o=1;break;case"mm":o=72/25.4;break;case"cm":o=72/2.54;break;case"in":o=72;break;case"px":o=.75;break;case"pc":case"em":o=12;break;case"ex":o=6;break;default:throw"Invalid unit: "+t}var l,u=0,c=0;if(a.hasOwnProperty(s))u=a[s][1]/o,c=a[s][0]/o;else try{u=n[1],c=n[0]}catch(h){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>u&&(l=c,c=u,u=l);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",u>c&&(l=c,c=u,u=l)}return{width:c,height:u,unit:t,k:o,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(xt):null;var n=new a(t);return t.worker?n:n.from(e).doCallback()}}(Oe.API),Oe.API.addJS=function(e){return Ut=e,this.internal.events.subscribe("postPutResources",(function(){Ft=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ft+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ht=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ut+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==Ft&&void 0!==Ht&&this.internal.out("/Names <</JavaScript "+Ft+" 0 R>>")})),this
/**
 * @license
 * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],s=n.exec(o);if(null!=s){var a=s[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,u=[];for(i=0;i<l;i++){var c=e.internal.newObject();u.push(c);var h=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<u.length;i++)e.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var s=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<t.children.length;a++)this.renderItems(t.children[a])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(Oe.API),
/**
 * @license
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,o,s){var a,l=this.decode.DCT_DECODE,u=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=o||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,o={width:0,height:0,numcomponents:1},s=4;s<i;s+=2){if(s+=r,-1!==t.indexOf(e.charCodeAt(s+1))){n=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),o={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:n,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return o}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}u={data:e,width:a.width,height:a.height,colorSpace:s,bitsPerComponent:8,filter:l,index:n,alias:r}}return u}}(Oe.API);var jt,Yt,Vt,Wt,zt,Gt=function(){var e,t,n;function r(e){var t,n,r,i,o,s,a,l,u,c,h,d,f,p;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},s=null;;){switch(t=this.readUInt32(),u=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":s&&this.animation.frames.push(s),this.pos+=4,s={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,s.delay=1e3*o/i,s.disposeOp=this.data[this.pos++],s.blendOp=this.data[this.pos++],s.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,t-=4),e=(null!=s?s.data:void 0)||this.imgData,d=0;0<=t?d<t:d>t;0<=t?++d:--d)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((c=r-this.transparency.indexed.length)>0)for(f=0;0<=c?f<c:f>c;0<=c?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(h=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,h.slice(0,a)),this.text[l]=String.fromCharCode.apply(String,h.slice(a+1));break;case"IEND":return s&&this.animation.frames.push(s),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p=this.colorType)||6===p,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function o(o,s,a,l){var u,c,h,d,f,p,m,g,v,y,b,w,_,E,S,T,M,C,R,x,A,N=Math.ceil((i.width-o)/a),L=Math.ceil((i.height-s)/l),k=i.width==N&&i.height==L;for(E=t*N,w=k?n:new Uint8Array(E*L),p=e.length,_=0,c=0;_<L&&r<p;){switch(e[r++]){case 0:for(d=M=0;M<E;d=M+=1)w[c++]=e[r++];break;case 1:for(d=C=0;C<E;d=C+=1)u=e[r++],f=d<t?0:w[c-t],w[c++]=(u+f)%256;break;case 2:for(d=R=0;R<E;d=R+=1)u=e[r++],h=(d-d%t)/t,S=_&&w[(_-1)*E+h*t+d%t],w[c++]=(S+u)%256;break;case 3:for(d=x=0;x<E;d=x+=1)u=e[r++],h=(d-d%t)/t,f=d<t?0:w[c-t],S=_&&w[(_-1)*E+h*t+d%t],w[c++]=(u+Math.floor((f+S)/2))%256;break;case 4:for(d=A=0;A<E;d=A+=1)u=e[r++],h=(d-d%t)/t,f=d<t?0:w[c-t],0===_?S=T=0:(S=w[(_-1)*E+h*t+d%t],T=h&&w[(_-1)*E+(h-1)*t+d%t]),m=f+S-T,g=Math.abs(m-f),y=Math.abs(m-S),b=Math.abs(m-T),v=g<=y&&g<=b?f:y<=b?S:T,w[c++]=(u+v)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!k){var O=((s+_*l)*i.width+o)*t,I=_*E;for(d=0;d<N;d+=1){for(var P=0;P<t;P+=1)n[O++]=w[I++];O+=(a-1)*t}}_++}}return e=Q(e),1==i.interlaceMethod?(o(0,0,8,8),o(4,0,8,8),o(0,4,4,8),o(2,0,4,4),o(0,2,2,4),o(1,0,2,2),o(0,1,1,2)):o(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,i,o,s,a,l;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,e=0,t=s=0,a=n.length;s<a;t=s+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(l=o[e++])?l:255;return i},r.prototype.copyToImageData=function(e,t){var n,r,i,o,s,a,l,u,c,h,d;if(r=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),u=(i=e.data||e).length,s=c||t,o=a=0,1===r)for(;o<u;)l=c?4*t[o/4]:a,h=s[l++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?s[l++]:255,a=l;else for(;o<u;)l=c?4*t[o/4]:a,i[o++]=s[l++],i[o++]=s[l++],i[o++]=s[l++],i[o++]=n?s[l++]:255,a=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(ee)){try{t=ee.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var r;if(!0===i())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,i,o,s,a,l,u;if(this.animation){for(u=[],r=s=0,a=(l=this.animation.frames).length;s<a;r=++s)n=l[r],i=t.createImageData(n.width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,u.push(n.image=e(i));return u}},r.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,i,o,s,a=this;return n=0,s=this.animation,i=s.numFrames,r=s.frames,o=s.numPlays,(t=function(){var s,l;if(s=n++%i,l=r[s],a.renderFrame(e,s),i>1&&n/i<o)return a.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();
/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
/**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $t(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s=1<<1+(7&i);e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var u=!0,c=[],h=0,d=null,f=0,p=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(0===R)break;t+=R}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];h=e[t++]|e[t++]<<8,d=e[t++],0==(1&m)&&(d=null),f=m>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(0===R)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++],_=w>>6&1,E=1<<1+(7&w),S=a,T=l,M=!1;w>>7&&(M=!0,S=t,T=E,t+=3*E);var C=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(0===R)break;t+=R}c.push({x:g,y:v,width:y,height:b,has_local_palette:M,palette_offset:S,palette_size:T,data_offset:C,data_length:t-C,transparent_index:d,interlaced:!!_,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);qt(e,i.data_offset,s,o);var a=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var u=i.width,c=n-u,h=u,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,m=4*c;!0===i.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===h&&(h=u,(p+=m)>=f&&(m=4*c+4*n*(g-1),p=d+(u+c)*(g<<1),g>>=1)),b===l)p+=4;else{var w=e[a+3*b],_=e[a+3*b+1],E=e[a+3*b+2];r[p++]=E,r[p++]=_,r[p++]=w,r[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),o=i.width*i.height,s=new Uint8Array(o);qt(e,i.data_offset,s,o);var a=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var u=i.width,c=n-u,h=u,d=4*(i.y*n+i.x),f=4*((i.y+i.height)*n+i.x),p=d,m=4*c;!0===i.interlaced&&(m+=4*n*7);for(var g=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===h&&(h=u,(p+=m)>=f&&(m=4*c+4*n*(g-1),p=d+(u+c)*(g<<1),g>>=1)),b===l)p+=4;else{var w=e[a+3*b],_=e[a+3*b+1],E=e[a+3*b+2];r[p++]=w,r[p++]=_,r[p++]=E,r[p++]=255}--h}}}function qt(e,t,n,r){for(var i=e[t++],o=1<<i,s=o+1,a=s+1,l=i+1,u=(1<<l)-1,c=0,h=0,d=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;c<16&&0!==f;)h|=e[t++]<<c,c+=8,1===f?f=e[t++]:--f;if(c<l)break;var g=h&u;if(h>>=l,c-=l,g!==o){if(g===s)break;for(var v=g<a?g:m,y=0,b=v;b>o;)b=p[b]>>8,++y;var w=b;if(d+y+(v!==g?1:0)>r)return void ne.log("Warning, gif stream longer than expected.");n[d++]=w;var _=d+=y;for(v!==g&&(n[d++]=w),b=v;y--;)b=p[b],n[--_]=255&b,b>>=8;null!==m&&a<4096&&(p[a++]=m<<8|w,a>=u+1&&l<12&&(++l,u=u<<1|1)),m=g}else a=s+1,u=(1<<(l=i+1))-1,m=null}return d!==r&&ne.log("Warning, gif stream shorter than expected."),n}
/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Kt(e){var t,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),d=new Array(65535),f=new Array(64),p=new Array(64),m=[],g=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),_=new Array(256),E=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],x=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function k(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var s=1;s<=e[o];s++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function O(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(I(255),I(0)):I(g),v=7,g=0)}function I(e){m.push(e)}function P(e){I(e>>8&255),I(255&e)}function D(e,t,n,r,i){for(var o,s=i[0],a=i[240],l=function(e,t){var n,r,i,o,s,a,l,u,c,h,d=0;for(c=0;c<8;++c){n=e[d],r=e[d+1],i=e[d+2],o=e[d+3],s=e[d+4],a=e[d+5],l=e[d+6];var p=n+(u=e[d+7]),m=n-u,g=r+l,v=r-l,y=i+a,b=i-a,w=o+s,_=o-s,E=p+w,S=p-w,T=g+y,M=g-y;e[d]=E+T,e[d+4]=E-T;var C=.707106781*(M+S);e[d+2]=S+C,e[d+6]=S-C;var R=.382683433*((E=_+b)-(M=v+m)),x=.5411961*E+R,A=1.306562965*M+R,N=.707106781*(T=b+v),L=m+N,k=m-N;e[d+5]=k+x,e[d+3]=k-x,e[d+1]=L+A,e[d+7]=L-A,d+=8}for(d=0,c=0;c<8;++c){n=e[d],r=e[d+8],i=e[d+16],o=e[d+24],s=e[d+32],a=e[d+40],l=e[d+48];var O=n+(u=e[d+56]),I=n-u,P=r+l,D=r-l,F=i+a,H=i-a,U=o+s,B=o-s,j=O+U,Y=O-U,V=P+F,W=P-F;e[d]=j+V,e[d+32]=j-V;var z=.707106781*(W+Y);e[d+16]=Y+z,e[d+48]=Y-z;var G=.382683433*((j=B+H)-(W=D+I)),$=.5411961*j+G,q=1.306562965*W+G,K=.707106781*(V=H+D),X=I+K,J=I-K;e[d+40]=J+$,e[d+24]=J-$,e[d+8]=X+q,e[d+56]=X-q,d++}for(c=0;c<64;++c)h=e[c]*t[c],f[c]=h>0?h+.5|0:h-.5|0;return f}(e,t),u=0;u<64;++u)p[S[u]]=l[u];var c=p[0]-n;n=p[0],0==c?O(r[0]):(O(r[d[o=32767+c]]),O(h[o]));for(var m=63;m>0&&0==p[m];)m--;if(0==m)return O(s),n;for(var g,v=1;v<=m;){for(var y=v;0==p[v]&&v<=m;)++v;var b=v-y;if(b>=16){g=b>>4;for(var w=1;w<=g;++w)O(a);b&=15}o=32767+p[v],O(i[(b<<4)+d[o]]),O(h[o]),v++}return 63!=m&&O(s),n}function F(e){e=Math.min(Math.max(e,1),100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=s((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),a[S[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var h=s((i[o]*e+50)/100);h=Math.min(Math.max(h,1),255),l[S[o]]=h}for(var d=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],f=0,p=0;p<8;p++)for(var m=0;m<8;m++)u[f]=1/(a[S[f]]*d[p]*d[m]*8),c[f]=1/(l[S[f]]*d[p]*d[m]*8),f++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&F(o),m=new Array,g=0,v=7,P(65496),P(65504),P(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),P(1),P(1),I(0),I(0),function(){P(65499),P(132),I(0);for(var e=0;e<64;e++)I(a[e]);I(1);for(var t=0;t<64;t++)I(l[t])}(),function(e,t){P(65472),P(17),I(8),P(t),P(e),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(e.width,e.height),function(){P(65476),P(418),I(0);for(var e=0;e<16;e++)I(T[e+1]);for(var t=0;t<=11;t++)I(M[t]);I(16);for(var n=0;n<16;n++)I(C[n+1]);for(var r=0;r<=161;r++)I(R[r]);I(1);for(var i=0;i<16;i++)I(x[i+1]);for(var o=0;o<=11;o++)I(A[o]);I(17);for(var s=0;s<16;s++)I(N[s+1]);for(var a=0;a<=161;a++)I(L[a])}(),P(65498),P(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var s=0,h=0,d=0;g=0,v=7,this.encode.displayName="_encode_";for(var f,p,_,S,k,H,U,B,j,Y=e.data,V=e.width,W=e.height,z=4*V,G=0;G<W;){for(f=0;f<z;){for(k=z*G+f,U=-1,B=0,j=0;j<64;j++)H=k+(B=j>>3)*z+(U=4*(7&j)),G+B>=W&&(H-=z*(G+1+B-W)),f+U>=z&&(H-=f+U-z+4),p=Y[H++],_=Y[H++],S=Y[H++],y[j]=(E[p]+E[_+256|0]+E[S+512|0]>>16)-128,b[j]=(E[p+768|0]+E[_+1024|0]+E[S+1280|0]>>16)-128,w[j]=(E[p+1280|0]+E[_+1536|0]+E[S+1792|0]>>16)-128;s=D(y,u,s,t,r),h=D(b,c,h,n,i),d=D(w,c,d,n,i),f+=32}G+=8}if(v>=0){var $=[];$[1]=v+1,$[0]=(1<<v+1)-1,O($)}return P(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)_[t]=e(t)}(),t=k(T,M),n=k(x,A),r=k(C,R),i=k(N,L),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)d[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)d[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)E[e]=19595*e,E[e+256|0]=38470*e,E[e+512|0]=7471*e+32768,E[e+768|0]=-11059*e,E[e+1024|0]=-21709*e,E[e+1280|0]=32768*e+8421375,E[e+1536|0]=-27439*e,E[e+1792|0]=-5329*e}(),F(e)}
/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xt(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jt(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var o=0;o<i;o++)e[t+o]=n[r+o]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function o(e){return new Int32Array(e)}function s(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function a(e,t){var n=[];return function e(n,r,i){for(var o=i[r],s=0;s<o&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));s++)e(n[s],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function u(e,n,r,i,o){t(!(i%r));do{e[n+(i-=r)]=o}while(0<i)}function c(e,n,r,i,s){if(t(2328>=s),512>=s)var a=o(512);else if(null==(a=o(s)))return 0;return function(e,n,r,i,s,a){var c,d,f=n,p=1<<r,m=o(16),g=o(16);for(t(0!=s),t(null!=i),t(null!=e),t(0<r),d=0;d<s;++d){if(15<i[d])return 0;++m[i[d]]}if(m[0]==s)return 0;for(g[1]=0,c=1;15>c;++c){if(m[c]>1<<c)return 0;g[c+1]=g[c]+m[c]}for(d=0;d<s;++d)c=i[d],0<i[d]&&(a[g[c]++]=d);if(1==g[15])return(i=new h).g=0,i.value=a[0],u(e,f,1,p,i),p;var v,y=-1,b=p-1,w=0,_=1,E=1,S=1<<r;for(d=0,c=1,s=2;c<=r;++c,s<<=1){if(_+=E<<=1,0>(E-=m[c]))return 0;for(;0<m[c];--m[c])(i=new h).g=c,i.value=a[d++],u(e,f+w,s,S,i),w=l(w,c)}for(c=r+1,s=2;15>=c;++c,s<<=1){if(_+=E<<=1,0>(E-=m[c]))return 0;for(;0<m[c];--m[c]){if(i=new h,(w&b)!=y){for(f+=S,v=1<<(y=c)-r;15>y&&!(0>=(v-=m[y]));)++y,v<<=1;p+=S=1<<(v=y-r),e[n+(y=w&b)].g=v+r,e[n+y].value=f-n-y}i.g=c-r,i.value=a[d++],u(e,f+(w>>r),s,S,i),w=l(w,c)}}return _!=2*g[15]-1?0:p}(e,n,r,i,s,a)}function h(){this.value=this.g=0}function d(){this.value=this.g=0}function f(){this.G=s(5,h),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Un,d)}function p(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,C(e)}function m(e,t){for(var n=0;0<t--;)n|=x(e,128)<<t;return n}function g(e,t){var n=m(e,t);return R(e)?-n:n}function v(e,n,r,i){var o,s=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),o=0;o<i;++o)s+=n[r+o]<<8*o;e.Ra=s,e.bb=i,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Yn-8>>>0,++e.bb,e.u-=8;S(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=jn){var r=E(e)&Bn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function E(e){return e.Ra>>>(e.u&Yn-1)>>>0}function S(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Yn}function T(e,t){e.u=t,e.h=S(e)}function M(e){e.u>=Vn&&(t(e.u>=Vn),y(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function R(e){return m(e,1)}function x(e,t){var n=e.Ca;0>e.b&&C(e);var r=e.b,i=n*t>>>8,o=(e.I>>>r>i)+0;for(o?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Wn[r],e.b-=r,e.Ca=(n<<r)-1,o}function A(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function N(e,t){return e[t+0]|e[t+1]<<8}function L(e,t){return N(e,t)|e[t+2]<<16}function k(e,t){return N(e,t)|N(e,t+2)<<16}function O(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=o(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function I(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function P(){this.X=[],this.Xa=this.Mb=0}function D(e,n,r,i){t(null!=r),t(null!=i);var o=r[0],s=i[0];return 0==o&&(o=(e*s+n/2)/n),0==s&&(s=(n*o+e/2)/e),0>=o||0>=s?0:(r[0]=o,i[0]=s,1)}function F(e,t){return e+(1<<t)-1>>>t}function H(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function U(t,n){e[n]=function(n,r,i,o,s,a,l){var u;for(u=0;u<s;++u){var c=e[t](a[l+u-1],i,o+u);a[l+u]=H(n[r+u],c)}}}function B(){this.ud=this.hd=this.jd=0}function j(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function Y(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function V(e,t){return Y(e+(e-t+.5>>1))}function W(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function z(e,t,n,r,i,o,s){for(r=o[s-1],n=0;n<i;++n)o[s+n]=r=H(e[t+n],r)}function G(e,t,n,r,i){var o;for(o=0;o<n;++o){var s=e[t+o],a=s>>8&255,l=16711935&(l=(l=16711935&s)+((a<<16)+a));r[i+o]=(4278255360&s)+l>>>0}}function $(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function q(e,t,n,r,i,o){var s;for(s=0;s<r;++s){var a=t[n+s],l=a>>>8,u=a,c=255&(c=(c=a>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));u=255&(u=(u+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(c<<24>>24)>>>5)),i[o+s]=(4278255360&a)+(c<<16)+u}}function K(t,n,r,i,o){e[n]=function(e,t,n,r,s,a,l,u,c){for(r=l;r<u;++r)for(l=0;l<c;++l)s[a++]=o(n[i(e[t++])])},e[t]=function(t,n,s,a,l,u,c){var h=8>>t.b,d=t.Ea,f=t.K[0],p=t.w;if(8>h)for(t=(1<<t.b)-1,p=(1<<h)-1;n<s;++n){var m,g=0;for(m=0;m<d;++m)m&t||(g=i(a[l++])),u[c++]=o(f[g&p]),g>>=h}else e["VP8LMapColor"+r](a,l,f,p,u,c,n,s,d)}}function X(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o}}function J(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=255&o,r[i++]=o>>24&255}}function Q(e,t,n,r,i){for(n=t+n;t<n;){var o=(s=e[t++])>>16&240|s>>12&15,s=240&s|s>>28&15;r[i++]=o,r[i++]=s}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var o=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[i++]=o,r[i++]=s}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var o=e[t++];r[i++]=255&o,r[i++]=o>>8&255,r[i++]=o>>16&255}}function te(e,t,n,i,o,s){if(0==s)for(n=t+n;t<n;)A(i,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),o+=32;else r(i,o,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Vr||e==Wr||e==zr||e==Gr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function oe(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new oe,this.sd=null}function ae(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ue(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ce(e,t){var n=e.T,i=t.ba.f.RGBA,o=i.eb,s=i.fb+e.ka*i.A,a=vi[t.ba.S],l=e.y,u=e.O,c=e.f,h=e.N,d=e.ea,f=e.W,p=t.cc,m=t.dc,g=t.Mc,v=t.Nc,y=e.ka,b=e.ka+e.T,w=e.U,_=w+1>>1;for(0==y?a(l,u,null,null,c,h,d,f,c,h,d,f,o,s,null,null,w):(a(t.ec,t.fc,l,u,p,m,g,v,c,h,d,f,o,s-i.A,o,s,w),++n);y+2<b;y+=2)p=c,m=h,g=d,v=f,h+=e.Rc,f+=e.Rc,s+=2*i.A,a(l,(u+=2*e.fa)-e.fa,l,u,p,m,g,v,c,h,d,f,o,s-i.A,o,s,w);return u+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,l,u,w),r(t.cc,t.dc,c,h,_),r(t.Mc,t.Nc,d,f,_),n--):1&b||a(l,u,null,null,c,h,d,f,c,h,d,f,o,s+i.A,null,null,w),n}function he(e,n,r){var i=e.F,o=[e.J];if(null!=i){var s=e.U,a=n.ba.S,l=a==Br||a==zr;n=n.ba.f.RGBA;var u=[0],c=e.ka;u[0]=e.T,e.Kb&&(0==c?--u[0]:(--c,o[0]-=e.width),e.j+e.ka+e.T==e.o&&(u[0]=e.o-e.j-c));var h=n.eb;c=n.fb+c*n.A,e=Mr(i,o[0],e.width,s,u,h,c+(l?0:3),n.A),t(r==u),e&&re(a)&&Sr(h,c,l,s,u,n.A)}return 0}function de(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Fr||n==Ur||n==Br||n==jr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Dn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ue,e.Kb){if(n=e.U+1>>1,t.memory=o(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ce,bn()}}else alert("todo:EmitYUV");i&&(t.Jb=he,r&&vn())}if(r&&!Li){for(e=0;256>e;++e)ki[e]=89858*(e-128)+Ci>>Mi,Pi[e]=-22014*(e-128)+Ci,Ii[e]=-45773*(e-128),Oi[e]=113618*(e-128)+Ci>>Mi;for(e=Ri;e<xi;++e)t=76283*(e-16)+Ci>>Mi,Di[e-Ri]=ze(t,255),Fi[e-Ri]=ze(t+8>>4,15);Li=1}return 1}function fe(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function pe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ve(e,t){return 120<t?t-120:1<=(n=((n=Qr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=E(n),i=e[t+=255&r].g-8;return 0<i&&(T(n,n.u+8),r=E(n),t+=e[t].value,t+=r&(1<<i)-1),T(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function we(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function _e(e,n,i,o){var s=e.ab,a=e.c*n,l=e.C;n=l+n;var u=i,c=o;for(o=e.Ta,i=e.Ua;0<s--;){var h=e.gc[s],d=l,f=n,p=u,m=c,g=(c=o,u=i,h.Ea);switch(t(d<f),t(f<=h.nc),h.hc){case 2:$n(p,m,(f-d)*g,c,u);break;case 0:var v=d,y=f,b=c,w=u,_=(C=h).Ea;0==v&&(zn(p,m,null,null,1,b,w),z(p,m+1,0,0,_-1,b,w+1),m+=_,w+=_,++v);for(var E=1<<C.b,S=E-1,T=F(_,C.b),M=C.K,C=C.w+(v>>C.b)*T;v<y;){var R=M,x=C,A=1;for(Gn(p,m,b,w-_,1,b,w);A<_;){var N=(A&~S)+E;N>_&&(N=_),(0,Qn[R[x++]>>8&15])(p,m+ +A,b,w+A-_,N-A,b,w+A),A=N}m+=_,w+=_,++v&S||(C+=T)}f!=h.nc&&r(c,u-g,c,u+(f-d-1)*g,g);break;case 1:for(g=p,y=m,_=(p=h.Ea)-(w=p&~(b=(m=1<<h.b)-1)),v=F(p,h.b),E=h.K,h=h.w+(d>>h.b)*v;d<f;){for(S=E,T=h,M=new B,C=y+w,R=y+p;y<C;)$(S[T++],M),Zn(M,g,y,m,c,u),y+=m,u+=m;y<R&&($(S[T++],M),Zn(M,g,y,_,c,u),y+=_,u+=_),++d&b||(h+=v)}break;case 3:if(p==c&&m==u&&0<h.b){for(y=c,p=g=u+(f-d)*g-(w=(f-d)*F(h.Ea,h.b)),m=c,b=u,v=[],w=(_=w)-1;0<=w;--w)v[w]=m[b+w];for(w=_-1;0<=w;--w)y[p+w]=v[w];qn(h,d,f,c,g,c,u)}else qn(h,d,f,p,m,c,u)}u=o,c=i}c!=i&&r(o,i,u,c,a)}function Ee(e,n){var r=e.V,i=e.Ba+e.c*e.C,o=n-e.C;if(t(n<=e.l.o),t(16>=o),0<o){var s=e.l,a=e.Ta,l=e.Ua,u=s.width;if(_e(e,o,r,i),o=l=[l],t((r=e.C)<(i=n)),t(s.v<s.va),i>s.o&&(i=s.o),r<s.j){var c=s.j-r;r=s.j,o[0]+=c*u}if(r>=i?r=0:(o[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var h=r.f.RGBA,d=(i=r.S,o=s.U,s=s.T,c=h.eb,h.A),f=s;for(h=h.fb+e.Ma*h.A;0<f--;){var p=a,m=l,g=o,v=c,y=h;switch(i){case Dr:er(p,m,g,v,y);break;case Fr:tr(p,m,g,v,y);break;case Vr:tr(p,m,g,v,y),Sr(v,y,0,g,1,0);break;case Hr:ir(p,m,g,v,y);break;case Ur:te(p,m,g,v,y,1);break;case Wr:te(p,m,g,v,y,1),Sr(v,y,0,g,1,0);break;case Br:te(p,m,g,v,y,0);break;case zr:te(p,m,g,v,y,0),Sr(v,y,1,g,1,0);break;case jr:nr(p,m,g,v,y);break;case Gr:nr(p,m,g,v,y),Tr(v,y,g,1,0);break;case Yr:rr(p,m,g,v,y);break;default:t(0)}l+=u,h+=d}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Se(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Te(e,n,r,i,o,s){if(0!=e.Z){var a=e.qd,l=e.rd;for(t(null!=gi[e.Z]);n<r;++n)gi[e.Z](a,l,i,o,i,o,s),a=i,l=o,o+=s;e.qd=a,e.rd=l}}function Me(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var o=e.l.width,s=r.ca,a=r.tb+o*i,l=e.V,u=e.Ba+e.c*i,c=e.gc;t(1==e.ab),t(3==c[0].hc),Xn(c[0],i,n,l,u,s,a),Te(r,i,n,s,a,o)}e.C=e.Ma=n}function Ce(e,n,r,i,o,s,a){var l=e.$/i,u=e.$%i,c=e.m,h=e.s,d=r+e.$,f=d;o=r+i*o;var p=r+i*s,m=280+h.ua,g=e.Pb?l:16777216,v=0<h.ua?h.Wa:null,y=h.wc,b=d<p?we(h,u,l):null;t(e.C<s),t(p<=o);var w=!1;e:for(;;){for(;w||d<p;){var _=0;if(l>=g){var C=d-r;t((g=e).Pb),g.wd=g.m,g.xd=C,0<g.s.ua&&I(g.s.Wa,g.s.vb),g=l+ei}if(u&y||(b=we(h,u,l)),t(null!=b),b.Qb&&(n[d]=b.qb,w=!0),!w)if(M(c),b.jc){_=c,C=n;var R=d,x=b.pd[E(_)&Un-1];t(b.jc),256>x.g?(T(_,_.u+x.g),C[R]=x.value,_=0):(T(_,_.u+x.g-256),t(256<=x.value),_=x.value),0==_&&(w=!0)}else _=ye(b.G[0],b.H[0],c);if(c.h)break;if(w||256>_){if(!w)if(b.nd)n[d]=(b.qb|_<<8)>>>0;else{if(M(c),w=ye(b.G[1],b.H[1],c),M(c),C=ye(b.G[2],b.H[2],c),R=ye(b.G[3],b.H[3],c),c.h)break;n[d]=(R<<24|w<<16|_<<8|C)>>>0}if(w=!1,++d,++u>=i&&(u=0,++l,null!=a&&l<=s&&!(l%16)&&a(e,l),null!=v))for(;f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_}else if(280>_){if(_=ge(_-256,c),C=ye(b.G[4],b.H[4],c),M(c),C=ve(i,C=ge(C,c)),c.h)break;if(d-r<C||o-d<_)break e;for(R=0;R<_;++R)n[d+R]=n[d+R-C];for(d+=_,u+=_;u>=i;)u-=i,++l,null!=a&&l<=s&&!(l%16)&&a(e,l);if(t(d<=o),u&y&&(b=we(h,u,l)),null!=v)for(;f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_}else{if(!(_<m))break e;for(w=_-280,t(null!=v);f<d;)_=n[f++],v.X[(506832829*_&4294967295)>>>v.Mb]=_;_=d,t(!(w>>>(C=v).Xa)),n[_]=C.X[w],w=!0}w||t(c.h==S(c))}if(e.Pb&&c.h&&d<o)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&I(e.s.vb,e.s.Wa);else{if(c.h)break e;null!=a&&a(e,l>s?s:l),e.a=0,e.$=d-r}return 1}return e.a=3,0}function Re(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function xe(){var t=new an;return null==t?null:(t.a=0,t.xb=mi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),$n=G,Zn=q,er=X,tr=J,nr=Q,rr=Z,ir=ee,e.VP8LMapColor32b=Kn,e.VP8LMapColor8b=Jn,t)}function Ae(e,n,r,a,l){var u=1,d=[e],p=[n],m=a.m,g=a.s,v=null,y=0;e:for(;;){if(r)for(;u&&b(m,1);){var w=d,_=p,S=a,C=1,R=S.m,x=S.gc[S.ab],A=b(R,2);if(S.Oc&1<<A)u=0;else{switch(S.Oc|=1<<A,x.hc=A,x.Ea=w[0],x.nc=_[0],x.K=[null],++S.ab,t(4>=S.ab),A){case 0:case 1:x.b=b(R,3)+2,C=Ae(F(x.Ea,x.b),F(x.nc,x.b),0,S,x.K),x.K=x.K[0];break;case 3:var N,L=b(R,8)+1,k=16<L?0:4<L?1:2<L?2:3;if(w[0]=F(x.Ea,k),x.b=k,N=C=Ae(L,1,0,S,x.K)){var I,P=L,D=x,U=1<<(8>>D.b),B=o(U);if(null==B)N=0;else{var j=D.K[0],Y=D.w;for(B[0]=D.K[0][0],I=1;I<1*P;++I)B[I]=H(j[Y+I],B[I-1]);for(;I<4*U;++I)B[I]=0;D.K[0]=null,D.K[0]=B,N=1}}C=N;break;case 2:break;default:t(0)}u=C}}if(d=d[0],p=p[0],u&&b(m,1)&&!(u=1<=(y=b(m,4))&&11>=y)){a.a=3;break e}var V;if(V=u)t:{var W,z,G,$=a,q=d,K=p,X=y,J=r,Q=$.m,Z=$.s,ee=[null],te=1,ne=0,re=Zr[X];n:for(;;){if(J&&b(Q,1)){var ie=b(Q,3)+2,oe=F(q,ie),se=F(K,ie),ae=oe*se;if(!Ae(oe,se,0,$,ee))break n;for(ee=ee[0],Z.xc=ie,W=0;W<ae;++W){var le=ee[W]>>8&65535;ee[W]=le,le>=te&&(te=le+1)}}if(Q.h)break n;for(z=0;5>z;++z){var ue=Kr[z];!z&&0<X&&(ue+=1<<X),ne<ue&&(ne=ue)}var ce=s(te*re,h),he=te,de=s(he,f);if(null==de)var fe=null;else t(65536>=he),fe=de;var pe=o(ne);if(null==fe||null==pe||null==ce){$.a=1;break n}var me=ce;for(W=G=0;W<te;++W){var ge=fe[W],ve=ge.G,ye=ge.H,we=0,_e=1,Ee=0;for(z=0;5>z;++z){ue=Kr[z],ve[z]=me,ye[z]=G,!z&&0<X&&(ue+=1<<X);r:{var Se,Te=ue,Me=$,xe=pe,Ne=me,Le=G,ke=0,Oe=Me.m,Ie=b(Oe,1);if(i(xe,0,0,Te),Ie){var Pe=b(Oe,1)+1,De=b(Oe,1),Fe=b(Oe,0==De?1:8);xe[Fe]=1,2==Pe&&(xe[Fe=b(Oe,8)]=1);var He=1}else{var Ue=o(19),Be=b(Oe,4)+4;if(19<Be){Me.a=3;var je=0;break r}for(Se=0;Se<Be;++Se)Ue[Jr[Se]]=b(Oe,3);var Ye=void 0,Ve=void 0,We=Me,ze=Ue,Ge=Te,$e=xe,qe=0,Ke=We.m,Xe=8,Je=s(128,h);i:for(;c(Je,0,7,ze,19);){if(b(Ke,1)){var Qe=2+2*b(Ke,3);if((Ye=2+b(Ke,Qe))>Ge)break i}else Ye=Ge;for(Ve=0;Ve<Ge&&Ye--;){M(Ke);var Ze=Je[0+(127&E(Ke))];T(Ke,Ke.u+Ze.g);var et=Ze.value;if(16>et)$e[Ve++]=et,0!=et&&(Xe=et);else{var tt=16==et,nt=et-16,rt=qr[nt],it=b(Ke,$r[nt])+rt;if(Ve+it>Ge)break i;for(var ot=tt?Xe:0;0<it--;)$e[Ve++]=ot}}qe=1;break i}qe||(We.a=3),He=qe}(He=He&&!Oe.h)&&(ke=c(Ne,Le,8,xe,Te)),He&&0!=ke?je=ke:(Me.a=3,je=0)}if(0==je)break n;if(_e&&1==Xr[z]&&(_e=0==me[G].g),we+=me[G].g,G+=je,3>=z){var st,at=pe[0];for(st=1;st<ue;++st)pe[st]>at&&(at=pe[st]);Ee+=at}}if(ge.nd=_e,ge.Qb=0,_e&&(ge.qb=(ve[3][ye[3]+0].value<<24|ve[1][ye[1]+0].value<<16|ve[2][ye[2]+0].value)>>>0,0==we&&256>ve[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=ve[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>Ee,ge.jc){var lt,ut=ge;for(lt=0;lt<Un;++lt){var ct=lt,ht=ut.pd[ct],dt=ut.G[0][ut.H[0]+ct];256<=dt.value?(ht.g=dt.g+256,ht.value=dt.value):(ht.g=0,ht.value=0,ct>>=be(dt,8,ht),ct>>=be(ut.G[1][ut.H[1]+ct],16,ht),ct>>=be(ut.G[2][ut.H[2]+ct],0,ht),be(ut.G[3][ut.H[3]+ct],24,ht))}}}Z.vc=ee,Z.Wb=te,Z.Ya=fe,Z.yc=ce,V=1;break t}V=0}if(!(u=V)){a.a=3;break e}if(0<y){if(g.ua=1<<y,!O(g.Wa,y)){a.a=1,u=0;break e}}else g.ua=0;var ft=a,pt=d,mt=p,gt=ft.s,vt=gt.xc;if(ft.c=pt,ft.i=mt,gt.md=F(pt,vt),gt.wc=0==vt?-1:(1<<vt)-1,r){a.xb=pi;break e}if(null==(v=o(d*p))){a.a=1,u=0;break e}u=(u=Ce(a,v,0,d,p,p,null))&&!m.h;break e}return u?(null!=l?l[0]=v:(t(null==v),t(r)),a.$=0,r||Re(g)):Re(g),u}function Ne(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=o(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Le(e,n){var r=e.C,i=n-r,o=e.V,s=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var a=16<i?16:i,l=e.l.ma,u=e.l.width,c=u*a,h=l.ca,d=l.tb+u*r,f=e.Ta,p=e.Ua;_e(e,a,o,s),Cr(f,p,h,d,c),Te(l,r,r+a,h,d,u),i-=a,o+=a*e.c,r+=a}t(r==n),e.C=e.Ma=n}function ke(){this.ub=this.yd=this.td=this.Rb=0}function Oe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Pe(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],o=0;o<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));o++)e(t[o],n+1,r)}(e,0,[3,11]),e}()}function De(){this.jb=o(3),this.Wc=a([4,8],Pe),this.Xc=a([4,17],Pe)}function Fe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function He(){this.ld=this.La=this.dd=this.tc=0}function Ue(){this.Na=this.la=0}function Be(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function je(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ye(){this.uc=this.M=this.Nb=0,this.wa=Array(new He),this.Y=0,this.ya=Array(new je),this.aa=0,this.l=new Ge}function Ve(){this.y=o(16),this.f=o(8),this.ea=o(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new ke,this.Kc=new Oe,this.ed=new Fe,this.Qa=new Ie,this.Ic=this.$c=this.Aa=0,this.D=new Ye,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,w),this.ia=0,this.pb=s(4,Be),this.Pa=new De,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ve),this.Hd=0,this.rb=Array(new Ue),this.sb=0,this.wa=Array(new He),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new je),this.L=this.aa=0,this.gd=a([4,2],He),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ze(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $e(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=Je)),e}function qe(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ke(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Xe(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return qe(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,s=n.ha;if(4>s)return qe(e,7,"Truncated header.");var a=r[o+0]|r[o+1]<<8|r[o+2]<<16,l=e.Od;if(l.Rb=!(1&a),l.td=a>>1&7,l.yd=a>>4&1,l.ub=a>>5,3<l.td)return qe(e,3,"Incorrect keyframe parameters.");if(!l.yd)return qe(e,4,"Frame not displayable.");o+=3,s-=3;var u=e.Kc;if(l.Rb){if(7>s)return qe(e,7,"cannot parse picture header");if(!Ke(r,o,s))return qe(e,3,"Bad code word");u.c=16383&(r[o+4]<<8|r[o+3]),u.Td=r[o+4]>>6,u.i=16383&(r[o+6]<<8|r[o+5]),u.Ud=r[o+6]>>6,o+=7,s-=7,e.za=u.c+15>>4,e.Ub=u.i+15>>4,n.width=u.c,n.height=u.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((a=e.Pa).jb,0,255,a.jb.length),t(null!=(a=e.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,i(a.Zb,0,0,a.Zb.length),i(a.Lb,0,0,a.Lb)}if(l.ub>s)return qe(e,7,"bad partition length");p(a=e.m,r,o,l.ub),o+=l.ub,s-=l.ub,l.Rb&&(u.Ld=R(a),u.Kd=R(a)),u=e.Qa;var c,h=e.Pa;if(t(null!=a),t(null!=u),u.Cb=R(a),u.Cb){if(u.Bb=R(a),R(a)){for(u.Fb=R(a),c=0;4>c;++c)u.Zb[c]=R(a)?g(a,7):0;for(c=0;4>c;++c)u.Lb[c]=R(a)?g(a,6):0}if(u.Bb)for(c=0;3>c;++c)h.jb[c]=R(a)?m(a,8):255}else u.Bb=0;if(a.Ka)return qe(e,3,"cannot parse segment header");if((u=e.ed).zd=R(a),u.Tb=m(a,6),u.wb=m(a,3),u.Pc=R(a),u.Pc&&R(a)){for(h=0;4>h;++h)R(a)&&(u.vd[h]=g(a,6));for(h=0;4>h;++h)R(a)&&(u.od[h]=g(a,6))}if(e.L=0==u.Tb?0:u.zd?1:2,a.Ka)return qe(e,3,"cannot parse filter header");var d=s;if(s=c=o,o=c+d,u=d,e.Xb=(1<<m(e.m,2))-1,d<3*(h=e.Xb))r=7;else{for(c+=3*h,u-=3*h,d=0;d<h;++d){var f=r[s+0]|r[s+1]<<8|r[s+2]<<16;f>u&&(f=u),p(e.Jc[+d],r,c,f),c+=f,u-=f,s+=3}p(e.Jc[+h],r,c,u),r=c<o?0:5}if(0!=r)return qe(e,r,"cannot parse partitions");for(r=m(c=e.m,7),s=R(c)?g(c,4):0,o=R(c)?g(c,4):0,u=R(c)?g(c,4):0,h=R(c)?g(c,4):0,c=R(c)?g(c,4):0,d=e.Qa,f=0;4>f;++f){if(d.Cb){var v=d.Zb[f];d.Fb||(v+=r)}else{if(0<f){e.pb[f]=e.pb[0];continue}v=r}var y=e.pb[f];y.Sc[0]=ti[ze(v+s,127)],y.Sc[1]=ni[ze(v+0,127)],y.Eb[0]=2*ti[ze(v+o,127)],y.Eb[1]=101581*ni[ze(v+u,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[ze(v+h,117)],y.Qc[1]=ni[ze(v+c,127)],y.lc=v+c}if(!l.Rb)return qe(e,4,"Not a key frame.");for(R(a),l=e.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(o=0;3>o;++o)for(u=0;11>u;++u)h=x(a,ui[r][s][o][u])?m(a,8):ai[r][s][o][u],l.Wc[r][s].Yb[o][u]=h;for(s=0;17>s;++s)l.Xc[r][s]=l.Wc[r][ci[s]]}return e.kc=R(a),e.kc&&(e.Bd=m(a,8)),e.cb=1}function Je(e,t,n,r,i,o,s){var a=t[i].Yb[n];for(n=0;16>i;++i){if(!x(e,a[n+0]))return i;for(;!x(e,a[n+1]);)if(a=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(x(e,a[n+2])){var u=e,c=0;if(x(u,(d=a)[(h=n)+3]))if(x(u,d[h+6])){for(a=0,h=2*(c=x(u,d[h+8]))+(d=x(u,d[h+9+c])),c=0,d=ii[h];d[a];++a)c+=c+x(u,d[a]);c+=3+(8<<h)}else x(u,d[h+7])?(c=7+2*x(u,165),c+=x(u,145)):c=5+x(u,159);else c=x(u,d[h+4])?3+x(u,d[h+5]):2;a=l[2]}else c=1,a=l[1];l=s+oi[i],0>(u=e).b&&C(u);var h,d=u.b,f=(h=u.Ca>>1)-(u.I>>d)>>31;--u.b,u.Ca+=f,u.Ca|=1,u.I-=(h+1&f)<<d,o[l]=((c^f)-f)*r[(0<i)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return qe(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Xe(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var a=Ui[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-a>>4,e.zb=n.j-a>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+a>>4,e.Hb=n.va+15+a>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(a=0;4>a;++a){var u;if(e.Qa.Cb){var c=e.Qa.Lb[a];e.Qa.Fb||(c+=l.Tb)}else c=l.Tb;for(u=0;1>=u;++u){var h=e.gd[a][u],d=c;if(l.Pc&&(d+=l.vd[0],u&&(d+=l.od[0])),0<(d=0>d?0:63<d?63:d)){var f=d;0<l.wb&&(f=4<l.wb?f>>2:f>>1)>9-l.wb&&(f=9-l.wb),1>f&&(f=1),h.dd=f,h.tc=2*d+f,h.ld=40<=d?2:15<=d?1:0}else h.tc=0;h.La=u}}}a=0}else qe(e,6,"Frame setup failed"),a=e.a;if(a=0==a){if(a){e.$c=0,0<e.Aa||(e.Ic=ji);e:{a=e.Ic,l=4*(f=e.za);var p=32*f,m=f+1,g=0<e.L?f*(0<e.Aa?2:1):0,v=(2==e.Aa?2:1)*f;if((h=l+832+(u=3*(16*a+Ui[e.L])/2*p)+(c=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=h)a=0;else{if(h>e.Vb){if(e.Vb=0,e.Ec=o(h),e.Fc=0,null==e.Ec){a=qe(e,1,"no memory during frame initialization.");break e}e.Vb=h}h=e.Ec,d=e.Fc,e.Ac=h,e.Bc=d,d+=l,e.Gd=s(p,Ve),e.Hd=0,e.rb=s(m+1,Ue),e.sb=1,e.wa=g?s(g,He):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=f),t(!0),e.oc=h,e.pc=d,d+=832,e.ya=s(v,je),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=f),e.R=16*f,e.B=8*f,f=(p=Ui[e.L])*e.R,p=p/2*e.B,e.sa=h,e.ta=d+f,e.qa=e.sa,e.ra=e.ta+16*a*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*a*e.B+p,e.$c=0,d+=u,e.mb=c?h:null,e.nb=c?d:null,t(d+c<=e.Fc+e.Vb),Qe(e),i(e.Ac,e.Bc,0,l),a=1}}if(a){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Lr){for(a=-255;255>=a;++a)Rr[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)xr[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Ar[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Nr[255+a]=0>a?0:255<a?255:a;Lr=1}or=ut,sr=ot,lr=st,ur=at,cr=lt,ar=it,hr=qt,dr=Kt,fr=Qt,pr=Zt,mr=Xt,gr=Jt,vr=en,yr=tn,br=Yt,wr=Vt,_r=Wt,Er=zt,di[0]=Tt,di[1]=ht,di[2]=Et,di[3]=St,di[4]=Mt,di[5]=Rt,di[6]=Ct,di[7]=xt,di[8]=Nt,di[9]=At,hi[0]=vt,hi[1]=ft,hi[2]=pt,hi[3]=mt,hi[4]=yt,hi[5]=bt,hi[6]=wt,fi[0]=It,fi[1]=dt,fi[2]=Lt,fi[3]=kt,fi[4]=Dt,fi[5]=Pt,fi[6]=Ft,a=1}else a=0}a&&(a=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var s,a=e.Jc[e.M&e.Xb],l=e.m,u=e;for(s=0;s<u.za;++s){var c=l,h=u,d=h.Ac,f=h.Bc+4*s,p=h.zc,m=h.ya[h.aa+s];if(h.Qa.Bb?m.$b=x(c,h.Pa.jb[0])?2+x(c,h.Pa.jb[2]):x(c,h.Pa.jb[1]):m.$b=0,h.kc&&(m.Ad=x(c,h.Bd)),m.Za=!x(c,145)+0,m.Za){var g=m.Ob,v=0;for(h=0;4>h;++h){var y,b=p[0+h];for(y=0;4>y;++y){b=li[d[f+y]][b];for(var w=si[x(c,b[0])];0<w;)w=si[2*w+x(c,b[w])];b=-w,d[f+y]=b}r(g,v,d,f,4),v+=4,p[0+h]=b}}else b=x(c,156)?x(c,128)?1:3:x(c,163)?2:0,m.Ob[0]=b,i(d,f,b,4),i(p,0,b,4);m.Dd=x(c,142)?x(c,114)?x(c,183)?1:3:2:0}if(u.m.Ka)return qe(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(u=a,c=(l=e).rb[l.sb-1],d=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],f=l.kc?s.Ad:0)c.la=d.la=0,s.Za||(c.Na=d.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var _,E;if(c=d,d=u,f=l.Pa.Xc,p=l.ya[l.aa+l.ja],m=l.pb[p.$b],h=p.ad,g=0,v=l.rb[l.sb-1],b=y=0,i(h,g,0,384),p.Za)var S=0,T=f[3];else{w=o(16);var M=c.Na+v.Na;if(M=ri(d,f[1],M,m.Eb,0,w,0),c.Na=v.Na=(0<M)+0,1<M)or(w,0,h,g);else{var C=w[0]+3>>3;for(w=0;256>w;w+=16)h[g+w]=C}S=1,T=f[0]}var R=15&c.la,A=15&v.la;for(w=0;4>w;++w){var N=1&A;for(C=E=0;4>C;++C)R=R>>1|(N=(M=ri(d,T,M=N+(1&R),m.Sc,S,h,g))>S)<<7,E=E<<2|(3<M?3:1<M?2:0!=h[g+0]),g+=16;R>>=4,A=A>>1|N<<7,y=(y<<8|E)>>>0}for(T=R,S=A>>4,_=0;4>_;_+=2){for(E=0,R=c.la>>4+_,A=v.la>>4+_,w=0;2>w;++w){for(N=1&A,C=0;2>C;++C)M=N+(1&R),R=R>>1|(N=0<(M=ri(d,f[2],M,m.Qc,0,h,g)))<<3,E=E<<2|(3<M?3:1<M?2:0!=h[g+0]),g+=16;R>>=2,A=A>>1|N<<5}b|=E<<4*_,T|=R<<4<<_,S|=(240&A)<<_}c.la=T,v.la=S,p.Hc=y,p.Gc=b,p.ia=43690&b?0:m.ia,f=!(y|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!f),u.Ka)return qe(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=n,u=1,s=(a=e).D,c=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(s.M=a.M,s.uc=c,In(a,s),u=1,s=(E=a.D).Nb,c=(b=Ui[a.L])*a.R,d=b/2*a.B,w=16*s*a.R,C=8*s*a.B,f=a.sa,p=a.ta-c+w,m=a.qa,h=a.ra-d+C,g=a.Ha,v=a.Ia-d+C,A=0==(R=E.M),y=R>=a.Va-1,2==a.Aa&&In(a,E),E.uc)for(N=(M=a).D.M,t(M.D.uc),E=M.yb;E<M.Hb;++E){S=E,T=N;var L=(k=(j=M).D).Nb;_=j.R;var k=k.wa[k.Y+S],O=j.sa,I=j.ta+16*L*_+16*S,P=k.dd,D=k.tc;if(0!=D)if(t(3<=D),1==j.L)0<S&&wr(O,I,_,D+4),k.La&&Er(O,I,_,D),0<T&&br(O,I,_,D+4),k.La&&_r(O,I,_,D);else{var F=j.B,H=j.qa,U=j.ra+8*L*F+8*S,B=j.Ha,j=j.Ia+8*L*F+8*S;L=k.ld,0<S&&(dr(O,I,_,D+4,P,L),pr(H,U,B,j,F,D+4,P,L)),k.La&&(gr(O,I,_,D,P,L),yr(H,U,B,j,F,D,P,L)),0<T&&(hr(O,I,_,D+4,P,L),fr(H,U,B,j,F,D+4,P,L)),k.La&&(mr(O,I,_,D,P,L),vr(H,U,B,j,F,D,P,L))}}if(a.ia&&alert("todo:DitherRow"),null!=l.put){if(E=16*R,R=16*(R+1),A?(l.y=a.sa,l.O=a.ta+w,l.f=a.qa,l.N=a.ra+C,l.ea=a.Ha,l.W=a.Ia+C):(E-=b,l.y=f,l.O=p,l.f=m,l.N=h,l.ea=g,l.W=v),y||(R-=b),R>l.o&&(R=l.o),l.F=null,l.J=null,null!=a.Fa&&0<a.Fa.length&&E<R&&(l.J=dn(a,l,E,R-E),l.F=a.mb,null==l.F&&0==l.F.length)){u=qe(a,3,"Could not decode alpha data.");break e}E<l.j&&(b=l.j-E,E=l.j,t(!(1&b)),l.O+=a.R*b,l.N+=a.B*(b>>1),l.W+=a.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),E<R&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=E-l.j,l.U=l.va-l.v,l.T=R-E,u=l.put(l))}s+1!=a.Ic||y||(r(a.sa,a.ta-c,f,p+16*a.R,c),r(a.qa,a.ra-d,m,h+8*a.B,d),r(a.Ha,a.Ia-d,g,v+8*a.B,d))}if(!u)return qe(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),a&=1}return a?(e.cb=0,a):0}function et(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function tt(e,t,n,r,i,o){et(e,t,0,n,r+i),et(e,t,1,n,r+o),et(e,t,2,n,r-o),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,s=0,a=o(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],u=e[t+0]-e[t+8],c=(35468*e[t+4]>>16)-nt(e[t+12]),h=nt(e[t+4])+(35468*e[t+12]>>16);a[s+0]=l+h,a[s+1]=u+c,a[s+2]=u-c,a[s+3]=l-h,s+=4,t++}for(i=s=0;4>i;++i)l=(e=a[s+0]+4)+a[s+8],u=e-a[s+8],c=(35468*a[s+4]>>16)-nt(a[s+12]),et(n,r,0,0,l+(h=nt(a[s+4])+(35468*a[s+12]>>16))),et(n,r,1,0,u+c),et(n,r,2,0,u-c),et(n,r,3,0,l-h),s++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,o=35468*e[t+4]>>16,s=nt(e[t+4]),a=35468*e[t+1]>>16;tt(n,r,0,i+s,e=nt(e[t+1]),a),tt(n,r,1,i+o,e,a),tt(n,r,2,i-o,e,a),tt(n,r,3,i-s,e,a)}function ot(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function st(e,t,n,r){sr(e,t+0,n,r,1),sr(e,t+32,n,r+128,1)}function at(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function lt(e,t,n,r){e[t+0]&&ur(e,t+0,n,r),e[t+16]&&ur(e,t+16,n,r+4),e[t+32]&&ur(e,t+32,n,r+128),e[t+48]&&ur(e,t+48,n,r+128+4)}function ut(e,t,n,r){var i,s=o(16);for(i=0;4>i;++i){var a=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],u=e[t+4+i]-e[t+8+i],c=e[t+0+i]-e[t+12+i];s[0+i]=a+l,s[8+i]=a-l,s[4+i]=c+u,s[12+i]=c-u}for(i=0;4>i;++i)a=(e=s[0+4*i]+3)+s[3+4*i],l=s[1+4*i]+s[2+4*i],u=s[1+4*i]-s[2+4*i],c=e-s[3+4*i],n[r+0]=a+l>>3,n[r+16]=c+u>>3,n[r+32]=a-l>>3,n[r+48]=c-u>>3,r+=64}function ct(e,t,n){var r,i=t-32,o=Ir,s=255-e[i-1];for(r=0;r<n;++r){var a,l=o,u=s+e[t-1];for(a=0;a<n;++a)e[t+a]=l[u+e[i+a]];t+=32}}function ht(e,t){ct(e,t,4)}function dt(e,t){ct(e,t,8)}function ft(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function vt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function wt(e,t){gt(128,e,t)}function _t(e,t,n){return e+2*t+n+2>>2}function Et(e,t){var n,i=t-32;for(i=new Uint8Array([_t(e[i-1],e[i+0],e[i+1]),_t(e[i+0],e[i+1],e[i+2]),_t(e[i+1],e[i+2],e[i+3]),_t(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function St(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];A(e,t+0,16843009*_t(e[t-1-32],n,r)),A(e,t+32,16843009*_t(n,r,i)),A(e,t+64,16843009*_t(r,i,o)),A(e,t+96,16843009*_t(i,o,o))}function Tt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function Mt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],s=e[t+0-32],a=e[t+1-32],l=e[t+2-32],u=e[t+3-32];e[t+0+96]=_t(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=_t(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=_t(o,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=_t(s,o,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=_t(a,s,o),e[t+3+32]=e[t+2+0]=_t(l,a,s),e[t+3+0]=_t(u,l,a)}function Ct(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],o=e[t+4-32],s=e[t+5-32],a=e[t+6-32],l=e[t+7-32];e[t+0+0]=_t(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=_t(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=_t(r,i,o),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=_t(i,o,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=_t(o,s,a),e[t+3+64]=e[t+2+96]=_t(s,a,l),e[t+3+96]=_t(a,l,l)}function Rt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1-32],s=e[t+0-32],a=e[t+1-32],l=e[t+2-32],u=e[t+3-32];e[t+0+0]=e[t+1+64]=o+s+1>>1,e[t+1+0]=e[t+2+64]=s+a+1>>1,e[t+2+0]=e[t+3+64]=a+l+1>>1,e[t+3+0]=l+u+1>>1,e[t+0+96]=_t(i,r,n),e[t+0+64]=_t(r,n,o),e[t+0+32]=e[t+1+96]=_t(n,o,s),e[t+1+32]=e[t+2+96]=_t(o,s,a),e[t+2+32]=e[t+3+96]=_t(s,a,l),e[t+3+32]=_t(a,l,u)}function xt(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],o=e[t+3-32],s=e[t+4-32],a=e[t+5-32],l=e[t+6-32],u=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+o+1>>1,e[t+3+0]=e[t+2+64]=o+s+1>>1,e[t+0+32]=_t(n,r,i),e[t+1+32]=e[t+0+96]=_t(r,i,o),e[t+2+32]=e[t+1+96]=_t(i,o,s),e[t+3+32]=e[t+2+96]=_t(o,s,a),e[t+3+64]=_t(s,a,l),e[t+3+96]=_t(a,l,u)}function At(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+o+1>>1,e[t+1+0]=_t(n,r,i),e[t+3+0]=e[t+1+32]=_t(r,i,o),e[t+3+32]=e[t+1+64]=_t(i,o,o),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=o}function Nt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],o=e[t-1+96],s=e[t-1-32],a=e[t+0-32],l=e[t+1-32],u=e[t+2-32];e[t+0+0]=e[t+2+32]=n+s+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=o+i+1>>1,e[t+3+0]=_t(a,l,u),e[t+2+0]=_t(s,a,l),e[t+1+0]=e[t+3+32]=_t(n,s,a),e[t+1+32]=e[t+3+64]=_t(r,n,s),e[t+1+64]=e[t+3+96]=_t(i,r,n),e[t+1+96]=_t(o,i,r)}function Lt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function kt(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Ot(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function It(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Ot(r>>4,e,t)}function Pt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Ot(r>>3,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Ot(r>>3,e,t)}function Ft(e,t){Ot(128,e,t)}function Ht(e,t,n){var r=e[t-n],i=e[t+0],o=3*(i-r)+kr[1020+e[t-2*n]-e[t+n]],s=Or[112+(o+4>>3)];e[t-n]=Ir[255+r+Or[112+(o+3>>3)]],e[t+0]=Ir[255+i-s]}function Ut(e,t,n,r){var i=e[t+0],o=e[t+n];return Pr[255+e[t-2*n]-e[t-n]]>r||Pr[255+o-i]>r}function Bt(e,t,n,r){return 4*Pr[255+e[t-n]-e[t+0]]+Pr[255+e[t-2*n]-e[t+n]]<=r}function jt(e,t,n,r,i){var o=e[t-3*n],s=e[t-2*n],a=e[t-n],l=e[t+0],u=e[t+n],c=e[t+2*n],h=e[t+3*n];return 4*Pr[255+a-l]+Pr[255+s-u]>r?0:Pr[255+e[t-4*n]-o]<=i&&Pr[255+o-s]<=i&&Pr[255+s-a]<=i&&Pr[255+h-c]<=i&&Pr[255+c-u]<=i&&Pr[255+u-l]<=i}function Yt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Bt(e,t+r,n,i)&&Ht(e,t+r,n)}function Vt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Bt(e,t+r*n,1,i)&&Ht(e,t+r*n,1)}function Wt(e,t,n,r){var i;for(i=3;0<i;--i)Yt(e,t+=4*n,n,r)}function zt(e,t,n,r){var i;for(i=3;0<i;--i)Vt(e,t+=4,n,r)}function Gt(e,t,n,r,i,o,s,a){for(o=2*o+1;0<i--;){if(jt(e,t,n,o,s))if(Ut(e,t,n,a))Ht(e,t,n);else{var l=e,u=t,c=n,h=l[u-2*c],d=l[u-c],f=l[u+0],p=l[u+c],m=l[u+2*c],g=27*(y=kr[1020+3*(f-d)+kr[1020+h-p]])+63>>7,v=18*y+63>>7,y=9*y+63>>7;l[u-3*c]=Ir[255+l[u-3*c]+y],l[u-2*c]=Ir[255+h+v],l[u-c]=Ir[255+d+g],l[u+0]=Ir[255+f-g],l[u+c]=Ir[255+p-v],l[u+2*c]=Ir[255+m-y]}t+=r}}function $t(e,t,n,r,i,o,s,a){for(o=2*o+1;0<i--;){if(jt(e,t,n,o,s))if(Ut(e,t,n,a))Ht(e,t,n);else{var l=e,u=t,c=n,h=l[u-c],d=l[u+0],f=l[u+c],p=Or[112+(4+(m=3*(d-h))>>3)],m=Or[112+(m+3>>3)],g=p+1>>1;l[u-2*c]=Ir[255+l[u-2*c]+g],l[u-c]=Ir[255+h+m],l[u+0]=Ir[255+d-p],l[u+c]=Ir[255+f-g]}t+=r}}function qt(e,t,n,r,i,o){Gt(e,t,n,1,16,r,i,o)}function Kt(e,t,n,r,i,o){Gt(e,t,1,n,16,r,i,o)}function Xt(e,t,n,r,i,o){var s;for(s=3;0<s;--s)$t(e,t+=4*n,n,1,16,r,i,o)}function Jt(e,t,n,r,i,o){var s;for(s=3;0<s;--s)$t(e,t+=4,1,n,16,r,i,o)}function Qt(e,t,n,r,i,o,s,a){Gt(e,t,i,1,8,o,s,a),Gt(n,r,i,1,8,o,s,a)}function Zt(e,t,n,r,i,o,s,a){Gt(e,t,1,i,8,o,s,a),Gt(n,r,1,i,8,o,s,a)}function en(e,t,n,r,i,o,s,a){$t(e,t+4*i,i,1,8,o,s,a),$t(n,r+4*i,i,1,8,o,s,a)}function tn(e,t,n,r,i,o,s,a){$t(e,t+4,1,i,8,o,s,a),$t(n,r+4,1,i,8,o,s,a)}function nn(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new P,this.vb=new P,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new f,this.yc=new h}function an(){this.xb=this.a=0,this.l=new Ge,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=s(4,on),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function un(e,t,n,r,i,o,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)i[o+t]=e+n[r+t]&255,e=i[o+t]}function cn(e,t,n,r,i,o,s){var a;if(null==e)un(null,null,n,r,i,o,s);else for(a=0;a<s;++a)i[o+a]=e[t+a]+n[r+a]&255}function hn(e,t,n,r,i,o,s){if(null==e)un(null,null,n,r,i,o,s);else{var a,l=e[t+0],u=l,c=l;for(a=0;a<s;++a)u=c+(l=e[t+a])-u,c=n[r+a]+(-256&u?0>u?0:255:u)&255,u=l,i[o+a]=c}}function dn(e,n,i,s){var a=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=s||i+s>l)return null;if(!e.Cc){if(null==e.ga){var u;if(e.ga=new ln,(u=null==e.ga)||(u=n.width*n.o,t(0==e.Gb.length),e.Gb=o(u),e.Uc=0,null==e.Gb?u=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,u=1),u=!u),!u){u=e.ga;var c=e.Fa,h=e.P,d=e.qc,f=e.mb,p=e.nb,m=h+1,g=d-1,y=u.l;if(t(null!=c&&null!=f&&null!=n),gi[0]=null,gi[1]=un,gi[2]=cn,gi[3]=hn,u.ca=f,u.tb=p,u.c=n.width,u.i=n.height,t(0<u.c&&0<u.i),1>=d)n=0;else if(u.$a=3&c[h+0],u.Z=c[h+0]>>2&3,u.Lc=c[h+0]>>4&3,h=c[h+0]>>6&3,0>u.$a||1<u.$a||4<=u.Z||1<u.Lc||h)n=0;else if(y.put=fe,y.ac=de,y.bc=pe,y.ma=u,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,u.$a)e:{t(1==u.$a),n=xe();t:for(;;){if(null==n){n=0;break e}if(t(null!=u),u.mc=n,n.c=u.c,n.i=u.i,n.l=u.l,n.l.ma=u,n.l.width=u.c,n.l.height=u.i,n.a=0,v(n.m,c,m,g),!Ae(u.c,u.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Se(n.s)?(u.ic=1,c=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(c),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(u.ic=0,n=Ne(n,u.c)),!n)break t;n=1;break e}u.mc=null,n=0}else n=g>=u.c*u.i;u=!n}if(u)return null;1!=e.ga.Lc?e.Ga=0:s=l-i}t(null!=e.ga),t(i+s<=l);e:{if(n=(c=e.ga).c,l=c.l.o,0==c.$a){if(m=e.rc,g=e.Vc,y=e.Fa,h=e.P+1+i*n,d=e.mb,f=e.nb+i*n,t(h<=e.P+e.qc),0!=c.Z)for(t(null!=gi[c.Z]),u=0;u<s;++u)gi[c.Z](m,g,y,h,d,f,n),m=d,g=f,f+=n,h+=n;else for(u=0;u<s;++u)r(d,f,y,h,n),m=d,g=f,f+=n,h+=n;e.rc=m,e.Vc=g}else{if(t(null!=c.mc),n=i+s,t(null!=(u=c.mc)),t(n<=u.i),u.C>=n)n=1;else if(c.ic||vn(),c.ic){c=u.V,m=u.Ba,g=u.c;var b=u.i,w=(y=1,h=u.$/g,d=u.$%g,f=u.m,p=u.s,u.$),_=g*b,E=g*n,T=p.wc,C=w<E?we(p,d,h):null;t(w<=_),t(n<=b),t(Se(p));t:for(;;){for(;!f.h&&w<E;){if(d&T||(C=we(p,d,h)),t(null!=C),M(f),256>(b=ye(C.G[0],C.H[0],f)))c[m+w]=b,++w,++d>=g&&(d=0,++h<=n&&!(h%16)&&Me(u,h));else{if(!(280>b)){y=0;break t}b=ge(b-256,f);var R,x=ye(C.G[4],C.H[4],f);if(M(f),!(w>=(x=ve(g,x=ge(x,f)))&&_-w>=b)){y=0;break t}for(R=0;R<b;++R)c[m+w+R]=c[m+w+R-x];for(w+=b,d+=b;d>=g;)d-=g,++h<=n&&!(h%16)&&Me(u,h);w<E&&d&T&&(C=we(p,d,h))}t(f.h==S(f))}Me(u,h>n?n:h);break t}!y||f.h&&w<_?(y=0,u.a=f.h?5:3):u.$=w,n=y}else n=Ce(u,u.V,u.Ba,u.c,u.i,n,Le);if(!n){s=0;break e}}i+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*a}function fn(e,t,n,r,i,o){for(;0<i--;){var s,a=e,l=t+(n?1:0),u=e,c=t+(n?0:3);for(s=0;s<r;++s){var h=u[c+4*s];255!=h&&(h*=32897,a[l+4*s+0]=a[l+4*s+0]*h>>23,a[l+4*s+1]=a[l+4*s+1]*h>>23,a[l+4*s+2]=a[l+4*s+2]*h>>23)}t+=o}}function pn(e,t,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var s=e[t+2*o+0],a=15&(u=e[t+2*o+1]),l=4369*a,u=(240&u|u>>4)*l>>16;e[t+2*o+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*o+1]=240&u|a}t+=i}}function mn(e,t,n,r,i,o,s,a){var l,u,c=255;for(u=0;u<i;++u){for(l=0;l<r;++l){var h=e[t+l];o[s+4*l]=h,c&=h}t+=n,s+=a}return 255!=c}function gn(e,t,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=e[t+o]>>8}function vn(){Sr=fn,Tr=pn,Mr=mn,Cr=gn}function yn(n,r,i){e[n]=function(e,n,o,s,a,l,u,c,h,d,f,p,m,g,v,y,b){var w,_=b-1>>1,E=a[l+0]|u[c+0]<<16,S=h[d+0]|f[p+0]<<16;t(null!=e);var T=3*E+S+131074>>2;for(r(e[n+0],255&T,T>>16,m,g),null!=o&&(T=3*S+E+131074>>2,r(o[s+0],255&T,T>>16,v,y)),w=1;w<=_;++w){var M=a[l+w]|u[c+w]<<16,C=h[d+w]|f[p+w]<<16,R=E+M+S+C+524296,x=R+2*(M+S)>>3;T=x+E>>1,E=(R=R+2*(E+C)>>3)+M>>1,r(e[n+2*w-1],255&T,T>>16,m,g+(2*w-1)*i),r(e[n+2*w-0],255&E,E>>16,m,g+(2*w-0)*i),null!=o&&(T=R+S>>1,E=x+C>>1,r(o[s+2*w-1],255&T,T>>16,v,y+(2*w-1)*i),r(o[s+2*w+0],255&E,E>>16,v,y+(2*w+0)*i)),E=M,S=C}1&b||(T=3*E+S+131074>>2,r(e[n+b-1],255&T,T>>16,m,g+(b-1)*i),null!=o&&(T=3*S+E+131074>>2,r(o[s+b-1],255&T,T>>16,v,y+(b-1)*i)))}}function bn(){vi[Dr]=yi,vi[Fr]=wi,vi[Hr]=bi,vi[Ur]=_i,vi[Br]=Ei,vi[jr]=Si,vi[Yr]=Ti,vi[Vr]=wi,vi[Wr]=_i,vi[zr]=Ei,vi[Gr]=Si}function wn(e){return e&~Ni?0>e?0:255:e>>Ai}function _n(e,t){return wn((19077*e>>8)+(26149*t>>8)-14234)}function En(e,t,n){return wn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Sn(e,t){return wn((19077*e>>8)+(33050*t>>8)-17685)}function Tn(e,t,n,r,i){r[i+0]=_n(e,n),r[i+1]=En(e,t,n),r[i+2]=Sn(e,t)}function Mn(e,t,n,r,i){r[i+0]=Sn(e,t),r[i+1]=En(e,t,n),r[i+2]=_n(e,n)}function Cn(e,t,n,r,i){var o=En(e,t,n);t=o<<3&224|Sn(e,t)>>3,r[i+0]=248&_n(e,n)|o>>5,r[i+1]=t}function Rn(e,t,n,r,i){var o=240&Sn(e,t)|15;r[i+0]=240&_n(e,n)|En(e,t,n)>>4,r[i+1]=o}function xn(e,t,n,r,i){r[i+0]=255,Tn(e,t,n,r,i+1)}function An(e,t,n,r,i){Mn(e,t,n,r,i),r[i+3]=255}function Nn(e,t,n,r,i){Tn(e,t,n,r,i),r[i+3]=255}function ze(e,t){return 0>e?0:e>t?t:e}function Ln(t,n,r){e[t]=function(e,t,i,o,s,a,l,u,c){for(var h=u+(-2&c)*r;u!=h;)n(e[t+0],i[o+0],s[a+0],l,u),n(e[t+1],i[o+0],s[a+0],l,u+r),t+=2,++o,++a,u+=2*r;1&c&&n(e[t+0],i[o+0],s[a+0],l,u)}}function kn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function On(e,t,n,r,i){switch(e>>>30){case 3:sr(t,n,r,i,0);break;case 2:ar(t,n,r,i);break;case 1:ur(t,n,r,i)}}function In(e,t){var n,o,s=t.M,a=t.Nb,l=e.oc,u=e.pc+40,c=e.oc,h=e.pc+584,d=e.oc,f=e.pc+600;for(n=0;16>n;++n)l[u+32*n-1]=129;for(n=0;8>n;++n)c[h+32*n-1]=129,d[f+32*n-1]=129;for(0<s?l[u-1-32]=c[h-1-32]=d[f-1-32]=129:(i(l,u-32-1,127,21),i(c,h-32-1,127,9),i(d,f-32-1,127,9)),o=0;o<e.za;++o){var p=t.ya[t.aa+o];if(0<o){for(n=-1;16>n;++n)r(l,u+32*n-4,l,u+32*n+12,4);for(n=-1;8>n;++n)r(c,h+32*n-4,c,h+32*n+4,4),r(d,f+32*n-4,d,f+32*n+4,4)}var m=e.Gd,g=e.Hd+o,v=p.ad,y=p.Hc;if(0<s&&(r(l,u-32,m[g].y,0,16),r(c,h-32,m[g].f,0,8),r(d,f-32,m[g].ea,0,8)),p.Za){var b=l,w=u-32+16;for(0<s&&(o>=e.za-1?i(b,w,m[g].y[15],4):r(b,w,m[g+1].y,0,4)),n=0;4>n;n++)b[w+128+n]=b[w+256+n]=b[w+384+n]=b[w+0+n];for(n=0;16>n;++n,y<<=2)b=l,w=u+Hi[n],di[p.Ob[n]](b,w),On(y,v,16*+n,b,w)}else if(b=kn(o,s,p.Ob[0]),hi[b](l,u),0!=y)for(n=0;16>n;++n,y<<=2)On(y,v,16*+n,l,u+Hi[n]);for(n=p.Gc,b=kn(o,s,p.Dd),fi[b](c,h),fi[b](d,f),y=v,b=c,w=h,255&(p=n|0)&&(170&p?lr(y,256,b,w):cr(y,256,b,w)),p=d,y=f,255&(n>>=8)&&(170&n?lr(v,320,p,y):cr(v,320,p,y)),s<e.Ub-1&&(r(m[g].y,0,l,u+480,16),r(m[g].f,0,c,h+224,8),r(m[g].ea,0,d,f+224,8)),n=8*a*e.B,m=e.sa,g=e.ta+16*o+16*a*e.R,v=e.qa,p=e.ra+8*o+n,y=e.Ha,b=e.Ia+8*o+n,n=0;16>n;++n)r(m,g+n*e.R,l,u+32*n,16);for(n=0;8>n;++n)r(v,p+n*e.B,c,h+32*n,8),r(y,b+n*e.B,d,f+32*n,8)}}function Pn(e,r,i,o,s,a,l,u,c){var h=[0],d=[0],f=0,p=null!=c?c.kd:0,m=null!=c?c:new rn;if(null==e||12>i)return 7;m.data=e,m.w=r,m.ha=i,r=[r],i=[i],m.gb=[m.gb];e:{var g=r,y=i,b=m.gb;if(t(null!=e),t(null!=y),t(null!=b),b[0]=0,12<=y[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){b=3;break e}var w=k(e,g[0]+4);if(12>w||4294967286<w){b=3;break e}if(p&&w>y[0]-8){b=7;break e}b[0]=w,g[0]+=12,y[0]-=12}b=0}if(0!=b)return b;for(w=0<m.gb[0],i=i[0];;){e:{var E=e;y=r,b=i;var S=h,T=d,M=g=[0];if((x=f=[f])[0]=0,8>b[0])b=7;else{if(!n(E,y[0],"VP8X")){if(10!=k(E,y[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var C=k(E,y[0]+8),R=1+L(E,y[0]+12);if(2147483648<=R*(E=1+L(E,y[0]+15))){b=3;break e}null!=M&&(M[0]=C),null!=S&&(S[0]=R),null!=T&&(T[0]=E),y[0]+=18,b[0]-=18,x[0]=1}b=0}}if(f=f[0],g=g[0],0!=b)return b;if(y=!!(2&g),!w&&f)return 3;if(null!=a&&(a[0]=!!(16&g)),null!=l&&(l[0]=y),null!=u&&(u[0]=0),l=h[0],g=d[0],f&&y&&null==c){b=0;break}if(4>i){b=7;break}if(w&&f||!w&&!f&&!n(e,r[0],"ALPH")){i=[i],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{C=e,b=r,w=i;var x=m.gb;S=m.na,T=m.P,M=m.Sa,R=22,t(null!=C),t(null!=w),E=b[0];var A=w[0];for(t(null!=S),t(null!=M),S[0]=null,T[0]=null,M[0]=0;;){if(b[0]=E,w[0]=A,8>A){b=7;break e}var N=k(C,E+4);if(4294967286<N){b=3;break e}var O=8+N+1&-2;if(R+=O,0<x&&R>x){b=3;break e}if(!n(C,E,"VP8 ")||!n(C,E,"VP8L")){b=0;break e}if(A[0]<O){b=7;break e}n(C,E,"ALPH")||(S[0]=C,T[0]=E+8,M[0]=N),E+=O,A-=O}}if(i=i[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}i=[i],m.Ja=[m.Ja],m.xa=[m.xa];e:if(x=e,b=r,w=i,S=m.gb[0],T=m.Ja,M=m.xa,C=b[0],E=!n(x,C,"VP8 "),R=!n(x,C,"VP8L"),t(null!=x),t(null!=w),t(null!=T),t(null!=M),8>w[0])b=7;else{if(E||R){if(x=k(x,C+4),12<=S&&x>S-12){b=3;break e}if(p&&x>w[0]-8){b=7;break e}T[0]=x,b[0]+=8,w[0]-=8,M[0]=R}else M[0]=5<=w[0]&&47==x[C+0]&&!(x[C+4]>>5),T[0]=w[0];b=0}if(i=i[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==u||y||(u[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>i){b=7;break}u=l,p=g,y=a,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(w=[0],x=[0],S=[0],v(T=new _,e,r,i),me(T,w,x,S)?(null!=u&&(u[0]=w[0]),null!=p&&(p[0]=x[0]),null!=y&&(y[0]=S[0]),e=1):e=0):e=0}else{if(10>i){b=7;break}u=g,null==e||10>i||!Ke(e,r+3,i-3)?e=0:(p=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=m.Ja||!y||!e?e=0:(l&&(l[0]=y),u&&(u[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],f&&(h[0]!=l||d[0]!=g))return 3;null!=c&&(c[0]=m,c.offset=r-c.w,t(4294967286>r-c.w),t(c.offset==c.ha-i));break}return 0==b||7==b&&f&&null==c?(null!=a&&(a[0]|=null!=m.na&&0<m.na.length),null!=o&&(o[0]=l),null!=s&&(s[0]=g),0):b}function Dn(e,t,n){var r=t.width,i=t.height,o=0,s=0,a=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(a=e.cd,l=e.bd,o=e.v,s=e.j,11>n||(o&=-2,s&=-2),0>o||0>s||0>=a||0>=l||o+a>r||s+l>i))return 0;if(t.v=o,t.j=s,t.va=o+a,t.o=s+l,t.U=a,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!D(a,l,n=[e.ib],o=[e.hb]))return 0;t.ib=n[0],t.hb=o[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Fn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Hn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,s=n.bd,a=-2&n.v,l=-2&n.j;if(0>a||0>l||0>=i||0>=s||a+i>e||l+s>t)return 2;e=i,t=s}if(n.da){if(!D(e,t,i=[n.ib],s=[n.hb]))return 2;e=i[0],t=s[0]}}r.width=e,r.height=t;e:{var u=r.width,c=r.height;if(e=r.S,0>=u||0>=c||!(e>=Dr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){a=s=i=t=0;var h=(l=u*Yi[e])*c;if(11>e||(s=(c+1)/2*(t=(u+1)/2),12==e&&(a=(i=u)*c)),null==(c=o(h+2*s+a))){e=1;break e}r.sd=c,11>e?((u=r.f.RGBA).eb=c,u.fb=0,u.A=l,u.size=h):((u=r.f.kb).y=c,u.O=0,u.fa=l,u.Fd=h,u.f=c,u.N=0+h,u.Ab=t,u.Cd=s,u.ea=c,u.W=0+h+s,u.Db=t,u.Ed=s,12==e&&(u.F=c,u.J=0+h+2*s),u.Tc=a,u.lb=i)}if(t=1,i=r.S,s=r.width,a=r.height,i>=Dr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(a-1)+s<=e.size,t&=l>=s*Yi[i],t&=null!=e.eb;else{e=r.f.kb,l=(s+1)/2,h=(a+1)/2,u=Math.abs(e.fa),c=Math.abs(e.Ab);var d=Math.abs(e.Db),f=Math.abs(e.lb),p=f*(a-1)+s;t&=u*(a-1)+s<=e.Fd,t&=c*(h-1)+l<=e.Cd,t=(t&=d*(h-1)+l<=e.Ed)&u>=s&c>=l&d>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=f>=s,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Fn(r)),e}var Un=64,Bn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jn=24,Yn=32,Vn=8,Wn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];U("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return j(j(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return j(e,t[n-1])},e.Predictor7=function(e,t,n){return j(e,t[n+0])},e.Predictor8=function(e,t,n){return j(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return j(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return j(j(e,t[n-1]),j(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=W(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+W(r>>16&255,e>>16&255,t>>16&255)+W(r>>8&255,e>>8&255,t>>8&255)+W(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(Y((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|Y((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|Y((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|Y((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(V((e=j(e,t[n+0]))>>24&255,r>>24&255)<<24|V(e>>16&255,r>>16&255)<<16|V(e>>8&255,r>>8&255)<<8|V(255&e,255&r))>>>0};var zn=e.PredictorAdd0;e.PredictorAdd1=z,U("Predictor2","PredictorAdd2"),U("Predictor3","PredictorAdd3"),U("Predictor4","PredictorAdd4"),U("Predictor5","PredictorAdd5"),U("Predictor6","PredictorAdd6"),U("Predictor7","PredictorAdd7"),U("Predictor8","PredictorAdd8"),U("Predictor9","PredictorAdd9"),U("Predictor10","PredictorAdd10"),U("Predictor11","PredictorAdd11"),U("Predictor12","PredictorAdd12"),U("Predictor13","PredictorAdd13");var Gn=e.PredictorAdd2;K("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),K("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var $n,qn=e.ColorIndexInverseTransform,Kn=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Qn=e.VP8LPredictorsAdd=[];Qn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,er,tr,nr,rr,ir,or,sr,ar,lr,ur,cr,hr,dr,fr,pr,mr,gr,vr,yr,br,wr,_r,Er,Sr,Tr,Mr,Cr,Rr=o(511),xr=o(2041),Ar=o(225),Nr=o(767),Lr=0,kr=xr,Or=Ar,Ir=Nr,Pr=Rr,Dr=0,Fr=1,Hr=2,Ur=3,Br=4,jr=5,Yr=6,Vr=7,Wr=8,zr=9,Gr=10,$r=[2,3,7],qr=[3,3,11],Kr=[280,256,256,256,40],Xr=[0,1,1,1,0],Jr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ui=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ci=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],di=[],fi=[],pi=1,mi=2,gi=[],vi=[];yn("UpsampleRgbLinePair",Tn,3),yn("UpsampleBgrLinePair",Mn,3),yn("UpsampleRgbaLinePair",Nn,4),yn("UpsampleBgraLinePair",An,4),yn("UpsampleArgbLinePair",xn,4),yn("UpsampleRgba4444LinePair",Rn,2),yn("UpsampleRgb565LinePair",Cn,2);var yi=e.UpsampleRgbLinePair,bi=e.UpsampleBgrLinePair,wi=e.UpsampleRgbaLinePair,_i=e.UpsampleBgraLinePair,Ei=e.UpsampleArgbLinePair,Si=e.UpsampleRgba4444LinePair,Ti=e.UpsampleRgb565LinePair,Mi=16,Ci=1<<Mi-1,Ri=-227,xi=482,Ai=6,Ni=(256<<Ai)-1,Li=0,ki=o(256),Oi=o(256),Ii=o(256),Pi=o(256),Di=o(xi-Ri),Fi=o(xi-Ri);Ln("YuvToRgbRow",Tn,3),Ln("YuvToBgrRow",Mn,3),Ln("YuvToRgbaRow",Nn,4),Ln("YuvToBgraRow",An,4),Ln("YuvToArgbRow",xn,4),Ln("YuvToRgba4444Row",Rn,2),Ln("YuvToRgb565Row",Cn,2);var Hi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ui=[0,2,8],Bi=[8,7,6,4,4,2,2,2,1,1,1,1],ji=1;this.WebPDecodeRGBA=function(e,n,r,i,o){var s=Fr,a=new nn,l=new se;a.ba=l,l.S=s,l.width=[l.width],l.height=[l.height];var u=l.width,c=l.height,h=new ae;if(null==h||null==e)var d=2;else t(null!=h),d=Pn(e,n,r,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=d?u=0:(null!=u&&(u[0]=h.width[0]),null!=c&&(c[0]=h.height[0]),u=1),u){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=o&&(o[0]=l.height);e:{if(i=new Ge,(o=new rn).data=e,o.w=n,o.ha=r,o.kd=1,n=[0],t(null!=o),(0==(e=Pn(o.data,o.w,o.ha,null,null,null,n,null,o))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=a),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=fe,i.ac=de,i.bc=pe,i.ma=a,o.xa){if(null==(e=xe())){a=1;break e}if(function(e,n){var r=[0],i=[0],o=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,v(e.m,n.data,n.w,n.ha),!me(e.m,r,i,o)){e.a=3;break t}if(e.xb=mi,n.width=r[0],n.height=i[0],!Ae(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=Hn(i.width,i.height,a.Oa,a.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,t(null!=i.ca),!Dn(o.Oa,r,Ur)){i.a=2;break n}if(!Ne(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&vn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&vn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!O(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!Ce(i,i.V,i.Ba,i.c,i.i,r.o,Ee))break n;o.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new $e)){a=1;break e}if(e.Fa=o.na,e.P=o.P,e.qc=o.Sa,Xe(e,i)){if(0==(n=Hn(i.width,i.height,a.Oa,a.ba))){if(e.Aa=0,r=a.Oa,t(null!=(o=e)),null!=r){if(0<(u=0>(u=r.Md)?0:100<u?255:255*u/100)){for(c=h=0;4>c;++c)12>(d=o.pb[c]).lc&&(d.ia=u*Bi[0>d.lc?0:d.lc]>>3),h|=d.ia;h&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}Ze(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=Fn(a.ba))}a=n}s=0!=a?null:11>s?l.f.RGBA.eb:l.f.kb.y}else s=null;return s};var Yi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function c(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var d=[0],f=[0],p=[],m=new l,g=e,v=function(e,t){var n={},r=0,i=!1,o=0,s=0;if(n.frames=[],!
/** @license
   * Copyright (c) 2017 Dominik Homberger
  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  https://webpjs.appspot.com
  WebPRiffParser dominikhlbg@gmail.com
  */
function(e,t,n,r){for(var i=0;i<r;i++)if(e[t+i]!=n.charCodeAt(i))return!0;return!1}(e,t,"RIFF",4)){var a,l;for(h(e,t+=4),t+=8;t<e.length;){var d=u(e,t),f=h(e,t+=4);t+=4;var p=f+(1&f);switch(d){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=i?s:t-8,v.src_size=o+f+8,r++,i&&(i=!1,o=0,s=0);break;case"VP8X":(v=n.header={}).feature_flags=e[t];var m=t+4;v.canvas_width=1+c(e,m),m+=3,v.canvas_height=1+c(e,m),m+=3;break;case"ALPH":i=!0,o=p+8,s=t-8;break;case"ANIM":(v=n.header).bgcolor=h(e,t),m=t+4,v.loop_count=(a=e)[(l=m)+0]|a[l+1]<<8,m+=2;break;case"ANMF":var g,v;(v=n.frames[r]={}).offset_x=2*c(e,t),t+=3,v.offset_y=2*c(e,t),t+=3,v.width=1+c(e,t),t+=3,v.height=1+c(e,t),t+=3,v.duration=c(e,t),t+=3,g=e[t++],v.dispose=1&g,v.blend=g>>1&1}"ANMF"!=d&&(t+=p)}return n}}(g,0);v.response=g,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,d=[y.canvas_height],f=[y.canvas_width];for(var w=0;w<b.length&&0!=b[w].blend;w++);}var _=b[0],E=m.WebPDecodeRGBA(g,_.src_off,_.src_size,f,d);_.rgba=E,_.imgwidth=f[0],_.imgheight=d[0];for(var S=0;S<f[0]*d[0]*4;S++)p[S]=E[S];return this.width=f,this.height=d,this.data=p,this}!function(e){var t=function(){return"function"==typeof J},n=function(t,n,i,u){var c=4,h=s;switch(u){case e.image_compression.FAST:c=1,h=o;break;case e.image_compression.MEDIUM:c=6,h=a;break;case e.image_compression.SLOW:c=9,h=l}t=r(t,n,i,h);var d=J(t,{level:c});return e.__addimage__.arrayBufferToBinaryString(d)},r=function(e,t,n,r){for(var i,o,s,a=e.length/t,l=new Uint8Array(e.length+a),u=c(),d=0;d<a;d+=1){if(s=d*t,i=e.subarray(s,s+t),r)l.set(r(i,n,o),s+d);else{for(var f,p=u.length,m=[];f<p;f+=1)m[f]=u[f](i,n,o);var g=h(m.concat());l.set(m[g],s+d)}o=i}return l},i=function(e){var t=Array.apply([],e);return t.unshift(0),t},o=function(e,t){var n,r=[],i=e.length;r[0]=1;for(var o=0;o<i;o+=1)n=e[o-t]||0,r[o+1]=e[o]-n+256&255;return r},s=function(e,t,n){var r,i=[],o=e.length;i[0]=2;for(var s=0;s<o;s+=1)r=n&&n[s]||0,i[s+1]=e[s]-r+256&255;return i},a=function(e,t,n){var r,i,o=[],s=e.length;o[0]=3;for(var a=0;a<s;a+=1)r=e[a-t]||0,i=n&&n[a]||0,o[a+1]=e[a]+256-(r+i>>>1)&255;return o},l=function(e,t,n){var r,i,o,s,a=[],l=e.length;a[0]=4;for(var c=0;c<l;c+=1)r=e[c-t]||0,i=n&&n[c]||0,o=n&&n[c-t]||0,s=u(r,i,o),a[c+1]=e[c]-s+256&255;return a},u=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n},c=function(){return[i,o,s,a,l]},h=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(r,i,o,s){var a,l,u,c,h,d,f,p,m,g,v,y,b,w,_,E=this.decode.FLATE_DECODE,S="";if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){if(r=(u=new Gt(r)).imgData,l=u.bits,a=u.colorSpace,h=u.colors,-1!==[4,6].indexOf(u.colorType)){if(8===u.bits){m=(p=32==u.pixelBitlength?new Uint32Array(u.decodePixels().buffer):16==u.pixelBitlength?new Uint16Array(u.decodePixels().buffer):new Uint8Array(u.decodePixels().buffer)).length,v=new Uint8Array(m*u.colors),g=new Uint8Array(m);var T,M=u.pixelBitlength-u.bits;for(w=0,_=0;w<m;w++){for(b=p[w],T=0;T<M;)v[_++]=b>>>T&255,T+=u.bits;g[w]=b>>>T&255}}if(16===u.bits){m=(p=new Uint32Array(u.decodePixels().buffer)).length,v=new Uint8Array(m*(32/u.pixelBitlength)*u.colors),g=new Uint8Array(m*(32/u.pixelBitlength)),y=u.colors>1,w=0,_=0;for(var C=0;w<m;)b=p[w++],v[_++]=b>>>0&255,y&&(v[_++]=b>>>16&255,b=p[w++],v[_++]=b>>>0&255),g[C++]=b>>>16&255;l=8}s!==e.image_compression.NONE&&t()?(r=n(v,u.width*u.colors,u.colors,s),f=n(g,u.width,1,s)):(r=v,f=g,E=void 0)}if(3===u.colorType&&(a=this.color_spaces.INDEXED,d=u.palette,u.transparency.indexed)){var R=u.transparency.indexed,x=0;for(w=0,m=R.length;w<m;++w)x+=R[w];if((x/=255)===m-1&&-1!==R.indexOf(0))c=[R.indexOf(0)];else if(x!==m){for(p=u.decodePixels(),g=new Uint8Array(p.length),w=0,m=p.length;w<m;w++)g[w]=R[p[w]];f=n(g,u.width,1)}}var A=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(s);return E===this.decode.FLATE_DECODE&&(S="/Predictor "+A+" "),S+="/Colors "+h+" /BitsPerComponent "+l+" /Columns "+u.width,(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:o,data:r,index:i,filter:E,decodeParameters:S,transparency:c,palette:d,sMask:f,predictor:A,width:u.width,height:u.height,bitsPerComponent:l,colorSpace:a}}}}(Oe.API),function(e){e.processGIF89A=function(t,n,r,i){var o=new $t(t),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:a},c=new Kt(100).encode(u,100);return e.processJPEG.call(this,c,n,r,i)},e.processGIF87A=e.processGIF89A}(Oe.API),Xt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xt.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){ne.log("bit decode error:"+e)}},Xt.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}0!==n&&(this.pos+=4-n)}},Xt.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,u=this.palette[a];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},Xt.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==e&&(this.pos+=4-e)}},Xt.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,u=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}this.pos+=e}},Xt.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,u=(s>>11)/t*255|0,c=i*this.width*4+4*o;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=e}},Xt.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Xt.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Xt.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2018 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processBMP=function(t,n,r,i){var o=new Xt(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new Kt(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(Oe.API),Jt.prototype.getData=function(){return this.data},
/**
 * @license
 * Copyright (c) 2019 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){e.processWEBP=function(t,n,r,i){var o=new Jt(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},u=new Kt(100).encode(l,100);return e.processJPEG.call(this,u,n,r,i)}}(Oe.API),Oe.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],h=r[u+1],d=r[u+2],f=r[u+3];o[a++]=c,o[a++]=h,o[a++]=d,s[l++]=f}var p=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:p,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Oe.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},jt=Oe.API,Yt=jt.getCharWidthsArray=function(e,t){var n,i,o=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:o.metadata.Unicode.widths,u=l.fof?l.fof:1,c=t.kerning?t.kerning:o.metadata.Unicode.kerning,h=c.fof?c.fof:1,d=!1!==t.doKerning,f=0,p=e.length,m=0,g=l[0]||u,v=[];for(n=0;n<p;n++)i=e.charCodeAt(n),"function"==typeof o.metadata.widthOfString?v.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(f=d&&"object"===(0,r.A)(c[i])&&!isNaN(parseInt(c[i][m],10))?c[i][m]/h:0,v.push((l[i]||g)/u+f)),m=i;return v},Vt=jt.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return jt.processArabic&&(e=jt.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:Yt.apply(this,arguments).reduce((function(e,t){return e+t}),0)},Wt=function(e,t,n,r){for(var i=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<n;)a+=t[o],o++;i.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>r&&(i.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&i.push(e.slice(l,o)),i},zt=function(e,t,n){n||(n={});var r,i,o,s,a,l,u,c=[],h=[c],d=n.textIndent||0,f=0,p=0,m=e.split(" "),g=Yt.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),y=[];m.map((function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):y.push(e[0])})),m=y,l=Vt.apply(this,[v,n])}for(o=0,s=m.length;o<s;o++){var b=0;if(r=m[o],l&&"\n"==r[0]&&(r=r.substr(1),b=1),d+f+(p=(i=Yt.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||b){if(p>t){for(a=Wt.apply(this,[r,i,t-(d+f),t]),c.push(a.shift()),c=[a.pop()];a.length;)h.push([a.shift()]);p=i.slice(r.length-(c[0]?c[0].length:0)).reduce((function(e,t){return e+t}),0)}else c=[r];h.push(c),d=p+l,f=g}else c.push(r),d+=f+p,f=g}return u=l?function(e,t){return(t?v:"")+e.join(" ")}:function(e){return e.join(" ")},h.map(u)},jt.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(zt.apply(this,[r[a],s,o]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},o=0;o<t.length;o++)n[t[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=t[o];var s=function(e){return"0x"+parseInt(e,10).toString(16)},a=e.__fontmetrics__.compress=function(e){var t,n,o,l,u=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof t)t<0?(o=s(t).slice(3),l="-"):(o=s(t).slice(2),l=""),o=l+o.slice(0,-1)+i[o.slice(-1)];else{if("object"!==(0,r.A)(t))throw new Error("Don't know what to do with value type "+(0,r.A)(t)+".");o=a(t)}u.push(n+o)}return u.push("}"),u.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,o,s={},a=1,l=s,u=[],c="",h="",d=e.length-1,f=1;f<d;f+=1)"'"==(o=e[f])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(o):"{"==o?(u.push([l,i]),l={},i=void 0):"}"==o?((r=u.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==o?a=-1:void 0===i?n.hasOwnProperty(o)?(c+=n[o],i=parseInt(c,16)*a,a=1,c=""):c+=o:n.hasOwnProperty(o)?(h+=n[o],l[i]=parseInt(h,16)*a,a=1,i=void 0,h=""):h+=o;return s},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=h.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(Oe.API),
/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(se(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(Oe),
/** @license
 * Copyright (c) 2012 Willow Systems Corporation, https://github.com/willowsystems
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(e){function t(){return(ee.canvg?Promise.resolve(ee.canvg):n.e(48).then(n.bind(n,29048))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Oe.API.addSvgAsImage=function(e,n,r,i,o,s,a,l){if(isNaN(n)||isNaN(r))throw ne.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw ne.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var c=u.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then((function(t){return t.fromString(c,e,h)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(h)})).then((function(){d.addImage(u.toDataURL("image/jpeg",1),n,r,i,o,a,l)}))}}(),Oe.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Oe.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,o,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(a),u=[],c=0,h=0,d=0;function f(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=l.length;for(d=0;d<p;d+=1)n[l[d]].value=n[l[d]].defaultValue,n[l[d]].explicitSet=!1}if("object"===(0,r.A)(e))for(o in e)if(s=e[o],f(l,o)&&void 0!==s){if("boolean"===n[o].type&&"boolean"==typeof s)n[o].value=s;else if("name"===n[o].type&&f(n[o].valueSet,s))n[o].value=s;else if("integer"===n[o].type&&Number.isInteger(s))n[o].value=s;else if("array"===n[o].type){for(c=0;c<s.length;c+=1)if(i=!0,1===s[c].length&&"number"==typeof s[c][0])u.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)"number"!=typeof s[c][h]&&(i=!1);!0===i&&u.push([s[c][0]-1,s[c][1]-1].join(" "))}n[o].value="["+u.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this
/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+r.length+i.length+t.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Oe.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],s=0,a=e.length;s<a;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(e){var t,n,r,i,o,s,a;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,a=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;s<a;s++)t=n[s],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),u="",c=0;c<l.length;c++)u+=String.fromCharCode(l[c]);var h=o();s({data:u,addLength1:!0,objectId:h}),i("endobj");var d=o();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var f=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+Re(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+Re(n.fontName)),i("/FontDescriptor "+f+" 0 R"),i("/W "+e.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+Re(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,o=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,l="",u=0;u<a.length;u++)l+=String.fromCharCode(a[u]);var c=o();s({data:l,addLength1:!0,objectId:c}),i("endobj");var h=o();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+c+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+Re(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var f=0;f<n.metadata.hmtx.widths.length;f++)n.metadata.hmtx.widths[f]=parseInt(n.metadata.hmtx.widths[f]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+Re(n.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,o=e.y,s=e.options||{},a=e.mutex||{},l=a.pdfEscape,u=a.activeFontKey,c=a.fonts,h=u,d="",f=0,p="",m=c[h].encoding;if("Identity-H"!==c[h].encoding)return{text:r,x:i,y:o,options:s,mutex:a};for(p=r,h=u,Array.isArray(r)&&(p=r[0]),f=0;f<p.length;f+=1)c[h].metadata.hasOwnProperty("cmap")&&(t=c[h].metadata.cmap.unicode.codeMap[p[f].charCodeAt(0)]),t||p[f].charCodeAt(0)<256&&c[h].metadata.hasOwnProperty("Unicode")?d+=p[f]:d+="";var g="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===m?g=l(d,h).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===m&&(g=n(d,c[h])),a.isHex=!0,{text:g,x:i,y:o,options:s,mutex:a}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var o=0;for(o=0;o<t.length;o+=1)Array.isArray(t[o])&&3===t[o].length?n.push([i(Object.assign({},r,{text:t[o][0]})).text,t[o][1],t[o][2]]):n.push(i(Object.assign({},r,{text:t[o]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(Oe),
/**
 * @license
 * jsPDF virtual FileSystem functionality
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Oe.API),
/**
 * @license
 * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
 * MIT License
 */
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,o,s,a,l,u=t,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,v=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=f[n];return void 0!==r?u[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,s,a){var l,u,c,h,d=t[a];switch(d){case"L":case"R":g=!1;break;case"N":case"AN":break;case"EN":g&&(d="AN");break;case"AL":g=!0,d="R";break;case"WS":d="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(l=s[a-1])&&"AN"!==l||"EN"!==(u=t[a+1])&&"AN"!==u?d="N":g&&(u="AN"),d=u===l?u:"N";break;case"ES":d="EN"===(l=a>0?s[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===s[a-1]){d="EN";break}if(g){d="N";break}for(c=a+1,h=t.length;c<h&&"ET"===t[c];)c++;d=c<h&&"EN"===t[c]?"EN":"N";break;case"NSM":if(i&&!o){for(h=t.length,c=a+1;c<h&&"NSM"===t[c];)c++;if(c<h){var f=e[a],p=f>=1425&&f<=2303||64286===f;if(l=t[c],p&&("R"===l||"AL"===l)){d="R";break}}}d=a<1||"B"===(l=t[a-1])?"N":s[a-1];break;case"B":g=!1,n=!0,d=v;break;case"S":r=!0,d="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"BN":d="N"}return d},_=function(e,t,n){var r=e.split("");return n&&E(r,n,{hiLevel:v}),r.reverse(),t&&t.reverse(),r.join("")},E=function(e,t,i){var o,s,a,l,u,f=-1,p=e.length,m=0,b=[],_=v?h:c,E=[];for(g=!1,n=!1,r=!1,s=0;s<p;s++)E[s]=y(e[s]);for(a=0;a<p;a++){if(u=m,b[a]=w(e,E,b,a),o=240&(m=_[u][d[b[a]]]),m&=15,t[a]=l=_[m][5],o>0)if(16===o){for(s=f;s<a;s++)t[s]=1;f=-1}else f=-1;if(_[m][6])-1===f&&(f=a);else if(f>-1){for(s=f;s<a;s++)t[s]=l;f=-1}"B"===E[a]&&(t[a]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=v;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=v}}(E,t,p)},S=function(e,t,r,i,o){if(!(o.hiLevel<e)){if(1===e&&1===v&&!n)return t.reverse(),void(r&&r.reverse());for(var s,a,l,u,c=t.length,h=0;h<c;){if(i[h]>=e){for(l=h+1;l<c&&i[l]>=e;)l++;for(u=h,a=l-1;u<a;u++,a--)s=t[u],t[u]=t[a],t[a]=s,r&&(s=r[u],r[u]=r[a],r[a]=s);h=l}h++}}},T=function(e,t,n){var r=e.split(""),i={hiLevel:v};return n||(n=[]),E(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=p.indexOf(e[i]))>=0&&(e[i]=p[r+1])}(r,n,i),S(2,r,t,n,i),S(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===o&&(o=b(e)),void 0===a&&(a=b(e))}(e,t),i||!s||a)if(i&&s&&o^a)v=o?1:0,e=_(e,t,n);else if(!i&&s&&a)v=o?1:0,e=T(e,t,n),e=_(e,t);else if(!i||o||s||a){if(i&&!s&&o^a)e=_(e,t),o?(v=0,e=T(e,t,n)):(v=1,e=T(e,t,n),e=_(e,t));else if(i&&o&&!s&&a)v=1,e=T(e,t,n),e=_(e,t);else if(!i&&!s&&o^a){var r=l;o?(v=1,e=T(e,t,n),v=0,l=!1,e=T(e,t,n),l=r):(v=0,e=T(e,t,n),e=_(e,t),v=1,l=!1,e=T(e,t,n),l=r,e=_(e,t))}}else v=0,e=T(e,t,n);else v=o?1:0,e=T(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,s=e.isOutputVisual,o=e.isInputRtl,a=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),i=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var o=0;for(i=[],o=0;o<t.length;o+=1)"[object Array]"===Object.prototype.toString.call(t[o])?i.push([n.doBidiReorder(t[o][0]),t[o][1],t[o][2]]):i.push([n.doBidiReorder(t[o])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(Oe),Oe.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Zt(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new bn(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new en(this.contents),this.head=new rn(this),this.name=new hn(this),this.cmap=new sn(this),this.toUnicode={},this.hhea=new an(this),this.maxp=new dn(this),this.hmtx=new fn(this),this.post=new un(this),this.os2=new ln(this),this.loca=new yn(this),this.glyf=new mn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,o,s;for(o=0,i=0,s=(e=""+e).length;0<=s?i<s:i>s;i=0<=s?++i:--i)r=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return o*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Qt,Zt=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,o,s,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*o+256*s+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),en=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,o,s,a,l,u,c,h,d,f,p;for(p in d=Object.keys(t).length,a=Math.log(2),c=16*Math.floor(Math.log(d)/a),o=Math.floor(c/a),u=16*d-c,(r=new Zt).writeInt(this.scalarType),r.writeShort(d),r.writeShort(c),r.writeShort(o),r.writeShort(u),i=16*d,l=r.pos+i,s=null,f=[],t)for(h=t[p],r.writeString(p),r.writeInt(e(h)),r.writeInt(l),r.writeInt(h.length),f=f.concat(h),"head"===p&&(s=l),l+=h.length;l%4;)f.push(0),l++;return r.write(f),n=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=pn.call(e);e.length%4;)e.push(0);for(r=new Zt(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),tn={}.hasOwnProperty,nn=function(e,t){for(var n in t)tn.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Qt=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var rn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var t;return(t=new Zt).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},t}(),on=function(){function e(e,t){var n,r,i,o,s,a,l,u,c,h,d,f,p,m,g,v,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),c=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,i=function(){var t,n;for(n=[],a=t=0;0<=h?t<h:t>h;a=0<=h?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,p=function(){var t,n;for(n=[],a=t=0;0<=h?t<h:t>h;a=0<=h?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],a=t=0;0<=h?t<h:t>h;a=0<=h?++t:--t)n.push(e.readUInt16());return n}(),u=function(){var t,n;for(n=[],a=t=0;0<=h?t<h:t>h;a=0<=h?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],a=t=0;0<=r?t<r:t>r;a=0<=r?++t:--t)n.push(e.readUInt16());return n}(),a=g=0,y=i.length;g<y;a=++g)for(m=i[a],n=v=f=p[a];f<=m?v<=m:v>=m;n=f<=m?++v:--v)0===u[a]?o=n+l[a]:0!==(o=s[u[a]/2+(n-f)-(h-a)]||0)&&(o+=l[a]),this.codeMap[n]=65535&o}e.pos=c}return e.encode=function(e,t){var n,r,i,o,s,a,l,u,c,h,d,f,p,m,g,v,y,b,w,_,E,S,T,M,C,R,x,A,N,L,k,O,I,P,D,F,H,U,B,j,Y,V,W,z,G,$;switch(A=new Zt,o=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(p=0,m=function(){var e=[];for(f=0;f<256;++f)e.push(0);return e}(),v={0:0},i={},N=0,I=o.length;N<I;N++)null==v[W=e[r=o[N]]]&&(v[W]=++p),i[r]={old:e[r],new:v[e[r]]},m[r]=v[e[r]];return A.writeUInt16(1),A.writeUInt16(0),A.writeUInt32(12),A.writeUInt16(0),A.writeUInt16(262),A.writeUInt16(0),A.write(m),{charMap:i,subtable:A.data,maxGlyphID:p+1};case"unicode":for(R=[],c=[],y=0,v={},n={},g=l=null,L=0,P=o.length;L<P;L++)null==v[w=e[r=o[L]]]&&(v[w]=++y),n[r]={old:w,new:v[w]},s=v[w]-r,null!=g&&s===l||(g&&c.push(g),R.push(r),l=s),g=r;for(g&&c.push(g),c.push(65535),R.push(65535),M=2*(T=R.length),S=2*Math.pow(Math.log(T)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,E=2*T-S,a=[],_=[],d=[],f=k=0,D=R.length;k<D;f=++k){if(C=R[f],u=c[f],65535===C){a.push(0),_.push(0);break}if(C-(x=n[C].new)>=32768)for(a.push(0),_.push(2*(d.length+T-f)),r=O=C;C<=u?O<=u:O>=u;r=C<=u?++O:--O)d.push(n[r].new);else a.push(x-C),_.push(0)}for(A.writeUInt16(3),A.writeUInt16(1),A.writeUInt32(12),A.writeUInt16(4),A.writeUInt16(16+8*T+2*d.length),A.writeUInt16(0),A.writeUInt16(M),A.writeUInt16(S),A.writeUInt16(h),A.writeUInt16(E),Y=0,F=c.length;Y<F;Y++)r=c[Y],A.writeUInt16(r);for(A.writeUInt16(0),V=0,H=R.length;V<H;V++)r=R[V],A.writeUInt16(r);for(z=0,U=a.length;z<U;z++)s=a[z],A.writeUInt16(s);for(G=0,B=_.length;G<B;G++)b=_[G],A.writeUInt16(b);for($=0,j=d.length;$<j;$++)p=d[$],A.writeUInt16(p);return{charMap:n,subtable:A.data,maxGlyphID:y+1}}},e}(),sn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="cmap",t.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new on(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},t.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=on.encode(e,t),(r=new Zt).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},t}(),an=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),ln=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),un=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="post",t.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 196608:break;case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},t}(),cn=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},hn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="name",t.prototype.parse=function(e){var t,n,r,i,o,s,a,l,u,c,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(a={},i=u=0,c=n.length;u<c;i=++u)r=n[i],e.pos=r.offset,l=e.readString(r.length),o=new cn(l,r),null==a[h=r.nameID]&&(a[h]=[]),a[r.nameID].push(o);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},t}(),dn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),fn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="hmtx",t.prototype.parse=function(e){var t,n,r,i,o,s,a;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],a=[],t=o=0;0<=r?o<r:o>r;t=0<=r?++o:--o)a.push(this.widths.push(n));return a},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),pn=[].slice,mn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var t,n,r,i,o,s,a,l,u,c;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,o=(s=new Zt(t.read(r))).readShort(),l=s.readShort(),c=s.readShort(),a=s.readShort(),u=s.readShort(),this.cache[e]=-1===o?new vn(s,l,c,a,u):new gn(s,o,l,c,a,u),this.cache[e]))},t.prototype.encode=function(e,t,n){var r,i,o,s,a;for(o=[],i=[],s=0,a=t.length;s<a;s++)r=e[t[s]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},t}(),gn=function(){function e(e,t,n,r,i,o){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),vn=function(){function e(e,t,n,r,i){var o,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new Zt(pn.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),yn=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return nn(t,Qt),t.prototype.tag="loca",t.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<t.length&&t[i]==o){++i,n[o]=r;var s=this.offsets[o],a=this.offsets[o+1]-s;a>0&&(r+=a)}for(var l=new Array(4*n.length),u=0;u<n.length;++u)l[4*u+3]=255&n[u],l[4*u+2]=(65280&n[u])>>8,l[4*u+1]=(16711680&n[u])>>16,l[4*u]=(4278190080&n[u])>>24;return l},t}(),bn=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,o,s,a;for(r={},o=0,s=e.length;o<s;o++)r[i=e[o]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in a=this.glyphsFor(t))n=a[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,o,s,a,l,u,c,h,d,f,p,m,g;for(r in n=sn.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},g=n.charMap)d[(a=g[r]).old]=a.new;for(f in h=n.maxGlyphID,o)f in d||(d[f]=h++);return u=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(d),c=Object.keys(u).sort((function(e,t){return e-t})),p=function(){var e,t,n;for(n=[],e=0,t=c.length;e<t;e++)s=c[e],n.push(u[s]);return n}(),i=this.font.glyf.encode(o,p,d),l=this.font.loca.encode(i.offsets,p),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();Oe.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)r=n[e],o.push(t.convert(r));return o}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+t.convert(s));return o.push(">>"),o.join("\n")}return""+n},t}()},47747:function(e){(function(t,n){e.exports=n()})(0,(function(){var e=function(e,t){var n=Array.prototype.concat,r=Array.prototype.slice,i=Object.prototype.toString;function o(t,n){var r=t>n?t:n;return e.pow(10,17-~~(e.log(r>0?r:-r)*e.LOG10E))}var s=Array.isArray||function(e){return"[object Array]"===i.call(e)};function a(e){return"[object Function]"===i.call(e)}function l(e){return"number"===typeof e&&e-e===0}function u(e){return n.apply([],e)}function c(){return new c._init(arguments)}function h(){return 0}function d(){return 1}function f(e,t){return e===t?1:0}c.fn=c.prototype,c._init=function(e){if(s(e[0]))if(s(e[0][0])){a(e[1])&&(e[0]=c.map(e[0],e[1]));for(var t=0;t<e[0].length;t++)this[t]=e[0][t];this.length=e[0].length}else this[0]=a(e[1])?c.map(e[0],e[1]):e[0],this.length=1;else if(l(e[0]))this[0]=c.seq.apply(null,e),this.length=1;else{if(e[0]instanceof c)return c(e[0].toArray());this[0]=[],this.length=1}return this},c._init.prototype=c.prototype,c._init.constructor=c,c.utils={calcRdx:o,isArray:s,isFunction:a,isNumber:l,toVector:u},c._random_fn=e.random,c.setRandom=function(e){if("function"!==typeof e)throw new TypeError("fn is not a function");c._random_fn=e},c.extend=function(e){var t,n;if(1===arguments.length){for(n in e)c[n]=e[n];return this}for(t=1;t<arguments.length;t++)for(n in arguments[t])e[n]=arguments[t][n];return e},c.rows=function(e){return e.length||1},c.cols=function(e){return e[0].length||1},c.dimensions=function(e){return{rows:c.rows(e),cols:c.cols(e)}},c.row=function(e,t){return s(t)?t.map((function(t){return c.row(e,t)})):e[t]},c.rowa=function(e,t){return c.row(e,t)},c.col=function(e,t){if(s(t)){var n=c.arange(e.length).map((function(){return new Array(t.length)}));return t.forEach((function(t,r){c.arange(e.length).forEach((function(i){n[i][r]=e[i][t]}))})),n}for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=[e[i][t]];return r},c.cola=function(e,t){return c.col(e,t).map((function(e){return e[0]}))},c.diag=function(e){for(var t=c.rows(e),n=new Array(t),r=0;r<t;r++)n[r]=[e[r][r]];return n},c.antidiag=function(e){for(var t=c.rows(e)-1,n=new Array(t),r=0;t>=0;t--,r++)n[r]=[e[r][t]];return n},c.transpose=function(e){var t,n,r,i,o,a=[];for(s(e[0])||(e=[e]),n=e.length,r=e[0].length,o=0;o<r;o++){for(t=new Array(n),i=0;i<n;i++)t[i]=e[i][o];a.push(t)}return 1===a.length?a[0]:a},c.map=function(e,t,n){var r,i,o,a,l;for(s(e[0])||(e=[e]),i=e.length,o=e[0].length,a=n?e:new Array(i),r=0;r<i;r++)for(a[r]||(a[r]=new Array(o)),l=0;l<o;l++)a[r][l]=t(e[r][l],r,l);return 1===a.length?a[0]:a},c.cumreduce=function(e,t,n){var r,i,o,a,l;for(s(e[0])||(e=[e]),i=e.length,o=e[0].length,a=n?e:new Array(i),r=0;r<i;r++)for(a[r]||(a[r]=new Array(o)),o>0&&(a[r][0]=e[r][0]),l=1;l<o;l++)a[r][l]=t(a[r][l-1],e[r][l]);return 1===a.length?a[0]:a},c.alter=function(e,t){return c.map(e,t,!0)},c.create=function(e,t,n){var r,i,o=new Array(e);for(a(t)&&(n=t,t=e),r=0;r<e;r++)for(o[r]=new Array(t),i=0;i<t;i++)o[r][i]=n(r,i);return o},c.zeros=function(e,t){return l(t)||(t=e),c.create(e,t,h)},c.ones=function(e,t){return l(t)||(t=e),c.create(e,t,d)},c.rand=function(e,t){return l(t)||(t=e),c.create(e,t,c._random_fn)},c.identity=function(e,t){return l(t)||(t=e),c.create(e,t,f)},c.symmetric=function(e){var t,n,r=e.length;if(e.length!==e[0].length)return!1;for(t=0;t<r;t++)for(n=0;n<r;n++)if(e[n][t]!==e[t][n])return!1;return!0},c.clear=function(e){return c.alter(e,h)},c.seq=function(e,t,n,r){a(r)||(r=!1);var i,s=[],l=o(e,t),u=(t*l-e*l)/((n-1)*l),c=e;for(i=0;c<=t&&i<n;i++,c=(e*l+u*l*i)/l)s.push(r?r(c,i):c);return s},c.arange=function(e,n,r){var i,o=[];if(r=r||1,n===t&&(n=e,e=0),e===n||0===r)return[];if(e<n&&r<0)return[];if(e>n&&r>0)return[];if(r>0)for(i=e;i<n;i+=r)o.push(i);else for(i=e;i>n;i+=r)o.push(i);return o},c.slice=function(){function e(e,n,r,i){var o,s=[],a=e.length;if(n===t&&r===t&&i===t)return c.copy(e);if(n=n||0,r=r||e.length,n=n>=0?n:a+n,r=r>=0?r:a+r,i=i||1,n===r||0===i)return[];if(n<r&&i<0)return[];if(n>r&&i>0)return[];if(i>0)for(o=n;o<r;o+=i)s.push(e[o]);else for(o=n;o>r;o+=i)s.push(e[o]);return s}function n(t,n){var r,i;if(n=n||{},l(n.row)){if(l(n.col))return t[n.row][n.col];var o=c.rowa(t,n.row);return r=n.col||{},e(o,r.start,r.end,r.step)}if(l(n.col)){var s=c.cola(t,n.col);return i=n.row||{},e(s,i.start,i.end,i.step)}i=n.row||{},r=n.col||{};var a=e(t,i.start,i.end,i.step);return a.map((function(t){return e(t,r.start,r.end,r.step)}))}return n}(),c.sliceAssign=function(n,r,i){var o,s;if(l(r.row)){if(l(r.col))return n[r.row][r.col]=i;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1,o=c.arange(r.col.start,e.min(n.length,r.col.end),r.col.step);var a=r.row;return o.forEach((function(e,t){n[a][e]=i[t]})),n}if(l(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,s=c.arange(r.row.start,e.min(n[0].length,r.row.end),r.row.step);var u=r.col;return s.forEach((function(e,t){n[e][u]=i[t]})),n}return i[0].length===t&&(i=[i]),r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1,s=c.arange(r.row.start,e.min(n.length,r.row.end),r.row.step),o=c.arange(r.col.start,e.min(n[0].length,r.col.end),r.col.step),s.forEach((function(e,t){o.forEach((function(r,o){n[e][r]=i[t][o]}))})),n},c.diagonal=function(e){var t=c.zeros(e.length,e.length);return e.forEach((function(e,n){t[n][n]=e})),t},c.copy=function(e){return e.map((function(e){return l(e)?e:e.map((function(e){return e}))}))};var p=c.prototype;return p.length=0,p.push=Array.prototype.push,p.sort=Array.prototype.sort,p.splice=Array.prototype.splice,p.slice=Array.prototype.slice,p.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},p.map=function(e,t){return c(c.map(this,e,t))},p.cumreduce=function(e,t){return c(c.cumreduce(this,e,t))},p.alter=function(e){return c.alter(this,e),this},function(e){for(var t=0;t<e.length;t++)(function(e){p[e]=function(t){var n,r=this;return t?(setTimeout((function(){t.call(r,p[e].call(r))})),this):(n=c[e](this),s(n)?c(n):n)}})(e[t])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(e){for(var t=0;t<e.length;t++)(function(e){p[e]=function(t,n){var r=this;return n?(setTimeout((function(){n.call(r,p[e].call(r,t))})),this):c(c[e](this,t))}})(e[t])}("row col".split(" ")),function(e){for(var t=0;t<e.length;t++)(function(e){p[e]=function(){return c(c[e].apply(null,arguments))}})(e[t])}("create zeros ones rand identity".split(" ")),c}(Math);return function(e,t){var n=e.utils.isFunction;function r(e,t){return e-t}function i(e,n,r){return t.max(n,t.min(e,r))}e.sum=function(e){var t=0,n=e.length;while(--n>=0)t+=e[n];return t},e.sumsqrd=function(e){var t=0,n=e.length;while(--n>=0)t+=e[n]*e[n];return t},e.sumsqerr=function(t){var n,r=e.mean(t),i=0,o=t.length;while(--o>=0)n=t[o]-r,i+=n*n;return i},e.sumrow=function(e){var t=0,n=e.length;while(--n>=0)t+=e[n];return t},e.product=function(e){var t=1,n=e.length;while(--n>=0)t*=e[n];return t},e.min=function(e){var t=e[0],n=0;while(++n<e.length)e[n]<t&&(t=e[n]);return t},e.max=function(e){var t=e[0],n=0;while(++n<e.length)e[n]>t&&(t=e[n]);return t},e.unique=function(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n},e.mean=function(t){return e.sum(t)/t.length},e.meansqerr=function(t){return e.sumsqerr(t)/t.length},e.geomean=function(n){var r=n.map(t.log),i=e.mean(r);return t.exp(i)},e.median=function(e){var t=e.length,n=e.slice().sort(r);return 1&t?n[t/2|0]:(n[t/2-1]+n[t/2])/2},e.cumsum=function(t){return e.cumreduce(t,(function(e,t){return e+t}))},e.cumprod=function(t){return e.cumreduce(t,(function(e,t){return e*t}))},e.diff=function(e){var t,n=[],r=e.length;for(t=1;t<r;t++)n.push(e[t]-e[t-1]);return n},e.rank=function(e){var t,n=[],i={};for(t=0;t<e.length;t++){var o=e[t];i[o]?i[o]++:(i[o]=1,n.push(o))}var s=n.sort(r),a={},l=1;for(t=0;t<s.length;t++){o=s[t];var u=i[o],c=l,h=l+u-1,d=(c+h)/2;a[o]=d,l+=u}return e.map((function(e){return a[e]}))},e.mode=function(e){var t,n=e.length,i=e.slice().sort(r),o=1,s=0,a=0,l=[];for(t=0;t<n;t++)i[t]===i[t+1]?o++:(o>s?(l=[i[t]],s=o,a=0):o===s&&(l.push(i[t]),a++),o=1);return 0===a?l[0]:l},e.range=function(t){return e.max(t)-e.min(t)},e.variance=function(t,n){return e.sumsqerr(t)/(t.length-(n?1:0))},e.pooledvariance=function(t){var n=t.reduce((function(t,n){return t+e.sumsqerr(n)}),0),r=t.reduce((function(e,t){return e+t.length}),0);return n/(r-t.length)},e.deviation=function(t){for(var n=e.mean(t),r=t.length,i=new Array(r),o=0;o<r;o++)i[o]=t[o]-n;return i},e.stdev=function(n,r){return t.sqrt(e.variance(n,r))},e.pooledstdev=function(n){return t.sqrt(e.pooledvariance(n))},e.meandev=function(n){for(var r=e.mean(n),i=[],o=n.length-1;o>=0;o--)i.push(t.abs(n[o]-r));return e.mean(i)},e.meddev=function(n){for(var r=e.median(n),i=[],o=n.length-1;o>=0;o--)i.push(t.abs(n[o]-r));return e.median(i)},e.coeffvar=function(t){return e.stdev(t)/e.mean(t)},e.quartiles=function(e){var n=e.length,i=e.slice().sort(r);return[i[t.round(n/4)-1],i[t.round(n/2)-1],i[t.round(3*n/4)-1]]},e.quantiles=function(e,n,o,s){var a,l,u,c,h,d,f=e.slice().sort(r),p=[n.length],m=e.length;for("undefined"===typeof o&&(o=3/8),"undefined"===typeof s&&(s=3/8),a=0;a<n.length;a++)l=n[a],u=o+l*(1-o-s),c=m*l+u,h=t.floor(i(c,1,m-1)),d=i(c-h,0,1),p[a]=(1-d)*f[h-1]+d*f[h];return p},e.percentile=function(e,t,n){var i=e.slice().sort(r),o=t*(i.length+(n?1:-1))+(n?0:1),s=parseInt(o),a=o-s;return s+1<i.length?i[s-1]+a*(i[s]-i[s-1]):i[s-1]},e.percentileOfScore=function(e,t,n){var r,i,o=0,s=e.length,a=!1;for("strict"===n&&(a=!0),i=0;i<s;i++)r=e[i],(a&&r<t||!a&&r<=t)&&o++;return o/s},e.histogram=function(n,r){r=r||4;var i,o=e.min(n),s=(e.max(n)-o)/r,a=n.length,l=[];for(i=0;i<r;i++)l[i]=0;for(i=0;i<a;i++)l[t.min(t.floor((n[i]-o)/s),r-1)]+=1;return l},e.covariance=function(t,n){var r,i=e.mean(t),o=e.mean(n),s=t.length,a=new Array(s);for(r=0;r<s;r++)a[r]=(t[r]-i)*(n[r]-o);return e.sum(a)/(s-1)},e.corrcoeff=function(t,n){return e.covariance(t,n)/e.stdev(t,1)/e.stdev(n,1)},e.spearmancoeff=function(t,n){return t=e.rank(t),n=e.rank(n),e.corrcoeff(t,n)},e.stanMoment=function(n,r){for(var i=e.mean(n),o=e.stdev(n),s=n.length,a=0,l=0;l<s;l++)a+=t.pow((n[l]-i)/o,r);return a/n.length},e.skewness=function(t){return e.stanMoment(t,3)},e.kurtosis=function(t){return e.stanMoment(t,4)-3};var o=e.prototype;(function(t){for(var r=0;r<t.length;r++)(function(t){o[t]=function(r,i){var s=[],a=0,l=this;if(n(r)&&(i=r,r=!1),i)return setTimeout((function(){i.call(l,o[t].call(l,r))})),this;if(this.length>1){for(l=!0===r?this:this.transpose();a<l.length;a++)s[a]=e[t](l[a]);return s}return e[t](this[0],r)}})(t[r])})("cumsum cumprod".split(" ")),function(t){for(var r=0;r<t.length;r++)(function(t){o[t]=function(r,i){var s=[],a=0,l=this;if(n(r)&&(i=r,r=!1),i)return setTimeout((function(){i.call(l,o[t].call(l,r))})),this;if(this.length>1){for("sumrow"!==t&&(l=!0===r?this:this.transpose());a<l.length;a++)s[a]=e[t](l[a]);return!0===r?e[t](e.utils.toVector(s)):s}return e[t](this[0],r)}})(t[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(t){for(var r=0;r<t.length;r++)(function(t){o[t]=function(){var r,i=[],s=0,a=this,l=Array.prototype.slice.call(arguments);if(n(l[l.length-1])){r=l[l.length-1];var u=l.slice(0,l.length-1);return setTimeout((function(){r.call(a,o[t].apply(a,u))})),this}r=void 0;var c=function(n){return e[t].apply(a,[n].concat(l))};if(this.length>1){for(a=a.transpose();s<a.length;s++)i[s]=c(a[s]);return i}return c(this[0])}})(t[r])}("quantiles percentileOfScore".split(" "))}(e,Math),function(e,t){e.gammaln=function(e){var n,r,i,o=0,s=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],a=1.000000000190015;for(i=(r=n=e)+5.5,i-=(n+.5)*t.log(i);o<6;o++)a+=s[o]/++r;return t.log(2.5066282746310007*a/n)-i},e.loggam=function(e){var n,r,i,o,s,a,l,u=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(n=e,l=0,1==e||2==e)return 0;for(e<=7&&(l=t.floor(7-e),n=e+l),r=1/(n*n),i=2*t.PI,s=u[9],a=8;a>=0;a--)s*=r,s+=u[a];if(o=s/n+.5*t.log(i)+(n-.5)*t.log(n)-n,e<=7)for(a=1;a<=l;a++)o-=t.log(n-1),n-=1;return o},e.gammafn=function(e){var n,r,i,o,s=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],a=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],l=!1,u=0,c=0,h=0,d=e;if(e>171.6243769536076)return 1/0;if(d<=0){if(o=d%1+36e-17,!o)return 1/0;l=(1&d?-1:1)*t.PI/t.sin(t.PI*o),d=1-d}for(i=d,r=d<1?d++:(d-=u=(0|d)-1)-1,n=0;n<8;++n)h=(h+s[n])*r,c=c*r+a[n];if(o=h/c+1,i<d)o/=i;else if(i>d)for(n=0;n<u;++n)o*=d,d++;return l&&(o=l/o),o},e.gammap=function(t,n){return e.lowRegGamma(t,n)*e.gammafn(t)},e.lowRegGamma=function(n,r){var i,o=e.gammaln(n),s=n,a=1/n,l=a,u=r+1-n,c=1/1e-30,h=1/u,d=h,f=1,p=-~(8.5*t.log(n>=1?n:1/n)+.4*n+17);if(r<0||n<=0)return NaN;if(r<n+1){for(;f<=p;f++)a+=l*=r/++s;return a*t.exp(-r+n*t.log(r)-o)}for(;f<=p;f++)i=-f*(f-n),u+=2,h=i*h+u,c=u+i/c,h=1/h,d*=h*c;return 1-d*t.exp(-r+n*t.log(r)-o)},e.factorialln=function(t){return t<0?NaN:e.gammaln(t+1)},e.factorial=function(t){return t<0?NaN:e.gammafn(t+1)},e.combination=function(n,r){return n>170||r>170?t.exp(e.combinationln(n,r)):e.factorial(n)/e.factorial(r)/e.factorial(n-r)},e.combinationln=function(t,n){return e.factorialln(t)-e.factorialln(n)-e.factorialln(t-n)},e.permutation=function(t,n){return e.factorial(t)/e.factorial(t-n)},e.betafn=function(n,r){if(!(n<=0||r<=0))return n+r>170?t.exp(e.betaln(n,r)):e.gammafn(n)*e.gammafn(r)/e.gammafn(n+r)},e.betaln=function(t,n){return e.gammaln(t)+e.gammaln(n)-e.gammaln(t+n)},e.betacf=function(e,n,r){var i,o,s,a,l=1e-30,u=1,c=n+r,h=n+1,d=n-1,f=1,p=1-c*e/h;for(t.abs(p)<l&&(p=l),p=1/p,a=p;u<=100;u++)if(i=2*u,o=u*(r-u)*e/((d+i)*(n+i)),p=1+o*p,t.abs(p)<l&&(p=l),f=1+o/f,t.abs(f)<l&&(f=l),p=1/p,a*=p*f,o=-(n+u)*(c+u)*e/((n+i)*(h+i)),p=1+o*p,t.abs(p)<l&&(p=l),f=1+o/f,t.abs(f)<l&&(f=l),p=1/p,s=p*f,a*=s,t.abs(s-1)<3e-7)break;return a},e.gammapinv=function(n,r){var i,o,s,a,l,u,c,h=0,d=r-1,f=1e-8,p=e.gammaln(r);if(n>=1)return t.max(100,r+100*t.sqrt(r));if(n<=0)return 0;for(r>1?(u=t.log(d),c=t.exp(d*(u-1)-p),l=n<.5?n:1-n,s=t.sqrt(-2*t.log(l)),i=(2.30753+.27061*s)/(1+s*(.99229+.04481*s))-s,n<.5&&(i=-i),i=t.max(.001,r*t.pow(1-1/(9*r)-i/(3*t.sqrt(r)),3))):(s=1-r*(.253+.12*r),i=n<s?t.pow(n/s,1/r):1-t.log(1-(n-s)/(1-s)));h<12;h++){if(i<=0)return 0;if(o=e.lowRegGamma(r,i)-n,s=r>1?c*t.exp(-(i-d)+d*(t.log(i)-u)):t.exp(-i+d*t.log(i)-p),a=o/s,i-=s=a/(1-.5*t.min(1,a*((r-1)/i-1))),i<=0&&(i=.5*(i+s)),t.abs(s)<f*i)break}return i},e.erf=function(e){var n,r,i,o,s=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],a=s.length-1,l=!1,u=0,c=0;for(e<0&&(e=-e,l=!0),n=2/(2+e),r=4*n-2;a>0;a--)i=u,u=r*u-c+s[a],c=i;return o=n*t.exp(-e*e+.5*(s[0]+r*u)-c),l?o-1:1-o},e.erfc=function(t){return 1-e.erf(t)},e.erfcinv=function(n){var r,i,o,s,a=0;if(n>=2)return-100;if(n<=0)return 100;for(s=n<1?n:2-n,o=t.sqrt(-2*t.log(s/2)),r=-.70711*((2.30753+.27061*o)/(1+o*(.99229+.04481*o))-o);a<2;a++)i=e.erfc(r)-s,r+=i/(1.1283791670955126*t.exp(-r*r)-r*i);return n<1?r:-r},e.ibetainv=function(n,r,i){var o,s,a,l,u,c,h,d,f,p,m,g=1e-8,v=r-1,y=i-1,b=0;if(n<=0)return 0;if(n>=1)return 1;for(r>=1&&i>=1?(a=n<.5?n:1-n,l=t.sqrt(-2*t.log(a)),h=(2.30753+.27061*l)/(1+l*(.99229+.04481*l))-l,n<.5&&(h=-h),d=(h*h-3)/6,f=2/(1/(2*r-1)+1/(2*i-1)),p=h*t.sqrt(d+f)/f-(1/(2*i-1)-1/(2*r-1))*(d+5/6-2/(3*f)),h=r/(r+i*t.exp(2*p))):(o=t.log(r/(r+i)),s=t.log(i/(r+i)),l=t.exp(r*o)/r,u=t.exp(i*s)/i,p=l+u,h=n<l/p?t.pow(r*p*n,1/r):1-t.pow(i*p*(1-n),1/i)),m=-e.gammaln(r)-e.gammaln(i)+e.gammaln(r+i);b<10;b++){if(0===h||1===h)return h;if(c=e.ibeta(h,r,i)-n,l=t.exp(v*t.log(h)+y*t.log(1-h)+m),u=c/l,h-=l=u/(1-.5*t.min(1,u*(v/h-y/(1-h)))),h<=0&&(h=.5*(h+l)),h>=1&&(h=.5*(h+l+1)),t.abs(l)<g*h&&b>0)break}return h},e.ibeta=function(n,r,i){var o=0===n||1===n?0:t.exp(e.gammaln(r+i)-e.gammaln(r)-e.gammaln(i)+r*t.log(n)+i*t.log(1-n));return!(n<0||n>1)&&(n<(r+1)/(r+i+2)?o*e.betacf(n,r,i)/r:1-o*e.betacf(1-n,i,r)/i)},e.randn=function(n,r){var i,o,s,a,l;if(r||(r=n),n)return e.create(n,r,(function(){return e.randn()}));do{i=e._random_fn(),o=1.7156*(e._random_fn()-.5),s=i-.449871,a=t.abs(o)+.386595,l=s*s+a*(.196*a-.25472*s)}while(l>.27597&&(l>.27846||o*o>-4*t.log(i)*i*i));return o/i},e.randg=function(n,r,i){var o,s,a,l,u,c,h=n;if(i||(i=r),n||(n=1),r)return c=e.zeros(r,i),c.alter((function(){return e.randg(n)})),c;n<1&&(n+=1),o=n-1/3,s=1/t.sqrt(9*o);do{do{u=e.randn(),l=1+s*u}while(l<=0);l*=l*l,a=e._random_fn()}while(a>1-.331*t.pow(u,4)&&t.log(a)>.5*u*u+o*(1-l+t.log(l)));if(n==h)return o*l;do{a=e._random_fn()}while(0===a);return t.pow(a,1/h)*o*l},function(t){for(var n=0;n<t.length;n++)(function(t){e.fn[t]=function(){return e(e.map(this,(function(n){return e[t](n)})))}})(t[n])}("gammaln gammafn factorial factorialln".split(" ")),function(t){for(var n=0;n<t.length;n++)(function(t){e.fn[t]=function(){return e(e[t].apply(null,arguments))}})(t[n])}("randn".split(" "))}(e,Math),function(e,t){function n(e,n,r,i){var o,s=0,a=1,l=1,u=1,c=0,h=0;while(t.abs((l-h)/l)>i)h=l,o=-(n+c)*(n+r+c)*e/(n+2*c)/(n+2*c+1),s=l+o*s,a=u+o*a,c+=1,o=c*(r-c)*e/(n+2*c-1)/(n+2*c),l=s+o*l,u=a+o*u,s/=u,a/=u,l/=u,u=1;return l/n}function r(e){return e/t.abs(e)}function i(n,r,i){var o=12,s=6,a=-30,l=-50,u=60,c=8,h=3,d=2,f=3,p=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],m=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],g=.5*n;if(g>=c)return 1;var v,y=2*e.normal.cdf(g,0,1,1,0)-1;y=y>=t.exp(l/i)?t.pow(y,i):0,v=n>h?d:f;for(var b=g,w=(c-g)/v,_=b+w,E=0,S=i-1,T=1;T<=v;T++){for(var M=0,C=.5*(_+b),R=.5*(_-b),x=1;x<=o;x++){var A,N;s<x?(A=o-x+1,N=p[A-1]):(A=x,N=-p[A-1]);var L=R*N,k=C+L,O=k*k;if(O>u)break;var I=2*e.normal.cdf(k,0,1,1,0),P=2*e.normal.cdf(k,n,1,1,0),D=.5*I-.5*P;D>=t.exp(a/S)&&(D=m[A-1]*t.exp(-.5*O)*t.pow(D,S),M+=D)}M*=2*R*i/t.sqrt(2*t.PI),E+=M,b=_,_+=w}return y+=E,y<=t.exp(a/r)?0:(y=t.pow(y,r),y>=1?1:y)}function o(e,n,r){var i=.322232421088,o=.099348462606,s=-1,a=.588581570495,l=-.342242088547,u=.531103462366,c=-.204231210125,h=.10353775285,d=-453642210148e-16,f=.0038560700634,p=.8832,m=.2368,g=1.214,v=1.208,y=1.4142,b=120,w=.5-.5*e,_=t.sqrt(t.log(1/(w*w))),E=_+((((_*d+c)*_+l)*_+s)*_+i)/((((_*f+h)*_+u)*_+a)*_+o);r<b&&(E+=(E*E*E+E)/r/4);var S=p-m*E;return r<b&&(S+=-g/r+v*E/r),E*(S*t.log(n-1)+y)}(function(t){for(var n=0;n<t.length;n++)(function(t){e[t]=function e(t,n,r){return this instanceof e?(this._a=t,this._b=n,this._c=r,this):new e(t,n,r)},e.fn[t]=function(n,r,i){var o=e[t](n,r,i);return o.data=this,o},e[t].prototype.sample=function(n){var r=this._a,i=this._b,o=this._c;return n?e.alter(n,(function(){return e[t].sample(r,i,o)})):e[t].sample(r,i,o)},function(n){for(var r=0;r<n.length;r++)(function(n){e[t].prototype[n]=function(r){var i=this._a,o=this._b,s=this._c;return r||0===r||(r=this.data),"number"!==typeof r?e.fn.map.call(r,(function(r){return e[t][n](r,i,o,s)})):e[t][n](r,i,o,s)}})(n[r])}("pdf cdf inv".split(" ")),function(n){for(var r=0;r<n.length;r++)(function(n){e[t].prototype[n]=function(){return e[t][n](this._a,this._b,this._c)}})(n[r])}("mean median mode variance".split(" "))})(t[n])})("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),e.extend(e.beta,{pdf:function(n,r,i){return n>1||n<0?0:1==r&&1==i?1:r<512&&i<512?t.pow(n,r-1)*t.pow(1-n,i-1)/e.betafn(r,i):t.exp((r-1)*t.log(n)+(i-1)*t.log(1-n)-e.betaln(r,i))},cdf:function(t,n,r){return t>1||t<0?1*(t>1):e.ibeta(t,n,r)},inv:function(t,n,r){return e.ibetainv(t,n,r)},mean:function(e,t){return e/(e+t)},median:function(t,n){return e.ibetainv(.5,t,n)},mode:function(e,t){return(e-1)/(e+t-2)},sample:function(t,n){var r=e.randg(t);return r/(r+e.randg(n))},variance:function(e,n){return e*n/(t.pow(e+n,2)*(e+n+1))}}),e.extend(e.centralF,{pdf:function(n,r,i){var o,s,a;return n<0?0:r<=2?0===n&&r<2?1/0:0===n&&2===r?1:1/e.betafn(r/2,i/2)*t.pow(r/i,r/2)*t.pow(n,r/2-1)*t.pow(1+r/i*n,-(r+i)/2):(o=r*n/(i+n*r),s=i/(i+n*r),a=r*s/2,a*e.binomial.pdf((r-2)/2,(r+i-2)/2,o))},cdf:function(t,n,r){return t<0?0:e.ibeta(n*t/(n*t+r),n/2,r/2)},inv:function(t,n,r){return r/(n*(1/e.ibetainv(t,n/2,r/2)-1))},mean:function(e,t){return t>2?t/(t-2):void 0},mode:function(e,t){return e>2?t*(e-2)/(e*(t+2)):void 0},sample:function(t,n){var r=2*e.randg(t/2),i=2*e.randg(n/2);return r/t/(i/n)},variance:function(e,t){if(!(t<=4))return 2*t*t*(e+t-2)/(e*(t-2)*(t-2)*(t-4))}}),e.extend(e.cauchy,{pdf:function(e,n,r){return r<0?0:r/(t.pow(e-n,2)+t.pow(r,2))/t.PI},cdf:function(e,n,r){return t.atan((e-n)/r)/t.PI+.5},inv:function(e,n,r){return n+r*t.tan(t.PI*(e-.5))},median:function(e){return e},mode:function(e){return e},sample:function(n,r){return e.randn()*t.sqrt(1/(2*e.randg(.5)))*r+n}}),e.extend(e.chisquare,{pdf:function(n,r){return n<0?0:0===n&&2===r?.5:t.exp((r/2-1)*t.log(n)-n/2-r/2*t.log(2)-e.gammaln(r/2))},cdf:function(t,n){return t<0?0:e.lowRegGamma(n/2,t/2)},inv:function(t,n){return 2*e.gammapinv(t,.5*n)},mean:function(e){return e},median:function(e){return e*t.pow(1-2/(9*e),3)},mode:function(e){return e-2>0?e-2:0},sample:function(t){return 2*e.randg(t/2)},variance:function(e){return 2*e}}),e.extend(e.exponential,{pdf:function(e,n){return e<0?0:n*t.exp(-n*e)},cdf:function(e,n){return e<0?0:1-t.exp(-n*e)},inv:function(e,n){return-t.log(1-e)/n},mean:function(e){return 1/e},median:function(e){return 1/e*t.log(2)},mode:function(){return 0},sample:function(n){return-1/n*t.log(e._random_fn())},variance:function(e){return t.pow(e,-2)}}),e.extend(e.gamma,{pdf:function(n,r,i){return n<0?0:0===n&&1===r?1/i:t.exp((r-1)*t.log(n)-n/i-e.gammaln(r)-r*t.log(i))},cdf:function(t,n,r){return t<0?0:e.lowRegGamma(n,t/r)},inv:function(t,n,r){return e.gammapinv(t,n)*r},mean:function(e,t){return e*t},mode:function(e,t){if(e>1)return(e-1)*t},sample:function(t,n){return e.randg(t)*n},variance:function(e,t){return e*t*t}}),e.extend(e.invgamma,{pdf:function(n,r,i){return n<=0?0:t.exp(-(r+1)*t.log(n)-i/n-e.gammaln(r)+r*t.log(i))},cdf:function(t,n,r){return t<=0?0:1-e.lowRegGamma(n,r/t)},inv:function(t,n,r){return r/e.gammapinv(1-t,n)},mean:function(e,t){return e>1?t/(e-1):void 0},mode:function(e,t){return t/(e+1)},sample:function(t,n){return n/e.randg(t)},variance:function(e,t){if(!(e<=2))return t*t/((e-1)*(e-1)*(e-2))}}),e.extend(e.kumaraswamy,{pdf:function(e,n,r){return 0===e&&1===n?r:1===e&&1===r?n:t.exp(t.log(n)+t.log(r)+(n-1)*t.log(e)+(r-1)*t.log(1-t.pow(e,n)))},cdf:function(e,n,r){return e<0?0:e>1?1:1-t.pow(1-t.pow(e,n),r)},inv:function(e,n,r){return t.pow(1-t.pow(1-e,1/r),1/n)},mean:function(t,n){return n*e.gammafn(1+1/t)*e.gammafn(n)/e.gammafn(1+1/t+n)},median:function(e,n){return t.pow(1-t.pow(2,-1/n),1/e)},mode:function(e,n){if(e>=1&&n>=1&&1!==e&&1!==n)return t.pow((e-1)/(e*n-1),1/e)},variance:function(){throw new Error("variance not yet implemented")}}),e.extend(e.lognormal,{pdf:function(e,n,r){return e<=0?0:t.exp(-t.log(e)-.5*t.log(2*t.PI)-t.log(r)-t.pow(t.log(e)-n,2)/(2*r*r))},cdf:function(n,r,i){return n<0?0:.5+.5*e.erf((t.log(n)-r)/t.sqrt(2*i*i))},inv:function(n,r,i){return t.exp(-1.4142135623730951*i*e.erfcinv(2*n)+r)},mean:function(e,n){return t.exp(e+n*n/2)},median:function(e){return t.exp(e)},mode:function(e,n){return t.exp(e-n*n)},sample:function(n,r){return t.exp(e.randn()*r+n)},variance:function(e,n){return(t.exp(n*n)-1)*t.exp(2*e+n*n)}}),e.extend(e.noncentralt,{pdf:function(n,r,i){var o=1e-14;return t.abs(i)<o?e.studentt.pdf(n,r):t.abs(n)<o?t.exp(e.gammaln((r+1)/2)-i*i/2-.5*t.log(t.PI*r)-e.gammaln(r/2)):r/n*(e.noncentralt.cdf(n*t.sqrt(1+2/r),r+2,i)-e.noncentralt.cdf(n,r,i))},cdf:function(n,r,i){var o=1e-14,s=200;if(t.abs(i)<o)return e.studentt.cdf(n,r);var a=!1;n<0&&(a=!0,i=-i);var l=e.normal.cdf(-i,0,1),u=o+1,c=u,h=n*n/(n*n+r),d=0,f=t.exp(-i*i/2),p=t.exp(-i*i/2-.5*t.log(2)-e.gammaln(1.5))*i;while(d<s||c>o||u>o)c=u,d>0&&(f*=i*i/(2*d),p*=i*i/(2*(d+.5))),u=f*e.beta.cdf(h,d+.5,r/2)+p*e.beta.cdf(h,d+1,r/2),l+=.5*u,d++;return a?1-l:l}}),e.extend(e.normal,{pdf:function(e,n,r){return t.exp(-.5*t.log(2*t.PI)-t.log(r)-t.pow(e-n,2)/(2*r*r))},cdf:function(n,r,i){return.5*(1+e.erf((n-r)/t.sqrt(2*i*i)))},inv:function(t,n,r){return-1.4142135623730951*r*e.erfcinv(2*t)+n},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},sample:function(t,n){return e.randn()*n+t},variance:function(e,t){return t*t}}),e.extend(e.pareto,{pdf:function(e,n,r){return e<n?0:r*t.pow(n,r)/t.pow(e,r+1)},cdf:function(e,n,r){return e<n?0:1-t.pow(n/e,r)},inv:function(e,n,r){return n/t.pow(1-e,1/r)},mean:function(e,n){if(!(n<=1))return n*t.pow(e,n)/(n-1)},median:function(e,n){return e*(n*t.SQRT2)},mode:function(e){return e},variance:function(e,n){if(!(n<=2))return e*e*n/(t.pow(n-1,2)*(n-2))}}),e.extend(e.studentt,{pdf:function(n,r){return r=r>1e100?1e100:r,1/(t.sqrt(r)*e.betafn(.5,r/2))*t.pow(1+n*n/r,-(r+1)/2)},cdf:function(n,r){var i=r/2;return e.ibeta((n+t.sqrt(n*n+r))/(2*t.sqrt(n*n+r)),i,i)},inv:function(n,r){var i=e.ibetainv(2*t.min(n,1-n),.5*r,.5);return i=t.sqrt(r*(1-i)/i),n>.5?i:-i},mean:function(e){return e>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(n){return e.randn()*t.sqrt(n/(2*e.randg(n/2)))},variance:function(e){return e>2?e/(e-2):e>1?1/0:void 0}}),e.extend(e.weibull,{pdf:function(e,n,r){return e<0||n<0||r<0?0:r/n*t.pow(e/n,r-1)*t.exp(-t.pow(e/n,r))},cdf:function(e,n,r){return e<0?0:1-t.exp(-t.pow(e/n,r))},inv:function(e,n,r){return n*t.pow(-t.log(1-e),1/r)},mean:function(t,n){return t*e.gammafn(1+1/n)},median:function(e,n){return e*t.pow(t.log(2),1/n)},mode:function(e,n){return n<=1?0:e*t.pow((n-1)/n,1/n)},sample:function(n,r){return n*t.pow(-t.log(e._random_fn()),1/r)},variance:function(n,r){return n*n*e.gammafn(1+2/r)-t.pow(e.weibull.mean(n,r),2)}}),e.extend(e.uniform,{pdf:function(e,t,n){return e<t||e>n?0:1/(n-t)},cdf:function(e,t,n){return e<t?0:e<n?(e-t)/(n-t):1},inv:function(e,t,n){return t+e*(n-t)},mean:function(e,t){return.5*(e+t)},median:function(t,n){return e.mean(t,n)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(t,n){return t/2+n/2+(n/2-t/2)*(2*e._random_fn()-1)},variance:function(e,n){return t.pow(n-e,2)/12}}),e.extend(e.binomial,{pdf:function(n,r,i){return 0===i||1===i?r*i===n?1:0:e.combination(r,n)*t.pow(i,n)*t.pow(1-i,r-n)},cdf:function(r,i,o){var s,a=1e-10;if(r<0)return 0;if(r>=i)return 1;if(o<0||o>1||i<=0)return NaN;r=t.floor(r);var l=o,u=r+1,c=i-r,h=u+c,d=t.exp(e.gammaln(h)-e.gammaln(c)-e.gammaln(u)+u*t.log(l)+c*t.log(1-l));return s=l<(u+1)/(h+2)?d*n(l,u,c,a):1-d*n(1-l,c,u,a),t.round(1/a*(1-s))/(1/a)}}),e.extend(e.negbin,{pdf:function(n,r,i){return n===n>>>0&&(n<0?0:e.combination(n+r-1,r-1)*t.pow(1-i,n)*t.pow(i,r))},cdf:function(t,n,r){var i=0,o=0;if(t<0)return 0;for(;o<=t;o++)i+=e.negbin.pdf(o,n,r);return i}}),e.extend(e.hypgeom,{pdf:function(n,r,i,o){if(n!==n|0)return!1;if(n<0||n<i-(r-o))return 0;if(n>o||n>i)return 0;if(2*i>r)return 2*o>r?e.hypgeom.pdf(r-i-o+n,r,r-i,r-o):e.hypgeom.pdf(o-n,r,r-i,o);if(2*o>r)return e.hypgeom.pdf(i-n,r,i,r-o);if(i<o)return e.hypgeom.pdf(n,r,o,i);for(var s=1,a=0,l=0;l<n;l++){while(s>1&&a<o)s*=1-i/(r-a),a++;s*=(o-l)*(i-l)/((l+1)*(r-i-o+l+1))}for(;a<o;a++)s*=1-i/(r-a);return t.min(1,t.max(0,s))},cdf:function(n,r,i,o){if(n<0||n<i-(r-o))return 0;if(n>=o||n>=i)return 1;if(2*i>r)return 2*o>r?e.hypgeom.cdf(r-i-o+n,r,r-i,r-o):1-e.hypgeom.cdf(o-n-1,r,r-i,o);if(2*o>r)return 1-e.hypgeom.cdf(i-n-1,r,i,r-o);if(i<o)return e.hypgeom.cdf(n,r,o,i);for(var s=1,a=1,l=0,u=0;u<n;u++){while(s>1&&l<o){var c=1-i/(r-l);a*=c,s*=c,l++}a*=(o-u)*(i-u)/((u+1)*(r-i-o+u+1)),s+=a}for(;l<o;l++)s*=1-i/(r-l);return t.min(1,t.max(0,s))}}),e.extend(e.poisson,{pdf:function(n,r){return r<0||n%1!==0||n<0?0:t.pow(r,n)*t.exp(-r)/e.factorial(n)},cdf:function(t,n){var r=[],i=0;if(t<0)return 0;for(;i<=t;i++)r.push(e.poisson.pdf(i,n));return e.sum(r)},mean:function(e){return e},variance:function(e){return e},sampleSmall:function(n){var r=1,i=0,o=t.exp(-n);do{i++,r*=e._random_fn()}while(r>o);return i-1},sampleLarge:function(n){var r,i,o,s,a,l,u,c,h,d,f=n;s=t.sqrt(f),a=t.log(f),u=.931+2.53*s,l=.02483*u-.059,c=1.1239+1.1328/(u-3.4),h=.9277-3.6224/(u-2);while(1){if(i=t.random()-.5,o=t.random(),d=.5-t.abs(i),r=t.floor((2*l/d+u)*i+f+.43),d>=.07&&o<=h)return r;if(!(r<0||d<.013&&o>d)&&t.log(o)+t.log(c)-t.log(l/(d*d)+u)<=r*a-f-e.loggam(r+1))return r}},sample:function(e){return e<10?this.sampleSmall(e):this.sampleLarge(e)}}),e.extend(e.triangular,{pdf:function(e,t,n,r){return n<=t||r<t||r>n?NaN:e<t||e>n?0:e<r?2*(e-t)/((n-t)*(r-t)):e===r?2/(n-t):2*(n-e)/((n-t)*(n-r))},cdf:function(e,n,r,i){return r<=n||i<n||i>r?NaN:e<=n?0:e>=r?1:e<=i?t.pow(e-n,2)/((r-n)*(i-n)):1-t.pow(r-e,2)/((r-n)*(r-i))},inv:function(e,n,r,i){return r<=n||i<n||i>r?NaN:e<=(i-n)/(r-n)?n+(r-n)*t.sqrt(e*((i-n)/(r-n))):n+(r-n)*(1-t.sqrt((1-e)*(1-(i-n)/(r-n))))},mean:function(e,t,n){return(e+t+n)/3},median:function(e,n,r){return r<=(e+n)/2?n-t.sqrt((n-e)*(n-r))/t.sqrt(2):r>(e+n)/2?e+t.sqrt((n-e)*(r-e))/t.sqrt(2):void 0},mode:function(e,t,n){return n},sample:function(n,r,i){var o=e._random_fn();return o<(i-n)/(r-n)?n+t.sqrt(o*(r-n)*(i-n)):r-t.sqrt((1-o)*(r-n)*(r-i))},variance:function(e,t,n){return(e*e+t*t+n*n-e*t-e*n-t*n)/18}}),e.extend(e.arcsine,{pdf:function(e,n,r){return r<=n?NaN:e<=n||e>=r?0:2/t.PI*t.pow(t.pow(r-n,2)-t.pow(2*e-n-r,2),-.5)},cdf:function(e,n,r){return e<n?0:e<r?2/t.PI*t.asin(t.sqrt((e-n)/(r-n))):1},inv:function(e,n,r){return n+(.5-.5*t.cos(t.PI*e))*(r-n)},mean:function(e,t){return t<=e?NaN:(e+t)/2},median:function(e,t){return t<=e?NaN:(e+t)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(n,r){return(n+r)/2+(r-n)/2*t.sin(2*t.PI*e.uniform.sample(0,1))},variance:function(e,n){return n<=e?NaN:t.pow(n-e,2)/8}}),e.extend(e.laplace,{pdf:function(e,n,r){return r<=0?0:t.exp(-t.abs(e-n)/r)/(2*r)},cdf:function(e,n,r){return r<=0?0:e<n?.5*t.exp((e-n)/r):1-.5*t.exp(-(e-n)/r)},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},variance:function(e,t){return 2*t*t},sample:function(n,i){var o=e._random_fn()-.5;return n-i*r(o)*t.log(1-2*t.abs(o))}}),e.extend(e.tukey,{cdf:function(n,r,o){var s=1,a=r,l=16,u=8,c=-30,h=1e-14,d=100,f=800,p=5e3,m=25e3,g=1,v=.5,y=.25,b=.125,w=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],_=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(n<=0)return 0;if(o<2||s<1||a<2)return NaN;if(!Number.isFinite(n))return 1;if(o>m)return i(n,s,a);var E,S=.5*o,T=S*t.log(o)-o*t.log(2)-e.gammaln(S),M=S-1,C=.25*o;E=o<=d?g:o<=f?v:o<=p?y:b,T+=t.log(E);for(var R=0,x=1;x<=50;x++){for(var A=0,N=(2*x-1)*E,L=1;L<=l;L++){var k,O,I;if(u<L?(k=L-u-1,O=T+M*t.log(N+w[k]*E)-(w[k]*E+N)*C):(k=L-1,O=T+M*t.log(N-w[k]*E)+(w[k]*E-N)*C),O>=c){I=u<L?n*t.sqrt(.5*(w[k]*E+N)):n*t.sqrt(.5*(-w[k]*E+N));var P=i(I,s,a),D=P*_[k]*t.exp(O);A+=D}}if(x*E>=1&&A<=h)break;R+=A}if(A>h)throw new Error("tukey.cdf failed to converge");return R>1&&(R=1),R},inv:function(n,r,i){var s=1,a=r,l=1e-4,u=50;if(i<2||s<1||a<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var c,h=o(n,a,i),d=e.tukey.cdf(h,r,i)-n;c=d>0?t.max(0,h-1):h+1;for(var f,p=e.tukey.cdf(c,r,i)-n,m=1;m<u;m++){f=c-p*(c-h)/(p-d),d=p,h=c,f<0&&(f=0,p=-n),p=e.tukey.cdf(f,r,i)-n,c=f;var g=t.abs(c-h);if(g<l)return f}throw new Error("tukey.inv failed to converge")}})}(e,Math),function(e,t){var n=Array.prototype.push,r=e.utils.isArray;function i(t){return r(t)||t instanceof e}e.extend({add:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.map(t,(function(e,t,r){return e+n[t][r]}))):e.map(t,(function(e){return e+n}))},subtract:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.map(t,(function(e,t,r){return e-n[t][r]||0}))):e.map(t,(function(e){return e-n}))},divide:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.multiply(t,e.inv(n))):e.map(t,(function(e){return e/n}))},multiply:function(t,n){var r,o,s,a,l,u,c,h;if(void 0===t.length&&void 0===n.length)return t*n;if(l=t.length,u=t[0].length,c=e.zeros(l,s=i(n)?n[0].length:u),h=0,i(n)){for(;h<s;h++)for(r=0;r<l;r++){for(a=0,o=0;o<u;o++)a+=t[r][o]*n[o][h];c[r][h]=a}return 1===l&&1===h?c[0][0]:c}return e.map(t,(function(e){return e*n}))},outer:function(t,n){return e.multiply(t.map((function(e){return[e]})),[n])},dot:function(t,n){i(t[0])||(t=[t]),i(n[0])||(n=[n]);for(var r,o,s=1===t[0].length&&1!==t.length?e.transpose(t):t,a=1===n[0].length&&1!==n.length?e.transpose(n):n,l=[],u=0,c=s.length,h=s[0].length;u<c;u++){for(l[u]=[],r=0,o=0;o<h;o++)r+=s[u][o]*a[u][o];l[u]=r}return 1===l.length?l[0]:l},pow:function(n,r){return e.map(n,(function(e){return t.pow(e,r)}))},exp:function(n){return e.map(n,(function(e){return t.exp(e)}))},log:function(n){return e.map(n,(function(e){return t.log(e)}))},abs:function(n){return e.map(n,(function(e){return t.abs(e)}))},norm:function(e,n){var r=0,o=0;for(isNaN(n)&&(n=2),i(e[0])&&(e=e[0]);o<e.length;o++)r+=t.pow(t.abs(e[o]),n);return t.pow(r,1/n)},angle:function(n,r){return t.acos(e.dot(n,r)/(e.norm(n)*e.norm(r)))},aug:function(e,t){var r,i=[];for(r=0;r<e.length;r++)i.push(e[r].slice());for(r=0;r<i.length;r++)n.apply(i[r],t[r]);return i},inv:function(t){for(var n,r=t.length,i=t[0].length,o=e.identity(r,i),s=e.gauss_jordan(t,o),a=[],l=0;l<r;l++)for(a[l]=[],n=i;n<s[0].length;n++)a[l][n-i]=s[l][n];return a},det:function e(t){if(2===t.length)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(var n=0,r=0;r<t.length;r++){for(var i=[],o=1;o<t.length;o++){i[o-1]=[];for(var s=0;s<t.length;s++)s<r?i[o-1][s]=t[o][s]:s>r&&(i[o-1][s-1]=t[o][s])}var a=r%2?-1:1;n+=e(i)*t[0][r]*a}return n},gauss_elimination:function(n,r){var i,o,s,a,l=0,u=0,c=n.length,h=n[0].length,d=1,f=0,p=[];for(n=e.aug(n,r),i=n[0].length,l=0;l<c;l++){for(o=n[l][l],u=l,a=l+1;a<h;a++)o<t.abs(n[a][l])&&(o=n[a][l],u=a);if(u!=l)for(a=0;a<i;a++)s=n[l][a],n[l][a]=n[u][a],n[u][a]=s;for(u=l+1;u<c;u++)for(d=n[u][l]/n[l][l],a=l;a<i;a++)n[u][a]=n[u][a]-d*n[l][a]}for(l=c-1;l>=0;l--){for(f=0,u=l+1;u<=c-1;u++)f+=p[u]*n[l][u];p[l]=(n[l][i-1]-f)/n[l][l]}return p},gauss_jordan:function(n,r){var i,o,s,a=e.aug(n,r),l=a.length,u=a[0].length,c=0;for(o=0;o<l;o++){var h=o;for(s=o+1;s<l;s++)t.abs(a[s][o])>t.abs(a[h][o])&&(h=s);var d=a[o];for(a[o]=a[h],a[h]=d,s=o+1;s<l;s++)for(c=a[s][o]/a[o][o],i=o;i<u;i++)a[s][i]-=a[o][i]*c}for(o=l-1;o>=0;o--){for(c=a[o][o],s=0;s<o;s++)for(i=u-1;i>o-1;i--)a[s][i]-=a[o][i]*a[s][o]/c;for(a[o][o]/=c,i=l;i<u;i++)a[o][i]/=c}return a},triaUpSolve:function(t,n){var r,i=t[0].length,o=e.zeros(1,i)[0],s=!1;return void 0!=n[0].length&&(n=n.map((function(e){return e[0]})),s=!0),e.arange(i-1,-1,-1).forEach((function(s){r=e.arange(s+1,i).map((function(e){return o[e]*t[s][e]})),o[s]=(n[s]-e.sum(r))/t[s][s]})),s?o.map((function(e){return[e]})):o},triaLowSolve:function(t,n){var r,i=t[0].length,o=e.zeros(1,i)[0],s=!1;return void 0!=n[0].length&&(n=n.map((function(e){return e[0]})),s=!0),e.arange(i).forEach((function(i){r=e.arange(i).map((function(e){return t[i][e]*o[e]})),o[i]=(n[i]-e.sum(r))/t[i][i]})),s?o.map((function(e){return[e]})):o},lu:function(t){var n,r=t.length,i=e.identity(r),o=e.zeros(t.length,t[0].length);return e.arange(r).forEach((function(e){o[0][e]=t[0][e]})),e.arange(1,r).forEach((function(s){e.arange(s).forEach((function(r){n=e.arange(r).map((function(e){return i[s][e]*o[e][r]})),i[s][r]=(t[s][r]-e.sum(n))/o[r][r]})),e.arange(s,r).forEach((function(r){n=e.arange(s).map((function(e){return i[s][e]*o[e][r]})),o[s][r]=t[n.length][r]-e.sum(n)}))})),[i,o]},cholesky:function(n){var r,i=n.length,o=e.zeros(n.length,n[0].length);return e.arange(i).forEach((function(s){r=e.arange(s).map((function(e){return t.pow(o[s][e],2)})),o[s][s]=t.sqrt(n[s][s]-e.sum(r)),e.arange(s+1,i).forEach((function(t){r=e.arange(s).map((function(e){return o[s][e]*o[t][e]})),o[t][s]=(n[s][t]-e.sum(r))/o[s][s]}))})),o},gauss_jacobi:function(n,r,i,o){for(var s,a,l,u,c=0,h=0,d=n.length,f=[],p=[],m=[];c<d;c++)for(f[c]=[],p[c]=[],m[c]=[],h=0;h<d;h++)c>h?(f[c][h]=n[c][h],p[c][h]=m[c][h]=0):c<h?(p[c][h]=n[c][h],f[c][h]=m[c][h]=0):(m[c][h]=n[c][h],f[c][h]=p[c][h]=0);l=e.multiply(e.multiply(e.inv(m),e.add(f,p)),-1),a=e.multiply(e.inv(m),r),s=i,u=e.add(e.multiply(l,i),a),c=2;while(t.abs(e.norm(e.subtract(u,s)))>o)s=u,u=e.add(e.multiply(l,s),a),c++;return u},gauss_seidel:function(n,r,i,o){for(var s,a,l,u,c,h=0,d=n.length,f=[],p=[],m=[];h<d;h++)for(f[h]=[],p[h]=[],m[h]=[],s=0;s<d;s++)h>s?(f[h][s]=n[h][s],p[h][s]=m[h][s]=0):h<s?(p[h][s]=n[h][s],f[h][s]=m[h][s]=0):(m[h][s]=n[h][s],f[h][s]=p[h][s]=0);u=e.multiply(e.multiply(e.inv(e.add(m,f)),p),-1),l=e.multiply(e.inv(e.add(m,f)),r),a=i,c=e.add(e.multiply(u,i),l),h=2;while(t.abs(e.norm(e.subtract(c,a)))>o)a=c,c=e.add(e.multiply(u,a),l),h+=1;return c},SOR:function(n,r,i,o,s){for(var a,l,u,c,h,d=0,f=n.length,p=[],m=[],g=[];d<f;d++)for(p[d]=[],m[d]=[],g[d]=[],a=0;a<f;a++)d>a?(p[d][a]=n[d][a],m[d][a]=g[d][a]=0):d<a?(m[d][a]=n[d][a],p[d][a]=g[d][a]=0):(g[d][a]=n[d][a],p[d][a]=m[d][a]=0);c=e.multiply(e.inv(e.add(g,e.multiply(p,s))),e.subtract(e.multiply(g,1-s),e.multiply(m,s))),u=e.multiply(e.multiply(e.inv(e.add(g,e.multiply(p,s))),r),s),l=i,h=e.add(e.multiply(c,i),u),d=2;while(t.abs(e.norm(e.subtract(h,l)))>o)l=h,h=e.add(e.multiply(c,l),u),d++;return h},householder:function(n){for(var r,i,o,s,a,l=n.length,u=n[0].length,c=0,h=[],d=[];c<l-1;c++){for(r=0,s=c+1;s<u;s++)r+=n[s][c]*n[s][c];for(a=n[c+1][c]>0?-1:1,r=a*t.sqrt(r),i=t.sqrt((r*r-n[c+1][c]*r)/2),h=e.zeros(l,1),h[c+1][0]=(n[c+1][c]-r)/(2*i),o=c+2;o<l;o++)h[o][0]=n[o][c]/(2*i);d=e.subtract(e.identity(l,u),e.multiply(e.multiply(h,e.transpose(h)),2)),n=e.multiply(d,e.multiply(n,d))}return n},QR:function(){var n=e.sum,r=e.arange;function i(i){var o,s,a,l=i.length,u=i[0].length,c=e.zeros(u,u);for(i=e.copy(i),s=0;s<u;s++){for(c[s][s]=t.sqrt(n(r(l).map((function(e){return i[e][s]*i[e][s]})))),o=0;o<l;o++)i[o][s]=i[o][s]/c[s][s];for(a=s+1;a<u;a++)for(c[s][a]=n(r(l).map((function(e){return i[e][s]*i[e][a]}))),o=0;o<l;o++)i[o][a]=i[o][a]-i[o][s]*c[s][a]}return[i,c]}return i}(),lstsq:function(){function t(t){t=e.copy(t);var n=t.length,r=e.identity(n);return e.arange(n-1,-1,-1).forEach((function(n){e.sliceAssign(r,{row:n},e.divide(e.slice(r,{row:n}),t[n][n])),e.sliceAssign(t,{row:n},e.divide(e.slice(t,{row:n}),t[n][n])),e.arange(n).forEach((function(i){var o=e.multiply(t[i][n],-1),s=e.slice(t,{row:i}),a=e.multiply(e.slice(t,{row:n}),o);e.sliceAssign(t,{row:i},e.add(s,a));var l=e.slice(r,{row:i}),u=e.multiply(e.slice(r,{row:n}),o);e.sliceAssign(r,{row:i},e.add(l,u))}))})),r}function n(n,r){var i=!1;void 0===r[0].length&&(r=r.map((function(e){return[e]})),i=!0);var o=e.QR(n),s=o[0],a=o[1],l=n[0].length,u=e.slice(s,{col:{end:l}}),c=e.slice(a,{row:{end:l}}),h=t(c),d=e.transpose(u);void 0===d[0].length&&(d=[d]);var f=e.multiply(e.multiply(h,d),r);return void 0===f.length&&(f=[[f]]),i?f.map((function(e){return e[0]})):f}return n}(),jacobi:function(n){var r,i,o,s,a,l,u,c,h=1,d=n.length,f=e.identity(d,d),p=[];while(1===h){for(l=n[0][1],s=0,a=1,i=0;i<d;i++)for(o=0;o<d;o++)i!=o&&l<t.abs(n[i][o])&&(l=t.abs(n[i][o]),s=i,a=o);for(u=n[s][s]===n[a][a]?n[s][a]>0?t.PI/4:-t.PI/4:t.atan(2*n[s][a]/(n[s][s]-n[a][a]))/2,c=e.identity(d,d),c[s][s]=t.cos(u),c[s][a]=-t.sin(u),c[a][s]=t.sin(u),c[a][a]=t.cos(u),f=e.multiply(f,c),r=e.multiply(e.multiply(e.inv(c),n),c),n=r,h=0,i=1;i<d;i++)for(o=1;o<d;o++)i!=o&&t.abs(n[i][o])>.001&&(h=1)}for(i=0;i<d;i++)p.push(n[i][i]);return[f,p]},rungekutta:function(e,t,n,r,i,o){var s,a,l,u,c;if(2===o)while(r<=n)s=t*e(r,i),a=t*e(r+t,i+s),l=i+(s+a)/2,i=l,r+=t;if(4===o)while(r<=n)s=t*e(r,i),a=t*e(r+t/2,i+s/2),u=t*e(r+t/2,i+a/2),c=t*e(r+t,i+u),l=i+(s+2*a+2*u+c)/6,i=l,r+=t;return i},romberg:function(e,n,r,i){var o,s,a,l,u,c=0,h=(r-n)/2,d=[],f=[],p=[];while(c<i/2){for(u=e(n),a=n,l=0;a<=r;a+=h,l++)d[l]=a;for(o=d.length,a=1;a<o-1;a++)u+=(a%2!==0?4:2)*e(d[a]);u=h/3*(u+e(r)),p[c]=u,h/=2,c++}s=p.length,o=1;while(1!==s){for(a=0;a<s-1;a++)f[a]=(t.pow(4,o)*p[a+1]-p[a])/(t.pow(4,o)-1);s=f.length,p=f,f=[],o++}return p},richardson:function(e,n,r,i){function o(e,t){for(var n,r=0,i=e.length;r<i;r++)e[r]===t&&(n=r);return n}var s,a,l,u,c,h=t.abs(r-e[o(e,r)+1]),d=0,f=[],p=[];while(i>=h)s=o(e,r+i),a=o(e,r),f[d]=(n[s]-2*n[a]+n[2*a-s])/(i*i),i/=2,d++;u=f.length,l=1;while(1!=u){for(c=0;c<u-1;c++)p[c]=(t.pow(4,l)*f[c+1]-f[c])/(t.pow(4,l)-1);u=p.length,f=p,p=[],l++}return f},simpson:function(e,t,n,r){for(var i,o=(n-t)/r,s=e(t),a=[],l=t,u=0,c=1;l<=n;l+=o,u++)a[u]=l;for(i=a.length;c<i-1;c++)s+=(c%2!==0?4:2)*e(a[c]);return o/3*(s+e(n))},hermite:function(e,t,n,r){for(var i,o=e.length,s=0,a=0,l=[],u=[],c=[],h=[];a<o;a++){for(l[a]=1,i=0;i<o;i++)a!=i&&(l[a]*=(r-e[i])/(e[a]-e[i]));for(u[a]=0,i=0;i<o;i++)a!=i&&(u[a]+=1/(e[a]-e[i]));c[a]=(1-2*(r-e[a])*u[a])*(l[a]*l[a]),h[a]=(r-e[a])*(l[a]*l[a]),s+=c[a]*t[a]+h[a]*n[a]}return s},lagrange:function(e,t,n){for(var r,i,o=0,s=0,a=e.length;s<a;s++){for(i=t[s],r=0;r<a;r++)s!=r&&(i*=(n-e[r])/(e[s]-e[r]));o+=i}return o},cubic_spline:function(t,n,r){for(var i,o=t.length,s=0,a=[],l=[],u=[],c=[],h=[],d=[],f=[];s<o-1;s++)h[s]=t[s+1]-t[s];for(u[0]=0,s=1;s<o-1;s++)u[s]=3/h[s]*(n[s+1]-n[s])-3/h[s-1]*(n[s]-n[s-1]);for(s=1;s<o-1;s++)a[s]=[],l[s]=[],a[s][s-1]=h[s-1],a[s][s]=2*(h[s-1]+h[s]),a[s][s+1]=h[s],l[s][0]=u[s];for(c=e.multiply(e.inv(a),l),i=0;i<o-1;i++)d[i]=(n[i+1]-n[i])/h[i]-h[i]*(c[i+1][0]+2*c[i][0])/3,f[i]=(c[i+1][0]-c[i][0])/(3*h[i]);for(i=0;i<o;i++)if(t[i]>r)break;return i-=1,n[i]+(r-t[i])*d[i]+e.sq(r-t[i])*c[i]+(r-t[i])*e.sq(r-t[i])*f[i]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(t){var n,r,i=t.length,o=t[0].length,s=0,a=[],l=[],u=[],c=[],h=[],d=[],f=[],p=[],m=[],g=[];for(s=0;s<i;s++)a[s]=e.sum(t[s])/o;for(s=0;s<o;s++)for(f[s]=[],n=0;n<i;n++)f[s][n]=t[n][s]-a[n];for(f=e.transpose(f),s=0;s<i;s++)for(p[s]=[],n=0;n<i;n++)p[s][n]=e.dot([f[s]],[f[n]])/(o-1);for(u=e.jacobi(p),m=u[0],l=u[1],g=e.transpose(m),s=0;s<l.length;s++)for(n=s;n<l.length;n++)l[s]<l[n]&&(r=l[s],l[s]=l[n],l[n]=r,c=g[s],g[s]=g[n],g[n]=c);for(d=e.transpose(f),s=0;s<i;s++)for(h[s]=[],n=0;n<d.length;n++)h[s][n]=e.dot([g[s]],[d[n]]);return[t,l,g,h]}}),function(t){for(var n=0;n<t.length;n++)(function(t){e.fn[t]=function(n,r){var i=this;return r?(setTimeout((function(){r.call(i,e.fn[t].call(i,n))}),15),this):"number"===typeof e[t](this,n)?e[t](this,n):e(e[t](this,n))}})(t[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(e,Math),function(e,t){var n=[].slice,r=e.utils.isNumber,i=e.utils.isArray;function o(e,n,r,i){if(e>1||r>1||e<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var o=(e*n+r*i)/(n+i),s=t.sqrt(o*(1-o)*(1/n+1/i));return(e-r)/s}e.extend({zscore:function(){var t=n.call(arguments);return r(t[1])?(t[0]-t[1])/t[2]:(t[0]-e.mean(t[1]))/e.stdev(t[1],t[2])},ztest:function(){var r,o=n.call(arguments);return i(o[1])?(r=e.zscore(o[0],o[1],o[3]),1===o[2]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1)):o.length>2?(r=e.zscore(o[0],o[1],o[2]),1===o[3]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1)):(r=o[0],1===o[1]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1))}}),e.extend(e.fn,{zscore:function(e,t){return(e-this.mean())/this.stdev(t)},ztest:function(n,r,i){var o=t.abs(this.zscore(n,i));return 1===r?e.normal.cdf(-o,0,1):2*e.normal.cdf(-o,0,1)}}),e.extend({tscore:function(){var r=n.call(arguments);return 4===r.length?(r[0]-r[1])/(r[2]/t.sqrt(r[3])):(r[0]-e.mean(r[1]))/(e.stdev(r[1],!0)/t.sqrt(r[1].length))},ttest:function(){var i,o=n.call(arguments);return 5===o.length?(i=t.abs(e.tscore(o[0],o[1],o[2],o[3])),1===o[4]?e.studentt.cdf(-i,o[3]-1):2*e.studentt.cdf(-i,o[3]-1)):r(o[1])?(i=t.abs(o[0]),1==o[2]?e.studentt.cdf(-i,o[1]-1):2*e.studentt.cdf(-i,o[1]-1)):(i=t.abs(e.tscore(o[0],o[1])),1==o[2]?e.studentt.cdf(-i,o[1].length-1):2*e.studentt.cdf(-i,o[1].length-1))}}),e.extend(e.fn,{tscore:function(e){return(e-this.mean())/(this.stdev(!0)/t.sqrt(this.cols()))},ttest:function(n,r){return 1===r?1-e.studentt.cdf(t.abs(this.tscore(n)),this.cols()-1):2*e.studentt.cdf(-t.abs(this.tscore(n)),this.cols()-1)}}),e.extend({anovafscore:function(){var r,i,o,s,a,l,u,c,h=n.call(arguments);if(1===h.length){for(a=new Array(h[0].length),u=0;u<h[0].length;u++)a[u]=h[0][u];h=a}for(i=new Array,u=0;u<h.length;u++)i=i.concat(h[u]);for(o=e.mean(i),r=0,u=0;u<h.length;u++)r+=h[u].length*t.pow(e.mean(h[u])-o,2);for(r/=h.length-1,l=0,u=0;u<h.length;u++)for(s=e.mean(h[u]),c=0;c<h[u].length;c++)l+=t.pow(h[u][c]-s,2);return l/=i.length-h.length,r/l},anovaftest:function(){var t,i,o,s,a=n.call(arguments);if(r(a[0]))return 1-e.centralF.cdf(a[0],a[1],a[2]);var l=e.anovafscore(a);for(t=a.length-1,o=0,s=0;s<a.length;s++)o+=a[s].length;return i=o-t-1,1-e.centralF.cdf(l,t,i)},ftest:function(t,n,r){return 1-e.centralF.cdf(t,n,r)}}),e.extend(e.fn,{anovafscore:function(){return e.anovafscore(this.toArray())},anovaftes:function(){var t,n=0;for(t=0;t<this.length;t++)n+=this[t].length;return e.ftest(this.anovafscore(),this.length-1,n-this.length)}}),e.extend({qscore:function(){var i,o,s,a,l,u=n.call(arguments);return r(u[0])?(i=u[0],o=u[1],s=u[2],a=u[3],l=u[4]):(i=e.mean(u[0]),o=e.mean(u[1]),s=u[0].length,a=u[1].length,l=u[2]),t.abs(i-o)/(l*t.sqrt((1/s+1/a)/2))},qtest:function(){var t,r=n.call(arguments);3===r.length?(t=r[0],r=r.slice(1)):7===r.length?(t=e.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(t=e.qscore(r[0],r[1],r[2]),r=r.slice(3));var i=r[0],o=r[1];return 1-e.tukey.cdf(t,o,i-o)},tukeyhsd:function(t){for(var n=e.pooledstdev(t),r=t.map((function(t){return e.mean(t)})),i=t.reduce((function(e,t){return e+t.length}),0),o=[],s=0;s<t.length;++s)for(var a=s+1;a<t.length;++a){var l=e.qtest(r[s],r[a],t[s].length,t[a].length,n,i,t.length);o.push([[s,a],l])}return o}}),e.extend({normalci:function(){var r,i=n.call(arguments),o=new Array(2);return r=4===i.length?t.abs(e.normal.inv(i[1]/2,0,1)*i[2]/t.sqrt(i[3])):t.abs(e.normal.inv(i[1]/2,0,1)*e.stdev(i[2])/t.sqrt(i[2].length)),o[0]=i[0]-r,o[1]=i[0]+r,o},tci:function(){var r,i=n.call(arguments),o=new Array(2);return r=4===i.length?t.abs(e.studentt.inv(i[1]/2,i[3]-1)*i[2]/t.sqrt(i[3])):t.abs(e.studentt.inv(i[1]/2,i[2].length-1)*e.stdev(i[2],!0)/t.sqrt(i[2].length)),o[0]=i[0]-r,o[1]=i[0]+r,o},significant:function(e,t){return e<t}}),e.extend(e.fn,{normalci:function(t,n){return e.normalci(t,n,this.toArray())},tci:function(t,n){return e.tci(t,n,this.toArray())}}),e.extend(e.fn,{oneSidedDifferenceOfProportions:function(t,n,r,i){var s=o(t,n,r,i);return e.ztest(s,1)},twoSidedDifferenceOfProportions:function(t,n,r,i){var s=o(t,n,r,i);return e.ztest(s,2)}})}(e,Math),e.models=function(){function t(t){var r=t[0].length,i=e.arange(r).map((function(i){var o=e.arange(r).filter((function(e){return e!==i}));return n(e.col(t,i).map((function(e){return e[0]})),e.col(t,o))}));return i}function n(t,n){var r=t.length,i=n[0].length-1,o=r-i-1,s=e.lstsq(n,t),a=e.multiply(n,s.map((function(e){return[e]}))).map((function(e){return e[0]})),l=e.subtract(t,a),u=e.mean(t),c=e.sum(a.map((function(e){return Math.pow(e-u,2)}))),h=e.sum(t.map((function(e,t){return Math.pow(e-a[t],2)}))),d=c+h,f=c/d;return{exog:n,endog:t,nobs:r,df_model:i,df_resid:o,coef:s,predict:a,resid:l,ybar:u,SST:d,SSE:c,SSR:h,R2:f}}function r(n){var r=t(n.exog),i=Math.sqrt(n.SSR/n.df_resid),o=r.map((function(e){var t=e.SST,n=e.R2;return i/Math.sqrt(t*(1-n))})),s=n.coef.map((function(e,t){return(e-0)/o[t]})),a=s.map((function(t){var r=e.studentt.cdf(t,n.df_resid);return 2*(r>.5?1-r:r)})),l=e.studentt.inv(.975,n.df_resid),u=n.coef.map((function(e,t){var n=l*o[t];return[e-n,e+n]}));return{se:o,t:s,p:a,sigmaHat:i,interval95:u}}function i(t){var n=t.R2/t.df_model/((1-t.R2)/t.df_resid),r=function(t,n,r){return e.beta.cdf(t/(r/n+t),n/2,r/2)},i=1-r(n,t.df_model,t.df_resid);return{F_statistic:n,pvalue:i}}function o(e,t){var o=n(e,t),s=r(o),a=i(o),l=1-(1-o.R2)*((o.nobs-1)/o.df_resid);return o.t=s,o.f=a,o.adjust_R2=l,o}return{ols:o}}(),e.extend({buildxmatrix:function(){for(var t=new Array(arguments.length),n=0;n<arguments.length;n++){var r=[1];t[n]=r.concat(arguments[n])}return e(t)},builddxmatrix:function(){for(var t=new Array(arguments[0].length),n=0;n<arguments[0].length;n++){var r=[1];t[n]=r.concat(arguments[0][n])}return e(t)},buildjxmatrix:function(t){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return e.builddxmatrix(n)},buildymatrix:function(t){return e(t).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(t,n){var r,i,o,s,a;if(t.cols()==n.rows()){if(n.rows()>1){for(s=[],r=0;r<t.rows();r++)for(s[r]=[],i=0;i<n.cols();i++){for(a=0,o=0;o<t.cols();o++)a+=t.toArray()[r][o]*n.toArray()[o][i];s[r][i]=a}return e(s)}for(s=[],r=0;r<t.rows();r++)for(s[r]=[],i=0;i<n.cols();i++){for(a=0,o=0;o<t.cols();o++)a+=t.toArray()[r][o]*n.toArray()[i];s[r][i]=a}return e(s)}},regress:function(t,n){var r=e.xtranspxinv(t),i=t.transpose(),o=e.matrixmult(e(r),i);return e.matrixmult(o,n)},regresst:function(t,n,r){var i=e.regress(t,n),o={anova:{}},s=e.jMatYBar(t,i);o.yBar=s;var a=n.mean();o.anova.residuals=e.residuals(n,s),o.anova.ssr=e.ssr(s,a),o.anova.msr=o.anova.ssr/(t[0].length-1),o.anova.sse=e.sse(n,s),o.anova.mse=o.anova.sse/(n.length-(t[0].length-1)-1),o.anova.sst=e.sst(n,a),o.anova.mst=o.anova.sst/(n.length-1),o.anova.r2=1-o.anova.sse/o.anova.sst,o.anova.r2<0&&(o.anova.r2=0),o.anova.fratio=o.anova.msr/o.anova.mse,o.anova.pvalue=e.anovaftest(o.anova.fratio,t[0].length-1,n.length-(t[0].length-1)-1),o.anova.rmse=Math.sqrt(o.anova.mse),o.anova.r2adj=1-o.anova.mse/o.anova.mst,o.anova.r2adj<0&&(o.anova.r2adj=0),o.stats=new Array(t[0].length);for(var l,u,c,h=e.xtranspxinv(t),d=0;d<i.length;d++)l=Math.sqrt(o.anova.mse*Math.abs(h[d][d])),u=Math.abs(i[d]/l),c=e.ttest(u,n.length-t[0].length-1,r),o.stats[d]=[i[d],l,u,c];return o.regress=i,o},xtranspx:function(t){return e.matrixmult(t.transpose(),t)},xtranspxinv:function(t){var n=e.matrixmult(t.transpose(),t),r=e.inv(n);return r},jMatYBar:function(t,n){var r=e.matrixmult(t,n);return new e(r)},residuals:function(t,n){return e.matrixsubtract(t,n)},ssr:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t,2);return n},sse:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t[r],2);return n},sst:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t,2);return n},matrixsubtract:function(t,n){for(var r=new Array(t.length),i=0;i<t.length;i++){r[i]=new Array(t[i].length);for(var o=0;o<t[i].length;o++)r[i][o]=t[i][o]-n[i][o]}return e(r)}}),e.jStat=e,e}))},49058:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return t}))},7757:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(e){return function(r,i,o,s){var a=t(r),l=n[e][t(r)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,r)}},i=["","","","","","","","","","","",""],o=e.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:0,doy:4}});return o}))},72509:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});return t}))},86892:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(e){return function(t,i,o,s){var a=n(t),l=r[e][n(t)];return 2===a&&(l=l[i?0:1]),l.replace(/%d/i,t)}},o=["","","","","","","","","","","",""],s=e.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}});return s}))},90365:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t}))},2114:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("ar-ps",{months:" _________ _ _ ".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).split("").reverse().join("").replace(/[](?![\u062a\u0643])/g,(function(e){return n[e]})).split("").reverse().join("").replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}});return r}))},11687:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:0,doy:6}});return r}))},241:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});return t}))},60798:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(e){return function(t,n,o,s){var a=r(t),l=i[e][r(t)];return 2===a&&(l=l[n?0:1]),l.replace(/%d/i,t)}},s=["","","","","","","","","","","",""],a=e.defineLocale("ar",{months:s,monthsShort:s,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}});return a}))},18710:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},n=e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(e){return/^(gndz|axam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gec":e<12?"shr":e<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(e){if(0===e)return e+"-nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}});return n}))},34928:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":"h"===r?n?"":"":e+" "+t(i[r],+e)}var r=e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:n,hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!==2&&e%10!==3||e%100===12||e%100===13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return r}))},55354:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t}))},11704:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});return t}))},14188:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t||""===t?e:""===t?e>=3?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<6?"":e<12?"":e<15?"":e<18?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},91345:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},23458:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||""===t&&e<5||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},4949:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+i(r[n],e)}function n(e){switch(r(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function r(e){return e>9?r(e%10):e}function i(e,t){return 2===t?o(e):e}function o(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}var s=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],a=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,l=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,u=/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,c=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],h=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],d=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i],f=e.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:d,fullWeekdaysParse:c,shortWeekdaysParse:h,minWeekdaysParse:d,monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:l,monthsShortStrictRegex:u,monthsParse:s,longMonthsParse:s,shortMonthsParse:s,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:n},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(e){var t=1===e?"a":"vet";return e+t},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}});return f}))},93110:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){switch(n){case"m":return t?"jedna minuta":r?"jednu minutu":"jedne minute"}}function n(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi",r;case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta",r;case"h":return"jedan sat";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati",r;case"dd":return r+=1===e?"dan":"dana",r;case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci",r;case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina",r}}var r=e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:n,m:t,mm:n,h:n,hh:n,d:"dan",dd:n,M:"mjesec",MM:n,y:"godinu",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return r}))},15861:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});return t}))},3203:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={standalone:"leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),format:"ledna_nora_bezna_dubna_kvtna_ervna_ervence_srpna_z_jna_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],i=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function o(e){return e>1&&e<5&&1!==~~(e/10)}function s(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pr sekund":"pr sekundami";case"ss":return t||r?i+(o(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(o(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(o(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(o(e)?"dny":"dn"):i+"dny";case"M":return t||r?"msc":"mscem";case"MM":return t||r?i+(o(e)?"msce":"msc"):i+"msci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(o(e)?"roky":"let"):i+"lety"}}var a=e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:s,ss:s,m:s,mm:s,h:s,hh:s,d:s,dd:s,M:s,MM:s,y:s,yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return a}))},45840:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}});return t}))},80365:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t=e,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?n=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(n=r[t]),e+n},week:{dow:1,doy:4}});return t}))},10678:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},7202:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}var n=e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},82068:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}var n=e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},26634:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}var n=e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},92999:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""],r=e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}});return r}))},31492:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}var n=e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return e?"string"===typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},isPM:function(e){return""===(e+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,n){var r=this._calendarEl[e],i=n&&n.hours();return t(r)&&(r=r.apply(n)),r.replace("{}",i%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return n}))},51421:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:0,doy:4}});return t}))},83079:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}});return t}))},56238:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},37605:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},22318:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}});return t}))},58436:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:0,doy:6}});return t}))},79079:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},61237:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},56077:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});return t}))},80711:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return o}))},66715:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"});return o}))},75710:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}});return o}))},69369:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,o=e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"});return o}))},33836:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}var n=e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return n}))},34099:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return t}))},18824:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(e){return/  /.test(e)},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});return r}))},98432:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];function r(e,t,n,r){var o="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":o=r?"sekunnin":"sekuntia";break;case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":o=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta";break}return o=i(e,r)+" "+o,o}function i(e,r){return e<10?r?n[e]:t[e]:e}var o=e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},82694:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},46518:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},93574:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}});return t}))},6733:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});return t}))},27857:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,r=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,i=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i],o=e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:t,monthsShortStrictRegex:n,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});return o}))},28912:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),r=e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return r}))},81105:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],n=["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],r=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],i=["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],o=["Do","Lu","M","C","D","A","Sa"],s=e.defineLocale("ga",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s}))},65902:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],n=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],r=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],i=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],o=["D","Lu","M","Ci","Ar","Ha","Sa"],s=e.defineLocale("gd",{months:t,monthsShort:n,monthsParseExact:!0,weekdays:r,weekdaysShort:i,weekdaysMin:o,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){var t=1===e?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}});return s}))},34118:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},89047:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={s:[" "," "],ss:[e+" ",e+" "],m:[" "," "],mm:[e+" ",e+" "],h:[" "," "],hh:[e+" ",e+" "],d:[" "," "],dd:[e+" ",e+" "],M:[" "," "],MM:[e+" ",e+" "],y:[" "," "],yy:[e+" ",e+" "]};return r?i[n][0]:i[n][1]}var n=e.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e,t){switch(t){case"D":return e+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>12?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<12?"":e<16?"":e<20?"":""}});return n}))},38536:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?i[n][0]:i[n][1]}var n=e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}});return n}))},2813:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},29758:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(e){return 2===e?"":e+" "},d:"",dd:function(e){return 2===e?"":e+" "},M:"",MM:function(e){return 2===e?"":e+" "},y:"",yy:function(e){return 2===e?"":e%10===0&&10!==e?e+" ":e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(e){return/^("| |)$/.test(e)},meridiem:function(e,t,n){return e<5?" ":e<10?"":e<12?n?'"':" ":e<18?n?'"':" ":""}});return t}))},26410:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i],i=[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],o=e.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:r,longMonthsParse:r,shortMonthsParse:i,monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return o}))},63919:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi",r;case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta",r;case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati",r;case"dd":return r+=1===e?"dan":"dana",r;case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci",r;case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina",r}}var n=e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},83534:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||t)?" msodperc":" msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}var i=e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return i}))},16489:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-":e+"-";default:return e}},week:{dow:1,doy:7}});return t}))},11920:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}});return t}))},98293:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e){return e%100===11||e%10!==1}function n(e,n,r,i){var o=e+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?o+(n||i?"sekndur":"sekndum"):o+"seknda";case"m":return n?"mnta":"mntu";case"mm":return t(e)?o+(n||i?"mntur":"mntum"):n?o+"mnta":o+"mntu";case"hh":return t(e)?o+(n||i?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?o+"dagar":o+(i?"daga":"dgum"):n?o+"dagur":o+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return t(e)?n?o+"mnuir":o+(i?"mnui":"mnuum"):n?o+"mnuur":o+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return t(e)?o+(n||i?"r":"rum"):o+(n||i?"r":"ri")}}var r=e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return r}))},55002:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},81440:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},76500:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(e,t){return""===t[1]?1:parseInt(t[1]||e,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"y":return 1===e?"":e+"";case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}});return t}))},34577:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}});return t}))},65389:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(|||||)(|)/,(function(e,t,n){return""===n?t+"":t+n+""}))},past:function(e){return/(||||)/.test(e)?e.replace(/(|)$/," ")://.test(e)?e.replace(/$/," "):e},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(e){return 0===e?e:1===e?e+"-":e<20||e<=100&&e%20===0||e%100===0?"-"+e:e+"-"},week:{dow:1,doy:7}});return t}))},45699:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}});return n}))},80713:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}});return r}))},47760:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(e){return e+""},week:{dow:0,doy:6}});return r}))},71911:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""}});return t}))},70234:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={s:["end sanye","end sanyeyan"],ss:[e+" sanye",e+" sanyeyan"],m:["deqqeyek","deqqeyek"],mm:[e+" deqqe",e+" deqqeyan"],h:["saetek","saetek"],hh:[e+" saet",e+" saetan"],d:["rojek","rojek"],dd:[e+" roj",e+" rojan"],w:["hefteyek","hefteyek"],ww:[e+" hefte",e+" hefteyan"],M:["mehek","mehek"],MM:[e+" meh",e+" mehan"],y:["salek","salek"],yy:[e+" sal",e+" salan"]};return t?i[n][0]:i[n][1]}function n(e){e=""+e;var t=e.substring(e.length-1),n=e.length>1?e.substring(e.length-2):"";return 12==n||13==n||"2"!=t&&"3"!=t&&"50"!=n&&"70"!=t&&"80"!=t?"":"y"}var r=e.defineLocale("ku-kmr",{months:"Rbendan_Sibat_Adar_Nsan_Gulan_Hezran_Trmeh_Tebax_lon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"Rb_Sib_Ada_Ns_Gul_Hez_Tr_Teb_lo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yekem_Duem_Sem_arem_Pncem_n_em".split("_"),weekdaysShort:"Yek_Du_S_ar_Pn_n_em".split("_"),weekdaysMin:"Ye_Du_S_a_P_n_e".split("_"),meridiem:function(e,t,n){return e<12?n?"bn":"BN":n?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[ro di saet] LT [de]",nextDay:"[Sib di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a bor di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"ber %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,w:t,ww:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(?:y||\.)/,ordinal:function(e,t){var r=t.toLowerCase();return r.includes("w")||r.includes("m")?e+".":e+n(e)},week:{dow:1,doy:4}});return r}))},73697:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[" ","","","","","","","",""," "," "," "],i=e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return//.test(e)},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]})).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"")},week:{dow:6,doy:12}});return i}))},17781:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}});return n}))},85835:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"a "+e:"an "+e}function r(e){var t=e.substr(0,e.indexOf(" "));return i(t)?"viru "+e:"virun "+e}function i(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10,n=e/10;return i(0===t?n:t)}if(e<1e4){while(e>=10)e/=10;return i(e)}return e/=1e3,i(e)}var o=e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:n,past:r,s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Mint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},11344:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(e){return""+e}});return t}))},15041:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"}function r(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function i(e){return e%10===0||e>10&&e<20}function o(e){return t[e].split("_")}function s(e,t,n,s){var a=e+" ";return 1===e?a+r(e,t,n[0],s):t?a+(i(e)?o(n)[1]:o(n)[0]):s?a+o(n)[1]:a+(i(e)?o(n)[1]:o(n)[2])}var a=e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:n,ss:s,m:r,mm:s,h:r,hh:s,d:r,dd:s,M:r,MM:s,y:r,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});return a}))},96223:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10===1&&t%100!==11?e[2]:e[3]:t%10===1&&t%100!==11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}function o(e,t){return t?"daas sekundes":"dam sekundm"}var s=e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:o,ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},27963:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}},n=e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},98391:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},28953:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-":0===n?e+"-":n>10&&n<20?e+"-":1===t?e+"-":2===t?e+"-":7===t||8===t?e+"-":e+"-"},week:{dow:1,doy:7}});return t}))},93420:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(e,t){return 12===e&&(e=0),""===t&&e>=4||" "===t||""===t?e+12:e},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}});return t}))},23510:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){switch(n){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}var n=e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}});return n}))},53858:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d ";break}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d ";break}return i.replace(/%d/i,e)}var i=e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t?e:""===t||""===t||""===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"":e<12?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return i}))},62668:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t}))},21745:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});return t}))},74724:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},5831:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}});return r}))},17753:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"n time",hh:"%d timer",d:"n dag",dd:"%d dager",w:"n uke",ww:"%d uker",M:"n mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},58924:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"":e<12?"":e<16?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});return r}))},78485:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,o=e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return o}))},35995:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,o=e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});return o}))},99901:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},79005:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});return t}))},55512:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return r}))},23901:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function o(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return r+(i(e)?"godziny":"godzin");case"ww":return r+(i(e)?"tygodnie":"tygodni");case"MM":return r+(i(e)?"miesice":"miesicy");case"yy":return r+(i(e)?"lata":"lat")}}var s=e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:o,M:"miesic",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},4110:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"});return t}))},85925:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},97394:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n){var r={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"},i=" ";return(e%100>=20||e>=100&&e%100===0)&&(i=" de "),e+i+r[n]}var n=e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:t,m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,w:"o sptmn",ww:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}});return n}))},62384:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={ss:n?"__":"__",mm:n?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":e+" "+t(i[r],+e)}var r=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],i=e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,w:"",ww:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/i,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}});return i}))},52410:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""],r=e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}});return r}))},7465:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},92141:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(e){return e+" "},meridiemParse:/ | |.|../,isPM:function(e){return".."===e||" "===e},meridiem:function(e,t,n){return e>11?n?"..":" ":n?"..":" "}});return t}))},66827:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var o=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"ss":return t||i?o+(r(e)?"sekundy":"seknd"):o+"sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?o+(r(e)?"minty":"mint"):o+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?o+(r(e)?"hodiny":"hodn"):o+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?o+(r(e)?"dni":"dn"):o+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?o+(r(e)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?o+(r(e)?"roky":"rokov"):o+"rokmi"}}var o=e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return o}))},23394:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund",i;case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami",i;case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami",i;case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi",i;case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci",i;case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti",i}}var n=e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},2005:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return t}))},82659:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],d:[" "," "],dd:["","",""],M:[" "," "],MM:["","",""],y:[" "," "],yy:["","",""]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10===1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var o,s=t.words[r];return 1===r.length?"y"===r&&n?" ":i||n?s[0]:s[1]:(o=t.correctGrammaticalCase(e,s),"yy"===r&&n&&""===o?e+" ":e+" "+o)}},n=e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},20428:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10===1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var o,s=t.words[r];return 1===r.length?"y"===r&&n?"jedna godina":i||n?s[0]:s[1]:(o=t.correctGrammaticalCase(e,s),"yy"===r&&n&&"godinu"===o?e+" godina":e+" "+o)}},n=e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});return n}))},86515:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});return t}))},61856:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?":e":1===t||2===t?":a":":e";return e+n},week:{dow:1,doy:4}});return t}))},67927:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});return t}))},77126:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e+""},preparse:function(e){return e.replace(/[]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/|||||/,meridiem:function(e,t,n){return e<2?" ":e<6?" ":e<10?" ":e<14?" ":e<18?" ":e<22?" ":" "},meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<2?e:e+12:""===t||""===t||""===t&&e>=10?e:e+12},week:{dow:0,doy:6}});return r}))},44666:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=10?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}});return t}))},27228:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},7344:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},n=e.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t?e<4?e:e+12:""===t?e:""===t?e>=11?e:e+12:""===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"":e<11?"":e<16?"":e<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e){var n=e%10,r=e>=100?100:null;return e+(t[e]||t[n]||t[r])},week:{dow:1,doy:7}});return n}))},58221:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t}))},59812:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"},n=e.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10,i=e%100-r,o=e>=100?100:null;return e+(t[r]||t[i]||t[o])}},week:{dow:1,doy:7}});return n}))},57466:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},67317:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq",t}function r(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret",t}function i(e,t,n,r){var i=o(e);switch(n){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function o(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,o="";return n>0&&(o+=t[n]+"vatlh"),r>0&&(o+=(""!==o?" ":"")+t[r]+"maH"),i>0&&(o+=(""!==o?" ":"")+t[i]),""===o?"pagh":o}var s=e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:n,past:r,s:"puS lup",ss:i,m:"wa tup",mm:i,h:"wa rep",hh:i,d:"wa jaj",dd:i,M:"wa jar",MM:i,y:"wa DIS",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});return s}))},78771:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},n=e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(e){return"s"===e||"S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var r=e%10,i=e%100-r,o=e>=100?100:null;return e+(t[r]||t[i]||t[o])}},week:{dow:1,doy:7}});return n}))},60823:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});function n(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}return t}))},12928:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}});return t}))},54752:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});return t}))},9099:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(e,t){return 12===e&&(e=0)," "===t||""===t||" "===t?e:" "===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}});return t}))},52193:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={ss:n?"__":"__",mm:n?"__":"__",hh:n?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===r?n?"":"":"h"===r?n?"":"":e+" "+t(i[r],+e)}function r(e,t){var n,r={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===e?r["nominative"].slice(1,7).concat(r["nominative"].slice(0,1)):e?(n=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative",r[n][e.day()]):r["nominative"]}function i(e){return function(){return e+""+(11===this.hours()?"":"")+"] LT"}}var o=e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:r,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:i("[ "),nextDay:i("[ "),lastDay:i("[ "),nextWeek:i("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return i("[] dddd [").call(this);case 1:case 2:case 4:return i("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:n,m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiemParse:/|||/,isPM:function(e){return/^(|)$/.test(e)},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}});return o}))},69978:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=["","","","","","","","","","","",""],n=["","","","","","",""],r=e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(//g,",")},postformat:function(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}});return r}))},63586:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}});return t}))},57314:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}});return t}))},43184:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});return t}))},68708:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n},week:{dow:1,doy:4}});return t}))},36129:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}});return t}))},90693:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(e){return e.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(e){return this.week()!==e.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});return t}))},45833:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1200?"":1200===r?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t}))},74364:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t}))},70657:function(e,t,n){(function(e,t){t(n(67656))})(0,(function(e){"use strict";
//! moment.js locale configuration
var t=e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t?e>=11?e:e+12:""===t||""===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}});return t}))},67656:function(e,t,n){e=n.nmd(e),function(t,n){e.exports=n()}(0,(function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function o(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(l(e,t))return!1;return!0}function c(e){return void 0===e}function h(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function f(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(e){return null==e._pf&&(e._pf=g()),e._pf}function y(e){var t=null,n=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=v(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function b(e){var t=m(NaN);return null!=e?p(v(t),e):v(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var w=i.momentProperties=[],_=!1;function E(e,t){var n,r,i,o=w.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=v(t)),c(t._locale)||(e._locale=t._locale),o>0)for(n=0;n<o;n++)r=w[n],i=t[r],c(i)||(e[r]=i);return e}function S(e){E(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,i.updateOffset(this),_=!1)}function T(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function M(e){!1===i.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return p((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,o,s,a=[],u=arguments.length;for(o=0;o<u;o++){if(r="","object"===typeof arguments[o]){for(s in r+="\n["+o+"] ",arguments[0])l(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[o];a.push(r)}M(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var R,x={};function A(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),x[e]||(M(t),x[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function L(e){var t,n;for(n in e)l(e,n)&&(t=e[n],N(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(e,t){var n,r=p({},e);for(n in t)l(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&a(e[n])&&(r[n]=p({},r[n]));return r}function O(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,R=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var I={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P(e,t,n){var r=this._calendar[e]||this._calendar["sameElse"];return N(r)?r.call(t,n):r}function D(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},B={};function j(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(B[e]=i),t&&(B[t[0]]=function(){return D(i.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function Y(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,n,r=e.match(F);for(t=0,n=r.length;t<n;t++)B[r[t]]?r[t]=B[r[t]]:r[t]=Y(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=N(r[i])?r[i].call(t,e):r[i];return o}}function W(e,t){return e.isValid()?(t=z(t,e.localeData()),U[t]=U[t]||V(t),U[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}H.lastIndex=0;while(n>=0&&H.test(e))e=e.replace(H,r),H.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function $(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(F).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var q="Invalid date";function K(){return this._invalidDate}var X="%d",J=/\d{1,2}/;function Q(e){return this._ordinal.replace("%d",e)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ee(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function te(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var ne={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function re(e){return"string"===typeof e?ne[e]||ne[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)l(e,n)&&(t=re(n),t&&(r[t]=e[n]));return r}var oe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function se(e){var t,n=[];for(t in e)l(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var ae,le=/\d/,ue=/\d\d/,ce=/\d{3}/,he=/\d{4}/,de=/[+-]?\d{6}/,fe=/\d\d?/,pe=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,ge=/\d{1,3}/,ve=/\d{1,4}/,ye=/[+-]?\d{1,6}/,be=/\d+/,we=/[+-]?\d+/,_e=/Z|[+-]\d\d:?\d\d/gi,Ee=/Z|[+-]\d\d(?::?\d\d)?/gi,Se=/[+-]?\d+(\.\d{1,3})?/,Te=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Me=/^[1-9]\d?/,Ce=/^([1-9]\d|\d)/;function Re(e,t,n){ae[e]=N(t)?t:function(e,r){return e&&n?n:t}}function xe(e,t){return l(ae,e)?ae[e](t._strict,t._locale):new RegExp(Ae(e))}function Ae(e){return Ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Le(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ke(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Le(t)),n}ae={};var Oe={};function Ie(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),h(t)&&(i=function(e,n){n[t]=ke(e)}),r=e.length,n=0;n<r;n++)Oe[e[n]]=i}function Pe(e,t){Ie(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function De(e,t,n){null!=t&&l(Oe,e)&&Oe[e](t,n._a,n,e)}function Fe(e){return e%4===0&&e%100!==0||e%400===0}var He=0,Ue=1,Be=2,je=3,Ye=4,Ve=5,We=6,ze=7,Ge=8;function $e(e){return Fe(e)?366:365}j("Y",0,0,(function(){var e=this.year();return e<=9999?D(e,4):"+"+e})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),Re("Y",we),Re("YY",fe,ue),Re("YYYY",ve,he),Re("YYYYY",ye,de),Re("YYYYYY",ye,de),Ie(["YYYYY","YYYYYY"],He),Ie("YYYY",(function(e,t){t[He]=2===e.length?i.parseTwoDigitYear(e):ke(e)})),Ie("YY",(function(e,t){t[He]=i.parseTwoDigitYear(e)})),Ie("Y",(function(e,t){t[He]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return ke(e)+(ke(e)>68?1900:2e3)};var qe,Ke=Je("FullYear",!0);function Xe(){return Fe(this.year())}function Je(e,t){return function(n){return null!=n?(Ze(this,e,n),i.updateOffset(this,t),this):Qe(this,e)}}function Qe(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Ze(e,t,n){var r,i,o,s,a;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}o=n,s=e.month(),a=e.date(),a=29!==a||1!==s||Fe(o)?a:28,i?r.setUTCFullYear(o,s,a):r.setFullYear(o,s,a)}}function et(e){return e=re(e),N(this[e])?this[e]():this}function tt(e,t){if("object"===typeof e){e=ie(e);var n,r=se(e),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(e=re(e),N(this[e]))return this[e](t);return this}function nt(e,t){return(e%t+t)%t}function rt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=nt(t,12);return e+=(t-n)/12,1===n?Fe(e)?29:28:31-n%7%2}qe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),j("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Re("M",fe,Me),Re("MM",fe,ue),Re("MMM",(function(e,t){return t.monthsShortRegex(e)})),Re("MMMM",(function(e,t){return t.monthsRegex(e)})),Ie(["M","MM"],(function(e,t){t[Ue]=ke(e)-1})),Ie(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Ue]=i:v(n).invalidMonth=e}));var it="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,at=Te,lt=Te;function ut(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months["standalone"]}function ct(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function ht(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=m([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=qe.call(this._shortMonthsParse,s),-1!==i?i:null):(i=qe.call(this._longMonthsParse,s),-1!==i?i:null):"MMM"===t?(i=qe.call(this._shortMonthsParse,s),-1!==i?i:(i=qe.call(this._longMonthsParse,s),-1!==i?i:null)):(i=qe.call(this._longMonthsParse,s),-1!==i?i:(i=qe.call(this._shortMonthsParse,s),-1!==i?i:null))}function dt(e,t,n){var r,i,o;if(this._monthsParseExact)return ht.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=m([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ft(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=ke(t);else if(t=e.localeData().monthsParse(t),!h(t))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,rt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function pt(e){return null!=e?(ft(this,e),i.updateOffset(this,!0),this):Qe(this,"Month")}function mt(){return rt(this.year(),this.month())}function gt(e){return this._monthsParseExact?(l(this,"_monthsRegex")||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=at),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(e){return this._monthsParseExact?(l(this,"_monthsRegex")||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=lt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r,i,o=[],s=[],a=[];for(t=0;t<12;t++)n=m([2e3,t]),r=Ne(this.monthsShort(n,"")),i=Ne(this.months(n,"")),o.push(r),s.push(i),a.push(i),a.push(r);o.sort(e),s.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function bt(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function wt(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _t(e,t,n){var r=7+t-n,i=(7+wt(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Et(e,t,n,r,i){var o,s,a=(7+n-r)%7,l=_t(e,r,i),u=1+7*(t-1)+a+l;return u<=0?(o=e-1,s=$e(o)+u):u>$e(e)?(o=e+1,s=u-$e(e)):(o=e,s=u),{year:o,dayOfYear:s}}function St(e,t,n){var r,i,o=_t(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?(i=e.year()-1,r=s+Tt(i,t,n)):s>Tt(e.year(),t,n)?(r=s-Tt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function Tt(e,t,n){var r=_t(e,t,n),i=_t(e+1,t,n);return($e(e)-r+i)/7}function Mt(e){return St(e,this._week.dow,this._week.doy).week}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),Re("w",fe,Me),Re("ww",fe,ue),Re("W",fe,Me),Re("WW",fe,ue),Pe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ke(e)}));var Ct={dow:0,doy:6};function Rt(){return this._week.dow}function xt(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=St(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Lt(e,t){return"string"!==typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"===typeof e?e:null):parseInt(e,10)}function kt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}j("d",0,"do","day"),j("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),j("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),j("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),Re("d",fe),Re("e",fe),Re("E",fe),Re("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Re("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Re("dddd",(function(e,t){return t.weekdaysRegex(e)})),Pe(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e})),Pe(["d","e","E"],(function(e,t,n,r){t[r]=ke(e)}));var It="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ft=Te,Ht=Te,Ut=Te;function Bt(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function jt(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Yt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Vt(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=m([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=qe.call(this._weekdaysParse,s),-1!==i?i:null):"ddd"===t?(i=qe.call(this._shortWeekdaysParse,s),-1!==i?i:null):(i=qe.call(this._minWeekdaysParse,s),-1!==i?i:null):"dddd"===t?(i=qe.call(this._weekdaysParse,s),-1!==i?i:(i=qe.call(this._shortWeekdaysParse,s),-1!==i?i:(i=qe.call(this._minWeekdaysParse,s),-1!==i?i:null))):"ddd"===t?(i=qe.call(this._shortWeekdaysParse,s),-1!==i?i:(i=qe.call(this._weekdaysParse,s),-1!==i?i:(i=qe.call(this._minWeekdaysParse,s),-1!==i?i:null))):(i=qe.call(this._minWeekdaysParse,s),-1!==i?i:(i=qe.call(this._weekdaysParse,s),-1!==i?i:(i=qe.call(this._shortWeekdaysParse,s),-1!==i?i:null)))}function Wt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Vt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=m([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function zt(e){if(!this.isValid())return null!=e?this:NaN;var t=Qe(this,"Day");return null!=e?(e=Lt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function $t(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=kt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function qt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ft),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ht),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Xt(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],l=[],u=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),r=Ne(this.weekdaysMin(n,"")),i=Ne(this.weekdaysShort(n,"")),o=Ne(this.weekdays(n,"")),s.push(r),a.push(i),l.push(o),u.push(r),u.push(i),u.push(o);s.sort(e),a.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Zt(){return this.hours()||24}function en(e,t){j(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function tn(e,t){return t._meridiemParse}function nn(e){return"p"===(e+"").toLowerCase().charAt(0)}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Qt),j("k",["kk",2],0,Zt),j("hmm",0,0,(function(){return""+Qt.apply(this)+D(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+Qt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+D(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)})),en("a",!0),en("A",!1),Re("a",tn),Re("A",tn),Re("H",fe,Ce),Re("h",fe,Me),Re("k",fe,Me),Re("HH",fe,ue),Re("hh",fe,ue),Re("kk",fe,ue),Re("hmm",pe),Re("hmmss",me),Re("Hmm",pe),Re("Hmmss",me),Ie(["H","HH"],je),Ie(["k","kk"],(function(e,t,n){var r=ke(e);t[je]=24===r?0:r})),Ie(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ie(["h","hh"],(function(e,t,n){t[je]=ke(e),v(n).bigHour=!0})),Ie("hmm",(function(e,t,n){var r=e.length-2;t[je]=ke(e.substr(0,r)),t[Ye]=ke(e.substr(r)),v(n).bigHour=!0})),Ie("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[je]=ke(e.substr(0,r)),t[Ye]=ke(e.substr(r,2)),t[Ve]=ke(e.substr(i)),v(n).bigHour=!0})),Ie("Hmm",(function(e,t,n){var r=e.length-2;t[je]=ke(e.substr(0,r)),t[Ye]=ke(e.substr(r))})),Ie("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[je]=ke(e.substr(0,r)),t[Ye]=ke(e.substr(r,2)),t[Ve]=ke(e.substr(i))}));var rn=/[ap]\.?m?\.?/i,on=Je("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var an,ln={calendar:I,longDateFormat:G,invalidDate:q,ordinal:X,dayOfMonthOrdinalParse:J,relativeTime:Z,months:it,monthsShort:ot,week:Ct,weekdays:It,weekdaysMin:Dt,weekdaysShort:Pt,meridiemParse:rn},un={},cn={};function hn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function dn(e){return e?e.toLowerCase().replace("_","-"):e}function fn(e){var t,n,r,i,o=0;while(o<e.length){i=dn(e[o]).split("-"),t=i.length,n=dn(e[o+1]),n=n?n.split("-"):null;while(t>0){if(r=mn(i.slice(0,t).join("-")),r)return r;if(n&&n.length>=t&&hn(i,n)>=t-1)break;t--}o++}return an}function pn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function mn(t){var r=null;if(void 0===un[t]&&e&&e.exports&&pn(t))try{r=an._abbr,void 0,n(35358)("./"+t),gn(r)}catch(i){un[t]=null}return un[t]}function gn(e,t){var n;return e&&(n=c(t)?bn(e):vn(e,t),n?an=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),an._abbr}function vn(e,t){if(null!==t){var n,r=ln;if(t.abbr=e,null!=un[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(n=mn(t.parentLocale),null==n)return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new O(k(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),gn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,i=ln;null!=un[e]&&null!=un[e].parentLocale?un[e].set(k(un[e]._config,t)):(r=mn(e),null!=r&&(i=r._config),t=k(i,t),null==r&&(t.abbr=e),n=new O(t),n.parentLocale=un[e],un[e]=n),gn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===gn()&&gn(e)):null!=un[e]&&delete un[e]);return un[e]}function bn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return an;if(!s(e)){if(t=mn(e),t)return t;e=[e]}return fn(e)}function wn(){return R(un)}function _n(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[Ue]<0||n[Ue]>11?Ue:n[Be]<1||n[Be]>rt(n[He],n[Ue])?Be:n[je]<0||n[je]>24||24===n[je]&&(0!==n[Ye]||0!==n[Ve]||0!==n[We])?je:n[Ye]<0||n[Ye]>59?Ye:n[Ve]<0||n[Ve]>59?Ve:n[We]<0||n[We]>999?We:-1,v(e)._overflowDayOfYear&&(t<He||t>Be)&&(t=Be),v(e)._overflowWeeks&&-1===t&&(t=ze),v(e)._overflowWeekday&&-1===t&&(t=Ge),v(e).overflow=t),e}var En=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tn=/Z|[+-]\d\d(?::?\d\d)?/,Mn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Rn=/^\/?Date\((-?\d+)/i,xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,An={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,o,s,a=e._i,l=En.exec(a)||Sn.exec(a),u=Mn.length,c=Cn.length;if(l){for(v(e).iso=!0,t=0,n=u;t<n;t++)if(Mn[t][1].exec(l[1])){i=Mn[t][0],r=!1!==Mn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=c;t<n;t++)if(Cn[t][1].exec(l[3])){o=(l[2]||" ")+Cn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Tn.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Yn(e)}else e._isValid=!1}function Ln(e,t,n,r,i,o){var s=[kn(e),ot.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function kn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function On(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function In(e,t,n){if(e){var r=Pt.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return v(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function Pn(e,t,n){if(e)return An[e];if(t)return 0;var r=parseInt(n,10),i=r%100,o=(r-i)/100;return 60*o+i}function Dn(e){var t,n=xn.exec(On(e._i));if(n){if(t=Ln(n[4],n[3],n[2],n[5],n[6],n[7]),!In(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=wt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function Fn(e){var t=Rn.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Dn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Hn(e,t,n){return null!=e?e:null!=t?t:n}function Un(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Bn(e){var t,n,r,i,o,s=[];if(!e._d){for(r=Un(e),e._w&&null==e._a[Be]&&null==e._a[Ue]&&jn(e),null!=e._dayOfYear&&(o=Hn(e._a[He],r[He]),(e._dayOfYear>$e(o)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=wt(o,0,e._dayOfYear),e._a[Ue]=n.getUTCMonth(),e._a[Be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[je]&&0===e._a[Ye]&&0===e._a[Ve]&&0===e._a[We]&&(e._nextDay=!0,e._a[je]=0),e._d=(e._useUTC?wt:bt).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[je]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}function jn(e){var t,n,r,i,o,s,a,l,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,s=4,n=Hn(t.GG,e._a[He],St(Xn(),1,4).year),r=Hn(t.W,1),i=Hn(t.E,1),(i<1||i>7)&&(l=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,u=St(Xn(),o,s),n=Hn(t.gg,e._a[He],u.year),r=Hn(t.w,u.week),null!=t.d?(i=t.d,(i<0||i>6)&&(l=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(l=!0)):i=o),r<1||r>Tt(n,o,s)?v(e)._overflowWeeks=!0:null!=l?v(e)._overflowWeekday=!0:(a=Et(n,r,i,o,s),e._a[He]=a.year,e._dayOfYear=a.dayOfYear)}function Yn(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],v(e).empty=!0;var t,n,r,o,s,a,l,u=""+e._i,c=u.length,h=0;for(r=z(e._f,e._locale).match(F)||[],l=r.length,t=0;t<l;t++)o=r[t],n=(u.match(xe(o,e))||[])[0],n&&(s=u.substr(0,u.indexOf(n)),s.length>0&&v(e).unusedInput.push(s),u=u.slice(u.indexOf(n)+n.length),h+=n.length),B[o]?(n?v(e).empty=!1:v(e).unusedTokens.push(o),De(o,n,e)):e._strict&&!n&&v(e).unusedTokens.push(o);v(e).charsLeftOver=c-h,u.length>0&&v(e).unusedInput.push(u),e._a[je]<=12&&!0===v(e).bigHour&&e._a[je]>0&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[je]=Vn(e._locale,e._a[je],e._meridiem),a=v(e).era,null!==a&&(e._a[He]=e._locale.erasConvertYear(a,e._a[He])),Bn(e),_n(e)}else Dn(e);else Nn(e)}function Vn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Wn(e){var t,n,r,i,o,s,a=!1,l=e._f.length;if(0===l)return v(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)o=0,s=!1,t=E({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Yn(t),y(t)&&(s=!0),o+=v(t).charsLeftOver,o+=10*v(t).unusedTokens.length,v(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));p(e,n||t)}function zn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=f([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Bn(e)}}function Gn(e){var t=new S(_n($n(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function $n(e){var t=e._i,n=e._f;return e._locale=e._locale||bn(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),T(t)?new S(_n(t)):(d(t)?e._d=t:s(n)?Wn(e):n?Yn(e):qn(e),y(e)||(e._d=null),e))}function qn(e){var t=e._i;c(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Fn(e):s(t)?(e._a=f(t.slice(0),(function(e){return parseInt(e,10)})),Bn(e)):a(t)?zn(e):h(t)?e._d=new Date(t):i.createFromInputFallback(e)}function Kn(e,t,n,r,i){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Gn(o)}function Xn(e,t,n,r){return Kn(e,t,n,r,!1)}i.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Jn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),Qn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Xn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function Zn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Xn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function er(){var e=[].slice.call(arguments,0);return Zn("isBefore",e)}function tr(){var e=[].slice.call(arguments,0);return Zn("isAfter",e)}var nr=function(){return Date.now?Date.now():+new Date},rr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ir(e){var t,n,r=!1,i=rr.length;for(t in e)if(l(e,t)&&(-1===qe.call(rr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[rr[n]]){if(r)return!1;parseFloat(e[rr[n]])!==ke(e[rr[n]])&&(r=!0)}return!0}function or(){return this._isValid}function sr(){return Ar(NaN)}function ar(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=ir(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=bn(),this._bubble()}function lr(e){return e instanceof ar}function ur(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ke(e[r])!==ke(t[r]))&&s++;return s+o}function hr(e,t){j(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)}))}hr("Z",":"),hr("ZZ",""),Re("Z",Ee),Re("ZZ",Ee),Ie(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Ee,e)}));var dr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i,o=(t||"").match(e);return null===o?null:(n=o[o.length-1]||[],r=(n+"").match(dr)||["-",0,0],i=60*r[1]+ke(r[2]),0===i?0:"+"===r[0]?i:-i)}function pr(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(T(e)||d(e)?e.valueOf():Xn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Xn(e).local()}function mr(e){return-Math.round(e._d.getTimezoneOffset())}function gr(e,t,n){var r,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(e=fr(Ee,e),null===e)return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=mr(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!t||this._changeInProgress?Ir(this,Ar(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:mr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function br(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(mr(this),"m")),this}function wr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(_e,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function _r(e){return!!this.isValid()&&(e=e?Xn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Er(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return E(t,this),t=$n(t),t._a?(e=t._isUTC?m(t._a):Xn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Tr(){return!!this.isValid()&&!this._isUTC}function Mr(){return!!this.isValid()&&this._isUTC}function Cr(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Rr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ar(e,t){var n,r,i,o=e,s=null;return lr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:h(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=Rr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:ke(s[Be])*n,h:ke(s[je])*n,m:ke(s[Ye])*n,s:ke(s[Ve])*n,ms:ke(ur(1e3*s[We]))*n}):(s=xr.exec(e))?(n="-"===s[1]?-1:1,o={y:Nr(s[2],n),M:Nr(s[3],n),w:Nr(s[4],n),d:Nr(s[5],n),h:Nr(s[6],n),m:Nr(s[7],n),s:Nr(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=kr(Xn(o.from),Xn(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new ar(o),lr(e)&&l(e,"_locale")&&(r._locale=e._locale),lr(e)&&l(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Lr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function kr(e,t){var n;return e.isValid()&&t.isValid()?(t=pr(t,e),e.isBefore(t)?n=Lr(e,t):(n=Lr(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Or(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),i=Ar(n,r),Ir(this,i,e),this}}function Ir(e,t,n,r){var o=t._milliseconds,s=ur(t._days),a=ur(t._months);e.isValid()&&(r=null==r||r,a&&ft(e,Qe(e,"Month")+a*n),s&&Ze(e,"Date",Qe(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&i.updateOffset(e,s||a))}Ar.fn=ar.prototype,Ar.invalid=sr;var Pr=Or(1,"add"),Dr=Or(-1,"subtract");function Fr(e){return"string"===typeof e||e instanceof String}function Hr(e){return T(e)||d(e)||Fr(e)||h(e)||Br(e)||Ur(e)||null===e||void 0===e}function Ur(e){var t,n,r=a(e)&&!u(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s=o.length;for(t=0;t<s;t+=1)n=o[t],i=i||l(e,n);return r&&i}function Br(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!h(t)&&Fr(e)})).length),t&&n}function jr(e){var t,n,r=a(e)&&!u(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||l(e,n);return r&&i}function Yr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Vr(e,t){1===arguments.length&&(arguments[0]?Hr(arguments[0])?(e=arguments[0],t=void 0):jr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Xn(),r=pr(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",s=t&&(N(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Xn(n)))}function Wr(){return new S(this)}function zr(e,t){var n=T(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&(t=re(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=T(e)?e:Xn(e);return!(!this.isValid()||!n.isValid())&&(t=re(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function $r(e,t,n,r){var i=T(e)?e:Xn(e),o=T(t)?t:Xn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(r=r||"()",("("===r[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))}function qr(e,t){var n,r=T(e)?e:Xn(e);return!(!this.isValid()||!r.isValid())&&(t=re(t)||"millisecond","millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Xr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(r=pr(e,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t),t){case"year":o=Qr(this,r)/12;break;case"month":o=Qr(this,r);break;case"quarter":o=Qr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:Le(o)}function Qr(e,t){if(e.date()<t.date())return-Qr(t,e);var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function Zr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ei(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ti(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ni(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)}function ri(e,t){return this.isValid()&&(T(e)&&e.isValid()||Xn(e).isValid())?Ar({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.from(Xn(),e)}function oi(e,t){return this.isValid()&&(T(e)&&e.isValid()||Xn(e).isValid())?Ar({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function si(e){return this.to(Xn(),e)}function ai(e){var t;return void 0===e?this._locale._abbr:(t=bn(e),null!=t&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var li=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ui(){return this._locale}var ci=1e3,hi=60*ci,di=60*hi,fi=3506328*di;function pi(e,t){return(e%t+t)%t}function mi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function gi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function vi(e){var t,n;if(e=re(e),void 0===e||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:mi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pi(t+(this._isUTC?0:this.utcOffset()*hi),di);break;case"minute":t=this._d.valueOf(),t-=pi(t,hi);break;case"second":t=this._d.valueOf(),t-=pi(t,ci);break}return this._d.setTime(t),i.updateOffset(this,!0),this}function yi(e){var t,n;if(e=re(e),void 0===e||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?gi:mi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=di-pi(t+(this._isUTC?0:this.utcOffset()*hi),di)-1;break;case"minute":t=this._d.valueOf(),t+=hi-pi(t,hi)-1;break;case"second":t=this._d.valueOf(),t+=ci-pi(t,ci)-1;break}return this._d.setTime(t),i.updateOffset(this,!0),this}function bi(){return this._d.valueOf()-6e4*(this._offset||0)}function wi(){return Math.floor(this.valueOf()/1e3)}function _i(){return new Date(this.valueOf())}function Ei(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Si(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ti(){return this.isValid()?this.toISOString():null}function Mi(){return y(this)}function Ci(){return p({},v(this))}function Ri(){return v(this).overflow}function xi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ai(e,t){var n,r,o,s=this._eras||bn("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":o=i(s[n].since).startOf("day"),s[n].since=o.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=i(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf();break}}return s}function Ni(e,t,n){var r,i,o,s,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(o=l[r].name.toUpperCase(),s=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[r];break;case"NNNN":if(o===e)return l[r];break;case"NNNNN":if(a===e)return l[r];break}else if([o,s,a].indexOf(e)>=0)return l[r]}function Li(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n}function ki(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ii(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-i(o[e].since).year())*n+o[e].offset;return this.year()}function Di(e){return l(this,"_erasNameRegex")||Vi.call(this),e?this._erasNameRegex:this._erasRegex}function Fi(e){return l(this,"_erasAbbrRegex")||Vi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Hi(e){return l(this,"_erasNarrowRegex")||Vi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ui(e,t){return t.erasAbbrRegex(e)}function Bi(e,t){return t.erasNameRegex(e)}function ji(e,t){return t.erasNarrowRegex(e)}function Yi(e,t){return t._eraYearOrdinalRegex||be}function Vi(){var e,t,n,r,i,o=[],s=[],a=[],l=[],u=this.eras();for(e=0,t=u.length;e<t;++e)n=Ne(u[e].name),r=Ne(u[e].abbr),i=Ne(u[e].narrow),s.push(n),o.push(r),a.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function Wi(e,t){j(0,[e,e.length],0,t)}function zi(e){return Ji.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Ji.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function $i(){return Tt(this.year(),1,4)}function qi(){return Tt(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return Tt(this.year(),e.dow,e.doy)}function Xi(){var e=this.localeData()._week;return Tt(this.weekYear(),e.dow,e.doy)}function Ji(e,t,n,r,i){var o;return null==e?St(this,r,i).year:(o=Tt(e,r,i),t>o&&(t=o),Qi.call(this,e,t,n,r,i))}function Qi(e,t,n,r,i){var o=Et(e,t,n,r,i),s=wt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Zi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}j("N",0,0,"eraAbbr"),j("NN",0,0,"eraAbbr"),j("NNN",0,0,"eraAbbr"),j("NNNN",0,0,"eraName"),j("NNNNN",0,0,"eraNarrow"),j("y",["y",1],"yo","eraYear"),j("y",["yy",2],0,"eraYear"),j("y",["yyy",3],0,"eraYear"),j("y",["yyyy",4],0,"eraYear"),Re("N",Ui),Re("NN",Ui),Re("NNN",Ui),Re("NNNN",Bi),Re("NNNNN",ji),Ie(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?v(n).era=i:v(n).invalidEra=e})),Re("y",be),Re("yy",be),Re("yyy",be),Re("yyyy",be),Re("yo",Yi),Ie(["y","yy","yyy","yyyy"],He),Ie(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[He]=n._locale.eraYearOrdinalParse(e,i):t[He]=parseInt(e,10)})),j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Wi("gggg","weekYear"),Wi("ggggg","weekYear"),Wi("GGGG","isoWeekYear"),Wi("GGGGG","isoWeekYear"),Re("G",we),Re("g",we),Re("GG",fe,ue),Re("gg",fe,ue),Re("GGGG",ve,he),Re("gggg",ve,he),Re("GGGGG",ye,de),Re("ggggg",ye,de),Pe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ke(e)})),Pe(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),j("Q",0,"Qo","quarter"),Re("Q",le),Ie("Q",(function(e,t){t[Ue]=3*(ke(e)-1)})),j("D",["DD",2],"Do","date"),Re("D",fe,Me),Re("DD",fe,ue),Re("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ie(["D","DD"],Be),Ie("Do",(function(e,t){t[Be]=ke(e.match(fe)[0])}));var eo=Je("Date",!0);function to(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}j("DDD",["DDDD",3],"DDDo","dayOfYear"),Re("DDD",ge),Re("DDDD",ce),Ie(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ke(e)})),j("m",["mm",2],0,"minute"),Re("m",fe,Ce),Re("mm",fe,ue),Ie(["m","mm"],Ye);var no=Je("Minutes",!1);j("s",["ss",2],0,"second"),Re("s",fe,Ce),Re("ss",fe,ue),Ie(["s","ss"],Ve);var ro,io,oo=Je("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Re("S",ge,le),Re("SS",ge,ue),Re("SSS",ge,ce),ro="SSSS";ro.length<=9;ro+="S")Re(ro,be);function so(e,t){t[We]=ke(1e3*("0."+e))}for(ro="S";ro.length<=9;ro+="S")Ie(ro,so);function ao(){return this._isUTC?"UTC":""}function lo(){return this._isUTC?"Coordinated Universal Time":""}io=Je("Milliseconds",!1),j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var uo=S.prototype;function co(e){return Xn(1e3*e)}function ho(){return Xn.apply(null,arguments).parseZone()}function fo(e){return e}uo.add=Pr,uo.calendar=Vr,uo.clone=Wr,uo.diff=Jr,uo.endOf=yi,uo.format=ni,uo.from=ri,uo.fromNow=ii,uo.to=oi,uo.toNow=si,uo.get=et,uo.invalidAt=Ri,uo.isAfter=zr,uo.isBefore=Gr,uo.isBetween=$r,uo.isSame=qr,uo.isSameOrAfter=Kr,uo.isSameOrBefore=Xr,uo.isValid=Mi,uo.lang=li,uo.locale=ai,uo.localeData=ui,uo.max=Qn,uo.min=Jn,uo.parsingFlags=Ci,uo.set=tt,uo.startOf=vi,uo.subtract=Dr,uo.toArray=Ei,uo.toObject=Si,uo.toDate=_i,uo.toISOString=ei,uo.inspect=ti,"undefined"!==typeof Symbol&&null!=Symbol.for&&(uo[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),uo.toJSON=Ti,uo.toString=Zr,uo.unix=wi,uo.valueOf=bi,uo.creationData=xi,uo.eraName=ki,uo.eraNarrow=Oi,uo.eraAbbr=Ii,uo.eraYear=Pi,uo.year=Ke,uo.isLeapYear=Xe,uo.weekYear=zi,uo.isoWeekYear=Gi,uo.quarter=uo.quarters=Zi,uo.month=pt,uo.daysInMonth=mt,uo.week=uo.weeks=At,uo.isoWeek=uo.isoWeeks=Nt,uo.weeksInYear=Ki,uo.weeksInWeekYear=Xi,uo.isoWeeksInYear=$i,uo.isoWeeksInISOWeekYear=qi,uo.date=eo,uo.day=uo.days=zt,uo.weekday=Gt,uo.isoWeekday=$t,uo.dayOfYear=to,uo.hour=uo.hours=on,uo.minute=uo.minutes=no,uo.second=uo.seconds=oo,uo.millisecond=uo.milliseconds=io,uo.utcOffset=gr,uo.utc=yr,uo.local=br,uo.parseZone=wr,uo.hasAlignedHourOffset=_r,uo.isDST=Er,uo.isLocal=Tr,uo.isUtcOffset=Mr,uo.isUtc=Cr,uo.isUTC=Cr,uo.zoneAbbr=ao,uo.zoneName=lo,uo.dates=C("dates accessor is deprecated. Use date instead.",eo),uo.months=C("months accessor is deprecated. Use month instead",pt),uo.years=C("years accessor is deprecated. Use year instead",Ke),uo.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),uo.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sr);var po=O.prototype;function mo(e,t,n,r){var i=bn(),o=m().set(r,t);return i[n](o,e)}function go(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return mo(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=mo(e,r,n,"month");return i}function vo(e,t,n,r){"boolean"===typeof e?(h(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,h(t)&&(n=t,t=void 0),t=t||"");var i,o=bn(),s=e?o._week.dow:0,a=[];if(null!=n)return mo(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=mo(t,(i+s)%7,r,"day");return a}function yo(e,t){return go(e,t,"months")}function bo(e,t){return go(e,t,"monthsShort")}function wo(e,t,n){return vo(e,t,n,"weekdays")}function _o(e,t,n){return vo(e,t,n,"weekdaysShort")}function Eo(e,t,n){return vo(e,t,n,"weekdaysMin")}po.calendar=P,po.longDateFormat=$,po.invalidDate=K,po.ordinal=Q,po.preparse=fo,po.postformat=fo,po.relativeTime=ee,po.pastFuture=te,po.set=L,po.eras=Ai,po.erasParse=Ni,po.erasConvertYear=Li,po.erasAbbrRegex=Fi,po.erasNameRegex=Di,po.erasNarrowRegex=Hi,po.months=ut,po.monthsShort=ct,po.monthsParse=dt,po.monthsRegex=vt,po.monthsShortRegex=gt,po.week=Mt,po.firstDayOfYear=xt,po.firstDayOfWeek=Rt,po.weekdays=Bt,po.weekdaysMin=Yt,po.weekdaysShort=jt,po.weekdaysParse=Wt,po.weekdaysRegex=qt,po.weekdaysShortRegex=Kt,po.weekdaysMinRegex=Xt,po.isPM=nn,po.meridiem=sn,gn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===ke(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),i.lang=C("moment.lang is deprecated. Use moment.locale instead.",gn),i.langData=C("moment.langData is deprecated. Use moment.localeData instead.",bn);var So=Math.abs;function To(){var e=this._data;return this._milliseconds=So(this._milliseconds),this._days=So(this._days),this._months=So(this._months),e.milliseconds=So(e.milliseconds),e.seconds=So(e.seconds),e.minutes=So(e.minutes),e.hours=So(e.hours),e.months=So(e.months),e.years=So(e.years),this}function Mo(e,t,n,r){var i=Ar(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Co(e,t){return Mo(this,e,t,1)}function Ro(e,t){return Mo(this,e,t,-1)}function xo(e){return e<0?Math.floor(e):Math.ceil(e)}function Ao(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*xo(Lo(a)+s),s=0,a=0),l.milliseconds=o%1e3,e=Le(o/1e3),l.seconds=e%60,t=Le(e/60),l.minutes=t%60,n=Le(t/60),l.hours=n%24,s+=Le(n/24),i=Le(No(s)),a+=i,s-=xo(Lo(i)),r=Le(a/12),a%=12,l.days=s,l.months=a,l.years=r,this}function No(e){return 4800*e/146097}function Lo(e){return 146097*e/4800}function ko(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=re(e),"month"===e||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+No(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Lo(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Oo(e){return function(){return this.as(e)}}var Io=Oo("ms"),Po=Oo("s"),Do=Oo("m"),Fo=Oo("h"),Ho=Oo("d"),Uo=Oo("w"),Bo=Oo("M"),jo=Oo("Q"),Yo=Oo("y"),Vo=Io;function Wo(){return Ar(this)}function zo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Go(e){return function(){return this.isValid()?this._data[e]:NaN}}var $o=Go("milliseconds"),qo=Go("seconds"),Ko=Go("minutes"),Xo=Go("hours"),Jo=Go("days"),Qo=Go("months"),Zo=Go("years");function es(){return Le(this.days()/7)}var ts=Math.round,ns={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rs(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function is(e,t,n,r){var i=Ar(e).abs(),o=ts(i.as("s")),s=ts(i.as("m")),a=ts(i.as("h")),l=ts(i.as("d")),u=ts(i.as("M")),c=ts(i.as("w")),h=ts(i.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h],d[2]=t,d[3]=+e>0,d[4]=r,rs.apply(null,d)}function os(e){return void 0===e?ts:"function"===typeof e&&(ts=e,!0)}function ss(e,t){return void 0!==ns[e]&&(void 0===t?ns[e]:(ns[e]=t,"s"===e&&(ns.ss=t-1),!0))}function as(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=ns;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},ns,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),n=this.localeData(),r=is(this,!i,o,n),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ls=Math.abs;function us(e){return(e>0)-(e<0)||+e}function cs(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,l=ls(this._milliseconds)/1e3,u=ls(this._days),c=ls(this._months),h=this.asSeconds();return h?(e=Le(l/60),t=Le(e/60),l%=60,e%=60,n=Le(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",o=us(this._months)!==us(h)?"-":"",s=us(this._days)!==us(h)?"-":"",a=us(this._milliseconds)!==us(h)?"-":"",i+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(u?s+u+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var hs=ar.prototype;return hs.isValid=or,hs.abs=To,hs.add=Co,hs.subtract=Ro,hs.as=ko,hs.asMilliseconds=Io,hs.asSeconds=Po,hs.asMinutes=Do,hs.asHours=Fo,hs.asDays=Ho,hs.asWeeks=Uo,hs.asMonths=Bo,hs.asQuarters=jo,hs.asYears=Yo,hs.valueOf=Vo,hs._bubble=Ao,hs.clone=Wo,hs.get=zo,hs.milliseconds=$o,hs.seconds=qo,hs.minutes=Ko,hs.hours=Xo,hs.days=Jo,hs.weeks=es,hs.months=Qo,hs.years=Zo,hs.humanize=as,hs.toISOString=cs,hs.toString=cs,hs.toJSON=cs,hs.locale=ai,hs.localeData=ui,hs.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cs),hs.lang=li,j("X",0,0,"unix"),j("x",0,0,"valueOf"),Re("x",we),Re("X",Se),Ie("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ie("x",(function(e,t,n){n._d=new Date(ke(e))})),
//! moment.js
i.version="2.30.1",o(Xn),i.fn=uo,i.min=er,i.max=tr,i.now=nr,i.utc=m,i.unix=co,i.months=yo,i.isDate=d,i.locale=gn,i.invalid=b,i.duration=Ar,i.isMoment=T,i.weekdays=wo,i.parseZone=ho,i.localeData=bn,i.isDuration=lr,i.monthsShort=bo,i.weekdaysMin=Eo,i.defineLocale=vn,i.updateLocale=yn,i.locales=wn,i.weekdaysShort=_o,i.normalizeUnits=re,i.relativeTimeRounding=os,i.relativeTimeThreshold=ss,i.calendarFormat=Yr,i.prototype=uo,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}))},92697:function(e){!function(t){e.exports=t()}((function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l=void 0;if(!a&&l)return require(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){!function(e){"use strict";var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",a=s+"Number primitive has more than 15 significant digits: ",l=1e14,u=14,c=9007199254740991,h=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,f=1e9;function p(e){var t=0|e;return 0<e||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=u-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function g(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,l=e.e,u=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=l==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return u<l^n?1:-1;for(a=(l=i.length)<(u=o.length)?l:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return l==u?0:u<l^n?1:-1}function v(e,t,n,r){if(e<t||n<e||e!==(e<0?i(e):o(e)))throw Error(s+(r||"Argument")+("number"==typeof e?e<t||n<e?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function y(e){var t=e.c.length-1;return p(e.e/u)==t&&e.c[t]%2!=0}function b(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(n=function e(t){var n,_,E,S,T,M,C,R,x,A,N=V.prototype={constructor:V,toString:null,valueOf:null},L=new V(1),k=20,O=4,I=-7,P=21,D=-1e7,F=1e7,H=!1,U=1,B=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Y="0123456789abcdefghijklmnopqrstuvwxyz";function V(e,t){var n,i,s,l,h,d,f,p,m=this;if(!(m instanceof V))return new V(e,t);if(null==t){if(e instanceof V)return m.s=e.s,m.e=e.e,void(m.c=(e=e.c)?e.slice():e);if((d="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(l=0,h=e;10<=h;h/=10,l++);return m.e=l,void(m.c=[e])}p=String(e)}else{if(p=String(e),!r.test(p))return E(m,p,d);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}-1<(l=p.indexOf("."))&&(p=p.replace(".","")),0<(h=p.search(/e/i))?(l<0&&(l=h),l+=+p.slice(h+1),p=p.substring(0,h)):l<0&&(l=p.length)}else{if(v(t,2,Y.length,"Base"),p=String(e),10==t)return $(m=new V(e instanceof V?e:p),k+m.e+1,O);if(d="number"==typeof e){if(0*e!=0)return E(m,p,d,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,V.DEBUG&&15<p.replace(/^0\.0*|\./,"").length)throw Error(a+e);d=!1}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=Y.slice(0,t),l=h=0,f=p.length;h<f;h++)if(n.indexOf(i=p.charAt(h))<0){if("."==i){if(l<h){l=f;continue}}else if(!s&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){s=!0,h=-1,l=0;continue}return E(m,String(e),d,t)}-1<(l=(p=_(p,t,10,m.s)).indexOf("."))?p=p.replace(".",""):l=p.length}for(h=0;48===p.charCodeAt(h);h++);for(f=p.length;48===p.charCodeAt(--f););if(p=p.slice(h,++f)){if(f-=h,d&&V.DEBUG&&15<f&&(c<e||e!==o(e)))throw Error(a+m.s*e);if(F<(l=l-h-1))m.c=m.e=null;else if(l<D)m.c=[m.e=0];else{if(m.e=l,m.c=[],h=(l+1)%u,l<0&&(h+=u),h<f){for(h&&m.c.push(+p.slice(0,h)),f-=u;h<f;)m.c.push(+p.slice(h,h+=u));p=p.slice(h),h=u-p.length}else h-=f;for(;h--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function W(e,t,n,r){var i,o,s,a,l;if(null==n?n=O:v(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)l=m(e.c),l=1==r||2==r&&(s<=I||P<=s)?b(l,s):w(l,s,"0");else if(o=(e=$(new V(e),t,n)).e,a=(l=m(e.c)).length,1==r||2==r&&(t<=o||o<=I)){for(;a<t;l+="0",a++);l=b(l,o)}else if(t-=s,l=w(l,o,"0"),a<o+1){if(0<--t)for(l+=".";t--;l+="0");}else if(0<(t+=o-a))for(o+1==a&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function z(e,t){for(var n,r=1,i=new V(e[0]);r<e.length;r++){if(!(n=new V(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function G(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];10<=i;i/=10,r++);return(n=r+n*u-1)>F?e.c=e.e=null:e.c=n<D?[e.e=0]:(e.e=n,t),e}function $(e,t,n,r){var s,a,c,d,f,p,m,g=e.c,v=h;if(g){e:{for(s=1,d=g[0];10<=d;d/=10,s++);if((a=t-s)<0)a+=u,c=t,m=(f=g[p=0])/v[s-c-1]%10|0;else if((p=i((a+1)/u))>=g.length){if(!r)break e;for(;g.length<=p;g.push(0));f=m=0,c=(a%=u)-u+(s=1)}else{for(f=d=g[p],s=1;10<=d;d/=10,s++);m=(c=(a%=u)-u+s)<0?0:f/v[s-c-1]%10|0}if(r=r||t<0||null!=g[p+1]||(c<0?f:f%v[s-c-1]),r=n<4?(m||r)&&(0==n||n==(e.s<0?3:2)):5<m||5==m&&(4==n||r||6==n&&(0<a?0<c?f/v[s-c]:0:g[p-1])%10&1||n==(e.s<0?8:7)),t<1||!g[0])return g.length=0,r?(t-=e.e+1,g[0]=v[(u-t%u)%u],e.e=-t||0):g[0]=e.e=0,e;if(0==a?(g.length=p,d=1,p--):(g.length=p+1,d=v[u-a],g[p]=0<c?o(f/v[s-c]%v[c])*d:0),r)for(;;){if(0==p){for(a=1,c=g[0];10<=c;c/=10,a++);for(c=g[0]+=d,d=1;10<=c;c/=10,d++);a!=d&&(e.e++,g[0]==l&&(g[0]=1));break}if(g[p]+=d,g[p]!=l)break;g[p--]=0,d=1}for(a=g.length;0===g[--a];g.pop());}e.e>F?e.c=e.e=null:e.e<D&&(e.c=[e.e=0])}return e}function q(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=I||P<=n?b(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return V.clone=e,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(s+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,f,t),k=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),O=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(v(n[0],-f,0,t),v(n[1],0,f,t),I=n[0],P=n[1]):(v(n,-f,f,t),I=-(P=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)v(n[0],-f,-1,t),v(n[1],1,f,t),D=n[0],F=n[1];else{if(v(n,-f,f,t),!n)throw Error(s+t+" cannot be zero: "+n);D=-(F=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(s+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw H=!n,Error(s+"crypto unavailable");H=n}else H=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),U=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,f,t),B=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(s+t+" not an object: "+n);j=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.$|[+-.\s]|(.).*\1/.test(n))throw Error(s+t+" invalid: "+n);Y=n}}return{DECIMAL_PLACES:k,ROUNDING_MODE:O,EXPONENTIAL_AT:[I,P],RANGE:[D,F],CRYPTO:H,MODULO_MODE:U,POW_PRECISION:B,FORMAT:j,ALPHABET:Y}},V.isBigNumber=function(e){return e instanceof V||e&&!0===e._isBigNumber||!1},V.maximum=V.max=function(){return z(arguments,N.lt)},V.minimum=V.min=function(){return z(arguments,N.gt)},V.random=(S=9007199254740992,T=Math.random()*S&2097151?function(){return o(Math.random()*S)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,a,l,c=0,d=[],p=new V(L);if(null==e?e=k:v(e,0,f),a=i(e/u),H)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(a*=2));c<a;)9e15<=(l=131072*t[c]+(t[c+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(d.push(l%1e14),c+=2);c=a/2}else{if(!crypto.randomBytes)throw H=!1,Error(s+"crypto unavailable");for(t=crypto.randomBytes(a*=7);c<a;)9e15<=(l=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])?crypto.randomBytes(7).copy(t,c):(d.push(l%1e14),c+=7);c=a/7}if(!H)for(;c<a;)(l=T())<9e15&&(d[c++]=l%1e14);for(a=d[--c],e%=u,a&&e&&(l=h[u-e],d[c]=o(a/l)*l);0===d[c];d.pop(),c--);if(c<0)d=[r=0];else{for(r=-1;0===d[0];d.splice(0,1),r-=u);for(c=1,l=d[0];10<=l;l/=10,c++);c<u&&(r-=u-c)}return p.e=r,p.c=d,p}),V.sum=function(){for(var e=1,t=arguments,n=new V(t[0]);e<t.length;)n=n.plus(t[e++]);return n},_=function(){var e="0123456789";function t(e,t,n,r){for(var i,o,s=[0],a=0,l=e.length;a<l;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var l,u,c,h,d,f,p,g,v=r.indexOf("."),y=k,b=O;for(0<=v&&(h=B,B=0,r=r.replace(".",""),f=(g=new V(i)).pow(r.length-v),B=h,g.c=t(w(m(f.c),f.e,"0"),10,o,e),g.e=g.c.length),c=h=(p=t(r,i,o,a?(l=Y,e):(l=e,Y))).length;0==p[--h];p.pop());if(!p[0])return l.charAt(0);if(v<0?--c:(f.c=p,f.e=c,f.s=s,p=(f=n(f,g,y,b,o)).c,d=f.r,c=f.e),v=p[u=c+y+1],h=o/2,d=d||u<0||null!=p[u+1],d=b<4?(null!=v||d)&&(0==b||b==(f.s<0?3:2)):h<v||v==h&&(4==b||d||6==b&&1&p[u-1]||b==(f.s<0?8:7)),u<1||!p[0])r=d?w(l.charAt(1),-y,l.charAt(0)):l.charAt(0);else{if(p.length=u,d)for(--o;++p[--u]>o;)p[u]=0,u||(++c,p=[1].concat(p));for(h=p.length;!p[--h];);for(v=0,r="";v<=h;r+=l.charAt(p[v++]));r=w(r,c,l.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,i,o,s,a=0,l=e.length,u=t%d,c=t/d|0;for(e=e.slice();l--;)a=((i=u*(o=e[l]%d)+(r=c*o+(s=e[l]/d|0)*u)%d*d+a)/n|0)+(r/d|0)+c*s,e[l]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=r<n?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&1<e.length;e.splice(0,1));}return function(r,i,s,a,c){var h,d,f,m,g,v,y,b,w,_,E,S,T,M,C,R,x,A=r.s==i.s?1:-1,N=r.c,L=i.c;if(!(N&&N[0]&&L&&L[0]))return new V(r.s&&i.s&&(N?!L||N[0]!=L[0]:L)?N&&0==N[0]||!L?0*A:A/0:NaN);for(w=(b=new V(A)).c=[],A=s+(d=r.e-i.e)+1,c||(c=l,d=p(r.e/u)-p(i.e/u),A=A/u|0),f=0;L[f]==(N[f]||0);f++);if(L[f]>(N[f]||0)&&d--,A<0)w.push(1),m=!0;else{for(M=N.length,R=L.length,A+=2,1<(g=o(c/(L[f=0]+1)))&&(L=e(L,g,c),N=e(N,g,c),R=L.length,M=N.length),T=R,E=(_=N.slice(0,R)).length;E<R;_[E++]=0);x=L.slice(),x=[0].concat(x),C=L[0],L[1]>=c/2&&C++;do{if(g=0,(h=t(L,_,R,E))<0){if(S=_[0],R!=E&&(S=S*c+(_[1]||0)),1<(g=o(S/C)))for(c<=g&&(g=c-1),y=(v=e(L,g,c)).length,E=_.length;1==t(v,_,y,E);)g--,n(v,R<y?x:L,y,c),y=v.length,h=1;else 0==g&&(h=g=1),y=(v=L.slice()).length;if(y<E&&(v=[0].concat(v)),n(_,v,E,c),E=_.length,-1==h)for(;t(L,_,R,E)<1;)g++,n(_,R<E?x:L,E,c),E=_.length}else 0===h&&(g++,_=[0]);w[f++]=g,_[0]?_[E++]=N[T]||0:(_=[N[T]],E=1)}while((T++<M||null!=_[0])&&A--);m=null!=_[0],w[0]||w.splice(0,1)}if(c==l){for(f=1,A=w[0];10<=A;A/=10,f++);$(b,s+(b.e=f+d*u-1)+1,a,m)}else b.e=d,b.r=+m;return b}}(),M=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,R=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g,E=function(e,t,n,r){var i,o=n?t:t.replace(A,"");if(x.test(o))e.s=isNaN(o)?null:o<0?-1:1,e.c=e.e=null;else{if(!n&&(o=o.replace(M,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(C,"$1").replace(R,"0.$1")),t!=o))return new V(o,i);if(V.DEBUG)throw Error(s+"Not a"+(r?" base "+r:"")+" number: "+t);e.c=e.e=e.s=null}},N.absoluteValue=N.abs=function(){var e=new V(this);return e.s<0&&(e.s=1),e},N.comparedTo=function(e,t){return g(this,new V(e,t))},N.decimalPlaces=N.dp=function(e,t){var n,r,i;if(null!=e)return v(e,0,f),null==t?t=O:v(t,0,8),$(new V(this),e+this.e+1,t);if(!(n=this.c))return null;if(r=((i=n.length-1)-p(this.e/u))*u,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},N.dividedBy=N.div=function(e,t){return n(this,new V(e,t),k,O)},N.dividedToIntegerBy=N.idiv=function(e,t){return n(this,new V(e,t),0,1)},N.exponentiatedBy=N.pow=function(e,t){var n,r,a,l,c,h,d,f,p=this;if((e=new V(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+q(e));if(null!=t&&(t=new V(t)),c=14<e.e,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return f=new V(Math.pow(+q(p),c?2-y(e):+q(e))),t?f.mod(t):f;if(h=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new V(NaN);(r=!h&&p.isInteger()&&t.isInteger())&&(p=p.mod(t))}else{if(9<e.e&&(0<p.e||p.e<-1||(0==p.e?1<p.c[0]||c&&24e7<=p.c[1]:p.c[0]<8e13||c&&p.c[0]<=9999975e7)))return l=p.s<0&&y(e)?-0:0,-1<p.e&&(l=1/l),new V(h?1/l:l);B&&(l=i(B/u+2))}for(d=c?(n=new V(.5),h&&(e.s=1),y(e)):(a=Math.abs(+q(e)))%2,f=new V(L);;){if(d){if(!(f=f.times(p)).c)break;l?f.c.length>l&&(f.c.length=l):r&&(f=f.mod(t))}if(a){if(0===(a=o(a/2)))break;d=a%2}else if($(e=e.times(n),e.e+1,1),14<e.e)d=y(e);else{if(0==(a=+q(e)))break;d=a%2}p=p.times(p),l?p.c&&p.c.length>l&&(p.c.length=l):r&&(p=p.mod(t))}return r?f:(h&&(f=L.div(f)),t?f.mod(t):l?$(f,B,O,void 0):f)},N.integerValue=function(e){var t=new V(this);return null==e?e=O:v(e,0,8),$(t,t.e+1,e)},N.isEqualTo=N.eq=function(e,t){return 0===g(this,new V(e,t))},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(e,t){return 0<g(this,new V(e,t))},N.isGreaterThanOrEqualTo=N.gte=function(e,t){return 1===(t=g(this,new V(e,t)))||0===t},N.isInteger=function(){return!!this.c&&p(this.e/u)>this.c.length-2},N.isLessThan=N.lt=function(e,t){return g(this,new V(e,t))<0},N.isLessThanOrEqualTo=N.lte=function(e,t){return-1===(t=g(this,new V(e,t)))||0===t},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return 0<this.s},N.isZero=function(){return!!this.c&&0==this.c[0]},N.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(t=(e=new V(e,t)).s,!a||!t)return new V(NaN);if(a!=t)return e.s=-t,s.plus(e);var c=s.e/u,h=e.e/u,d=s.c,f=e.c;if(!c||!h){if(!d||!f)return d?(e.s=-t,e):new V(f?s:NaN);if(!d[0]||!f[0])return f[0]?(e.s=-t,e):new V(d[0]?s:3==O?-0:0)}if(c=p(c),h=p(h),d=d.slice(),a=c-h){for((i=(o=a<0)?(a=-a,d):(h=c,f)).reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=d.length)<(t=f.length))?a:t,a=t=0;t<r;t++)if(d[t]!=f[t]){o=d[t]<f[t];break}if(o&&(i=d,d=f,f=i,e.s=-e.s),0<(t=(r=f.length)-(n=d.length)))for(;t--;d[n++]=0);for(t=l-1;a<r;){if(d[--r]<f[r]){for(n=r;n&&!d[--n];d[n]=t);--d[n],d[r]+=l}d[r]-=f[r]}for(;0==d[0];d.splice(0,1),--h);return d[0]?G(e,d,h):(e.s=3==O?-1:1,e.c=[e.e=0],e)},N.modulo=N.mod=function(e,t){var r,i,o=this;return e=new V(e,t),!o.c||!e.s||e.c&&!e.c[0]?new V(NaN):!e.c||o.c&&!o.c[0]?new V(o):(9==U?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,U),(e=o.minus(r.times(e))).c[0]||1!=U||(e.s=o.s),e)},N.multipliedBy=N.times=function(e,t){var n,r,i,o,s,a,c,h,f,m,g,v,y,b,w,_=this,E=_.c,S=(e=new V(e,t)).c;if(!(E&&S&&E[0]&&S[0]))return!_.s||!e.s||E&&!E[0]&&!S||S&&!S[0]&&!E?e.c=e.e=e.s=null:(e.s*=_.s,E&&S?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(_.e/u)+p(e.e/u),e.s*=_.s,(c=E.length)<(m=S.length)&&(y=E,E=S,S=y,i=c,c=m,m=i),i=c+m,y=[];i--;y.push(0));for(b=l,w=d,i=m;0<=--i;){for(n=0,g=S[i]%w,v=S[i]/w|0,o=i+(s=c);i<o;)n=((h=g*(h=E[--s]%w)+(a=v*h+(f=E[s]/w|0)*g)%w*w+y[o]+n)/b|0)+(a/w|0)+v*f,y[o--]=h%b;y[o]=n}return n?++r:y.splice(0,1),G(e,y,r)},N.negated=function(){var e=new V(this);return e.s=-e.s||null,e},N.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new V(e,t)).s,!i||!t)return new V(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/u,s=e.e/u,a=r.c,c=e.c;if(!o||!s){if(!a||!c)return new V(i/0);if(!a[0]||!c[0])return c[0]?e:new V(a[0]?r:0*i)}if(o=p(o),s=p(s),a=a.slice(),i=o-s){for((n=0<i?(s=o,c):(i=-i,a)).reverse();i--;n.push(0));n.reverse()}for((i=a.length)-(t=c.length)<0&&(n=c,c=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/l|0,a[t]=l===a[t]?0:a[t]%l;return i&&(a=[i].concat(a),++s),G(e,a,s)},N.precision=N.sd=function(e,t){var n,r,i;if(null!=e&&e!==!!e)return v(e,1,f),null==t?t=O:v(t,0,8),$(new V(this),e,t);if(!(n=this.c))return null;if(r=(i=n.length-1)*u+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];10<=i;i/=10,r++);}return e&&this.e+1>r&&(r=this.e+1),r},N.shiftedBy=function(e){return v(e,-c,c),this.times("1e"+e)},N.squareRoot=N.sqrt=function(){var e,t,r,i,o,s=this,a=s.c,l=s.s,u=s.e,c=k+4,h=new V("0.5");if(1!==l||!a||!a[0])return new V(!l||l<0&&(!a||a[0])?NaN:a?s:1/0);if((r=0==(l=Math.sqrt(+q(s)))||l==1/0?(((t=m(a)).length+u)%2==0&&(t+="0"),l=Math.sqrt(+t),u=p((u+1)/2)-(u<0||u%2),new V(t=l==1/0?"1e"+u:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+u)):new V(l+"")).c[0])for((l=(u=r.e)+c)<3&&(l=0);;)if(o=r,r=h.times(o.plus(n(s,o,c,1))),m(o.c).slice(0,l)===(t=m(r.c)).slice(0,l)){if(r.e<u&&--l,"9999"!=(t=t.slice(l-3,l+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||($(r,r.e+k+2,1),e=!r.times(r).eq(s));break}if(!i&&($(o,o.e+k+2,0),o.times(o).eq(s))){r=o;break}c+=4,l+=4,i=1}return $(r,r.e+k+1,O,e)},N.toExponential=function(e,t){return null!=e&&(v(e,0,f),e++),W(this,e,t,1)},N.toFixed=function(e,t){return null!=e&&(v(e,0,f),e=e+this.e+1),W(this,e,t)},N.toFormat=function(e,t,n){var r;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=j;else if("object"!=typeof n)throw Error(s+"Argument not an object: "+n);if(r=this.toFixed(e,t),this.c){var i,o=r.split("."),a=+n.groupSize,l=+n.secondaryGroupSize,u=n.groupSeparator||"",c=o[0],h=o[1],d=this.s<0,f=d?c.slice(1):c,p=f.length;if(l&&(i=a,a=l,p-=l=i),0<a&&0<p){for(i=p%a||a,c=f.substr(0,i);i<p;i+=a)c+=u+f.substr(i,a);0<l&&(c+=u+f.slice(i)),d&&(c="-"+c)}r=h?c+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?h.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):h):c}return(n.prefix||"")+r+(n.suffix||"")},N.toFraction=function(e){var t,r,i,o,a,l,c,d,f,p,g,v,y=this,b=y.c;if(null!=e&&(!(c=new V(e)).isInteger()&&(c.c||1!==c.s)||c.lt(L)))throw Error(s+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+q(c));if(!b)return new V(y);for(t=new V(L),f=r=new V(L),i=d=new V(L),v=m(b),a=t.e=v.length-y.e-1,t.c[0]=h[(l=a%u)<0?u+l:l],e=!e||0<c.comparedTo(t)?0<a?t:f:c,l=F,F=1/0,c=new V(v),d.c[0]=0;p=n(c,t,0,1),1!=(o=r.plus(p.times(i))).comparedTo(e);)r=i,i=o,f=d.plus(p.times(o=f)),d=o,t=c.minus(p.times(o=t)),c=o;return o=n(e.minus(r),i,0,1),d=d.plus(o.times(f)),r=r.plus(o.times(i)),d.s=f.s=y.s,g=n(f,i,a*=2,O).minus(y).abs().comparedTo(n(d,r,a,O).minus(y).abs())<1?[f,i]:[d,r],F=l,g},N.toNumber=function(){return+q(this)},N.toPrecision=function(e,t){return null!=e&&v(e,1,f),W(this,e,t,2)},N.toString=function(e){var t,n=this,r=n.s,i=n.e;return null===i?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=null==e?i<=I||P<=i?b(m(n.c),i):w(m(n.c),i,"0"):10===e?w(m((n=$(new V(n),k+i+1,O)).c),n.e,"0"):(v(e,2,Y.length,"Base"),_(w(m(n.c),i,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},N.valueOf=N.toJSON=function(){return q(this)},N._isBigNumber=!0,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(N[Symbol.toStringTag]="BigNumber",N[Symbol.for("nodejs.util.inspect.custom")]=N.valueOf),null!=t&&V.set(t),V}()).default=n.BigNumber=n,void 0!==t&&t.exports?t.exports=n:(e||(e="undefined"!=typeof self&&self?self:window),e.BigNumber=n)}(this)},{}],2:[function(e,t,n){"use strict";t.exports={languageTag:"en-US",delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},spaceSeparated:!1,ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$",position:"prefix",code:"USD"},currencyFormat:{thousandSeparated:!0,totalLength:4,spaceSeparated:!0},formats:{fourDigits:{totalLength:4,spaceSeparated:!0},fullWithTwoDecimals:{output:"currency",thousandSeparated:!0,mantissa:2},fullWithTwoDecimalsNoCurrency:{thousandSeparated:!0,mantissa:2},fullWithNoDecimals:{output:"currency",thousandSeparated:!0,mantissa:0}}}},{}],3:[function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e("./globalState"),o=e("./validating"),s=e("./parsing"),a=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l={general:{scale:1024,suffixes:a,marker:"bd"},binary:{scale:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],marker:"b"},decimal:{scale:1e3,suffixes:a,marker:"d"}},u={totalLength:0,characteristic:0,forceAverage:!1,average:!1,mantissa:-1,optionalMantissa:!0,thousandSeparated:!1,spaceSeparated:!1,negative:"sign",forceSign:!1};function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if("string"==typeof t&&(t=s.parseFormat(t)),!o.validateFormat(t))return"ERROR: invalid format";var r=t.prefix||"",a=t.postfix||"",c=function(e,t,n){switch(t.output){case"currency":return t=m(t,i.currentCurrencyDefaultFormat()),function(e,t,n){var r=n.currentCurrency(),i=Object.assign({},u,t),o=void 0,s="",a=!!i.totalLength||!!i.forceAverage||i.average,l=t.currencyPosition||r.position,c=t.currencySymbol||r.symbol;i.spaceSeparated&&(s=" "),"infix"===l&&(o=s+c+s);var h=p({instance:e,providedFormat:t,state:n,decimalSeparator:o});return"prefix"===l&&(h=e._value<0&&"sign"===i.negative?"-".concat(s).concat(c).concat(h.slice(1)):c+s+h),l&&"postfix"!==l||(h=h+(s=a?"":s)+c),h}(e,t,i);case"percent":return t=m(t,i.currentPercentageDefaultFormat()),function(e,t,n,r){var i=t.prefixSymbol,o=p({instance:r(100*e._value),providedFormat:t,state:n}),s=Object.assign({},u,t);return i?"%".concat(s.spaceSeparated?" ":"").concat(o):"".concat(o).concat(s.spaceSeparated?" ":"","%")}(e,t,i,n);case"byte":return t=m(t,i.currentByteDefaultFormat()),w=e,E=i,S=n,T=(_=t).base||"binary",M=l[T],C=h(w._value,M.suffixes,M.scale),R=C.value,x=C.suffix,A=p({instance:S(R),providedFormat:_,state:E,defaults:E.currentByteDefaultFormat()}),N=E.currentAbbreviations(),"".concat(A).concat(N.spaced?" ":"").concat(x);case"time":return t=m(t,i.currentTimeDefaultFormat()),g=e,v=Math.floor(g._value/60/60),y=Math.floor((g._value-60*v*60)/60),b=Math.round(g._value-60*v*60-60*y),"".concat(v,":").concat(y<10?"0":"").concat(y,":").concat(b<10?"0":"").concat(b);case"ordinal":return t=m(t,i.currentOrdinalDefaultFormat()),r=e,o=t,a=(s=i).currentOrdinal(),c=Object.assign({},u,o),d=p({instance:r,providedFormat:o,state:s}),f=a(r._value),"".concat(d).concat(c.spaceSeparated?" ":"").concat(f);case"number":default:return p({instance:e,providedFormat:t,numbro:n})}var r,o,s,a,c,d,f,g,v,y,b,w,_,E,S,T,M,C,R,x,A,N}(e,t,n);return(c=r+c)+a}function h(e,t,n){var r=t[0],i=Math.abs(e);if(n<=i){for(var o=1;o<t.length;++o){var s=Math.pow(n,o),a=Math.pow(n,o+1);if(s<=i&&i<a){r=t[o],e/=s;break}}r===t[0]&&(e/=Math.pow(n,t.length-1),r=t[t.length-1])}return{value:e,suffix:r}}function d(e){for(var t="",n=0;n<e;n++)t+="0";return t}function f(e,t){return-1!==e.toString().indexOf("e")?function(e,t){var n=e.toString(),i=r(n.split("e"),2),o=i[0],s=i[1],a=r(o.split("."),2),l=a[0],u=a[1],c=void 0===u?"":u;if(0<+s)n=l+c+d(s-c.length);else{var h=".";h=+l<0?"-0".concat(h):"0".concat(h);var f=(d(-s-1)+Math.abs(l)+c).substr(0,t);f.length<t&&(f+=d(t-f.length)),n=h+f}return 0<+s&&0<t&&(n+=".".concat(d(t))),n}(e,t):(Math.round(+"".concat(e,"e+").concat(t))/Math.pow(10,t)).toFixed(t)}function p(e){var t=e.instance,n=e.providedFormat,o=e.state,s=void 0===o?i:o,a=e.decimalSeparator,l=e.defaults,c=void 0===l?s.currentDefaults():l,h=t._value;if(0===h&&s.hasZeroFormat())return s.getZeroFormat();if(!isFinite(h))return h.toString();var d,p,m,g,v,y,b,w,_=Object.assign({},u,c,n),E=_.totalLength,S=E?0:_.characteristic,T=_.optionalCharacteristic,M=_.forceAverage,C=!!E||!!M||_.average,R=E?-1:C&&void 0===n.mantissa?0:_.mantissa,x=!E&&(void 0===n.optionalMantissa?-1===R:_.optionalMantissa),A=_.trimMantissa,N=_.thousandSeparated,L=_.spaceSeparated,k=_.negative,O=_.forceSign,I=_.exponential,P="";if(C){var D=function(e){var t=e.value,n=e.forceAverage,r=e.abbreviations,i=e.spaceSeparated,o=void 0!==i&&i,s=e.totalLength,a=void 0===s?0:s,l="",u=Math.abs(t),c=-1;if(u>=Math.pow(10,12)&&!n||"trillion"===n?(l=r.trillion,t/=Math.pow(10,12)):u<Math.pow(10,12)&&u>=Math.pow(10,9)&&!n||"billion"===n?(l=r.billion,t/=Math.pow(10,9)):u<Math.pow(10,9)&&u>=Math.pow(10,6)&&!n||"million"===n?(l=r.million,t/=Math.pow(10,6)):(u<Math.pow(10,6)&&u>=Math.pow(10,3)&&!n||"thousand"===n)&&(l=r.thousand,t/=Math.pow(10,3)),l&&(l=(o?" ":"")+l),a){var h=t.toString().split(".")[0];c=Math.max(a-h.length,0)}return{value:t,abbreviation:l,mantissaPrecision:c}}({value:h,forceAverage:M,abbreviations:s.currentAbbreviations(),spaceSeparated:L,totalLength:E});h=D.value,P+=D.abbreviation,E&&(R=D.mantissaPrecision)}if(I){var F=(p=(d={value:h,characteristicPrecision:S}).value,m=d.characteristicPrecision,g=void 0===m?0:m,v=r(p.toExponential().split("e"),2),y=v[0],b=v[1],w=+y,g&&1<g&&(w*=Math.pow(10,g-1),b=0<=(b=+b-(g-1))?"+".concat(b):b),{value:w,abbreviation:"e".concat(b)});h=F.value,P=F.abbreviation+P}var H,U,B,j=function(e,t,n,i,o){if(-1===i)return e;var s=f(t,i),a=r(s.toString().split("."),2),l=a[0],u=a[1],c=void 0===u?"":u;if(c.match(/^0+$/)&&(n||o))return l;var h=c.match(/0+$/);return o&&h?"".concat(l,".").concat(c.toString().slice(0,h.index)):s.toString()}(h.toString(),h,x,R,A);return j=function(e,t,n,r,i){var o=r.currentDelimiters(),s=o.thousands;i=i||o.decimal;var a=o.thousandsSize||3,l=e.toString(),u=l.split(".")[0],c=l.split(".")[1];return n&&(t<0&&(u=u.slice(1)),function(e,t){for(var n=[],r=0,i=e;0<i;i--)r===t&&(n.unshift(i),r=0),r++;return n}(u.length,a).forEach((function(e,t){u=u.slice(0,e+t)+s+u.slice(e+t)})),t<0&&(u="-".concat(u))),c?u+i+c:u}(j=function(e,t,n,i){var o=e,s=r(o.toString().split("."),2),a=s[0],l=s[1];if(a.match(/^-?0$/)&&n)return l?"".concat(a.replace("0",""),".").concat(l):a.replace("0","");if(a.length<i)for(var u=i-a.length,c=0;c<u;c++)o="0".concat(o);return o.toString()}(j,0,T,S),h,N,s,a),(C||I)&&(j+=P),(O||h<0)&&(H=j,B=k,j=0===(U=h)?H:0==+H?H.replace("-",""):0<U?"+".concat(H):"sign"===B?H:"(".concat(H.replace("-",""),")")),j}function m(e,t){if(!e)return t;var n=Object.keys(e);return 1===n.length&&"output"===n[0]?t:e}t.exports=function(e){return{format:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return c.apply(void 0,n.concat([e]))},getByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=l.general;return h(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},getBinaryByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=l.binary;return h(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},getDecimalByteUnit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(e){var t=l.decimal;return h(e._value,t.suffixes,t.scale).suffix}.apply(void 0,n.concat([e]))},formatOrDefault:m}}},{"./globalState":4,"./parsing":8,"./validating":10}],4:[function(e,t,n){"use strict";var r=e("./en-US"),i=e("./validating"),o=e("./parsing"),s={},a=void 0,l={},u=null,c={};function h(e){a=e}function d(){return l[a]}s.languages=function(){return Object.assign({},l)},s.currentLanguage=function(){return a},s.currentCurrency=function(){return d().currency},s.currentAbbreviations=function(){return d().abbreviations},s.currentDelimiters=function(){return d().delimiters},s.currentOrdinal=function(){return d().ordinal},s.currentDefaults=function(){return Object.assign({},d().defaults,c)},s.currentOrdinalDefaultFormat=function(){return Object.assign({},s.currentDefaults(),d().ordinalFormat)},s.currentByteDefaultFormat=function(){return Object.assign({},s.currentDefaults(),d().byteFormat)},s.currentPercentageDefaultFormat=function(){return Object.assign({},s.currentDefaults(),d().percentageFormat)},s.currentCurrencyDefaultFormat=function(){return Object.assign({},s.currentDefaults(),d().currencyFormat)},s.currentTimeDefaultFormat=function(){return Object.assign({},s.currentDefaults(),d().timeFormat)},s.setDefaults=function(e){e=o.parseFormat(e),i.validateFormat(e)&&(c=e)},s.getZeroFormat=function(){return u},s.setZeroFormat=function(e){return u="string"==typeof e?e:null},s.hasZeroFormat=function(){return null!==u},s.languageData=function(e){if(e){if(l[e])return l[e];throw new Error('Unknown tag "'.concat(e,'"'))}return d()},s.registerLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!i.validateLanguage(e))throw new Error("Invalid language data");l[e.languageTag]=e,t&&h(e.languageTag)},s.setLanguage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r.languageTag;if(!l[e]){var n=e.split("-")[0],i=Object.keys(l).find((function(e){return e.split("-")[0]===n}));return l[i]?void h(i):void h(t)}h(e)},s.registerLanguage(r),a=r.languageTag,t.exports=s},{"./en-US":2,"./parsing":8,"./validating":10}],5:[function(e,t,n){"use strict";t.exports=function(t){return{loadLanguagesInNode:function(n){return r=t,void n.forEach((function(t){var n=void 0;try{n=e("../languages/".concat(t))}catch(n){console.error('Unable to load "'.concat(t,'". No matching language file found.'))}n&&r.registerLanguage(n)}));var r}}}},{}],6:[function(e,t,n){"use strict";var r=e("bignumber.js");function i(e,t,n){var i=new r(e._value),o=t;return n.isNumbro(t)&&(o=t._value),o=new r(o),e._value=i.minus(o).toNumber(),e}t.exports=function(e){return{add:function(t,n){return o=n,s=e,a=new r((i=t)._value),l=o,s.isNumbro(o)&&(l=o._value),l=new r(l),i._value=a.plus(l).toNumber(),i;var i,o,s,a,l},subtract:function(t,n){return i(t,n,e)},multiply:function(t,n){return o=n,s=e,a=new r((i=t)._value),l=o,s.isNumbro(o)&&(l=o._value),l=new r(l),i._value=a.times(l).toNumber(),i;var i,o,s,a,l},divide:function(t,n){return o=n,s=e,a=new r((i=t)._value),l=o,s.isNumbro(o)&&(l=o._value),l=new r(l),i._value=a.dividedBy(l).toNumber(),i;var i,o,s,a,l},set:function(t,n){return r=t,o=i=n,e.isNumbro(i)&&(o=i._value),r._value=o,r;var r,i,o},difference:function(t,n){return r=n,i(s=(o=e)(t._value),r,o),Math.abs(s._value);var r,o,s}}}},{"bignumber.js":1}],7:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("./globalState"),o=e("./validating"),s=e("./loading")(f),a=e("./unformatting"),l=e("./formatting")(f),u=e("./manipulating")(f),c=e("./parsing"),h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=t}var t,n,o;return t=e,(n=[{key:"clone",value:function(){return f(this._value)}},{key:"format",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return l.format(this,e)}},{key:"formatCurrency",value:function(e){return"string"==typeof e&&(e=c.parseFormat(e)),(e=l.formatOrDefault(e,i.currentCurrencyDefaultFormat())).output="currency",l.format(this,e)}},{key:"formatTime",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e.output="time",l.format(this,e)}},{key:"binaryByteUnits",value:function(){return l.getBinaryByteUnit(this)}},{key:"decimalByteUnits",value:function(){return l.getDecimalByteUnit(this)}},{key:"byteUnits",value:function(){return l.getByteUnit(this)}},{key:"difference",value:function(e){return u.difference(this,e)}},{key:"add",value:function(e){return u.add(this,e)}},{key:"subtract",value:function(e){return u.subtract(this,e)}},{key:"multiply",value:function(e){return u.multiply(this,e)}},{key:"divide",value:function(e){return u.divide(this,e)}},{key:"set",value:function(e){return u.set(this,d(e))}},{key:"value",value:function(){return this._value}},{key:"valueOf",value:function(){return this._value}}])&&r(t.prototype,n),o&&r(t,o),e}();function d(e){var t=e;return f.isNumbro(e)?t=e._value:"string"==typeof e?t=f.unformat(e):isNaN(e)&&(t=NaN),t}function f(e){return new h(d(e))}f.version="2.1.2",f.isNumbro=function(e){return e instanceof h},f.language=i.currentLanguage,f.registerLanguage=i.registerLanguage,f.setLanguage=i.setLanguage,f.languages=i.languages,f.languageData=i.languageData,f.zeroFormat=i.setZeroFormat,f.defaultFormat=i.currentDefaults,f.setDefaults=i.setDefaults,f.defaultCurrencyFormat=i.currentCurrencyDefaultFormat,f.validate=o.validate,f.loadLanguagesInNode=s.loadLanguagesInNode,f.unformat=a.unformat,t.exports=f},{"./formatting":3,"./globalState":4,"./loading":5,"./manipulating":6,"./parsing":8,"./unformatting":9,"./validating":10}],8:[function(e,t,n){"use strict";t.exports={parseFormat:function(e){var t,n,r,i,o,s,a,l,u,c,h,d,f,p,m,g,v,y,b,w,_=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof e?e:(n=_,e=(r=(t=e).match(/^{([^}]*)}/))?(n.prefix=r[1],t.slice(r[0].length)):t,o=_,function(e,t){if(-1===e.indexOf("$")){if(-1===e.indexOf("%"))return-1!==e.indexOf("bd")?(t.output="byte",t.base="general"):-1!==e.indexOf("b")?(t.output="byte",t.base="binary"):-1!==e.indexOf("d")?(t.output="byte",t.base="decimal"):-1===e.indexOf(":")?-1!==e.indexOf("o")&&(t.output="ordinal"):t.output="time";t.output="percent"}else t.output="currency"}(e=(s=(i=e).match(/{([^}]*)}$/))?(o.postfix=s[1],i.slice(0,-s[0].length)):i,_),a=_,(l=e.match(/[1-9]+[0-9]*/))&&(a.totalLength=+l[0]),u=_,(c=e.split(".")[0].match(/0+/))&&(u.characteristic=c[0].length),function(e,t){if(-1!==e.indexOf(".")){var n=e.split(".")[0];t.optionalCharacteristic=-1===n.indexOf("0")}}(e,_),h=_,-1!==e.indexOf("a")&&(h.average=!0),f=_,-1!==(d=e).indexOf("K")?f.forceAverage="thousand":-1!==d.indexOf("M")?f.forceAverage="million":-1!==d.indexOf("B")?f.forceAverage="billion":-1!==d.indexOf("T")&&(f.forceAverage="trillion"),function(e,t){var n=e.split(".")[1];if(n){var r=n.match(/0+/);r&&(t.mantissa=r[0].length)}}(e,_),m=_,(p=e).match(/\[\.]/)?m.optionalMantissa=!0:p.match(/\./)&&(m.optionalMantissa=!1),g=_,-1!==e.indexOf(",")&&(g.thousandSeparated=!0),v=_,-1!==e.indexOf(" ")&&(v.spaceSeparated=!0),b=_,(y=e).match(/^\+?\([^)]*\)$/)&&(b.negative="parenthesis"),y.match(/^\+?-/)&&(b.negative="sign"),w=_,e.match(/^\+/)&&(w.forceSign=!0),_)}}},{}],9:[function(e,t,n){"use strict";var r=[{key:"ZiB",factor:Math.pow(1024,7)},{key:"ZB",factor:Math.pow(1e3,7)},{key:"YiB",factor:Math.pow(1024,8)},{key:"YB",factor:Math.pow(1e3,8)},{key:"TiB",factor:Math.pow(1024,4)},{key:"TB",factor:Math.pow(1e3,4)},{key:"PiB",factor:Math.pow(1024,5)},{key:"PB",factor:Math.pow(1e3,5)},{key:"MiB",factor:Math.pow(1024,2)},{key:"MB",factor:Math.pow(1e3,2)},{key:"KiB",factor:Math.pow(1024,1)},{key:"KB",factor:Math.pow(1e3,1)},{key:"GiB",factor:Math.pow(1024,3)},{key:"GB",factor:Math.pow(1e3,3)},{key:"EiB",factor:Math.pow(1024,6)},{key:"EB",factor:Math.pow(1e3,6)},{key:"B",factor:1}];function i(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length?arguments[3]:void 0,s=4<arguments.length?arguments[4]:void 0,a=5<arguments.length?arguments[5]:void 0,l=6<arguments.length?arguments[6]:void 0;if(""!==e)return e===s?0:function e(t,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",s=3<arguments.length?arguments[3]:void 0,a=4<arguments.length?arguments[4]:void 0,l=5<arguments.length?arguments[5]:void 0,u=6<arguments.length?arguments[6]:void 0;if(!isNaN(+t))return+t;var c="",h=t.replace(/(^[^(]*)\((.*)\)([^)]*$)/,"$1$2$3");if(h!==t)return-1*e(h,n,o,s,a,l,u);for(var d=0;d<r.length;d++){var f=r[d];if((c=t.replace(f.key,""))!==t)return e(c,n,o,s,a,l,u)*f.factor}if((c=t.replace("%",""))!==t)return e(c,n,o,s,a,l,u)/100;var p=parseFloat(t);if(!isNaN(p)){var m=s(p);if(m&&"."!==m&&(c=t.replace(new RegExp("".concat(i(m),"$")),""))!==t)return e(c,n,o,s,a,l,u);var g={};Object.keys(l).forEach((function(e){g[l[e]]=e}));for(var v=Object.keys(g).sort().reverse(),y=v.length,b=0;b<y;b++){var w=v[b],_=g[w];if((c=t.replace(w,""))!==t){var E=void 0;switch(_){case"thousand":E=Math.pow(10,3);break;case"million":E=Math.pow(10,6);break;case"billion":E=Math.pow(10,9);break;case"trillion":E=Math.pow(10,12)}return e(c,n,o,s,a,l,u)*E}}}}(function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=e.replace(n,"");return(r=r.replace(new RegExp("([0-9])".concat(i(t.thousands),"([0-9])"),"g"),"$1$2")).replace(t.decimal,".")}(e,t,n),t,n,o,s,a,l)}t.exports={unformat:function(t,n){var r,i,s,a=e("./globalState"),l=a.currentDelimiters(),u=a.currentCurrency().symbol,c=a.currentOrdinal(),h=a.getZeroFormat(),d=a.currentAbbreviations(),f=void 0;if("string"==typeof t)f=function(e,t){if(!e.indexOf(":")||":"===t.thousands)return!1;var n=e.split(":");if(3!==n.length)return!1;var r=+n[0],i=+n[1],o=+n[2];return!isNaN(r)&&!isNaN(i)&&!isNaN(o)}(t,l)?(r=t.split(":"),i=+r[0],s=+r[1],+r[2]+60*s+3600*i):o(t,l,u,c,h,d,n);else{if("number"!=typeof t)return;f=t}if(void 0!==f)return f}}},{"./globalState":4}],10:[function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=e("./unformatting"),s=/^[a-z]{2,3}(-[a-zA-Z]{4})?(-([A-Z]{2}|[0-9]{3}))?$/,a={output:{type:"string",validValues:["currency","percent","byte","time","ordinal","number"]},base:{type:"string",validValues:["decimal","binary","general"],restriction:function(e,t){return"byte"===t.output},message:"`base` must be provided only when the output is `byte`",mandatory:function(e){return"byte"===e.output}},characteristic:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},prefix:"string",postfix:"string",forceAverage:{type:"string",validValues:["trillion","billion","million","thousand"]},average:"boolean",currencyPosition:{type:"string",validValues:["prefix","infix","postfix"]},currencySymbol:"string",totalLength:{type:"number",restrictions:[{restriction:function(e){return 0<=e},message:"value must be positive"},{restriction:function(e,t){return!t.exponential},message:"`totalLength` is incompatible with `exponential`"}]},mantissa:{type:"number",restriction:function(e){return 0<=e},message:"value must be positive"},optionalMantissa:"boolean",trimMantissa:"boolean",optionalCharacteristic:"boolean",thousandSeparated:"boolean",spaceSeparated:"boolean",abbreviations:{type:"object",children:{thousand:"string",million:"string",billion:"string",trillion:"string"}},negative:{type:"string",validValues:["sign","parenthesis"]},forceSign:"boolean",exponential:{type:"boolean"},prefixSymbol:{type:"boolean",restriction:function(e,t){return"percent"===t.output},message:"`prefixSymbol` can be provided only when the output is `percent`"}},l={languageTag:{type:"string",mandatory:!0,restriction:function(e){return e.match(s)},message:"the language tag must follow the BCP 47 specification (see https://tools.ieft.org/html/bcp47)"},delimiters:{type:"object",children:{thousands:"string",decimal:"string",thousandsSize:"number"},mandatory:!0},abbreviations:{type:"object",children:{thousand:{type:"string",mandatory:!0},million:{type:"string",mandatory:!0},billion:{type:"string",mandatory:!0},trillion:{type:"string",mandatory:!0}},mandatory:!0},spaceSeparated:"boolean",ordinal:{type:"function",mandatory:!0},currency:{type:"object",children:{symbol:"string",position:"string",code:"string"},mandatory:!0},defaults:"format",ordinalFormat:"format",byteFormat:"format",percentageFormat:"format",currencyFormat:"format",timeDefaults:"format",formats:{type:"object",children:{fourDigits:{type:"format",mandatory:!0},fullWithTwoDecimals:{type:"format",mandatory:!0},fullWithTwoDecimalsNoCurrency:{type:"format",mandatory:!0},fullWithNoDecimals:{type:"format",mandatory:!0}}}};function u(e){return!!o.unformat(e)}function c(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=Object.keys(e).map((function(r){if(!t[r])return console.error("".concat(n," Invalid key: ").concat(r)),!1;var o=e[r],s=t[r];if("string"==typeof s&&(s={type:s}),"format"===s.type){if(!c(o,a,"[Validate ".concat(r,"]"),!0))return!1}else if(i(o)!==s.type)return console.error("".concat(n," ").concat(r,' type mismatched: "').concat(s.type,'" expected, "').concat(i(o),'" provided')),!1;if(s.restrictions&&s.restrictions.length)for(var l=s.restrictions.length,u=0;u<l;u++){var h=s.restrictions[u],d=h.restriction,f=h.message;if(!d(o,e))return console.error("".concat(n," ").concat(r," invalid value: ").concat(f)),!1}return s.restriction&&!s.restriction(o,e)?(console.error("".concat(n," ").concat(r," invalid value: ").concat(s.message)),!1):s.validValues&&-1===s.validValues.indexOf(o)?(console.error("".concat(n," ").concat(r," invalid value: must be among ").concat(JSON.stringify(s.validValues),', "').concat(o,'" provided')),!1):!(s.children&&!c(o,s.children,"[Validate ".concat(r,"]")))}));return o||s.push.apply(s,r(Object.keys(t).map((function(r){var i=t[r];if("string"==typeof i&&(i={type:i}),i.mandatory){var o=i.mandatory;if("function"==typeof o&&(o=o(e)),o&&void 0===e[r])return console.error("".concat(n,' Missing mandatory key "').concat(r,'"')),!1}return!0})))),s.reduce((function(e,t){return e&&t}),!0)}function h(e){return c(e,a,"[Validate format]")}t.exports={validate:function(e,t){var n=u(e),r=h(t);return n&&r},validateFormat:h,validateInput:u,validateLanguage:function(e){return c(e,l,"[Validate language]")}}},{"./unformatting":9}]},{},[7])(7)}))},28727:function(e){(function(t,n){e.exports=n()})(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);n(/*! ./sass/index.scss */"./src/sass/index.scss");var r=n(/*! ./js/init */"./src/js/init.js"),i=r["default"].init;"undefined"!==typeof window&&(window.printJS=i),t["default"]=i},"./src/js/browser.js":
/*!***************************!*\
  !*** ./src/js/browser.js ***!
  \***************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r={isFirefox:function(){return"undefined"!==typeof InstallTrigger},isIE:function(){return-1!==navigator.userAgent.indexOf("MSIE")||!!document.documentMode},isEdge:function(){return!r.isIE()&&!!window.StyleMedia},isChrome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return!!e.chrome},isSafari:function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||-1!==navigator.userAgent.toLowerCase().indexOf("safari")},isIOSChrome:function(){return-1!==navigator.userAgent.toLowerCase().indexOf("crios")}};t["default"]=r},"./src/js/functions.js":
/*!*****************************!*\
  !*** ./src/js/functions.js ***!
  \*****************************/
/*! exports provided: addWrapper, capitalizePrint, collectStyles, addHeader, cleanUp, isRawHTML */function(e,t,n){"use strict";n.r(t),n.d(t,"addWrapper",(function(){return s})),n.d(t,"capitalizePrint",(function(){return a})),n.d(t,"collectStyles",(function(){return l})),n.d(t,"addHeader",(function(){return c})),n.d(t,"cleanUp",(function(){return h})),n.d(t,"isRawHTML",(function(){return d}));var r=n(/*! ./modal */"./src/js/modal.js"),i=n(/*! ./browser */"./src/js/browser.js");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){var n="font-family:"+t.font+" !important; font-size: "+t.font_size+" !important; width:100%;";return'<div style="'+n+'">'+e+"</div>"}function a(e){return e.charAt(0).toUpperCase()+e.slice(1)}function l(e,t){for(var n=document.defaultView||window,r="",i=n.getComputedStyle(e,""),o=0;o<i.length;o++)(-1!==t.targetStyles.indexOf("*")||-1!==t.targetStyle.indexOf(i[o])||u(t.targetStyles,i[o]))&&i.getPropertyValue(i[o])&&(r+=i[o]+":"+i.getPropertyValue(i[o])+";");return r+="max-width: "+t.maxWidth+"px !important; font-size: "+t.font_size+" !important;",r}function u(e,t){for(var n=0;n<e.length;n++)if("object"===o(t)&&-1!==t.indexOf(e[n]))return!0;return!1}function c(e,t){var n=document.createElement("div");if(d(t.header))n.innerHTML=t.header;else{var r=document.createElement("h1"),i=document.createTextNode(t.header);r.appendChild(i),r.setAttribute("style",t.headerStyle),n.appendChild(r)}e.insertBefore(n,e.childNodes[0])}function h(e){e.showModal&&r["default"].close(),e.onLoadingEnd&&e.onLoadingEnd(),(e.showModal||e.onLoadingStart)&&window.URL.revokeObjectURL(e.printable);var t="mouseover";(i["default"].isChrome()||i["default"].isFirefox())&&(t="focus");var n=function n(){window.removeEventListener(t,n),e.onPrintDialogClose();var r=document.getElementById(e.frameId);r&&r.remove()};window.addEventListener(t,n)}function d(e){var t=new RegExp("<([A-Za-z][A-Za-z0-9]*)\\b[^>]*>(.*?)</\\1>");return t.test(e)}},"./src/js/html.js":
/*!************************!*\
  !*** ./src/js/html.js ***!
  \************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./functions */"./src/js/functions.js"),i=n(/*! ./print */"./src/js/print.js");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=e.cloneNode(),i=Array.prototype.slice.call(e.childNodes),o=0;o<i.length;o++)if(-1===t.ignoreElements.indexOf(i[o].id)){var a=s(i[o],t);n.appendChild(a)}switch(t.scanStyles&&1===e.nodeType&&n.setAttribute("style",Object(r["collectStyles"])(e,t)),e.tagName){case"SELECT":n.value=e.value;break;case"CANVAS":n.getContext("2d").drawImage(e,0,0);break}return n}function a(e){return"object"===o(e)&&e&&(e instanceof HTMLElement||1===e.nodeType)}t["default"]={print:function(e,t){var n=a(e.printable)?e.printable:document.getElementById(e.printable);n?(e.printableElement=s(n,e),e.header&&Object(r["addHeader"])(e.printableElement,e),i["default"].send(e,t)):window.console.error("Invalid HTML element id: "+e.printable)}}},"./src/js/image.js":
/*!*************************!*\
  !*** ./src/js/image.js ***!
  \*************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./functions */"./src/js/functions.js"),i=n(/*! ./print */"./src/js/print.js"),o=n(/*! ./browser */"./src/js/browser.js");t["default"]={print:function(e,t){e.printable.constructor!==Array&&(e.printable=[e.printable]),e.printableElement=document.createElement("div"),e.printable.forEach((function(t){var n=document.createElement("img");if(n.setAttribute("style",e.imageStyle),n.src=t,o["default"].isFirefox()){var r=n.src;n.src=r}var i=document.createElement("div");i.appendChild(n),e.printableElement.appendChild(i)})),e.header&&Object(r["addHeader"])(e.printableElement,e),i["default"].send(e,t)}}},"./src/js/init.js":
/*!************************!*\
  !*** ./src/js/init.js ***!
  \************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./browser */"./src/js/browser.js"),i=n(/*! ./modal */"./src/js/modal.js"),o=n(/*! ./pdf */"./src/js/pdf.js"),s=n(/*! ./html */"./src/js/html.js"),a=n(/*! ./raw-html */"./src/js/raw-html.js"),l=n(/*! ./image */"./src/js/image.js"),u=n(/*! ./json */"./src/js/json.js");function c(e){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var h=["pdf","html","image","json","raw-html"];t["default"]={init:function(){var e={printable:null,fallbackPrintable:null,type:"pdf",header:null,headerStyle:"font-weight: 300;",maxWidth:800,properties:null,gridHeaderStyle:"font-weight: bold; padding: 5px; border: 1px solid #dddddd;",gridStyle:"border: 1px solid lightgray; margin-bottom: -1px;",showModal:!1,onError:function(e){throw e},onLoadingStart:null,onLoadingEnd:null,onPrintDialogClose:function(){},onIncompatibleBrowser:function(){},modalMessage:"Retrieving Document...",frameId:"printJS",printableElement:null,documentTitle:"Document",targetStyle:["clear","display","width","min-width","height","min-height","max-height"],targetStyles:["border","box","break","text-decoration"],ignoreElements:[],repeatTableHeader:!0,css:null,style:null,scanStyles:!0,base64:!1,onPdfOpen:null,font:"TimesNewRoman",font_size:"12pt",honorMarginPadding:!0,honorColor:!1,imageStyle:"max-width: 100%;"},t=arguments[0];if(void 0===t)throw new Error("printJS expects at least 1 attribute.");switch(c(t)){case"string":e.printable=encodeURI(t),e.fallbackPrintable=e.printable,e.type=arguments[1]||e.type;break;case"object":for(var n in e.printable=t.printable,e.fallbackPrintable="undefined"!==typeof t.fallbackPrintable?t.fallbackPrintable:e.printable,e.fallbackPrintable=e.base64?"data:application/pdf;base64,".concat(e.fallbackPrintable):e.fallbackPrintable,e)"printable"!==n&&"fallbackPrintable"!==n&&(e[n]="undefined"!==typeof t[n]?t[n]:e[n]);break;default:throw new Error('Unexpected argument type! Expected "string" or "object", got '+c(t))}if(!e.printable)throw new Error("Missing printable information.");if(!e.type||"string"!==typeof e.type||-1===h.indexOf(e.type.toLowerCase()))throw new Error("Invalid print type. Available types are: pdf, html, image and json.");e.showModal&&i["default"].show(e),e.onLoadingStart&&e.onLoadingStart();var d=document.getElementById(e.frameId);d&&d.parentNode.removeChild(d);var f=document.createElement("iframe");switch(r["default"].isFirefox()?f.setAttribute("style","width: 1px; height: 100px; position: fixed; left: 0; top: 0; opacity: 0; border-width: 0; margin: 0; padding: 0"):f.setAttribute("style","visibility: hidden; height: 0; width: 0; position: absolute; border: 0"),f.setAttribute("id",e.frameId),"pdf"!==e.type&&(f.srcdoc="<html><head><title>"+e.documentTitle+"</title>",e.css&&(Array.isArray(e.css)||(e.css=[e.css]),e.css.forEach((function(e){f.srcdoc+='<link rel="stylesheet" href="'+e+'">'}))),f.srcdoc+="</head><body></body></html>"),e.type){case"pdf":if(r["default"].isIE())try{console.info("Print.js doesn't support PDF printing in Internet Explorer.");var p=window.open(e.fallbackPrintable,"_blank");p.focus(),e.onIncompatibleBrowser()}catch(m){e.onError(m)}finally{e.showModal&&i["default"].close(),e.onLoadingEnd&&e.onLoadingEnd()}else o["default"].print(e,f);break;case"image":l["default"].print(e,f);break;case"html":s["default"].print(e,f);break;case"raw-html":a["default"].print(e,f);break;case"json":u["default"].print(e,f);break}}}},"./src/js/json.js":
/*!************************!*\
  !*** ./src/js/json.js ***!
  \************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./functions */"./src/js/functions.js"),i=n(/*! ./print */"./src/js/print.js");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){var t=e.printable,n=e.properties,i='<table style="border-collapse: collapse; width: 100%;">';e.repeatTableHeader&&(i+="<thead>"),i+="<tr>";for(var o=0;o<n.length;o++)i+='<th style="width:'+n[o].columnSize+";"+e.gridHeaderStyle+'">'+Object(r["capitalizePrint"])(n[o].displayName)+"</th>";i+="</tr>",e.repeatTableHeader&&(i+="</thead>"),i+="<tbody>";for(var s=0;s<t.length;s++){i+="<tr>";for(var a=0;a<n.length;a++){var l=t[s],u=n[a].field.split(".");if(u.length>1)for(var c=0;c<u.length;c++)l=l[u[c]];else l=l[n[a].field];i+='<td style="width:'+n[a].columnSize+e.gridStyle+'">'+l+"</td>"}i+="</tr>"}return i+="</tbody></table>",i}t["default"]={print:function(e,t){if("object"!==o(e.printable))throw new Error("Invalid javascript data object (JSON).");if("boolean"!==typeof e.repeatTableHeader)throw new Error("Invalid value for repeatTableHeader attribute (JSON).");if(!e.properties||!Array.isArray(e.properties))throw new Error("Invalid properties array for your JSON data.");e.properties=e.properties.map((function(t){return{field:"object"===o(t)?t.field:t,displayName:"object"===o(t)?t.displayName:t,columnSize:"object"===o(t)&&t.columnSize?t.columnSize+";":100/e.properties.length+"%;"}})),e.printableElement=document.createElement("div"),e.header&&Object(r["addHeader"])(e.printableElement,e),e.printableElement.innerHTML+=s(e),i["default"].send(e,t)}}},"./src/js/modal.js":
/*!*************************!*\
  !*** ./src/js/modal.js ***!
  \*************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r={show:function(e){var t="font-family:sans-serif; display:table; text-align:center; font-weight:300; font-size:30px; left:0; top:0;position:fixed; z-index: 9990;color: #0460B5; width: 100%; height: 100%; background-color:rgba(255,255,255,.9);transition: opacity .3s ease;",n=document.createElement("div");n.setAttribute("style",t),n.setAttribute("id","printJS-Modal");var i=document.createElement("div");i.setAttribute("style","display:table-cell; vertical-align:middle; padding-bottom:100px;");var o=document.createElement("div");o.setAttribute("class","printClose"),o.setAttribute("id","printClose"),i.appendChild(o);var s=document.createElement("span");s.setAttribute("class","printSpinner"),i.appendChild(s);var a=document.createTextNode(e.modalMessage);i.appendChild(a),n.appendChild(i),document.getElementsByTagName("body")[0].appendChild(n),document.getElementById("printClose").addEventListener("click",(function(){r.close()}))},close:function(){var e=document.getElementById("printJS-Modal");e&&e.parentNode.removeChild(e)}};t["default"]=r},"./src/js/pdf.js":
/*!***********************!*\
  !*** ./src/js/pdf.js ***!
  \***********************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./print */"./src/js/print.js"),i=n(/*! ./functions */"./src/js/functions.js");function o(e,t,n){var i=new window.Blob([n],{type:"application/pdf"});i=window.URL.createObjectURL(i),t.setAttribute("src",i),r["default"].send(e,t)}t["default"]={print:function(e,t){if(e.base64){var n=Uint8Array.from(atob(e.printable),(function(e){return e.charCodeAt(0)}));o(e,t,n)}else{e.printable=/^(blob|http|\/\/)/i.test(e.printable)?e.printable:window.location.origin+("/"!==e.printable.charAt(0)?"/"+e.printable:e.printable);var r=new window.XMLHttpRequest;r.responseType="arraybuffer",r.addEventListener("error",(function(){Object(i["cleanUp"])(e),e.onError(r.statusText,r)})),r.addEventListener("load",(function(){if(-1===[200,201].indexOf(r.status))return Object(i["cleanUp"])(e),void e.onError(r.statusText,r);o(e,t,r.response)})),r.open("GET",e.printable,!0),r.send()}}}},"./src/js/print.js":
/*!*************************!*\
  !*** ./src/js/print.js ***!
  \*************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./browser */"./src/js/browser.js"),i=n(/*! ./functions */"./src/js/functions.js"),o={send:function(e,t){document.getElementsByTagName("body")[0].appendChild(t);var n=document.getElementById(e.frameId);n.onload=function(){if("pdf"!==e.type){var t=n.contentWindow||n.contentDocument;if(t.document&&(t=t.document),t.body.appendChild(e.printableElement),"pdf"!==e.type&&e.style){var i=document.createElement("style");i.innerHTML=e.style,t.head.appendChild(i)}var o=t.getElementsByTagName("img");o.length>0?a(Array.from(o)).then((function(){return s(n,e)})):s(n,e)}else r["default"].isFirefox()?setTimeout((function(){return s(n,e)}),1e3):s(n,e)}}};function s(e,t){try{if(e.focus(),r["default"].isEdge()||r["default"].isIE())try{e.contentWindow.document.execCommand("print",!1,null)}catch(n){e.contentWindow.print()}else e.contentWindow.print()}catch(o){t.onError(o)}finally{r["default"].isFirefox()&&(e.style.visibility="hidden",e.style.left="-1px"),Object(i["cleanUp"])(t)}}function a(e){var t=e.map((function(e){if(e.src&&e.src!==window.location.href)return l(e)}));return Promise.all(t)}function l(e){return new Promise((function(t){var n=function n(){e&&"undefined"!==typeof e.naturalWidth&&0!==e.naturalWidth&&e.complete?t():setTimeout(n,500)};n()}))}t["default"]=o},"./src/js/raw-html.js":
/*!****************************!*\
  !*** ./src/js/raw-html.js ***!
  \****************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var r=n(/*! ./print */"./src/js/print.js");t["default"]={print:function(e,t){e.printableElement=document.createElement("div"),e.printableElement.setAttribute("style","width:100%"),e.printableElement.innerHTML=e.printable,r["default"].send(e,t)}}},"./src/sass/index.scss":
/*!*****************************!*\
  !*** ./src/sass/index.scss ***!
  \*****************************/
/*! no static exports found */function(e,t,n){},0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */function(e,t,n){e.exports=n(/*! ./src/index.js */"./src/index.js")}})["default"]}))},60738:function(e,t){var n,r,i;(function(o,s){r=[],n=s,i="function"===typeof n?n.apply(t,r):n,void 0===i||(e.exports=i)})("undefined"!==typeof self&&self,(function(){function e(){}e.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},e.prototype.restoreState=function(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx},e.prototype.pattern=function(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");var t=this.disjunction();this.consumeChar("/");var n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};while(this.isRegExpFlag())switch(this.popChar()){case"g":a(n,"global");break;case"i":a(n,"ignoreCase");break;case"m":a(n,"multiLine");break;case"u":a(n,"unicode");break;case"y":a(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}},e.prototype.disjunction=function(){var e=[],t=this.idx;e.push(this.alternative());while("|"===this.peekChar())this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}},e.prototype.alternative=function(){var e=[],t=this.idx;while(this.isTerm())e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}},e.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},e.prototype.assertion=function(){var e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":var t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break}l(t);var n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(e)}}u()},e.prototype.quantifier=function(e){var t,n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":var r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":var i;this.isDigit()?(i=this.integerIncludingZero(),t={atLeast:r,atMost:i}):t={atLeast:r,atMost:1/0},this.consumeChar("}");break}if(!0===e&&void 0===t)return;l(t);break}if(!0!==e||void 0!==t)return l(t),"?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t},e.prototype.atom=function(){var e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),l(e),e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e},e.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[o("\n"),o("\r"),o("\u2028"),o("\u2029")]}},e.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.decimalEscapeAtom=function(){var e=this.positiveInteger();return{type:"GroupBackReference",value:e}},e.prototype.characterClassEscape=function(){var e,t=!1;switch(this.popChar()){case"d":e=c;break;case"D":e=c,t=!0;break;case"s":e=d;break;case"S":e=d,t=!0;break;case"w":e=h;break;case"W":e=h,t=!0;break}return l(e),{type:"Set",value:e,complement:t}},e.prototype.controlEscapeAtom=function(){var e;switch(this.popChar()){case"f":e=o("\f");break;case"n":e=o("\n");break;case"r":e=o("\r");break;case"t":e=o("\t");break;case"v":e=o("\v");break}return l(e),{type:"Character",value:e}},e.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");var t=e.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:t}},e.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:o("\0")}},e.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},e.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},e.prototype.identityEscapeAtom=function(){var e=this.popChar();return{type:"Character",value:o(e)}},e.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var e=this.popChar();return{type:"Character",value:o(e)}}},e.prototype.characterClass=function(){var e=[],t=!1;this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);while(this.isClassAtom()){var n=this.classAtom(),r="Character"===n.type;if(r&&this.isRangeDash()){this.consumeChar("-");var i=this.classAtom(),a="Character"===i.type;if(a){if(i.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:i.value})}else s(n.value,e),e.push(o("-")),s(i.value,e)}else s(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}},e.prototype.classAtom=function(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},e.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:o("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},e.prototype.group=function(){var e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}var t=this.disjunction();this.consumeChar(")");var n={type:"Group",capturing:e,value:t};return e&&(n.idx=this.groupIdx),n},e.prototype.positiveInteger=function(){var e=this.popChar();if(!1===i.test(e))throw Error("Expecting a positive integer");while(r.test(this.peekChar(0)))e+=this.popChar();return parseInt(e,10)},e.prototype.integerIncludingZero=function(){var e=this.popChar();if(!1===r.test(e))throw Error("Expecting an integer");while(r.test(this.peekChar(0)))e+=this.popChar();return parseInt(e,10)},e.prototype.patternCharacter=function(){var e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:o(e)}}},e.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},e.prototype.isRangeDash=function(){return"-"===this.peekChar()&&this.isClassAtom(1)},e.prototype.isDigit=function(){return r.test(this.peekChar(0))},e.prototype.isClassAtom=function(e){switch(void 0===e&&(e=0),this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},e.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},e.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}},e.prototype.isQuantifier=function(){var e=this.saveState();try{return void 0!==this.quantifier(!0)}catch(t){return!1}finally{this.restoreState(e)}},e.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},e.prototype.parseHexDigits=function(e){for(var t="",r=0;r<e;r++){var i=this.popChar();if(!1===n.test(i))throw Error("Expecting a HexDecimal digits");t+=i}var o=parseInt(t,16);return{type:"Character",value:o}},e.prototype.peekChar=function(e){return void 0===e&&(e=0),this.input[this.idx+e]},e.prototype.popChar=function(){var e=this.peekChar(0);return this.consumeChar(),e},e.prototype.consumeChar=function(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},e.prototype.loc=function(e){return{begin:e,end:this.idx}};var t,n=/[0-9a-fA-F]/,r=/[0-9]/,i=/[1-9]/;function o(e){return e.charCodeAt(0)}function s(e,t){void 0!==e.length?e.forEach((function(e){t.push(e)})):t.push(e)}function a(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t]=!0}function l(e){if(void 0===e)throw Error("Internal Error - Should never get here!")}function u(){throw Error("Internal Error - Should never get here!")}var c=[];for(t=o("0");t<=o("9");t++)c.push(t);var h=[o("_")].concat(c);for(t=o("a");t<=o("z");t++)h.push(t);for(t=o("A");t<=o("Z");t++)h.push(t);var d=[o(" "),o("\f"),o("\n"),o("\r"),o("\t"),o("\v"),o("\t"),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o(""),o("\u2028"),o("\u2029"),o(""),o(""),o(""),o("\ufeff")];function f(){}return f.prototype.visitChildren=function(e){for(var t in e){var n=e[t];e.hasOwnProperty(t)&&(void 0!==n.type?this.visit(n):Array.isArray(n)&&n.forEach((function(e){this.visit(e)}),this))}},f.prototype.visit=function(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)},f.prototype.visitPattern=function(e){},f.prototype.visitFlags=function(e){},f.prototype.visitDisjunction=function(e){},f.prototype.visitAlternative=function(e){},f.prototype.visitStartAnchor=function(e){},f.prototype.visitEndAnchor=function(e){},f.prototype.visitWordBoundary=function(e){},f.prototype.visitNonWordBoundary=function(e){},f.prototype.visitLookahead=function(e){},f.prototype.visitNegativeLookahead=function(e){},f.prototype.visitCharacter=function(e){},f.prototype.visitSet=function(e){},f.prototype.visitGroup=function(e){},f.prototype.visitGroupBackReference=function(e){},f.prototype.visitQuantifier=function(e){},{RegExpParser:e,BaseRegExpVisitor:f,VERSION:"0.5.0"}}))},46919:function(e){function t(){}t.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,s=r.length;o<s;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=t,e.exports.TinyEmitter=t},22110:function(e){e.exports=function(e,t,n){const r=void 0!==e.__vccOpts?e.__vccOpts:e,i=r[t];if(void 0===i)r[t]=n;else for(var o in n)void 0===i[o]&&(i[o]=n[o])}},1317:function(e,t){"use strict";t.A=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},41336:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]});t.__esModule=!0;var i=n(77942),o=n(65976);i["default"].install=function(e){return e.component(i["default"].name,i["default"]),e.component(o["default"].name,o["default"]),e};var s=n(65976);r(t,s,"default","DraggableContainer"),t["default"]=i["default"]},78459:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseTransition:function(){return r.pR},BaseTransitionPropsValidators:function(){return r.QP},Comment:function(){return r.Mw},DeprecationTypes:function(){return r.aT},EffectScope:function(){return r.yC},ErrorCodes:function(){return r.tG},ErrorTypeStrings:function(){return r.ZQ},Fragment:function(){return r.FK},KeepAlive:function(){return r.PR},ReactiveEffect:function(){return r.X2},Static:function(){return r.jC},Suspense:function(){return r.tY},Teleport:function(){return r.Im},Text:function(){return r.EY},TrackOpTypes:function(){return r.Ul},Transition:function(){return r.eB},TransitionGroup:function(){return r.F},TriggerOpTypes:function(){return r.PP},VueElement:function(){return r.Vy},assertNumber:function(){return r.U4},callWithAsyncErrorHandling:function(){return r.qL},callWithErrorHandling:function(){return r.gh},camelize:function(){return r.PT},capitalize:function(){return r.ZH},cloneVNode:function(){return r.E3},compatUtils:function(){return r.Y5},compile:function(){return i},computed:function(){return r.EW},createApp:function(){return r.Ef},createBlock:function(){return r.Wv},createCommentVNode:function(){return r.Q3},createElementBlock:function(){return r.CE},createElementVNode:function(){return r.Lk},createHydrationRenderer:function(){return r.ci},createPropsRestProxy:function(){return r.bn},createRenderer:function(){return r.K9},createSSRApp:function(){return r.m1},createSlots:function(){return r.eX},createStaticVNode:function(){return r.Fv},createTextVNode:function(){return r.eW},createVNode:function(){return r.bF},customRef:function(){return r.rY},defineAsyncComponent:function(){return r.$V},defineComponent:function(){return r.pM},defineCustomElement:function(){return r.Xq},defineEmits:function(){return r.qP},defineExpose:function(){return r.wk},defineModel:function(){return r.NP},defineOptions:function(){return r.GM},defineProps:function(){return r.Yj},defineSSRCustomElement:function(){return r.Po},defineSlots:function(){return r.Lu},devtools:function(){return r.lt},effect:function(){return r.QZ},effectScope:function(){return r.uY},getCurrentInstance:function(){return r.nI},getCurrentScope:function(){return r.o5},getTransitionRawChildren:function(){return r.Df},guardReactiveProps:function(){return r.Ng},h:function(){return r.h},handleError:function(){return r.H4},hasInjectionContext:function(){return r.PS},hydrate:function(){return r.Qv},initCustomFormatter:function(){return r.y$},initDirectivesForSSR:function(){return r.Ib},inject:function(){return r.WQ},isMemoSame:function(){return r.Bs},isProxy:function(){return r.ju},isReactive:function(){return r.g8},isReadonly:function(){return r.Tm},isRef:function(){return r.i9},isRuntimeOnly:function(){return r.dA},isShallow:function(){return r.fE},isVNode:function(){return r.vv},markRaw:function(){return r.IG},mergeDefaults:function(){return r.HF},mergeModels:function(){return r.zz},mergeProps:function(){return r.v6},nextTick:function(){return r.dY},normalizeClass:function(){return r.C4},normalizeProps:function(){return r._B},normalizeStyle:function(){return r.Tr},onActivated:function(){return r.n},onBeforeMount:function(){return r.KC},onBeforeUnmount:function(){return r.xo},onBeforeUpdate:function(){return r.Ic},onDeactivated:function(){return r.Y4},onErrorCaptured:function(){return r.qG},onMounted:function(){return r.sV},onRenderTracked:function(){return r.qR},onRenderTriggered:function(){return r.bj},onScopeDispose:function(){return r.jr},onServerPrefetch:function(){return r.SS},onUnmounted:function(){return r.hi},onUpdated:function(){return r.$u},openBlock:function(){return r.uX},popScopeId:function(){return r.jt},provide:function(){return r.Gt},proxyRefs:function(){return r.Pr},pushScopeId:function(){return r.Qi},queuePostFlushCb:function(){return r.Dl},reactive:function(){return r.Kh},readonly:function(){return r.tB},ref:function(){return r.KR},registerRuntimeCompiler:function(){return r.tC},render:function(){return r.XX},renderList:function(){return r.pI},renderSlot:function(){return r.RG},resolveComponent:function(){return r.g2},resolveDirective:function(){return r.gN},resolveDynamicComponent:function(){return r.$y},resolveFilter:function(){return r.LJ},resolveTransitionHooks:function(){return r.OW},setBlockTracking:function(){return r.Vq},setDevtoolsHook:function(){return r.iD},setTransitionHooks:function(){return r.MZ},shallowReactive:function(){return r.Gc},shallowReadonly:function(){return r.nD},shallowRef:function(){return r.IJ},ssrContextKey:function(){return r.Fw},ssrUtils:function(){return r.Gw},stop:function(){return r.ds},toDisplayString:function(){return r.v_},toHandlerKey:function(){return r.rU},toHandlers:function(){return r.Tb},toRaw:function(){return r.ux},toRef:function(){return r.lW},toRefs:function(){return r.QW},toValue:function(){return r.BA},transformVNodeArgs:function(){return r.gW},triggerRef:function(){return r.mu},unref:function(){return r.R1},useAttrs:function(){return r.OA},useCssModule:function(){return r.D},useCssVars:function(){return r.$9},useModel:function(){return r.fn},useSSRContext:function(){return r.LM},useSlots:function(){return r.Ht},useTransitionState:function(){return r.Gy},vModelCheckbox:function(){return r.lH},vModelDynamic:function(){return r.hp},vModelRadio:function(){return r.XL},vModelSelect:function(){return r.u1},vModelText:function(){return r.Jo},vShow:function(){return r.aG},version:function(){return r.rE},warn:function(){return r.R8},watch:function(){return r.wB},watchEffect:function(){return r.nT},watchPostEffect:function(){return r.p9},watchSyncEffect:function(){return r.U_},withAsyncContext:function(){return r.E},withCtx:function(){return r.k6},withDefaults:function(){return r.rO},withDirectives:function(){return r.bo},withKeys:function(){return r.jR},withMemo:function(){return r.bU},withModifiers:function(){return r.D$},withScopeId:function(){return r.YY}});var r=n(39798);
/**
* vue v3.4.26
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const i=()=>{0}},50179:function(e,t,n){(function(t,r){e.exports=r(n(78459),n(3370))})("undefined"!==typeof self&&self,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00ee":function(e,t,n){var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"0366":function(e,t,n){var r=n("1c0b");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(t){return s.slice()}};e.exports.f=function(e){return s&&"[object Window]"==o.call(e)?a(e):i(r(e))}},"06cf":function(e,t,n){var r=n("83ab"),i=n("d1e7"),o=n("5c6c"),s=n("fc6a"),a=n("c04e"),l=n("5135"),u=n("0cfb"),c=Object.getOwnPropertyDescriptor;t.f=r?c:function(e,t){if(e=s(e),t=a(t,!0),u)try{return c(e,t)}catch(n){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},"0cfb":function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"13d5":function(e,t,n){"use strict";var r=n("23e7"),i=n("d58f").left,o=n("a640"),s=n("ae40"),a=o("reduce"),l=s("reduce",{1:0});r({target:"Array",proto:!0,forced:!a||!l},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var o=n.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("17c2"),s=n("9112");for(var a in i){var l=r[a],u=l&&l.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(c){u.forEach=o}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=n("ae40"),s=i("forEach"),a=o("forEach");e.exports=s&&a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"23cb":function(e,t,n){var r=n("a691"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23e7":function(e,t,n){var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("6eeb"),a=n("ce4e"),l=n("e893"),u=n("94ca");e.exports=function(e,t){var n,c,h,d,f,p,m=e.target,g=e.global,v=e.stat;if(c=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,c)for(h in t){if(f=t[h],e.noTargetGet?(p=i(c,h),d=p&&p.value):d=c[h],n=u(g?h:m+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f===typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(c,h,f,e)}}},"241c":function(e,t,n){var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},"25f0":function(e,t,n){"use strict";var r=n("6eeb"),i=n("825a"),o=n("d039"),s=n("ad6d"),a="toString",l=RegExp.prototype,u=l[a],c=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),h=u.name!=a;(c||h)&&r(RegExp.prototype,a,(function(){var e=i(this),t=String(e.source),n=e.flags,r=String(void 0===n&&e instanceof RegExp&&!("flags"in l)?s.call(e):n);return"/"+t+"/"+r}),{unsafe:!0})},"2ca0":function(e,t,n){"use strict";var r=n("23e7"),i=n("06cf").f,o=n("50c4"),s=n("5a34"),a=n("1d80"),l=n("ab13"),u=n("c430"),c="".startsWith,h=Math.min,d=l("startsWith"),f=!u&&!d&&!!function(){var e=i(String.prototype,"startsWith");return e&&!e.writable}();r({target:"String",proto:!0,forced:!f&&!d},{startsWith:function(e){var t=String(a(this));s(e);var n=o(h(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return c?c.call(t,r,n):t.slice(n,n+r.length)===r}})},"2d00":function(e,t,n){var r,i,o=n("da84"),s=n("342f"),a=o.process,l=a&&a.versions,u=l&&l.v8;u?(r=u.split("."),i=r[0]+r[1]):s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=r[1]))),e.exports=i&&+i},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),o=n("b622"),s=o("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("825a"),s=n("df75");e.exports=r?Object.defineProperties:function(e,t){o(e);var n,r=s(t),a=r.length,l=0;while(a>l)i.f(e,n=r[l++],t[n]);return e}},"3bbe":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("69f3"),o=n("7dd0"),s="String Iterator",a=i.set,l=i.getterFor(s);o(String,"String",(function(e){a(this,{type:s,string:String(e),index:0})}),(function(){var e,t=l(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},4160:function(e,t,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(e,t,n){var r=n("da84");e.exports=r},"44ad":function(e,t,n){var r=n("d039"),i=n("c6b6"),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var r=n("b622"),i=n("7c73"),o=n("9bf2"),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44e7":function(e,t,n){var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},4930:function(e,t,n){var r=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var r=n("fc6a"),i=n("50c4"),o=n("23cb"),s=function(e){return function(t,n,s){var a,l=r(t),u=i(l.length),c=o(s,u);if(e&&n!=n){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=n("ae40"),a=o("filter"),l=s("filter");r({target:"Array",proto:!0,forced:!a||!l},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),o=n("9bdd"),s=n("e95a"),a=n("50c4"),l=n("8418"),u=n("35a1");e.exports=function(e){var t,n,c,h,d,f,p=i(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,b=u(p),w=0;if(y&&(v=r(v,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&s(b))for(t=a(p.length),n=new m(t);t>w;w++)f=y?v(p[w],w):p[w],l(n,w,f);else for(h=b.call(p),d=h.next,n=new m;!(c=d.call(h)).done;w++)f=y?o(h,v,[c.value,w],!0):c.value,l(n,w,f);return n.length=w,n}},"4fad":function(e,t,n){var r=n("23e7"),i=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"50c4":function(e,t,n){var r=n("a691"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5319:function(e,t,n){"use strict";var r=n("d784"),i=n("825a"),o=n("7b0b"),s=n("50c4"),a=n("a691"),l=n("1d80"),u=n("8aa5"),c=n("14c3"),h=Math.max,d=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g,g=function(e){return void 0===e?e:String(e)};r("replace",2,(function(e,t,n,r){var v=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,y=r.REPLACE_KEEPS_$0,b=v?"$":"$0";return[function(n,r){var i=l(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!v&&y||"string"===typeof r&&-1===r.indexOf(b)){var o=n(t,e,this,r);if(o.done)return o.value}var l=i(e),f=String(this),p="function"===typeof r;p||(r=String(r));var m=l.global;if(m){var _=l.unicode;l.lastIndex=0}var E=[];while(1){var S=c(l,f);if(null===S)break;if(E.push(S),!m)break;var T=String(S[0]);""===T&&(l.lastIndex=u(f,s(l.lastIndex),_))}for(var M="",C=0,R=0;R<E.length;R++){S=E[R];for(var x=String(S[0]),A=h(d(a(S.index),f.length),0),N=[],L=1;L<S.length;L++)N.push(g(S[L]));var k=S.groups;if(p){var O=[x].concat(N,A,f);void 0!==k&&O.push(k);var I=String(r.apply(void 0,O))}else I=w(x,f,A,N,k,r);A>=C&&(M+=f.slice(C,A)+I,C=A+x.length)}return M+f.slice(C)}];function w(e,n,r,i,s,a){var l=r+e.length,u=i.length,c=m;return void 0!==s&&(s=o(s),c=p),t.call(a,c,(function(t,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":a=s[o.slice(1,-1)];break;default:var c=+o;if(0===c)return t;if(c>u){var h=f(c/10);return 0===h?t:h<=u?void 0===i[h-1]?o.charAt(1):i[h-1]+o.charAt(1):t}a=i[c-1]}return void 0===a?"":a}))}}))},5692:function(e,t,n){var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var r=n("d066"),i=n("241c"),o=n("7418"),s=n("825a");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5db7":function(e,t,n){"use strict";var r=n("23e7"),i=n("a2bf"),o=n("7b0b"),s=n("50c4"),a=n("1c0b"),l=n("65f0");r({target:"Array",proto:!0},{flatMap:function(e){var t,n=o(this),r=s(n.length);return a(e),t=l(n,0),t.length=i(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},6547:function(e,t,n){var r=n("a691"),i=n("1d80"),o=function(e){return function(t,n){var o,s,a=String(i(t)),l=r(n),u=a.length;return l<0||l>=u?e?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?e?a.charAt(l):o:e?a.slice(l,l+2):s-56320+(o-55296<<10)+65536)}};e.exports={codeAt:o(!1),charAt:o(!0)}},"65f0":function(e,t,n){var r=n("861d"),i=n("e8b5"),o=n("b622"),s=o("species");e.exports=function(e,t){var n;return i(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?r(n)&&(n=n[s],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},"69f3":function(e,t,n){var r,i,o,s=n("7f9a"),a=n("da84"),l=n("861d"),u=n("9112"),c=n("5135"),h=n("f772"),d=n("d012"),f=a.WeakMap,p=function(e){return o(e)?i(e):r(e,{})},m=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(s){var g=new f,v=g.get,y=g.has,b=g.set;r=function(e,t){return b.call(g,e,t),t},i=function(e){return v.call(g,e)||{}},o=function(e){return y.call(g,e)}}else{var w=h("state");d[w]=!0,r=function(e,t){return u(e,w,t),t},i=function(e){return c(e,w)?e[w]:{}},o=function(e){return c(e,w)}}e.exports={set:r,get:i,has:o,enforce:p,getterFor:m}},"6eeb":function(e,t,n){var r=n("da84"),i=n("9112"),o=n("5135"),s=n("ce4e"),a=n("8925"),l=n("69f3"),u=l.get,c=l.enforce,h=String(String).split("String");(e.exports=function(e,t,n,a){var l=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),c(n).source=h.join("string"==typeof t?t:"")),e!==r?(l?!d&&e[t]&&(u=!0):delete e[t],u?e[t]=n:i(e,t,n)):u?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},"6f53":function(e,t,n){var r=n("83ab"),i=n("df75"),o=n("fc6a"),s=n("d1e7").f,a=function(e){return function(t){var n,a=o(t),l=i(a),u=l.length,c=0,h=[];while(u>c)n=l[c++],r&&!s.call(a,n)||h.push(e?[n,a[n]]:a[n]);return h}};e.exports={entries:a(!0),values:a(!1)}},"73d9":function(e,t,n){var r=n("44d2");r("flatMap")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),o=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var r=n("1d80");e.exports=function(e){return Object(r(e))}},"7c73":function(e,t,n){var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),l=n("1be4"),u=n("cc12"),c=n("f772"),h=">",d="<",f="prototype",p="script",m=c("IE_PROTO"),g=function(){},v=function(e){return d+p+h+e+d+"/"+p+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},w=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}w=r?y(r):b();var e=s.length;while(e--)delete w[f][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=i(e),n=new g,g[f]=null,n[m]=e):n=w(),void 0===t?n:o(n,t)}},"7dd0":function(e,t,n){"use strict";var r=n("23e7"),i=n("9ed3"),o=n("e163"),s=n("d2bb"),a=n("d44e"),l=n("9112"),u=n("6eeb"),c=n("b622"),h=n("c430"),d=n("3f8c"),f=n("ae93"),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),v="keys",y="values",b="entries",w=function(){return this};e.exports=function(e,t,n,c,f,_,E){i(n,t,c);var S,T,M,C=function(e){if(e===f&&L)return L;if(!m&&e in A)return A[e];switch(e){case v:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",x=!1,A=e.prototype,N=A[g]||A["@@iterator"]||f&&A[f],L=!m&&N||C(f),k="Array"==t&&A.entries||N;if(k&&(S=o(k.call(new e)),p!==Object.prototype&&S.next&&(h||o(S)===p||(s?s(S,p):"function"!=typeof S[g]&&l(S,g,w)),a(S,R,!0,!0),h&&(d[R]=w))),f==y&&N&&N.name!==y&&(x=!0,L=function(){return N.call(this)}),h&&!E||A[g]===L||l(A,g,L),d[t]=L,f)if(T={values:C(y),keys:_?L:C(v),entries:C(b)},E)for(M in T)(m||x||!(M in A))&&u(A,M,T[M]);else r({target:t,proto:!0,forced:m||x},T);return T}},"7f9a":function(e,t,n){var r=n("da84"),i=n("8925"),o=r.WeakMap;e.exports="function"===typeof o&&/native code/.test(i(o))},"825a":function(e,t,n){var r=n("861d");e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("c04e"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8875:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,r,i,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,a=o.exec(f.stack)||s.exec(f.stack),l=a&&a[1]||!1,u=a&&a[2]||!1,c=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");l===c&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=n.replace(r,"$1").trim());for(var d=0;d<h.length;d++){if("interactive"===h[d].readyState)return h[d];if(h[d].src===l)return h[d];if(l===c&&h[d].innerHTML&&h[d].innerHTML.trim()===i)return h[d]}return null}}return e}))},8925:function(e,t,n){var r=n("c6cd"),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8bbf":function(t,n){t.exports=e},"90e3":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},9112:function(e,t,n){var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),o=RegExp.prototype.exec,s=String.prototype.replace,a=o,l=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,c=void 0!==/()??/.exec("")[1],h=l||c||u;h&&(a=function(e){var t,n,i,a,h=this,d=u&&h.sticky,f=r.call(h),p=h.source,m=0,g=e;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(e).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==e[h.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",f)),c&&(n=new RegExp("^"+p+"$(?!\\s)",f)),l&&(t=h.lastIndex),i=o.call(d?n:h,g),d?i?(i.input=i.input.slice(m),i[0]=i[0].slice(m),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:l&&i&&(h.lastIndex=h.global?i.index+i[0].length:t),c&&i&&i.length>1&&s.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i}),e.exports=a},"94ca":function(e,t,n){var r=n("d039"),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==u||n!=l&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},l=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),a=n("7b0b"),l=n("50c4"),u=n("8418"),c=n("65f0"),h=n("1dde"),d=n("b622"),f=n("2d00"),p=d("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=f>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),y=h("concat"),b=function(e){if(!s(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},w=!v||!y;r({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,r,i,o,s=a(this),h=c(s,0),d=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],b(o)){if(i=l(o.length),d+i>m)throw TypeError(g);for(n=0;n<i;n++,d++)n in o&&u(h,d,o[n])}else{if(d>=m)throw TypeError(g);u(h,d++,o)}return h.length=d,h}})},"9bdd":function(e,t,n){var r=n("825a");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},"9bf2":function(e,t,n){var r=n("83ab"),i=n("0cfb"),o=n("825a"),s=n("c04e"),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9ed3":function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),l=function(){return this};e.exports=function(e,t,n){var u=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),s(e,u,!1,!0),a[u]=l,e}},"9f7f":function(e,t,n){"use strict";var r=n("d039");function i(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a2bf:function(e,t,n){"use strict";var r=n("e8b5"),i=n("50c4"),o=n("0366"),s=function(e,t,n,a,l,u,c,h){var d,f=l,p=0,m=!!c&&o(c,h,3);while(p<a){if(p in n){if(d=m?m(n[p],p,t):n[p],u>0&&r(d))f=s(e,t,d,i(d.length),f,u-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=d}f++}p++}return f};e.exports=s},a352:function(e,n){e.exports=t},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),o=n("a691"),s=n("50c4"),a=n("7b0b"),l=n("65f0"),u=n("8418"),c=n("1dde"),h=n("ae40"),d=c("splice"),f=h("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d||!f},{splice:function(e,t){var n,r,c,h,d,f,y=a(this),b=s(y.length),w=i(e,b),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=b-w):(n=_-2,r=m(p(o(t),0),b-w)),b+n-r>g)throw TypeError(v);for(c=l(y,r),h=0;h<r;h++)d=w+h,d in y&&u(c,h,y[d]);if(c.length=r,n<r){for(h=w;h<b-r;h++)d=h+r,f=h+n,d in y?y[f]=y[d]:delete y[f];for(h=b;h>b-r+n;h--)delete y[h-1]}else if(n>r)for(h=b-r;h>w;h--)d=h+r-1,f=h+n-1,d in y?y[f]=y[d]:delete y[f];for(h=0;h<n;h++)y[h+w]=arguments[h+2];return y.length=b-r+n,c}})},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),s=n("c430"),a=n("83ab"),l=n("4930"),u=n("fdbf"),c=n("d039"),h=n("5135"),d=n("e8b5"),f=n("861d"),p=n("825a"),m=n("7b0b"),g=n("fc6a"),v=n("c04e"),y=n("5c6c"),b=n("7c73"),w=n("df75"),_=n("241c"),E=n("057f"),S=n("7418"),T=n("06cf"),M=n("9bf2"),C=n("d1e7"),R=n("9112"),x=n("6eeb"),A=n("5692"),N=n("f772"),L=n("d012"),k=n("90e3"),O=n("b622"),I=n("e538"),P=n("746f"),D=n("d44e"),F=n("69f3"),H=n("b727").forEach,U=N("hidden"),B="Symbol",j="prototype",Y=O("toPrimitive"),V=F.set,W=F.getterFor(B),z=Object[j],G=i.Symbol,$=o("JSON","stringify"),q=T.f,K=M.f,X=E.f,J=C.f,Q=A("symbols"),Z=A("op-symbols"),ee=A("string-to-symbol-registry"),te=A("symbol-to-string-registry"),ne=A("wks"),re=i.QObject,ie=!re||!re[j]||!re[j].findChild,oe=a&&c((function(){return 7!=b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=q(z,t);r&&delete z[t],K(e,t,n),r&&e!==z&&K(z,t,r)}:K,se=function(e,t){var n=Q[e]=b(G[j]);return V(n,{type:B,tag:e,description:t}),a||(n.description=t),n},ae=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof G},le=function(e,t,n){e===z&&le(Z,t,n),p(e);var r=v(t,!0);return p(n),h(Q,r)?(n.enumerable?(h(e,U)&&e[U][r]&&(e[U][r]=!1),n=b(n,{enumerable:y(0,!1)})):(h(e,U)||K(e,U,y(1,{})),e[U][r]=!0),oe(e,r,n)):K(e,r,n)},ue=function(e,t){p(e);var n=g(t),r=w(n).concat(pe(n));return H(r,(function(t){a&&!he.call(n,t)||le(e,t,n[t])})),e},ce=function(e,t){return void 0===t?b(e):ue(b(e),t)},he=function(e){var t=v(e,!0),n=J.call(this,t);return!(this===z&&h(Q,t)&&!h(Z,t))&&(!(n||!h(this,t)||!h(Q,t)||h(this,U)&&this[U][t])||n)},de=function(e,t){var n=g(e),r=v(t,!0);if(n!==z||!h(Q,r)||h(Z,r)){var i=q(n,r);return!i||!h(Q,r)||h(n,U)&&n[U][r]||(i.enumerable=!0),i}},fe=function(e){var t=X(g(e)),n=[];return H(t,(function(e){h(Q,e)||h(L,e)||n.push(e)})),n},pe=function(e){var t=e===z,n=X(t?Z:g(e)),r=[];return H(n,(function(e){!h(Q,e)||t&&!h(z,e)||r.push(Q[e])})),r};if(l||(G=function(){if(this instanceof G)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=k(e),n=function(e){this===z&&n.call(Z,e),h(this,U)&&h(this[U],t)&&(this[U][t]=!1),oe(this,t,y(1,e))};return a&&ie&&oe(z,t,{configurable:!0,set:n}),se(t,e)},x(G[j],"toString",(function(){return W(this).tag})),x(G,"withoutSetter",(function(e){return se(k(e),e)})),C.f=he,M.f=le,T.f=de,_.f=E.f=fe,S.f=pe,I.f=function(e){return se(O(e),e)},a&&(K(G[j],"description",{configurable:!0,get:function(){return W(this).description}}),s||x(z,"propertyIsEnumerable",he,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:G}),H(w(ne),(function(e){P(e)})),r({target:B,stat:!0,forced:!l},{for:function(e){var t=String(e);if(h(ee,t))return ee[t];var n=G(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!ae(e))throw TypeError(e+" is not a symbol");if(h(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!a},{create:ce,defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:fe,getOwnPropertySymbols:pe}),r({target:"Object",stat:!0,forced:c((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(m(e))}}),$){var me=!l||c((function(){var e=G();return"[null]"!=$([e])||"{}"!=$({a:e})||"{}"!=$(Object(e))}));r({target:"JSON",stat:!0,forced:me},{stringify:function(e,t,n){var r,i=[e],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=t,(f(t)||void 0!==e)&&!ae(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ae(t))return t}),i[1]=t,$.apply(null,i)}})}G[j][Y]||R(G[j],Y,G[j].valueOf),D(G,B),L[U]=!0},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},a691:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var r=n("83ab"),i=n("d039"),o=n("5135"),s=Object.defineProperty,a={},l=function(e){throw e};e.exports=function(e,t){if(o(a,e))return a[e];t||(t={});var n=[][e],u=!!o(t,"ACCESSORS")&&t.ACCESSORS,c=o(t,0)?t[0]:l,h=o(t,1)?t[1]:void 0;return a[e]=!!n&&!i((function(){if(u&&!r)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:l}):e[1]=1,n.call(e,c,h)}))}},ae93:function(e,t,n){"use strict";var r,i,o,s=n("e163"),a=n("9112"),l=n("5135"),u=n("b622"),c=n("c430"),h=u("iterator"),d=!1,f=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=s(s(o)),i!==Object.prototype&&(r=i)):d=!0),void 0==r&&(r={}),c||l(r,h)||a(r,h,f),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(e,t,n){var r=n("83ab"),i=n("9bf2").f,o=Function.prototype,s=o.toString,a=/^\s*function ([^ (]*)/,l="name";r&&!(l in o)&&i(o,l,{configurable:!0,get:function(){try{return s.call(this).match(a)[1]}catch(e){return""}}})},b622:function(e,t,n){var r=n("da84"),i=n("5692"),o=n("5135"),s=n("90e3"),a=n("4930"),l=n("fdbf"),u=i("wks"),c=r.Symbol,h=l?c:c&&c.withoutSetter||s;e.exports=function(e){return o(u,e)||(a&&o(c,e)?u[e]=c[e]:u[e]=h("Symbol."+e)),u[e]}},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return o(i(e))}})},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),s=n("50c4"),a=n("65f0"),l=[].push,u=function(e){var t=1==e,n=2==e,u=3==e,c=4==e,h=6==e,d=5==e||h;return function(f,p,m,g){for(var v,y,b=o(f),w=i(b),_=r(p,m,3),E=s(w.length),S=0,T=g||a,M=t?T(f,E):n?T(f,0):void 0;E>S;S++)if((d||S in w)&&(v=w[S],y=_(v,S,b),e))if(t)M[S]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return S;case 2:l.call(M,v)}else if(c)return!1;return h?-1:u||c?c:M}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c04e:function(e,t,n){var r=n("861d");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var r=n("da84"),i=n("ce4e"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c740:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,o=n("44d2"),s=n("ae40"),a="findIndex",l=!0,u=s(a);a in[]&&Array(1)[a]((function(){l=!1})),r({target:"Array",proto:!0,forced:l||!u},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").indexOf,o=n("a640"),s=n("ae40"),a=[].indexOf,l=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf"),c=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:l||!u||!c},{indexOf:function(e){return l?a.apply(this,arguments)||0:i(this,e,arguments.length>1?arguments[1]:void 0)}})},ca84:function(e,t,n){var r=n("5135"),i=n("fc6a"),o=n("4d64").indexOf,s=n("d012");e.exports=function(e,t){var n,a=i(e),l=0,u=[];for(n in a)!r(s,n)&&r(a,n)&&u.push(n);while(t.length>l)r(a,n=t[l++])&&(~o(u,n)||u.push(n));return u}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("44d2"),s=n("ae40"),a=s("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!a},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cc12:function(e,t,n){var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},ce4e:function(e,t,n){var r=n("da84"),i=n("9112");e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("428f"),i=n("da84"),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d28b:function(e,t,n){var r=n("746f");r("iterator")},d2bb:function(e,t,n){var r=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),i=n("6eeb"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d44e:function(e,t,n){var r=n("9bf2").f,i=n("5135"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},d58f:function(e,t,n){var r=n("1c0b"),i=n("7b0b"),o=n("44ad"),s=n("50c4"),a=function(e){return function(t,n,a,l){r(n);var u=i(t),c=o(u),h=s(u.length),d=e?h-1:0,f=e?-1:1;if(a<2)while(1){if(d in c){l=c[d],d+=f;break}if(d+=f,e?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:h>d;d+=f)d in c&&(l=n(l,c[d],d,u));return l}};e.exports={left:a(!1),right:a(!0)}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("d039"),o=n("b622"),s=n("9263"),a=n("9112"),l=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),h=o("replace"),d=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),f=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,h){var p=o(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!m||!g||"replace"===e&&(!u||!c||d)||"split"===e&&!f){var v=/./[p],y=n(p,""[e],(function(e,t,n,r,i){return t.exec===s?m&&!i?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=y[0],w=y[1];r(String.prototype,e,b),r(RegExp.prototype,p,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}h&&a(RegExp.prototype[p],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=n("ae40"),a=o("map"),l=s("map");r({target:"Array",proto:!0,forced:!a||!l},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),o=n("56ef"),s=n("fc6a"),a=n("06cf"),l=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=s(e),i=a.f,u=o(r),c={},h=0;while(u.length>h)n=i(r,t=u[h++]),void 0!==n&&l(c,t,n);return c}})},dbf1:function(e,t,n){"use strict";(function(e){function r(){return"undefined"!==typeof window?window.console:e.console}n.d(t,"a",(function(){return i}));var i=r()}).call(this,n("c8ba"))},ddb0:function(e,t,n){var r=n("da84"),i=n("fdbc"),o=n("e260"),s=n("9112"),a=n("b622"),l=a("iterator"),u=a("toStringTag"),c=o.values;for(var h in i){var d=r[h],f=d&&d.prototype;if(f){if(f[l]!==c)try{s(f,l,c)}catch(m){f[l]=c}if(f[u]||s(f,u,h),i[h])for(var p in o)if(f[p]!==o[p])try{s(f,p,o[p])}catch(m){f[p]=o[p]}}}},df75:function(e,t,n){var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("5135"),a=n("861d"),l=n("9bf2").f,u=n("e893"),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new c(e):void 0===e?c():c(e);return""===e&&(h[t]=!0),t};u(d,c);var f=d.prototype=c.prototype;f.constructor=d;var p=f.toString,m="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=p.call(e);if(s(h,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e163:function(e,t,n){var r=n("5135"),i=n("7b0b"),o=n("f772"),s=n("e177"),a=o("IE_PROTO"),l=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("7dd0"),l="Array Iterator",u=s.set,c=s.getterFor(l);e.exports=a(Array,"Array",(function(e,t){u(this,{type:l,target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),o=n("fc6a"),s=n("06cf").f,a=n("83ab"),l=i((function(){s(1)})),u=!a||l;r({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},e893:function(e,t,n){var r=n("5135"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t){for(var n=i(t),a=s.f,l=o.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||a(e,c,l(t,c))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},f5df:function(e,t,n){var r=n("00ee"),i=n("c6b6"),o=n("b622"),s=o("toStringTag"),a="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=Object(e),s))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,i=n("8875");r=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("99af"),n("4de4"),n("4160"),n("c975"),n("d81d"),n("a434"),n("159b"),n("a4d3"),n("e439"),n("dbb4"),n("b64b");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){if(Array.isArray(e))return e}n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function c(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(l){i=!0,o=l}finally{try{r||null==a["return"]||a["return"]()}finally{if(i)throw o}}return n}}n("a630"),n("fb6a"),n("b0c0"),n("25f0");function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e){if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return u(e)||c(e,t)||d(e,t)||f()}function m(e){if(Array.isArray(e))return h(e)}function g(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e){return m(e)||g(e)||d(e)||v()}var b=n("a352"),w=n.n(b);function _(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function E(e,t,n){var r=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,r)}var S=n("dbf1");n("13d5"),n("4fad"),n("ac1f"),n("5319");function T(e){var t=Object.create(null);return function(n){var r=t[n];return r||(t[n]=e(n))}}var M=/-(\w)/g,C=T((function(e){return e.replace(M,(function(e,t){return t.toUpperCase()}))})),R=(n("5db7"),n("73d9"),["Start","Add","Remove","Update","End"]),x=["Choose","Unchoose","Sort","Filter","Clone"],A=["Move"],N=[A,R,x].flatMap((function(e){return e})).map((function(e){return"on".concat(e)})),L={manage:A,manageAndEmit:R,emit:x};function k(e){return-1!==N.indexOf(e)}n("caad"),n("2ca0");var O=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function I(e){return O.includes(e)}function P(e){return["transition-group","TransitionGroup"].includes(e)}function D(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function F(e){return e.reduce((function(e,t){var n=p(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}function H(e){var t=e.$attrs,n=e.componentData,r=void 0===n?{}:n,i=F(Object.entries(t).filter((function(e){var t=p(e,2),n=t[0];t[1];return D(n)})));return l(l({},i),r)}function U(e){var t=e.$attrs,n=e.callBackBuilder,r=F(B(t));Object.entries(n).forEach((function(e){var t=p(e,2),n=t[0],i=t[1];L[n].forEach((function(e){r["on".concat(e)]=i(e)}))}));var i="[data-draggable]".concat(r.draggable||"");return l(l({},r),{},{draggable:i})}function B(e){return Object.entries(e).filter((function(e){var t=p(e,2),n=t[0];t[1];return!D(n)})).map((function(e){var t=p(e,2),n=t[0],r=t[1];return[C(n),r]})).filter((function(e){var t=p(e,2),n=t[0];t[1];return!k(n)}))}n("c740");function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&Y(e.prototype,t),n&&Y(e,n),e}var W=function(e){var t=e.el;return t},z=function(e,t){return e.__draggable_context=t},G=function(e){return e.__draggable_context},$=function(){function e(t){var n=t.nodes,r=n.header,i=n.default,o=n.footer,s=t.root,a=t.realList;j(this,e),this.defaultNodes=i,this.children=[].concat(y(r),y(i),y(o)),this.externalComponent=s.externalComponent,this.rootTransition=s.transition,this.tag=s.tag,this.realList=a}return V(e,[{key:"render",value:function(e,t){var n=this.tag,r=this.children,i=this._isRootComponent,o=i?{default:function(){return r}}:r;return e(n,t,o)}},{key:"updated",value:function(){var e=this.defaultNodes,t=this.realList;e.forEach((function(e,n){z(W(e),{element:t[n],index:n})}))}},{key:"getUnderlyingVm",value:function(e){return G(e)}},{key:"getVmIndexFromDomIndex",value:function(e,t){var n=this.defaultNodes,r=n.length,i=t.children,o=i.item(e);if(null===o)return r;var s=G(o);if(s)return s.index;if(0===r)return 0;var a=W(n[0]),l=y(i).findIndex((function(e){return e===a}));return e<l?0:r}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),e}(),q=n("8bbf");function K(e,t){var n=e[t];return n?n():[]}function X(e){var t=e.$slots,n=e.realList,r=e.getKey,i=n||[],o=["header","footer"].map((function(e){return K(t,e)})),s=p(o,2),a=s[0],u=s[1],c=t.item;if(!c)throw new Error("draggable element must have an item slot");var h=i.flatMap((function(e,t){return c({element:e,index:t}).map((function(t){return t.key=r(e),t.props=l(l({},t.props||{}),{},{"data-draggable":!0}),t}))}));if(h.length!==i.length)throw new Error("Item slot must have only one child");return{header:a,footer:u,default:h}}function J(e){var t=P(e),n=!I(e)&&!t;return{transition:t,externalComponent:n,tag:n?Object(q["resolveComponent"])(e):t?q["TransitionGroup"]:e}}function Q(e){var t=e.$slots,n=e.tag,r=e.realList,i=e.getKey,o=X({$slots:t,realList:r,getKey:i}),s=J(n);return new $({nodes:o,root:s,realList:r})}function Z(e,t){var n=this;Object(q["nextTick"])((function(){return n.$emit(e.toLowerCase(),t)}))}function ee(e){var t=this;return function(n,r){if(null!==t.realList)return t["onDrag".concat(e)](n,r)}}function te(e){var t=this,n=ee.call(this,e);return function(r,i){n.call(t,r,i),Z.call(t,e,r)}}var ne=null,re={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(e){return e}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},ie=["update:modelValue","change"].concat(y([].concat(y(L.manageAndEmit),y(L.emit)).map((function(e){return e.toLowerCase()})))),oe=Object(q["defineComponent"])({name:"draggable",inheritAttrs:!1,props:re,emits:ie,data:function(){return{error:!1}},render:function(){try{this.error=!1;var e=this.$slots,t=this.$attrs,n=this.tag,r=this.componentData,i=this.realList,o=this.getKey,s=Q({$slots:e,tag:n,realList:i,getKey:o});this.componentStructure=s;var a=H({$attrs:t,componentData:r});return s.render(q["h"],a)}catch(l){return this.error=!0,Object(q["h"])("pre",{style:{color:"red"}},l.stack)}},created:function(){null!==this.list&&null!==this.modelValue&&S["a"].error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var e=this;if(!this.error){var t=this.$attrs,n=this.$el,r=this.componentStructure;r.updated();var i=U({$attrs:t,callBackBuilder:{manageAndEmit:function(t){return te.call(e,t)},emit:function(t){return Z.bind(e,t)},manage:function(t){return ee.call(e,t)}}}),o=1===n.nodeType?n:n.parentElement;this._sortable=new w.a(o,i),this.targetDomElement=o,o.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{realList:function(){var e=this.list;return e||this.modelValue},getKey:function(){var e=this.itemKey;return"function"===typeof e?e:function(t){return t[e]}}},watch:{$attrs:{handler:function(e){var t=this._sortable;t&&B(e).forEach((function(e){var n=p(e,2),r=n[0],i=n[1];t.option(r,i)}))},deep:!0}},methods:{getUnderlyingVm:function(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent:function(e){return e.__draggable_component__},emitChanges:function(e){var t=this;Object(q["nextTick"])((function(){return t.$emit("change",e)}))},alterList:function(e){if(this.list)e(this.list);else{var t=y(this.modelValue);e(t),this.$emit("update:modelValue",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,y(e))};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,r=this.getUnderlyingPotencialDraggableComponent(t);if(!r)return{component:r};var i=r.realList,o={list:i,component:r};if(t!==n&&i){var s=r.getUnderlyingVm(n)||{};return l(l({},s),o)}return o},getVmIndexFromDomIndex:function(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),ne=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){_(e.item);var n=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(n,0,t);var r={element:t,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(e){if(E(this.$el,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context,n=t.index,r=t.element;this.spliceList(n,1);var i={element:r,oldIndex:n};this.emitChanges({removed:i})}else _(e.clone)},onDragUpdate:function(e){_(e.item),E(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(t,n);var r={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:r})},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=y(t.to.children).filter((function(e){return"none"!==e.style["display"]})),r=n.indexOf(t.related),i=e.component.getVmIndexFromDomIndex(r),o=-1!==n.indexOf(ne);return o||!t.willInsertAfter?i:i+1},onDragMove:function(e,t){var n=this.move,r=this.realList;if(!n||!r)return!0;var i=this.getRelatedContextFromMoveEvent(e),o=this.computeFutureIndex(i,e),s=l(l({},this.context),{},{futureIndex:o}),a=l(l({},e),{},{relatedContext:i,draggedContext:s});return n(a,t)},onDragEnd:function(){ne=null}}}),se=oe;t["default"]=se},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),s=n("23cb"),a=n("50c4"),l=n("fc6a"),u=n("8418"),c=n("b622"),h=n("1dde"),d=n("ae40"),f=h("slice"),p=d("slice",{ACCESSORS:!0,0:0,1:2}),m=c("species"),g=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!f||!p},{slice:function(e,t){var n,r,c,h=l(this),d=a(h.length),f=s(e,d),p=s(void 0===t?d:t,d);if(o(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return g.call(h,f,p);for(r=new(void 0===n?Array:n)(v(p-f,0)),c=0;f<p;f++,c++)f in h&&u(r,c,h[f]);return r.length=c,r}})},fc6a:function(e,t,n){var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("4930");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})["default"]}))},3370:function(e,t,n){"use strict";
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function u(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){return h(e)||d(e)||f(e)||m()}function h(e){if(Array.isArray(e))return p(e)}function d(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.r(t),n.d(t,{MultiDrag:function(){return Vt},Sortable:function(){return nt},Swap:function(){return Lt}});var g="1.14.0";function v(e){if("undefined"!==typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var y=v(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),b=v(/Edge/i),w=v(/firefox/i),_=v(/safari/i)&&!v(/chrome/i)&&!v(/android/i),E=v(/iP(ad|od|hone)/i),S=v(/chrome/i)&&v(/android/i),T={capture:!1,passive:!1};function M(e,t,n){e.addEventListener(t,n,!y&&T)}function C(e,t,n){e.removeEventListener(t,n,!y&&T)}function R(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function x(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function A(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&R(e,t):R(e,t))||r&&e===n)return e;if(e===n)break}while(e=x(e))}return null}var N,L=/\s+/g;function k(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(L," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(L," ")}}function O(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"===typeof n?"":"px")}}function I(e,t){var n="";if("string"===typeof e)n=e;else do{var r=O(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function P(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function D(){var e=document.scrollingElement;return e||document.documentElement}function F(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,s,a,l,u,c,h;if(e!==window&&e.parentNode&&e!==D()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,u=o.right,c=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!y))do{if(i&&i.getBoundingClientRect&&("none"!==O(i,"transform")||n&&"static"!==O(i,"position"))){var d=i.getBoundingClientRect();s-=d.top+parseInt(O(i,"border-top-width")),a-=d.left+parseInt(O(i,"border-left-width")),l=s+o.height,u=a+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var f=I(i||e),p=f&&f.a,m=f&&f.d;f&&(s/=m,a/=p,h/=p,c/=m,l=s+c,u=a+h)}return{top:s,left:a,bottom:l,right:u,width:h,height:c}}}function H(e,t,n){var r=W(e,!0),i=F(e)[t];while(r){var o=F(r)[n],s=void 0;if(s="top"===n||"left"===n?i>=o:i<=o,!s)return r;if(r===D())break;r=W(r,!1)}return!1}function U(e,t,n,r){var i=0,o=0,s=e.children;while(o<s.length){if("none"!==s[o].style.display&&s[o]!==nt.ghost&&(r||s[o]!==nt.dragged)&&A(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function B(e,t){var n=e.lastElementChild;while(n&&(n===nt.ghost||"none"===O(n,"display")||t&&!R(n,t)))n=n.previousElementSibling;return n||null}function j(e,t){var n=0;if(!e||!e.parentNode)return-1;while(e=e.previousElementSibling)"TEMPLATE"===e.nodeName.toUpperCase()||e===nt.clone||t&&!R(e,t)||n++;return n}function Y(e){var t=0,n=0,r=D();if(e)do{var i=I(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function V(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}function W(e,t){if(!e||!e.getBoundingClientRect)return D();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=O(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return D();if(r||t)return n;r=!0}}}while(n=n.parentNode);return D()}function z(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function G(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function $(e,t){return function(){if(!N){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),N=setTimeout((function(){N=void 0}),t)}}}function q(){clearTimeout(N),N=void 0}function K(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function X(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function J(e,t){O(e,"position","absolute"),O(e,"top",t.top),O(e,"left",t.left),O(e,"width",t.width),O(e,"height",t.height)}function Q(e){O(e,"position",""),O(e,"top",""),O(e,"left",""),O(e,"width",""),O(e,"height","")}var Z="Sortable"+(new Date).getTime();function ee(){var e,t=[];return{captureAnimationState:function(){if(t=[],this.options.animation){var e=[].slice.call(this.el.children);e.forEach((function(e){if("none"!==O(e,"display")&&e!==nt.ghost){t.push({target:e,rect:F(e)});var n=i({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=I(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))}},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(V(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"===typeof n&&n());var i=!1,o=0;t.forEach((function(e){var t=0,n=e.target,s=n.fromRect,a=F(n),l=n.prevFromRect,u=n.prevToRect,c=e.rect,h=I(n,!0);h&&(a.top-=h.f,a.left-=h.e),n.toRect=a,n.thisAnimationDuration&&G(l,a)&&!G(s,a)&&(c.top-a.top)/(c.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(t=ne(c,l,u,r.options)),G(a,s)||(n.prevFromRect=s,n.prevToRect=a,t||(t=r.options.animation),r.animate(n,c,a,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"===typeof n&&n()}),o):"function"===typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){O(e,"transition",""),O(e,"transform","");var i=I(this.el),o=i&&i.a,s=i&&i.d,a=(t.left-n.left)/(o||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,O(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=te(e),O(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),O(e,"transform","translate3d(0,0,0)"),"number"===typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){O(e,"transition",""),O(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}function te(e){return e.offsetWidth}function ne(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var re=[],ie={initializeByDefault:!0},oe={mount:function(e){for(var t in ie)ie.hasOwnProperty(t)&&!(t in e)&&(e[t]=ie[t]);re.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),re.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";re.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](i({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](i({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var i in re.forEach((function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,a(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);"undefined"!==typeof o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return re.forEach((function(r){"function"===typeof r.eventProperties&&a(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return re.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"===typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))})),r}};function se(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,s=e.cloneEl,a=e.toEl,l=e.fromEl,u=e.oldIndex,c=e.newIndex,h=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,m=e.extraEventProperties;if(t=t||n&&n[Z],t){var g,v=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||y||b?(g=document.createEvent("Event"),g.initEvent(r,!0,!0)):g=new CustomEvent(r,{bubbles:!0,cancelable:!0}),g.to=a||n,g.from=l||n,g.item=o||n,g.clone=s,g.oldIndex=u,g.newIndex=c,g.oldDraggableIndex=h,g.newDraggableIndex=d,g.originalEvent=f,g.pullMode=p?p.lastPutMode:void 0;var _=i(i({},m),oe.getEventProperties(r,t));for(var E in _)g[E]=_[E];n&&n.dispatchEvent(g),v[w]&&v[w].call(t,g)}}var ae=["evt"],le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=u(n,ae);oe.pluginEvent.bind(nt)(e,t,i({dragEl:ce,parentEl:he,ghostEl:de,rootEl:fe,nextEl:pe,lastDownEl:me,cloneEl:ge,cloneHidden:ve,dragStarted:Ne,putSortable:Se,activeSortable:nt.active,originalEvent:r,oldIndex:ye,oldDraggableIndex:we,newIndex:be,newDraggableIndex:_e,hideGhostForTarget:Qe,unhideGhostForTarget:Ze,cloneNowHidden:function(){ve=!0},cloneNowShown:function(){ve=!1},dispatchSortableEvent:function(e){ue({sortable:t,name:e,originalEvent:r})}},o))};function ue(e){se(i({putSortable:Se,cloneEl:ge,targetEl:ce,rootEl:fe,oldIndex:ye,oldDraggableIndex:we,newIndex:be,newDraggableIndex:_e},e))}var ce,he,de,fe,pe,me,ge,ve,ye,be,we,_e,Ee,Se,Te,Me,Ce,Re,xe,Ae,Ne,Le,ke,Oe,Ie,Pe=!1,De=!1,Fe=[],He=!1,Ue=!1,Be=[],je=!1,Ye=[],Ve="undefined"!==typeof document,We=E,ze=b||y?"cssFloat":"float",Ge=Ve&&!S&&!E&&"draggable"in document.createElement("div"),$e=function(){if(Ve){if(y)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),qe=function(e,t){var n=O(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=U(e,0,t),o=U(e,1,t),s=i&&O(i),a=o&&O(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+F(i).width,u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+F(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s["float"]&&"none"!==s["float"]){var c="left"===s["float"]?"left":"right";return!o||"both"!==a.clear&&a.clear!==c?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===n[ze]||o&&"none"===n[ze]&&l+u>r)?"vertical":"horizontal"},Ke=function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return r===s||i===a||r+o/2===s+l/2},Xe=function(e,t){var n;return Fe.some((function(r){var i=r[Z].options.emptyInsertThreshold;if(i&&!B(r)){var o=F(r),s=e>=o.left-i&&e<=o.right+i,a=t>=o.top-i&&t<=o.bottom+i;return s&&a?n=r:void 0}})),n},Je=function(e){function t(e,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"===typeof e)return t(e(r,i,o,s),n)(r,i,o,s);var l=(n?r:i).options.group.name;return!0===e||"string"===typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;r&&"object"==o(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Qe=function(){!$e&&de&&O(de,"display","none")},Ze=function(){!$e&&de&&O(de,"display","")};Ve&&document.addEventListener("click",(function(e){if(De)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),De=!1,!1}),!0);var et=function(e){if(ce){e=e.touches?e.touches[0]:e;var t=Xe(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Z]._onDragOver(n)}}},tt=function(e){ce&&ce.parentNode[Z]._isOutsideThisEl(e.target)};function nt(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[Z]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return qe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==nt.supportPointer&&"PointerEvent"in window&&!_,emptyInsertThreshold:5};for(var r in oe.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Je(t),this)"_"===i.charAt(0)&&"function"===typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&Ge,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?M(e,"pointerdown",this._onTapStart):(M(e,"mousedown",this._onTapStart),M(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(M(e,"dragover",this),M(e,"dragenter",this)),Fe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,ee())}function rt(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function it(e,t,n,r,i,o,s,a){var l,u,c=e[Z],h=c.options.onMove;return!window.CustomEvent||y||b?(l=document.createEvent("Event"),l.initEvent("move",!0,!0)):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||F(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),h&&(u=h.call(c,l,s)),u}function ot(e){e.draggable=!1}function st(){je=!1}function at(e,t,n){var r=F(U(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function lt(e,t,n){var r=F(B(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function ut(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,h=r?n.bottom:n.right,d=!1;if(!s)if(a&&Oe<u*i){if(!He&&(1===ke?l>c+u*o/2:l<h-u*o/2)&&(He=!0),He)d=!0;else if(1===ke?l<c+Oe:l>h-Oe)return-ke}else if(l>c+u*(1-i)/2&&l<h-u*(1-i)/2)return ct(t);return d=d||s,d&&(l<c+u*o/2||l>h-u*o/2)?l>c+u/2?1:-1:0}function ct(e){return j(ce)<j(e)?1:-1}function ht(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;while(n--)r+=t.charCodeAt(n);return r.toString(36)}function dt(e){Ye.length=0;var t=e.getElementsByTagName("input"),n=t.length;while(n--){var r=t[n];r.checked&&Ye.push(r)}}function ft(e){return setTimeout(e,0)}function pt(e){return clearTimeout(e)}nt.prototype={constructor:nt,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Le=null)},_getDirection:function(e,t){return"function"===typeof this.options.direction?this.options.direction.call(this,e,t,ce):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,u=r.filter;if(dt(n),!ce&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!_||!a||"SELECT"!==a.tagName.toUpperCase())&&(a=A(a,r.draggable,n,!1),(!a||!a.animated)&&me!==a)){if(ye=j(a),we=j(a,r.draggable),"function"===typeof u){if(u.call(this,e,a,this))return ue({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),le("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=A(l,r.trim(),n,!1),r)return ue({sortable:t,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),le("filter",t,{evt:e}),!0})),u))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!A(l,r.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,s=i.options,a=o.ownerDocument;if(n&&!ce&&n.parentNode===o){var l=F(n);if(fe=o,ce=n,he=ce.parentNode,pe=ce.nextSibling,me=n,Ee=s.group,nt.dragged=ce,Te={target:ce,clientX:(t||e).clientX,clientY:(t||e).clientY},xe=Te.clientX-l.left,Ae=Te.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,ce.style["will-change"]="all",r=function(){le("delayEnded",i,{evt:e}),nt.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!w&&i.nativeDraggable&&(ce.draggable=!0),i._triggerDragStart(e,t),ue({sortable:i,name:"choose",originalEvent:e}),k(ce,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){P(ce,e.trim(),ot)})),M(a,"dragover",et),M(a,"mousemove",et),M(a,"touchmove",et),M(a,"mouseup",i._onDrop),M(a,"touchend",i._onDrop),M(a,"touchcancel",i._onDrop),w&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ce.draggable=!0),le("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(b||y))r();else{if(nt.eventCanceled)return void this._onDrop();M(a,"mouseup",i._disableDelayedDrag),M(a,"touchend",i._disableDelayedDrag),M(a,"touchcancel",i._disableDelayedDrag),M(a,"mousemove",i._delayedDragTouchMoveHandler),M(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&M(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ce&&ot(ce),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;C(e,"mouseup",this._disableDelayedDrag),C(e,"touchend",this._disableDelayedDrag),C(e,"touchcancel",this._disableDelayedDrag),C(e,"mousemove",this._delayedDragTouchMoveHandler),C(e,"touchmove",this._delayedDragTouchMoveHandler),C(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?M(document,"pointermove",this._onTouchMove):M(document,t?"touchmove":"mousemove",this._onTouchMove):(M(ce,"dragend",this),M(fe,"dragstart",this._onDragStart));try{document.selection?ft((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Pe=!1,fe&&ce){le("dragStarted",this,{evt:t}),this.nativeDraggable&&M(document,"dragover",tt);var n=this.options;!e&&k(ce,n.dragClass,!1),k(ce,n.ghostClass,!0),nt.active=this,e&&this._appendGhost(),ue({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Me){this._lastX=Me.clientX,this._lastY=Me.clientY,Qe();var e=document.elementFromPoint(Me.clientX,Me.clientY),t=e;while(e&&e.shadowRoot){if(e=e.shadowRoot.elementFromPoint(Me.clientX,Me.clientY),e===t)break;t=e}if(ce.parentNode[Z]._isOutsideThisEl(e),t)do{if(t[Z]){var n=void 0;if(n=t[Z]._onDragOver({clientX:Me.clientX,clientY:Me.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ze()}},_onTouchMove:function(e){if(Te){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=de&&I(de,!0),s=de&&o&&o.a,a=de&&o&&o.d,l=We&&Ie&&Y(Ie),u=(i.clientX-Te.clientX+r.x)/(s||1)+(l?l[0]-Be[0]:0)/(s||1),c=(i.clientY-Te.clientY+r.y)/(a||1)+(l?l[1]-Be[1]:0)/(a||1);if(!nt.active&&!Pe){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(de){o?(o.e+=u-(Ce||0),o.f+=c-(Re||0)):o={a:1,b:0,c:0,d:1,e:u,f:c};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");O(de,"webkitTransform",h),O(de,"mozTransform",h),O(de,"msTransform",h),O(de,"transform",h),Ce=u,Re=c,Me=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!de){var e=this.options.fallbackOnBody?document.body:fe,t=F(ce,!0,We,!0,e),n=this.options;if(We){Ie=e;while("static"===O(Ie,"position")&&"none"===O(Ie,"transform")&&Ie!==document)Ie=Ie.parentNode;Ie!==document.body&&Ie!==document.documentElement?(Ie===document&&(Ie=D()),t.top+=Ie.scrollTop,t.left+=Ie.scrollLeft):Ie=D(),Be=Y(Ie)}de=ce.cloneNode(!0),k(de,n.ghostClass,!1),k(de,n.fallbackClass,!0),k(de,n.dragClass,!0),O(de,"transition",""),O(de,"transform",""),O(de,"box-sizing","border-box"),O(de,"margin",0),O(de,"top",t.top),O(de,"left",t.left),O(de,"width",t.width),O(de,"height",t.height),O(de,"opacity","0.8"),O(de,"position",We?"absolute":"fixed"),O(de,"zIndex","100000"),O(de,"pointerEvents","none"),nt.ghost=de,e.appendChild(de),O(de,"transform-origin",xe/parseInt(de.style.width)*100+"% "+Ae/parseInt(de.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;le("dragStart",this,{evt:e}),nt.eventCanceled?this._onDrop():(le("setupClone",this),nt.eventCanceled||(ge=X(ce),ge.draggable=!1,ge.style["will-change"]="",this._hideClone(),k(ge,this.options.chosenClass,!1),nt.clone=ge),n.cloneId=ft((function(){le("clone",n),nt.eventCanceled||(n.options.removeCloneOnHide||fe.insertBefore(ge,ce),n._hideClone(),ue({sortable:n,name:"clone"}))})),!t&&k(ce,i.dragClass,!0),t?(De=!0,n._loopId=setInterval(n._emulateDragOver,50)):(C(document,"mouseup",n._onDrop),C(document,"touchend",n._onDrop),C(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,ce)),M(document,"drop",n),O(ce,"transform","translateZ(0)")),Pe=!0,n._dragStartId=ft(n._dragStarted.bind(n,t,e)),M(document,"selectstart",n),Ne=!0,_&&O(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,o,s=this.el,a=e.target,l=this.options,u=l.group,c=nt.active,h=Ee===u,d=l.sort,f=Se||c,p=this,m=!1;if(!je){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=A(a,l.draggable,s,!0),L("dragOver"),nt.eventCanceled)return m;if(ce.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return P(!1);if(De=!1,c&&!l.disabled&&(h?d||(r=he!==fe):Se===this||(this.lastPutMode=Ee.checkPull(this,c,ce,e))&&u.checkPut(this,c,ce,e))){if(o="vertical"===this._getDirection(e,a),t=F(ce),L("dragOverValid"),nt.eventCanceled)return m;if(r)return he=fe,I(),this._hideClone(),L("revert"),nt.eventCanceled||(pe?fe.insertBefore(ce,pe):fe.appendChild(ce)),P(!0);var g=B(s,l.draggable);if(!g||lt(e,o,this)&&!g.animated){if(g===ce)return P(!1);if(g&&s===e.target&&(a=g),a&&(n=F(a)),!1!==it(fe,s,ce,t,a,n,e,!!a))return I(),s.appendChild(ce),he=s,D(),P(!0)}else if(g&&at(e,o,this)){var v=U(s,0,l,!0);if(v===ce)return P(!1);if(a=v,n=F(a),!1!==it(fe,s,ce,t,a,n,e,!1))return I(),s.insertBefore(ce,v),he=s,D(),P(!0)}else if(a.parentNode===s){n=F(a);var y,b,w=0,_=ce.parentNode!==s,E=!Ke(ce.animated&&ce.toRect||t,a.animated&&a.toRect||n,o),S=o?"top":"left",T=H(a,"top","top")||H(ce,"top","top"),M=T?T.scrollTop:void 0;if(Le!==a&&(y=n[S],He=!1,Ue=!E&&l.invertSwap||_),w=ut(e,a,n,o,E?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Ue,Le===a),0!==w){var C=j(ce);do{C-=w,b=he.children[C]}while(b&&("none"===O(b,"display")||b===de))}if(0===w||b===a)return P(!1);Le=a,ke=w;var R=a.nextElementSibling,x=!1;x=1===w;var N=it(fe,s,ce,t,a,n,e,x);if(!1!==N)return 1!==N&&-1!==N||(x=1===N),je=!0,setTimeout(st,30),I(),x&&!R?s.appendChild(ce):a.parentNode.insertBefore(ce,x?R:a),T&&K(T,0,M-T.scrollTop),he=ce.parentNode,void 0===y||Ue||(Oe=Math.abs(y-F(a)[S])),D(),P(!0)}if(s.contains(ce))return P(!1)}return!1}function L(l,u){le(l,p,i({evt:e,isOwner:h,axis:o?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:f,target:a,completed:P,onMove:function(n,r){return it(fe,s,ce,t,n,F(n),e,r)},changed:D},u))}function I(){L("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function P(t){return L("dragOverCompleted",{insertion:t}),t&&(h?c._hideClone():c._showClone(p),p!==f&&(k(ce,Se?Se.options.ghostClass:c.options.ghostClass,!1),k(ce,l.ghostClass,!0)),Se!==p&&p!==nt.active?Se=p:p===nt.active&&Se&&(Se=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){L("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===ce&&!ce.animated||a===s&&!a.animated)&&(Le=null),l.dragoverBubble||e.rootEl||a===document||(ce.parentNode[Z]._isOutsideThisEl(e.target),!t&&et(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function D(){be=j(ce),_e=j(ce,l.draggable),ue({sortable:p,name:"change",toEl:s,newIndex:be,newDraggableIndex:_e,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){C(document,"mousemove",this._onTouchMove),C(document,"touchmove",this._onTouchMove),C(document,"pointermove",this._onTouchMove),C(document,"dragover",et),C(document,"mousemove",et),C(document,"touchmove",et)},_offUpEvents:function(){var e=this.el.ownerDocument;C(e,"mouseup",this._onDrop),C(e,"touchend",this._onDrop),C(e,"pointerup",this._onDrop),C(e,"touchcancel",this._onDrop),C(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;be=j(ce),_e=j(ce,n.draggable),le("drop",this,{evt:e}),he=ce&&ce.parentNode,be=j(ce),_e=j(ce,n.draggable),nt.eventCanceled||(Pe=!1,Ue=!1,He=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),pt(this.cloneId),pt(this._dragStartId),this.nativeDraggable&&(C(document,"drop",this),C(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),_&&O(document.body,"user-select",""),O(ce,"transform",""),e&&(Ne&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),de&&de.parentNode&&de.parentNode.removeChild(de),(fe===he||Se&&"clone"!==Se.lastPutMode)&&ge&&ge.parentNode&&ge.parentNode.removeChild(ge),ce&&(this.nativeDraggable&&C(ce,"dragend",this),ot(ce),ce.style["will-change"]="",Ne&&!Pe&&k(ce,Se?Se.options.ghostClass:this.options.ghostClass,!1),k(ce,this.options.chosenClass,!1),ue({sortable:this,name:"unchoose",toEl:he,newIndex:null,newDraggableIndex:null,originalEvent:e}),fe!==he?(be>=0&&(ue({rootEl:he,name:"add",toEl:he,fromEl:fe,originalEvent:e}),ue({sortable:this,name:"remove",toEl:he,originalEvent:e}),ue({rootEl:he,name:"sort",toEl:he,fromEl:fe,originalEvent:e}),ue({sortable:this,name:"sort",toEl:he,originalEvent:e})),Se&&Se.save()):be!==ye&&be>=0&&(ue({sortable:this,name:"update",toEl:he,originalEvent:e}),ue({sortable:this,name:"sort",toEl:he,originalEvent:e})),nt.active&&(null!=be&&-1!==be||(be=ye,_e=we),ue({sortable:this,name:"end",toEl:he,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){le("nulling",this),fe=ce=he=de=pe=ge=me=ve=Te=Me=Ne=be=_e=ye=we=Le=ke=Se=Ee=nt.dragged=nt.ghost=nt.clone=nt.active=null,Ye.forEach((function(e){e.checked=!0})),Ye.length=Ce=Re=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ce&&(this._onDragOver(e),rt(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)e=n[r],A(e,o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||ht(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var i=r.children[t];A(i,this.options.draggable,r,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return A(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=oe.modifyOption(this,e,t);n[e]="undefined"!==typeof r?r:t,"group"===e&&Je(n)},destroy:function(){le("destroy",this);var e=this.el;e[Z]=null,C(e,"mousedown",this._onTapStart),C(e,"touchstart",this._onTapStart),C(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(C(e,"dragover",this),C(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Fe.splice(Fe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ve){if(le("hideClone",this),nt.eventCanceled)return;O(ge,"display","none"),this.options.removeCloneOnHide&&ge.parentNode&&ge.parentNode.removeChild(ge),ve=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ve){if(le("showClone",this),nt.eventCanceled)return;ce.parentNode!=fe||this.options.group.revertClone?pe?fe.insertBefore(ge,pe):fe.appendChild(ge):fe.insertBefore(ge,ce),this.options.group.revertClone&&this.animate(ce,ge),O(ge,"display",""),ve=!1}}else this._hideClone()}},Ve&&M(document,"touchmove",(function(e){(nt.active||Pe)&&e.cancelable&&e.preventDefault()})),nt.utils={on:M,off:C,css:O,find:P,is:function(e,t){return!!A(e,t,e,!1)},extend:z,throttle:$,closest:A,toggleClass:k,clone:X,index:j,nextTick:ft,cancelNextTick:pt,detectDirection:qe,getChild:U},nt.get=function(e){return e[Z]},nt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(nt.utils=i(i({},nt.utils),e.utils)),oe.mount(e)}))},nt.create=function(e,t){return new nt(e,t)},nt.version=g;var mt,gt,vt,yt,bt,wt,_t=[],Et=!1;function St(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"===typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?M(document,"dragover",this._handleAutoScroll):this.options.supportPointer?M(document,"pointermove",this._handleFallbackAutoScroll):t.touches?M(document,"touchmove",this._handleFallbackAutoScroll):M(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):(C(document,"pointermove",this._handleFallbackAutoScroll),C(document,"touchmove",this._handleFallbackAutoScroll),C(document,"mousemove",this._handleFallbackAutoScroll)),Mt(),Tt(),q()},nulling:function(){bt=gt=mt=Et=wt=vt=yt=null,_t.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(bt=e,t||this.options.forceAutoScrollFallback||b||y||_){Rt(e,this.options,o,t);var s=W(o,!0);!Et||wt&&r===vt&&i===yt||(wt&&Mt(),wt=setInterval((function(){var o=W(document.elementFromPoint(r,i),!0);o!==s&&(s=o,Tt()),Rt(e,n.options,o,t)}),10),vt=r,yt=i)}else{if(!this.options.bubbleScroll||W(o,!0)===D())return void Tt();Rt(e,this.options,W(o,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}function Tt(){_t.forEach((function(e){clearInterval(e.pid)})),_t=[]}function Mt(){clearInterval(wt)}var Ct,Rt=$((function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,u=D(),c=!1;gt!==n&&(gt=n,Tt(),mt=t.scroll,i=t.scrollFn,!0===mt&&(mt=W(n,!0)));var h=0,d=mt;do{var f=d,p=F(f),m=p.top,g=p.bottom,v=p.left,y=p.right,b=p.width,w=p.height,_=void 0,E=void 0,S=f.scrollWidth,T=f.scrollHeight,M=O(f),C=f.scrollLeft,R=f.scrollTop;f===u?(_=b<S&&("auto"===M.overflowX||"scroll"===M.overflowX||"visible"===M.overflowX),E=w<T&&("auto"===M.overflowY||"scroll"===M.overflowY||"visible"===M.overflowY)):(_=b<S&&("auto"===M.overflowX||"scroll"===M.overflowX),E=w<T&&("auto"===M.overflowY||"scroll"===M.overflowY));var x=_&&(Math.abs(y-o)<=a&&C+b<S)-(Math.abs(v-o)<=a&&!!C),A=E&&(Math.abs(g-s)<=a&&R+w<T)-(Math.abs(m-s)<=a&&!!R);if(!_t[h])for(var N=0;N<=h;N++)_t[N]||(_t[N]={});_t[h].vx==x&&_t[h].vy==A&&_t[h].el===f||(_t[h].el=f,_t[h].vx=x,_t[h].vy=A,clearInterval(_t[h].pid),0==x&&0==A||(c=!0,_t[h].pid=setInterval(function(){r&&0===this.layer&&nt.active._onTouchMove(bt);var t=_t[this.layer].vy?_t[this.layer].vy*l:0,n=_t[this.layer].vx?_t[this.layer].vx*l:0;"function"===typeof i&&"continue"!==i.call(nt.dragged.parentNode[Z],n,t,e,bt,_t[this.layer].el)||K(_t[this.layer].el,n,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&d!==u&&(d=W(d,!1)));Et=c}}),30),xt=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||i;s();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(u.clientX,u.clientY);a(),l&&!l.el.contains(c)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function At(){}function Nt(){}function Lt(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;Ct=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,i=e.activeSortable,o=e.changed,s=e.cancel;if(i.options.swap){var a=this.sortable.el,l=this.options;if(n&&n!==a){var u=Ct;!1!==r(n)?(k(n,l.swapClass,!0),Ct=n):Ct=null,u&&u!==Ct&&k(u,l.swapClass,!1)}o(),t(!0),s()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,i=n||this.sortable,o=this.options;Ct&&k(Ct,o.swapClass,!1),Ct&&(o.swap||n&&n.options.swap)&&r!==Ct&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),kt(r,Ct),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){Ct=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Ct}}})}function kt(e,t){var n,r,i=e.parentNode,o=t.parentNode;i&&o&&!i.isEqualNode(t)&&!o.isEqualNode(e)&&(n=j(e),r=j(t),i.isEqualNode(o)&&n<r&&r++,i.insertBefore(t,i.children[n]),o.insertBefore(e,o.children[r]))}At.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=U(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:xt},a(At,{pluginName:"revertOnSpill"}),Nt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:xt},a(Nt,{pluginName:"removeOnSpill"});var Ot,It,Pt,Dt,Ft,Ht=[],Ut=[],Bt=!1,jt=!1,Yt=!1;function Vt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"===typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?M(document,"pointerup",this._deselectMultiDrag):(M(document,"mouseup",this._deselectMultiDrag),M(document,"touchend",this._deselectMultiDrag)),M(document,"keydown",this._checkKeyDown),M(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";Ht.length&&It===e?Ht.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;Pt=t},delayEnded:function(){this.isMultiDrag=~Ht.indexOf(Pt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<Ht.length;r++)Ut.push(X(Ht[r])),Ut[r].sortableIndex=Ht[r].sortableIndex,Ut[r].draggable=!1,Ut[r].style["will-change"]="",k(Ut[r],this.options.selectedClass,!1),Ht[r]===Pt&&k(Ut[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ht.length&&It===t&&(zt(!0,n),r("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(zt(!1,n),Ut.forEach((function(e){O(e,"display","")})),t(),Ft=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(Ut.forEach((function(e){O(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),Ft=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&It&&It.multiDrag._deselectMultiDrag(),Ht.forEach((function(e){e.sortableIndex=j(e)})),Ht=Ht.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),Yt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Ht.forEach((function(e){e!==Pt&&O(e,"position","absolute")}));var r=F(Pt,!1,!0,!0);Ht.forEach((function(e){e!==Pt&&J(e,r)})),jt=!0,Bt=!0}n.animateAll((function(){jt=!1,Bt=!1,t.options.animation&&Ht.forEach((function(e){Q(e)})),t.options.sort&&Gt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;jt&&~Ht.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,i=e.dragRect;Ht.length>1&&(Ht.forEach((function(e){r.addAnimationState({target:e,rect:jt?F(e):i}),Q(e),e.fromRect=i,t.removeAnimationState(e)})),jt=!1,Wt(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,i=e.activeSortable,o=e.parentEl,s=e.putSortable,a=this.options;if(r){if(n&&i._hideClone(),Bt=!1,a.animation&&Ht.length>1&&(jt||!n&&!i.options.sort&&!s)){var l=F(Pt,!1,!0,!0);Ht.forEach((function(e){e!==Pt&&(J(e,l),o.appendChild(e))})),jt=!0}if(!n)if(jt||Gt(),Ht.length>1){var u=Ft;i._showClone(t),i.options.animation&&!Ft&&u&&Ut.forEach((function(e){i.addAnimationState({target:e,rect:Dt}),e.fromRect=Dt,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(Ht.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){Dt=a({},t);var i=I(Pt,!0);Dt.top-=i.f,Dt.left-=i.e}},dragOverAnimationComplete:function(){jt&&(jt=!1,Gt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,i=e.sortable,o=e.dispatchSortableEvent,s=e.oldIndex,a=e.putSortable,l=a||this.sortable;if(t){var u=this.options,c=r.children;if(!Yt)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),k(Pt,u.selectedClass,!~Ht.indexOf(Pt)),~Ht.indexOf(Pt))Ht.splice(Ht.indexOf(Pt),1),Ot=null,se({sortable:i,rootEl:n,name:"deselect",targetEl:Pt,originalEvt:t});else{if(Ht.push(Pt),se({sortable:i,rootEl:n,name:"select",targetEl:Pt,originalEvt:t}),t.shiftKey&&Ot&&i.el.contains(Ot)){var h,d,f=j(Ot),p=j(Pt);if(~f&&~p&&f!==p)for(p>f?(d=f,h=p):(d=p,h=f+1);d<h;d++)~Ht.indexOf(c[d])||(k(c[d],u.selectedClass,!0),Ht.push(c[d]),se({sortable:i,rootEl:n,name:"select",targetEl:c[d],originalEvt:t}))}else Ot=Pt;It=l}if(Yt&&this.isMultiDrag){if(jt=!1,(r[Z].options.sort||r!==n)&&Ht.length>1){var m=F(Pt),g=j(Pt,":not(."+this.options.selectedClass+")");if(!Bt&&u.animation&&(Pt.thisAnimationDuration=null),l.captureAnimationState(),!Bt&&(u.animation&&(Pt.fromRect=m,Ht.forEach((function(e){if(e.thisAnimationDuration=null,e!==Pt){var t=jt?F(e):m;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),Gt(),Ht.forEach((function(e){c[g]?r.insertBefore(e,c[g]):r.appendChild(e),g++})),s===j(Pt))){var v=!1;Ht.forEach((function(e){e.sortableIndex===j(e)||(v=!0)})),v&&o("update")}Ht.forEach((function(e){Q(e)})),l.animateAll()}It=l}(n===r||a&&"clone"!==a.lastPutMode)&&Ut.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=Yt=!1,Ut.length=0},destroyGlobal:function(){this._deselectMultiDrag(),C(document,"pointerup",this._deselectMultiDrag),C(document,"mouseup",this._deselectMultiDrag),C(document,"touchend",this._deselectMultiDrag),C(document,"keydown",this._checkKeyDown),C(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(("undefined"===typeof Yt||!Yt)&&It===this.sortable&&(!e||!A(e.target,this.options.draggable,this.sortable.el,!1))&&(!e||0===e.button))while(Ht.length){var t=Ht[0];k(t,this.options.selectedClass,!1),Ht.shift(),se({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[Z];t&&t.options.multiDrag&&!~Ht.indexOf(e)&&(It&&It!==t&&(It.multiDrag._deselectMultiDrag(),It=t),k(e,t.options.selectedClass,!0),Ht.push(e))},deselect:function(e){var t=e.parentNode[Z],n=Ht.indexOf(e);t&&t.options.multiDrag&&~n&&(k(e,t.options.selectedClass,!1),Ht.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return Ht.forEach((function(r){var i;t.push({multiDragElement:r,index:r.sortableIndex}),i=jt&&r!==Pt?-1:jt?j(r,":not(."+e.options.selectedClass+")"):j(r),n.push({multiDragElement:r,index:i})})),{items:c(Ht),clones:[].concat(Ut),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),"ctrl"===e?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Wt(e,t){Ht.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function zt(e,t){Ut.forEach((function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function Gt(){Ht.forEach((function(e){e!==Pt&&e.parentNode&&e.parentNode.removeChild(e)}))}nt.mount(new St),nt.mount(Nt,At),t["default"]=nt},33937:function(e,t,n){"use strict";n.d(t,{y$:function(){return te},Pj:function(){return v}});var r=n(74220),i=n(46732);function o(){return s().__VUE_DEVTOOLS_GLOBAL_HOOK__}function s(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof globalThis?globalThis:{}}const a="function"===typeof Proxy,l="devtools-plugin:setup",u="plugin:settings:set";let c,h;function d(){var e;return void 0!==c||("undefined"!==typeof window&&window.performance?(c=!0,h=window.performance):"undefined"!==typeof globalThis&&(null===(e=globalThis.perf_hooks)||void 0===e?void 0:e.performance)?(c=!0,h=globalThis.perf_hooks.performance):c=!1),c}function f(){return d()?h.now():Date.now()}class p{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const s in e.settings){const t=e.settings[s];n[s]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(o){}i=e},now(){return f()}},t&&t.on(u,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function m(e,t){const n=e,r=s(),i=o(),u=a&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&u){const e=u?new p(n,i):null,o=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit(l,e,t)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */
var g="store";function v(e){return void 0===e&&(e=null),(0,r.WQ)(null!==e?e:g)}function y(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function b(e){return null!==e&&"object"===typeof e}function w(e){return e&&"function"===typeof e.then}function _(e,t){return function(){return e(t)}}function E(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function S(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;M(e,n,[],e._modules.root,!0),T(e,n,t)}function T(e,t,n){var o=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var a=e._wrappedGetters,l={},u={},c=(0,i.uY)(!0);c.run((function(){y(a,(function(t,n){l[n]=_(t,e),u[n]=(0,r.EW)((function(){return l[n]()})),Object.defineProperty(e.getters,n,{get:function(){return u[n].value},enumerable:!0})}))})),e._state=(0,i.Kh)({data:t}),e._scope=c,e.strict&&L(e),o&&n&&e._withCommit((function(){o.data=null})),s&&s.stop()}function M(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=k(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){a[l]=r.state}))}var u=r.context=C(e,s,n);r.forEachMutation((function(t,n){var r=s+n;x(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,i=t.handler||t;A(e,r,i,u)})),r.forEachGetter((function(t,n){var r=s+n;N(e,r,t,u)})),r.forEachChild((function(r,o){M(e,t,n.concat(o),r,i)}))}function C(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=O(n,r,i),s=o.payload,a=o.options,l=o.type;return a&&a.root||(l=t+l),e.dispatch(l,s)},commit:r?e.commit:function(n,r,i){var o=O(n,r,i),s=o.payload,a=o.options,l=o.type;a&&a.root||(l=t+l),e.commit(l,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return R(e,t)}},state:{get:function(){return k(e.state,n)}}}),i}function R(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function x(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function A(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return w(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function N(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function L(e){(0,r.wB)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function k(e,t){return t.reduce((function(e,t){return e[t]}),e)}function O(e,t,n){return b(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var I="vuex bindings",P="vuex:mutations",D="vuex:actions",F="vuex",H=0;function U(e,t){m({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[I]},(function(n){n.addTimelineLayer({id:P,label:"Vuex Mutations",color:B}),n.addTimelineLayer({id:D,label:"Vuex Actions",color:B}),n.addInspector({id:F,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===F)if(n.filter){var r=[];G(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[z(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===F){var r=n.nodeId;R(t,r),n.state=$(K(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===F){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(F),n.sendInspectorState(F),n.addTimelineEvent({layerId:P,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=H++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:D,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:D,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var B=8702998,j=6710886,Y=16777215,V={label:"namespaced",textColor:Y,backgroundColor:j};function W(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function z(e,t){return{id:t||"root",label:W(t),tags:e.namespaced?[V]:[],children:Object.keys(e._children).map((function(n){return z(e._children[n],t+n+"/")}))}}function G(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[V]:[]}),Object.keys(t._children).forEach((function(i){G(e,t._children[i],n,r+i+"/")}))}function $(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var o=q(t);i.getters=Object.keys(o).map((function(e){return{key:e.endsWith("/")?W(e):e,editable:!1,value:X((function(){return o[e]}))}}))}return i}function q(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[o]=X((function(){return e[n]}))}else t[n]=X((function(){return e[n]}))})),t}function K(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var o=e[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?o:o._children}),"root"===t?e:e.root._children)}function X(e){try{return e()}catch(t){return t}}var J=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},Q={namespaced:{configurable:!0}};Q.namespaced.get=function(){return!!this._rawModule.namespaced},J.prototype.addChild=function(e,t){this._children[e]=t},J.prototype.removeChild=function(e){delete this._children[e]},J.prototype.getChild=function(e){return this._children[e]},J.prototype.hasChild=function(e){return e in this._children},J.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},J.prototype.forEachChild=function(e){y(this._children,e)},J.prototype.forEachGetter=function(e){this._rawModule.getters&&y(this._rawModule.getters,e)},J.prototype.forEachAction=function(e){this._rawModule.actions&&y(this._rawModule.actions,e)},J.prototype.forEachMutation=function(e){this._rawModule.mutations&&y(this._rawModule.mutations,e)},Object.defineProperties(J.prototype,Q);var Z=function(e){this.register([],e,!1)};function ee(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;ee(e.concat(r),t.getChild(r),n.modules[r])}}Z.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Z.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},Z.prototype.update=function(e){ee([],this.root,e)},Z.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new J(t,n);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&y(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},Z.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},Z.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function te(e){return new ne(e)}var ne=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Z(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,s=this,a=s.dispatch,l=s.commit;this.dispatch=function(e,t){return a.call(o,e,t)},this.commit=function(e,t,n){return l.call(o,e,t,n)},this.strict=r;var u=this._modules.root.state;M(this,u,[],this._modules.root),T(this,u),n.forEach((function(e){return e(t)}))},re={state:{configurable:!0}};ne.prototype.install=function(e,t){e.provide(t||g,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&U(e,this)},re.state.get=function(){return this._state.data},re.state.set=function(e){0},ne.prototype.commit=function(e,t,n){var r=this,i=O(e,t,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},ne.prototype.dispatch=function(e,t){var n=this,r=O(e,t),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(u){0}var l=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(u){0}t(e)}))}))}},ne.prototype.subscribe=function(e,t){return E(e,this._subscribers,t)},ne.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return E(n,this._actionSubscribers,t)},ne.prototype.watch=function(e,t,n){var i=this;return(0,r.wB)((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},ne.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},ne.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),M(this,this.state,e,this._modules.get(e),n.preserveState),T(this,this.state)},ne.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=k(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),S(this)},ne.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},ne.prototype.hotUpdate=function(e){this._modules.update(e),S(this,!0)},ne.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(ne.prototype,re);se((function(e,t){var n={};return ie(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=ae(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),se((function(e,t){var n={};return ie(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=ae(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),se((function(e,t){var n={};return ie(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||ae(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),se((function(e,t){var n={};return ie(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=ae(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function ie(e){return oe(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function oe(e){return Array.isArray(e)||b(e)}function se(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function ae(e,t,n){var r=e._modulesNamespaceMap[n];return r}},20043:function(e,t,n){"use strict";var r=n(55326),i=n(19868),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},51135:function(e,t,n){"use strict";var r=n(97534),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},59283:function(e,t,n){"use strict";var r=n(58965).has;e.exports=function(e){return r(e),e}},72856:function(e,t,n){"use strict";var r=n(96972),i=n(82735),o=n(53560).f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},40856:function(e,t,n){"use strict";var r=n(16676),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},53636:function(e,t,n){"use strict";var r=n(19241),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},14422:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},65543:function(e,t,n){"use strict";var r=n(21595),i=n(36387),o=TypeError;e.exports=r(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==i(e))throw new o("ArrayBuffer expected");return e.byteLength}},83359:function(e,t,n){"use strict";var r=n(68031),i=n(65543),o=r(ArrayBuffer.prototype.slice);e.exports=function(e){if(0!==i(e))return!1;try{return o(e,0,0),!1}catch(t){return!0}}},16015:function(e,t,n){"use strict";var r=n(10758),i=n(68031),o=n(21595),s=n(34221),a=n(83359),l=n(65543),u=n(8308),c=n(18785),h=r.structuredClone,d=r.ArrayBuffer,f=r.DataView,p=r.TypeError,m=Math.min,g=d.prototype,v=f.prototype,y=i(g.slice),b=o(g,"resizable","get"),w=o(g,"maxByteLength","get"),_=i(v.getInt8),E=i(v.setInt8);e.exports=(c||u)&&function(e,t,n){var r,i=l(e),o=void 0===t?i:s(t),g=!b||!b(e);if(a(e))throw new p("ArrayBuffer is detached");if(c&&(e=h(e,{transfer:[e]}),i===o&&(n||g)))return e;if(i>=o&&(!n||g))r=y(e,0,o);else{var v=n&&!g&&w?{maxByteLength:w(e)}:void 0;r=new d(o,v);for(var S=new f(e),T=new f(r),M=m(o,i),C=0;C<M;C++)E(T,C,_(S,C))}return c||u(e),r}},88605:function(e,t,n){"use strict";var r,i,o,s=n(14422),a=n(78115),l=n(10758),u=n(55326),c=n(19241),h=n(69792),d=n(34944),f=n(19868),p=n(97302),m=n(57147),g=n(95479),v=n(16676),y=n(84752),b=n(60668),w=n(96972),_=n(8287),E=n(77328),S=E.enforce,T=E.get,M=l.Int8Array,C=M&&M.prototype,R=l.Uint8ClampedArray,x=R&&R.prototype,A=M&&y(M),N=C&&y(C),L=Object.prototype,k=l.TypeError,O=w("toStringTag"),I=_("TYPED_ARRAY_TAG"),P="TypedArrayConstructor",D=s&&!!b&&"Opera"!==d(l.opera),F=!1,H={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!c(e))return!1;var t=d(e);return"DataView"===t||h(H,t)||h(U,t)},j=function(e){var t=y(e);if(c(t)){var n=T(t);return n&&h(n,P)?n[P]:j(t)}},Y=function(e){if(!c(e))return!1;var t=d(e);return h(H,t)||h(U,t)},V=function(e){if(Y(e))return e;throw new k("Target is not a typed array")},W=function(e){if(u(e)&&(!b||v(A,e)))return e;throw new k(f(e)+" is not a typed array constructor")},z=function(e,t,n,r){if(a){if(n)for(var i in H){var o=l[i];if(o&&h(o.prototype,e))try{delete o.prototype[e]}catch(s){try{o.prototype[e]=t}catch(u){}}}N[e]&&!n||m(N,e,n?t:D&&C[e]||t,r)}},G=function(e,t,n){var r,i;if(a){if(b){if(n)for(r in H)if(i=l[r],i&&h(i,e))try{delete i[e]}catch(o){}if(A[e]&&!n)return;try{return m(A,e,n?t:D&&A[e]||t)}catch(o){}}for(r in H)i=l[r],!i||i[e]&&!n||m(i,e,t)}};for(r in H)i=l[r],o=i&&i.prototype,o?S(o)[P]=i:D=!1;for(r in U)i=l[r],o=i&&i.prototype,o&&(S(o)[P]=i);if((!D||!u(A)||A===Function.prototype)&&(A=function(){throw new k("Incorrect invocation")},D))for(r in H)l[r]&&b(l[r],A);if((!D||!N||N===L)&&(N=A.prototype,D))for(r in H)l[r]&&b(l[r].prototype,N);if(D&&y(x)!==N&&b(x,N),a&&!h(N,O))for(r in F=!0,g(N,O,{configurable:!0,get:function(){return c(this)?this[I]:void 0}}),H)l[r]&&p(l[r],I,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:F&&I,aTypedArray:V,aTypedArrayConstructor:W,exportTypedArrayMethod:z,exportTypedArrayStaticMethod:G,getTypedArrayConstructor:j,isView:B,isTypedArray:Y,TypedArray:A,TypedArrayPrototype:N}},89305:function(e,t,n){"use strict";var r=n(50419);e.exports=function(e,t,n){var i=0,o=arguments.length>2?n:r(t),s=new e(o);while(o>i)s[i]=t[i++];return s}},61752:function(e,t,n){"use strict";var r=n(72634),i=n(94605),o=n(50419),s=function(e){return function(t,n,s){var a=r(t),l=o(a);if(0===l)return!e&&-1;var u,c=i(s,l);if(e&&n!==n){while(l>c)if(u=a[c++],u!==u)return!0}else for(;l>c;c++)if((e||c in a)&&a[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},80374:function(e,t,n){"use strict";var r=n(78115),i=n(61789),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},82551:function(e,t,n){"use strict";var r=n(68031);e.exports=r([].slice)},98211:function(e,t,n){"use strict";var r=n(50419);e.exports=function(e,t){for(var n=r(e),i=new t(n),o=0;o<n;o++)i[o]=e[n-o-1];return i}},53745:function(e,t,n){"use strict";var r=n(50419),i=n(58294),o=RangeError;e.exports=function(e,t,n,s){var a=r(e),l=i(n),u=l<0?a+l:l;if(u>=a||u<0)throw new o("Incorrect index");for(var c=new t(a),h=0;h<a;h++)c[h]=h===u?s:e[h];return c}},36387:function(e,t,n){"use strict";var r=n(68031),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},34944:function(e,t,n){"use strict";var r=n(89331),i=n(55326),o=n(36387),s=n(96972),a=s("toStringTag"),l=Object,u="Arguments"===o(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=l(e),a))?n:u?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},52303:function(e,t,n){"use strict";var r=n(69792),i=n(91678),o=n(29818),s=n(53560);e.exports=function(e,t,n){for(var a=i(t),l=s.f,u=o.f,c=0;c<a.length;c++){var h=a[c];r(e,h)||n&&r(n,h)||l(e,h,u(t,h))}}},35266:function(e,t,n){"use strict";var r=n(25336);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},97302:function(e,t,n){"use strict";var r=n(78115),i=n(53560),o=n(36541);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},36541:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},46427:function(e,t,n){"use strict";var r=n(78115),i=n(53560),o=n(36541);e.exports=function(e,t,n){r?i.f(e,t,o(0,n)):e[t]=n}},95479:function(e,t,n){"use strict";var r=n(11940),i=n(53560);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},57147:function(e,t,n){"use strict";var r=n(55326),i=n(53560),o=n(11940),s=n(888);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&o(n,u,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},888:function(e,t,n){"use strict";var r=n(10758),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},41291:function(e,t,n){"use strict";var r=n(19868),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},78115:function(e,t,n){"use strict";var r=n(25336);e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8308:function(e,t,n){"use strict";var r,i,o,s,a=n(10758),l=n(72287),u=n(18785),c=a.structuredClone,h=a.ArrayBuffer,d=a.MessageChannel,f=!1;if(u)f=function(e){c(e,{transfer:[e]})};else if(h)try{d||(r=l("worker_threads"),r&&(d=r.MessageChannel)),d&&(i=new d,o=new h(2),s=function(e){i.port1.postMessage(null,[e])},2===o.byteLength&&(s(o),0===o.byteLength&&(f=s)))}catch(p){}e.exports=f},53412:function(e,t,n){"use strict";var r=n(10758),i=n(19241),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},89988:function(e){"use strict";var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},51789:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},12825:function(e,t,n){"use strict";var r=n(11285),i=n(25329);e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},47464:function(e){"use strict";e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},11285:function(e){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},77720:function(e,t,n){"use strict";var r=n(54791);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},25329:function(e,t,n){"use strict";var r=n(10758),i=n(36387);e.exports="process"===i(r.process)},54791:function(e){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},9711:function(e,t,n){"use strict";var r,i,o=n(10758),s=n(54791),a=o.process,l=o.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(r=c.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},65788:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},94038:function(e,t,n){"use strict";var r=n(68031),i=Error,o=r("".replace),s=function(e){return String(new i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,a,"");return e}},85648:function(e,t,n){"use strict";var r=n(97302),i=n(94038),o=n(21796),s=Error.captureStackTrace;e.exports=function(e,t,n,a){o&&(s?s(e,t):r(e,"stack",i(n,a)))}},21796:function(e,t,n){"use strict";var r=n(25336),i=n(36541);e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},36031:function(e,t,n){"use strict";var r=n(10758),i=n(29818).f,o=n(97302),s=n(57147),a=n(888),l=n(52303),u=n(96923);e.exports=function(e,t){var n,c,h,d,f,p,m=e.target,g=e.global,v=e.stat;if(c=g?r:v?r[m]||a(m,{}):r[m]&&r[m].prototype,c)for(h in t){if(f=t[h],e.dontCallGetSet?(p=i(c,h),d=p&&p.value):d=c[h],n=u(g?h:m+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(c,h,f,e)}}},25336:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},59148:function(e,t,n){"use strict";var r=n(25573),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},68171:function(e,t,n){"use strict";var r=n(86205),i=n(20043),o=n(25573),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},25573:function(e,t,n){"use strict";var r=n(25336);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},13342:function(e,t,n){"use strict";var r=n(25573),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9485:function(e,t,n){"use strict";var r=n(78115),i=n(69792),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},21595:function(e,t,n){"use strict";var r=n(68031),i=n(20043);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(o){}}},86205:function(e,t,n){"use strict";var r=n(36387),i=n(68031);e.exports=function(e){if("Function"===r(e))return i(e)}},68031:function(e,t,n){"use strict";var r=n(25573),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},77434:function(e,t,n){"use strict";var r=n(10758),i=n(55326),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},28848:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},6356:function(e,t,n){"use strict";var r=n(34944),i=n(10227),o=n(11156),s=n(17450),a=n(96972),l=a("iterator");e.exports=function(e){if(!o(e))return i(e,l)||i(e,"@@iterator")||s[r(e)]}},39024:function(e,t,n){"use strict";var r=n(13342),i=n(20043),o=n(53636),s=n(19868),a=n(6356),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return o(r(n,e));throw new l(s(e)+" is not iterable")}},59708:function(e,t,n){"use strict";var r=n(68031),i=n(61789),o=n(55326),s=n(36387),a=n(99388),l=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var u=e[r];"string"==typeof u?l(n,u):"number"!=typeof u&&"Number"!==s(u)&&"String"!==s(u)||l(n,a(u))}var c=n.length,h=!0;return function(e,t){if(h)return h=!1,t;if(i(this))return t;for(var r=0;r<c;r++)if(n[r]===e)return t}}}},10227:function(e,t,n){"use strict";var r=n(20043),i=n(11156);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},82368:function(e,t,n){"use strict";var r=n(20043),i=n(53636),o=n(13342),s=n(58294),a=n(28848),l="Invalid size",u=RangeError,c=TypeError,h=Math.max,d=function(e,t){this.set=e,this.size=h(t,0),this.has=r(e.has),this.keys=r(e.keys)};d.prototype={getIterator:function(){return a(i(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!==t)throw new c(l);var n=s(t);if(n<0)throw new u(l);return new d(e,n)}},58339:function(e,t,n){"use strict";var r=n(68031),i=n(90142),o=Math.floor,s=r("".charAt),a=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,d){var f=n+e.length,p=r.length,m=c;return void 0!==h&&(h=i(h),m=u),a(d,m,(function(i,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":u=h[l(a,1,-1)];break;default:var c=+a;if(0===c)return i;if(c>p){var d=o(c/10);return 0===d?i:d<=p?void 0===r[d-1]?s(a,1):r[d-1]+s(a,1):i}u=r[c-1]}return void 0===u?"":u}))}},10758:function(e,t,n){"use strict";var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},69792:function(e,t,n){"use strict";var r=n(68031),i=n(90142),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},13022:function(e){"use strict";e.exports={}},56540:function(e,t,n){"use strict";var r=n(77434);e.exports=r("document","documentElement")},43148:function(e,t,n){"use strict";var r=n(78115),i=n(25336),o=n(53412);e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},28286:function(e,t,n){"use strict";var r=n(68031),i=n(25336),o=n(36387),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):s(e)}:s},83104:function(e,t,n){"use strict";var r=n(55326),i=n(19241),o=n(60668);e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},69347:function(e,t,n){"use strict";var r=n(68031),i=n(55326),o=n(29812),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},56743:function(e,t,n){"use strict";var r=n(19241),i=n(97302);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},77328:function(e,t,n){"use strict";var r,i,o,s=n(31395),a=n(10758),l=n(19241),u=n(97302),c=n(69792),h=n(29812),d=n(72094),f=n(13022),p="Object already initialized",m=a.TypeError,g=a.WeakMap,v=function(e){return o(e)?i(e):r(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var b=h.state||(h.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(e,t){if(b.has(e))throw new m(p);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},o=function(e){return b.has(e)}}else{var w=d("state");f[w]=!0,r=function(e,t){if(c(e,w))throw new m(p);return t.facade=e,u(e,w,t),t},i=function(e){return c(e,w)?e[w]:{}},o=function(e){return c(e,w)}}e.exports={set:r,get:i,has:o,enforce:v,getterFor:y}},85816:function(e,t,n){"use strict";var r=n(96972),i=n(17450),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},61789:function(e,t,n){"use strict";var r=n(36387);e.exports=Array.isArray||function(e){return"Array"===r(e)}},12770:function(e,t,n){"use strict";var r=n(34944);e.exports=function(e){var t=r(e);return"BigInt64Array"===t||"BigUint64Array"===t}},55326:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},67160:function(e,t,n){"use strict";var r=n(68031),i=n(25336),o=n(55326),s=n(34944),a=n(77434),l=n(69347),u=function(){},c=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,d=r(h.exec),f=!h.test(u),p=function(e){if(!o(e))return!1;try{return c(u,[],e),!0}catch(t){return!1}},m=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!d(h,l(e))}catch(t){return!0}};m.sham=!0,e.exports=!c||i((function(){var e;return p(p.call)||!p(Object)||!p((function(){e=!0}))||e}))?m:p},96923:function(e,t,n){"use strict";var r=n(25336),i=n(55326),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n===c||n!==u&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},11156:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},19241:function(e,t,n){"use strict";var r=n(55326);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},97534:function(e,t,n){"use strict";var r=n(19241);e.exports=function(e){return r(e)||null===e}},4388:function(e){"use strict";e.exports=!1},68819:function(e,t,n){"use strict";var r=n(19241),i=n(36387),o=n(96972),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===i(e))}},39830:function(e,t,n){"use strict";var r=n(77434),i=n(55326),o=n(16676),s=n(22371),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},70306:function(e,t,n){"use strict";var r=n(13342);e.exports=function(e,t,n){var i,o,s=n?e:e.iterator,a=e.next;while(!(i=r(a,s)).done)if(o=t(i.value),void 0!==o)return o}},72211:function(e,t,n){"use strict";var r=n(68171),i=n(13342),o=n(53636),s=n(19868),a=n(85816),l=n(50419),u=n(16676),c=n(39024),h=n(6356),d=n(62846),f=TypeError,p=function(e,t){this.stopped=e,this.result=t},m=p.prototype;e.exports=function(e,t,n){var g,v,y,b,w,_,E,S=n&&n.that,T=!(!n||!n.AS_ENTRIES),M=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),R=!(!n||!n.INTERRUPTED),x=r(t,S),A=function(e){return g&&d(g,"normal",e),new p(!0,e)},N=function(e){return T?(o(e),R?x(e[0],e[1],A):x(e[0],e[1])):R?x(e,A):x(e)};if(M)g=e.iterator;else if(C)g=e;else{if(v=h(e),!v)throw new f(s(e)+" is not iterable");if(a(v)){for(y=0,b=l(e);b>y;y++)if(w=N(e[y]),w&&u(m,w))return w;return new p(!1)}g=c(e,v)}_=M?e.next:g.next;while(!(E=i(_,g)).done){try{w=N(E.value)}catch(L){d(g,"throw",L)}if("object"==typeof w&&w&&u(m,w))return w}return new p(!1)}},62846:function(e,t,n){"use strict";var r=n(13342),i=n(53636),o=n(10227);e.exports=function(e,t,n){var s,a;i(e);try{if(s=o(e,"return"),!s){if("throw"===t)throw n;return n}s=r(s,e)}catch(l){a=!0,s=l}if("throw"===t)throw n;if(a)throw s;return i(s),n}},17450:function(e){"use strict";e.exports={}},50419:function(e,t,n){"use strict";var r=n(8621);e.exports=function(e){return r(e.length)}},11940:function(e,t,n){"use strict";var r=n(68031),i=n(25336),o=n(55326),s=n(69792),a=n(78115),l=n(9485).CONFIGURABLE,u=n(69347),c=n(77328),h=c.enforce,d=c.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=a&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&s(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=h(e);return s(r,"source")||(r.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&d(this).source||u(this)}),"toString")},31163:function(e,t,n){"use strict";var r=n(68031),i=Map.prototype;e.exports={Map:Map,set:r(i.set),get:r(i.get),has:r(i.has),remove:r(i["delete"]),proto:i}},85996:function(e){"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},58780:function(e,t,n){"use strict";var r=n(99388);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},82735:function(e,t,n){"use strict";var r,i=n(53636),o=n(50544),s=n(65788),a=n(13022),l=n(56540),u=n(53412),c=n(72094),h=">",d="<",f="prototype",p="script",m=c("IE_PROTO"),g=function(){},v=function(e){return d+p+h+e+d+"/"+p+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var e=s.length;while(e--)delete w[f][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=i(e),n=new g,g[f]=null,n[m]=e):n=w(),void 0===t?n:o.f(n,t)}},50544:function(e,t,n){"use strict";var r=n(78115),i=n(34849),o=n(53560),s=n(53636),a=n(72634),l=n(943);t.f=r&&!i?Object.defineProperties:function(e,t){s(e);var n,r=a(t),i=l(t),u=i.length,c=0;while(u>c)o.f(e,n=i[c++],r[n]);return e}},53560:function(e,t,n){"use strict";var r=n(78115),i=n(43148),o=n(34849),s=n(53636),a=n(22370),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=c(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},29818:function(e,t,n){"use strict";var r=n(78115),i=n(13342),o=n(31786),s=n(36541),a=n(72634),l=n(22370),u=n(69792),c=n(43148),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=l(t),c)try{return h(e,t)}catch(n){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},30079:function(e,t,n){"use strict";var r=n(13985),i=n(65788),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},99542:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},84752:function(e,t,n){"use strict";var r=n(69792),i=n(55326),o=n(90142),s=n(72094),a=n(35266),l=s("IE_PROTO"),u=Object,c=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},16676:function(e,t,n){"use strict";var r=n(68031);e.exports=r({}.isPrototypeOf)},13985:function(e,t,n){"use strict";var r=n(68031),i=n(69792),o=n(72634),s=n(61752).indexOf,a=n(13022),l=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,c=[];for(n in r)!i(a,n)&&i(r,n)&&l(c,n);while(t.length>u)i(r,n=t[u++])&&(~s(c,n)||l(c,n));return c}},943:function(e,t,n){"use strict";var r=n(13985),i=n(65788);e.exports=Object.keys||function(e){return r(e,i)}},31786:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},60668:function(e,t,n){"use strict";var r=n(21595),i=n(19241),o=n(78083),s=n(51135);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return o(n),s(r),i(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0)},99641:function(e,t,n){"use strict";var r=n(13342),i=n(55326),o=n(19241),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw new s("Can't convert object to primitive value")}},91678:function(e,t,n){"use strict";var r=n(77434),i=n(68031),o=n(30079),s=n(99542),a=n(53636),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},62225:function(e,t,n){"use strict";var r=n(53560).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},85042:function(e,t,n){"use strict";var r=n(53636);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},71331:function(e,t,n){"use strict";var r=n(13342),i=n(69792),o=n(16676),s=n(85042),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!o(a,e)?t:r(s,e)}},78083:function(e,t,n){"use strict";var r=n(11156),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},17825:function(e,t,n){"use strict";var r=n(10758),i=n(59148),o=n(55326),s=n(47464),a=n(54791),l=n(82551),u=n(3535),c=r.Function,h=/MSIE .\./.test(a)||s&&function(){var e=r.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var n=t?2:1;return h?function(r,s){var a=u(arguments.length,1)>n,h=o(r)?r:c(r),d=a?l(arguments,n):[],f=a?function(){i(h,this,d)}:h;return t?e(f,s):e(f)}:e}},92341:function(e,t,n){"use strict";var r=n(58965),i=n(90374),o=r.Set,s=r.add;e.exports=function(e){var t=new o;return i(e,(function(e){s(t,e)})),t}},74661:function(e,t,n){"use strict";var r=n(59283),i=n(58965),o=n(92341),s=n(8371),a=n(82368),l=n(90374),u=n(70306),c=i.has,h=i.remove;e.exports=function(e){var t=r(this),n=a(e),i=o(t);return s(t)<=n.size?l(t,(function(e){n.includes(e)&&h(i,e)})):u(n.getIterator(),(function(e){c(t,e)&&h(i,e)})),i}},58965:function(e,t,n){"use strict";var r=n(68031),i=Set.prototype;e.exports={Set:Set,add:r(i.add),has:r(i.has),remove:r(i["delete"]),proto:i}},94407:function(e,t,n){"use strict";var r=n(59283),i=n(58965),o=n(8371),s=n(82368),a=n(90374),l=n(70306),u=i.Set,c=i.add,h=i.has;e.exports=function(e){var t=r(this),n=s(e),i=new u;return o(t)>n.size?l(n.getIterator(),(function(e){h(t,e)&&c(i,e)})):a(t,(function(e){n.includes(e)&&c(i,e)})),i}},31208:function(e,t,n){"use strict";var r=n(59283),i=n(58965).has,o=n(8371),s=n(82368),a=n(90374),l=n(70306),u=n(62846);e.exports=function(e){var t=r(this),n=s(e);if(o(t)<=n.size)return!1!==a(t,(function(e){if(n.includes(e))return!1}),!0);var c=n.getIterator();return!1!==l(c,(function(e){if(i(t,e))return u(c,"normal",!1)}))}},6983:function(e,t,n){"use strict";var r=n(59283),i=n(8371),o=n(90374),s=n(82368);e.exports=function(e){var t=r(this),n=s(e);return!(i(t)>n.size)&&!1!==o(t,(function(e){if(!n.includes(e))return!1}),!0)}},47726:function(e,t,n){"use strict";var r=n(59283),i=n(58965).has,o=n(8371),s=n(82368),a=n(70306),l=n(62846);e.exports=function(e){var t=r(this),n=s(e);if(o(t)<n.size)return!1;var u=n.getIterator();return!1!==a(u,(function(e){if(!i(t,e))return l(u,"normal",!1)}))}},90374:function(e,t,n){"use strict";var r=n(68031),i=n(70306),o=n(58965),s=o.Set,a=o.proto,l=r(a.forEach),u=r(a.keys),c=u(new s).next;e.exports=function(e,t,n){return n?i({iterator:u(e),next:c},t):l(e,t)}},59441:function(e,t,n){"use strict";var r=n(77434),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=r("Set");try{(new t)[e](i(0));try{return(new t)[e](i(-1)),!1}catch(n){return!0}}catch(o){return!1}}},8371:function(e,t,n){"use strict";var r=n(21595),i=n(58965);e.exports=r(i.proto,"size","get")||function(e){return e.size}},99295:function(e,t,n){"use strict";var r=n(59283),i=n(58965),o=n(92341),s=n(82368),a=n(70306),l=i.add,u=i.has,c=i.remove;e.exports=function(e){var t=r(this),n=s(e).getIterator(),i=o(t);return a(n,(function(e){u(t,e)?c(i,e):l(i,e)})),i}},33515:function(e,t,n){"use strict";var r=n(59283),i=n(58965).add,o=n(92341),s=n(82368),a=n(70306);e.exports=function(e){var t=r(this),n=s(e).getIterator(),l=o(t);return a(n,(function(e){i(l,e)})),l}},72094:function(e,t,n){"use strict";var r=n(12940),i=n(8287),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},29812:function(e,t,n){"use strict";var r=n(4388),i=n(10758),o=n(888),s="__core-js_shared__",a=e.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.37.0",mode:r?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},12940:function(e,t,n){"use strict";var r=n(29812);e.exports=function(e,t){return r[e]||(r[e]=t||{})}},18785:function(e,t,n){"use strict";var r=n(10758),i=n(25336),o=n(9711),s=n(12825),a=n(11285),l=n(25329),u=r.structuredClone;e.exports=!!u&&!i((function(){if(a&&o>92||l&&o>94||s&&o>97)return!1;var e=new ArrayBuffer(8),t=u(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},92106:function(e,t,n){"use strict";var r=n(9711),i=n(25336),o=n(10758),s=o.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},98012:function(e,t,n){"use strict";var r,i,o,s,a=n(10758),l=n(59148),u=n(68171),c=n(55326),h=n(69792),d=n(25336),f=n(56540),p=n(82551),m=n(53412),g=n(3535),v=n(77720),y=n(25329),b=a.setImmediate,w=a.clearImmediate,_=a.process,E=a.Dispatch,S=a.Function,T=a.MessageChannel,M=a.String,C=0,R={},x="onreadystatechange";d((function(){r=a.location}));var A=function(e){if(h(R,e)){var t=R[e];delete R[e],t()}},N=function(e){return function(){A(e)}},L=function(e){A(e.data)},k=function(e){a.postMessage(M(e),r.protocol+"//"+r.host)};b&&w||(b=function(e){g(arguments.length,1);var t=c(e)?e:S(e),n=p(arguments,1);return R[++C]=function(){l(t,void 0,n)},i(C),C},w=function(e){delete R[e]},y?i=function(e){_.nextTick(N(e))}:E&&E.now?i=function(e){E.now(N(e))}:T&&!v?(o=new T,s=o.port2,o.port1.onmessage=L,i=u(s.postMessage,s)):a.addEventListener&&c(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!d(k)?(i=k,a.addEventListener("message",L,!1)):i=x in m("script")?function(e){f.appendChild(m("script"))[x]=function(){f.removeChild(this),A(e)}}:function(e){setTimeout(N(e),0)}),e.exports={set:b,clear:w}},94605:function(e,t,n){"use strict";var r=n(58294),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},20887:function(e,t,n){"use strict";var r=n(68072),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},34221:function(e,t,n){"use strict";var r=n(58294),i=n(8621),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw new o("Wrong length or index");return n}},72634:function(e,t,n){"use strict";var r=n(28286),i=n(78083);e.exports=function(e){return r(i(e))}},58294:function(e,t,n){"use strict";var r=n(85996);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},8621:function(e,t,n){"use strict";var r=n(58294),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},90142:function(e,t,n){"use strict";var r=n(78083),i=Object;e.exports=function(e){return i(r(e))}},68072:function(e,t,n){"use strict";var r=n(13342),i=n(19241),o=n(39830),s=n(10227),a=n(99641),l=n(96972),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=s(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},22370:function(e,t,n){"use strict";var r=n(68072),i=n(39830);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},89331:function(e,t,n){"use strict";var r=n(96972),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},99388:function(e,t,n){"use strict";var r=n(34944),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},72287:function(e,t,n){"use strict";var r=n(25329);e.exports=function(e){try{if(r)return Function('return require("'+e+'")')()}catch(t){}}},19868:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},8287:function(e,t,n){"use strict";var r=n(68031),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},22371:function(e,t,n){"use strict";var r=n(92106);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},34849:function(e,t,n){"use strict";var r=n(78115),i=n(25336);e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},3535:function(e){"use strict";var t=TypeError;e.exports=function(e,n){if(e<n)throw new t("Not enough arguments");return e}},31395:function(e,t,n){"use strict";var r=n(10758),i=n(55326),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},96972:function(e,t,n){"use strict";var r=n(10758),i=n(12940),o=n(69792),s=n(8287),a=n(92106),l=n(22371),u=r.Symbol,c=i("wks"),h=l?u["for"]||u:u&&u.withoutSetter||s;e.exports=function(e){return o(c,e)||(c[e]=a&&o(u,e)?u[e]:h("Symbol."+e)),c[e]}},2386:function(e,t,n){"use strict";var r=n(77434),i=n(69792),o=n(97302),s=n(16676),a=n(60668),l=n(52303),u=n(62225),c=n(83104),h=n(58780),d=n(56743),f=n(85648),p=n(78115),m=n(4388);e.exports=function(e,t,n,g){var v="stackTraceLimit",y=g?2:1,b=e.split("."),w=b[b.length-1],_=r.apply(null,b);if(_){var E=_.prototype;if(!m&&i(E,"cause")&&delete E.cause,!n)return _;var S=r("Error"),T=t((function(e,t){var n=h(g?t:e,void 0),r=g?new _(e):new _;return void 0!==n&&o(r,"message",n),f(r,T,r.stack,2),this&&s(E,this)&&c(r,this,T),arguments.length>y&&d(r,arguments[y]),r}));if(T.prototype=E,"Error"!==w?a?a(T,S):l(T,S,{name:!0}):p&&v in _&&(u(T,_,v),u(T,_,"prepareStackTrace")),l(T,_),!m)try{E.name!==w&&o(E,"name",w),E.constructor=T}catch(M){}return T}}},8420:function(e,t,n){"use strict";var r=n(78115),i=n(95479),o=n(83359),s=ArrayBuffer.prototype;r&&!("detached"in s)&&i(s,"detached",{configurable:!0,get:function(){return o(this)}})},85013:function(e,t,n){"use strict";var r=n(36031),i=n(16015);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},34525:function(e,t,n){"use strict";var r=n(36031),i=n(16015);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},68292:function(e,t,n){"use strict";var r=n(36031),i=n(90142),o=n(50419),s=n(58294),a=n(72856);r({target:"Array",proto:!0},{at:function(e){var t=i(this),n=o(t),r=s(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}}),a("at")},84645:function(e,t,n){"use strict";var r=n(36031),i=n(90142),o=n(50419),s=n(80374),a=n(89988),l=n(25336),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=u||!c();r({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var t=i(this),n=o(t),r=arguments.length;a(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return s(t,n),n}})},47170:function(e,t,n){"use strict";var r=n(72856);r("flatMap")},18789:function(e,t,n){"use strict";var r=n(72856);r("flat")},2640:function(e,t,n){"use strict";var r=n(36031),i=n(90142),o=n(50419),s=n(80374),a=n(41291),l=n(89988),u=1!==[].unshift(0),c=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},h=u||!c();r({target:"Array",proto:!0,arity:1,forced:h},{unshift:function(e){var t=i(this),n=o(t),r=arguments.length;if(r){l(n+r);var u=n;while(u--){var c=u+r;u in t?t[c]=t[u]:a(t,c)}for(var h=0;h<r;h++)t[h]=arguments[h]}return s(t,n+r)}})},64849:function(e,t,n){"use strict";var r=n(36031),i=n(10758),o=n(59148),s=n(2386),a="WebAssembly",l=i[a],u=7!==new Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=s(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},h=function(e,t){if(l&&l[e]){var n={};n[e]=s(a+"."+e,t,u),r({target:a,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return o(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),c("URIError",(function(e){return function(t){return o(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},29141:function(e,t,n){"use strict";var r=n(36031),i=n(77434),o=n(59148),s=n(13342),a=n(68031),l=n(25336),u=n(55326),c=n(39830),h=n(82551),d=n(59708),f=n(92106),p=String,m=i("JSON","stringify"),g=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),b=a("".replace),w=a(1..toString),_=/[\uD800-\uDFFF]/g,E=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,T=!f||l((function(){var e=i("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),M=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),C=function(e,t){var n=h(arguments),r=d(t);if(u(r)||void 0!==e&&!c(e))return n[1]=function(e,t){if(u(r)&&(t=s(r,this,p(e),t)),!c(t))return t},o(m,null,n)},R=function(e,t,n){var r=v(n,t-1),i=v(n,t+1);return g(E,e)&&!g(S,i)||g(S,e)&&!g(E,r)?"\\u"+w(y(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:T||M},{stringify:function(e,t,n){var r=h(arguments),i=o(T?C:m,null,r);return M&&"string"==typeof i?b(i,_,R):i}})},88924:function(e,t,n){"use strict";var r=n(36031),i=n(72211),o=n(46427);r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},46680:function(e,t,n){"use strict";var r=n(10758),i=n(78115),o=n(95479),s=n(85042),a=n(25336),l=r.RegExp,u=l.prototype,c=i&&a((function(){var e=!0;try{l(".","d")}catch(c){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(o.hasIndices="d"),o)i(s,o[s]);var a=Object.getOwnPropertyDescriptor(u,"flags").get.call(t);return a!==r||n!==r}));c&&o(u,"flags",{configurable:!0,get:s})},47875:function(e,t,n){"use strict";var r=n(36031),i=n(74661),o=n(59441);r({target:"Set",proto:!0,real:!0,forced:!o("difference")},{difference:i})},2925:function(e,t,n){"use strict";var r=n(36031),i=n(25336),o=n(94407),s=n(59441),a=!s("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));r({target:"Set",proto:!0,real:!0,forced:a},{intersection:o})},40488:function(e,t,n){"use strict";var r=n(36031),i=n(31208),o=n(59441);r({target:"Set",proto:!0,real:!0,forced:!o("isDisjointFrom")},{isDisjointFrom:i})},93981:function(e,t,n){"use strict";var r=n(36031),i=n(6983),o=n(59441);r({target:"Set",proto:!0,real:!0,forced:!o("isSubsetOf")},{isSubsetOf:i})},74686:function(e,t,n){"use strict";var r=n(36031),i=n(47726),o=n(59441);r({target:"Set",proto:!0,real:!0,forced:!o("isSupersetOf")},{isSupersetOf:i})},28869:function(e,t,n){"use strict";var r=n(36031),i=n(99295),o=n(59441);r({target:"Set",proto:!0,real:!0,forced:!o("symmetricDifference")},{symmetricDifference:i})},70393:function(e,t,n){"use strict";var r=n(36031),i=n(33515),o=n(59441);r({target:"Set",proto:!0,real:!0,forced:!o("union")},{union:i})},60168:function(e,t,n){"use strict";var r=n(36031),i=n(68031),o=n(78083),s=n(58294),a=n(99388),l=n(25336),u=i("".charAt),c=l((function(){return"\ud842"!=="".at(-2)}));r({target:"String",proto:!0,forced:c},{at:function(e){var t=a(o(this)),n=t.length,r=s(e),i=r>=0?r:n+r;return i<0||i>=n?void 0:u(t,i)}})},95221:function(e,t,n){"use strict";var r=n(36031),i=n(13342),o=n(68031),s=n(78083),a=n(55326),l=n(11156),u=n(68819),c=n(99388),h=n(10227),d=n(71331),f=n(58339),p=n(96972),m=n(4388),g=p("replace"),v=TypeError,y=o("".indexOf),b=o("".replace),w=o("".slice),_=Math.max;r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,p,E,S,T,M,C,R=s(this),x=0,A=0,N="";if(!l(e)){if(n=u(e),n&&(r=c(s(d(e))),!~y(r,"g")))throw new v("`.replaceAll` does not allow non-global regexes");if(o=h(e,g),o)return i(o,e,R,t);if(m&&n)return b(c(R),e,t)}p=c(R),E=c(e),S=a(t),S||(t=c(t)),T=E.length,M=_(1,T),x=y(p,E);while(-1!==x)C=S?c(t(E,x,p)):f(E,p,x,[],void 0,t),N+=w(p,A,x)+C,A=x+T,x=x+M>p.length?-1:y(p,E,x+M);return A<p.length&&(N+=w(p,A)),N}})},49486:function(e,t,n){"use strict";var r=n(98211),i=n(88605),o=i.aTypedArray,s=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;s("toReversed",(function(){return r(o(this),a(this))}))},24409:function(e,t,n){"use strict";var r=n(88605),i=n(68031),o=n(20043),s=n(89305),a=r.aTypedArray,l=r.getTypedArrayConstructor,u=r.exportTypedArrayMethod,c=i(r.TypedArrayPrototype.sort);u("toSorted",(function(e){void 0!==e&&o(e);var t=a(this),n=s(l(t),t);return c(n,e)}))},9158:function(e,t,n){"use strict";var r=n(53745),i=n(88605),o=n(12770),s=n(58294),a=n(20887),l=i.aTypedArray,u=i.getTypedArrayConstructor,c=i.exportTypedArrayMethod,h=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();c("with",{with:function(e,t){var n=l(this),i=s(e),c=o(n)?a(t):+t;return r(n,u(n),i,c)}}["with"],!h)},86306:function(e,t,n){"use strict";n(47875)},57692:function(e,t,n){"use strict";n(2925)},74613:function(e,t,n){"use strict";n(40488)},61164:function(e,t,n){"use strict";n(93981)},61907:function(e,t,n){"use strict";n(74686)},30232:function(e,t,n){"use strict";n(28869)},12282:function(e,t,n){"use strict";n(70393)},45283:function(e,t,n){"use strict";var r=n(36031),i=n(10758),o=n(98012).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},87168:function(e,t,n){"use strict";var r=n(36031),i=n(10758),o=n(77434),s=n(36541),a=n(53560).f,l=n(69792),u=n(40856),c=n(83104),h=n(58780),d=n(51789),f=n(94038),p=n(78115),m=n(4388),g="DOMException",v=o("Error"),y=o(g),b=function(){u(this,w);var e=arguments.length,t=h(e<1?void 0:arguments[0]),n=h(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=new v(t);return i.name=g,a(r,"stack",s(1,f(i.stack,1))),c(r,this,b),r},w=b.prototype=y.prototype,_="stack"in new v(g),E="stack"in new y(1,2),S=y&&p&&Object.getOwnPropertyDescriptor(i,g),T=!!S&&!(S.writable&&S.configurable),M=_&&!T&&!E;r({global:!0,constructor:!0,forced:m||M},{DOMException:M?b:y});var C=o(g),R=C.prototype;if(R.constructor!==C)for(var x in m||a(R,"constructor",s(1,C)),d)if(l(d,x)){var A=d[x],N=A.s;l(C,N)||a(C,N,s(6,A.c))}},96555:function(e,t,n){"use strict";n(45283),n(43186)},43186:function(e,t,n){"use strict";var r=n(36031),i=n(10758),o=n(98012).set,s=n(17825),a=i.setImmediate?s(o,!1):o;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==a},{setImmediate:a})},30751:function(e,t,n){"use strict";var r=n(4388),i=n(36031),o=n(10758),s=n(77434),a=n(68031),l=n(25336),u=n(8287),c=n(55326),h=n(67160),d=n(11156),f=n(19241),p=n(39830),m=n(72211),g=n(53636),v=n(34944),y=n(69792),b=n(46427),w=n(97302),_=n(50419),E=n(3535),S=n(71331),T=n(31163),M=n(58965),C=n(90374),R=n(8308),x=n(21796),A=n(18785),N=o.Object,L=o.Array,k=o.Date,O=o.Error,I=o.TypeError,P=o.PerformanceMark,D=s("DOMException"),F=T.Map,H=T.has,U=T.get,B=T.set,j=M.Set,Y=M.add,V=M.has,W=s("Object","keys"),z=a([].push),G=a((!0).valueOf),$=a(1..valueOf),q=a("".valueOf),K=a(k.prototype.getTime),X=u("structuredClone"),J="DataCloneError",Q="Transferring",Z=function(e){return!l((function(){var t=new o.Set([7]),n=e(t),r=e(N(7));return n===t||!n.has(7)||!f(r)||7!==+r}))&&e},ee=function(e,t){return!l((function(){var n=new t,r=e({a:n,b:n});return!(r&&r.a===r.b&&r.a instanceof t&&r.a.stack===n.stack)}))},te=function(e){return!l((function(){var t=e(new o.AggregateError([1],X,{cause:3}));return"AggregateError"!==t.name||1!==t.errors[0]||t.message!==X||3!==t.cause}))},ne=o.structuredClone,re=r||!ee(ne,O)||!ee(ne,D)||!te(ne),ie=!ne&&Z((function(e){return new P(X,{detail:e}).detail})),oe=Z(ne)||ie,se=function(e){throw new D("Uncloneable type: "+e,J)},ae=function(e,t){throw new D((t||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",J)},le=function(e,t){return oe||ae(t),oe(e)},ue=function(){var e;try{e=new o.DataTransfer}catch(t){try{e=new o.ClipboardEvent("").clipboardData}catch(n){}}return e&&e.items&&e.files?e:null},ce=function(e,t,n){if(H(t,e))return U(t,e);var r,i,s,a,l,u,h=n||v(e);if("SharedArrayBuffer"===h)r=oe?oe(e):e;else{var d=o.DataView;d||c(e.slice)||ae("ArrayBuffer");try{if(c(e.slice)&&!e.resizable)r=e.slice(0);else{i=e.byteLength,s="maxByteLength"in e?{maxByteLength:e.maxByteLength}:void 0,r=new ArrayBuffer(i,s),a=new d(e),l=new d(r);for(u=0;u<i;u++)l.setUint8(u,a.getUint8(u))}}catch(f){throw new D("ArrayBuffer is detached",J)}}return B(t,e,r),r},he=function(e,t,n,r,i){var s=o[t];return f(s)||ae(t),new s(ce(e.buffer,i),n,r)},de=function(e,t){if(p(e)&&se("Symbol"),!f(e))return e;if(t){if(H(t,e))return U(t,e)}else t=new F;var n,r,i,a,l,u,h,d,m=v(e);switch(m){case"Array":i=L(_(e));break;case"Object":i={};break;case"Map":i=new F;break;case"Set":i=new j;break;case"RegExp":i=new RegExp(e.source,S(e));break;case"Error":switch(r=e.name,r){case"AggregateError":i=new(s(r))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":i=new(s(r));break;case"CompileError":case"LinkError":case"RuntimeError":i=new(s("WebAssembly",r));break;default:i=new O}break;case"DOMException":i=new D(e.message,e.name);break;case"ArrayBuffer":case"SharedArrayBuffer":i=ce(e,t,m);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":u="DataView"===m?e.byteLength:e.length,i=he(e,m,e.byteOffset,u,t);break;case"DOMQuad":try{i=new DOMQuad(de(e.p1,t),de(e.p2,t),de(e.p3,t),de(e.p4,t))}catch(g){i=le(e,m)}break;case"File":if(oe)try{i=oe(e),v(i)!==m&&(i=void 0)}catch(g){}if(!i)try{i=new File([e],e.name,e)}catch(g){}i||ae(m);break;case"FileList":if(a=ue(),a){for(l=0,u=_(e);l<u;l++)a.items.add(de(e[l],t));i=a.files}else i=le(e,m);break;case"ImageData":try{i=new ImageData(de(e.data,t),e.width,e.height,{colorSpace:e.colorSpace})}catch(g){i=le(e,m)}break;default:if(oe)i=oe(e);else switch(m){case"BigInt":i=N(e.valueOf());break;case"Boolean":i=N(G(e));break;case"Number":i=N($(e));break;case"String":i=N(q(e));break;case"Date":i=new k(K(e));break;case"Blob":try{i=e.slice(0,e.size,e.type)}catch(g){ae(m)}break;case"DOMPoint":case"DOMPointReadOnly":n=o[m];try{i=n.fromPoint?n.fromPoint(e):new n(e.x,e.y,e.z,e.w)}catch(g){ae(m)}break;case"DOMRect":case"DOMRectReadOnly":n=o[m];try{i=n.fromRect?n.fromRect(e):new n(e.x,e.y,e.width,e.height)}catch(g){ae(m)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=o[m];try{i=n.fromMatrix?n.fromMatrix(e):new n(e)}catch(g){ae(m)}break;case"AudioData":case"VideoFrame":c(e.clone)||ae(m);try{i=e.clone()}catch(g){se(m)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ae(m);default:se(m)}}switch(B(t,e,i),m){case"Array":case"Object":for(h=W(e),l=0,u=_(h);l<u;l++)d=h[l],b(i,d,de(e[d],t));break;case"Map":e.forEach((function(e,n){B(i,de(n,t),de(e,t))}));break;case"Set":e.forEach((function(e){Y(i,de(e,t))}));break;case"Error":w(i,"message",de(e.message,t)),y(e,"cause")&&w(i,"cause",de(e.cause,t)),"AggregateError"===r?i.errors=de(e.errors,t):"SuppressedError"===r&&(i.error=de(e.error,t),i.suppressed=de(e.suppressed,t));case"DOMException":x&&w(i,"stack",de(e.stack,t))}return i},fe=function(e,t){if(!f(e))throw new I("Transfer option cannot be converted to a sequence");var n=[];m(e,(function(e){z(n,g(e))}));var r,i,s,a,l,u,d=0,p=_(n),y=new j;while(d<p){if(r=n[d++],i=v(r),"ArrayBuffer"===i?V(y,r):H(t,r))throw new D("Duplicate transferable",J);if("ArrayBuffer"!==i){if(A)a=ne(r,{transfer:[r]});else switch(i){case"ImageBitmap":s=o.OffscreenCanvas,h(s)||ae(i,Q);try{l=new s(r.width,r.height),u=l.getContext("bitmaprenderer"),u.transferFromImageBitmap(r),a=l.transferToImageBitmap()}catch(b){}break;case"AudioData":case"VideoFrame":c(r.clone)&&c(r.close)||ae(i,Q);try{a=r.clone(),r.close()}catch(b){}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ae(i,Q)}if(void 0===a)throw new D("This object cannot be transferred: "+i,J);B(t,r,a)}else Y(y,r)}return y},pe=function(e){C(e,(function(e){A?oe(e,{transfer:[e]}):c(e.transfer)?e.transfer():R?R(e):ae("ArrayBuffer",Q)}))};i({global:!0,enumerable:!0,sham:!A,forced:re},{structuredClone:function(e){var t,n,r=E(arguments.length,1)>1&&!d(arguments[1])?g(arguments[1]):void 0,i=r?r.transfer:void 0;void 0!==i&&(t=new F,n=fe(i,t));var o=de(e,t);return n&&pe(n),o}})},96734:function(e,t,n){"use strict";var r=n(57147),i=n(68031),o=n(99388),s=n(3535),a=URLSearchParams,l=a.prototype,u=i(l.append),c=i(l["delete"]),h=i(l.forEach),d=i([].push),f=new a("a=1&a=2&b=3");f["delete"]("a",1),f["delete"]("b",void 0),f+""!=="a=2"&&r(l,"delete",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var r=[];h(this,(function(e,t){d(r,{key:t,value:e})})),s(t,1);var i,a=o(e),l=o(n),f=0,p=0,m=!1,g=r.length;while(f<g)i=r[f++],m||i.key===a?(m=!0,c(this,i.key)):p++;while(p<g)i=r[p++],i.key===a&&i.value===l||u(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},77797:function(e,t,n){"use strict";var r=n(57147),i=n(68031),o=n(99388),s=n(3535),a=URLSearchParams,l=a.prototype,u=i(l.getAll),c=i(l.has),h=new a("a=1");!h.has("a",2)&&h.has("a",void 0)||r(l,"has",(function(e){var t=arguments.length,n=t<2?void 0:arguments[1];if(t&&void 0===n)return c(this,e);var r=u(this,e);s(t,1);var i=o(n),a=0;while(a<r.length)if(r[a++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},10968:function(e,t,n){"use strict";var r=n(78115),i=n(68031),o=n(95479),s=URLSearchParams.prototype,a=i(s.forEach);r&&!("size"in s)&&o(s,"size",{get:function(){var e=0;return a(this,(function(){e++})),e},configurable:!0,enumerable:!0})},14590:function(e,t,n){"use strict";n.d(t,{LV:function(){return g}});
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const r=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),o=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.finalizer"),a=Symbol("Comlink.thrown"),l=e=>"object"===typeof e&&null!==e||"function"===typeof e,u={canHandle:e=>l(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return f(e,t),[n,[n]]},deserialize(e){return e.start(),g(e)}},c={canHandle:e=>l(e)&&a in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}},h=new Map([["proxy",u],["throw",c]]);function d(e,t){for(const n of e){if(t===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(t))return!0}return!1}function f(e,t=globalThis,n=["*"]){t.addEventListener("message",(function r(i){if(!i||!i.data)return;if(!d(n,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:o,type:l,path:u}=Object.assign({path:[]},i.data),c=(i.data.argumentList||[]).map(N);let h;try{const t=u.slice(0,-1).reduce(((e,t)=>e[t]),e),n=u.reduce(((e,t)=>e[t]),e);switch(l){case"GET":h=n;break;case"SET":t[u.slice(-1)[0]]=N(i.data.value),h=!0;break;case"APPLY":h=n.apply(t,c);break;case"CONSTRUCT":{const e=new n(...c);h=x(e)}break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;f(e,n),h=R(t,[t])}break;case"RELEASE":h=void 0;break;default:return}}catch(value){h={value:value,[a]:0}}Promise.resolve(h).catch((e=>({value:e,[a]:0}))).then((n=>{const[i,a]=A(n);t.postMessage(Object.assign(Object.assign({},i),{id:o}),a),"RELEASE"===l&&(t.removeEventListener("message",r),m(t),s in e&&"function"===typeof e[s]&&e[s]())})).catch((e=>{const[n,r]=A({value:new TypeError("Unserializable return value"),[a]:0});t.postMessage(Object.assign(Object.assign({},n),{id:o}),r)}))})),t.start&&t.start()}function p(e){return"MessagePort"===e.constructor.name}function m(e){p(e)&&e.close()}function g(e,t){return S(e,[],t)}function v(e){if(e)throw new Error("Proxy has been released and is not useable")}function y(e){return L(e,{type:"RELEASE"}).then((()=>{m(e)}))}const b=new WeakMap,w="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(b.get(e)||0)-1;b.set(e,t),0===t&&y(e)}));function _(e,t){const n=(b.get(t)||0)+1;b.set(t,n),w&&w.register(e,t,e)}function E(e){w&&w.unregister(e)}function S(e,t=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(n,i){if(v(r),i===o)return()=>{E(s),y(e),r=!0};if("then"===i){if(0===t.length)return{then:()=>s};const n=L(e,{type:"GET",path:t.map((e=>e.toString()))}).then(N);return n.then.bind(n)}return S(e,[...t,i])},set(n,i,o){v(r);const[s,a]=A(o);return L(e,{type:"SET",path:[...t,i].map((e=>e.toString())),value:s},a).then(N)},apply(n,o,s){v(r);const a=t[t.length-1];if(a===i)return L(e,{type:"ENDPOINT"}).then(N);if("bind"===a)return S(e,t.slice(0,-1));const[l,u]=M(s);return L(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:l},u).then(N)},construct(n,i){v(r);const[o,s]=M(i);return L(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:o},s).then(N)}});return _(s,e),s}function T(e){return Array.prototype.concat.apply([],e)}function M(e){const t=e.map(A);return[t.map((e=>e[0])),T(t.map((e=>e[1])))]}const C=new WeakMap;function R(e,t){return C.set(e,t),e}function x(e){return Object.assign(e,{[r]:!0})}function A(e){for(const[t,n]of h)if(n.canHandle(e)){const[r,i]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},i]}return[{type:"RAW",value:e},C.get(e)||[]]}function N(e){switch(e.type){case"HANDLER":return h.get(e.name).deserialize(e.value);case"RAW":return e.value}}function L(e,t,n){return new Promise((r=>{const i=k();e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===i&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),n)}))}function k(){return new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-")}},82695:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});let r={};function i(){return r}},13999:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(2642),i=n(35840);function o(e,t){const n=(0,r.a)(e);return isNaN(t)?(0,i.w)(e,NaN):t?(n.setDate(n.getDate()+t),n):n}},35840:function(e,t,n){"use strict";function r(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}n.d(t,{w:function(){return r}})},71359:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(2642);function i(e){const t=(0,r.a)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},72483:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var r=n(2642),i=n(82695);function o(e,t){const n=(0,i.q)(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=(0,r.a)(e),a=s.getDay(),l=6+(a<o?-7:0)-(a-o);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}},77768:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(2642);function i(e){const t=(0,r.a)(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}},42150:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(2642);function i(e){const t=(0,r.a)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},71169:function(e,t,n){"use strict";function r(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r+1),i.setHours(0,0,0,0),i}n.d(t,{R:function(){return r}})},92528:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(2642),i=n(82695);function o(e,t){const n=(0,i.q)(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=(0,r.a)(e),a=s.getDay(),l=(a<o?7:0)+a-o;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}},16823:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(2642),i=n(35840);function o(e){const t=(0,r.a)(e),n=(0,i.w)(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},80428:function(e,t,n){"use strict";function r(){const e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),i=new Date(0);return i.setFullYear(t,n,r-1),i.setHours(0,0,0,0),i}n.d(t,{K:function(){return r}})},2642:function(e,t,n){"use strict";function r(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}n.d(t,{a:function(){return r}})},68404:function(e,t,n){"use strict";n.d(t,{Ay:function(){return Cq}});var r={};n.r(r),n.d(r,{arrayAvg:function(){return N},arrayEach:function(){return C},arrayFilter:function(){return T},arrayFlatten:function(){return L},arrayMap:function(){return M},arrayMax:function(){return x},arrayMin:function(){return A},arrayReduce:function(){return S},arraySum:function(){return R},arrayUnique:function(){return k},extendArray:function(){return _},getDifferenceOfArrays:function(){return O},getIntersectionOfArrays:function(){return I},getUnionOfArrays:function(){return P},pivot:function(){return E},stringToArray:function(){return D},to2dArray:function(){return w}});var i={};n.r(i),n.d(i,{_injectProductInfo:function(){return ee},isDefined:function(){return U},isEmpty:function(){return j},isRegExp:function(){return Y},isUndefined:function(){return B},stringify:function(){return H}});var o={};n.r(o),n.d(o,{equalsIgnoreCase:function(){return re},isPercentValue:function(){return oe},randomString:function(){return ie},sanitize:function(){return le},stripTags:function(){return ae},substitute:function(){return se},toUpperCaseFirst:function(){return ne}});var s={};n.r(s),n.d(s,{HTML_CHARACTERS:function(){return pt},addClass:function(){return lt},addEvent:function(){return It},clearTextSelection:function(){return Ut},closest:function(){return et},closestDown:function(){return tt},empty:function(){return ft},fastInnerHTML:function(){return mt},fastInnerText:function(){return gt},getCaretPosition:function(){return Dt},getComputedStyle:function(){return At},getCssTransform:function(){return $t},getFrameElement:function(){return Je},getMaximumScrollLeft:function(){return Mt},getMaximumScrollTop:function(){return Tt},getParent:function(){return Ke},getParentWindow:function(){return Qe},getScrollLeft:function(){return Et},getScrollTop:function(){return _t},getScrollableElement:function(){return St},getScrollbarWidth:function(){return Vt},getSelectionEndPosition:function(){return Ft},getSelectionText:function(){return Ht},getStyle:function(){return Rt},getTrimmingContainer:function(){return Ct},getWindowScrollLeft:function(){return wt},getWindowScrollTop:function(){return bt},hasAccessToParentWindow:function(){return Ze},hasClass:function(){return at},hasHorizontalScrollbar:function(){return zt},hasVerticalScrollbar:function(){return Wt},index:function(){return rt},innerHeight:function(){return kt},innerWidth:function(){return Ot},isChildOf:function(){return nt},isDetached:function(){return Qt},isInput:function(){return Kt},isOutsideInput:function(){return Xt},isThisHotChild:function(){return Xe},isVisible:function(){return vt},makeElementContentEditableAndSelectItsContent:function(){return en},matchesCSSRules:function(){return xt},observeVisibilityChangeOnce:function(){return Zt},offset:function(){return yt},outerHeight:function(){return Lt},outerWidth:function(){return Nt},overlayContainsElement:function(){return it},removeAttribute:function(){return ht},removeClass:function(){return ut},removeContentEditableFromElementAndDeselect:function(){return tn},removeEvent:function(){return Pt},removeTextNodes:function(){return dt},resetCssTransform:function(){return qt},runWithSelectedContendEditableElement:function(){return nn},selectElementIfAllowed:function(){return Jt},setAttribute:function(){return ct},setCaretPosition:function(){return Bt},setOverlayPosition:function(){return Gt}});var a={};n.r(a),n.d(a,{curry:function(){return cn},curryRight:function(){return hn},debounce:function(){return an},fastCall:function(){return dn},isFunction:function(){return rn},partial:function(){return un},pipe:function(){return ln},throttle:function(){return on},throttleAfterHits:function(){return sn}});var l={};n.r(l),n.d(l,{clone:function(){return yn},createObjectPropListener:function(){return Rn},deepClone:function(){return vn},deepExtend:function(){return gn},deepObjectSize:function(){return Cn},defineGetter:function(){return En},duckSchema:function(){return fn},extend:function(){return mn},getProperty:function(){return Tn},hasOwnProperty:function(){return xn},inherit:function(){return pn},isObject:function(){return _n},isObjectEqual:function(){return wn},mixin:function(){return bn},objectEach:function(){return Sn},setProperty:function(){return Mn}});var u={};n.r(u),n.d(u,{cancelAnimationFrame:function(){return Nn},getComparisonFunction:function(){return In},isCSR:function(){return kn},isTouchSupported:function(){return Ln},requestAnimationFrame:function(){return An}});var c={};n.r(c),n.d(c,{isChrome:function(){return Bn},isChromeWebKit:function(){return jn},isEdge:function(){return zn},isEdgeWebKit:function(){return Gn},isFirefox:function(){return Yn},isFirefoxWebKit:function(){return Vn},isIOS:function(){return qn},isIpadOS:function(){return Kn},isLinuxOS:function(){return Qn},isMacOS:function(){return Jn},isMobileBrowser:function(){return $n},isSafari:function(){return Wn},isWindowsOS:function(){return Xn},setBrowserMeta:function(){return Hn},setPlatformMeta:function(){return Un}});var h={};n.r(h),n.d(h,{KEY_CODES:function(){return Zn},isCtrlKey:function(){return rr},isCtrlMetaKey:function(){return ir},isFunctionKey:function(){return nr},isKey:function(){return or},isPrintableChar:function(){return tr}});var d={};n.r(d),n.d(d,{isImmediatePropagationStopped:function(){return ar},isLeftClick:function(){return ur},isRightClick:function(){return lr},isTouchEvent:function(){return cr},offsetRelativeTo:function(){return hr},stopImmediatePropagation:function(){return sr}});var f={};n.r(f),n.d(f,{_dataToHTML:function(){return Ci},htmlToGridSettings:function(){return Ri},instanceToHTML:function(){return Mi}});var p={};n.r(p),n.d(p,{clamp:function(){return Oi},isNumeric:function(){return xi},isNumericLike:function(){return Ai},rangeEach:function(){return Ni},rangeEachReverse:function(){return Li},valueAccordingPercent:function(){return ki}});var m={};n.r(m),n.d(m,{countFirstRowKeys:function(){return mh},createEmptySpreadsheetData:function(){return fh},createSpreadsheetData:function(){return hh},createSpreadsheetObjectData:function(){return dh},dataRowToChangesArray:function(){return ph},isArrayOfArrays:function(){return gh},isArrayOfObjects:function(){return vh},spreadsheetColumnIndex:function(){return ch},spreadsheetColumnLabel:function(){return uh}});var g={};n.r(g),n.d(g,{CHECKBOX_CHECKED:function(){return lp},CHECKBOX_RENDERER_NAMESPACE:function(){return ap},CHECKBOX_UNCHECKED:function(){return up},CONTEXTMENU_ITEMS_ADD_COMMENT:function(){return tf},CONTEXTMENU_ITEMS_ALIGNMENT:function(){return sf},CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM:function(){return ff},CONTEXTMENU_ITEMS_ALIGNMENT_CENTER:function(){return lf},CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY:function(){return cf},CONTEXTMENU_ITEMS_ALIGNMENT_LEFT:function(){return af},CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE:function(){return df},CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT:function(){return uf},CONTEXTMENU_ITEMS_ALIGNMENT_TOP:function(){return hf},CONTEXTMENU_ITEMS_BORDERS:function(){return pf},CONTEXTMENU_ITEMS_BORDERS_BOTTOM:function(){return vf},CONTEXTMENU_ITEMS_BORDERS_LEFT:function(){return yf},CONTEXTMENU_ITEMS_BORDERS_RIGHT:function(){return gf},CONTEXTMENU_ITEMS_BORDERS_TOP:function(){return mf},CONTEXTMENU_ITEMS_CLEAR_COLUMN:function(){return zd},CONTEXTMENU_ITEMS_COPY:function(){return Gd},CONTEXTMENU_ITEMS_COPY_COLUMN_HEADERS_ONLY:function(){return Kd},CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_GROUP_HEADERS:function(){return qd},CONTEXTMENU_ITEMS_COPY_WITH_COLUMN_HEADERS:function(){return $d},CONTEXTMENU_ITEMS_CUT:function(){return Xd},CONTEXTMENU_ITEMS_EDIT_COMMENT:function(){return nf},CONTEXTMENU_ITEMS_FREEZE_COLUMN:function(){return Jd},CONTEXTMENU_ITEMS_HIDE_COLUMN:function(){return Ef},CONTEXTMENU_ITEMS_HIDE_ROW:function(){return Tf},CONTEXTMENU_ITEMS_INSERT_LEFT:function(){return Hd},CONTEXTMENU_ITEMS_INSERT_RIGHT:function(){return Ud},CONTEXTMENU_ITEMS_MERGE_CELLS:function(){return Zd},CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD:function(){return _f},CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD:function(){return wf},CONTEXTMENU_ITEMS_NO_ITEMS:function(){return Pd},CONTEXTMENU_ITEMS_READ_ONLY:function(){return Wd},CONTEXTMENU_ITEMS_READ_ONLY_COMMENT:function(){return of},CONTEXTMENU_ITEMS_REDO:function(){return Vd},CONTEXTMENU_ITEMS_REMOVE_BORDERS:function(){return bf},CONTEXTMENU_ITEMS_REMOVE_COLUMN:function(){return jd},CONTEXTMENU_ITEMS_REMOVE_COMMENT:function(){return rf},CONTEXTMENU_ITEMS_REMOVE_ROW:function(){return Bd},CONTEXTMENU_ITEMS_ROW_ABOVE:function(){return Dd},CONTEXTMENU_ITEMS_ROW_BELOW:function(){return Fd},CONTEXTMENU_ITEMS_SHOW_COLUMN:function(){return Sf},CONTEXTMENU_ITEMS_SHOW_ROW:function(){return Mf},CONTEXTMENU_ITEMS_UNDO:function(){return Yd},CONTEXTMENU_ITEMS_UNFREEZE_COLUMN:function(){return Qd},CONTEXTMENU_ITEMS_UNMERGE_CELLS:function(){return ef},CONTEXT_MENU_ITEMS_NAMESPACE:function(){return Od},FILTERS_BUTTONS_CANCEL:function(){return rp},FILTERS_BUTTONS_CLEAR:function(){return tp},FILTERS_BUTTONS_OK:function(){return np},FILTERS_BUTTONS_PLACEHOLDER_SEARCH:function(){return ip},FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE:function(){return sp},FILTERS_BUTTONS_PLACEHOLDER_VALUE:function(){return op},FILTERS_BUTTONS_SELECT_ALL:function(){return ep},FILTERS_CONDITIONS_AFTER:function(){return Wf},FILTERS_CONDITIONS_BEFORE:function(){return zf},FILTERS_CONDITIONS_BEGINS_WITH:function(){return Of},FILTERS_CONDITIONS_BETWEEN:function(){return Yf},FILTERS_CONDITIONS_BY_VALUE:function(){return Ff},FILTERS_CONDITIONS_CONTAINS:function(){return Pf},FILTERS_CONDITIONS_EMPTY:function(){return Af},FILTERS_CONDITIONS_ENDS_WITH:function(){return If},FILTERS_CONDITIONS_EQUAL:function(){return Lf},FILTERS_CONDITIONS_GREATER_THAN:function(){return Hf},FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL:function(){return Uf},FILTERS_CONDITIONS_LESS_THAN:function(){return Bf},FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL:function(){return jf},FILTERS_CONDITIONS_NAMESPACE:function(){return Rf},FILTERS_CONDITIONS_NONE:function(){return xf},FILTERS_CONDITIONS_NOT_BETWEEN:function(){return Vf},FILTERS_CONDITIONS_NOT_CONTAIN:function(){return Df},FILTERS_CONDITIONS_NOT_EMPTY:function(){return Nf},FILTERS_CONDITIONS_NOT_EQUAL:function(){return kf},FILTERS_CONDITIONS_TODAY:function(){return Gf},FILTERS_CONDITIONS_TOMORROW:function(){return $f},FILTERS_CONDITIONS_YESTERDAY:function(){return qf},FILTERS_DIVS_FILTER_BY_CONDITION:function(){return Kf},FILTERS_DIVS_FILTER_BY_VALUE:function(){return Xf},FILTERS_LABELS_CONJUNCTION:function(){return Jf},FILTERS_LABELS_DISJUNCTION:function(){return Qf},FILTERS_NAMESPACE:function(){return Cf},FILTERS_VALUES_BLANK_CELLS:function(){return Zf}});var v={};n.r(v),n.d(v,{getNormalizedDate:function(){return l_}});n(64849),n(84645),n(47875),n(2925),n(40488),n(93981),n(74686),n(28869),n(70393),n(96555);var y=n(55215),b=n(67656);function w(e){const t=e.length;let n=0;while(n<t)e[n]=[e[n]],n+=1}function _(e,t){const n=t.length;let r=0;while(r<n)e.push(t[r]),r+=1}function E(e){const t=[];if(!e||0===e.length||!e[0]||0===e[0].length)return t;const n=e.length,r=e[0].length;for(let i=0;i<n;i++)for(let n=0;n<r;n++)t[n]||(t[n]=[]),t[n][i]=e[i][n];return t}function S(e,t,n,r){let i=-1,o=e,s=n;Array.isArray(e)||(o=Array.from(e));const a=o.length;r&&a&&(i+=1,s=o[i]),i+=1;while(i<a)s=t(s,o[i],i,o),i+=1;return s}function T(e,t){let n=0,r=e;Array.isArray(e)||(r=Array.from(e));const i=r.length,o=[];let s=-1;while(n<i){const e=r[n];t(e,n,r)&&(s+=1,o[s]=e),n+=1}return o}function M(e,t){let n=0,r=e;Array.isArray(e)||(r=Array.from(e));const i=r.length,o=[];let s=-1;while(n<i){const e=r[n];s+=1,o[s]=t(e,n,r),n+=1}return o}function C(e,t){let n=0,r=e;Array.isArray(e)||(r=Array.from(e));const i=r.length;while(n<i){if(!1===t(r[n],n,r))break;n+=1}return e}function R(e){return S(e,((e,t)=>e+t),0)}function x(e){return S(e,((e,t)=>e>t?e:t),Array.isArray(e)?e[0]:void 0)}function A(e){return S(e,((e,t)=>e<t?e:t),Array.isArray(e)?e[0]:void 0)}function N(e){return e.length?R(e)/e.length:0}function L(e){return S(e,((e,t)=>e.concat(Array.isArray(t)?L(t):t)),[])}function k(e){const t=[];return C(e,(e=>{-1===t.indexOf(e)&&t.push(e)})),t}function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,...i]=[...t];let o=r;return C(i,(e=>{o=o.filter((t=>!e.includes(t)))})),o}function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,...i]=[...t];let o=r;return C(i,(e=>{o=o.filter((t=>e.includes(t)))})),o}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,...i]=[...t],o=new Set(r);return C(i,(e=>{C(e,(e=>{o.has(e)||o.add(e)}))})),Array.from(o)}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.split(t)}function F(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=S(e,((e,t,r)=>{const i=t.replace(/\r?\n\s*/g,""),o=n[r]?n[r]:"";return e+i+o}),"");return i.trim()}function H(e){let t;switch(typeof e){case"string":case"number":t=`${e}`;break;case"object":t=null===e?"":e.toString();break;case"undefined":t="";break;default:t=e.toString();break}return t}function U(e){return"undefined"!==typeof e}function B(e){return"undefined"===typeof e}function j(e){return null===e||""===e||B(e)}function Y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}const V="length",W=e=>parseInt(e,16),z=e=>parseInt(e,10),G=(e,t,n)=>e["substr"](t,n),$=e=>e["codePointAt"](0)-65,q=e=>`${e}`.replace(/\-/g,""),K=e=>W(G(q(e),W("12"),$("F")))/(W(G(q(e),$("B"),~~![][V]))||9),X=()=>"undefined"!==typeof location&&/^([a-z0-9\-]+\.)?\x68\x61\x6E\x64\x73\x6F\x6E\x74\x61\x62\x6C\x65\x2E\x63\x6F\x6D$/i.test(location.host);let J=!1;const Q={invalid:()=>F`
    The license key for Handsontable is invalid.\x20
    If you need any help, contact us at support@handsontable.com.`,expired:e=>{let{keyValidityDate:t,hotVersion:n}=e;return F`
    The license key for Handsontable expired on ${t}, and is not valid for the installed\x20
    version ${n}. Renew your license key at handsontable.com or downgrade to a version released prior\x20
    to ${t}. If you need any help, contact us at sales@handsontable.com.`},missing:()=>F`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'. If you need any help, contact\x20
    us at support@handsontable.com.`,non_commercial:()=>""},Z={invalid:()=>F`
    The license key for Handsontable is invalid.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> on how to\x20
    install it properly or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,expired:e=>{let{keyValidityDate:t,hotVersion:n}=e;return F`
    The license key for Handsontable expired on ${t}, and is not valid for the installed\x20
    version ${n}. <a href="https://handsontable.com/pricing" target="_blank">Renew</a> your\x20
    license key or downgrade to a version released prior to ${t}. If you need any\x20
    help, contact us at <a href="mailto:sales@handsontable.com">sales@handsontable.com</a>.`},missing:()=>F`
    The license key for Handsontable is missing. Use your purchased key to activate the product.\x20
    Alternatively, you can activate Handsontable to use for non-commercial purposes by\x20
    passing the key: 'non-commercial-and-evaluation'.\x20
    <a href="https://handsontable.com/docs/tutorial-license-key.html" target="_blank">Read more</a> about it in\x20
    the documentation or contact us at <a href="mailto:support@handsontable.com">support@handsontable.com</a>.`,non_commercial:()=>""};function ee(e,t){const n=!j(e),r="string"===typeof e&&"non-commercial-and-evaluation"===e.toLowerCase(),i="14.6.1";let o,s="invalid",a="invalid";e=q(e||"");const l=te(e);if(n||r||l)if(l){const t=b("17/10/2024","DD/MM/YYYY"),n=Math.floor(t.toDate().getTime()/864e5),r=K(e);o=b(864e5*(r+1),"x").format("MMMM DD, YYYY"),n>r?(s="expired",a="expired"):(s="valid",a="valid")}else r?(s="non_commercial",a="valid"):(s="invalid",a="invalid");else s="missing",a="missing";if(X()&&(s="valid",a="valid"),!J&&"valid"!==s){const e=Q[s]({keyValidityDate:o,hotVersion:i});e&&console["non_commercial"===s?"info":"warn"](Q[s]({keyValidityDate:o,hotVersion:i})),J=!0}if("valid"!==a&&t.parentNode){const e=Z[a]({keyValidityDate:o,hotVersion:i});if(e){const e=document.createElement("div");e.className="hot-display-license-info",e.innerHTML=Z[a]({keyValidityDate:o,hotVersion:i}),t.parentNode.insertBefore(e,t.nextSibling)}}}function te(e){let t=[][V],n=t;if(e[V]!==$("Z"))return!1;for(let r="",i="B<H4P+".split(""),o=$(i.shift());o;o=$(i.shift()||"A"))--o<""[V]?n|=(z(`${z(W(r)+(W(G(e,Math.abs(o),2))+[]).padStart(2,"0"))}`)%97||2)>>1:r=G(e,o,o?1===i[V]?9:8:6);return n===t}function ne(e){return e[0].toUpperCase()+e.substr(1)}function re(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=n.length;while(i){i-=1;const t=H(n[i]).toLowerCase();-1===e.indexOf(t)&&e.push(t)}return 1===e.length}function ie(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()+e()}function oe(e){return/^([0-9][0-9]?%$)|(^100%$)/.test(e)}function se(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return`${e}`.replace(/(?:\\)?\[([^[\]]+)]/g,((e,n)=>"\\"===e.charAt(0)?e.substr(1,e.length-1):void 0===t[n]?"":t[n]))}function ae(e){return le(`${e}`,{ALLOWED_TAGS:[]})}function le(e,t){return y.sanitize(e,t)}const ue=e=>["tabindex",e],ce=()=>["role","treegrid"],he=()=>["role","presentation"],de=()=>["role","gridcell"],fe=()=>["role","rowheader"],pe=()=>["role","rowgroup"],me=()=>["role","columnheader"],ge=()=>["role","row"],ve=()=>["role","menu"],ye=()=>["role","menuitem"],be=()=>["role","menuitemcheckbox"],we=()=>["role","combobox"],_e=()=>["role","listbox"],Ee=()=>["role","option"],Se=()=>["role","checkbox"],Te=()=>["scope","col"],Me=()=>["scope","row"],Ce=()=>["type","text"],Re=e=>["aria-label",e],xe=()=>["aria-hidden","true"],Ae=()=>["aria-disabled","true"],Ne=()=>["aria-multiselectable","true"],Le=e=>["aria-haspopup",e],ke=e=>["aria-rowcount",e],Oe=e=>["aria-colcount",e],Ie=e=>["aria-rowindex",e],Pe=e=>["aria-colindex",e],De=e=>["aria-expanded",e],Fe=e=>["aria-sort",e],He=()=>["aria-readonly","true"],Ue=()=>["aria-invalid","true"],Be=e=>["aria-checked",e],je=()=>["aria-selected","true"],Ye=()=>["aria-autocomplete","list"],Ve=e=>["aria-controls",e],We=e=>["aria-activedescendant",e],ze=e=>["aria-live",e],Ge=e=>["aria-relevant",e],$e=e=>["aria-setsize",e],qe=e=>["aria-posinset",e];function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=null,i=e;while(null!==i){if(n===t){r=i;break}i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i=i.host:(n+=1,i=i.parentNode)}return r}function Xe(e,t){const n=e.closest(".handsontable");return!!n&&(n.parentNode===t||n===t)}function Je(e){return Object.getPrototypeOf(e.parent)&&e.frameElement}function Qe(e){return Je(e)&&e.parent}function Ze(e){return!!Object.getPrototypeOf(e.parent)}function et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const{ELEMENT_NODE:r,DOCUMENT_FRAGMENT_NODE:i}=Node;let o=e;while(null!==o&&void 0!==o&&o!==n){const{nodeType:e,nodeName:n}=o;if(e===r&&(t.includes(n)||t.includes(o)))return o;const{host:s}=o;o=s&&e===i?s:o.parentNode}return null}function tt(e,t,n){const r=[];let i=e;while(i){if(i=et(i,t,n),!i||n&&!n.contains(i))break;r.push(i),i=i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE?i.host:i.parentNode}const o=r.length;return o?r[o-1]:null}function nt(e,t){let n=e.parentNode,r=[];"string"===typeof t?r=e.defaultView?Array.prototype.slice.call(e.querySelectorAll(t),0):Array.prototype.slice.call(e.ownerDocument.querySelectorAll(t),0):r.push(t);while(null!==n){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function rt(e){let t=0,n=e;if(n.previousSibling)while(n=n.previousSibling)t+=1;return t}function it(e,t,n){const r=n.parentElement.querySelector(`.ht_clone_${e}`);return r?r.contains(t):null}function ot(e){return e&&e.length?e.filter((e=>!!e)):[]}function st(e,t){if(!e||!e.length)return t?{regexFree:[],regexes:[]}:[];const n=[],r=[];return r.push(...e.filter((e=>{const r=e instanceof RegExp;return r&&t&&n.push(e),!r}))),t?{regexFree:r,regexes:n}:r}function at(e,t){return void 0!==e.classList&&"string"===typeof t&&""!==t&&e.classList.contains(t)}function lt(e,t){"string"===typeof t&&(t=t.split(" ")),t=ot(t),t.length>0&&e.classList.add(...t)}function ut(e,t){"string"===typeof t?t=t.split(" "):t instanceof RegExp&&(t=[t]);let{regexFree:n,regexes:r}=st(t,!0);n=ot(n),n.length>0&&e.classList.remove(...n),r.forEach((t=>{e.classList.forEach((n=>{t.test(n)&&e.classList.remove(n)}))}))}function ct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;Array.isArray(t)||(t=[[t,n]]),t.forEach((t=>{Array.isArray(t)&&""!==t[0]&&e.setAttribute(...t)}))}function ht(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];"string"===typeof t?t=t.split(" "):t instanceof RegExp&&(t=[t]);const{regexFree:n,regexes:r}=st(t,!0);n.forEach((t=>{""!==t&&e.removeAttribute(t)})),r.forEach((t=>{e.getAttributeNames().forEach((n=>{t.test(n)&&e.removeAttribute(n)}))}))}function dt(e){if(3===e.nodeType)e.parentNode.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1){const t=e.childNodes;for(let e=t.length-1;e>=0;e--)dt(t[e])}}function ft(e){let t;while(t=e.lastChild)e.removeChild(t)}const pt=/(<(.*)>|&(.*);)/;function mt(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];pt.test(t)?e.innerHTML=n?le(t):t:gt(e,t)}function gt(e,t){const n=e.firstChild;n&&3===n.nodeType&&null===n.nextSibling?n.textContent=t:(ft(e),e.appendChild(e.ownerDocument.createTextNode(t)))}function vt(e){const t=e.ownerDocument.documentElement;let n=e;while(n!==t){if(null===n)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n.host){if(n.host.impl)return vt(n.host.impl);if(n.host)return vt(n.host);throw new Error("Lost in Web Components world")}return!1}if("none"===At(n).display)return!1;n=n.parentNode}return!0}function yt(e){const t=e.ownerDocument,n=t.defaultView,r=t.documentElement;let i,o,s,a=e;i=a.offsetLeft,o=a.offsetTop,s=a;while(a=a.offsetParent){if(a===t.body)break;if(!("offsetLeft"in a))break;i+=a.offsetLeft,o+=a.offsetTop,s=a}return s&&"fixed"===s.style.position&&(i+=n.pageXOffset||r.scrollLeft,o+=n.pageYOffset||r.scrollTop),{left:i,top:o}}function bt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.scrollY}function wt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.scrollX}function _t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return e===t?bt(t):e.scrollTop}function Et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return e===t?wt(t):e.scrollLeft}function St(e){let t=e.ownerDocument,n=t?t.defaultView:void 0;t||(t=e.document?e.document:e,n=t.defaultView);const r=["auto","scroll"];let i=e.parentNode;while(i&&i.style&&t.body!==i){let{overflow:e,overflowX:t,overflowY:o}=i.style;if([e,t,o].includes("scroll"))return i;if(({overflow:e,overflowX:t,overflowY:o}=n.getComputedStyle(i)),r.includes(e)||r.includes(t)||r.includes(o))return i;if(i.clientHeight<=i.scrollHeight+1&&(r.includes(o)||r.includes(e)))return i;if(i.clientWidth<=i.scrollWidth+1&&(r.includes(t)||r.includes(e)))return i;i=i.parentNode}return n}function Tt(e){return e.scrollHeight-e.clientHeight}function Mt(e){return e.scrollWidth-e.clientWidth}function Ct(e){const t=e.ownerDocument,n=t.defaultView;let r=e.parentNode;while(r&&r.style&&t.body!==r){if("visible"!==r.style.overflow&&""!==r.style.overflow)return r;const e=At(r,n),t=["scroll","hidden","auto"],i=e.getPropertyValue("overflow"),o=e.getPropertyValue("overflow-y"),s=e.getPropertyValue("overflow-x");if(t.includes(i)||t.includes(o)||t.includes(s))return r;r=r.parentNode}return n}function Rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(!e)return;if(e===n)return"width"===t?`${n.innerWidth}px`:"height"===t?`${n.innerHeight}px`:void 0;const r=e.style[t];if(""!==r&&void 0!==r)return r;const i=At(e,n);return""!==i[t]&&void 0!==i[t]?i[t]:void 0}function xt(e,t){const{selectorText:n}=t;let r=!1;return t.type===CSSRule.STYLE_RULE&&n&&(e.msMatchesSelector?r=e.msMatchesSelector(n):e.matches&&(r=e.matches(n))),r}function At(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;return e.currentStyle||t.getComputedStyle(e)}function Nt(e){return e.offsetWidth}function Lt(e){return e.offsetHeight}function kt(e){return e.clientHeight||e.innerHeight}function Ot(e){return e.clientWidth||e.innerWidth}function It(e,t,n){e.addEventListener(t,n,!1)}function Pt(e,t,n){e.removeEventListener(t,n,!1)}function Dt(e){return e.selectionStart?e.selectionStart:0}function Ft(e){return e.selectionEnd?e.selectionEnd:0}function Ht(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document;let n="";return e.getSelection?n=e.getSelection().toString():t.selection&&"Control"!==t.selection.type&&(n=t.selection.createRange().text),n}function Ut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;e.getSelection&&(e.getSelection().empty?e.getSelection().empty():e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges())}function Bt(e,t,n){if(void 0===n&&(n=t),e.setSelectionRange){e.focus();try{e.setSelectionRange(t,n)}catch(r){const i=e.parentNode,o=i.style.display;i.style.display="block",e.setSelectionRange(t,n),i.style.display=o}}}let jt;function Yt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.createElement("div");t.style.height="200px",t.style.width="100%";const n=e.createElement("div");n.style.boxSizing="content-box",n.style.height="150px",n.style.left="0px",n.style.overflow="hidden",n.style.position="absolute",n.style.top="0px",n.style.width="200px",n.style.visibility="hidden",n.appendChild(t),(e.body||e.documentElement).appendChild(n);const r=t.offsetWidth;n.style.overflow="scroll";let i=t.offsetWidth;return r===i&&(i=n.clientWidth),(e.body||e.documentElement).removeChild(n),r-i}function Vt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return void 0===jt&&(jt=Yt(e)),jt}function Wt(e){return e.offsetWidth!==e.clientWidth}function zt(e){return e.offsetHeight!==e.clientHeight}function Gt(e,t,n){e.style.transform=`translate3d(${t},${n},0)`}function $t(e){let t;return e.style.transform&&""!==(t=e.style.transform)?["transform",t]:-1}function qt(e){e.style.transform&&""!==e.style.transform&&(e.style.transform="")}function Kt(e){const t=["INPUT","SELECT","TEXTAREA"];return e&&(t.indexOf(e.nodeName)>-1||"true"===e.contentEditable)}function Xt(e){return Kt(e)&&!1===e.hasAttribute("data-hot-input")}function Jt(e){const t=e.ownerDocument.activeElement;Xt(t)||e.select()}function Qt(e){return!e.parentNode}function Zt(e,t){const n=new IntersectionObserver(((n,r)=>{n.forEach((n=>{n.isIntersecting&&null!==e.offsetParent&&(t(),r.unobserve(e))}))}),{root:e.ownerDocument.body});n.observe(e)}function en(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=e.ownerDocument,i=r.createRange(),o=r.defaultView.getSelection();ct(e,"contenteditable",!0),n&&ct(e,...xe()),t&&lt(e,"invisibleSelection"),i.selectNodeContents(e),o.removeAllRanges(),o.addRange(i)}function tn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e.ownerDocument.defaultView.getSelection();e.hasAttribute("aria-hidden")&&e.removeAttribute("aria-hidden"),n.removeAllRanges(),t&&ut(e,"invisibleSelection"),e.removeAttribute("contenteditable")}function nn(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];en(e,n),t(),tn(e,n)}function rn(e){return"function"===typeof e}function on(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=0;const r={lastCallThrottled:!0};let i=null;function o(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const l=Date.now();let u=!1;r.lastCallThrottled=!0,n||(n=l,u=!0);const c=t-(l-n);return u?(r.lastCallThrottled=!1,e.apply(this,s)):(i&&clearTimeout(i),i=setTimeout((()=>{r.lastCallThrottled=!1,e.apply(this,s),n=0,i=void 0}),c)),r}return o}function sn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const r=on(e,t);let i=n;function o(){i=n}function s(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i?(i-=1,e.apply(this,n)):r.apply(this,n)}return s.clearHits=o,s}function an(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=null;function i(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&clearTimeout(r),r=setTimeout((()=>{t=e.apply(this,o)}),n),t}return i}function ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,...i]=t;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S(i,((e,t)=>t(e)),r.apply(this,t))}}function un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.apply(this,n.concat(r))}}function cn(e){const t=e.length;function n(r){return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=r.concat(o);let l;return l=a.length>=t?e.apply(this,a):n(a),l}}return n([])}function hn(e){const t=e.length;function n(r){return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];const a=r.concat(o.reverse());let l;return l=a.length>=t?e.apply(this,a):n(a),l}}return n([])}function dn(e,t,n,r,i,o,s,a){return U(a)?e.call(t,n,r,i,o,s,a):U(s)?e.call(t,n,r,i,o,s):U(o)?e.call(t,n,r,i,o):U(i)?e.call(t,n,r,i):U(r)?e.call(t,n,r):U(n)?e.call(t,n):e.call(t)}n(29141);function fn(e){let t;return Array.isArray(e)?t=e.length?new Array(e.length).fill(null):[]:(t={},Sn(e,((e,n)=>{"__children"!==n&&(e&&"object"===typeof e&&!Array.isArray(e)?t[n]=fn(e):Array.isArray(e)?e.length&&"object"===typeof e[0]&&!Array.isArray(e[0])?t[n]=[fn(e[0])]:t[n]=[]:t[n]=null)}))),t}function pn(e,t){return t.prototype.constructor=t,e.prototype=new t,e.prototype.constructor=e,e}function mn(e,t,n){const r=Array.isArray(n);return Sn(t,((t,i)=>{(!1===r||n.includes(i))&&(e[i]=t)})),e}function gn(e,t){Sn(t,((n,r)=>{t[r]&&"object"===typeof t[r]?(e[r]||(Array.isArray(t[r])?e[r]=[]:"[object Date]"===Object.prototype.toString.call(t[r])?e[r]=t[r]:e[r]={}),gn(e[r],t[r])):e[r]=t[r]}))}function vn(e){return"object"===typeof e?JSON.parse(JSON.stringify(e)):e}function yn(e){const t={};return Sn(e,((e,n)=>{t[n]=e})),t}function bn(e){e.MIXINS||(e.MIXINS=[]);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return C(n,(t=>{e.MIXINS.push(t.MIXIN_NAME),Sn(t,((t,n)=>{if(void 0!==e.prototype[n])throw new Error(`Mixin conflict. Property '${n}' already exist and cannot be overwritten.`);if("function"===typeof t)e.prototype[n]=t;else{const r=function(e,t){const n=`_${e}`,r=e=>{let t=e;return(Array.isArray(t)||_n(t))&&(t=vn(t)),t};return function(){return void 0===this[n]&&(this[n]=r(t)),this[n]}},i=function(e){const t=`_${e}`;return function(e){this[t]=e}};Object.defineProperty(e.prototype,n,{get:r(n,t),set:i(n),configurable:!0})}}))})),e}function wn(e,t){return JSON.stringify(e)===JSON.stringify(t)}function _n(e){return"[object Object]"===Object.prototype.toString.call(e)}function En(e,t,n,r){r.value=n,r.writable=!1!==r.writable,r.enumerable=!1!==r.enumerable,r.configurable=!1!==r.configurable,Object.defineProperty(e,t,r)}function Sn(e,t){for(const n in e)if((!e.hasOwnProperty||e.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e,n))&&!1===t(e[n],n,e))break;return e}function Tn(e,t){const n=t.split(".");let r=e;return Sn(n,(e=>{if(r=r[e],void 0===r)return r=void 0,!1})),r}function Mn(e,t,n){const r=t.split(".");let i=e;r.forEach(((e,t)=>{t!==r.length-1?(xn(i,e)||(i[e]={}),i=i[e]):i[e]=n}))}function Cn(e){if(!_n(e))return 0;const t=function(e){let n=0;return _n(e)?Sn(e,((e,r)=>{"__children"!==r&&(n+=t(e))})):n+=1,n};return t(e)}function Rn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";const n=`_${t}`,r={_touched:!1,[n]:e,isTouched(){return this._touched}};return Object.defineProperty(r,t,{get(){return this[n]},set(e){this._touched=!0,this[n]=e},enumerable:!0,configurable:!0}),r}function xn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function An(e){return window.requestAnimationFrame(e)}function Nn(e){window.cancelAnimationFrame(e)}function Ln(){return"ontouchstart"in window}function kn(){return"undefined"!==typeof window}let On;function In(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return On||(On="object"===typeof Intl?new Intl.Collator(e,t).compare:"function"===typeof String.prototype.localeCompare?(e,t)=>`${e}`.localeCompare(t):(e,t)=>e===t?0:e>t?-1:1,On)}const Pn=e=>{const t={value:!1,test:(n,r)=>{t.value=e(n,r)}};return t},Dn={chrome:Pn(((e,t)=>/Chrome/.test(e)&&/Google/.test(t))),chromeWebKit:Pn((e=>/CriOS/.test(e))),edge:Pn((e=>/Edge/.test(e))),edgeWebKit:Pn((e=>/EdgiOS/.test(e))),firefox:Pn((e=>/Firefox/.test(e))),firefoxWebKit:Pn((e=>/FxiOS/.test(e))),mobile:Pn((e=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e))),safari:Pn(((e,t)=>/Safari/.test(e)&&/Apple Computer/.test(t)))},Fn={mac:Pn((e=>/^Mac/.test(e))),win:Pn((e=>/^Win/.test(e))),linux:Pn((e=>/^Linux/.test(e))),ios:Pn((e=>/iPhone|iPad|iPod/i.test(e)))};function Hn(){let{userAgent:e=navigator.userAgent,vendor:t=navigator.vendor}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Sn(Dn,(n=>{let{test:r}=n;r(e,t)}))}function Un(){let{platform:e=navigator.platform}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Sn(Fn,(t=>{let{test:n}=t;n(e)}))}function Bn(){return Dn.chrome.value}function jn(){return Dn.chromeWebKit.value}function Yn(){return Dn.firefox.value}function Vn(){return Dn.firefoxWebKit.value}function Wn(){return Dn.safari.value}function zn(){return Dn.edge.value}function Gn(){return Dn.edgeWebKit.value}function $n(){return Dn.mobile.value}function qn(){return Fn.ios.value}function Kn(){let{maxTouchPoints:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e>2&&Fn.mac.value}function Xn(){return Fn.win.value}function Jn(){return Fn.mac.value}function Qn(){return Fn.linux.value}kn()&&(Hn(),Un());const Zn={ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,AUDIO_DOWN:Yn()?182:174,AUDIO_MUTE:Yn()?181:173,AUDIO_UP:Yn()?183:175,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND_LEFT:91,COMMAND_RIGHT:93,COMMAND_FIREFOX:224,CONTROL:17,DELETE:46,END:35,ENTER:13,ESCAPE:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,HOME:36,INSERT:45,MEDIA_NEXT:176,MEDIA_PLAY_PAUSE:179,MEDIA_PREV:177,MEDIA_STOP:178,NULL:0,NUM_LOCK:144,PAGE_DOWN:34,PAGE_UP:33,PAUSE:19,PERIOD:190,SCROLL_LOCK:145,SHIFT:16,SPACE:32,TAB:9,A:65,C:67,D:68,F:70,L:76,O:79,P:80,S:83,V:86,X:88,Y:89,Z:90},er=[Zn.ALT,Zn.ARROW_DOWN,Zn.ARROW_LEFT,Zn.ARROW_RIGHT,Zn.ARROW_UP,Zn.AUDIO_DOWN,Zn.AUDIO_MUTE,Zn.AUDIO_UP,Zn.BACKSPACE,Zn.CAPS_LOCK,Zn.DELETE,Zn.END,Zn.ENTER,Zn.ESCAPE,Zn.F1,Zn.F2,Zn.F3,Zn.F4,Zn.F5,Zn.F6,Zn.F7,Zn.F8,Zn.F9,Zn.F10,Zn.F11,Zn.F12,Zn.F13,Zn.F14,Zn.F15,Zn.F16,Zn.F17,Zn.F18,Zn.F19,Zn.HOME,Zn.INSERT,Zn.MEDIA_NEXT,Zn.MEDIA_PLAY_PAUSE,Zn.MEDIA_PREV,Zn.MEDIA_STOP,Zn.NULL,Zn.NUM_LOCK,Zn.PAGE_DOWN,Zn.PAGE_UP,Zn.PAUSE,Zn.SCROLL_LOCK,Zn.SHIFT,Zn.TAB];function tr(e){return 32===e||e>=48&&e<=57||e>=96&&e<=111||e>=186&&e<=192||e>=219&&e<=222||e>=226||e>=65&&e<=90}function nr(e){return er.includes(e)}function rr(e){const t=[];return Jn()?t.push(Zn.COMMAND_LEFT,Zn.COMMAND_RIGHT,Zn.COMMAND_FIREFOX):t.push(Zn.CONTROL),t.includes(e)}function ir(e){return[Zn.CONTROL,Zn.COMMAND_LEFT,Zn.COMMAND_RIGHT,Zn.COMMAND_FIREFOX].includes(e)}function or(e,t){const n=t.split("|");let r=!1;return C(n,(t=>{if(e===Zn[t])return r=!0,!1})),r}function sr(e){e.isImmediatePropagationEnabled=!1,e.cancelBubble=!0}function ar(e){return!1===e.isImmediatePropagationEnabled}function lr(e){return 2===e.button}function ur(e){return 0===e.button}function cr(e){return e instanceof TouchEvent}function hr(e,t){const n={x:e.offsetX,y:e.offsetY};let r=e.target;if(!(t instanceof HTMLElement)||r!==t&&r.contains(t))return n;while(r!==t)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;return n}n(47170);function dr(){U(console)&&console.warn(...arguments)}function fr(){U(console)&&console.error(...arguments)}function pr(e,t,n){return(t=mr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mr(e){var t=gr(e,"string");return"symbol"==typeof t?t:t+""}function gr(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const vr=["afterCellMetaReset","afterChange","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","beforeContextMenuShow","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterColumnSequenceChange","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterDrawSelection","beforeRemoveCellClassNames","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterUpdateData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseUp","afterOnCellContextMenu","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","beforeRenderer","afterRenderer","afterRowSequenceChange","beforeViewportScrollVertically","beforeViewportScrollHorizontally","beforeViewportScroll","afterScrollHorizontally","afterScrollVertically","afterScroll","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSelectionFocusSet","beforeSelectColumns","afterSelectColumns","beforeSelectRows","afterSelectRows","afterSetCellMeta","afterRemoveCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterSetSourceDataAtCell","afterUpdateSettings","afterValidate","beforeLanguageChange","afterLanguageChange","beforeAutofill","afterAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeRemoveCellMeta","beforeInit","beforeInitWalkontable","beforeLoadData","beforeUpdateData","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseUp","beforeOnCellContextMenu","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeViewRender","afterViewRender","beforeRender","afterRender","beforeRowWrap","beforeColumnWrap","beforeSetCellMeta","beforeSelectionFocusSet","beforeSetRangeStartOnly","beforeSetRangeStart","beforeSetRangeEnd","beforeSelectionHighlightSet","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyColHeader","modifyColWidth","modifyFiltersMultiSelectValue","modifyFocusedElement","modifyRowHeader","modifyRowHeight","modifyRowHeightByOverlayName","modifyData","modifySourceData","modifyRowData","modifyGetCellCoords","modifyFocusOnTabNavigation","beforeHighlightingRowHeader","beforeHighlightingColumnHeader","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnFreeze","afterColumnFreeze","beforeColumnMove","afterColumnMove","beforeColumnUnfreeze","afterColumnUnfreeze","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","afterFormulasValuesUpdate","afterNamedExpressionAdded","afterNamedExpressionRemoved","afterSheetAdded","afterSheetRenamed","afterSheetRemoved","modifyColumnHeaderHeight","modifyColumnHeaderValue","beforeUndo","beforeUndoStackChange","afterUndo","afterUndoStackChange","beforeRedo","beforeRedoStackChange","afterRedo","afterRedoStackChange","modifyRowHeaderWidth","modifyTransformFocus","modifyTransformStart","modifyTransformEnd","afterModifyTransformFocus","afterModifyTransformStart","afterModifyTransformEnd","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","beforeHideRows","afterHideRows","beforeUnhideRows","afterUnhideRows","beforeHideColumns","afterHideColumns","beforeUnhideColumns","afterUnhideColumns","beforeTrimRow","afterTrimRow","beforeUntrimRow","afterUntrimRow","beforeDropdownMenuShow","afterDropdownMenuShow","afterDropdownMenuHide","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","beforeBeginEditing","afterBeginEditing","beforeMergeCells","afterMergeCells","beforeUnmergeCells","afterUnmergeCells","afterListen","afterUnlisten","afterRefreshDimensions","beforeRefreshDimensions","beforeColumnCollapse","afterColumnCollapse","beforeColumnExpand","afterColumnExpand","modifyAutoColumnSizeSeed"],yr=F`The plugin hook "[hookName]" was removed in Handsontable [removedInVersion].\x20
  Please consult release notes https://github.com/handsontable/handsontable/releases/tag/[removedInVersion] to\x20
  learn about the migration path.`,br=new Map([["modifyRow","8.0.0"],["modifyCol","8.0.0"],["unmodifyRow","8.0.0"],["unmodifyCol","8.0.0"],["skipLengthCache","8.0.0"],["hiddenColumn","8.0.0"],["hiddenRow","8.0.0"]]),wr=new Map([[]]),_r=new WeakMap;class Er{static getSingleton(){return Tr()}constructor(){pr(this,"globalBucket",void 0),this.globalBucket=this.createEmptyBucket()}createEmptyBucket(){const e=Object.create(null);return C(vr,(t=>{e[t]=[],this.initOrderMap(e,t)})),e}getBucket(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?(e.pluginHookBucket||(e.pluginHookBucket=this.createEmptyBucket()),e.pluginHookBucket):this.globalBucket}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;if(Array.isArray(t))C(t,(t=>this.add(e,t,n)));else{br.has(e)&&dr(se(yr,{hookName:e,removedInVersion:br.get(e)})),wr.has(e)&&dr(wr.get(e));const i=this.getBucket(n);if("undefined"===typeof i[e]&&(this.register(e),i[e]=[],this.initOrderMap(i,e)),t.skip=!1,-1===i[e].indexOf(t)){let n=!1;t.initialHook&&C(i[e],((r,o)=>{if(r.initialHook)return i[e][o]=t,n=!0,!1})),n||i[e].push(t)}this.setCallbackOrderIndex(i,e,t,r),this.orderBucketByOrderIndex(i,e)}return this}once(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;Array.isArray(t)?C(t,(t=>this.once(e,t,n))):(t.runOnce=!0,this.add(e,t,n,r))}remove(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=this.getBucket(n);return"undefined"!==typeof r[e]&&r[e].indexOf(t)>=0&&(t.skip=!0,!0)}has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.getBucket(t);return!(void 0===n[e]||!n[e].length)}run(e,t,n,r,i,o,s,a){{const l=this.globalBucket[t],u=l?l.length:0;let c=0;if(u)while(c<u){if(!l[c]||l[c].skip){c+=1;continue}const u=dn(l[c],e,n,r,i,o,s,a);void 0!==u&&(n=u),l[c]&&l[c].runOnce&&this.remove(t,l[c]),c+=1}}{const l=this.getBucket(e)[t],u=l?l.length:0;let c=0;if(u)while(c<u){if(!l[c]||l[c].skip){c+=1;continue}const u=dn(l[c],e,n,r,i,o,s,a);void 0!==u&&(n=u),l[c]&&l[c].runOnce&&this.remove(t,l[c],e),c+=1}}return n}destroy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Sn(this.getBucket(e),((e,t,n)=>n[t].length=0))}register(e){this.isRegistered(e)||vr.push(e)}deregister(e){this.isRegistered(e)&&vr.splice(vr.indexOf(e),1)}isDeprecated(e){return wr.has(e)||br.has(e)}isRegistered(e){return vr.indexOf(e)>=0}getRegistered(){return vr}setCallbackOrderIndex(e,t,n,r){const i=Number.isInteger(r)?r:0,o=this.getCallbackOrderMap(e,t);o.set(i,[...o.get(i)||[],n])}orderBucketByOrderIndex(e,t){const n=this.getCallbackOrderMap(e,t);void 0===n||0===n.size||1===n.size&&n.has(0)||(e[t]=[...n].sort(((e,t)=>e[0]-t[0])).flatMap((e=>{let[,t]=e;return t})))}initOrderMap(e,t){_r.has(e)||_r.set(e,[]),_r.get(e)[t]=new Map}getCallbackOrderMap(e,t){return _r.get(e)[t]}}const Sr=new Er;function Tr(){return Sr}var Mr=Er;const Cr=new Map;function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";Cr.has(e)||Cr.set(e,new Map);const t=Cr.get(e);function n(e,n){t.set(e,n)}function r(e){return t.get(e)}function i(e){return t.has(e)}function o(){return[...t.keys()]}function s(){return[...t.values()]}return{register:n,getItem:r,hasItem:i,getNames:o,getValues:s}}const xr=new WeakMap,{register:Ar,getItem:Nr,hasItem:Lr,getNames:kr,getValues:Or}=Rr("editors");function Ir(e){const t={},n=e;this.getConstructor=function(){return e},this.getInstance=function(e){return e.guid in t||(t[e.guid]=new n(e)),t[e.guid]},Mr.getSingleton().add("afterDestroy",(function(){t[this.guid]=null}))}function Pr(e,t){let n;if("function"===typeof e)xr.get(e)||Fr(null,e),n=xr.get(e);else{if("string"!==typeof e)throw Error('Only strings and functions can be passed as "editor" parameter');n=Nr(e)}if(!n)throw Error(`No editor registered under name "${e}"`);return n.getInstance(t)}function Dr(e){if("function"===typeof e)return e;if(!Lr(e))throw Error(`No registered editor found under "${e}" name`);return Nr(e).getConstructor()}function Fr(e,t){e&&"string"!==typeof e&&(t=e,e=t.EDITOR_TYPE);const n=new Ir(t);"string"===typeof e&&Ar(e,n),xr.set(t,n)}function Hr(e,t,n){return(t=Ur(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ur(e){var t=Br(e,"string");return"symbol"==typeof t?t:t+""}function Br(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let jr=0;class Yr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Hr(this,"context",void 0),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}addEventListener(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];function i(e){n.call(this,Vr(e))}return this.context.eventListeners.push({element:e,event:t,callback:n,callbackProxy:i,options:r,eventManager:this}),e.addEventListener(t,i,r),jr+=1,()=>{this.removeEventListener(e,t,n)}}removeEventListener(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.context.eventListeners.length;while(o)if(o-=1,r=this.context.eventListeners[o],r.event===t&&r.element===e){if(n&&n!==r.callback)continue;if(i&&r.eventManager!==this)continue;this.context.eventListeners.splice(o,1),r.element.removeEventListener(r.event,r.callbackProxy,r.options),jr-=1}}clearEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.context)return;let t=this.context.eventListeners.length;while(t){t-=1;const n=this.context.eventListeners[t];e&&n.eventManager!==this||(this.context.eventListeners.splice(t,1),n.element.removeEventListener(n.event,n.callbackProxy,n.options),jr-=1)}}clear(){this.clearEvents()}destroy(){this.clearEvents(),this.context=null}destroyWithOwnEventsOnly(){this.clearEvents(!0),this.context=null}fireEvent(e,t){let n=e.document,r=e;n||(n=e.ownerDocument?e.ownerDocument:e,r=n.defaultView);const i={bubbles:!0,cancelable:"mousemove"!==t,view:r,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};let o;n.createEvent?(o=n.createEvent("MouseEvents"),o.initMouseEvent(t,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget||n.body.parentNode)):o=n.createEventObject(),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(`on${t}`,o)}}function Vr(e){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){t.apply(this),sr(this)},e}var Wr=Yr;function zr(){return jr}function Gr(e,t){$r(e,t),t.add(e)}function $r(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qr(e,t,n){return(t=Kr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e){var t=Xr(e,"string");return"symbol"==typeof t?t:t+""}function Xr(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Jr(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Qr=new WeakSet;class Zr{constructor(e,t,n){Gr(this,Qr),qr(this,"hot",void 0),qr(this,"tableMeta",void 0),qr(this,"selection",void 0),qr(this,"eventManager",void 0),qr(this,"destroyed",!1),qr(this,"activeEditor",void 0),qr(this,"cellProperties",void 0),this.hot=e,this.tableMeta=t,this.selection=n,this.eventManager=new Wr(e),this.hot.addHook("afterDocumentKeyDown",(e=>Jr(Qr,this,ei).call(this,e))),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"compositionstart",(e=>{!this.destroyed&&this.hot.isListening()&&this.openEditor("",e)})),this.hot.view._wt.update("onCellDblClick",((e,t,n)=>Jr(Qr,this,ti).call(this,e,t,n)))}getActiveEditor(){return this.activeEditor}prepareEditor(){var e;if(this.activeEditor&&this.activeEditor.isWaiting())return void this.closeEditor(!1,!1,(e=>{e&&this.prepareEditor()}));const t=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;if(!t||t.isHeader())return;const{row:n,col:r}=t,i=this.hot.runHooks("modifyGetCellCoords",n,r);let o=n,s=r;if(Array.isArray(i)&&([o,s]=i),this.cellProperties=this.hot.getCellMeta(o,s),!this.isCellEditable())return void this.clearActiveEditor();const a=this.hot.getCell(n,r,!0);if(a){const e=this.hot.getCellEditor(this.cellProperties),t=this.hot.colToProp(s),i=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(o),s);this.activeEditor=Pr(e,this.hot),this.activeEditor.prepare(n,r,t,a,i,this.cellProperties)}}isEditorOpened(){return this.activeEditor&&this.activeEditor.isOpened()}openEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.isCellEditable())return void this.clearActiveEditor();const r=this.hot.getSelectedRangeLast();let i=this.hot.runHooks("beforeBeginEditing",r.highlight.row,r.highlight.col,e,t,n);t instanceof MouseEvent&&"boolean"!==typeof i&&(i=0===this.hot.selection.getLayerLevel()&&r.isSingle()),!1!==i?(this.activeEditor||(this.hot.scrollToFocusedCell(),this.prepareEditor()),this.activeEditor&&(n&&this.activeEditor.enableFullEditMode(),this.activeEditor.beginEditing(e,t))):this.clearActiveEditor()}closeEditor(e,t,n){this.activeEditor?this.activeEditor.finishEditing(e,t,n):n&&n(!1)}closeEditorAndSaveChanges(e){this.closeEditor(!1,e)}closeEditorAndRestoreOriginalValue(e){this.closeEditor(!0,e)}clearActiveEditor(){this.activeEditor=void 0}isCellEditable(){const e=this.hot.getSelectedRangeLast();if(!e)return!1;const t=this.hot.getCellEditor(this.cellProperties),{row:n,col:r}=e.highlight,{rowIndexMapper:i,columnIndexMapper:o}=this.hot,s=i.isHidden(this.hot.toPhysicalRow(n))||o.isHidden(this.hot.toPhysicalColumn(r));return!(this.cellProperties.readOnly||!t||s)}moveSelectionAfterEnter(e){const t={..."function"===typeof this.tableMeta.enterMoves?this.tableMeta.enterMoves(e):this.tableMeta.enterMoves};e.shiftKey&&(t.row=-t.row,t.col=-t.col),this.hot.selection.isMultiple()?this.selection.transformFocus(t.row,t.col):this.selection.transformStart(t.row,t.col,!0)}destroy(){this.destroyed=!0,this.eventManager.destroy()}}function ei(e){const t=this.hot.getSelectedRangeLast();if(!this.hot.isListening()||!t||t.highlight.isHeader()||ar(e))return;const{keyCode:n}=e,r=(e.ctrlKey||e.metaKey)&&!e.altKey;(!this.activeEditor||this.activeEditor&&!this.activeEditor.isWaiting())&&(nr(n)||ir(n)||r||this.isEditorOpened()||this.openEditor("",e))}function ti(e,t){t.isCell()&&this.openEditor(null,e,!0)}const ni=new WeakMap;Zr.getInstance=function(e,t,n){let r=ni.get(e);return r||(r=new Zr(e,t,n),ni.set(e,r)),r};var ri=Zr;function ii(e,t){si(e,t),t.add(e)}function oi(e,t,n){si(e,t),t.set(e,n)}function si(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ai(e,t){return e.get(ui(e,t))}function li(e,t,n){return e.set(ui(e,t),n),n}function ui(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const ci=Object.freeze({CELL:"cell",MIXED:"mixed"});var hi=new WeakMap,di=new WeakMap,fi=new WeakMap,pi=new WeakMap,mi=new WeakMap,gi=new WeakSet;class vi{constructor(e){var t=this;ii(this,gi),oi(this,hi,void 0),oi(this,di,void 0),oi(this,fi,1),oi(this,pi,null),oi(this,mi,new Map);const n=e.getSettings();li(hi,this,e),li(di,this,n.imeFastEdit?ci.MIXED:ci.CELL),ai(hi,this).addHook("afterUpdateSettings",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ui(gi,t,_i).call(t,...n)})),ai(hi,this).addHook("afterSelection",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ui(gi,t,bi).call(t,...n)})),ai(hi,this).addHook("afterSelectionFocusSet",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ui(gi,t,bi).call(t,...n)})),ai(hi,this).addHook("afterSelectionEnd",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ui(gi,t,wi).call(t,...n)}))}getFocusMode(){return ai(di,this)}setFocusMode(e){Object.values(ci).includes(e)?li(di,this,e):dr(`"${e}" is not a valid focus mode.`)}getRefocusDelay(){return ai(fi,this)}setRefocusDelay(e){li(fi,this,e)}setRefocusElementGetter(e){li(pi,this,e)}getRefocusElement(){return"function"===typeof ai(pi,this)?ai(pi,this).call(this):null===(e=ai(hi,this).getActiveEditor())||void 0===e?void 0:e.TEXTAREA;var e}focusOnHighlightedCell(e){const t=e=>{var t,n;const r=null===(t=ai(hi,this).getSelectedRangeLast())||void 0===t?void 0:t.highlight;if(!r)return;let i=ai(hi,this).runHooks("modifyFocusedElement",r.row,r.col,e);i instanceof HTMLElement||(i=e),!i||null!==(n=ai(hi,this).getActiveEditor())&&void 0!==n&&n.isOpened()||i.focus({preventScroll:!0})};e?t(e):ui(gi,this,yi).call(this,(e=>t(e)))}refocusToEditorTextarea(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai(fi,this);const n=this.getRefocusElement();!ai(hi,this).getSettings().imeFastEdit||null!==(e=ai(hi,this).getActiveEditor())&&void 0!==e&&e.isOpened()||!n||(ai(mi,this).has(t)||ai(mi,this).set(t,an((()=>{n.select()}),t)),ai(mi,this).get(t)())}}function yi(e){var t;const n=null===(t=ai(hi,this).getSelectedRangeLast())||void 0===t?void 0:t.highlight;if(!n||!ai(hi,this).selection.isCellVisible(n))return void e(null);const r=ai(hi,this).getCell(n.row,n.col,!0);null===r?ai(hi,this).addHookOnce("afterScroll",(()=>{e(ai(hi,this).getCell(n.row,n.col,!0))})):e(r)}function bi(){ui(gi,this,yi).call(this,(e=>{const{activeElement:t}=ai(hi,this).rootDocument;t&&Xt(t)&&t.blur(),this.focusOnHighlightedCell(e)}))}function wi(){ui(gi,this,yi).call(this,(e=>{this.getFocusMode()===ci.MIXED&&"TD"===e.nodeName&&this.refocusToEditorTextarea()}))}function _i(e){"boolean"===typeof e.imeFastEdit&&this.setFocusMode(e.imeFastEdit?ci.MIXED:ci.CELL)}n(95221);const Ei={"&nbsp;":" ","&amp;":"&","&lt;":"<","&gt;":">"},Si=new RegExp(Object.keys(Ei).map((e=>`(${e})`)).join("|"),"gi");function Ti(e){return"TABLE"===(e&&e.nodeName||"")}function Mi(e){const t=e.hasColHeaders(),n=e.hasRowHeaders(),r=[t?-1:0,n?-1:0,e.countRows()-1,e.countCols()-1],i=e.getData(...r),o=i.length,s=o>0?i[0].length:0,a=["<table>","</table>"],l=t?["<thead>","</thead>"]:[],u=["<tbody>","</tbody>"],c=n?1:0,h=t?1:0;for(let d=0;d<o;d+=1){const r=t&&0===d,o=[];for(let t=0;t<s;t+=1){const s=!r&&n&&0===t;let a="";if(r)a=`<th>${e.getColHeader(t-c)}</th>`;else if(s)a=`<th>${e.getRowHeader(d-h)}</th>`;else{const n=i[d][t],{hidden:r,rowspan:o,colspan:s}=e.getCellMeta(d-h,t-c);if(!r){const e=[];if(o&&e.push(`rowspan="${o}"`),s&&e.push(`colspan="${s}"`),j(n))a=`<td ${e.join(" ")}></td>`;else{const t=n.toString().replace("<","&lt;").replace(">","&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20/gi,"&nbsp;").replace(/\t/gi,"&#9;");a=`<td ${e.join(" ")}>${t}</td>`}}}o.push(a)}const a=["<tr>",...o,"</tr>"].join("");r?l.splice(1,0,a):u.splice(-1,0,a)}return a.splice(1,0,l.join(""),u.join("")),a.join("")}function Ci(e){const t=e.length,n=["<table>"];for(let r=0;r<t;r+=1){const i=e[r],o=i.length,s=[];0===r&&n.push("<tbody>");for(let e=0;e<o;e+=1){const t=i[e],n=j(t)?"":t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/(<br(\s*|\/)>(\r\n|\n)?|\r\n|\n)/g,"<br>\r\n").replace(/\x20{2,}/gi,(e=>`<span style="mso-spacerun: yes">${"&nbsp;".repeat(e.length-1)} </span>`)).replace(/\t/gi,"&#9;");s.push(`<td>${n}</td>`)}n.push("<tr>",...s,"</tr>"),r+1===t&&n.push("</tbody>")}return n.push("</table>"),n.join("")}function Ri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;const n={},r=t.createDocumentFragment(),i=t.createElement("div");r.appendChild(i);let o=e;if("string"===typeof o){const e=o.replace(/<td\b[^>]*?>([\s\S]*?)<\/\s*td>/g,(e=>{const t=e.match(/<td\b[^>]*?>/g)[0],n=/<p.*?>/g,r=e.substring(t.length,e.lastIndexOf("<")).trim().replaceAll(/\n\s+/g," ").replaceAll(n,"\n").replace("\n","").replaceAll(/<\/(.*)>\s+$/gm,"</$1>").replace(/(<(?!br)([^>]+)>)/gi,"").replaceAll(/^&nbsp;$/gm,""),i="</td>";return`${t}${r}${i}`}));i.insertAdjacentHTML("afterbegin",`${e}`),o=i.querySelector("table")}if(!o||!Ti(o))return;const s=i.querySelector('meta[name$="enerator"]'),a=null!==o.querySelector("tbody th"),l=o.querySelector("tr"),u=l?Array.from(l.cells).reduce(((e,t)=>e+t.colSpan),0)-(a?1:0):0,c=o.tFoot&&Array.from(o.tFoot.rows)||[],h=[];let d=!1,f=0,p=0;if(o.tHead){const e=Array.from(o.tHead.rows).filter((e=>{const t=null!==e.querySelector("td");return t&&h.push(e),!t}));f=e.length,d=f>0,f>1?n.nestedHeaders=Array.from(e).reduce(((e,t)=>{const n=Array.from(t.cells).reduce(((e,t,n)=>{if(a&&0===n)return e;const{colSpan:r,innerHTML:i}=t,o=r>1?{label:i,colspan:r}:i;return e.push(o),e}),[]);return e.push(n),e}),[]):d&&(n.colHeaders=Array.from(e[0].children).reduce(((e,t,n)=>(a&&0===n||e.push(t.innerHTML),e)),[]))}h.length&&(n.fixedRowsTop=h.length),c.length&&(n.fixedRowsBottom=c.length);const m=[...h,...Array.from(o.tBodies).reduce(((e,t)=>(e.push(...Array.from(t.rows)),e)),[]),...c];p=m.length;const g=new Array(p);for(let b=0;b<p;b++)g[b]=new Array(u);const v=[],y=[];for(let b=0;b<p;b++){const e=m[b],t=Array.from(e.cells),n=t.length;for(let r=0;r<n;r++){const e=t[r],{nodeName:n,innerHTML:i,rowSpan:o,colSpan:a}=e,l=g[b].findIndex((e=>void 0===e));if("TD"===n){if(o>1||a>1){for(let e=b;e<b+o;e++)if(e<p)for(let t=l;t<l+a;t++)g[e][t]=null;const t=e.getAttribute("style"),n=t&&t.includes("mso-ignore:colspan");n||v.push({col:l,row:b,rowspan:o,colspan:a})}let t="";t=s&&/excel/gi.test(s.content)?i.replace(/[\r\n][\x20]{0,2}/g," ").replace(/<br(\s*|\/)>[\r\n]?[\x20]{0,3}/gim,"\r\n"):i.replace(/<br(\s*|\/)>[\r\n]?/gim,"\r\n"),g[b][l]=t.replace(Si,(e=>Ei[e]))}else y.push(i)}}return v.length&&(n.mergeCells=v),y.length&&(n.rowHeaders=y),g.length&&(n.data=g),n}function xi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=typeof e;if("number"===n)return!isNaN(e)&&isFinite(e);if("string"===n){if(0===e.length)return!1;if(1===e.length)return/\d/.test(e);const n=Array.from(new Set([".",...t])).map((e=>`\\${e}`)).join("|");return new RegExp(`^[+-]?(((${n})?\\d+((${n})\\d+)?(e[+-]?\\d+)?)|(0x[a-f\\d]+))$`,"i").test(e.trim())}return"object"===n&&(!!e&&"number"===typeof e.valueOf()&&!(e instanceof Date))}function Ai(e){return xi(e,[","])}function Ni(e,t,n){let r=-1;"function"===typeof t?(n=t,t=e):r=e-1;while(++r<=t)if(!1===n(r))break}function Li(e,t,n){let r=e+1;"function"===typeof t&&(n=t,t=0);while(--r>=t)if(!1===n(r))break}function ki(e,t){return t=parseInt(t.toString().replace("%",""),10),t=isNaN(t)?0:t,parseInt(e*t/100,10)}function Oi(e,t,n){return Math.min(e,t)===e?t:Math.max(e,n)===e?n:e}const Ii="asc",Pi="desc",Di=new Map([[Ii,[-1,1]],[Pi,[1,-1]]]),Fi=e=>`The priority '${e}' is already declared in a map.`,Hi=e=>`The priority '${e}' is not a number.`;function Ui(){let{errorPriorityExists:e,errorPriorityNaN:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=new Map;function r(r,i){if(!xi(r))throw new Error(t(r));if(n.has(r))throw new Error(e(r));n.set(r,i)}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ii;const[t,r]=Di.get(e)||Di.get(Ii);return[...n].sort(((e,n)=>e[0]<n[0]?t:r)).map((e=>e[1]))}return e=rn(e)?e:Fi,t=rn(t)?t:Hi,{addItem:r,getItems:i}}const Bi=e=>`The id '${e}' is already declared in a map.`;function ji(){let{errorIdExists:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map;function n(n,r){if(l(n))throw new Error(e(n));t.set(n,r)}function r(e){return t.delete(e)}function i(){t.clear()}function o(e){const[t]=a().find((t=>{let[n,r]=t;return e===r&&n}))||[null];return t}function s(e){return t.get(e)}function a(){return[...t]}function l(e){return t.has(e)}return e=rn(e)?e:Bi,{addItem:n,clear:i,getId:o,getItem:s,getItems:a,hasItem:l,removeItem:r}}const Yi=e=>`'${e}' value is already declared in a unique set.`;function Vi(){let{errorItemExists:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Set;function n(n){if(t.has(n))throw new Error(e(n));t.add(n)}function r(){return[...t]}function i(){t.clear()}return e=rn(e)?e:Yi,{addItem:n,clear:i,getItems:r}}const Wi=e=>`There is already registered "${e}" plugin.`,zi=e=>`There is already registered plugin on priority "${e}".`,Gi=e=>`The priority "${e}" is not a number.`,$i=Ui({errorPriorityExists:zi,errorPriorityNaN:Gi}),qi=Vi({errorItemExists:Wi}),Ki=ji({errorIdExists:Wi});function Xi(){return[...$i.getItems(),...qi.getItems()]}function Ji(e){const t=ne(e);return Ki.getItem(t)}function Qi(e){return!!Ji(e)}function Zi(e,t,n){[e,t,n]=to(e,t,n),void 0===Ji(e)&&eo(e,t,n)}function eo(e,t,n){const r=ne(e);if(Ki.hasItem(r))throw new Error(Wi(r));void 0===n?qi.addItem(r):$i.addItem(n,r),Ki.addItem(r,t)}function to(e,t,n){return"function"===typeof e&&(t=e,e=t.PLUGIN_KEY,n=t.PLUGIN_PRIORITY),[e,t,n]}const{register:no,getItem:ro,hasItem:io,getNames:oo,getValues:so}=Rr("renderers");function ao(e){if("function"===typeof e)return e;if(!io(e))throw Error(`No registered renderer found under "${e}" name`);return ro(e)}function lo(e,t){"string"!==typeof e&&(t=e,e=t.RENDERER_TYPE),no(e,t)}const{register:uo,getItem:co,hasItem:ho,getNames:fo,getValues:po}=Rr("validators");function mo(e){if("function"===typeof e)return e;if(!ho(e))throw Error(`No registered validator found under "${e}" name`);return co(e)}function go(e,t){"string"!==typeof e&&(t=e,e=t.VALIDATOR_TYPE),uo(e,t)}function vo(e,t,n){yo(e,t),t.set(e,n)}function yo(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function bo(e,t){return e.get(_o(e,t))}function wo(e,t,n){return e.set(_o(e,t),n),n}function _o(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Eo=new WeakMap,So=new WeakMap,To=new WeakMap,Mo=new WeakMap,Co=new WeakMap,Ro=new WeakMap,xo=new WeakMap,Ao=new WeakMap,No=new WeakMap,Lo=new WeakMap;class ko{constructor(e,t,n,r,i,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;vo(this,Eo,void 0),vo(this,So,void 0),vo(this,To,void 0),vo(this,Mo,void 0),vo(this,Co,void 0),vo(this,Ro,void 0),vo(this,xo,void 0),vo(this,Ao,void 0),vo(this,No,[null,null]),vo(this,Lo,[null,null]),wo(Eo,this,n),wo(So,this,t),wo(To,this,i),wo(Mo,this,o),wo(Co,this,s),wo(Ro,this,r),wo(xo,this,e),this.registerEvents()}registerEvents(){bo(Ro,this).addEventListener(bo(To,this).holder,"contextmenu",(e=>this.onContextMenu(e))),bo(Ro,this).addEventListener(bo(To,this).TABLE,"mouseover",(e=>this.onMouseOver(e))),bo(Ro,this).addEventListener(bo(To,this).TABLE,"mouseout",(e=>this.onMouseOut(e)));const e=()=>{bo(Ro,this).addEventListener(bo(To,this).holder,"touchstart",(e=>this.onTouchStart(e))),bo(Ro,this).addEventListener(bo(To,this).holder,"touchend",(e=>this.onTouchEnd(e))),this.momentumScrolling||(this.momentumScrolling={}),bo(Ro,this).addEventListener(bo(To,this).holder,"scroll",(()=>{clearTimeout(this.momentumScrolling._timeout),this.momentumScrolling.ongoing||bo(Eo,this).getSetting("onBeforeTouchScroll"),this.momentumScrolling.ongoing=!0,this.momentumScrolling._timeout=setTimeout((()=>{this.touchApplied||(this.momentumScrolling.ongoing=!1,bo(Eo,this).getSetting("onAfterMomentumScroll"))}),200)}))},t=()=>{bo(Ro,this).addEventListener(bo(To,this).holder,"mouseup",(e=>this.onMouseUp(e))),bo(Ro,this).addEventListener(bo(To,this).holder,"mousedown",(e=>this.onMouseDown(e)))};$n()?e():(Ln()&&e(),t())}selectedCellWasTouched(e){const t=this.parentCell(e),n=t.coords;if(bo(Ao,this)&&n){const[e,t]=[n.row,bo(Ao,this).from.row],[r,i]=[n.col,bo(Ao,this).from.col];return e===t&&r===i}return!1}parentCell(e){const t={},n=bo(To,this).TABLE,r=tt(e,["TD","TH"],n);return r?(t.coords=bo(To,this).getCoords(r),t.TD=r):at(e,"wtBorder")&&at(e,"current")?(t.coords=bo(Mo,this).getFocusSelection().cellRange.highlight,t.TD=bo(To,this).getCell(t.coords)):at(e,"wtBorder")&&at(e,"area")&&bo(Mo,this).getAreaSelection().cellRange&&(t.coords=bo(Mo,this).getAreaSelection().cellRange.to,t.TD=bo(To,this).getCell(t.coords)),t}onMouseDown(e){const t=bo(So,this).rootDocument.activeElement,n=un(Ke,e.target),r=e.target;if(!["TD","TH"].includes(t.nodeName)&&(r===t||n(0)===t||n(1)===t))return;const i=this.parentCell(r);at(r,"corner")?bo(Eo,this).getSetting("onCellCornerMouseDown",e,r):i.TD&&bo(Eo,this).has("onCellMouseDown")&&this.callListener("onCellMouseDown",e,i.coords,i.TD),(0===e.button||this.touchApplied)&&i.TD&&(bo(Lo,this)[0]=i.TD,clearTimeout(bo(No,this)[0]),bo(No,this)[0]=setTimeout((()=>{bo(Lo,this)[0]=null}),1e3))}onContextMenu(e){if(bo(Eo,this).has("onCellContextMenu")){const t=this.parentCell(e.target);t.TD&&this.callListener("onCellContextMenu",e,t.coords,t.TD)}}onMouseOver(e){if(!bo(Eo,this).has("onCellMouseOver"))return;const t=bo(To,this).TABLE,n=tt(e.target,["TD","TH"],t),r=bo(Co,this)||this;n&&n!==r.lastMouseOver&&nt(n,t)&&(r.lastMouseOver=n,this.callListener("onCellMouseOver",e,bo(To,this).getCoords(n),n))}onMouseOut(e){if(!bo(Eo,this).has("onCellMouseOut"))return;const t=bo(To,this).TABLE,n=tt(e.target,["TD","TH"],t),r=tt(e.relatedTarget,["TD","TH"],t),i=bo(Co,this)||this;n&&n!==r&&nt(n,t)&&(this.callListener("onCellMouseOut",e,bo(To,this).getCoords(n),n),null===r&&(i.lastMouseOver=null))}onMouseUp(e){const t=this.parentCell(e.target);t.TD&&bo(Eo,this).has("onCellMouseUp")&&this.callListener("onCellMouseUp",e,t.coords,t.TD),(0===e.button||this.touchApplied)&&(t.TD===bo(Lo,this)[0]&&t.TD===bo(Lo,this)[1]?(at(e.target,"corner")?this.callListener("onCellCornerDblClick",e,t.coords,t.TD):this.callListener("onCellDblClick",e,t.coords,t.TD),bo(Lo,this)[0]=null,bo(Lo,this)[1]=null):t.TD===bo(Lo,this)[0]&&(bo(Lo,this)[1]=t.TD,clearTimeout(bo(No,this)[1]),bo(No,this)[1]=setTimeout((()=>{bo(Lo,this)[1]=null}),500)))}onTouchStart(e){wo(Ao,this,bo(Mo,this).getFocusSelection().cellRange),this.touchApplied=!0,this.onMouseDown(e)}onTouchEnd(e){var t;const n=e.target,r=null===(t=this.parentCell(n))||void 0===t?void 0:t.coords,i=U(r)&&r.row>=0&&r.col>=0,o=e.cancelable&&i&&bo(Eo,this).getSetting("isDataViewInstance");if(o){const t=["A","BUTTON","INPUT"];qn()&&(jn()||Vn())&&this.selectedCellWasTouched(n)&&!t.includes(n.tagName)?e.preventDefault():this.selectedCellWasTouched(n)||e.preventDefault()}this.onMouseUp(e),this.touchApplied=!1}callListener(e,t,n,r){const i=bo(Eo,this).getSettingPure(e);i&&i(t,n,r,bo(xo,this).call(this))}destroy(){clearTimeout(bo(No,this)[0]),clearTimeout(bo(No,this)[1]),bo(Ro,this).destroy()}}var Oo=ko;function Io(e,t,n){return(t=Po(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Po(e){var t=Do(e,"string");return"symbol"==typeof t?t:t+""}function Do(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Fo{constructor(e,t,n){Io(this,"offset",void 0),Io(this,"total",void 0),Io(this,"countTH",void 0),this.offset=e,this.total=t,this.countTH=n}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleRowHeadedColumnToSourceColumn(e){return this.renderedToSource(this.offsettedTH(e))}sourceColumnToVisibleRowHeadedColumn(e){return this.unOffsettedTH(this.sourceToRendered(e))}}var Ho=Fo;function Uo(e,t,n){return(t=Bo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bo(e){var t=jo(e,"string");return"symbol"==typeof t?t:t+""}function jo(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Yo{constructor(e,t,n){Uo(this,"offset",void 0),Uo(this,"total",void 0),Uo(this,"countTH",void 0),this.offset=e,this.total=t,this.countTH=n}offsetted(e){return e+this.offset}unOffsetted(e){return e-this.offset}renderedToSource(e){return this.offsetted(e)}sourceToRendered(e){return this.unOffsetted(e)}offsettedTH(e){return e-this.countTH}unOffsettedTH(e){return e+this.countTH}visibleColHeadedRowToSourceRow(e){return this.renderedToSource(this.offsettedTH(e))}sourceRowToVisibleColHeadedRow(e){return this.unOffsettedTH(this.sourceToRendered(e))}}var Vo=Yo;const Wo=0,zo=1,Go=2;function $o(e,t,n){return(t=qo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qo(e){var t=Ko(e,"string");return"symbol"==typeof t?t:t+""}function Ko(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Xo{constructor(){$o(this,"currentSize",0),$o(this,"nextSize",0),$o(this,"currentOffset",0),$o(this,"nextOffset",0)}setSize(e){this.currentSize=this.nextSize,this.nextSize=e}setOffset(e){this.currentOffset=this.nextOffset,this.nextOffset=e}}function Jo(e,t,n){return(t=Qo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qo(e){var t=Zo(e,"string");return"symbol"==typeof t?t:t+""}function Zo(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class es{constructor(){Jo(this,"size",new Xo),Jo(this,"workingSpace",Wo),Jo(this,"sharedSize",null)}setSize(e){this.size.setSize(e)}setOffset(e){this.size.setOffset(e)}getViewSize(){return this.size}isShared(){return this.sharedSize instanceof Xo}isPlaceOn(e){return this.workingSpace===e}append(e){this.workingSpace=zo,e.workingSpace=Go,this.sharedSize=e.getViewSize()}prepend(e){this.workingSpace=Go,e.workingSpace=zo,this.sharedSize=e.getViewSize()}}function ts(e,t,n){return(t=ns(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e){var t=rs(e,"string");return"symbol"==typeof t?t:t+""}function rs(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class is{constructor(e,t,n){ts(this,"rootNode",void 0),ts(this,"nodesPool",void 0),ts(this,"sizeSet",new es),ts(this,"childNodeType",void 0),ts(this,"visualIndex",0),ts(this,"collectedNodes",[]),this.rootNode=e,this.nodesPool=t,this.childNodeType=n.toUpperCase()}setSize(e){return this.sizeSet.setSize(e),this}setOffset(e){return this.sizeSet.setOffset(e),this}isSharedViewSet(){return this.sizeSet.isShared()}getNode(e){return e<this.collectedNodes.length?this.collectedNodes[e]:null}getCurrentNode(){const e=this.collectedNodes.length;return e>0?this.collectedNodes[e-1]:null}getRenderedChildCount(){const{rootNode:e,sizeSet:t}=this;let n=0;if(this.isSharedViewSet()){let r=e.firstElementChild;while(r){if(r.tagName===this.childNodeType)n+=1;else if(t.isPlaceOn(zo))break;r=r.nextElementSibling}}else n=e.childElementCount;return n}start(){this.collectedNodes.length=0,this.visualIndex=0;const{rootNode:e,sizeSet:t}=this,n=this.isSharedViewSet(),{nextSize:r}=t.getViewSize();let i=this.getRenderedChildCount();while(i<r){const r=this.nodesPool();!n||n&&t.isPlaceOn(Go)?e.appendChild(r):e.insertBefore(r,e.firstChild),i+=1}const o=n&&t.isPlaceOn(zo);while(i>r)e.removeChild(o?e.firstChild:e.lastChild),i-=1}render(){const{rootNode:e,sizeSet:t}=this;let n=this.visualIndex;this.isSharedViewSet()&&t.isPlaceOn(Go)&&(n+=t.sharedSize.nextSize);let r=e.childNodes[n];if(r.tagName!==this.childNodeType){const t=this.nodesPool();e.replaceChild(t,r),r=t}this.collectedNodes.push(r),this.visualIndex+=1}end(){}}class os extends is{prependView(e){return this.sizeSet.prepend(e.sizeSet),e.sizeSet.append(this.sizeSet),this}appendView(e){return this.sizeSet.append(e.sizeSet),e.sizeSet.prepend(this.sizeSet),this}}function ss(e,t,n){return(t=as(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function as(e){var t=ls(e,"string");return"symbol"==typeof t?t:t+""}function ls(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class us{constructor(e){ss(this,"nodeType",void 0),this.nodeType=e.toUpperCase()}setRootDocument(e){this.rootDocument=e}obtain(){return this.rootDocument.createElement(this.nodeType)}}function cs(e,t,n){return(t=hs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hs(e){var t=ds(e,"string");return"symbol"==typeof t?t:t+""}function ds(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class fs{constructor(e,t){cs(this,"nodesPool",null),cs(this,"nodeType",void 0),cs(this,"rootNode",void 0),cs(this,"table",null),cs(this,"renderedNodes",0),this.nodesPool="string"===typeof e?new us(e):null,this.nodeType=e,this.rootNode=t}setTable(e){this.nodesPool&&this.nodesPool.setRootDocument(e.rootDocument),this.table=e}adjust(){}render(){}}function ps(e,t,n){return(t=ms(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ms(e){var t=gs(e,"string");return"symbol"==typeof t?t:t+""}function gs(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class vs extends fs{constructor(){super("TH"),ps(this,"orderViews",new WeakMap),ps(this,"sourceRowIndex",0)}obtainOrderView(e){let t;return this.orderViews.has(e)?t=this.orderViews.get(e):(t=new os(e,(e=>this.nodesPool.obtain(this.sourceRowIndex,e)),this.nodeType),this.orderViews.set(e,t)),t}render(){const{rowsToRender:e,rowHeaderFunctions:t,rowHeadersCount:n,rows:r,cells:i}=this.table;for(let o=0;o<e;o++){const e=this.table.renderedRowToSource(o),s=r.getRenderedNode(o);this.sourceRowIndex=e;const a=this.obtainOrderView(s),l=i.obtainOrderView(s);a.appendView(l).setSize(n).setOffset(this.table.renderedColumnToSource(0)).start();for(let r=0;r<n;r++){a.render();const n=a.getCurrentNode();n.className="",n.removeAttribute("style"),ht(n,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&ct(n,[fe(),Me(),Pe(r+1),ue(-1)]),t[r](e,n,r)}a.end()}}}class ys extends fs{constructor(e){super(null,e)}adjust(){const{columnHeadersCount:e,rowHeadersCount:t}=this.table;let n=this.rootNode.firstChild;if(e){const{columnsToRender:r}=this.table,i=r+t;for(let t=0,s=e;t<s;t++){n=this.rootNode.childNodes[t],n||(n=this.table.rootDocument.createElement("tr"),this.rootNode.appendChild(n)),this.renderedNodes=n.childNodes.length;while(this.renderedNodes<i)n.appendChild(this.table.rootDocument.createElement("th")),this.renderedNodes+=1;while(this.renderedNodes>i)n.removeChild(n.lastChild),this.renderedNodes-=1}const o=this.rootNode.childNodes.length;if(o>e)for(let t=e;t<o;t++)this.rootNode.removeChild(this.rootNode.lastChild)}else n&&ft(n)}render(){const{columnHeadersCount:e}=this.table;this.table.isAriaEnabled()&&ct(this.rootNode,[pe()]);for(let t=0;t<e;t+=1){const{columnHeaderFunctions:e,columnsToRender:n,rowHeadersCount:r}=this.table,i=this.rootNode.childNodes[t];this.table.isAriaEnabled()&&ct(i,[ge(),Ie(t+1)]);for(let o=-1*r;o<n;o+=1){const n=this.table.renderedColumnToSource(o),s=i.childNodes[o+r];s.className="",s.removeAttribute("style"),ht(s,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.isAriaEnabled()&&ct(s,[Pe(o+1+this.table.rowHeadersCount),ue(-1),me(),...o>=0?[Te()]:[ge()]]),e[t](n,s,t)}}}}let bs=!1;class ws extends fs{constructor(e){super(null,e)}adjust(){const{columnsToRender:e,rowHeadersCount:t}=this.table,n=e+t;while(this.renderedNodes<n)this.rootNode.appendChild(this.table.rootDocument.createElement("col")),this.renderedNodes+=1;while(this.renderedNodes>n)this.rootNode.removeChild(this.rootNode.lastChild),this.renderedNodes-=1}render(){this.adjust();const{columnsToRender:e,rowHeadersCount:t}=this.table;!bs&&e>1e3&&(bs=!0,dr(F`Performance tip: Handsontable rendered more than 1000 visible columns.\x20
        Consider limiting the number of rendered columns by specifying the table width and/or\x20
        turning off the "renderAllColumns" option.`));for(let r=0;r<t;r++){const e=this.table.renderedColumnToSource(r),t=this.table.columnUtils.getHeaderWidth(e);this.rootNode.childNodes[r].style.width=`${t}px`}for(let r=0;r<e;r++){const e=this.table.renderedColumnToSource(r),n=this.table.columnUtils.getStretchedColumnWidth(e);this.rootNode.childNodes[r+t].style.width=`${n}px`}const n=this.rootNode.firstChild;n&&lt(n,"rowHeader")}}function _s(e,t,n){return(t=Es(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Es(e){var t=Ss(e,"string");return"symbol"==typeof t?t:t+""}function Ss(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const Ts={rowEven:"ht__row_even",rowOdd:"ht__row_odd"};let Ms=!1;class Cs extends fs{constructor(e){super("TR",e),_s(this,"orderView",void 0),this.orderView=new is(e,(e=>this.nodesPool.obtain(e)),this.nodeType)}getRenderedNode(e){return this.orderView.getNode(e)}render(){const{rowsToRender:e}=this.table;!Ms&&e>1e3&&(Ms=!0,dr(F`Performance tip: Handsontable rendered more than 1000 visible rows.\x20
        Consider limiting the number of rendered rows by specifying the table height and/or\x20
        turning off the "renderAllRows" option.`)),this.table.isAriaEnabled()&&ct(this.rootNode,[pe()]),this.orderView.setSize(e).setOffset(this.table.renderedRowToSource(0)).start();for(let r=0;r<e;r++){this.orderView.render();const e=this.orderView.getCurrentNode(),i=this.table.renderedRowToSource(r);var t,n;if(this.table.isAriaEnabled())ct(e,[ge(),Ie(i+(null!==(t=null===(n=this.table.rowUtils)||void 0===n||null===(n=n.dataAccessObject)||void 0===n?void 0:n.columnHeaders.length)&&void 0!==t?t:0)+1)]);ut(e,[Ts.rowEven,Ts.rowOdd]),lt(e,(i+1)%2===0?Ts.rowEven:Ts.rowOdd)}this.orderView.end()}}function Rs(e,t,n){return(t=xs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xs(e){var t=As(e,"string");return"symbol"==typeof t?t:t+""}function As(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Ns extends fs{constructor(){super("TD"),Rs(this,"orderViews",new WeakMap),Rs(this,"sourceRowIndex",0)}obtainOrderView(e){let t;return this.orderViews.has(e)?t=this.orderViews.get(e):(t=new os(e,(e=>this.nodesPool.obtain(this.sourceRowIndex,e)),this.nodeType),this.orderViews.set(e,t)),t}render(){const{rowsToRender:e,columnsToRender:t,rows:n,rowHeaders:r}=this.table;for(let s=0;s<e;s++){const e=this.table.renderedRowToSource(s),a=n.getRenderedNode(s);this.sourceRowIndex=e;const l=this.obtainOrderView(a),u=r.obtainOrderView(a);l.prependView(u).setSize(t).setOffset(this.table.renderedColumnToSource(0)).start();for(let n=0;n<t;n++){l.render();const t=l.getCurrentNode(),r=this.table.renderedColumnToSource(n);var i,o;if(at(t,"hide")||(t.className=""),t.removeAttribute("style"),t.removeAttribute("dir"),ht(t,[new RegExp("aria-(.*)"),new RegExp("role")]),this.table.cellRenderer(e,r,t),this.table.isAriaEnabled())ct(t,[...t.hasAttribute("role")?[]:[de()],ue(-1),Pe(r+(null!==(i=null===(o=this.table.rowUtils)||void 0===o||null===(o=o.dataAccessObject)||void 0===o?void 0:o.rowHeaders.length)&&void 0!==i?i:0)+1)])}l.end()}}}function Ls(e,t,n){return(t=ks(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ks(e){var t=Os(e,"string");return"symbol"==typeof t?t:t+""}function Os(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Is{constructor(e){let{cellRenderer:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ls(this,"rootNode",void 0),Ls(this,"rootDocument",void 0),Ls(this,"rowHeaders",null),Ls(this,"columnHeaders",null),Ls(this,"colGroup",null),Ls(this,"rows",null),Ls(this,"cells",null),Ls(this,"rowFilter",null),Ls(this,"columnFilter",null),Ls(this,"rowUtils",null),Ls(this,"columnUtils",null),Ls(this,"rowsToRender",0),Ls(this,"columnsToRender",0),Ls(this,"rowHeaderFunctions",[]),Ls(this,"rowHeadersCount",0),Ls(this,"columnHeaderFunctions",[]),Ls(this,"columnHeadersCount",0),Ls(this,"cellRenderer",void 0),Ls(this,"activeOverlayName",void 0),this.rootNode=e,this.rootDocument=this.rootNode.ownerDocument,this.cellRenderer=t}setActiveOverlayName(e){this.activeOverlayName=e}setAxisUtils(e,t){this.rowUtils=e,this.columnUtils=t}setViewportSize(e,t){this.rowsToRender=e,this.columnsToRender=t}setFilters(e,t){this.rowFilter=e,this.columnFilter=t}setHeaderContentRenderers(e,t){this.rowHeaderFunctions=e,this.rowHeadersCount=e.length,this.columnHeaderFunctions=t,this.columnHeadersCount=t.length}setRenderers(){let{rowHeaders:e,columnHeaders:t,colGroup:n,rows:r,cells:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setTable(this),t.setTable(this),n.setTable(this),r.setTable(this),i.setTable(this),this.rowHeaders=e,this.columnHeaders=t,this.colGroup=n,this.rows=r,this.cells=i}renderedRowToSource(e){return this.rowFilter.renderedToSource(e)}renderedColumnToSource(e){return this.columnFilter.renderedToSource(e)}isAriaEnabled(){return this.rowUtils.wtSettings.getSetting("ariaTags")}render(){this.colGroup.adjust(),this.columnHeaders.adjust(),this.rows.adjust(),this.rowHeaders.adjust(),this.columnHeaders.render(),this.rows.render(),this.rowHeaders.render(),this.cells.render(),this.columnUtils.calculateWidths(),this.colGroup.render();const{rowsToRender:e,rows:t}=this;for(let n=0;n<e;n++){const e=t.getRenderedNode(n);if(e.firstChild){const t=this.renderedRowToSource(n),r=this.rowUtils.getHeightByOverlayName(t,this.activeOverlayName);e.firstChild.style.height=r?r-1+"px":""}}}}class Ps{constructor(){let{TABLE:e,THEAD:t,COLGROUP:n,TBODY:r,rowUtils:i,columnUtils:o,cellRenderer:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.renderer=new Is(e,{cellRenderer:s}),this.renderer.setRenderers({rowHeaders:new vs,columnHeaders:new ys(t),colGroup:new ws(n),rows:new Cs(r),cells:new Ns}),this.renderer.setAxisUtils(i,o)}setActiveOverlayName(e){return this.renderer.setActiveOverlayName(e),this}setFilters(e,t){return this.renderer.setFilters(e,t),this}setViewportSize(e,t){return this.renderer.setViewportSize(e,t),this}setHeaderContentRenderers(e,t){return this.renderer.setHeaderContentRenderers(e,t),this}adjust(){this.renderer.adjust()}render(){this.renderer.render()}}function Ds(e,t,n){return(t=Fs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fs(e){var t=Hs(e,"string");return"symbol"==typeof t?t:t+""}function Hs(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Us{constructor(e){Ds(this,"calculationTypes",[]),Ds(this,"calculationResults",new Map),this.calculationTypes=e}_initialize(e){this.calculationTypes.forEach((t=>{let[n,r]=t;this.calculationResults.set(n,r),r.initialize(e)}))}_process(e,t){this.calculationTypes.forEach((n=>{let[,r]=n;return r.process(e,t)}))}_finalize(e){this.calculationTypes.forEach((t=>{let[,n]=t;return n.finalize(e)}))}getResultsFor(e){return this.calculationResults.get(e)}}function Bs(e,t,n){return(t=js(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function js(e){var t=Ys(e,"string");return"symbol"==typeof t?t:t+""}function Ys(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const Vs=50;class Ws extends Us{constructor(e){let{calculationTypes:t,viewportWidth:n,scrollOffset:r,totalColumns:i,columnWidthFn:o,overrideFn:s,inlineStartOffset:a}=e;super(t),Bs(this,"viewportWidth",0),Bs(this,"scrollOffset",0),Bs(this,"zeroBasedScrollOffset",0),Bs(this,"totalColumns",0),Bs(this,"columnWidthFn",null),Bs(this,"columnWidth",0),Bs(this,"overrideFn",null),Bs(this,"inlineStartOffset",0),Bs(this,"totalCalculatedWidth",0),Bs(this,"startPositions",[]),Bs(this,"needReverse",!0),this.viewportWidth=n,this.scrollOffset=r,this.zeroBasedScrollOffset=Math.max(r,0),this.totalColumns=i,this.columnWidthFn=o,this.overrideFn=s,this.inlineStartOffset=a,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalColumns;e++)if(this.columnWidth=this.getColumnWidth(e),this._process(e,this),this.startPositions.push(this.totalCalculatedWidth),this.totalCalculatedWidth+=this.columnWidth,this.totalCalculatedWidth>=this.zeroBasedScrollOffset+this.viewportWidth){this.needReverse=!1;break}this._finalize(this)}getColumnWidth(e){const t=this.columnWidthFn(e);return isNaN(t)?Vs:t}}function zs(e,t,n){Gs(e,t),t.set(e,n)}function Gs(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $s(e,t,n){return(t=qs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qs(e){var t=Ks(e,"string");return"symbol"==typeof t?t:t+""}function Ks(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Xs(e,t){return e.get(Qs(e,t))}function Js(e,t,n){return e.set(Qs(e,t),n),n}function Qs(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Zs=new WeakMap,ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ra=new WeakMap;class ia{constructor(e){let{totalColumns:t,stretchMode:n,stretchingColumnWidthFn:r,columnWidthFn:i}=e;$s(this,"stretchAllRatio",0),$s(this,"stretchLastWidth",0),$s(this,"stretchAllColumnsWidth",[]),zs(this,Zs,0),$s(this,"needVerifyLastColumnWidth",!0),zs(this,ea,(()=>0)),zs(this,ta,(e=>e)),zs(this,na,(e=>e)),zs(this,ra,(()=>"none")),Js(ea,this,t),Js(ra,this,n),Js(ta,this,null!==r&&void 0!==r?r:Xs(ta,this)),Js(na,this,null!==i&&void 0!==i?i:Xs(na,this))}refreshStretching(e){if("none"===Xs(ra,this).call(this))return;this.stretchAllRatio=0,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0,this.stretchLastWidth=0,Js(Zs,this,e);let t=0;for(let r=0;r<Xs(ea,this).call(this);r++){const n=this._getColumnWidth(r),i=Xs(ta,this).call(this,void 0,r);"number"===typeof i?e-=i:t+=n}const n=e-t;if("all"===Xs(ra,this).call(this)&&n>0)this.stretchAllRatio=e/t,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===Xs(ra,this).call(this)&&e!==1/0){const e=this._getColumnWidth(Xs(ea,this).call(this)-1),t=n+e;this.stretchLastWidth=t>=0?t:e}}getStretchedColumnWidth(e,t){let n=null;return"all"===Xs(ra,this).call(this)&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(e,t):"last"===Xs(ra,this).call(this)&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(e)),n}_getStretchedAllColumnWidth(e,t){let n=0;if(!this.stretchAllColumnsWidth[e]){const n=Math.round(t*this.stretchAllRatio),r=Xs(ta,this).call(this,n,e);this.stretchAllColumnsWidth[e]=void 0===r?n:isNaN(r)?this._getColumnWidth(e):r}if(this.stretchAllColumnsWidth.length===Xs(ea,this).call(this)&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(let e=0;e<this.stretchAllColumnsWidth.length;e++)n+=this.stretchAllColumnsWidth[e];n!==Xs(Zs,this)&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=Xs(Zs,this)-n)}return this.stretchAllColumnsWidth[e]}_getStretchedLastColumnWidth(e){return e===Xs(ea,this).call(this)-1?this.stretchLastWidth:null}_getColumnWidth(e){let t=Xs(na,this).call(this,e);return isNaN(t)&&(t=Vs),t}}function oa(e,t,n){return(t=sa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(e){var t=aa(e,"string");return"symbol"==typeof t?t:t+""}function aa(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class la{constructor(e,t){oa(this,"dataAccessObject",void 0),oa(this,"wtSettings",void 0),oa(this,"headerWidths",new Map),oa(this,"stretching",void 0),this.dataAccessObject=e,this.wtSettings=t,this.stretching=new ia({totalColumns:()=>this.wtSettings.getSetting("totalColumns"),stretchMode:()=>this.wtSettings.getSetting("stretchH"),stretchingColumnWidthFn:(e,t)=>this.wtSettings.getSetting("onBeforeStretchingColumnWidth",e,t),columnWidthFn:e=>this.dataAccessObject.wtTable.getColumnWidth(e)})}getWidth(e){const t=this.wtSettings.getSetting("columnWidth",e)||this.wtSettings.getSetting("defaultColumnWidth");return t}getStretchedColumnWidth(e){let t=this.getWidth(e);const n=this.stretching.getStretchedColumnWidth(e,t);return n&&(t=n),t}getHeaderHeight(e){let t=this.wtSettings.getSetting("defaultRowHeight");const n=this.dataAccessObject.wtViewport.oversizedColumnHeaders[e];return void 0!==n&&(t=t?Math.max(t,n):n),t}getHeaderWidth(e){return this.headerWidths.get(this.dataAccessObject.wtTable.columnFilter.sourceToRendered(e))}refreshStretching(){const{wtTable:e,wtViewport:t,cloneSource:n}=this.dataAccessObject,r=n?n.wtTable.holder:e.holder,i=r.offsetHeight<r.scrollHeight?Vt():0;this.stretching.refreshStretching(t.getViewportWidth()-i)}calculateWidths(){const{wtSettings:e}=this;let t=e.getSetting("rowHeaderWidth");if(this.refreshStretching(),t=e.getSetting("onModifyRowHeaderWidth",t),null!==t&&void 0!==t){const n=e.getSetting("rowHeaders").length,r=e.getSetting("defaultColumnWidth");for(let e=0;e<n;e++){let n=Array.isArray(t)?t[e]:t;n=null===n||void 0===n?r:n,this.headerWidths.set(e,n)}}}}function ua(e,t,n){return(t=ca(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ca(e){var t=ha(e,"string");return"symbol"==typeof t?t:t+""}function ha(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class da{constructor(e,t){ua(this,"dataAccessObject",void 0),ua(this,"wtSettings",void 0),this.dataAccessObject=e,this.wtSettings=t}getHeight(e){let t=this.wtSettings.getSetting("rowHeight",e);const n=this.dataAccessObject.wtViewport.oversizedRows[e];return void 0!==n&&(t=void 0===t?n:Math.max(t,n)),t}getHeightByOverlayName(e,t){let n=this.wtSettings.getSetting("rowHeightByOverlayName",e,t);const r=this.dataAccessObject.wtViewport.oversizedRows[e];return void 0!==r&&(n=void 0===n?r:Math.max(n,r)),n}}const fa="top",pa="bottom",ma="inline_start",ga="top_inline_start_corner",va="bottom_inline_start_corner",ya=[fa,pa,ma,ga,va],ba=new Map([[fa,`ht_clone_${fa}`],[pa,`ht_clone_${pa}`],[ma,`ht_clone_${ma} ht_clone_left`],[ga,`ht_clone_${ga} ht_clone_top_left_corner`],[va,`ht_clone_${va} ht_clone_bottom_left_corner`]]);function wa(e,t,n){return(t=_a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _a(e){var t=Ea(e,"string");return"symbol"==typeof t?t:t+""}function Ea(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Sa{constructor(e,t,n,r,i){wa(this,"wtSettings",null),wa(this,"domBindings",void 0),wa(this,"TBODY",null),wa(this,"THEAD",null),wa(this,"COLGROUP",null),wa(this,"hasTableHeight",!0),wa(this,"hasTableWidth",!0),wa(this,"isTableVisible",!1),wa(this,"tableOffset",0),wa(this,"holderOffset",0),this.domBindings=n,this.isMaster="master"===i,this.name=i,this.dataAccessObject=e,this.facadeGetter=t,this.wtSettings=r,this.instance=this.dataAccessObject.wot,this.wot=this.dataAccessObject.wot,this.TABLE=n.rootTable,dt(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.isMaster&&this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;const o=this.wtSettings.getSettingPure("rowHeaderWidth");this.wtSettings.update("rowHeaderWidth",(()=>this._modifyRowHeaderWidth(o))),this.rowUtils=new da(this.dataAccessObject,this.wtSettings),this.columnUtils=new la(this.dataAccessObject,this.wtSettings),this.tableRenderer=new Ps({TABLE:this.TABLE,THEAD:this.THEAD,COLGROUP:this.COLGROUP,TBODY:this.TBODY,rowUtils:this.rowUtils,columnUtils:this.columnUtils,cellRenderer:this.wtSettings.getSettingPure("cellRenderer")})}is(e){return this.name===e}fixTableDomTree(){const e=this.domBindings.rootDocument;this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=e.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=e.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=e.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD))}createSpreader(e){const t=e.parentNode;let n;return t&&t.nodeType===Node.ELEMENT_NODE&&at(t,"wtHolder")||(n=this.domBindings.rootDocument.createElement("div"),n.className="wtSpreader",t&&t.insertBefore(n,e),n.appendChild(e)),n.style.position="relative",this.wtSettings.getSetting("ariaTags")&&ct(n,[he()]),n}createHider(e){const t=e.parentNode;let n;return t&&t.nodeType===Node.ELEMENT_NODE&&at(t,"wtHolder")||(n=this.domBindings.rootDocument.createElement("div"),n.className="wtHider",t&&t.insertBefore(n,e),n.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&ct(n,[he()]),n}createHolder(e){const t=e.parentNode;let n;return t&&t.nodeType===Node.ELEMENT_NODE&&at(t,"wtHolder")||(n=this.domBindings.rootDocument.createElement("div"),n.style.position="relative",n.className="wtHolder",t&&t.insertBefore(n,e),this.isMaster&&(n.parentNode.className+="ht_master handsontable",n.parentNode.setAttribute("dir",this.wtSettings.getSettingPure("rtlMode")?"rtl":"ltr"),this.wtSettings.getSetting("ariaTags")&&ct(n.parentNode,[he()])),n.appendChild(e)),this.wtSettings.getSetting("ariaTags")&&ct(n,[he()]),n}draw(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{wtSettings:t}=this,{wtOverlays:n,wtViewport:r}=this.dataAccessObject,i=t.getSetting("totalRows"),o=t.getSetting("totalColumns"),s=t.getSetting("rowHeaders"),a=s.length,l=t.getSetting("columnHeaders"),u=l.length;let c=e;if(this.isMaster&&(n.beforeDraw(),this.holderOffset=yt(this.holder),c=r.createCalculators(c),a&&!t.getSetting("fixedColumnsStart"))){const e=n.inlineStartOverlay.getScrollPosition(),t=this.correctHeaderWidth;this.correctHeaderWidth=0!==e,t!==this.correctHeaderWidth&&(c=!1)}if(c)this.isMaster&&n.refresh(!0);else{this.isMaster?this.tableOffset=yt(this.TABLE):this.tableOffset=this.dataAccessObject.parentTableOffset;const e=i>0?this.getFirstRenderedRow():0,t=o>0?this.getFirstRenderedColumn():0;this.rowFilter=new Vo(e,i,u),this.columnFilter=new Ho(t,o,a);let c=!0;if(this.isMaster){this.alignOverlaysWithTrimmingContainer();const e={};this.wtSettings.getSetting("beforeDraw",!0,e),c=!0!==e.skipRender}if(c){let e;if(this.tableRenderer.setHeaderContentRenderers(s,l),(this.is(pa)||this.is(va))&&this.tableRenderer.setHeaderContentRenderers(s,[]),this.resetOversizedRows(),this.tableRenderer.setActiveOverlayName(this.name).setViewportSize(this.getRenderedRowsCount(),this.getRenderedColumnsCount()).setFilters(this.rowFilter,this.columnFilter).render(),this.isMaster&&(e=this.dataAccessObject.workspaceWidth,r.containerWidth=null,this.markOversizedColumnHeaders()),this.adjustColumnHeaderHeights(),(this.isMaster||this.is(pa))&&this.markOversizedRows(),this.isMaster){this.wtSettings.getSetting("externalRowCalculator")||r.createVisibleCalculators(),n.refresh(!1),n.applyToDOM();const t=Nt(this.hider),i=Nt(this.TABLE);0!==t&&i!==t&&(this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),e!==r.getWorkspaceWidth()&&(r.containerWidth=null,this.columnUtils.calculateWidths(),this.tableRenderer.renderer.colGroup.render()),this.wtSettings.getSetting("onDraw",!0)}else this.is(pa)&&this.dataAccessObject.cloneSource.wtOverlays.adjustElementsSize()}}let h=!1;return this.isMaster&&(h=n.topOverlay.resetFixedPosition(),n.bottomOverlay.clone&&(h=n.bottomOverlay.resetFixedPosition()||h),h=n.inlineStartOverlay.resetFixedPosition()||h,n.topInlineStartCornerOverlay&&n.topInlineStartCornerOverlay.resetFixedPosition(),n.bottomInlineStartCornerOverlay&&n.bottomInlineStartCornerOverlay.clone&&n.bottomInlineStartCornerOverlay.resetFixedPosition()),h?(n.refreshAll(),n.adjustElementsSize()):this.dataAccessObject.selectionManager.setActiveOverlay(this.facadeGetter()).render(c),this.isMaster&&n.afterDraw(),this.dataAccessObject.drawn=!0,this}markIfOversizedColumnHeader(e){const t=this.columnFilter.renderedToSource(e);let n=this.wtSettings.getSetting("columnHeaders").length;const r=this.wtSettings.getSetting("defaultRowHeight");let i,o,s;const a=this.wtSettings.getSetting("columnHeaderHeight")||[];while(n)n-=1,i=this.getColumnHeaderHeight(n),o=this.getColumnHeader(t,n),o&&(s=kt(o),(!i&&r<s||i<s)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=s),Array.isArray(a)?null!==a[n]&&void 0!==a[n]&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=a[n]):isNaN(a)||(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=a),this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]<(a[n]||a)&&(this.dataAccessObject.wtViewport.oversizedColumnHeaders[n]=a[n]||a))}adjustColumnHeaderHeights(){const{wtSettings:e}=this,t=this.THEAD.childNodes,n=this.dataAccessObject.wtViewport.oversizedColumnHeaders,r=e.getSetting("columnHeaders");for(let i=0,o=r.length;i<o;i++)if(n[i]){if(!t[i]||0===t[i].childNodes.length)return;t[i].childNodes[0].style.height=`${n[i]}px`}}resetOversizedRows(){const{wtSettings:e}=this,{wtViewport:t}=this.dataAccessObject;if((this.isMaster||this.is(pa))&&!e.getSetting("externalRowCalculator")){const e=this.getRenderedRowsCount();for(let n=0;n<e;n++){const e=this.rowFilter.renderedToSource(n);t.oversizedRows&&t.oversizedRows[e]&&(t.oversizedRows[e]=void 0)}}}getCell(e){let t=e.row,n=e.col;const r=this.wtSettings.getSetting("onModifyGetCellCoords",t,n);if(r&&Array.isArray(r)&&([t,n]=r),this.isRowBeforeRenderedRows(t))return-1;if(this.isRowAfterRenderedRows(t))return-2;if(this.isColumnBeforeRenderedColumns(n))return-3;if(this.isColumnAfterRenderedColumns(n))return-4;const i=this.getRow(t);if(!i&&t>=0)throw new Error("TR was expected to be rendered but is not");const o=i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(n)];if(!o&&n>=0)throw new Error("TD or TH was expected to be rendered but is not");return o}getRow(e){let t=null,n=null;var r,i;e<0?(t=null===(r=this.rowFilter)||void 0===r?void 0:r.sourceRowToVisibleColHeadedRow(e),n=this.THEAD):(t=null===(i=this.rowFilter)||void 0===i?void 0:i.sourceToRendered(e),n=this.TBODY);return void 0!==t&&void 0!==n&&(!(n.childNodes.length<t+1)&&n.childNodes[t])}getColumnHeader(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.THEAD.childNodes[t];return null===n||void 0===n?void 0:n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e)]}getColumnHeaders(e){const t=[],n=this.columnFilter.sourceColumnToVisibleRowHeadedColumn(e);return this.THEAD.childNodes.forEach((e=>{const r=e.childNodes[n];r&&t.push(r)})),t}getRowHeader(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.wtSettings.getSetting("rowHeaders").length;if(t>=n)return;const r=this.rowFilter.sourceToRendered(e),i=r<0?this.rowFilter.sourceRowToVisibleColHeadedRow(e):r,o=r<0?this.THEAD:this.TBODY,s=o.childNodes[i];return null===s||void 0===s?void 0:s.childNodes[t]}getRowHeaders(e){const t=[],n=this.wtSettings.getSetting("rowHeaders").length;for(let r=0;r<n;r++){const n=this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)],i=null===n||void 0===n?void 0:n.childNodes[r];i&&t.push(i)}return t}getCoords(e){let t=e;if("TD"!==t.nodeName&&"TH"!==t.nodeName&&(t=et(t,["TD","TH"])),null===t)return null;const n=t.parentNode,r=n.parentNode;let i=rt(n),o=t.cellIndex;if(it(ga,t,this.wtRootElement)||it(fa,t,this.wtRootElement))"THEAD"===r.nodeName&&(i-=r.childNodes.length);else if(it(va,t,this.wtRootElement)||it(pa,t,this.wtRootElement)){const e=this.wtSettings.getSetting("totalRows");i=e-r.childNodes.length+i}else i=r===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(i):this.rowFilter.renderedToSource(i);return o=it(ga,t,this.wtRootElement)||it(ma,t,this.wtRootElement)||it(va,t,this.wtRootElement)?this.columnFilter.offsettedTH(o):this.columnFilter.visibleRowHeadedColumnToSourceColumn(o),this.wot.createCellCoords(i,o)}markOversizedRows(){if(this.wtSettings.getSetting("externalRowCalculator"))return;let e=this.TBODY.childNodes.length;const t=e*this.wtSettings.getSetting("defaultRowHeight"),n=kt(this.TBODY)-1;let r,i,o,s,a;if(t!==n||this.wtSettings.getSetting("fixedRowsBottom"))while(e)e-=1,o=this.rowFilter.renderedToSource(e),r=this.getRowHeight(o),s=this.getTrForRow(o),a=s.querySelector("th"),i=a?kt(a):kt(s)-1,(!r&&this.wtSettings.getSetting("defaultRowHeight")<i||r<i)&&(i+=1,this.dataAccessObject.wtViewport.oversizedRows[o]=i)}getTrForRow(e){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(e)]}isColumnHeaderRendered(e){if(e>=0)return!1;const t=this.wtSettings.getSetting("rowHeaders"),n=t.length;return Math.abs(e)<=n}isRowHeaderRendered(e){if(e>=0)return!1;const t=this.wtSettings.getSetting("columnHeaders"),n=t.length;return Math.abs(e)<=n}isRowBeforeRenderedRows(e){const t=this.getFirstRenderedRow();return e<0&&t<=0?!this.isRowHeaderRendered(e):e<t}isRowAfterRenderedRows(e){return e>this.getLastRenderedRow()}isColumnBeforeRenderedColumns(e){const t=this.getFirstRenderedColumn();return e<0&&t<=0?!this.isColumnHeaderRendered(e):e<t}isColumnAfterRenderedColumns(e){return this.columnFilter&&e>this.getLastRenderedColumn()}isColumnAfterViewport(e){return this.columnFilter&&e>this.getLastVisibleColumn()}isRowAfterViewport(e){return this.rowFilter&&e>this.getLastVisibleRow()}isColumnBeforeViewport(e){return this.columnFilter&&this.columnFilter.sourceToRendered(e)<0&&e>=0}isLastRowFullyVisible(){return this.getLastVisibleRow()===this.getLastRenderedRow()}isLastColumnFullyVisible(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}allRowsInViewport(){return this.wtSettings.getSetting("totalRows")===this.getVisibleRowsCount()}allColumnsInViewport(){return this.wtSettings.getSetting("totalColumns")===this.getVisibleColumnsCount()}getRowHeight(e){return this.rowUtils.getHeight(e)}getColumnHeaderHeight(e){return this.columnUtils.getHeaderHeight(e)}getColumnWidth(e){return this.columnUtils.getWidth(e)}getStretchedColumnWidth(e){return this.columnUtils.getStretchedColumnWidth(e)}hasDefinedSize(){return this.hasTableHeight&&this.hasTableWidth}getWidth(){return Nt(this.TABLE)}getHeight(){return Lt(this.TABLE)}getTotalWidth(){const e=Nt(this.hider);return 0!==e?e:this.getWidth()}getTotalHeight(){const e=Lt(this.hider);return 0!==e?e:this.getHeight()}isVisible(){return vt(this.TABLE)}_modifyRowHeaderWidth(e){let t=rn(e)?e():null;return Array.isArray(t)?(t=[...t],t[t.length-1]=this._correctRowHeaderWidth(t[t.length-1])):t=this._correctRowHeaderWidth(t),t}_correctRowHeaderWidth(e){let t=e;return"number"!==typeof e&&(t=this.wtSettings.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&(t+=1),t}}var Ta=Sa;const Ma="stickyRowsTop",Ca={getFirstRenderedRow(){const e=this.wtSettings.getSetting("totalRows");return 0===e?-1:0},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.getRenderedRowsCount()-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsTop"),e)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};En(Ca,"MIXIN_NAME",Ma,{writable:!1,enumerable:!1});var Ra=Ca;const xa="calculatedColumns",Aa={getFirstRenderedColumn(){const e=this.dataAccessObject.startColumnRendered;return null===e?-1:e},getFirstVisibleColumn(){const e=this.dataAccessObject.startColumnVisible;return null===e?-1:e},getFirstPartiallyVisibleColumn(){const e=this.dataAccessObject.startColumnPartiallyVisible;return null===e?-1:e},getLastRenderedColumn(){const e=this.dataAccessObject.endColumnRendered;return null===e?-1:e},getLastVisibleColumn(){const e=this.dataAccessObject.endColumnVisible;return null===e?-1:e},getLastPartiallyVisibleColumn(){const e=this.dataAccessObject.endColumnPartiallyVisible;return null===e?-1:e},getRenderedColumnsCount(){return this.dataAccessObject.countColumnsRendered},getVisibleColumnsCount(){return this.dataAccessObject.countColumnsVisible},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};En(Aa,"MIXIN_NAME",xa,{writable:!1,enumerable:!1});var Na=Aa;class La extends Ta{constructor(e,t,n,r){super(e,t,n,r,fa)}}bn(La,Ra),bn(La,Na);var ka=La;function Oa(e,t){Ia(e,t),t.add(e)}function Ia(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pa(e,t,n){return(t=Da(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Da(e){var t=Fa(e,"string");return"symbol"==typeof t?t:t+""}function Fa(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ha(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Ua=new WeakSet;class Ba{constructor(e){Oa(this,Ua),Pa(this,"dataAccessObject",void 0),this.dataAccessObject=e}scrollViewport(e,t,n,r,i){const o=this.scrollViewportHorizontally(e.col,n,i),s=this.scrollViewportVertically(e.row,t,r);return o||s}scrollViewportHorizontally(e,t,n){const{drawn:r,totalColumns:i}=this.dataAccessObject;if(!r||!Number.isInteger(e)||e<0||e>i)return!1;const o=void 0===t&&void 0===n,{fixedColumnsStart:s,inlineStartOverlay:a}=this.dataAccessObject;if(o&&e<s)return!1;if(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollHorizontally",e),!Number.isInteger(e)||e<0||e>i)return!1;const l=this.getFirstVisibleColumn(),u=this.getLastVisibleColumn();let c=!1;return(o&&(e<l||e>u)||!o)&&(c=a.scrollTo(e,o?e>=this.getLastPartiallyVisibleColumn():t)),c}scrollViewportVertically(e,t,n){const{drawn:r,totalRows:i}=this.dataAccessObject;if(!r||!Number.isInteger(e)||e<0||e>i)return!1;const o=void 0===t&&void 0===n,{fixedRowsBottom:s,fixedRowsTop:a,topOverlay:l}=this.dataAccessObject;if(o&&(e<a||e>i-s-1))return!1;if(e=this.dataAccessObject.wtSettings.getSetting("onBeforeViewportScrollVertically",e),!Number.isInteger(e)||e<0||e>i)return!1;const u=this.getFirstVisibleRow(),c=this.getLastVisibleRow();let h=!1;return(o&&(e<u||e>c)||!o)&&(h=l.scrollTo(e,o?e>=this.getLastPartiallyVisibleRow():n)),h}getFirstVisibleRow(){return this.dataAccessObject.wtTable.getFirstVisibleRow()}getLastVisibleRow(){return Ha(Ua,this,Ya).call(this,this.dataAccessObject.wtTable.getLastVisibleRow())}getFirstPartiallyVisibleRow(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleRow()}getLastPartiallyVisibleRow(){return Ha(Ua,this,Ya).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleRow())}getFirstVisibleColumn(){return this.dataAccessObject.wtTable.getFirstVisibleColumn()}getLastVisibleColumn(){return Ha(Ua,this,ja).call(this,this.dataAccessObject.wtTable.getLastVisibleColumn())}getFirstPartiallyVisibleColumn(){return this.dataAccessObject.wtTable.getFirstPartiallyVisibleColumn()}getLastPartiallyVisibleColumn(){return Ha(Ua,this,ja).call(this,this.dataAccessObject.wtTable.getLastPartiallyVisibleColumn())}}function ja(e){const{wtSettings:t,inlineStartOverlay:n,wtTable:r,wtViewport:i,totalColumns:o,rootWindow:s}=this.dataAccessObject;if(n.mainTableScrollableElement===s){const a=t.getSetting("rtlMode");let l=null;if(a){const e=r.TABLE.getBoundingClientRect(),t=this.dataAccessObject.rootWindow.document,n=t.documentElement.offsetWidth;l=Math.abs(e.right-n)}else{const e=yt(r.wtRootElement);l=e.left}const u=Math.abs(Et(s,s));if(l>u){const t=Ot(s);let r=i.getRowHeaderWidth();for(let i=1;i<=o;i++)if(r+=n.sumCellSizes(i-1,i),l+r-u>=t){e=i-2;break}}}return e}function Ya(e){const{topOverlay:t,wtTable:n,wtViewport:r,totalRows:i,rootWindow:o}=this.dataAccessObject;if(t.mainTableScrollableElement===o){const s=yt(n.wtRootElement),a=_t(o,o);if(s.top>a){const n=kt(o);let l=r.getColumnHeaderHeight();for(let r=1;r<=i;r++)if(l+=t.sumCellSizes(r-1,r),s.top+l-a>=n){e=r-2;break}}}return e}var Va=Ba;function Wa(e,t,n){za(e,t),t.set(e,n)}function za(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ga(e,t,n){return(t=$a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $a(e){var t=qa(e,"string");return"symbol"==typeof t?t:t+""}function qa(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ka(e,t){return e.get(Ja(e,t))}function Xa(e,t,n){return e.set(Ja(e,t),n),n}function Ja(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Qa=new WeakMap;class Za{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ga(this,"row",null),Ga(this,"col",null),Wa(this,Qa,!1),Xa(Qa,this,n),"undefined"!==typeof e&&"undefined"!==typeof t&&(this.row=e,this.col=t)}isValid(e){const{countRows:t,countCols:n,countRowHeaders:r,countColHeaders:i}={countRows:0,countCols:0,countRowHeaders:0,countColHeaders:0,...e};return!(!Number.isInteger(this.row)||!Number.isInteger(this.col))&&(!(this.row<-i||this.col<-r)&&!(this.row>=t||this.col>=n))}isEqual(e){return e===this||this.row===e.row&&this.col===e.col}isHeader(){return!this.isCell()}isCell(){return this.row>=0&&this.col>=0}isRtl(){return Ka(Qa,this)}isSouthEastOf(e){return this.row>=e.row&&(Ka(Qa,this)?this.col<=e.col:this.col>=e.col)}isNorthWestOf(e){return this.row<=e.row&&(Ka(Qa,this)?this.col>=e.col:this.col<=e.col)}isSouthWestOf(e){return this.row>=e.row&&(Ka(Qa,this)?this.col>=e.col:this.col<=e.col)}isNorthEastOf(e){return this.row<=e.row&&(Ka(Qa,this)?this.col<=e.col:this.col>=e.col)}normalize(){return this.row=null===this.row?this.row:Math.max(this.row,0),this.col=null===this.col?this.col:Math.max(this.col,0),this}assign(e){return Number.isInteger(null===e||void 0===e?void 0:e.row)&&(this.row=e.row),Number.isInteger(null===e||void 0===e?void 0:e.col)&&(this.col=e.col),e instanceof Za&&Xa(Qa,this,e.isRtl()),this}clone(){return new Za(this.row,this.col,Ka(Qa,this))}toObject(){return{row:this.row,col:this.col}}}var el=Za;function tl(e,t,n){nl(e,t),t.set(e,n)}function nl(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rl(e,t,n){return(t=il(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function il(e){var t=ol(e,"string");return"symbol"==typeof t?t:t+""}function ol(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function sl(e,t){return e.get(ll(e,t))}function al(e,t,n){return e.set(ll(e,t),n),n}function ll(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var ul=new WeakMap;class cl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];rl(this,"highlight",null),rl(this,"from",null),rl(this,"to",null),tl(this,ul,!1),this.highlight=e.clone(),this.from=t.clone(),this.to=n.clone(),al(ul,this,r)}setHighlight(e){return this.highlight=e.clone(),this}setFrom(e){return this.from=e.clone(),this}setTo(e){return this.to=e.clone(),this}isValid(e){return this.from.isValid(e)&&this.to.isValid(e)}isSingle(){return this.isSingleCell()||this.isSingleHeader()}isSingleCell(){return this.from.row>=0&&this.from.row===this.to.row&&this.from.col>=0&&this.from.col===this.to.col}isSingleHeader(){return(this.from.row<0||this.from.col<0)&&this.from.row===this.to.row&&this.from.col===this.to.col}isHeader(){return!(!this.from.isHeader()||!this.to.isHeader())||(this.from.col<0&&this.to.col<0||this.from.row<0&&this.to.row<0)}containsHeaders(){return this.from.isHeader()||this.to.isHeader()}getOuterHeight(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}getOuterWidth(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}getHeight(){if(this.from.row<0&&this.to.row<0)return 0;const e=Math.max(this.from.row,0),t=Math.max(this.to.row,0);return Math.max(e,t)-Math.min(e,t)+1}getWidth(){if(this.from.col<0&&this.to.col<0)return 0;const e=Math.max(this.from.col,0),t=Math.max(this.to.col,0);return Math.max(e,t)-Math.min(e,t)+1}getCellsCount(){return this.getWidth()*this.getHeight()}includes(e){const{row:t,col:n}=e,r=this.getOuterTopStartCorner(),i=this.getOuterBottomEndCorner();return r.row<=t&&i.row>=t&&r.col<=n&&i.col>=n}includesRange(e){return this.includes(e.getOuterTopStartCorner())&&this.includes(e.getOuterBottomEndCorner())}isEqual(e){return Math.min(this.from.row,this.to.row)===Math.min(e.from.row,e.to.row)&&Math.max(this.from.row,this.to.row)===Math.max(e.from.row,e.to.row)&&Math.min(this.from.col,this.to.col)===Math.min(e.from.col,e.to.col)&&Math.max(this.from.col,this.to.col)===Math.max(e.from.col,e.to.col)}overlaps(e){return e.isSouthEastOf(this.getOuterTopLeftCorner())&&e.isNorthWestOf(this.getOuterBottomRightCorner())}isSouthEastOf(e){return this.getOuterTopLeftCorner().isSouthEastOf(e)||this.getOuterBottomRightCorner().isSouthEastOf(e)}isNorthWestOf(e){return this.getOuterTopLeftCorner().isNorthWestOf(e)||this.getOuterBottomRightCorner().isNorthWestOf(e)}isOverlappingHorizontally(e){return this.getOuterTopEndCorner().col>=e.getOuterTopStartCorner().col&&this.getOuterTopEndCorner().col<=e.getOuterTopEndCorner().col||this.getOuterTopStartCorner().col<=e.getOuterTopEndCorner().col&&this.getOuterTopStartCorner().col>=e.getOuterTopStartCorner().col}isOverlappingVertically(e){return this.getOuterBottomStartCorner().row>=e.getOuterTopRightCorner().row&&this.getOuterBottomStartCorner().row<=e.getOuterBottomStartCorner().row||this.getOuterTopEndCorner().row<=e.getOuterBottomStartCorner().row&&this.getOuterTopEndCorner().row>=e.getOuterTopRightCorner().row}expand(e){const t=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();return(e.row<t.row||e.col<t.col||e.row>n.row||e.col>n.col)&&(this.from=this._createCellCoords(Math.min(t.row,e.row),Math.min(t.col,e.col)),this.to=this._createCellCoords(Math.max(n.row,e.row),Math.max(n.col,e.col)),!0)}expandByRange(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.includesRange(e)||!this.overlaps(e))return!1;const n=this.getOuterTopStartCorner(),r=this.getOuterBottomEndCorner(),i=this.getDirection(),o=e.getOuterTopStartCorner(),s=e.getOuterBottomEndCorner(),a=Math.min(n.row,o.row),l=Math.min(n.col,o.col),u=Math.max(r.row,s.row),c=Math.max(r.col,s.col),h=this._createCellCoords(a,l),d=this._createCellCoords(u,c);return this.from=h,this.to=d,this.setDirection(i),t&&(this.highlight.row===this.getOuterBottomRightCorner().row&&"N-S"===this.getVerticalDirection()&&this.flipDirectionVertically(),this.highlight.col===this.getOuterTopRightCorner().col&&"W-E"===this.getHorizontalDirection()&&this.flipDirectionHorizontally()),!0}getDirection(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}setDirection(e){switch(e){case"NW-SE":[this.from,this.to]=[this.getOuterTopLeftCorner(),this.getOuterBottomRightCorner()];break;case"NE-SW":[this.from,this.to]=[this.getOuterTopRightCorner(),this.getOuterBottomLeftCorner()];break;case"SE-NW":[this.from,this.to]=[this.getOuterBottomRightCorner(),this.getOuterTopLeftCorner()];break;case"SW-NE":[this.from,this.to]=[this.getOuterBottomLeftCorner(),this.getOuterTopRightCorner()];break;default:break}}getVerticalDirection(){return["NE-SW","NW-SE"].indexOf(this.getDirection())>-1?"N-S":"S-N"}getHorizontalDirection(){return["NW-SE","SW-NE"].indexOf(this.getDirection())>-1?"W-E":"E-W"}flipDirectionVertically(){const e=this.getDirection();switch(e){case"NW-SE":this.setDirection("SW-NE");break;case"NE-SW":this.setDirection("SE-NW");break;case"SE-NW":this.setDirection("NE-SW");break;case"SW-NE":this.setDirection("NW-SE");break;default:break}}flipDirectionHorizontally(){const e=this.getDirection();switch(e){case"NW-SE":this.setDirection("NE-SW");break;case"NE-SW":this.setDirection("NW-SE");break;case"SE-NW":this.setDirection("SW-NE");break;case"SW-NE":this.setDirection("SE-NW");break;default:break}}getTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getTopLeftCorner(){return sl(ul,this)?this.getTopEndCorner():this.getTopStartCorner()}getBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getBottomRightCorner(){return sl(ul,this)?this.getBottomStartCorner():this.getBottomEndCorner()}getTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col)).normalize()}getTopRightCorner(){return sl(ul,this)?this.getTopStartCorner():this.getTopEndCorner()}getBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col)).normalize()}getBottomLeftCorner(){return sl(ul,this)?this.getBottomEndCorner():this.getBottomStartCorner()}getOuterTopStartCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterTopLeftCorner(){return sl(ul,this)?this.getOuterTopEndCorner():this.getOuterTopStartCorner()}getOuterBottomEndCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterBottomRightCorner(){return sl(ul,this)?this.getOuterBottomStartCorner():this.getOuterBottomEndCorner()}getOuterTopEndCorner(){return this._createCellCoords(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}getOuterTopRightCorner(){return sl(ul,this)?this.getOuterTopStartCorner():this.getOuterTopEndCorner()}getOuterBottomStartCorner(){return this._createCellCoords(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}getOuterBottomLeftCorner(){return sl(ul,this)?this.getOuterBottomEndCorner():this.getOuterBottomStartCorner()}isCorner(e){return e.isEqual(this.getOuterTopLeftCorner())||e.isEqual(this.getOuterTopRightCorner())||e.isEqual(this.getOuterBottomLeftCorner())||e.isEqual(this.getOuterBottomRightCorner())}getOppositeCorner(e){return e instanceof el&&(e.isEqual(this.getOuterBottomEndCorner())?this.getOuterTopStartCorner():e.isEqual(this.getOuterTopStartCorner())?this.getOuterBottomEndCorner():e.isEqual(this.getOuterTopEndCorner())?this.getOuterBottomStartCorner():e.isEqual(this.getOuterBottomStartCorner())?this.getOuterTopEndCorner():void 0)}getBordersSharedWith(e){if(!this.includesRange(e))return[];const t={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(e.from.row,e.to.row),bottom:Math.max(e.from.row,e.to.row),left:Math.min(e.from.col,e.to.col),right:Math.max(e.from.col,e.to.col)},r=[];return t.top===n.top&&r.push("top"),t.right===n.right&&r.push(sl(ul,this)?"left":"right"),t.bottom===n.bottom&&r.push("bottom"),t.left===n.left&&r.push(sl(ul,this)?"right":"left"),r}getInner(){const e=this.getOuterTopStartCorner(),t=this.getOuterBottomEndCorner(),n=[];for(let r=e.row;r<=t.row;r++)for(let i=e.col;i<=t.col;i++)this.from.row===r&&this.from.col===i||this.to.row===r&&this.to.col===i||n.push(this._createCellCoords(r,i));return n}getAll(){const e=this.getOuterTopStartCorner(),t=this.getOuterBottomEndCorner(),n=[];for(let r=e.row;r<=t.row;r++)for(let i=e.col;i<=t.col;i++)e.row===r&&e.col===i?n.push(e):t.row===r&&t.col===i?n.push(t):n.push(this._createCellCoords(r,i));return n}forAll(e){const t=this.getOuterTopStartCorner(),n=this.getOuterBottomEndCorner();for(let r=t.row;r<=n.row;r++)for(let i=t.col;i<=n.col;i++){const t=e(r,i);if(!1===t)return}}clone(){return new cl(this.highlight,this.from,this.to,sl(ul,this))}toObject(){return{from:this.from.toObject(),to:this.to.toObject()}}_createCellCoords(e,t){return new el(e,t,sl(ul,this))}}var hl=cl;function dl(e,t,n){return(t=fl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fl(e){var t=pl(e,"string");return"symbol"==typeof t?t:t+""}function pl(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class ml{get eventManager(){return new Wr(this)}constructor(e,t){dl(this,"wtTable",void 0),dl(this,"wtScroll",void 0),dl(this,"wtViewport",void 0),dl(this,"wtOverlays",void 0),dl(this,"selectionManager",void 0),dl(this,"wtEvent",void 0),dl(this,"guid",`wt_${ie()}`),dl(this,"drawInterrupted",!1),dl(this,"drawn",!1),dl(this,"domBindings",void 0),dl(this,"wtSettings",void 0),this.domBindings={rootTable:e,rootDocument:e.ownerDocument,rootWindow:e.ownerDocument.defaultView},this.wtSettings=t,this.wtScroll=new Va(this.createScrollDao())}findOriginalHeaders(){const e=[];if(this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(let t=0,n=this.wtTable.THEAD.childNodes[0].childNodes.length;t<n;t++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[t].innerHTML);this.wtSettings.getSetting("columnHeaders").length||this.wtSettings.update("columnHeaders",[function(t,n){gt(n,e[t])}])}}createCellCoords(e,t){return new el(e,t,this.wtSettings.getSetting("rtlMode"))}createCellRange(e,t,n){return new hl(e,t,n,this.wtSettings.getSetting("rtlMode"))}draw(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,this.wtTable.isVisible()?this.wtTable.draw(e):this.drawInterrupted=!0,this}getCell(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return this.wtTable.getCell(e);const n=this.wtSettings.getSetting("totalRows"),r=this.wtSettings.getSetting("fixedRowsTop"),i=this.wtSettings.getSetting("fixedRowsBottom"),o=this.wtSettings.getSetting("fixedColumnsStart");if(e.row<r&&e.col<o)return this.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.getCell(e);if(e.row<r)return this.wtOverlays.topOverlay.clone.wtTable.getCell(e);if(e.col<o&&e.row>=n-i){if(this.wtOverlays.bottomInlineStartCornerOverlay&&this.wtOverlays.bottomInlineStartCornerOverlay.clone)return this.wtOverlays.bottomInlineStartCornerOverlay.clone.wtTable.getCell(e)}else{if(e.col<o)return this.wtOverlays.inlineStartOverlay.clone.wtTable.getCell(e);if(e.row<n&&e.row>=n-i&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(e)}return this.wtTable.getCell(e)}scrollViewport(e,t,n,r,i){return!(e.col<0||e.row<0)&&this.wtScroll.scrollViewport(e,t,n,r,i)}scrollViewportHorizontally(e,t,n){return!(e<0)&&this.wtScroll.scrollViewportHorizontally(e,t,n)}scrollViewportVertically(e,t,n){return!(e<0)&&this.wtScroll.scrollViewportVertically(e,t,n)}getViewport(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}destroy(){this.wtOverlays.destroy(),this.wtEvent.destroy()}createScrollDao(){const e=this;return{get drawn(){return e.drawn},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get wtTable(){return e.wtTable},get wtViewport(){return e.wtViewport},get wtSettings(){return e.wtSettings},get rootWindow(){return e.domBindings.rootWindow},get totalRows(){return e.wtSettings.getSetting("totalRows")},get totalColumns(){return e.wtSettings.getSetting("totalColumns")},get fixedRowsTop(){return e.wtSettings.getSetting("fixedRowsTop")},get fixedRowsBottom(){return e.wtSettings.getSetting("fixedRowsBottom")},get fixedColumnsStart(){return e.wtSettings.getSetting("fixedColumnsStart")}}}getTableDao(){const e=this;return{get wot(){return e},get parentTableOffset(){return e.cloneSource.wtTable.tableOffset},get cloneSource(){return e.cloneSource},get workspaceWidth(){return e.wtViewport.getWorkspaceWidth()},get wtViewport(){return e.wtViewport},get wtOverlays(){return e.wtOverlays},get selectionManager(){return e.selectionManager},get drawn(){return e.drawn},set drawn(t){e.drawn=t},get wtTable(){return e.wtTable},get startColumnRendered(){return e.wtViewport.columnsRenderCalculator.startColumn},get startColumnVisible(){return e.wtViewport.columnsVisibleCalculator.startColumn},get startColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.startColumn},get endColumnRendered(){return e.wtViewport.columnsRenderCalculator.endColumn},get endColumnVisible(){return e.wtViewport.columnsVisibleCalculator.endColumn},get endColumnPartiallyVisible(){return e.wtViewport.columnsPartiallyVisibleCalculator.endColumn},get countColumnsRendered(){return e.wtViewport.columnsRenderCalculator.count},get countColumnsVisible(){return e.wtViewport.columnsVisibleCalculator.count},get startRowRendered(){return e.wtViewport.rowsRenderCalculator.startRow},get startRowVisible(){return e.wtViewport.rowsVisibleCalculator.startRow},get startRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.startRow},get endRowRendered(){return e.wtViewport.rowsRenderCalculator.endRow},get endRowVisible(){return e.wtViewport.rowsVisibleCalculator.endRow},get endRowPartiallyVisible(){return e.wtViewport.rowsPartiallyVisibleCalculator.endRow},get countRowsRendered(){return e.wtViewport.rowsRenderCalculator.count},get countRowsVisible(){return e.wtViewport.rowsVisibleCalculator.count},get columnHeaders(){return e.wtSettings.getSetting("columnHeaders")},get rowHeaders(){return e.wtSettings.getSetting("rowHeaders")}}}}function gl(e,t,n){return(t=vl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vl(e){var t=yl(e,"string");return"symbol"==typeof t?t:t+""}function yl(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class bl extends ml{constructor(e,t,n){super(e,t),gl(this,"cloneSource",void 0),gl(this,"cloneOverlay",void 0);const r=this.wtSettings.getSetting("facade",this);this.cloneSource=n.source,this.cloneOverlay=n.overlay,this.wtTable=this.cloneOverlay.createTable(this.getTableDao(),r,this.domBindings,this.wtSettings),this.wtViewport=n.viewport,this.selectionManager=n.selectionManager,this.wtEvent=new Oo(r,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager,n.event),this.findOriginalHeaders()}}function wl(e,t,n){return(t=_l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _l(e){var t=El(e,"string");return"symbol"==typeof t?t:t+""}function El(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Sl{constructor(e,t,n,r,i){wl(this,"wtSettings",null),En(this,"wot",e,{writable:!1}),this.domBindings=i,this.facadeGetter=t,this.wtSettings=r;const{TABLE:o,hider:s,spreader:a,holder:l,wtRootElement:u}=this.wot.wtTable;this.instance=this.wot,this.type=n,this.mainTableScrollableElement=null,this.TABLE=o,this.hider=s,this.spreader=a,this.holder=l,this.wtRootElement=u,this.trimmingContainer=Ct(this.hider.parentNode.parentNode),this.needFullRender=this.shouldBeRendered(),this.clone=this.makeClone()}hasRenderingStateChanged(){return this.needFullRender!==this.shouldBeRendered()}updateStateOfRendering(e){"before"===e&&this.shouldBeRendered()?this.needFullRender=!0:"after"!==e||this.shouldBeRendered()||(this.needFullRender=!1)}shouldBeRendered(){return!0}updateTrimmingContainer(){this.trimmingContainer=Ct(this.hider.parentNode.parentNode)}updateMainScrollableElement(){const{wtTable:e}=this.wot,{rootWindow:t}=this.domBindings;"hidden"===t.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")?this.mainTableScrollableElement=this.wot.wtTable.holder:this.mainTableScrollableElement=St(e.TABLE)}getRelativeCellPosition(e,t,n){if(!1===this.clone.wtTable.holder.contains(e))return void dr(`The provided element is not a child of the ${this.type} overlay`);const r=this.mainTableScrollableElement===this.domBindings.rootWindow,i=n<this.wtSettings.getSetting("fixedColumnsStart"),o=t<this.wtSettings.getSetting("fixedRowsTop"),s=t>=this.wtSettings.getSetting("totalRows")-this.wtSettings.getSetting("fixedRowsBottom"),a=this.clone.wtTable.spreader,l={start:this.getRelativeStartPosition(a),top:a.offsetTop},u={start:this.getRelativeStartPosition(e),top:e.offsetTop};let c=null;return c=r?this.getRelativeCellPositionWithinWindow(o,i,u,l):this.getRelativeCellPositionWithinHolder(o,s,i,u,l),c}getRelativeStartPosition(e){return this.isRtl()?e.offsetParent.offsetWidth-e.offsetLeft-e.offsetWidth:e.offsetLeft}getRelativeCellPositionWithinWindow(e,t,n,r){const i=this.wot.wtTable.wtRootElement.getBoundingClientRect();let o=0,s=0;if(t){let e=i.left;this.isRtl()&&(e=this.domBindings.rootWindow.innerWidth-(i.left+i.width+Vt())),o=e<=0?-1*e:0}else o=r.start;if(e){const e=this.clone.wtTable.TABLE.getBoundingClientRect();s=e.top-i.top}else s=r.top;return{start:n.start+o,top:n.top+s}}getRelativeCellPositionWithinHolder(e,t,n,r,i){const o={horizontal:this.wot.wtOverlays.inlineStartOverlay.getScrollPosition(),vertical:this.wot.wtOverlays.topOverlay.getScrollPosition()};let s=0,a=0;if(n||(s=o.horizontal-i.start),t){const e=this.wot.wtTable.wtRootElement.getBoundingClientRect(),t=this.clone.wtTable.TABLE.getBoundingClientRect();a=-1*t.top+e.top}else e||(a=o.vertical-i.top);return{start:r.start-s,top:r.top-a}}makeClone(){if(-1===ya.indexOf(this.type))throw new Error(`Clone type "${this.type}" is not supported.`);const{wtTable:e,wtSettings:t}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,i=n.createElement("div"),o=n.createElement("table"),s=e.wtRootElement.parentNode;i.className=`${ba.get(this.type)} handsontable`,i.setAttribute("dir",this.isRtl()?"rtl":"ltr"),i.style.position="absolute",i.style.top=0,i.style.overflow="visible",this.isRtl()?i.style.right=0:i.style.left=0,t.getSetting("ariaTags")&&ct(i,[he()]),o.className=e.TABLE.className;const a=e.TABLE.getAttribute("role");a&&o.setAttribute("role",e.TABLE.getAttribute("role")),i.appendChild(o),s.appendChild(i);const l=this.wtSettings.getSetting("preventOverflow");return!0===l||"horizontal"===l&&this.type===fa||"vertical"===l&&this.type===ma?this.mainTableScrollableElement=r:"hidden"===r.getComputedStyle(s).getPropertyValue("overflow")?this.mainTableScrollableElement=e.holder:this.mainTableScrollableElement=St(e.TABLE),new bl(o,this.wtSettings,{source:this.wot,overlay:this,viewport:this.wot.wtViewport,event:this.wot.wtEvent,selectionManager:this.wot.selectionManager})}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.needFullRender&&this.clone.draw(e)}reset(){const e=this.clone.wtTable.holder,t=this.clone.wtTable.hider,n=e.style,r=t.style,i=e.parentNode.style;[n,r,i].forEach((e=>{e.width="",e.height=""}))}isRtl(){return this.wtSettings.getSetting("rtlMode")}destroy(){this.clone.eventManager.destroy()}}const Tl=Object.freeze({width:"6px",height:"6px",borderWidth:"1px",borderStyle:"solid",borderColor:"#FFF"});function Ml(e,t,n){return(t=Cl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cl(e){var t=Rl(e,"string");return"symbol"==typeof t?t:t+""}function Rl(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class xl extends Sl{constructor(e,t,n,r){super(e,t,fa,n,r),Ml(this,"cachedFixedRowsTop",-1),this.cachedFixedRowsTop=this.wtSettings.getSetting("fixedRowsTop")}createTable(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ka(...t)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode,{rootWindow:t}=this.domBindings,n=this.wtSettings.getSetting("preventOverflow");let r=0,i=!1;if(this.trimmingContainer!==t||n&&"vertical"===n)r=this.getScrollPosition(),qt(e);else{const{wtTable:t}=this.wot,n=t.hider.getBoundingClientRect(),o=Math.ceil(n.bottom),s=e.offsetHeight;i=o===s,r=this.getOverlayOffset(),Gt(e,"0px",`${r}px`)}const o=this.adjustHeaderBordersPosition(r,i);return this.adjustElementsSize(),o}setScrollPosition(e){const t=this.domBindings.rootWindow;let n=!1;return this.mainTableScrollableElement===t&&t.scrollY!==e?(t.scrollTo(wt(t),e),n=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,t){const n=this.wtSettings.getSetting("defaultRowHeight");let r=e,i=0;while(r<t){const e=this.wot.wtTable.getRowHeight(r);i+=void 0===e?n:e,r+=1}return i}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:t,rootWindow:n}=this.domBindings,r=Vt(t),i=this.clone.wtTable.holder.parentNode,o=i.style,s=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==n||"horizontal"===s){let t=this.wot.wtViewport.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(t-=r),t=Math.min(t,e.wtRootElement.scrollWidth),o.width=`${t}px`}else o.width="";this.clone.wtTable.holder.style.width=o.width;let a=Lt(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(a=0),o.height=`${a}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,t=this.wot.selectionManager.getFocusSelection()?parseInt(Tl.height,10)/2:0;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=`${parseInt(e.parentNode.style.height,10)+t}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if("number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else{if(0!==e)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:t}=this.clone.wtTable;"number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?t.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:t.style[e]=""}scrollTo(e,t){const{wot:n,wtSettings:r}=this,i=n.cloneSource?n.cloneSource:n,o=i.wtTable.holder,s=r.getSetting("columnHeaders"),a=r.getSetting("fixedRowsTop"),l=0===a&&s.length>0&&!at(o.parentNode,"innerBorderTop")?1:0;let u=this.getTableParentOffset(),c=0;if(t){const n=this.wot.wtTable.getRowHeight(e),r=this.wot.wtViewport.getViewportHeight();n>r&&(t=!1)}if(t&&o.offsetHeight!==o.clientHeight&&(c=Vt(this.domBindings.rootDocument)),t){const t=r.getSetting("fixedRowsBottom"),i=r.getSetting("totalRows");u+=this.sumCellSizes(0,e+1),u-=n.wtViewport.getViewportHeight()-this.sumCellSizes(i-t,i),u+=1,u+=l}else u+=this.sumCellSizes(r.getSetting("fixedRowsTop"),e);return u+=c,Tt(this.mainTableScrollableElement)===u-l&&l>0&&this.wot.wtOverlays.expandHiderVerticallyBy(l),this.setScrollPosition(u)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return _t(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,t=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===e&&(!t||"vertical"!==t)){const e=this.wot.wtTable.getTotalHeight(),t=this.clone.wtTable.getTotalHeight(),r=e-t;n=Math.max(this.getScrollPosition()-this.getTableParentOffset(),0),n>r&&(n=0)}return n}adjustHeaderBordersPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{wtSettings:n}=this,r=this.wot.wtTable.holder.parentNode,i=n.getSetting("totalColumns"),o="horizontal"===n.getSetting("preventOverflow");i?ut(r,"emptyColumns"):lt(r,"emptyColumns");let s=!1;if(!t&&!o){const t=n.getSetting("fixedRowsTop"),i=this.cachedFixedRowsTop!==t,o=n.getSetting("columnHeaders");if((i||0===t)&&o.length>0){const t=at(r,"innerBorderTop");this.cachedFixedRowsTop=n.getSetting("fixedRowsTop"),e||0===n.getSetting("totalRows")?(lt(r,"innerBorderTop"),s=!t):(ut(r,"innerBorderTop"),s=t)}}return s}}const Al="stickyRowsBottom",Nl={getFirstRenderedRow(){const e=this.wtSettings.getSetting("totalRows"),t=this.wtSettings.getSetting("fixedRowsBottom"),n=e-t;return 0===e||0===t?-1:n<0?0:n},getFirstVisibleRow(){return this.getFirstRenderedRow()},getFirstPartiallyVisibleRow(){return this.getFirstRenderedRow()},getLastRenderedRow(){return this.wtSettings.getSetting("totalRows")-1},getLastVisibleRow(){return this.getLastRenderedRow()},getLastPartiallyVisibleRow(){return this.getLastRenderedRow()},getRenderedRowsCount(){const e=this.wtSettings.getSetting("totalRows");return Math.min(this.wtSettings.getSetting("fixedRowsBottom"),e)},getVisibleRowsCount(){return this.getRenderedRowsCount()},getColumnHeadersCount(){return 0}};En(Nl,"MIXIN_NAME",Al,{writable:!1,enumerable:!1});var Ll=Nl;class kl extends Ta{constructor(e,t,n,r){super(e,t,n,r,pa)}}bn(kl,Ll),bn(kl,Na);var Ol=kl;function Il(e,t,n){return(t=Pl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pl(e){var t=Dl(e,"string");return"symbol"==typeof t?t:t+""}function Dl(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Fl extends Sl{constructor(e,t,n,r){super(e,t,pa,n,r),Il(this,"cachedFixedRowsBottom",-1),this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom")}createTable(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ol(...t)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")}resetFixedPosition(){if(!this.needFullRender||!this.shouldBeRendered()||!this.wot.wtTable.holder.parentNode)return!1;const{rootWindow:e}=this.domBindings,t=this.clone.wtTable.holder.parentNode;t.style.top="";let n=0;const r=this.wtSettings.getSetting("preventOverflow");this.trimmingContainer!==e||r&&"vertical"===r?(n=this.getScrollPosition(),this.repositionOverlay()):(n=this.getOverlayOffset(),t.style.bottom=`${n}px`);const i=this.adjustHeaderBordersPosition(n);return this.adjustElementsSize(),i}repositionOverlay(){const{wtTable:e,wtViewport:t}=this.wot,{rootDocument:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode;let i=0;t.hasVerticalScroll()||(i+=t.getWorkspaceHeight()-e.getTotalHeight()),t.hasVerticalScroll()&&t.hasHorizontalScroll()&&(i+=Vt(n)),r.style.bottom=`${i}px`}setScrollPosition(e){const{rootWindow:t}=this.domBindings;let n=!1;return this.mainTableScrollableElement===t?(t.scrollTo(wt(t),e),n=!0):this.mainTableScrollableElement.scrollTop!==e&&(this.mainTableScrollableElement.scrollTop=e,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollHorizontally")}sumCellSizes(e,t){const{wtTable:n,wtSettings:r}=this.wot,i=r.getSetting("defaultRowHeight");let o=e,s=0;while(o<t){const e=n.getRowHeight(o);s+=void 0===e?i:e,o+=1}return s}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e,wtViewport:t}=this.wot,{rootDocument:n,rootWindow:r}=this.domBindings,i=Vt(n),o=this.clone.wtTable.holder.parentNode,s=o.style,a=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==r||"horizontal"===a){let n=t.getWorkspaceWidth();this.wot.wtOverlays.hasScrollbarRight&&(n-=i),n=Math.min(n,e.wtRootElement.scrollWidth),s.width=`${n}px`}else s.width="";this.clone.wtTable.holder.style.width=s.width;let l=Lt(this.clone.wtTable.TABLE);this.wot.wtTable.hasDefinedSize()||(l=0),s.height=`${l}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable;this.clone.wtTable.hider.style.width=this.hider.style.width,e.style.width=e.parentNode.style.width,e.style.height=e.parentNode.style.height}applyToDOM(){const e=this.wtSettings.getSetting("totalRows");if("number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`;else{if(0!==e)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){const e=this.isRtl()?"right":"left",{spreader:t}=this.clone.wtTable;"number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?t.style[e]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`:t.style[e]=""}scrollTo(e,t){let n=this.getTableParentOffset();const r=this.wot.cloneSource?this.wot.cloneSource:this.wot,i=r.wtTable.holder;let o=0;t&&i.offsetHeight!==i.clientHeight&&(o=Vt(this.domBindings.rootDocument)),t?(n+=this.sumCellSizes(0,e+1),n-=this.wot.wtViewport.getViewportHeight(),n+=1):n+=this.sumCellSizes(this.wtSettings.getSetting("fixedRowsBottom"),e),n+=o,this.setScrollPosition(n)}getTableParentOffset(){return this.mainTableScrollableElement===this.domBindings.rootWindow?this.wot.wtTable.holderOffset.top:0}getScrollPosition(){return _t(this.mainTableScrollableElement,this.domBindings.rootWindow)}getOverlayOffset(){const{rootWindow:e}=this.domBindings,t=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===e&&(!t||"vertical"!==t)){const e=this.wot.wtTable.getTotalHeight(),t=this.clone.wtTable.getTotalHeight(),r=e-t,i=this.domBindings.rootDocument.documentElement.clientHeight;n=Math.max(this.getTableParentOffset()-this.getScrollPosition()-i+e,0),n>r&&(n=0)}return n}adjustHeaderBordersPosition(e){const t=this.wtSettings.getSetting("fixedRowsBottom"),n=this.cachedFixedRowsBottom!==t,r=this.wtSettings.getSetting("columnHeaders");let i=!1;if((n||0===t)&&r.length>0){const t=this.wot.wtTable.holder.parentNode,n=at(t,"innerBorderBottom");this.cachedFixedRowsBottom=this.wtSettings.getSetting("fixedRowsBottom"),e||0===this.wtSettings.getSetting("totalRows")?(lt(t,"innerBorderBottom"),i=!n):(ut(t,"innerBorderBottom"),i=n)}return i}}const Hl="calculatedRows",Ul={getFirstRenderedRow(){const e=this.dataAccessObject.startRowRendered;return null===e?-1:e},getFirstVisibleRow(){const e=this.dataAccessObject.startRowVisible;return null===e?-1:e},getFirstPartiallyVisibleRow(){const e=this.dataAccessObject.startRowPartiallyVisible;return null===e?-1:e},getLastRenderedRow(){const e=this.dataAccessObject.endRowRendered;return null===e?-1:e},getLastVisibleRow(){const e=this.dataAccessObject.endRowVisible;return null===e?-1:e},getLastPartiallyVisibleRow(){const e=this.dataAccessObject.endRowPartiallyVisible;return null===e?-1:e},getRenderedRowsCount(){return this.dataAccessObject.countRowsRendered},getVisibleRowsCount(){return this.dataAccessObject.countRowsVisible},getColumnHeadersCount(){return this.dataAccessObject.columnHeaders.length}};En(Ul,"MIXIN_NAME",Hl,{writable:!1,enumerable:!1});var Bl=Ul;const jl="stickyColumnsStart",Yl={getFirstRenderedColumn(){const e=this.wtSettings.getSetting("totalColumns");return 0===e?-1:0},getFirstVisibleColumn(){return this.getFirstRenderedColumn()},getFirstPartiallyVisibleColumn(){return this.getFirstRenderedColumn()},getLastRenderedColumn(){return this.getRenderedColumnsCount()-1},getLastVisibleColumn(){return this.getLastRenderedColumn()},getLastPartiallyVisibleColumn(){return this.getLastRenderedColumn()},getRenderedColumnsCount(){const e=this.wtSettings.getSetting("totalColumns");return Math.min(this.wtSettings.getSetting("fixedColumnsStart"),e)},getVisibleColumnsCount(){return this.getRenderedColumnsCount()},getRowHeadersCount(){return this.dataAccessObject.rowHeaders.length}};En(Yl,"MIXIN_NAME",jl,{writable:!1,enumerable:!1});var Vl=Yl;class Wl extends Ta{constructor(e,t,n,r){super(e,t,n,r,ma)}}bn(Wl,Bl),bn(Wl,Vl);var zl=Wl;class Gl extends Sl{constructor(e,t,n,r){super(e,t,ma,n,r)}createTable(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zl(...t)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wtTable:e}=this.wot;if(!this.needFullRender||!this.shouldBeRendered()||!e.holder.parentNode)return!1;const{rootWindow:t}=this.domBindings,n=this.clone.wtTable.holder.parentNode,r=this.wtSettings.getSetting("preventOverflow");let i=0;this.trimmingContainer!==t||r&&"horizontal"===r?(i=this.getScrollPosition(),qt(n)):(i=this.getOverlayOffset()*(this.isRtl()?-1:1),Gt(n,`${i}px`,"0px"));const o=this.adjustHeaderBordersPosition(i);return this.adjustElementsSize(),o}setScrollPosition(e){const{rootWindow:t}=this.domBindings;let n=!1;return this.isRtl()&&(e=-e),this.mainTableScrollableElement===t&&t.scrollX!==e?(t.scrollTo(e,bt(t)),n=!0):this.mainTableScrollableElement.scrollLeft!==e&&(this.mainTableScrollableElement.scrollLeft=e,n=!0),n}onScroll(){this.wtSettings.getSetting("onScrollVertically")}sumCellSizes(e,t){const n=this.wtSettings.getSetting("defaultColumnWidth");let r=e,i=0;while(r<t)i+=this.wot.wtTable.getStretchedColumnWidth(r)||n,r+=1;return i}adjustElementsSize(){this.updateTrimmingContainer(),this.needFullRender&&(this.adjustRootElementSize(),this.adjustRootChildrenSize())}adjustRootElementSize(){const{wtTable:e}=this.wot,{rootDocument:t,rootWindow:n}=this.domBindings,r=Vt(t),i=this.clone.wtTable.holder.parentNode,o=i.style,s=this.wtSettings.getSetting("preventOverflow");if(this.trimmingContainer!==n||"vertical"===s){let t=this.wot.wtViewport.getWorkspaceHeight();this.wot.wtOverlays.hasScrollbarBottom&&(t-=r),t=Math.min(t,e.wtRootElement.scrollHeight),o.height=`${t}px`}else o.height="";this.clone.wtTable.holder.style.height=o.height;const a=Nt(this.clone.wtTable.TABLE);o.width=`${a}px`}adjustRootChildrenSize(){const{holder:e}=this.clone.wtTable,t=this.wot.selectionManager.getFocusSelection()?parseInt(Tl.width,10)/2:0;this.clone.wtTable.hider.style.height=this.hider.style.height,e.style.height=e.parentNode.style.height,e.style.width=`${parseInt(e.parentNode.style.width,10)+t}px`}applyToDOM(){const e=this.wtSettings.getSetting("totalColumns"),t=this.isRtl()?"right":"left";if("number"===typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style[t]=`${this.wot.wtViewport.columnsRenderCalculator.startPosition}px`;else{if(0!==e)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style[t]="0"}this.isRtl()?this.spreader.style.left="":this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}syncOverlayOffset(){"number"===typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=`${this.wot.wtViewport.rowsRenderCalculator.startPosition}px`:this.clone.wtTable.spreader.style.top=""}scrollTo(e,t){const{wtSettings:n}=this,r=n.getSetting("rowHeaders"),i=n.getSetting("fixedColumnsStart"),o=this.wot.cloneSource?this.wot.cloneSource:this.wot,s=o.wtTable.holder,a=0===i&&r.length>0&&!at(s.parentNode,"innerBorderInlineStart")?1:0;let l=this.getTableParentOffset(),u=0;if(t){const n=this.wot.wtTable.getColumnWidth(e),r=this.wot.wtViewport.getViewportWidth();n>r&&(t=!1)}return t&&s.offsetWidth!==s.clientWidth&&(u=Vt(this.domBindings.rootDocument)),t?(l+=this.sumCellSizes(0,e+1),l-=this.wot.wtViewport.getViewportWidth(),l+=a):l+=this.sumCellSizes(this.wtSettings.getSetting("fixedColumnsStart"),e),l+=u,Mt(this.mainTableScrollableElement)===l-a&&a>0&&this.wot.wtOverlays.expandHiderHorizontallyBy(a),this.setScrollPosition(l)}getTableParentOffset(){const e=this.wtSettings.getSetting("preventOverflow");let t=0;return e||this.trimmingContainer!==this.domBindings.rootWindow||(t=this.wot.wtTable.holderOffset.left),t}getScrollPosition(){return Math.abs(Et(this.mainTableScrollableElement,this.domBindings.rootWindow))}getOverlayOffset(){const{rootWindow:e}=this.domBindings,t=this.wtSettings.getSetting("preventOverflow");let n=0;if(this.trimmingContainer===e&&(!t||"horizontal"!==t)){n=this.isRtl()?Math.abs(Math.min(this.getTableParentOffset()-this.getScrollPosition(),0)):Math.max(this.getScrollPosition()-this.getTableParentOffset(),0);const e=this.wot.wtTable.getTotalWidth(),t=this.clone.wtTable.getTotalWidth(),r=e-t;n>r&&(n=0)}return n}adjustHeaderBordersPosition(e){const{wtSettings:t}=this,n=this.wot.wtTable.holder.parentNode,r=t.getSetting("rowHeaders"),i=t.getSetting("fixedColumnsStart"),o=t.getSetting("totalRows"),s="vertical"===t.getSetting("preventOverflow");o?ut(n,"emptyRows"):lt(n,"emptyRows");let a=!1;if(!s)if(i&&!r.length)lt(n,"innerBorderLeft innerBorderInlineStart");else if(!i&&r.length){const t=at(n,"innerBorderInlineStart");e?(lt(n,"innerBorderLeft innerBorderInlineStart"),a=!t):(ut(n,"innerBorderLeft innerBorderInlineStart"),a=t)}return a}}class $l extends Ta{constructor(e,t,n,r){super(e,t,n,r,ga)}}bn($l,Ra),bn($l,Vl);var ql=$l;function Kl(e,t,n){return(t=Xl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xl(e){var t=Jl(e,"string");return"symbol"==typeof t?t:t+""}function Jl(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Ql extends Sl{constructor(e,t,n,r,i,o){super(e,t,ga,n,r),Kl(this,"topOverlay",void 0),Kl(this,"inlineStartOverlay",void 0),this.topOverlay=i,this.inlineStartOverlay=o}createTable(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ql(...t)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderTopOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){if(this.updateTrimmingContainer(),!this.wot.wtTable.holder.parentNode)return!1;const e=this.clone.wtTable.holder.parentNode;if(this.trimmingContainer===this.domBindings.rootWindow){const t=this.inlineStartOverlay.getOverlayOffset()*(this.isRtl()?-1:1),n=this.topOverlay.getOverlayOffset();Gt(e,`${t}px`,`${n}px`)}else qt(e);let t=Lt(this.clone.wtTable.TABLE);const n=Nt(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(t=0),e.style.height=`${t}px`,e.style.width=`${n}px`,!1}}class Zl extends Ta{constructor(e,t,n,r){super(e,t,n,r,va)}}bn(Zl,Ll),bn(Zl,Vl);var eu=Zl;class tu extends Sl{constructor(e,t,n,r,i,o){super(e,t,va,n,r),this.bottomOverlay=i,this.inlineStartOverlay=o}createTable(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eu(...t)}shouldBeRendered(){return this.wtSettings.getSetting("shouldRenderBottomOverlay")&&this.wtSettings.getSetting("shouldRenderInlineStartOverlay")}resetFixedPosition(){const{wot:e}=this;if(this.updateTrimmingContainer(),!e.wtTable.holder.parentNode)return!1;const t=this.clone.wtTable.holder.parentNode;if(t.style.top="",this.trimmingContainer===this.domBindings.rootWindow){const e=this.inlineStartOverlay.getOverlayOffset(),n=this.bottomOverlay.getOverlayOffset();t.style[this.isRtl()?"right":"left"]=`${e}px`,t.style.bottom=`${n}px`}else qt(t),this.repositionOverlay();let n=Lt(this.clone.wtTable.TABLE);const r=Nt(this.clone.wtTable.TABLE);return this.wot.wtTable.hasDefinedSize()||(n=0),t.style.height=`${n}px`,t.style.width=`${r}px`,!1}repositionOverlay(){const{wtTable:e,wtViewport:t}=this.wot,{rootDocument:n}=this.domBindings,r=this.clone.wtTable.holder.parentNode;let i=0;t.hasVerticalScroll()||(i+=t.getWorkspaceHeight()-e.getTotalHeight()),t.hasVerticalScroll()&&t.hasHorizontalScroll()&&(i+=Vt(n)),r.style.bottom=`${i}px`}}function nu(e,t,n){ru(e,t),t.set(e,n)}function ru(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iu(e,t,n){return(t=ou(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ou(e){var t=su(e,"string");return"symbol"==typeof t?t:t+""}function su(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function au(e,t,n){return e.set(uu(e,t),n),n}function lu(e,t){return e.get(uu(e,t))}function uu(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var cu=new WeakMap,hu=new WeakMap,du=new WeakMap,fu=new WeakMap;class pu{constructor(e,t,n,r,i,o){iu(this,"wot",null),nu(this,cu,[]),iu(this,"topOverlay",null),iu(this,"bottomOverlay",null),iu(this,"inlineStartOverlay",null),iu(this,"topInlineStartCornerOverlay",null),iu(this,"bottomInlineStartCornerOverlay",null),iu(this,"browserLineHeight",void 0),iu(this,"wtSettings",null),nu(this,hu,!1),nu(this,du,0),nu(this,fu,null),iu(this,"resizeObserver",new ResizeObserver((e=>{An((()=>{Array.isArray(e)&&e.length&&(au(du,this,lu(du,this)+1),100===lu(du,this)&&(dr("The ResizeObserver callback was fired too many times in direct succession.\nThis may be due to an infinite loop caused by setting a dynamic height/width (for example, with the `dvh` units) to a Handsontable container's parent. \nThe observer will be disconnected."),this.resizeObserver.disconnect()),null!==lu(fu,this)&&clearTimeout(lu(fu,this)),au(fu,this,setTimeout((()=>{au(du,this,0)}),100)),this.wtSettings.getSetting("onContainerElementResize"))}))}))),this.wot=e,this.wtSettings=r,this.domBindings=n,this.facadeGetter=t,this.wtTable=o;const{rootDocument:s,rootWindow:a}=this.domBindings;this.instance=this.wot,this.eventManager=i,this.scrollbarSize=Vt(s);const l="hidden"===a.getComputedStyle(o.wtRootElement.parentNode).getPropertyValue("overflow");this.scrollableElement=l?o.holder:St(o.TABLE),this.initOverlays(),this.hasScrollbarBottom=!1,this.hasScrollbarRight=!1,this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.initBrowserLineHeight(),this.registerListeners(),this.lastScrollX=a.scrollX,this.lastScrollY=a.scrollY}getOverlays(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[...lu(cu,this)];return e&&t.push(this.wtTable),t}initBrowserLineHeight(){const{rootWindow:e,rootDocument:t}=this.domBindings,n=e.getComputedStyle(t.body),r=parseInt(n.lineHeight,10),i=1.2*parseInt(n.fontSize,10);this.browserLineHeight=r||i}initOverlays(){const e=[this.wot,this.facadeGetter,this.wtSettings,this.domBindings];this.topOverlay=new xl(...e),this.bottomOverlay=new Fl(...e),this.inlineStartOverlay=new Gl(...e),this.topInlineStartCornerOverlay=new Ql(...e,this.topOverlay,this.inlineStartOverlay),this.bottomInlineStartCornerOverlay=new tu(...e,this.bottomOverlay,this.inlineStartOverlay),au(cu,this,[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay])}beforeDraw(){au(hu,this,lu(cu,this).reduce(((e,t)=>t.hasRenderingStateChanged()||e),!1)),lu(cu,this).forEach((e=>e.updateStateOfRendering("before")))}afterDraw(){this.syncScrollWithMaster(),lu(cu,this).forEach((e=>{const t=e.hasRenderingStateChanged();e.updateStateOfRendering("after"),t&&!e.needFullRender&&e.reset()}))}refreshAll(){this.wot.drawn&&(this.wtTable.holder.parentNode?(this.wot.draw(!0),this.verticalScrolling&&this.inlineStartOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1):this.destroy())}registerListeners(){const{rootDocument:e,rootWindow:t}=this.domBindings,{mainTableScrollableElement:n}=this.topOverlay,{mainTableScrollableElement:r}=this.inlineStartOverlay;this.eventManager.addEventListener(e.documentElement,"keydown",(e=>this.onKeyDown(e))),this.eventManager.addEventListener(e.documentElement,"keyup",(()=>this.onKeyUp())),this.eventManager.addEventListener(e,"visibilitychange",(()=>this.onKeyUp())),this.eventManager.addEventListener(n,"scroll",(e=>this.onTableScroll(e)),{passive:!0}),n!==r&&this.eventManager.addEventListener(r,"scroll",(e=>this.onTableScroll(e)),{passive:!0});const i=t.devicePixelRatio&&t.devicePixelRatio>1,o=this.scrollableElement===t,s=this.wtSettings.getSetting("preventWheel"),a={passive:o};(s||i||!Bn())&&this.eventManager.addEventListener(this.wtTable.wtRootElement,"wheel",(e=>this.onCloneWheel(e,s)),a);const l=[this.topOverlay,this.bottomOverlay,this.inlineStartOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let u;l.forEach((e=>{if(e&&e.needFullRender){const{holder:t}=e.clone.wtTable;this.eventManager.addEventListener(t,"wheel",(e=>this.onCloneWheel(e,s)),a)}})),this.eventManager.addEventListener(t,"resize",(()=>{clearTimeout(u),u=setTimeout((()=>{this.wtSettings.getSetting("onWindowResize"),au(du,this,0)}),200)})),o||this.resizeObserver.observe(this.wtTable.wtRootElement.parentElement)}deregisterListeners(){this.eventManager.clearEvents(!0)}onTableScroll(e){const t=this.domBindings.rootWindow,n=this.inlineStartOverlay.mainTableScrollableElement,r=this.topOverlay.mainTableScrollableElement,i=e.target;this.keyPressed&&(r!==t&&i!==t&&!e.target.contains(r)||n!==t&&i!==t&&!e.target.contains(n))||this.syncScrollPositions(e)}onCloneWheel(e,t){const{rootWindow:n}=this.domBindings,r=this.inlineStartOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,o=e.target,s=i!==n&&o!==n&&!o.contains(i),a=r!==n&&o!==n&&!o.contains(r);if(this.keyPressed&&(s||a)||this.scrollableElement===n)return;const l=this.translateMouseWheelToScroll(e);(t||this.scrollableElement!==n&&l)&&e.preventDefault()}onKeyDown(e){this.keyPressed=or(e.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}onKeyUp(){this.keyPressed=!1}translateMouseWheelToScroll(e){let t=isNaN(e.deltaY)?-1*e.wheelDeltaY:e.deltaY,n=isNaN(e.deltaX)?-1*e.wheelDeltaX:e.deltaX;1===e.deltaMode&&(n+=n*this.browserLineHeight,t+=t*this.browserLineHeight);const r=this.scrollVertically(t),i=this.scrollHorizontally(n);return r||i}scrollVertically(e){const t=this.scrollableElement.scrollTop;return this.scrollableElement.scrollTop+=e,t!==this.scrollableElement.scrollTop}scrollHorizontally(e){const t=this.scrollableElement.scrollLeft;return this.scrollableElement.scrollLeft+=e,t!==this.scrollableElement.scrollLeft}syncScrollPositions(){if(this.destroyed)return;const{rootWindow:e}=this.domBindings,t=this.topOverlay.clone.wtTable.holder,n=this.inlineStartOverlay.clone.wtTable.holder,[r,i]=[this.scrollableElement.scrollLeft,this.scrollableElement.scrollTop];if(this.horizontalScrolling=t.scrollLeft!==r||this.lastScrollX!==e.scrollX,this.verticalScrolling=n.scrollTop!==i||this.lastScrollY!==e.scrollY,this.lastScrollX=e.scrollX,this.lastScrollY=e.scrollY,this.horizontalScrolling){t.scrollLeft=r;const e=this.bottomOverlay.needFullRender?this.bottomOverlay.clone.wtTable.holder:null;e&&(e.scrollLeft=r)}this.verticalScrolling&&(n.scrollTop=i),this.refreshAll()}syncScrollWithMaster(){if(!lu(hu,this))return;const e=this.topOverlay.mainTableScrollableElement,{scrollLeft:t,scrollTop:n}=e;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=t),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=t),this.inlineStartOverlay.needFullRender&&(this.inlineStartOverlay.clone.wtTable.holder.scrollTop=n),au(hu,this,!1)}updateMainScrollableElements(){this.deregisterListeners(),this.inlineStartOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement();const{wtTable:e}=this,{rootWindow:t}=this.domBindings;"hidden"===t.getComputedStyle(e.wtRootElement.parentNode).getPropertyValue("overflow")?this.scrollableElement=e.holder:this.scrollableElement=St(e.TABLE),this.registerListeners()}destroy(){this.resizeObserver.disconnect(),this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.inlineStartOverlay.destroy(),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.destroy(),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.destroy(),this.destroyed=!0}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.updateLastSpreaderSize();t&&this.adjustElementsSize(),this.bottomOverlay.clone&&this.bottomOverlay.refresh(e),this.inlineStartOverlay.refresh(e),this.topOverlay.refresh(e),this.topInlineStartCornerOverlay&&this.topInlineStartCornerOverlay.refresh(e),this.bottomInlineStartCornerOverlay&&this.bottomInlineStartCornerOverlay.clone&&this.bottomInlineStartCornerOverlay.refresh(e)}updateLastSpreaderSize(){const e=this.wtTable.spreader,t=e.clientWidth,n=e.clientHeight,r=t!==this.spreaderLastSize.width||n!==this.spreaderLastSize.height;return r&&(this.spreaderLastSize.width=t,this.spreaderLastSize.height=n),r}adjustElementsSize(){const{wtViewport:e}=this.wot,{wtTable:t}=this,{rootWindow:n}=this.domBindings,r=this.scrollableElement===n,i=this.wtSettings.getSetting("totalColumns"),o=this.wtSettings.getSetting("totalRows"),s=e.getRowHeaderWidth(),a=e.getColumnHeaderHeight(),l=a+this.topOverlay.sumCellSizes(0,o)+1,u=s+this.inlineStartOverlay.sumCellSizes(0,i),c=t.hider,h=c.style,d=()=>!r&&this.scrollableElement.scrollTop>Math.max(0,l-t.holder.clientHeight),f=()=>!r&&this.scrollableElement.scrollLeft>Math.max(0,u-t.holder.clientWidth),p=d()?1:0,m=f()?1:0;if(h.width=`${u+m}px`,h.height=`${l+p}px`,this.scrollbarSize>0){const{scrollHeight:e,scrollWidth:n}=t.wtRootElement,{scrollHeight:r,scrollWidth:i}=t.holder;this.hasScrollbarRight=e<r,this.hasScrollbarBottom=n<i,this.hasScrollbarRight&&t.hider.scrollWidth+this.scrollbarSize>n?this.hasScrollbarBottom=!0:this.hasScrollbarBottom&&t.hider.scrollHeight+this.scrollbarSize>e&&(this.hasScrollbarRight=!0)}this.topOverlay.adjustElementsSize(),this.inlineStartOverlay.adjustElementsSize(),this.bottomOverlay.adjustElementsSize()}expandHiderVerticallyBy(e){const{wtTable:t}=this;t.hider.style.height=`${parseInt(t.hider.style.height,10)+e}px`}expandHiderHorizontallyBy(e){const{wtTable:t}=this;t.hider.style.width=`${parseInt(t.hider.style.width,10)+e}px`}applyToDOM(){this.wtTable.isVisible()&&(this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.inlineStartOverlay.applyToDOM())}getParentOverlay(e){if(!e)return null;const t=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];let n=null;return C(t,(t=>{t&&t.clone&&t.clone.wtTable.TABLE.contains(e)&&(n=t.clone)})),n}syncOverlayTableClassNames(){const e=this.wtTable.TABLE,t=[this.topOverlay,this.inlineStartOverlay,this.bottomOverlay,this.topInlineStartCornerOverlay,this.bottomInlineStartCornerOverlay];C(t,(t=>{t&&(t.clone.wtTable.TABLE.className=e.className)}))}}var mu=pu;function gu(e,t,n){return(t=vu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vu(e){var t=yu(e,"string");return"symbol"==typeof t?t:t+""}function yu(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class bu{constructor(e){gu(this,"settings",{}),gu(this,"defaults",Object.freeze(this.getDefaults())),Sn(this.defaults,((t,n)=>{if(void 0!==e[n])this.settings[n]=e[n];else{if(void 0===t)throw new Error(`A required setting "${n}" was not provided`);this.settings[n]=t}}))}getDefaults(){return{facade:void 0,table:void 0,isDataViewInstance:!0,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow(){return!1},preventWheel:!1,data:void 0,freezeOverlays:!1,fixedColumnsStart:0,fixedRowsTop:0,fixedRowsBottom:0,shouldRenderInlineStartOverlay:()=>this.getSetting("fixedColumnsStart")>0||this.getSetting("rowHeaders").length>0,shouldRenderTopOverlay:()=>this.getSetting("fixedRowsTop")>0||this.getSetting("columnHeaders").length>0,shouldRenderBottomOverlay:()=>this.getSetting("fixedRowsBottom")>0,minSpareRows:0,rowHeaders(){return[]},columnHeaders(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:(e,t,n)=>{const r=this.getSetting("data",e,t);gt(n,void 0===r||null===r?"":r)},columnWidth(){},rowHeight(){},rowHeightByOverlayName(){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellContextMenu:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeRemoveCellClassNames:null,onAfterDrawSelection:null,onBeforeDrawBorders:null,onBeforeViewportScrollHorizontally:e=>e,onBeforeViewportScrollVertically:e=>e,onScrollHorizontally:null,onScrollVertically:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:e=>e,onModifyRowHeaderWidth:null,onModifyGetCellCoords:null,onBeforeHighlightingRowHeader:e=>e,onBeforeHighlightingColumnHeader:e=>e,onWindowResize:null,onContainerElementResize:null,renderAllColumns:!1,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null,rtlMode:!1,ariaTags:!0}}update(e,t){return void 0===t?Sn(e,((e,t)=>{this.settings[t]=e})):this.settings[e]=t,this}getSetting(e,t,n,r,i){return"function"===typeof this.settings[e]?this.settings[e](t,n,r,i):void 0!==t&&Array.isArray(this.settings[e])?this.settings[e][t]:this.settings[e]}getSettingPure(e){return this.settings[e]}has(e){return!!this.settings[e]}}class wu extends Ta{constructor(e,t,n,r){super(e,t,n,r,"master")}alignOverlaysWithTrimmingContainer(){const e=Ct(this.wtRootElement),{rootWindow:t}=this.domBindings;if(e===t){const e=this.wtSettings.getSetting("preventOverflow");e||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible")}else{const n=e.parentElement,r=Rt(e,"height",t),i=Rt(e,"overflow",t),o=this.holder.style,{scrollWidth:s,scrollHeight:a}=e;let l=e.offsetWidth,u=e.offsetHeight;const c=["auto","hidden","scroll"];if(n&&c.includes(i)){const r=e.cloneNode(!1);r.style.overflow="auto",r.style.position="absolute",e.nextElementSibling?n.insertBefore(r,e.nextElementSibling):n.appendChild(r);const i=parseInt(At(r,t).height,10);n.removeChild(r),0===i&&(u=0)}u=Math.min(u,a),o.height="auto"===r?"auto":`${u}px`,l=Math.min(l,s),o.width=`${l}px`,o.overflow="",this.hasTableHeight="auto"===o.height||u>0,this.hasTableWidth=l>0}this.isTableVisible=vt(this.TABLE)}markOversizedColumnHeaders(){const{wtSettings:e}=this,{wtViewport:t}=this.dataAccessObject,n="master",r=e.getSetting("columnHeaders"),i=r.length;if(i&&!t.hasOversizedColumnHeadersMarked[n]){const r=e.getSetting("rowHeaders"),o=r.length,s=this.getRenderedColumnsCount();for(let e=0;e<i;e++)for(let t=-1*o;t<s;t++)this.markIfOversizedColumnHeader(t);t.hasOversizedColumnHeadersMarked[n]=!0}}}bn(wu,Bl),bn(wu,Na);var _u=wu;function Eu(e,t,n){return(t=Su(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Su(e){var t=Tu(e,"string");return"symbol"==typeof t?t:t+""}function Tu(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Mu{constructor(){Eu(this,"count",0),Eu(this,"startRow",0),Eu(this,"endRow",0),Eu(this,"startPosition",0),Eu(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalRows:t}=e;this.count=t,this.endRow=this.count-1}process(){}finalize(){}}n(68292),n(60168);function Cu(e,t,n){return(t=Ru(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ru(e){var t=xu(e,"string");return"symbol"==typeof t?t:t+""}function xu(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Au{constructor(){Cu(this,"count",0),Cu(this,"startRow",null),Cu(this,"endRow",null),Cu(this,"startPosition",null),Cu(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,t){const{totalCalculatedHeight:n,zeroBasedScrollOffset:r,innerViewportHeight:i}=t;n<=r&&(this.startRow=e),n>=r&&n<=i&&null===this.startRow&&(this.startRow=e),this.endRow=e}finalize(e){var t;const{scrollOffset:n,viewportHeight:r,horizontalScrollbarHeight:i,totalRows:o,needReverse:s,startPositions:a,rowHeight:l}=e;if(this.endRow===o-1&&s){this.startRow=this.endRow;while(this.startRow>0){const e=a[this.endRow]+l-a[this.startRow-1];if(this.startRow-=1,e>=r-i)break}}this.startPosition=null!==(t=a[this.startRow])&&void 0!==t?t:null;const u=n+r-i;u<0||n>a.at(-1)+l?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,o<this.endRow&&(this.endRow=o-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}class Nu extends Au{finalize(e){var t;super.finalize(e);const{overrideFn:n,totalRows:r,startPositions:i}=e;null!==this.startRow&&"function"===typeof n&&n(this),this.startRow<0&&(this.startRow=0),this.startPosition=null!==(t=i[this.startRow])&&void 0!==t?t:null,r<this.endRow&&(this.endRow=r-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}function Lu(e,t,n){return(t=ku(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ku(e){var t=Ou(e,"string");return"symbol"==typeof t?t:t+""}function Ou(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Iu{constructor(){Lu(this,"count",0),Lu(this,"startRow",null),Lu(this,"endRow",null),Lu(this,"startPosition",null),Lu(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,t){const{totalCalculatedHeight:n,zeroBasedScrollOffset:r,innerViewportHeight:i,rowHeight:o}=t;n>=r&&n+o<=i&&(null===this.startRow&&(this.startRow=e),this.endRow=e)}finalize(e){var t;const{scrollOffset:n,viewportHeight:r,horizontalScrollbarHeight:i,totalRows:o,needReverse:s,startPositions:a,rowHeight:l}=e;if(this.endRow===o-1&&s){this.startRow=this.endRow;while(this.startRow>0){const e=a[this.endRow]+l-a[this.startRow-1];if(e<=r-i&&(this.startRow-=1),e>=r-i)break}}this.startPosition=null!==(t=a[this.startRow])&&void 0!==t?t:null;const u=n+r-i,c=null===this.startRow?0:e.getRowHeight(this.startRow);u<c||n>a.at(-1)?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,o<this.endRow&&(this.endRow=o-1),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}function Pu(e,t,n){return(t=Du(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Du(e){var t=Fu(e,"string");return"symbol"==typeof t?t:t+""}function Fu(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Hu{constructor(){Pu(this,"count",0),Pu(this,"startColumn",0),Pu(this,"endColumn",0),Pu(this,"startPosition",0),Pu(this,"isVisibleInTrimmingContainer",!0)}initialize(e){let{totalColumns:t}=e;this.count=t,this.endColumn=this.count-1}process(){}finalize(){}}function Uu(e,t,n){return(t=Bu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bu(e){var t=ju(e,"string");return"symbol"==typeof t?t:t+""}function ju(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Yu{constructor(){Uu(this,"count",0),Uu(this,"startColumn",null),Uu(this,"endColumn",null),Uu(this,"startPosition",null),Uu(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,t){const{totalCalculatedWidth:n,zeroBasedScrollOffset:r,viewportWidth:i}=t;n<=r&&(this.startColumn=e);const o=r>0?i+1:i;n>=r&&n<=r+o&&(null!==this.startColumn&&void 0!==this.startColumn||(this.startColumn=e)),this.endColumn=e}finalize(e){var t;const{scrollOffset:n,viewportWidth:r,inlineStartOffset:i,zeroBasedScrollOffset:o,totalColumns:s,needReverse:a,startPositions:l,columnWidth:u}=e;if(this.endColumn===s-1&&a){this.startColumn=this.endColumn;while(this.startColumn>0){const e=l[this.endColumn]+u-l[this.startColumn-1];if(this.startColumn-=1,e>r)break}}this.startPosition=null!==(t=l[this.startColumn])&&void 0!==t?t:null;const c=o>0?r+1:r,h=n+r-c;h<-1*i||n>l.at(-1)+u||-1*n-r>0?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,s<this.endColumn&&(this.endColumn=s-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}}class Vu extends Yu{finalize(e){var t;super.finalize(e);const{overrideFn:n,totalColumns:r,startPositions:i}=e;null!==this.startColumn&&"function"===typeof n&&n(this),this.startColumn<0&&(this.startColumn=0),this.startPosition=null!==(t=i[this.startColumn])&&void 0!==t?t:null,r<this.endColumn&&(this.endColumn=r-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}}function Wu(e,t,n){return(t=zu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zu(e){var t=Gu(e,"string");return"symbol"==typeof t?t:t+""}function Gu(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class $u{constructor(){Wu(this,"count",0),Wu(this,"startColumn",null),Wu(this,"endColumn",null),Wu(this,"startPosition",null),Wu(this,"isVisibleInTrimmingContainer",!1)}initialize(){}process(e,t){const{totalCalculatedWidth:n,zeroBasedScrollOffset:r,viewportWidth:i,columnWidth:o}=t,s=r>0?i+1:i;n>=r&&n+o<=r+s&&(null!==this.startColumn&&void 0!==this.startColumn||(this.startColumn=e),this.endColumn=e)}finalize(e){var t;const{scrollOffset:n,viewportWidth:r,inlineStartOffset:i,zeroBasedScrollOffset:o,totalColumns:s,needReverse:a,startPositions:l,columnWidth:u}=e;if(this.endColumn===s-1&&a){this.startColumn=this.endColumn;while(this.startColumn>0){const e=l[this.endColumn]+u-l[this.startColumn-1];if(e<=r&&(this.startColumn-=1),e>=r)break}}this.startPosition=null!==(t=l[this.startColumn])&&void 0!==t?t:null;const c=o>0?r+1:r,h=n+r-c,d=null===this.startColumn?0:e.getColumnWidth(this.startColumn);h<-1*i||n>l.at(-1)||-1*n-r>-1*d?this.isVisibleInTrimmingContainer=!1:this.isVisibleInTrimmingContainer=!0,s<this.endColumn&&(this.endColumn=s-1),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}}function qu(e,t,n){return(t=Ku(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ku(e){var t=Xu(e,"string");return"symbol"==typeof t?t:t+""}function Xu(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const Ju=23;class Qu extends Us{constructor(e){let{calculationTypes:t,viewportHeight:n,scrollOffset:r,totalRows:i,rowHeightFn:o,overrideFn:s,horizontalScrollbarHeight:a}=e;super(t),qu(this,"viewportHeight",0),qu(this,"scrollOffset",0),qu(this,"zeroBasedScrollOffset",0),qu(this,"totalRows",0),qu(this,"rowHeightFn",null),qu(this,"rowHeight",0),qu(this,"overrideFn",null),qu(this,"horizontalScrollbarHeight",0),qu(this,"innerViewportHeight",0),qu(this,"totalCalculatedHeight",0),qu(this,"startPositions",[]),qu(this,"needReverse",!0),this.viewportHeight=n,this.scrollOffset=r,this.zeroBasedScrollOffset=Math.max(r,0),this.totalRows=i,this.rowHeightFn=o,this.overrideFn=s,this.horizontalScrollbarHeight=null!==a&&void 0!==a?a:0,this.innerViewportHeight=this.zeroBasedScrollOffset+this.viewportHeight-this.horizontalScrollbarHeight,this.calculate()}calculate(){this._initialize(this);for(let e=0;e<this.totalRows;e++)if(this.rowHeight=this.getRowHeight(e),this._process(e,this),this.startPositions.push(this.totalCalculatedHeight),this.totalCalculatedHeight+=this.rowHeight,this.totalCalculatedHeight>=this.innerViewportHeight){this.needReverse=!1;break}this._finalize(this)}getRowHeight(e){const t=this.rowHeightFn(e);return isNaN(t)?Ju:t}}class Zu{constructor(e,t,n,r,i){this.dataAccessObject=e,this.wot=e.wot,this.instance=this.wot,this.domBindings=t,this.wtSettings=n,this.wtTable=i,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.rowsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllRows")?new Mu:new Nu],["fullyVisible",()=>new Iu],["partiallyVisible",()=>new Au]]),this.columnsCalculatorTypes=new Map([["rendered",()=>this.wtSettings.getSetting("renderAllColumns")?new Hu:new Vu],["fullyVisible",()=>new $u],["partiallyVisible",()=>new Yu]]),this.eventManager=r,this.eventManager.addEventListener(this.domBindings.rootWindow,"resize",(()=>{this.clientHeight=this.getWorkspaceHeight()}))}getWorkspaceHeight(){const e=this.domBindings.rootDocument,t=this.dataAccessObject.topOverlayTrimmingContainer;let n=0;if(t===this.domBindings.rootWindow)n=e.documentElement.clientHeight;else{const e=Lt(t);n=e>0&&t.clientHeight>0?t.clientHeight:1/0}return n}getWorkspaceWidth(){const{wtSettings:e}=this,{rootDocument:t,rootWindow:n}=this.domBindings,r=this.dataAccessObject.inlineStartOverlayTrimmingContainer,i=t.documentElement.offsetWidth,o=e.getSetting("totalColumns"),s=e.getSetting("preventOverflow"),a=e.getSetting("rtlMode"),l=this.wtTable.TABLE.getBoundingClientRect(),u=a?l.right-i:l.left,c=i-u;let h,d;if(s)return Nt(this.wtTable.wtRootElement);if(h=e.getSetting("freezeOverlays")?Math.min(c,i):Math.min(this.getContainerFillWidth(),c,i),r===n&&o>0&&this.sumColumnWidths(0,o-1)>h)return t.documentElement.clientWidth;if(r!==n&&(d=Rt(this.dataAccessObject.inlineStartOverlayTrimmingContainer,"overflow",n),"scroll"===d||"hidden"===d||"auto"===d))return Math.max(h,r.clientWidth);const f=e.getSetting("stretchH");return"none"!==f&&f?h:Math.max(h,Nt(this.wtTable.TABLE))}hasVerticalScroll(){return this.wtTable.hider.offsetHeight>this.getWorkspaceHeight()}hasHorizontalScroll(){return this.wtTable.hider.offsetWidth>this.getWorkspaceWidth()}sumColumnWidths(e,t){let n=0,r=e;while(r<t)n+=this.wtTable.getColumnWidth(r),r+=1;return n}getContainerFillWidth(){if(this.containerWidth)return this.containerWidth;const e=this.wtTable.holder,t=this.domBindings.rootDocument.createElement("div");t.style.width="100%",t.style.height="1px",e.appendChild(t);const n=t.offsetWidth;return this.containerWidth=n,e.removeChild(t),n}getWorkspaceOffset(){return yt(this.wtTable.TABLE)}getColumnHeaderHeight(){const e=this.wtSettings.getSetting("columnHeaders");return e.length?isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=Lt(this.wtTable.THEAD)):this.columnHeaderHeight=0,this.columnHeaderHeight}getViewportHeight(){let e=this.getWorkspaceHeight();if(e===1/0)return e;const t=this.getColumnHeaderHeight();return t>0&&(e-=t),e}getRowHeaderWidth(){const e=this.wtSettings.getSetting("rowHeaderWidth"),t=this.wtSettings.getSetting("rowHeaders");if(e){this.rowHeaderWidth=0;for(let n=0,r=t.length;n<r;n++)this.rowHeaderWidth+=e[n]||e}if(isNaN(this.rowHeaderWidth))if(t.length){let e=this.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(let n=0,r=t.length;n<r;n++)e?(this.rowHeaderWidth+=Nt(e),e=e.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.wtSettings.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}getViewportWidth(){const e=this.getWorkspaceWidth();if(e===1/0)return e;const t=this.getRowHeaderWidth();return t>0?e-t:e}createRowsCalculator(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:t,wtTable:n}=this;let r,i,o=this.getViewportHeight();this.rowHeaderWidth=NaN;let s=this.dataAccessObject.topScrollPosition-this.dataAccessObject.topParentOffset;const a=t.getSetting("fixedRowsTop"),l=t.getSetting("fixedRowsBottom"),u=t.getSetting("totalRows");return a&&s>=0&&(i=this.dataAccessObject.topOverlay.sumCellSizes(0,a),s+=i,o-=i),l&&this.dataAccessObject.bottomOverlay.clone&&(i=this.dataAccessObject.bottomOverlay.sumCellSizes(u-l,u),o-=i),r=n.holder.clientHeight===n.holder.offsetHeight?0:Vt(this.domBindings.rootDocument),new Qu({calculationTypes:e.map((e=>[e,this.rowsCalculatorTypes.get(e)()])),viewportHeight:o,scrollOffset:s,totalRows:t.getSetting("totalRows"),rowHeightFn:e=>n.getRowHeight(e),overrideFn:t.getSettingPure("viewportRowCalculatorOverride"),horizontalScrollbarHeight:r})}createColumnsCalculator(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["rendered","fullyVisible","partiallyVisible"];const{wtSettings:t,wtTable:n}=this;let r=this.getViewportWidth(),i=Math.abs(this.dataAccessObject.inlineStartScrollPosition)-this.dataAccessObject.inlineStartParentOffset;this.columnHeaderHeight=NaN;const o=t.getSetting("fixedColumnsStart");if(o&&i>=0){const e=this.dataAccessObject.inlineStartOverlay.sumCellSizes(0,o);i+=e,r-=e}return n.holder.clientWidth!==n.holder.offsetWidth&&(r-=Vt(this.domBindings.rootDocument)),new Ws({calculationTypes:e.map((e=>[e,this.columnsCalculatorTypes.get(e)()])),viewportWidth:r,scrollOffset:i,totalColumns:t.getSetting("totalColumns"),columnWidthFn:e=>n.getColumnWidth(e),overrideFn:t.getSettingPure("viewportColumnCalculatorOverride"),inlineStartOffset:this.dataAccessObject.inlineStartParentOffset})}createCalculators(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{wtSettings:t}=this,n=this.createRowsCalculator(),r=this.createColumnsCalculator();if(e&&!t.getSetting("renderAllRows")){const t=n.getResultsFor("fullyVisible");e=this.areAllProposedVisibleRowsAlreadyRendered(t)}if(e&&!t.getSetting("renderAllColumns")){const t=r.getResultsFor("fullyVisible");e=this.areAllProposedVisibleColumnsAlreadyRendered(t)}return e||(this.rowsRenderCalculator=n.getResultsFor("rendered"),this.columnsRenderCalculator=r.getResultsFor("rendered")),this.rowsVisibleCalculator=n.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=r.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=n.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=r.getResultsFor("partiallyVisible"),e}createVisibleCalculators(){const e=this.createRowsCalculator(["fullyVisible","partiallyVisible"]),t=this.createColumnsCalculator(["fullyVisible","partiallyVisible"]);this.rowsVisibleCalculator=e.getResultsFor("fullyVisible"),this.columnsVisibleCalculator=t.getResultsFor("fullyVisible"),this.rowsPartiallyVisibleCalculator=e.getResultsFor("partiallyVisible"),this.columnsPartiallyVisibleCalculator=t.getResultsFor("partiallyVisible")}areAllProposedVisibleRowsAlreadyRendered(e){if(!this.rowsVisibleCalculator)return!1;let{startRow:t,endRow:n}=e;if(null===t&&null===n){if(!e.isVisibleInTrimmingContainer)return!0;t=this.rowsPartiallyVisibleCalculator.startRow,n=this.rowsPartiallyVisibleCalculator.endRow}const{startRow:r,endRow:i}=this.rowsRenderCalculator;return!(t<r||t===r&&t>0)&&!(n>i||n===i&&n<this.wtSettings.getSetting("totalRows")-1)}areAllProposedVisibleColumnsAlreadyRendered(e){if(!this.columnsVisibleCalculator)return!1;let{startColumn:t,endColumn:n}=e;if(null===t&&null===n){if(!e.isVisibleInTrimmingContainer)return!0;t=this.columnsPartiallyVisibleCalculator.startColumn,n=this.columnsPartiallyVisibleCalculator.endColumn}const{startColumn:r,endColumn:i}=this.columnsRenderCalculator;return!(t<r||t===r&&t>0)&&!(n>i||n===i&&n<this.wtSettings.getSetting("totalColumns")-1)}resetHasOversizedColumnHeadersMarked(){Sn(this.hasOversizedColumnHeadersMarked,((e,t,n)=>{n[t]=void 0}))}}var ec=Zu;n(18789);function tc(e,t){rc(e,t),t.add(e)}function nc(e,t,n){rc(e,t),t.set(e,n)}function rc(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ic(e,t){return e.get(sc(e,t))}function oc(e,t,n){return e.set(sc(e,t),n),n}function sc(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var ac=new WeakMap,lc=new WeakMap,uc=new WeakSet;class cc{constructor(){tc(this,uc),nc(this,ac,void 0),nc(this,lc,void 0)}setActiveOverlay(e){return oc(lc,this,e),this}setActiveSelection(e){return oc(ac,this,e),this}scan(){const e=ic(ac,this).settings.selectionType,t=new Set;return"active-header"===e?(this.scanColumnsInHeadersRange((e=>t.add(e))),this.scanRowsInHeadersRange((e=>t.add(e)))):"area"===e?this.scanCellsRange((e=>t.add(e))):"focus"===e?(this.scanColumnsInHeadersRange((e=>t.add(e))),this.scanRowsInHeadersRange((e=>t.add(e))),this.scanCellsRange((e=>t.add(e)))):"fill"===e?this.scanCellsRange((e=>t.add(e))):"header"===e?(this.scanColumnsInHeadersRange((e=>t.add(e))),this.scanRowsInHeadersRange((e=>t.add(e)))):"row"===e?(this.scanRowsInHeadersRange((e=>t.add(e))),this.scanRowsInCellsRange((e=>t.add(e)))):"column"===e&&(this.scanColumnsInHeadersRange((e=>t.add(e))),this.scanColumnsInCellsRange((e=>t.add(e)))),t}scanColumnsInHeadersRange(e){const[t,n,r,i]=ic(ac,this).getCorners(),{wtTable:o}=ic(lc,this),s=o.getRenderedColumnsCount(),a=o.getColumnHeadersCount();let l=0;for(let u=-o.getRowHeadersCount();u<s;u++){const s=o.columnFilter.renderedToSource(u);if(!(s<n||s>i)){for(let u=-a;u<0;u++){if(u<t||u>r)continue;const c=u+a;let h=o.getColumnHeader(s,c);const d=ic(lc,this).getSetting("onBeforeHighlightingColumnHeader",s,c,{selectionType:ic(ac,this).settings.selectionType,columnCursor:l,selectionWidth:i-n+1});null!==d&&(d!==s&&(h=o.getColumnHeader(d,c)),e(h))}l+=1}}}scanRowsInHeadersRange(e){const[t,n,r,i]=ic(ac,this).getCorners(),{wtTable:o}=ic(lc,this),s=o.getRenderedRowsCount(),a=o.getRowHeadersCount();let l=0;for(let u=-o.getColumnHeadersCount();u<s;u++){const s=o.rowFilter.renderedToSource(u);if(!(s<t||s>r)){for(let u=-a;u<0;u++){if(u<n||u>i)continue;const c=u+a;let h=o.getRowHeader(s,c);const d=ic(lc,this).getSetting("onBeforeHighlightingRowHeader",s,c,{selectionType:ic(ac,this).settings.selectionType,rowCursor:l,selectionHeight:r-t+1});null!==d&&(d!==s&&(h=o.getRowHeader(d,c)),e(h))}l+=1}}}scanCellsRange(e){const[t,n,r,i]=ic(ac,this).getCorners(),{wtTable:o}=ic(lc,this);sc(uc,this,hc).call(this,((s,a)=>{if(s>=t&&s<=r&&a>=n&&a<=i){const t=o.getCell(ic(lc,this).createCellCoords(s,a)),n=ic(lc,this).getSetting("onAfterDrawSelection",s,a,ic(ac,this).settings.layerLevel);"string"===typeof n&&lt(t,n),e(t)}}))}scanRowsInCellsRange(e){const[t,,n]=ic(ac,this).getCorners(),{wtTable:r}=ic(lc,this);sc(uc,this,hc).call(this,((i,o)=>{if(i>=t&&i<=n){const t=r.getCell(ic(lc,this).createCellCoords(i,o));e(t)}}))}scanColumnsInCellsRange(e){const[,t,,n]=ic(ac,this).getCorners(),{wtTable:r}=ic(lc,this);sc(uc,this,hc).call(this,((i,o)=>{if(o>=t&&o<=n){const t=r.getCell(ic(lc,this).createCellCoords(i,o));e(t)}}))}}function hc(e){const{wtTable:t}=ic(lc,this),n=t.getRenderedRowsCount(),r=t.getRenderedColumnsCount();for(let i=0;i<n;i+=1){const n=t.rowFilter.renderedToSource(i);for(let i=0;i<r;i+=1)e(n,t.columnFilter.renderedToSource(i))}}class dc{constructor(e,t){t&&(this.eventManager=e.eventManager,this.instance=e,this.wot=e,this.settings=t,this.mouseDown=!1,this.main=null,this.top=null,this.bottom=null,this.start=null,this.end=null,this.topStyle=null,this.bottomStyle=null,this.startStyle=null,this.endStyle=null,this.cornerDefaultStyle=Tl,this.cornerCenterPointOffset=-parseInt(this.cornerDefaultStyle.width,10)/2,this.corner=null,this.cornerStyle=null,this.createBorders(t),this.registerListeners())}registerListeners(){const e=this.wot.rootDocument.body;this.eventManager.addEventListener(e,"mousedown",(()=>this.onMouseDown())),this.eventManager.addEventListener(e,"mouseup",(()=>this.onMouseUp()));for(let t=0,n=this.main.childNodes.length;t<n;t++){const e=this.main.childNodes[t];this.eventManager.addEventListener(e,"mouseenter",(e=>this.onMouseEnter(e,this.main.childNodes[t])))}}onMouseDown(){this.mouseDown=!0}onMouseUp(){this.mouseDown=!1}onMouseEnter(e,t){if(!this.mouseDown||!this.wot.getSetting("hideBorderOnMouseDownOver"))return;e.preventDefault(),sr(e);const n=this,r=this.wot.rootDocument.body,i=t.getBoundingClientRect();function o(e){return e.clientY<Math.floor(i.top)||(e.clientY>Math.ceil(i.top+i.height)||(e.clientX<Math.floor(i.left)||(e.clientX>Math.ceil(i.left+i.width)||void 0)))}function s(e){o(e)&&(n.eventManager.removeEventListener(r,"mousemove",s),t.style.display="block")}t.style.display="none",this.eventManager.addEventListener(r,"mousemove",s)}createBorders(e){const{rootDocument:t}=this.wot;this.main=t.createElement("div");const n=["top","start","bottom","end","corner"];let r=this.main.style;r.position="absolute",r.top=0,r.left=0;for(let s=0;s<5;s++){const i=n[s],o=t.createElement("div");o.className=`wtBorder ${this.settings.className||""}`,this.settings[i]&&this.settings[i].hide&&(o.className+=" hidden"),r=o.style,r.backgroundColor=this.settings[i]&&this.settings[i].color?this.settings[i].color:e.border.color,r.height=this.settings[i]&&this.settings[i].width?`${this.settings[i].width}px`:`${e.border.width}px`,r.width=this.settings[i]&&this.settings[i].width?`${this.settings[i].width}px`:`${e.border.width}px`,this.main.appendChild(o)}this.top=this.main.childNodes[0],this.start=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.end=this.main.childNodes[3],this.topStyle=this.top.style,this.startStyle=this.start.style,this.bottomStyle=this.bottom.style,this.endStyle=this.end.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),$n()&&this.instance.getSetting("isDataViewInstance")&&this.createMultipleSelectorHandles(),this.disappear();const{wtTable:i}=this.wot;let o=i.bordersHolder;o||(o=t.createElement("div"),o.className="htBorders",i.bordersHolder=o,i.spreader.appendChild(o)),o.appendChild(this.main)}createMultipleSelectorHandles(){const{rootDocument:e}=this.wot;this.selectionHandles={top:e.createElement("DIV"),topHitArea:e.createElement("DIV"),bottom:e.createElement("DIV"),bottomHitArea:e.createElement("DIV")};const t=10,n=40;this.selectionHandles.top.className="topSelectionHandle topLeftSelectionHandle",this.selectionHandles.topHitArea.className="topSelectionHandle-HitArea topLeftSelectionHandle-HitArea",this.selectionHandles.bottom.className="bottomSelectionHandle bottomRightSelectionHandle",this.selectionHandles.bottomHitArea.className="bottomSelectionHandle-HitArea bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={top:this.selectionHandles.top.style,topHitArea:this.selectionHandles.topHitArea.style,bottom:this.selectionHandles.bottom.style,bottomHitArea:this.selectionHandles.bottomHitArea.style};const r={position:"absolute",height:`${n}px`,width:`${n}px`,"border-radius":`${parseInt(n/1.5,10)}px`};Sn(r,((e,t)=>{this.selectionHandles.styles.bottomHitArea[t]=e,this.selectionHandles.styles.topHitArea[t]=e}));const i={position:"absolute",height:`${t}px`,width:`${t}px`,"border-radius":`${parseInt(t/1.5,10)}px`,background:"#F5F5FF",border:"1px solid #4285c8"};Sn(i,((e,t)=>{this.selectionHandles.styles.bottom[t]=e,this.selectionHandles.styles.top[t]=e})),this.main.appendChild(this.selectionHandles.top),this.main.appendChild(this.selectionHandles.bottom),this.main.appendChild(this.selectionHandles.topHitArea),this.main.appendChild(this.selectionHandles.bottomHitArea)}isPartRange(e,t){const n=this.wot.selectionManager.getAreaSelection();return!(!n.cellRange||e===n.cellRange.to.row&&t===n.cellRange.to.col)}updateMultipleSelectionHandlesPosition(e,t,n,r,i,o){const s=this.wot.wtSettings.getSetting("rtlMode"),a=s?"right":"left",{top:l,topHitArea:u,bottom:c,bottomHitArea:h}=this.selectionHandles.styles,d=parseInt(l.borderWidth,10),f=parseInt(l.width,10),p=parseInt(u.width,10),m=this.wot.wtTable.getWidth(),g=this.wot.wtTable.getHeight();l.top=`${parseInt(n-f-1,10)}px`,l[a]=`${parseInt(r-f-1,10)}px`,u.top=`${parseInt(n-p/4*3,10)}px`,u[a]=`${parseInt(r-p/4*3,10)}px`;const v=Math.min(parseInt(r+i,10),m-f-2*d),y=Math.min(parseInt(r+i-p/4,10),m-p-2*d);c[a]=`${v}px`,h[a]=`${y}px`;const b=Math.min(parseInt(n+o,10),g-f-2*d),w=Math.min(parseInt(n+o-p/4,10),g-p-2*d);c.top=`${b}px`,h.top=`${w}px`,this.settings.border.cornerVisible&&this.settings.border.cornerVisible()?(l.display="block",u.display="block",this.isPartRange(e,t)?(c.display="none",h.display="none"):(c.display="block",h.display="block")):(l.display="none",c.display="none",u.display="none",h.display="none"),e===this.wot.wtSettings.getSetting("fixedRowsTop")||t===this.wot.wtSettings.getSetting("fixedColumnsStart")?(l.zIndex="9999",u.zIndex="9999"):(l.zIndex="",u.zIndex="")}appear(e){if(this.disabled)return;const{wtTable:t,rootDocument:n,rootWindow:r}=this.wot;let i,o,s,a,l,u;const c=t.getRenderedRowsCount();for(let O=0;O<c;O+=1){const n=t.rowFilter.renderedToSource(O);if(n>=e[0]&&n<=e[2]){i=n,l=e[0];break}}for(let O=c-1;O>=0;O-=1){const n=t.rowFilter.renderedToSource(O);if(n>=e[0]&&n<=e[2]){o=n;break}}const h=t.getRenderedColumnsCount();for(let O=0;O<h;O+=1){const n=t.columnFilter.renderedToSource(O);if(n>=e[1]&&n<=e[3]){s=n,u=e[1];break}}for(let O=h-1;O>=0;O-=1){const n=t.columnFilter.renderedToSource(O);if(n>=e[1]&&n<=e[3]){a=n;break}}if(void 0===i||void 0===s)return void this.disappear();let d=t.getCell(this.wot.createCellCoords(i,s));const f=i!==o||s!==a,p=f?t.getCell(this.wot.createCellCoords(o,a)):d,m=yt(d),g=f?yt(p):m,v=yt(t.TABLE),y=Nt(t.TABLE),b=m.top,w=m.left,_=this.wot.wtSettings.getSetting("rtlMode");let E=0,S=0;if(_){const e=Nt(d),t=r.innerWidth-v.left-y;S=w+e-g.left,E=r.innerWidth-w-e-t-1}else S=g.left+Nt(p)-w,E=w-v.left-1;if(this.isEntireColumnSelected(i,o)){const e=this.getDimensionsFromHeader("columns",s,a,l,v);let t=null;e&&([t,E,S]=e),t&&(d=t)}let T=b-v.top-1,M=g.top+Lt(p)-b;if(this.isEntireRowSelected(s,a)){const e=this.getDimensionsFromHeader("rows",i,o,u,v);let t=null;e&&([t,T,M]=e),t&&(d=t)}const C=At(d,r);parseInt(C.borderTopWidth,10)>0&&(T+=1,M=M>0?M-1:0),parseInt(C[_?"borderRightWidth":"borderLeftWidth"],10)>0&&(E+=1,S=S>0?S-1:0);const R=_?"right":"left";this.topStyle.top=`${T}px`,this.topStyle[R]=`${E}px`,this.topStyle.width=`${S}px`,this.topStyle.display="block",this.startStyle.top=`${T}px`,this.startStyle[R]=`${E}px`,this.startStyle.height=`${M}px`,this.startStyle.display="block";const x=Math.floor(this.settings.border.width/2);this.bottomStyle.top=T+M-x+"px",this.bottomStyle[R]=`${E}px`,this.bottomStyle.width=`${S}px`,this.bottomStyle.display="block",this.endStyle.top=`${T}px`,this.endStyle[R]=E+S-x+"px",this.endStyle.height=`${M+1}px`,this.endStyle.display="block";let A=this.settings.border.cornerVisible;A="function"===typeof A?A(this.settings.layerLevel):A;const N=this.wot.getSetting("onModifyGetCellCoords",o,a);let[L,k]=[o,a];if(N&&Array.isArray(N)&&([,,L,k]=N),$n()||!A||this.isPartRange(L,k))this.cornerStyle.display="none";else{this.cornerStyle.top=T+M+this.cornerCenterPointOffset-1+"px",this.cornerStyle[R]=E+S+this.cornerCenterPointOffset-1+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none";let e=Ct(t.TABLE);const i=e===r;i&&(e=n.documentElement);const s=parseInt(this.cornerDefaultStyle.width,10)/2,l=parseInt(this.cornerDefaultStyle.height,10)/2;if(a===this.wot.getSetting("totalColumns")-1){const t=i?p.getBoundingClientRect().left:p.offsetLeft;let n=!1,r=0;_?(r=t-parseInt(this.cornerDefaultStyle.width,10)/2,n=r<0):(r=t+Nt(p)+parseInt(this.cornerDefaultStyle.width,10)/2,n=r>=Ot(e)),n&&(this.cornerStyle[R]=`${Math.floor(E+S+this.cornerCenterPointOffset-s)}px`,this.cornerStyle[_?"borderLeftWidth":"borderRightWidth"]=0)}if(o===this.wot.getSetting("totalRows")-1){const t=i?p.getBoundingClientRect().top:p.offsetTop,n=t+Lt(p)+parseInt(this.cornerDefaultStyle.height,10)/2,r=n>=kt(e);r&&(this.cornerStyle.top=`${Math.floor(T+M+this.cornerCenterPointOffset-l)}px`,this.cornerStyle.borderBottomWidth=0)}this.cornerStyle.display="block"}$n()&&this.instance.getSetting("isDataViewInstance")&&this.updateMultipleSelectionHandlesPosition(o,a,T,E,S,M)}isEntireColumnSelected(e,t){return e===this.wot.wtTable.getFirstRenderedRow()&&t===this.wot.wtTable.getLastRenderedRow()}isEntireRowSelected(e,t){return e===this.wot.wtTable.getFirstRenderedColumn()&&t===this.wot.wtTable.getLastRenderedColumn()}getDimensionsFromHeader(e,t,n,r,i){const{wtTable:o}=this.wot,s=o.wtRootElement.parentNode;let a=null,l=null,u=null,c=null,h=null,d=null,f=null,p=null;switch(e){case"rows":a=function(){return o.getRowHeader(...arguments)},l=function(){return Lt(...arguments)},u="ht__selection--rows",d="top";break;case"columns":a=function(){return o.getColumnHeader(...arguments)},l=function(){return Nt(...arguments)},u="ht__selection--columns",d="left";break;default:}if(s.classList.contains(u)){const e=this.wot.getSetting("columnHeaders").length;if(f=a(t,e-r),p=a(n,e-r),!f||!p)return!1;const o=yt(f),s=yt(p);return f&&p&&(c=o[d]-i[d]-1,h=s[d]+l(p)-o[d]),[f,c,h]}return!1}changeBorderStyle(e,t){const n=this[e].style,r=t[e];!r||r.hide?lt(this[e],"hidden"):(at(this[e],"hidden")&&ut(this[e],"hidden"),n.backgroundColor=r.color,"top"!==e&&"bottom"!==e||(n.height=`${r.width}px`),"start"!==e&&"end"!==e||(n.width=`${r.width}px`))}changeBorderToDefaultStyle(e){const t={width:1,color:"#000"},n=this[e].style;n.backgroundColor=t.color,n.width=`${t.width}px`,n.height=`${t.width}px`}toggleHiddenClass(e,t){this.changeBorderToDefaultStyle(e),t?lt(this[e],"hidden"):ut(this[e],"hidden")}disappear(){this.topStyle.display="none",this.bottomStyle.display="none",this.startStyle.display="none",this.endStyle.display="none",this.cornerStyle.display="none",$n()&&this.instance.getSetting("isDataViewInstance")&&(this.selectionHandles.styles.top.display="none",this.selectionHandles.styles.topHitArea.display="none",this.selectionHandles.styles.bottom.display="none",this.selectionHandles.styles.bottomHitArea.display="none")}destroy(){this.eventManager.destroyWithOwnEventsOnly(),this.main.parentNode.removeChild(this.main)}}var fc=dc;function pc(e,t){gc(e,t),t.add(e)}function mc(e,t,n){gc(e,t),t.set(e,n)}function gc(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vc(e,t){return e.get(bc(e,t))}function yc(e,t,n){return e.set(bc(e,t),n),n}function bc(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var wc=new WeakMap,_c=new WeakMap,Ec=new WeakMap,Sc=new WeakMap,Tc=new WeakMap,Mc=new WeakMap,Cc=new WeakSet;class Rc{constructor(e){pc(this,Cc),mc(this,wc,void 0),mc(this,_c,void 0),mc(this,Ec,new cc),mc(this,Sc,new WeakMap),mc(this,Tc,new WeakSet),mc(this,Mc,new Map),yc(_c,this,e)}setActiveOverlay(e){return yc(wc,this,e),vc(Ec,this).setActiveOverlay(vc(wc,this)),vc(Sc,this).has(vc(wc,this))||vc(Sc,this).set(vc(wc,this),new Set),this}getFocusSelection(){return null!==vc(_c,this)?vc(_c,this).getFocus():null}getAreaSelection(){return null!==vc(_c,this)?vc(_c,this).createLayeredArea():null}getBorderInstance(e){if(!e.settings.border)return null;if(vc(Mc,this).has(e)){const t=vc(Mc,this).get(e);if(t.has(vc(wc,this)))return t.get(vc(wc,this));const n=new fc(vc(wc,this),e.settings);return t.set(vc(wc,this),n),n}const t=new fc(vc(wc,this),e.settings);return vc(Mc,this).set(e,new Map([[vc(wc,this),t]])),t}getBorderInstances(e){var t,n;return Array.from(null!==(t=null===(n=vc(Mc,this).get(e))||void 0===n?void 0:n.values())&&void 0!==t?t:[])}destroyBorders(e){vc(Mc,this).get(e).forEach((e=>e.destroy())),vc(Mc,this).delete(e)}render(e){if(null===vc(_c,this))return;e&&bc(Cc,this,xc).call(this);const t=Array.from(vc(_c,this)),n=new Map,r=new Map;for(let i=0;i<t.length;i++){const e=t[i],{className:o,headerAttributes:s,createLayers:a,selectionType:l}=e.settings;vc(Tc,this).has(e)||(vc(Tc,this).add(e),e.addLocalHook("destroy",(()=>this.destroyBorders(e))));const u=this.getBorderInstance(e);if(e.isEmpty()){null===u||void 0===u||u.disappear();continue}if(o){const t=vc(Ec,this).setActiveSelection(e).scan();t.forEach((e=>{if(n.has(e)){const t=n.get(e);t.has(o)&&!0===a?t.set(o,t.get(o)+1):t.set(o,1)}else n.set(e,new Map([[o,1]]));s&&(r.has(e)||r.set(e,[]),"TH"===e.nodeName&&r.get(e).push(...s))}))}const c=e.getCorners();vc(wc,this).getSetting("onBeforeDrawBorders",c,l),null===u||void 0===u||u.appear(c)}n.forEach(((e,t)=>{var n;const r=Array.from(e).map((e=>{let[t,n]=e;return 1===n?t:[t,...Array.from({length:n-1},((e,n)=>`${t}-${n+1}`))]})).flat();r.forEach((e=>vc(Sc,this).get(vc(wc,this)).add(e))),lt(t,r),"TD"===t.nodeName&&Array.isArray(null===(n=vc(_c,this).options)||void 0===n?void 0:n.cellAttributes)&&ct(t,vc(_c,this).options.cellAttributes)})),Array.from(r.keys()).forEach((e=>{ct(e,[...r.get(e)])}))}}function xc(){const e=vc(Sc,this).get(vc(wc,this)),t=vc(wc,this).wtSettings.getSetting("onBeforeRemoveCellClassNames");if(Array.isArray(t))for(let n=0;n<t.length;n++)e.add(t[n]);e.forEach((e=>{var t,n;const r=vc(wc,this).wtTable.TABLE.querySelectorAll(`.${e}`);let i=[];Array.isArray(null===(t=vc(_c,this).options)||void 0===t?void 0:t.cellAttributes)&&(i=vc(_c,this).options.cellAttributes.map((e=>e[0]))),Array.isArray(null===(n=vc(_c,this).options)||void 0===n?void 0:n.headerAttributes)&&(i=[...i,...vc(_c,this).options.headerAttributes.map((e=>e[0]))]);for(let o=0,s=r.length;o<s;o++)ut(r[o],e),ht(r[o],i)})),e.clear()}class Ac extends ml{constructor(e,t){super(e,new bu(t));const n=this.wtSettings.getSetting("facade",this);this.wtTable=new _u(this.getTableDao(),n,this.domBindings,this.wtSettings),this.wtViewport=new ec(this.getViewportDao(),this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.selectionManager=new Rc(this.wtSettings.getSetting("selections")),this.wtEvent=new Oo(n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable,this.selectionManager),this.wtOverlays=new mu(this,n,this.domBindings,this.wtSettings,this.eventManager,this.wtTable),this.exportSettingsAsClassNames(),this.findOriginalHeaders()}exportSettingsAsClassNames(){const e={rowHeaders:"htRowHeaders",columnHeaders:"htColumnHeaders"},t=[],n=[];Sn(e,((e,r)=>{this.wtSettings.getSetting(r).length&&n.push(e),t.push(e)})),ut(this.wtTable.wtRootElement.parentNode,t),lt(this.wtTable.wtRootElement.parentNode,n)}getOverlayByName(e){var t;if(!ya.includes(e))return null;const n=e.replace(/_([a-z])/g,(e=>e[1].toUpperCase()));return null!==(t=this.wtOverlays[`${n}Overlay`])&&void 0!==t?t:null}getViewportDao(){const e=this;return{get wot(){return e},get topOverlayTrimmingContainer(){return e.wtOverlays.topOverlay.trimmingContainer},get inlineStartOverlayTrimmingContainer(){return e.wtOverlays.inlineStartOverlay.trimmingContainer},get topScrollPosition(){return e.wtOverlays.topOverlay.getScrollPosition()},get topParentOffset(){return e.wtOverlays.topOverlay.getTableParentOffset()},get inlineStartScrollPosition(){return e.wtOverlays.inlineStartOverlay.getScrollPosition()},get inlineStartParentOffset(){return e.wtOverlays.inlineStartOverlay.getTableParentOffset()},get topOverlay(){return e.wtOverlays.topOverlay},get inlineStartOverlay(){return e.wtOverlays.inlineStartOverlay},get bottomOverlay(){return e.wtOverlays.bottomOverlay}}}}class Nc{constructor(e){e instanceof ml?this._wot=e:this._initFromSettings(e)}_initFromSettings(e){e.facade=e=>{const t=new Nc(e);return()=>t},this._wot=new Ac(e.table,e)}get guid(){return this._wot.guid}get rootDocument(){return this._wot.domBindings.rootDocument}get rootWindow(){return this._wot.domBindings.rootWindow}get wtSettings(){return this._wot.wtSettings}get cloneSource(){return this._wot.cloneSource}get cloneOverlay(){return this._wot.cloneOverlay}get selectionManager(){return this._wot.selectionManager}get wtViewport(){return this._wot.wtViewport}get wtOverlays(){return this._wot.wtOverlays}get wtTable(){return this._wot.wtTable}get wtEvent(){return this._wot.wtEvent}get wtScroll(){return this._wot.wtScroll}get drawn(){return this._wot.drawn}set drawn(e){this._wot.drawn=e}get drawInterrupted(){return this._wot.drawInterrupted}set drawInterrupted(e){this._wot.drawInterrupted=e}get lastMouseOver(){return this._wot.lastMouseOver}set lastMouseOver(e){this._wot.lastMouseOver=e}get momentumScrolling(){return this._wot.momentumScrolling}set momentumScrolling(e){this._wot.momentumScrolling=e}get touchApplied(){return this._wot.touchApplied}set touchApplied(e){this._wot.touchApplied=e}get domBindings(){return this._wot.domBindings}get eventListeners(){return this._wot.eventListeners}set eventListeners(e){this._wot.eventListeners=e}get eventManager(){return this._wot.eventManager}createCellCoords(e,t){return this._wot.createCellCoords(e,t)}createCellRange(e,t,n){return this._wot.createCellRange(e,t,n)}draw(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._wot.draw(e),this}getCell(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._wot.getCell(e,t)}scrollViewport(e,t,n,r,i){return this._wot.scrollViewport(e,t,n,r,i)}scrollViewportHorizontally(e,t,n){return this._wot.scrollViewportHorizontally(e,t,n)}scrollViewportVertically(e,t,n){return this._wot.scrollViewportVertically(e,t,n)}getViewport(){return this._wot.getViewport()}getOverlayName(){return this._wot.cloneOverlay?this._wot.cloneOverlay.type:"master"}getOverlayByName(e){return this._wot.getOverlayByName(e)}exportSettingsAsClassNames(){return this._wot.exportSettingsAsClassNames()}update(e,t){return this._wot.wtSettings.update(e,t),this}getSetting(e,t,n,r,i){return this._wot.wtSettings.getSetting(e,t,n,r,i)}hasSetting(e){return this._wot.wtSettings.hasSetting(e)}destroy(){this._wot.destroy()}}function Lc(e){let{isShiftKey:t,isLeftClick:n,isRightClick:r,coords:i,selection:o,controller:s,cellCoordsFactory:a}=e;const l=o.isSelected()?o.getSelectedRange().current():null,u=o.isSelectedByCorner(),c=o.isSelectedByRowHeader();if(o.markSource("mouse"),t&&l)i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(i):(u||c)&&i.row>=0&&i.col>=0&&!s.cell?o.setRangeEnd(a(i.row,i.col)):u&&i.row<0&&!s.column?o.setRangeEnd(a(l.to.row,i.col)):c&&i.col<0&&!s.row?o.setRangeEnd(a(i.row,l.to.col)):(!u&&!c&&i.col<0||u&&i.col<0)&&!s.row?o.selectRows(Math.max(l.from.row,0),i.row,i.col):(!u&&!c&&i.row<0||c&&i.row<0)&&!s.column&&o.selectColumns(Math.max(l.from.col,0),i.col,i.row);else{const e=!o.inInSelection(i),t=n||r&&e;i.row<0&&i.col>=0&&!s.column?t&&o.selectColumns(i.col,i.col,i.row):i.col<0&&i.row>=0&&!s.row?t&&o.selectRows(i.row,i.row,i.col):i.col>=0&&i.row>=0&&!s.cell?t&&o.setRangeStart(i):i.col<0&&i.row<0&&o.selectAll(!0,!0,{disableHeadersHighlight:!0,focusPosition:{row:0,col:0}})}o.markEndSource()}function kc(e){let{isLeftClick:t,coords:n,selection:r,controller:i,cellCoordsFactory:o}=e;if(!t)return;const s=r.isSelectedByRowHeader(),a=r.isSelectedByColumnHeader(),l=r.tableProps.countCols(),u=r.tableProps.countRows();r.markSource("mouse"),a&&!i.column?r.setRangeEnd(o(u-1,n.col)):s&&!i.row?r.setRangeEnd(o(n.row,l-1)):i.cell||r.setRangeEnd(n),r.markEndSource()}const Oc=new Map([["mousedown",Lc],["mouseover",kc],["touchstart",Lc]]);function Ic(e,t){let{coords:n,selection:r,controller:i,cellCoordsFactory:o}=t;Oc.get(e.type)({coords:n,selection:r,controller:i,cellCoordsFactory:o,isShiftKey:e.shiftKey,isLeftClick:ur(e)||"touchstart"===e.type,isRightClick:lr(e)})}const Pc=new WeakMap,Dc=Symbol("rootInstance");function Fc(e){Pc.set(e,!0)}function Hc(e){return e===Dc}function Uc(e){return Pc.has(e)}function Bc(e,t){Yc(e,t),t.add(e)}function jc(e,t,n){Yc(e,t),t.set(e,n)}function Yc(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vc(e,t,n){return(t=Wc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wc(e){var t=zc(e,"string");return"symbol"==typeof t?t:t+""}function zc(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gc(e,t){return e.get(qc(e,t))}function $c(e,t,n){return e.set(qc(e,t),n),n}function qc(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Kc=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,eh=new WeakMap,th=new WeakMap,nh=new WeakSet;class rh{constructor(e){Bc(this,nh),Vc(this,"hot",void 0),Vc(this,"eventManager",void 0),Vc(this,"settings",void 0),Vc(this,"THEAD",void 0),Vc(this,"TBODY",void 0),Vc(this,"_wt",void 0),Vc(this,"activeWt",void 0),jc(this,Kc,0),jc(this,Xc,0),Vc(this,"postponedAdjustElementsSize",!1),jc(this,Jc,!1),jc(this,Qc,void 0),jc(this,Zc,void 0),jc(this,eh,0),jc(this,th,0),this.hot=e,this.eventManager=new Wr(this.hot),this.settings=this.hot.getSettings(),this.createElements(),this.registerEvents(),this.initializeWalkontable()}render(){this.hot.isRenderSuspended()||(this.hot.runHooks("beforeRender",this.hot.forceFullRender),this.postponedAdjustElementsSize&&(this.postponedAdjustElementsSize=!1,this.adjustElementsSize(!0)),this._wt.draw(!this.hot.forceFullRender),this.hot.runHooks("afterRender",this.hot.forceFullRender),this.hot.forceFullRender=!1,this.hot.renderCall=!1)}adjustElementsSize(){this.hot.isRenderSuspended()?this.postponedAdjustElementsSize=!0:this._wt.wtOverlays.adjustElementsSize()}getCellAtCoords(e,t){const n=this._wt.getCell(e,t);return n<0?null:n}scrollViewport(e,t,n,r,i){return this._wt.scrollViewport(e,t,n,r,i)}scrollViewportHorizontally(e,t,n){return this._wt.scrollViewportHorizontally(e,t,n)}scrollViewportVertically(e,t,n){return this._wt.scrollViewportVertically(e,t,n)}createElements(){const{rootElement:e,rootDocument:t}=this.hot,n=e.getAttribute("style");n&&e.setAttribute("data-originalstyle",n),lt(e,"handsontable"),$c(Zc,this,t.createElement("TABLE")),lt(Gc(Zc,this),"htCore"),this.hot.getSettings().tableClassName&&lt(Gc(Zc,this),this.hot.getSettings().tableClassName),this.settings.ariaTags&&(ct(Gc(Zc,this),[he()]),ct(e,[ce(),ke(-1),Oe(this.hot.countCols()),Ne()])),this.THEAD=t.createElement("THEAD"),Gc(Zc,this).appendChild(this.THEAD),this.TBODY=t.createElement("TBODY"),Gc(Zc,this).appendChild(this.TBODY),this.hot.table=Gc(Zc,this),this.hot.container.insertBefore(Gc(Zc,this),this.hot.container.firstChild)}registerEvents(){const{rootElement:e,rootDocument:t,selection:n,rootWindow:r}=this.hot,i=t.documentElement;this.eventManager.addEventListener(e,"mousedown",(e=>{$c(Jc,this,!0),this.isTextSelectionAllowed(e.target)||(Ut(r),e.preventDefault(),r.focus())})),this.eventManager.addEventListener(e,"mouseup",(()=>{$c(Jc,this,!1)})),this.eventManager.addEventListener(e,"mousemove",(e=>{Gc(Jc,this)&&!this.isTextSelectionAllowed(e.target)&&(this.settings.fragmentSelection&&Ut(r),e.preventDefault())})),this.eventManager.addEventListener(i,"keyup",(e=>{n.isInProgress()&&!e.shiftKey&&n.finish()})),this.eventManager.addEventListener(i,"mouseup",(r=>{n.isInProgress()&&ur(r)&&n.finish(),$c(Qc,this,!1);const i=Xt(t.activeElement);Kt(t.activeElement)&&!i||!i&&(n.isSelected()||n.isSelectedByAnyHeader()||e.contains(r.target)||lr(r))||this.hot.unlisten()})),this.eventManager.addEventListener(i,"contextmenu",(e=>{n.isInProgress()&&lr(e)&&(n.finish(),$c(Qc,this,!1))})),this.eventManager.addEventListener(i,"touchend",(()=>{n.isInProgress()&&n.finish(),$c(Qc,this,!1)})),this.eventManager.addEventListener(i,"mousedown",(n=>{const r=n.target,o=n.x||n.clientX,s=n.y||n.clientY;let a=n.target;if(Gc(Qc,this)||!e||!this.hot.view)return;const{holder:l}=this._wt.wtTable;if(a===l){const e=Vt(t);if(t.elementFromPoint(o+e,s)!==l||t.elementFromPoint(o,s+e)!==l)return}else while(a!==i){if(null===a){if(n.isTargetWebComponent)break;return}if(a===e)return;a=a.parentNode}const u="function"===typeof this.settings.outsideClickDeselects?this.settings.outsideClickDeselects(r):this.settings.outsideClickDeselects;u?this.hot.deselectCell():this.hot.destroyEditor(!1,!1)}));let o=Qe(r);while(null!==o)this.eventManager.addEventListener(o.document.documentElement,"click",(()=>{this.hot.unlisten()})),o=Qe(o);this.eventManager.addEventListener(Gc(Zc,this),"selectstart",(e=>{this.settings.fragmentSelection||Kt(e.target)||e.preventDefault()}))}translateFromRenderableToVisualCoords(e){let{row:t,col:n}=e;return this.hot._createCellCoords(...this.translateFromRenderableToVisualIndex(t,n))}translateFromRenderableToVisualIndex(e,t){let n=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e,r=t>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(t):t;return null===n&&(n=e),null===r&&(r=t),[n,r]}countRenderableIndexes(e,t){const n=Math.min(e.getNotTrimmedIndexesLength(),t),r=e.getNearestNotHiddenIndex(n-1,-1);return null===r?0:e.getRenderableFromVisualIndex(r)+1}countRenderableColumns(){return this.countRenderableIndexes(this.hot.columnIndexMapper,this.settings.maxCols)}countRenderableRows(){return this.countRenderableIndexes(this.hot.rowIndexMapper,this.settings.maxRows)}countNotHiddenRowIndexes(e,t){return this.countNotHiddenIndexes(e,t,this.hot.rowIndexMapper,this.countRenderableRows())}countNotHiddenColumnIndexes(e,t){return this.countNotHiddenIndexes(e,t,this.hot.columnIndexMapper,this.countRenderableColumns())}countNotHiddenIndexes(e,t,n,r){if(isNaN(e)||e<0)return 0;const i=n.getNearestNotHiddenIndex(e,t),o=n.getRenderableFromVisualIndex(i);if(!Number.isInteger(o))return 0;let s=0;return t<0?s=o+1:t>0&&(s=r-o),s}countNotHiddenFixedColumnsStart(){const e=this.hot.countCols(),t=Math.min(parseInt(this.settings.fixedColumnsStart,10),e)-1;return this.countNotHiddenColumnIndexes(t,-1)}countNotHiddenFixedRowsTop(){const e=this.hot.countRows(),t=Math.min(parseInt(this.settings.fixedRowsTop,10),e)-1;return this.countNotHiddenRowIndexes(t,-1)}countNotHiddenFixedRowsBottom(){const e=this.hot.countRows(),t=Math.max(e-parseInt(this.settings.fixedRowsBottom,10),0);return this.countNotHiddenRowIndexes(t,1)}countRenderableColumnsInRange(e,t){let n=0;for(let r=e;r<=t;r++)null!==this.hot.columnIndexMapper.getRenderableFromVisualIndex(r)&&(n+=1);return n}countRenderableRowsInRange(e,t){let n=0;for(let r=e;r<=t;r++)null!==this.hot.rowIndexMapper.getRenderableFromVisualIndex(r)&&(n+=1);return n}isMainTableNotFullyCoveredByOverlays(){const e=this.countNotHiddenFixedRowsTop()+this.countNotHiddenFixedRowsBottom(),t=this.countNotHiddenFixedColumnsStart();return this.hot.countRenderedRows()>e&&this.hot.countRenderedCols()>t}initializeWalkontable(){const e={ariaTags:this.settings.ariaTags,rtlMode:this.hot.isRtl(),externalRowCalculator:this.hot.getPlugin("autoRowSize")&&this.hot.getPlugin("autoRowSize").isEnabled(),table:Gc(Zc,this),isDataViewInstance:()=>Uc(this.hot),preventOverflow:()=>this.settings.preventOverflow,preventWheel:()=>this.settings.preventWheel,stretchH:()=>this.settings.stretchH,data:(e,t)=>this.hot.getDataAtCell(...this.translateFromRenderableToVisualIndex(e,t)),totalRows:()=>this.countRenderableRows(),totalColumns:()=>this.countRenderableColumns(),fixedColumnsStart:()=>this.countNotHiddenFixedColumnsStart(),fixedRowsTop:()=>this.countNotHiddenFixedRowsTop(),fixedRowsBottom:()=>this.countNotHiddenFixedRowsBottom(),shouldRenderInlineStartOverlay:()=>this.settings.fixedColumnsStart>0||e.rowHeaders().length>0,shouldRenderTopOverlay:()=>this.settings.fixedRowsTop>0||e.columnHeaders().length>0,shouldRenderBottomOverlay:()=>this.settings.fixedRowsBottom>0,minSpareRows:()=>this.settings.minSpareRows,renderAllRows:this.settings.renderAllRows,renderAllColumns:this.settings.renderAllColumns,rowHeaders:()=>{const e=[];return this.hot.hasRowHeaders()&&e.push(((e,t)=>{const n=e>=0?this.hot.rowIndexMapper.getVisualFromRenderableIndex(e):e;this.appendRowHeader(n,t)})),this.hot.runHooks("afterGetRowHeaderRenderers",e),$c(Xc,this,e.length),this.hot.getSettings().ariaTags&&qc(nh,this,ih).call(this)===this.hot.countCols()&&qc(nh,this,oh).call(this,Gc(Xc,this)),e},columnHeaders:()=>{const e=[];return this.hot.hasColHeaders()&&e.push(((e,t)=>{const n=e>=0?this.hot.columnIndexMapper.getVisualFromRenderableIndex(e):e;this.appendColHeader(n,t)})),this.hot.runHooks("afterGetColumnHeaderRenderers",e),$c(Kc,this,e.length),e},columnWidth:e=>{const t=this.hot.columnIndexMapper.getVisualFromRenderableIndex(e);return this.hot.getColWidth(null===t?e:t)},rowHeight:e=>{const t=this.hot.rowIndexMapper.getVisualFromRenderableIndex(e);return this.hot.getRowHeight(null===t?e:t)},rowHeightByOverlayName:(e,t)=>{const n=this.hot.rowIndexMapper.getVisualFromRenderableIndex(e),r=null===n?e:n;return this.hot.runHooks("modifyRowHeightByOverlayName",this.hot.getRowHeight(r),r,t)},cellRenderer:(e,t,n)=>{const[r,i]=this.translateFromRenderableToVisualIndex(e,t),o=this.hot.runHooks("modifyGetCellCoords",r,i);let s=r,a=i;Array.isArray(o)&&([s,a]=o);const l=this.hot.getCellMeta(s,a),u=this.hot.colToProp(a);let c=this.hot.getDataAtRowProp(s,u);this.hot.hasHook("beforeValueRender")&&(c=this.hot.runHooks("beforeValueRender",c,l)),this.hot.runHooks("beforeRenderer",n,r,i,u,c,l),this.hot.getCellRenderer(l)(this.hot,n,r,i,u,c,l),this.hot.runHooks("afterRenderer",n,r,i,u,c,l)},selections:this.hot.selection.highlight,hideBorderOnMouseDownOver:()=>this.settings.fragmentSelection,onWindowResize:()=>{this.hot&&!this.hot.isDestroyed&&this.hot.refreshDimensions()},onContainerElementResize:()=>{this.hot&&!this.hot.isDestroyed&&vt(this.hot.rootElement)&&this.hot.refreshDimensions()},onCellMouseDown:(e,t,n,r)=>{const i=this.translateFromRenderableToVisualCoords(t),o={row:!1,column:!1,cell:!1};this.hot.listen(),this.activeWt=r,$c(Qc,this,!0),this.hot.runHooks("beforeOnCellMouseDown",e,i,n,o),ar(e)||(Ic(e,{coords:i,selection:this.hot.selection,controller:o,cellCoordsFactory:(e,t)=>this.hot._createCellCoords(e,t)}),this.hot.runHooks("afterOnCellMouseDown",e,i,n),this.activeWt=this._wt)},onCellContextMenu:(e,t,n,r)=>{const i=this.translateFromRenderableToVisualCoords(t);this.activeWt=r,$c(Qc,this,!1),this.hot.selection.isInProgress()&&this.hot.selection.finish(),this.hot.runHooks("beforeOnCellContextMenu",e,i,n),ar(e)||(this.hot.runHooks("afterOnCellContextMenu",e,i,n),this.activeWt=this._wt)},onCellMouseOut:(e,t,n,r)=>{const i=this.translateFromRenderableToVisualCoords(t);this.activeWt=r,this.hot.runHooks("beforeOnCellMouseOut",e,i,n),ar(e)||(this.hot.runHooks("afterOnCellMouseOut",e,i,n),this.activeWt=this._wt)},onCellMouseOver:(e,t,n,r)=>{const i=this.translateFromRenderableToVisualCoords(t),o={row:!1,column:!1,cell:!1};this.activeWt=r,this.hot.runHooks("beforeOnCellMouseOver",e,i,n,o),ar(e)||(Gc(Qc,this)&&Ic(e,{coords:i,selection:this.hot.selection,controller:o,cellCoordsFactory:(e,t)=>this.hot._createCellCoords(e,t)}),this.hot.runHooks("afterOnCellMouseOver",e,i,n),this.activeWt=this._wt)},onCellMouseUp:(e,t,n,r)=>{const i=this.translateFromRenderableToVisualCoords(t);this.activeWt=r,this.hot.runHooks("beforeOnCellMouseUp",e,i,n),ar(e)||this.hot.isDestroyed||(this.hot.runHooks("afterOnCellMouseUp",e,i,n),this.activeWt=this._wt)},onCellCornerMouseDown:e=>{e.preventDefault(),this.hot.runHooks("afterOnCellCornerMouseDown",e)},onCellCornerDblClick:e=>{e.preventDefault(),this.hot.runHooks("afterOnCellCornerDblClick",e)},beforeDraw:(e,t)=>this.beforeRender(e,t),onDraw:e=>this.afterRender(e),onBeforeViewportScrollVertically:e=>{const t=this.hot.rowIndexMapper,n=e<0;let r=e;return n||(r=t.getVisualFromRenderableIndex(e),null!==r)?(r=this.hot.runHooks("beforeViewportScrollVertically",r),this.hot.runHooks("beforeViewportScroll"),n?r:t.getRenderableFromVisualIndex(r)):e},onBeforeViewportScrollHorizontally:e=>{const t=this.hot.columnIndexMapper,n=e<0;let r=e;return n||(r=t.getVisualFromRenderableIndex(e),null!==r)?(r=this.hot.runHooks("beforeViewportScrollHorizontally",r),this.hot.runHooks("beforeViewportScroll"),n?r:t.getRenderableFromVisualIndex(r)):e},onScrollVertically:()=>{this.hot.runHooks("afterScrollVertically"),this.hot.runHooks("afterScroll")},onScrollHorizontally:()=>{this.hot.runHooks("afterScrollHorizontally"),this.hot.runHooks("afterScroll")},onBeforeRemoveCellClassNames:()=>this.hot.runHooks("beforeRemoveCellClassNames"),onBeforeHighlightingRowHeader:(e,t,n)=>{const r=this.hot.rowIndexMapper,i=e<0;let o=e;i||(o=r.getVisualFromRenderableIndex(e));const s=this.hot.runHooks("beforeHighlightingRowHeader",o,t,n);return i?s:r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s,1))},onBeforeHighlightingColumnHeader:(e,t,n)=>{const r=this.hot.columnIndexMapper,i=e<0;let o=e;i||(o=r.getVisualFromRenderableIndex(e));const s=this.hot.runHooks("beforeHighlightingColumnHeader",o,t,n);return i?s:r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(s,1))},onAfterDrawSelection:(e,t,n)=>{let r;const[i,o]=this.translateFromRenderableToVisualIndex(e,t),s=this.hot.selection.getSelectedRange(),a=s.size();if(a>0){const e=s.peekByIndex(null!==n&&void 0!==n?n:0);r=[e.from.row,e.from.col,e.to.row,e.to.col]}return this.hot.runHooks("afterDrawSelection",i,o,r,n)},onBeforeDrawBorders:(e,t)=>{const[n,r,i,o]=e,s=[this.hot.rowIndexMapper.getVisualFromRenderableIndex(n),this.hot.columnIndexMapper.getVisualFromRenderableIndex(r),this.hot.rowIndexMapper.getVisualFromRenderableIndex(i),this.hot.columnIndexMapper.getVisualFromRenderableIndex(o)];return this.hot.runHooks("beforeDrawBorders",s,t)},onBeforeTouchScroll:()=>this.hot.runHooks("beforeTouchScroll"),onAfterMomentumScroll:()=>this.hot.runHooks("afterMomentumScroll"),onBeforeStretchingColumnWidth:(e,t)=>{const n=this.hot.columnIndexMapper.getVisualFromRenderableIndex(t);return this.hot.runHooks("beforeStretchingColumnWidth",e,n)},onModifyRowHeaderWidth:e=>this.hot.runHooks("modifyRowHeaderWidth",e),onModifyGetCellCoords:(e,t,n)=>{const r=this.hot.rowIndexMapper,i=this.hot.columnIndexMapper,o=t>=0?i.getVisualFromRenderableIndex(t):t,s=e>=0?r.getVisualFromRenderableIndex(e):e,a=this.hot.runHooks("modifyGetCellCoords",s,o,n);if(Array.isArray(a)){const[e,t,n,o]=a;return[e>=0?r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(e,1)):e,t>=0?i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(t,1)):t,n>=0?r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(n,-1)):n,o>=0?i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(o,-1)):o]}},viewportRowCalculatorOverride:e=>{let t=this.settings.viewportRowRenderingOffset;if("auto"===t&&this.settings.fixedRowsTop&&(t=10),t>0||"auto"===t){const n=this.countRenderableRows(),r=e.startRow,i=e.endRow;if("number"===typeof t)e.startRow=Math.max(r-t,0),e.endRow=Math.min(i+t,n-1);else if("auto"===t){const t=Math.ceil(i/n*12);e.startRow=Math.max(r-t,0),e.endRow=Math.min(i+t,n-1)}}this.hot.runHooks("afterViewportRowCalculatorOverride",e)},viewportColumnCalculatorOverride:e=>{let t=this.settings.viewportColumnRenderingOffset;if("auto"===t&&this.settings.fixedColumnsStart&&(t=10),t>0||"auto"===t){const n=this.countRenderableColumns(),r=e.startColumn,i=e.endColumn;if("number"===typeof t&&(e.startColumn=Math.max(r-t,0),e.endColumn=Math.min(i+t,n-1)),"auto"===t){const t=Math.ceil(i/n*6);e.startColumn=Math.max(r-t,0),e.endColumn=Math.min(i+t,n-1)}}this.hot.runHooks("afterViewportColumnCalculatorOverride",e)},rowHeaderWidth:()=>this.settings.rowHeaderWidth,columnHeaderHeight:()=>{const e=this.hot.runHooks("modifyColumnHeaderHeight");return this.settings.columnHeaderHeight||e}};this.hot.runHooks("beforeInitWalkontable",e),this._wt=new Nc(e),this.activeWt=this._wt;const t=this._wt.wtTable.spreader,{width:n,height:r}=this.hot.rootElement.getBoundingClientRect();this.setLastSize(n,r),this.eventManager.addEventListener(t,"mousedown",(e=>{e.target===t&&3===e.which&&e.stopPropagation()})),this.eventManager.addEventListener(t,"contextmenu",(e=>{e.target===t&&3===e.which&&e.stopPropagation()})),this.eventManager.addEventListener(this.hot.rootDocument.documentElement,"click",(()=>{this.settings.observeDOMVisibility&&this._wt.drawInterrupted&&(this.hot.forceFullRender=!0,this.render())}))}isTextSelectionAllowed(e){if(Kt(e))return!0;const t=nt(e,this._wt.wtTable.spreader);return!(!0!==this.settings.fragmentSelection||!t)||(!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!t)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell()))}isMouseDown(){return Gc(Qc,this)}isSelectedOnlyCell(){var e,t;return null!==(e=null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.isSingleCell())&&void 0!==e&&e}isCellEdited(){const e=this.hot.getActiveEditor();return e&&e.isOpened()}beforeRender(e,t){e&&this.hot.runHooks("beforeViewRender",this.hot.forceFullRender,t)}afterRender(e){e&&this.hot.runHooks("afterViewRender",this.hot.forceFullRender)}appendRowHeader(e,t){if(t.firstChild){const n=t.firstChild;if(!at(n,"relative"))return ft(t),void this.appendRowHeader(e,t);this.updateCellHeader(n.querySelector(".rowHeader"),e,this.hot.getRowHeader)}else{const{rootDocument:n,getRowHeader:r}=this.hot,i=n.createElement("div"),o=n.createElement("span");i.className="relative",o.className="rowHeader",this.updateCellHeader(o,e,r),i.appendChild(o),t.appendChild(i)}this.hot.runHooks("afterGetRowHeader",e,t)}appendColHeader(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hot.getColHeader,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=()=>{const t=e>=0?this.hot.getColumnMeta(e).headerClassName:null;return t?t.split(" "):[]};if(t.firstChild){const o=t.firstChild;at(o,"relative")?(this.updateCellHeader(o.querySelector(".colHeader"),e,n,r),o.className="",lt(o,["relative",...i()])):(ft(t),this.appendColHeader(e,t,n,r))}else{const{rootDocument:o}=this.hot,s=o.createElement("div"),a=o.createElement("span"),l=i();s.classList.add("relative",...l),a.className="colHeader",this.settings.ariaTags&&(ct(s,...he()),ct(a,...he())),this.updateCellHeader(a,e,n,r),s.appendChild(a),t.appendChild(s)}this.hot.runHooks("afterGetColHeader",e,t,r)}updateCellHeader(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t;const o=this._wt.wtOverlays.getParentOverlay(e)||this._wt;e.parentNode&&(at(e,"colHeader")?i=o.wtTable.columnFilter.sourceToRendered(t):at(e,"rowHeader")&&(i=o.wtTable.rowFilter.sourceToRendered(t))),i>-1?mt(e,n(t,r)):(gt(e,String.fromCharCode(160)),lt(e,"cornerHeader"))}maximumVisibleElementWidth(e){const t=this._wt.wtViewport.getWorkspaceWidth(),n=t-e;return n>0?n:0}maximumVisibleElementHeight(e){const t=this._wt.wtViewport.getWorkspaceHeight(),n=t-e;return n>0?n:0}setLastSize(e,t){$c(eh,this,e),$c(th,this,t)}getLastSize(){return{width:Gc(eh,this),height:Gc(th,this)}}getFirstRenderedVisibleRow(){return this._wt.wtViewport.rowsRenderCalculator?this.hot.rowIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getFirstRenderedRow(),1):null}getLastRenderedVisibleRow(){return this._wt.wtViewport.rowsRenderCalculator?this.hot.rowIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getLastRenderedRow(),-1):null}getFirstRenderedVisibleColumn(){return this._wt.wtViewport.columnsRenderCalculator?this.hot.columnIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getFirstRenderedColumn(),1):null}getLastRenderedVisibleColumn(){return this._wt.wtViewport.columnsRenderCalculator?this.hot.columnIndexMapper.getNearestNotHiddenIndex(this._wt.wtTable.getLastRenderedColumn(),-1):null}getFirstFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleRow())}getLastFullyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleRow())}getFirstFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstVisibleColumn())}getLastFullyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastVisibleColumn())}getFirstPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleRow())}getLastPartiallyVisibleRow(){return this.hot.rowIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleRow())}getFirstPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getFirstPartiallyVisibleColumn())}getLastPartiallyVisibleColumn(){return this.hot.columnIndexMapper.getVisualFromRenderableIndex(this._wt.wtScroll.getLastPartiallyVisibleColumn())}getColumnHeadersCount(){return Gc(Kc,this)}getRowHeadersCount(){return Gc(Xc,this)}getViewportWidth(){return this._wt.wtViewport.getViewportWidth()}getWorkspaceWidth(){return this._wt.wtViewport.getWorkspaceWidth()}getViewportHeight(){return this._wt.wtViewport.getViewportHeight()}getWorkspaceHeight(){return this._wt.wtViewport.getWorkspaceHeight()}getElementOverlayName(e){var t;return(null!==(t=this._wt.wtOverlays.getParentOverlay(e))&&void 0!==t?t:this._wt).wtTable.name}getOverlayByName(e){return this._wt.getOverlayByName(e)}isVisible(){return this._wt.wtTable.isVisible()}destroy(){this._wt.destroy(),this.eventManager.destroy()}}function ih(){return parseInt(this.hot.rootElement.getAttribute(Oe()[0]),10)}function oh(e){const t=qc(nh,this,ih).call(this)+e;ct(this.hot.rootElement,...Oe(t))}var sh=rh;const ah="ABCDEFGHIJKLMNOPQRSTUVWXYZ",lh=ah.length;function uh(e){let t,n=e+1,r="";while(n>0)t=(n-1)%lh,r=String.fromCharCode(65+t)+r,n=parseInt((n-t)/lh,10);return r}function ch(e){let t=0;if(e)for(let n=0,r=e.length-1;n<e.length;n+=1,r-=1)t+=lh**r*(ah.indexOf(e[n])+1);return t-=1,t}function hh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const n=[];let r,i;for(r=0;r<e;r++){const e=[];for(i=0;i<t;i++)e.push(uh(i)+(r+1));n.push(e)}return n}function dh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;const n=[];let r,i;for(r=0;r<e;r++){const e={};for(i=0;i<t;i++)e[`prop${i}`]=uh(i)+(r+1);n.push(e)}return n}function fh(e,t){const n=[];let r;for(let i=0;i<e;i++){r=[];for(let e=0;e<t;e++)r.push("");n.push(r)}return n}function ph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e;const r=[];return Array.isArray(e)&&Array.isArray(e[0])||(n=[e]),n.forEach(((e,n)=>{Array.isArray(e)?e.forEach(((e,i)=>{r.push([n+t,i,e])})):Object.keys(e).forEach((i=>{r.push([n+t,i,e[i]])}))})),r}function mh(e){let t=0;return Array.isArray(e)&&(e[0]&&Array.isArray(e[0])?t=e[0].length:e[0]&&_n(e[0])&&(t=Cn(e[0]))),t}function gh(e){return!!(Array.isArray(e)&&e.length&&e.every((e=>Array.isArray(e))))}function vh(e){return!!(Array.isArray(e)&&e.length&&e.every((e=>"object"===typeof e&&!Array.isArray(e)&&null!==e)))}function yh(e,t,n){return(t=bh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bh(e){var t=wh(e,"string");return"symbol"==typeof t?t:t+""}function wh(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class _h{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];yh(this,"hot",void 0),yh(this,"data",void 0),yh(this,"dataType","array"),yh(this,"colToProp",(()=>{})),yh(this,"propToCol",(()=>{})),this.hot=e,this.data=t}modifyRowData(e){let t;return this.hot.hasHook("modifyRowData")&&(t=this.hot.runHooks("modifyRowData",e)),void 0===t||Number.isInteger(t)?this.data[e]:t}getData(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.data&&0!==this.data.length?this.getByRange(null,null,e):this.data}setData(e){this.data=e}getAtColumn(e){const t=[];return C(this.data,((n,r)=>{const i=this.getAtCell(r,e);t.push(i)})),t}getAtRow(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=void 0===t&&void 0===n,{dataDotNotation:o}=this.hot.getSettings();let s=null,a=null;if(s=this.modifyRowData(e),Array.isArray(s))a=[],i?s.forEach(((t,n)=>{a[n]=this.getAtPhysicalCell(e,n,s)})):Ni(t,n,(n=>{a[n-t]=this.getAtPhysicalCell(e,n,s)}));else if(_n(s)||rn(s))if(a=r?[]:{},!i||r){const i=0,l=this.countFirstRowKeys()-1;Ni(i,l,(u=>{const c=this.colToProp(u);if(u>=(t||i)&&u<=(n||l)&&!Number.isInteger(c)){const t=this.getAtPhysicalCell(e,c,s);r?a.push(t):o?Mn(a,c,t):a[c]=t}}))}else Sn(s,((t,n)=>{const r=this.getAtPhysicalCell(e,n,s);o?Mn(a,n,r):a[n]=r}));return a}setAtCell(e,t,n){if(!(e>=this.countRows()||t>=this.countFirstRowKeys())){if(this.hot.hasHook("modifySourceData")){const r=Rn(n);this.hot.runHooks("modifySourceData",e,t,r,"set"),r.isTouched()&&(n=r.value)}Number.isInteger(t)?this.data[e][t]=n:Mn(this.data[e],t,n)}}getAtPhysicalCell(e,t,n){let r=null;if(n)if("string"===typeof t){const{dataDotNotation:e}=this.hot.getSettings();r=e?Tn(n,t):n[t]}else r="function"===typeof t?t(n):n[t];if(this.hot.hasHook("modifySourceData")){const n=Rn(r);this.hot.runHooks("modifySourceData",e,t,n,"get"),n.isTouched()&&(r=n.value)}return r}getAtCell(e,t){const n=this.modifyRowData(e);return this.getAtPhysicalCell(e,this.colToProp(t),n)}getByRange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!1,i=null,o=null,s=null,a=null;null===e||null===t?(r=!0,i=0,s=this.countRows()-1):(i=Math.min(e.row,t.row),o=Math.min(e.col,t.col),s=Math.max(e.row,t.row),a=Math.max(e.col,t.col));const l=[];return Ni(i,s,(e=>{l.push(r?this.getAtRow(e,void 0,void 0,n):this.getAtRow(e,o,a,n))})),l}countRows(){if(this.hot.hasHook("modifySourceLength")){const e=this.hot.runHooks("modifySourceLength");if(Number.isInteger(e))return e}return this.data.length}countFirstRowKeys(){return mh(this.data)}destroy(){this.data=null,this.hot=null}}var Eh=_h;const Sh="localHooks",Th={_localHooks:Object.create(null),addLocalHook(e,t){return this._localHooks[e]||(this._localHooks[e]=[]),this._localHooks[e].push(t),this},runLocalHooks(e,t,n,r,i,o,s){if(this._localHooks[e]){const a=this._localHooks[e].length;for(let l=0;l<a;l++)dn(this._localHooks[e][l],this,t,n,r,i,o,s)}},clearLocalHooks(){return this._localHooks={},this}};En(Th,"MIXIN_NAME",Sh,{writable:!1,enumerable:!1});var Mh=Th;function Ch(e,t,n){return(t=Rh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rh(e){var t=xh(e,"string");return"symbol"==typeof t?t:t+""}function xh(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Ah{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Ch(this,"indexedValues",[]),Ch(this,"initValueOrFn",void 0),this.initValueOrFn=e}getValues(){return this.indexedValues}getValueAtIndex(e){const t=this.indexedValues;if(e<t.length)return t[e]}setValues(e){this.indexedValues=e.slice(),this.runLocalHooks("change")}setValueAtIndex(e,t){return e<this.indexedValues.length&&(this.indexedValues[e]=t,this.runLocalHooks("change"),!0)}clear(){this.setDefaultValues()}getLength(){return this.getValues().length}setDefaultValues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.indexedValues.length=0,rn(this.initValueOrFn)?Ni(e-1,(e=>this.indexedValues.push(this.initValueOrFn(e)))):Ni(e-1,(()=>this.indexedValues.push(this.initValueOrFn))),this.runLocalHooks("change")}init(e){return this.setDefaultValues(e),this.runLocalHooks("init"),this}insert(){this.runLocalHooks("change")}remove(){this.runLocalHooks("change")}destroy(){this.clearLocalHooks(),this.indexedValues=null,this.initValueOrFn=null}}function Nh(e,t,n){return[...e.slice(0,t),...n,...e.slice(t)]}function Lh(e,t){return T(e,(e=>!1===t.includes(e)))}function kh(e,t){return M(e,(e=>e-t.filter((t=>t<e)).length))}function Oh(e,t){const n=t[0],r=t.length;return M(e,(e=>e>=n?e+r:e))}bn(Ah,Mh);class Ih extends Ah{constructor(){super((e=>e))}insert(e,t){const n=Oh(this.indexedValues,t);this.indexedValues=Nh(n,e,t),super.insert(e,t)}remove(e){const t=Lh(this.indexedValues,e);this.indexedValues=kh(t,e),super.remove(e)}}function Ph(e,t,n,r){const i=n.length?n[0]:void 0;return[...e.slice(0,i),...n.map(((e,t)=>rn(r)?r(e,t):r)),...void 0===i?[]:e.slice(i)]}function Dh(e,t){return T(e,((e,n)=>!1===t.includes(n)))}class Fh extends Ah{insert(e,t){this.indexedValues=Ph(this.indexedValues,e,t,this.initValueOrFn),super.insert(e,t)}remove(e){this.indexedValues=Dh(this.indexedValues,e),super.remove(e)}}class Hh extends Fh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(e)}getHiddenIndexes(){return S(this.getValues(),((e,t,n)=>(t&&e.push(n),e)),[])}}function Uh(e,t,n){return(t=Bh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bh(e){var t=jh(e,"string");return"symbol"==typeof t?t:t+""}function jh(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Yh extends Ah{constructor(){super(...arguments),Uh(this,"orderOfIndexes",[])}getValues(){return this.orderOfIndexes.map((e=>this.indexedValues[e]))}setValues(e){this.orderOfIndexes=[...Array(e.length).keys()],super.setValues(e)}setValueAtIndex(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.orderOfIndexes.length;return e<this.indexedValues.length&&(this.indexedValues[e]=t,!1===this.orderOfIndexes.includes(e)&&this.orderOfIndexes.splice(n,0,e),this.runLocalHooks("change"),!0)}clearValue(e){this.orderOfIndexes=Lh(this.orderOfIndexes,[e]),rn(this.initValueOrFn)?super.setValueAtIndex(e,this.initValueOrFn(e)):super.setValueAtIndex(e,this.initValueOrFn)}getLength(){return this.orderOfIndexes.length}setDefaultValues(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.indexedValues.length;this.orderOfIndexes.length=0,super.setDefaultValues(e)}insert(e,t){this.indexedValues=Ph(this.indexedValues,e,t,this.initValueOrFn),this.orderOfIndexes=Oh(this.orderOfIndexes,t),super.insert(e,t)}remove(e){this.indexedValues=Dh(this.indexedValues,e),this.orderOfIndexes=Lh(this.orderOfIndexes,e),this.orderOfIndexes=kh(this.orderOfIndexes,e),super.remove(e)}getEntries(){return this.orderOfIndexes.map((e=>[e,this.getValueAtIndex(e)]))}}class Vh extends Fh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super(e)}getTrimmedIndexes(){return S(this.getValues(),((e,t,n)=>(t&&e.push(n),e)),[])}}const Wh=new Map([["hiding",Hh],["index",Ah],["linkedPhysicalIndexToValue",Yh],["physicalIndexToValue",Fh],["trimming",Vh]]);function zh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Wh.has(e))throw new Error(`The provided map type ("${e}") does not exist.`);return new(Wh.get(e))(t)}function Gh(e,t,n){return(t=$h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $h(e){var t=qh(e,"string");return"symbol"==typeof t?t:t+""}function qh(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}let Kh=0;class Xh{constructor(){Gh(this,"collection",new Map)}register(e,t){!1===this.collection.has(e)&&(this.collection.set(e,t),t.addLocalHook("change",(()=>this.runLocalHooks("change",t))),Kh+=1)}unregister(e){const t=this.collection.get(e);U(t)&&(t.destroy(),this.collection.delete(e),this.runLocalHooks("change",t),Kh-=1)}unregisterAll(){this.collection.forEach(((e,t)=>this.unregister(t))),this.collection.clear()}get(e){return B(e)?Array.from(this.collection.values()):this.collection.get(e)}getLength(){return this.collection.size}removeFromEvery(e){this.collection.forEach((t=>{t.remove(e)}))}insertToEvery(e,t){this.collection.forEach((n=>{n.insert(e,t)}))}initEvery(e){this.collection.forEach((t=>{t.init(e)}))}}function Jh(){return Kh}function Qh(e,t,n){return(t=Zh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zh(e){var t=ed(e,"string");return"symbol"==typeof t?t:t+""}function ed(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}bn(Xh,Mh);class td extends Xh{constructor(e,t){super(),Qh(this,"mergedValuesCache",[]),Qh(this,"aggregationFunction",void 0),Qh(this,"fallbackValue",void 0),this.aggregationFunction=e,this.fallbackValue=t}getMergedValues(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===e)return this.mergedValuesCache;if(0===this.getLength())return[];const t=M(this.get(),(e=>e.getValues())),n=[],r=U(t[0])&&t[0].length||0;for(let i=0;i<r;i+=1){const e=[];for(let n=0;n<this.getLength();n+=1)e.push(t[n][i]);n.push(e)}return M(n,this.aggregationFunction)}getMergedValueAtIndex(e,t){const n=this.getMergedValues(t)[e];return U(n)?n:this.fallbackValue}updateCache(){this.mergedValuesCache=this.getMergedValues(!1)}}function nd(e,t,n){rd(e,t),t.set(e,n)}function rd(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function id(e,t,n){return e.set(sd(e,t),n),n}function od(e,t){return e.get(sd(e,t))}function sd(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var ad=new WeakMap;class ld{constructor(){nd(this,ad,[])}subscribe(e){return this.addLocalHook("change",e),this._write(od(ad,this)),this}unsubscribe(){return this.runLocalHooks("unsubscribe"),this.clearLocalHooks(),this}_write(e){return e.length>0&&this.runLocalHooks("change",e),this}_writeInitialChanges(e){id(ad,this,e)}}function ud(e,t){const n=[];let r=0,i=0;for(;r<e.length&&i<t.length;r++,i++)e[r]!==t[i]&&n.push({op:"replace",index:i,oldValue:e[r],newValue:t[i]});for(;r<t.length;r++)n.push({op:"insert",index:r,oldValue:void 0,newValue:t[r]});for(;i<e.length;i++)n.push({op:"remove",index:i,oldValue:e[i],newValue:void 0});return n}function cd(e,t,n){hd(e,t),t.set(e,n)}function hd(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dd(e,t){return e.get(pd(e,t))}function fd(e,t,n){return e.set(pd(e,t),n),n}function pd(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}bn(ld,Mh);var md=new WeakMap,gd=new WeakMap,vd=new WeakMap,yd=new WeakMap,bd=new WeakMap;class wd{constructor(){let{initialIndexValue:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};cd(this,md,new Set),cd(this,gd,[]),cd(this,vd,[]),cd(this,yd,!1),cd(this,bd,!1),fd(bd,this,null!==e&&void 0!==e&&e)}createObserver(){const e=new ld;return dd(md,this).add(e),e.addLocalHook("unsubscribe",(()=>{dd(md,this).delete(e)})),e._writeInitialChanges(ud(dd(gd,this),dd(vd,this))),e}emit(e){let t=dd(vd,this);dd(yd,this)&&dd(gd,this).length===e.length||(0===e.length?e=new Array(t.length).fill(dd(bd,this)):fd(gd,this,new Array(e.length).fill(dd(bd,this))),dd(yd,this)||(fd(yd,this,!0),t=dd(gd,this)));const n=ud(t,e);dd(md,this).forEach((e=>e._write(n))),fd(vd,this,e)}}function _d(e,t,n){return(t=Ed(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ed(e){var t=Sd(e,"string");return"symbol"==typeof t?t:t+""}function Sd(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}new Set;class Td{constructor(){_d(this,"indexesSequence",new Ih),_d(this,"trimmingMapsCollection",new td((e=>e.some((e=>!0===e))),!1)),_d(this,"hidingMapsCollection",new td((e=>e.some((e=>!0===e))),!1)),_d(this,"variousMapsCollection",new Xh),_d(this,"hidingChangesObservable",new wd({initialIndexValue:!1})),_d(this,"notTrimmedIndexesCache",[]),_d(this,"notHiddenIndexesCache",[]),_d(this,"isBatched",!1),_d(this,"indexesSequenceChanged",!1),_d(this,"indexesChangeSource",void 0),_d(this,"trimmedIndexesChanged",!1),_d(this,"hiddenIndexesChanged",!1),_d(this,"renderablePhysicalIndexesCache",[]),_d(this,"fromPhysicalToVisualIndexesCache",new Map),_d(this,"fromVisualToRenderableIndexesCache",new Map),this.indexesSequence.addLocalHook("change",(()=>{this.indexesSequenceChanged=!0,this.updateCache(),this.runLocalHooks("indexesSequenceChange",this.indexesChangeSource),this.runLocalHooks("change",this.indexesSequence,null)})),this.trimmingMapsCollection.addLocalHook("change",(e=>{this.trimmedIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.trimmingMapsCollection)})),this.hidingMapsCollection.addLocalHook("change",(e=>{this.hiddenIndexesChanged=!0,this.updateCache(),this.runLocalHooks("change",e,this.hidingMapsCollection)})),this.variousMapsCollection.addLocalHook("change",(e=>{this.runLocalHooks("change",e,this.variousMapsCollection)}))}suspendOperations(){this.isBatched=!0}resumeOperations(){this.isBatched=!1,this.updateCache()}createChangesObserver(e){if("hiding"!==e)throw new Error(`Unsupported index map type "${e}".`);return this.hidingChangesObservable.createObserver()}createAndRegisterIndexMap(e,t,n){return this.registerMap(e,zh(t,n))}registerMap(e,t){if(this.trimmingMapsCollection.get(e)||this.hidingMapsCollection.get(e)||this.variousMapsCollection.get(e))throw Error(`Map with name "${e}" has been already registered.`);t instanceof Vh?this.trimmingMapsCollection.register(e,t):t instanceof Hh?this.hidingMapsCollection.register(e,t):this.variousMapsCollection.register(e,t);const n=this.getNumberOfIndexes();return n>0&&t.init(n),t}unregisterMap(e){this.trimmingMapsCollection.unregister(e),this.hidingMapsCollection.unregister(e),this.variousMapsCollection.unregister(e)}unregisterAll(){this.trimmingMapsCollection.unregisterAll(),this.hidingMapsCollection.unregisterAll(),this.variousMapsCollection.unregisterAll()}getPhysicalFromVisualIndex(e){const t=this.notTrimmedIndexesCache[e];return U(t)?t:null}getPhysicalFromRenderableIndex(e){const t=this.renderablePhysicalIndexesCache[e];return U(t)?t:null}getVisualFromPhysicalIndex(e){const t=this.fromPhysicalToVisualIndexesCache.get(e);return U(t)?t:null}getVisualFromRenderableIndex(e){return this.getVisualFromPhysicalIndex(this.getPhysicalFromRenderableIndex(e))}getRenderableFromVisualIndex(e){const t=this.fromVisualToRenderableIndexesCache.get(e);return U(t)?t:null}getNearestNotHiddenIndex(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.getPhysicalFromVisualIndex(e);if(null===r)return null;if(this.fromVisualToRenderableIndexesCache.has(e))return e;const i=Array.from(this.fromVisualToRenderableIndexesCache.keys());let o=-1;return o=t>0?i.findIndex((t=>t>e)):i.reverse().findIndex((t=>t<e)),-1===o?n?this.getNearestNotHiddenIndex(e,-t,!1):null:i[o]}initToLength(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getNumberOfIndexes();this.notTrimmedIndexesCache=[...new Array(e).keys()],this.notHiddenIndexesCache=[...new Array(e).keys()],this.suspendOperations(),this.indexesChangeSource="init",this.indexesSequence.init(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.initEvery(e),this.resumeOperations(),this.suspendOperations(),this.hidingMapsCollection.initEvery(e),this.variousMapsCollection.initEvery(e),this.resumeOperations(),this.runLocalHooks("init")}fitToLength(e){const t=this.getNumberOfIndexes();if(e<t){const t=[...Array(this.getNumberOfIndexes()-e).keys()].map((t=>t+e));this.removeIndexes(t)}else this.insertIndexes(t,e-t)}getIndexesSequence(){return this.indexesSequence.getValues()}setIndexesSequence(e){void 0===this.indexesChangeSource&&(this.indexesChangeSource="update"),this.indexesSequence.setValues(e),"update"===this.indexesChangeSource&&(this.indexesChangeSource=void 0)}getNotTrimmedIndexes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===e)return this.notTrimmedIndexesCache;const t=this.getIndexesSequence();return t.filter((e=>!1===this.isTrimmed(e)))}getNotTrimmedIndexesLength(){return this.getNotTrimmedIndexes().length}getNotHiddenIndexes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===e)return this.notHiddenIndexesCache;const t=this.getIndexesSequence();return t.filter((e=>!1===this.isHidden(e)))}getNotHiddenIndexesLength(){return this.getNotHiddenIndexes().length}getRenderableIndexes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===e)return this.renderablePhysicalIndexesCache;const t=this.getNotTrimmedIndexes();return t.filter((e=>!1===this.isHidden(e)))}getRenderableIndexesLength(){return this.getRenderableIndexes().length}getNumberOfIndexes(){return this.getIndexesSequence().length}moveIndexes(e,t){"number"===typeof e&&(e=[e]);const n=M(e,(e=>this.getPhysicalFromVisualIndex(e))),r=this.getNotTrimmedIndexesLength(),i=e.length,o=Lh(this.getIndexesSequence(),n),s=o.filter((e=>!1===this.isTrimmed(e)));let a=o.indexOf(s[s.length-1])+1;if(t+i<r){const e=s[t];a=o.indexOf(e)}this.indexesChangeSource="move",this.setIndexesSequence(Nh(o,a,n)),this.indexesChangeSource=void 0}isTrimmed(e){return this.trimmingMapsCollection.getMergedValueAtIndex(e)}isHidden(e){return this.hidingMapsCollection.getMergedValueAtIndex(e)}insertIndexes(e,t){const n=this.getNotTrimmedIndexes()[e],r=U(n)?n:this.getNumberOfIndexes(),i=this.getIndexesSequence().includes(n)?this.getIndexesSequence().indexOf(n):this.getNumberOfIndexes(),o=M(new Array(t).fill(r),((e,t)=>e+t));this.suspendOperations(),this.indexesChangeSource="insert",this.indexesSequence.insert(i,o),this.indexesChangeSource=void 0,this.trimmingMapsCollection.insertToEvery(i,o),this.hidingMapsCollection.insertToEvery(i,o),this.variousMapsCollection.insertToEvery(i,o),this.resumeOperations()}removeIndexes(e){this.suspendOperations(),this.indexesChangeSource="remove",this.indexesSequence.remove(e),this.indexesChangeSource=void 0,this.trimmingMapsCollection.removeFromEvery(e),this.hidingMapsCollection.removeFromEvery(e),this.variousMapsCollection.removeFromEvery(e),this.resumeOperations()}updateCache(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.indexesSequenceChanged||this.trimmedIndexesChanged||this.hiddenIndexesChanged;(!0===e||!1===this.isBatched&&!0===t)&&(this.trimmingMapsCollection.updateCache(),this.hidingMapsCollection.updateCache(),this.notTrimmedIndexesCache=this.getNotTrimmedIndexes(!1),this.notHiddenIndexesCache=this.getNotHiddenIndexes(!1),this.renderablePhysicalIndexesCache=this.getRenderableIndexes(!1),this.cacheFromPhysicalToVisualIndexes(),this.cacheFromVisualToRenderableIndexes(),this.hiddenIndexesChanged&&this.hidingChangesObservable.emit(this.hidingMapsCollection.getMergedValues()),this.runLocalHooks("cacheUpdated",{indexesSequenceChanged:this.indexesSequenceChanged,trimmedIndexesChanged:this.trimmedIndexesChanged,hiddenIndexesChanged:this.hiddenIndexesChanged}),this.indexesSequenceChanged=!1,this.trimmedIndexesChanged=!1,this.hiddenIndexesChanged=!1)}cacheFromPhysicalToVisualIndexes(){const e=this.getNotTrimmedIndexesLength();this.fromPhysicalToVisualIndexesCache.clear();for(let t=0;t<e;t+=1){const e=this.getPhysicalFromVisualIndex(t);this.fromPhysicalToVisualIndexesCache.set(e,t)}}cacheFromVisualToRenderableIndexes(){const e=this.getRenderableIndexesLength();this.fromVisualToRenderableIndexesCache.clear();for(let t=0;t<e;t+=1){const e=this.getPhysicalFromRenderableIndex(t),n=this.getVisualFromPhysicalIndex(e);this.fromVisualToRenderableIndexesCache.set(n,t)}}}function Md(e,t){return Sn(t,((t,n)=>{B(e[n])&&(e[n]=t)})),e}function Cd(e){const t=/^([a-zA-Z]{2})-([a-zA-Z]{2})$/,n=t.exec(e);return n?`${n[1].toLowerCase()}-${n[2].toUpperCase()}`:e}function Rd(e){U(e)&&fr(F`Language with code "${e}" was not found. You should register particular language\x20
    before using it. Read more about this issue at: https://docs.handsontable.com/i18n/missing-language-code.`)}function xd(e,t){const n=Array.isArray(e)&&Number.isInteger(t);return n?e[t]:e}bn(Td,Mh);const{register:Ad,getValues:Nd}=Rr("phraseFormatters");function Ld(e,t){Ad(e,t)}function kd(){return Nd()}Ld("pluralize",xd);const Od="ContextMenu:items",Id=Od,Pd=`${Id}.noItems`,Dd=`${Id}.insertRowAbove`,Fd=`${Id}.insertRowBelow`,Hd=`${Id}.insertColumnOnTheLeft`,Ud=`${Id}.insertColumnOnTheRight`,Bd=`${Id}.removeRow`,jd=`${Id}.removeColumn`,Yd=`${Id}.undo`,Vd=`${Id}.redo`,Wd=`${Id}.readOnly`,zd=`${Id}.clearColumn`,Gd=`${Id}.copy`,$d=`${Id}.copyWithHeaders`,qd=`${Id}.copyWithGroupHeaders`,Kd=`${Id}.copyHeadersOnly`,Xd=`${Id}.cut`,Jd=`${Id}.freezeColumn`,Qd=`${Id}.unfreezeColumn`,Zd=`${Id}.mergeCells`,ef=`${Id}.unmergeCells`,tf=`${Id}.addComment`,nf=`${Id}.editComment`,rf=`${Id}.removeComment`,of=`${Id}.readOnlyComment`,sf=`${Id}.align`,af=`${Id}.align.left`,lf=`${Id}.align.center`,uf=`${Id}.align.right`,cf=`${Id}.align.justify`,hf=`${Id}.align.top`,df=`${Id}.align.middle`,ff=`${Id}.align.bottom`,pf=`${Id}.borders`,mf=`${Id}.borders.top`,gf=`${Id}.borders.right`,vf=`${Id}.borders.bottom`,yf=`${Id}.borders.left`,bf=`${Id}.borders.remove`,wf=`${Id}.nestedHeaders.insertChildRow`,_f=`${Id}.nestedHeaders.detachFromParent`,Ef=`${Id}.hideColumn`,Sf=`${Id}.showColumn`,Tf=`${Id}.hideRow`,Mf=`${Id}.showRow`,Cf="Filters:",Rf=`${Cf}conditions`,xf=`${Rf}.none`,Af=`${Rf}.isEmpty`,Nf=`${Rf}.isNotEmpty`,Lf=`${Rf}.isEqualTo`,kf=`${Rf}.isNotEqualTo`,Of=`${Rf}.beginsWith`,If=`${Rf}.endsWith`,Pf=`${Rf}.contains`,Df=`${Rf}.doesNotContain`,Ff=`${Rf}.byValue`,Hf=`${Rf}.greaterThan`,Uf=`${Rf}.greaterThanOrEqualTo`,Bf=`${Rf}.lessThan`,jf=`${Rf}.lessThanOrEqualTo`,Yf=`${Rf}.isBetween`,Vf=`${Rf}.isNotBetween`,Wf=`${Rf}.after`,zf=`${Rf}.before`,Gf=`${Rf}.today`,$f=`${Rf}.tomorrow`,qf=`${Rf}.yesterday`,Kf=`${Cf}labels.filterByCondition`,Xf=`${Cf}labels.filterByValue`,Jf=`${Cf}labels.conjunction`,Qf=`${Cf}labels.disjunction`,Zf=`${Cf}values.blankCells`,ep=`${Cf}buttons.selectAll`,tp=`${Cf}buttons.clear`,np=`${Cf}buttons.ok`,rp=`${Cf}buttons.cancel`,ip=`${Cf}buttons.placeholder.search`,op=`${Cf}buttons.placeholder.value`,sp=`${Cf}buttons.placeholder.secondValue`,ap="CheckboxRenderer:",lp=`${ap}checked`,up=`${ap}unchecked`,cp={languageCode:"en-US",[Pd]:"No available options",[Dd]:"Insert row above",[Fd]:"Insert row below",[Hd]:"Insert column left",[Ud]:"Insert column right",[Bd]:["Remove row","Remove rows"],[jd]:["Remove column","Remove columns"],[Yd]:"Undo",[Vd]:"Redo",[Wd]:"Read only",[zd]:"Clear column",[sf]:"Alignment",[af]:"Left",[lf]:"Center",[uf]:"Right",[cf]:"Justify",[hf]:"Top",[df]:"Middle",[ff]:"Bottom",[Jd]:"Freeze column",[Qd]:"Unfreeze column",[pf]:"Borders",[mf]:"Top",[gf]:"Right",[vf]:"Bottom",[yf]:"Left",[bf]:"Remove border(s)",[tf]:"Add comment",[nf]:"Edit comment",[rf]:"Delete comment",[of]:"Read-only comment",[Zd]:"Merge cells",[ef]:"Unmerge cells",[Gd]:"Copy",[$d]:["Copy with header","Copy with headers"],[qd]:["Copy with group header","Copy with group headers"],[Kd]:["Copy header only","Copy headers only"],[Xd]:"Cut",[wf]:"Insert child row",[_f]:"Detach from parent",[Ef]:["Hide column","Hide columns"],[Sf]:["Show column","Show columns"],[Tf]:["Hide row","Hide rows"],[Mf]:["Show row","Show rows"],[xf]:"None",[Af]:"Is empty",[Nf]:"Is not empty",[Lf]:"Is equal to",[kf]:"Is not equal to",[Of]:"Begins with",[If]:"Ends with",[Pf]:"Contains",[Df]:"Does not contain",[Hf]:"Greater than",[Uf]:"Greater than or equal to",[Bf]:"Less than",[jf]:"Less than or equal to",[Yf]:"Is between",[Vf]:"Is not between",[Wf]:"After",[zf]:"Before",[Gf]:"Today",[$f]:"Tomorrow",[qf]:"Yesterday",[Zf]:"Blank cells",[Kf]:"Filter by condition",[Xf]:"Filter by value",[Jf]:"And",[Qf]:"Or",[ep]:"Select all",[tp]:"Clear",[np]:"OK",[rp]:"Cancel",[ip]:"Search",[op]:"Value",[sp]:"Second value",[lp]:"Checked",[up]:"Unchecked"};var hp=cp;const dp=g,fp=hp.languageCode,{register:pp,getItem:mp,hasItem:gp,getValues:vp}=Rr("languagesDictionaries");function yp(e,t){let n=e,r=t;return _n(e)&&(r=e,n=r.languageCode),bp(n,r),pp(n,vn(r)),vn(r)}function bp(e,t){e!==fp&&Md(t,mp(fp))}function wp(e){return _p(e)?vn(mp(e)):null}function _p(e){return gp(e)}function Ep(){return vp()}function Sp(e,t,n){const r=wp(e);if(null===r)return null;const i=r[t];if(B(i))return null;const o=Tp(i,n);return Array.isArray(o)?o[0]:o}function Tp(e,t){let n=e;return C(kd(),(r=>{n=r(e,t)})),n}function Mp(e){let t=Cd(e);return _p(t)||(t=fp,Rd(e)),t}yp(hp);const Cp="active-header",Rp="header",xp="area",Ap="focus",Np="fill",Lp="row",kp="column",Op="custom-selection";class Ip{constructor(e,t){this.settings=e,this.cellRange=t||null}isEmpty(){return null===this.cellRange}add(e){return this.isEmpty()?this.cellRange=this.settings.createCellRange(e):this.cellRange.expand(e),this}replace(e,t){if(!this.isEmpty()){if(this.cellRange.from.isEqual(e))return this.cellRange.from=t,!0;if(this.cellRange.to.isEqual(e))return this.cellRange.to=t,!0}return!1}clear(){return this.cellRange=null,this}getCorners(){const e=this.cellRange.getOuterTopStartCorner(),t=this.cellRange.getOuterBottomEndCorner();return[e.row,e.col,t.row,t.col]}destroy(){this.runLocalHooks("destroy")}}bn(Ip,Mh);var Pp=Ip;function Dp(e,t,n){return(t=Fp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fp(e){var t=Hp(e,"string");return"symbol"==typeof t?t:t+""}function Hp(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Up extends Pp{constructor(e,t){super(e,null),Dp(this,"visualCellRange",null),this.visualCellRange=t||null,this.commit()}add(e){return null===this.visualCellRange?this.visualCellRange=this.settings.createCellRange(e):this.visualCellRange.expand(e),this}clear(){return this.visualCellRange=null,super.clear()}trimToVisibleCellsRangeOnly(e){let{from:t,to:n}=e,r=this.getNearestNotHiddenCoords(t,1),i=this.getNearestNotHiddenCoords(n,-1);return null===r||null===i?null:((r.row>i.row||r.col>i.col)&&(r=t,i=n),this.settings.createCellRange(r,r,i))}getNearestNotHiddenCoords(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;const r=this.getNearestNotHiddenIndex(this.settings.rowIndexMapper,e.row,t);if(null===r)return null;const i=this.getNearestNotHiddenIndex(this.settings.columnIndexMapper,e.col,n);return null===i?null:this.settings.createCellCoords(r,i)}getNearestNotHiddenIndex(e,t,n){return t<0?t:e.getNearestNotHiddenIndex(t,n)}commit(){if(null===this.visualCellRange)return this;const e=this.trimToVisibleCellsRangeOnly(this.visualCellRange);return this.cellRange=null===e?null:this.createRenderableCellRange(e.from,e.to),this}syncWith(e){const t=e.from.clone().normalize(),n="N-S"===e.getVerticalDirection()?1:-1,r="W-E"===e.getHorizontalDirection()?1:-1,i=this.settings.visualToRenderableCoords(this.visualCellRange.highlight);let o=null;if(null!==i&&null!==i.col&&null!==i.row||(o=this.getNearestNotHiddenCoords(t,n,r)),null!==o&&e.overlaps(o)){const t=e.highlight.clone();if(t.row>=0&&(t.row=o.row),t.col>=0&&(t.col=o.col),null===this.cellRange){const e=this.settings.visualToRenderableCoords(t);this.cellRange=this.settings.createCellRange(e)}e.setHighlight(t)}return"focus"===this.settings.selectionType&&null!==i&&null===o&&e.setHighlight(this.visualCellRange.highlight),this}getCorners(){const{from:e,to:t}=this.cellRange;return[Math.min(e.row,t.row),Math.min(e.col,t.col),Math.max(e.row,t.row),Math.max(e.col,t.col)]}getVisualCorners(){const e=this.settings.renderableToVisualCoords(this.cellRange.getTopStartCorner()),t=this.settings.renderableToVisualCoords(this.cellRange.getBottomEndCorner());return[e.row,e.col,t.row,t.col]}createRenderableCellRange(e,t){const n=this.settings.visualToRenderableCoords(e),r=this.settings.visualToRenderableCoords(t);return null===n.row||null===n.col||null===r.row||null===r.col?null:this.settings.createCellRange(n,n,r)}}var Bp=Up;function jp(e){let{activeHeaderClassName:t,...n}=e;return new Bp({className:t,...n,selectionType:Cp})}function Yp(e){let{areaCornerVisible:t,...n}=e;return new Bp({className:"area",createLayers:!0,border:{width:1,color:"#4b89ff",cornerVisible:t},...n,selectionType:xp})}function Vp(e){let{...t}=e;return new Bp({className:"highlight",...t,selectionType:xp})}function Wp(e){let{columnClassName:t,...n}=e;return new Bp({className:t,...n,selectionType:kp})}function zp(e){let{cellCornerVisible:t,...n}=e;return new Bp({className:"current",headerAttributes:[je()],border:{width:2,color:"#4b89ff",cornerVisible:t},...n,selectionType:Ap})}function Gp(e){let{border:t,visualCellRange:n,...r}=e;return new Bp({...t,...r,selectionType:Op},n)}function $p(e){let{...t}=e;return new Bp({className:"fill",border:{width:1,color:"#ff0000"},...t,selectionType:Np})}function qp(e){let{headerClassName:t,...n}=e;return new Bp({className:t,...n,selectionType:Rp})}function Kp(e){let{rowClassName:t,...n}=e;return new Bp({className:t,...n,selectionType:Lp})}function Xp(e,t){Jp(e,t),t.add(e)}function Jp(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Qp(e,t,n){return(t=Zp(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zp(e){var t=em(e,"string");return"symbol"==typeof t?t:t+""}function em(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function tm(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var nm=new WeakSet;class rm{constructor(e){Xp(this,nm),Qp(this,"options",void 0),Qp(this,"layerLevel",0),Qp(this,"focus",void 0),Qp(this,"fill",void 0),Qp(this,"layeredAreas",new Map),Qp(this,"areas",new Map),Qp(this,"rowHeaders",new Map),Qp(this,"columnHeaders",new Map),Qp(this,"activeRowHeaders",new Map),Qp(this,"activeColumnHeaders",new Map),Qp(this,"activeCornerHeaders",new Map),Qp(this,"rowHighlights",new Map),Qp(this,"columnHighlights",new Map),Qp(this,"customSelections",[]),this.options=e,this.focus=zp(e),this.fill=$p(e)}isEnabledFor(e,t){let n=e;e===Ap&&(n="current");let r=this.options.disabledCellSelection(t.row,t.col);return"string"===typeof r&&(r=[r]),!1===r||Array.isArray(r)&&!r.includes(n)}useLayerLevel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.layerLevel=e,this}getFocus(){return this.focus}getFill(){return this.fill}createLayeredArea(){return tm(nm,this,im).call(this,this.layeredAreas,Yp)}getLayeredAreas(){return[...this.layeredAreas.values()]}createArea(){return tm(nm,this,im).call(this,this.areas,Vp)}getAreas(){return[...this.areas.values()]}createRowHeader(){return tm(nm,this,im).call(this,this.rowHeaders,qp)}getRowHeaders(){return[...this.rowHeaders.values()]}createColumnHeader(){return tm(nm,this,im).call(this,this.columnHeaders,qp)}getColumnHeaders(){return[...this.columnHeaders.values()]}createActiveRowHeader(){return tm(nm,this,im).call(this,this.activeRowHeaders,jp)}getActiveRowHeaders(){return[...this.activeRowHeaders.values()]}createActiveColumnHeader(){return tm(nm,this,im).call(this,this.activeColumnHeaders,jp)}getActiveColumnHeaders(){return[...this.activeColumnHeaders.values()]}createActiveCornerHeader(){return tm(nm,this,im).call(this,this.activeCornerHeaders,jp)}getActiveCornerHeaders(){return[...this.activeCornerHeaders.values()]}createRowHighlight(){return tm(nm,this,im).call(this,this.rowHighlights,Kp)}getRowHighlights(){return[...this.rowHighlights.values()]}createColumnHighlight(){return tm(nm,this,im).call(this,this.columnHighlights,Wp)}getColumnHighlights(){return[...this.columnHighlights.values()]}getCustomSelections(){return[...this.customSelections.values()]}addCustomSelection(e){this.customSelections.push(Gp({...this.options,...e}))}clear(){this.focus.clear(),this.fill.clear(),C(this.areas.values(),(e=>{e.clear()})),C(this.layeredAreas.values(),(e=>{e.clear()})),C(this.rowHeaders.values(),(e=>{e.clear()})),C(this.columnHeaders.values(),(e=>{e.clear()})),C(this.activeRowHeaders.values(),(e=>{e.clear()})),C(this.activeColumnHeaders.values(),(e=>{e.clear()})),C(this.activeCornerHeaders.values(),(e=>{e.clear()})),C(this.rowHighlights.values(),(e=>{e.clear()})),C(this.columnHighlights.values(),(e=>{e.clear()}))}[Symbol.iterator](){return[this.focus,this.fill,...this.areas.values(),...this.layeredAreas.values(),...this.rowHeaders.values(),...this.columnHeaders.values(),...this.activeRowHeaders.values(),...this.activeColumnHeaders.values(),...this.activeCornerHeaders.values(),...this.rowHighlights.values(),...this.columnHighlights.values(),...this.customSelections][Symbol.iterator]()}}function im(e,t){const n=this.layerLevel;if(e.has(n))return e.get(n);const r=t({layerLevel:n,...this.options});return e.set(n,r),r}var om=rm;function sm(e,t,n){return(t=am(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function am(e){var t=lm(e,"string");return"symbol"==typeof t?t:t+""}function lm(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class um{constructor(e){sm(this,"ranges",[]),sm(this,"createCellRange",void 0),this.createCellRange=e}isEmpty(){return 0===this.size()}set(e){return this.clear(),this.ranges.push(this.createCellRange(e)),this}add(e){return this.ranges.push(this.createCellRange(e)),this}pop(){return this.ranges.pop(),this}current(){return this.peekByIndex(this.size()-1)}previous(){return this.peekByIndex(this.size()-2)}includes(e){return this.ranges.some((t=>t.includes(e)))}clear(){return this.ranges.length=0,this}size(){return this.ranges.length}peekByIndex(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t>=0&&t<this.size()&&(e=this.ranges[t]),e}[Symbol.iterator](){return this.ranges[Symbol.iterator]()}}var cm=um;function hm(e,t){fm(e,t),t.add(e)}function dm(e,t,n){fm(e,t),t.set(e,n)}function fm(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pm(e,t){return e.get(gm(e,t))}function mm(e,t,n){return e.set(gm(e,t),n),n}function gm(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var vm=new WeakMap,ym=new WeakMap,bm=new WeakMap,wm=new WeakSet;class _m{constructor(e,t){hm(this,wm),dm(this,vm,void 0),dm(this,ym,void 0),dm(this,bm,{x:0,y:0}),mm(vm,this,e),mm(ym,this,t)}transformStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=pm(ym,this).createCellCoords(e,t);let i=pm(vm,this).current().highlight;const o=pm(ym,this).visualToRenderableCoords(i);let s=0,a=0;if(this.runLocalHooks("beforeTransformStart",r),null!==o.row&&null!==o.col){const{width:e,height:t}=gm(wm,this,Sm).call(this),{row:o,col:l}=gm(wm,this,Cm).call(this,i),u=pm(ym,this).fixedRowsBottom(),c=pm(ym,this).minSpareRows(),h=pm(ym,this).minSpareCols(),d=pm(ym,this).autoWrapRow(),f=pm(ym,this).autoWrapCol(),p=pm(ym,this).createCellCoords(o+r.row,l+r.col);if(p.row>=t){const r=Rn(n&&c>0&&0===u),i=p.col+1,o=pm(ym,this).createCellCoords(p.row-t,i>=e?i-e:i);this.runLocalHooks("beforeColumnWrap",r,gm(wm,this,Rm).call(this,o),i>=e),r.value?this.runLocalHooks("insertRowRequire",pm(ym,this).countRenderableRows()):f&&p.assign(o)}else if(p.row<0){const n=Rn(f),r=p.col-1,i=pm(ym,this).createCellCoords(t+p.row,r<0?e+r:r);this.runLocalHooks("beforeColumnWrap",n,gm(wm,this,Rm).call(this,i),r<0),f&&p.assign(i)}if(p.col>=e){const r=Rn(n&&h>0),i=p.row+1,o=pm(ym,this).createCellCoords(i>=t?i-t:i,p.col-e);this.runLocalHooks("beforeRowWrap",r,gm(wm,this,Rm).call(this,o),i>=t),r.value?this.runLocalHooks("insertColRequire",pm(ym,this).countRenderableColumns()):d&&p.assign(o)}else if(p.col<0){const n=Rn(d),r=p.row-1,i=pm(ym,this).createCellCoords(r<0?t+r:r,e+p.col);this.runLocalHooks("beforeRowWrap",n,gm(wm,this,Rm).call(this,i),r<0),d&&p.assign(i)}const{rowDir:m,colDir:g}=gm(wm,this,Em).call(this,p);s=m,a=g,i=gm(wm,this,Rm).call(this,p)}return this.runLocalHooks("afterTransformStart",i,s,a),i}transformEnd(e,t){const n=pm(ym,this).createCellCoords(e,t),r=pm(vm,this).current(),i=pm(ym,this).visualToRenderableCoords(r.highlight),o=gm(wm,this,Tm).call(this,r.to.row,r.from.row),s=gm(wm,this,Mm).call(this,r.to.col,r.from.col),a=r.to.clone();let l=0,u=0;if(this.runLocalHooks("beforeTransformEnd",n),null!==i.row&&null!==i.col&&null!==o&&null!==s){const{row:e,col:t}=gm(wm,this,Cm).call(this,r.highlight),i=pm(ym,this).createCellCoords(o+n.row,s+n.col),c=r.getTopStartCorner(),h=r.getTopEndCorner(),d=r.getBottomEndCorner();if(n.col<0&&s>=t&&i.col<t){const e=i.col-t;i.col=gm(wm,this,Mm).call(this,c.col,h.col)+e}else if(n.col>0&&s<=t&&i.col>t){const e=gm(wm,this,Mm).call(this,h.col,c.col),t=Math.max(i.col-e,1);i.col=e+t}if(n.row<0&&o>=e&&i.row<e){const t=i.row-e;i.row=gm(wm,this,Tm).call(this,c.row,d.row)+t}else if(n.row>0&&o<=e&&i.row>e){const e=gm(wm,this,Tm).call(this,d.row,c.row),t=Math.max(i.row-e,1);i.row=e+t}const{rowDir:f,colDir:p}=gm(wm,this,Em).call(this,i);l=f,u=p;const m=gm(wm,this,Rm).call(this,i);0===n.row&&0!==n.col?a.col=m.col:0!==n.row&&0===n.col?a.row=m.row:(a.row=m.row,a.col=m.col)}return this.runLocalHooks("afterTransformEnd",a,l,u),a}setOffsetSize(e){let{x:t,y:n}=e;mm(bm,this,{x:t,y:n})}resetOffsetSize(){mm(bm,this,{x:0,y:0})}}function Em(e){const{width:t,height:n}=gm(wm,this,Sm).call(this);let r=0,i=0;return e.row<0?(r=-1,e.row=0):e.row>0&&e.row>=n&&(r=1,e.row=n-1),e.col<0?(i=-1,e.col=0):e.col>0&&e.col>=t&&(i=1,e.col=t-1),{rowDir:r,colDir:i}}function Sm(){return{width:pm(bm,this).x+pm(ym,this).countRenderableColumns(),height:pm(bm,this).y+pm(ym,this).countRenderableRows()}}function Tm(e,t){const n=pm(ym,this).findFirstNonHiddenRenderableRow(e,t);return null===n?null:pm(bm,this).y+n}function Mm(e,t){const n=pm(ym,this).findFirstNonHiddenRenderableColumn(e,t);return null===n?null:pm(bm,this).x+n}function Cm(e){const{row:t,col:n}=pm(ym,this).visualToRenderableCoords(e);if(null===t||null===n)throw new Error("Renderable coords are not visible.");return pm(ym,this).createCellCoords(pm(bm,this).y+t,pm(bm,this).x+n)}function Rm(e){const t=e.clone();return t.col=e.col-pm(bm,this).x,t.row=e.row-pm(bm,this).y,pm(ym,this).renderableToVisualCoords(t)}bn(_m,Mh);var xm=_m;const Am=0,Nm=1,Lm=2,km=3,Om=[km,Lm],Im=[["number"],["number","string"],["number","undefined"],["number","string","undefined"]],Pm=Symbol("root"),Dm=Symbol("child");function Fm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pm;if(t!==Pm&&t!==Dm)throw new Error("The second argument is used internally only and cannot be overwritten.");const n=Array.isArray(e),r=t===Pm;let i=Am;if(n){const t=e[0];if(0===e.length)i=Nm;else if(r&&t instanceof hl)i=km;else if(r&&Array.isArray(t))i=Fm(t,Dm);else if(e.length>=2&&e.length<=4){const t=!e.some(((e,t)=>!Im[t].includes(typeof e)));t&&(i=Lm)}}return i}function Hm(e){let{createCellCoords:t,createCellRange:n,keepDirection:r=!1,propToCol:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Om.includes(e))throw new Error("Unsupported selection ranges schema type was provided.");return function(o){const s=e===km;let a=s?o.from.row:o[0],l=s?o.from.col:o[1],u=s?o.to.row:o[2],c=s?o.to.col:o[3];if("function"===typeof i&&("string"===typeof l&&(l=i(l)),"string"===typeof c&&(c=i(c))),B(u)&&(u=a),B(c)&&(c=l),!r){const e=a,t=l,n=u,r=c;a=Math.min(e,n),l=Math.min(t,r),u=Math.max(e,n),c=Math.max(t,r)}const h=t(a,l),d=t(u,c);return n(h,h,d)}}function Um(e){const t=Fm(e.getSelected());if(t===Am||t===Nm)return[];const n=Hm(t,{createCellCoords:e._createCellCoords.bind(e),createCellRange:e._createCellRange.bind(e)}),r=new Set;C(e.getSelected(),(e=>{const{from:t,to:i}=n(e),o=Math.max(t.col,0),s=i.col-o+1;C(Array.from(new Array(s),((e,t)=>o+t)),(e=>{r.has(e)||r.add(e)}))}));const i=Array.from(r).sort(((e,t)=>e-t)),o=S(i,((e,t,n,r)=>(0!==n&&t===r[n-1]+1?e[e.length-1][1]+=1:e.push([t,1]),e)),[]);return o}function Bm(e){const t=Fm(e.getSelected());if(t===Am||t===Nm)return[];const n=Hm(t,{createCellCoords:e._createCellCoords.bind(e),createCellRange:e._createCellRange.bind(e)}),r=new Set;C(e.getSelected(),(e=>{const{from:t,to:i}=n(e),o=Math.max(t.row,0),s=i.row-o+1;C(Array.from(new Array(s),((e,t)=>o+t)),(e=>{r.has(e)||r.add(e)}))}));const i=Array.from(r).sort(((e,t)=>e-t)),o=S(i,((e,t,n,r)=>(0!==n&&t===r[n-1]+1?e[e.length-1][1]+=1:e.push([t,1]),e)),[]);return o}function jm(e,t,n){Ym(e,t),t.set(e,n)}function Ym(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Vm(e,t,n){return(t=Wm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wm(e){var t=zm(e,"string");return"symbol"==typeof t?t:t+""}function zm(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gm(e,t){return e.get(qm(e,t))}function $m(e,t,n){return e.set(qm(e,t),n),n}function qm(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Km=new WeakMap,Xm=new WeakMap,Jm=new WeakMap,Qm=new WeakMap,Zm=new WeakMap,eg=new WeakMap;class tg{constructor(e,t){var n=this;Vm(this,"settings",void 0),Vm(this,"tableProps",void 0),Vm(this,"inProgress",!1),Vm(this,"selectedRange",new cm(((e,t,n)=>this.tableProps.createCellRange(e,t,n)))),Vm(this,"highlight",void 0),jm(this,Km,void 0),jm(this,Xm,void 0),Vm(this,"selectedByRowHeader",new Set),Vm(this,"selectedByColumnHeader",new Set),jm(this,Jm,!1),jm(this,Qm,!1),jm(this,Zm,"unknown"),jm(this,eg,-1),this.settings=e,this.tableProps=t,this.highlight=new om({headerClassName:e.currentHeaderClassName,activeHeaderClassName:e.activeHeaderClassName,rowClassName:e.currentRowClassName,columnClassName:e.currentColClassName,cellAttributes:[je()],rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,disabledCellSelection:(e,t)=>this.tableProps.isDisabledCellSelection(e,t),cellCornerVisible:function(){return n.isCellCornerVisible(...arguments)},areaCornerVisible:function(){return n.isAreaCornerVisible(...arguments)},visualToRenderableCoords:e=>this.tableProps.visualToRenderableCoords(e),renderableToVisualCoords:e=>this.tableProps.renderableToVisualCoords(e),createCellCoords:(e,t)=>this.tableProps.createCellCoords(e,t),createCellRange:(e,t,n)=>this.tableProps.createCellRange(e,t,n)}),$m(Km,this,new xm(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>this.tableProps.countRenderableRows(),countRenderableColumns:()=>this.tableProps.countRenderableColumns(),visualToRenderableCoords:e=>this.tableProps.visualToRenderableCoords(e),renderableToVisualCoords:e=>this.tableProps.renderableToVisualCoords(e),findFirstNonHiddenRenderableRow:function(){return n.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return n.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(e,t)=>this.tableProps.createCellCoords(e,t),fixedRowsBottom:()=>e.fixedRowsBottom,minSpareRows:()=>e.minSpareRows,minSpareCols:()=>e.minSpareCols,autoWrapRow:()=>e.autoWrapRow,autoWrapCol:()=>e.autoWrapCol})),$m(Xm,this,new xm(this.selectedRange,{rowIndexMapper:this.tableProps.rowIndexMapper,columnIndexMapper:this.tableProps.columnIndexMapper,countRenderableRows:()=>{const e=this.selectedRange.current();return this.tableProps.countRenderableRowsInRange(0,e.getOuterBottomEndCorner().row)},countRenderableColumns:()=>{const e=this.selectedRange.current();return this.tableProps.countRenderableColumnsInRange(0,e.getOuterBottomEndCorner().col)},visualToRenderableCoords:e=>this.tableProps.visualToRenderableCoords(e),renderableToVisualCoords:e=>this.tableProps.renderableToVisualCoords(e),findFirstNonHiddenRenderableRow:function(){return n.tableProps.findFirstNonHiddenRenderableRow(...arguments)},findFirstNonHiddenRenderableColumn:function(){return n.tableProps.findFirstNonHiddenRenderableColumn(...arguments)},createCellCoords:(e,t)=>this.tableProps.createCellCoords(e,t),fixedRowsBottom:()=>0,minSpareRows:()=>0,minSpareCols:()=>0,autoWrapRow:()=>!0,autoWrapCol:()=>!0})),Gm(Km,this).addLocalHook("beforeTransformStart",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("beforeModifyTransformStart",...t)})),Gm(Km,this).addLocalHook("afterTransformStart",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("afterModifyTransformStart",...t)})),Gm(Km,this).addLocalHook("beforeTransformEnd",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("beforeModifyTransformEnd",...t)})),Gm(Km,this).addLocalHook("afterTransformEnd",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("afterModifyTransformEnd",...t)})),Gm(Km,this).addLocalHook("insertRowRequire",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("insertRowRequire",...t)})),Gm(Km,this).addLocalHook("insertColRequire",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("insertColRequire",...t)})),Gm(Km,this).addLocalHook("beforeRowWrap",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("beforeRowWrap",...t)})),Gm(Km,this).addLocalHook("beforeColumnWrap",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("beforeColumnWrap",...t)})),Gm(Xm,this).addLocalHook("beforeTransformStart",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("beforeModifyTransformFocus",...t)})),Gm(Xm,this).addLocalHook("afterTransformStart",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("afterModifyTransformFocus",...t)}))}getSelectedRange(){return this.selectedRange}markSource(e){$m(Zm,this,e)}markEndSource(){$m(Zm,this,"unknown")}getSelectionSource(){return Gm(Zm,this)}setExpectedLayers(e){$m(eg,this,e)}begin(){this.inProgress=!0}finish(){this.runLocalHooks("afterSelectionFinished",Array.from(this.selectedRange)),this.inProgress=!1,$m(eg,this,-1)}isInProgress(){return this.inProgress}setRangeStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;const i="multiple"===this.settings.selectionMode,o=B(t)?this.tableProps.getShortcutManager().isCtrlPressed():t,s=e.clone();$m(Jm,this,!1),this.runLocalHooks("beforeSetRangeStart"+(n?"Only":""),s),(!i||i&&!o&&B(t))&&this.selectedRange.clear(),this.selectedRange.add(s).current().setHighlight(r.clone()),0===this.getLayerLevel()&&(this.selectedByRowHeader.clear(),this.selectedByColumnHeader.clear()),n||this.setRangeEnd(e)}setRangeStartOnly(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;this.setRangeStart(e,t,!0,n)}setRangeEnd(e){if(this.selectedRange.isEmpty())return;const t=e.clone(),n=this.tableProps.countRows(),r=this.tableProps.countCols(),i=this.selectedRange.current().clone().setTo(e).isSingleHeader();if((n>0||r>0)&&(0===n&&t.col<0&&!i||0===r&&t.row<0&&!i))return;this.runLocalHooks("beforeSetRangeEnd",t),this.begin();const o=this.selectedRange.current();if(this.settings.navigableHeaders||o.highlight.normalize(),"single"===this.settings.selectionMode)o.setFrom(o.highlight),o.setTo(o.highlight);else{const e=o.getHorizontalDirection(),n=o.getVerticalDirection(),r=this.isMultiple();o.setTo(t),r&&(e!==o.getHorizontalDirection()||1===o.getWidth()&&!o.includes(o.highlight))&&o.from.assign({col:o.highlight.col}),r&&(n!==o.getVerticalDirection()||1===o.getHeight()&&!o.includes(o.highlight))&&o.from.assign({row:o.highlight.row})}n>0&&r>0&&(!this.settings.navigableHeaders||this.settings.navigableHeaders&&!o.isSingleHeader())&&o.to.normalize(),this.runLocalHooks("beforeHighlightSet"),this.setRangeFocus(this.selectedRange.current().highlight),this.applyAndCommit();const s=-1===Gm(eg,this)||this.selectedRange.size()===Gm(eg,this);this.runLocalHooks("afterSetRangeEnd",e,s)}applyAndCommit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedRange.current(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLayerLevel();const n=this.tableProps.countRows(),r=this.tableProps.countCols();t<this.highlight.layerLevel&&(C(this.highlight.getAreas(),(e=>{e.clear()})),C(this.highlight.getLayeredAreas(),(e=>{e.clear()})),C(this.highlight.getRowHeaders(),(e=>{e.clear()})),C(this.highlight.getColumnHeaders(),(e=>{e.clear()})),C(this.highlight.getActiveRowHeaders(),(e=>{e.clear()})),C(this.highlight.getActiveColumnHeaders(),(e=>{e.clear()})),C(this.highlight.getActiveCornerHeaders(),(e=>{e.clear()})),C(this.highlight.getRowHighlights(),(e=>{e.clear()})),C(this.highlight.getColumnHighlights(),(e=>{e.clear()}))),this.highlight.useLayerLevel(t);const i=this.highlight.createArea(),o=this.highlight.createLayeredArea(),s=this.highlight.createRowHeader(),a=this.highlight.createColumnHeader(),l=this.highlight.createActiveRowHeader(),u=this.highlight.createActiveColumnHeader(),c=this.highlight.createActiveCornerHeader(),h=this.highlight.createRowHighlight(),d=this.highlight.createColumnHighlight();if(i.clear(),o.clear(),s.clear(),a.clear(),l.clear(),u.clear(),c.clear(),h.clear(),d.clear(),this.highlight.isEnabledFor(xp,e.highlight)&&(this.isMultiple()||t>=1)&&(i.add(e.from).add(e.to).commit(),o.add(e.from).add(e.to).commit(),1===t)){const e=this.selectedRange.previous();this.highlight.useLayerLevel(t-1),this.highlight.createArea().add(e.from).commit().syncWith(e),this.highlight.createLayeredArea().add(e.from).commit().syncWith(e),this.highlight.useLayerLevel(t)}if(this.highlight.isEnabledFor(Rp,e.highlight)){if(!e.isSingleHeader()){const t=this.tableProps.createCellCoords(Math.max(e.from.row,0),-1),n=this.tableProps.createCellCoords(e.to.row,-1),r=this.tableProps.createCellCoords(-1,Math.max(e.from.col,0)),i=this.tableProps.createCellCoords(-1,e.to.col);"single"===this.settings.selectionMode?(s.add(t).commit(),a.add(r).commit(),h.add(t).commit(),d.add(r).commit()):(s.add(t).add(n).commit(),a.add(r).add(i).commit(),h.add(t).add(n).commit(),d.add(r).add(i).commit())}const t=!Gm(Qm,this)&&this.isEntireRowSelected()&&(r>0&&r===e.getWidth()||0===r&&this.isSelectedByRowHeader()),i=!Gm(Qm,this)&&this.isEntireColumnSelected()&&(n>0&&n===e.getHeight()||0===n&&this.isSelectedByColumnHeader());t&&l.add(this.tableProps.createCellCoords(Math.max(e.from.row,0),Math.min(-this.tableProps.countRowHeaders(),-1))).add(this.tableProps.createCellCoords(Math.max(e.to.row,0),-1)).commit(),i&&u.add(this.tableProps.createCellCoords(Math.min(-this.tableProps.countColHeaders(),-1),Math.max(e.from.col,0))).add(this.tableProps.createCellCoords(-1,Math.max(e.to.col,0))).commit(),t&&i&&c.add(this.tableProps.createCellCoords(-this.tableProps.countColHeaders(),-this.tableProps.countRowHeaders())).add(this.tableProps.createCellCoords(-1,-1)).commit()}}setRangeFocus(e){if(this.selectedRange.isEmpty())return;const t=this.selectedRange.current();this.inProgress||this.runLocalHooks("beforeSetFocus",e);const n=this.highlight.getFocus();n.clear(),t.setHighlight(e),this.inProgress||this.runLocalHooks("beforeHighlightSet"),this.highlight.isEnabledFor(Ap,t.highlight)&&n.add(t.highlight).commit().syncWith(t),this.inProgress||($m(Jm,this,!0),this.runLocalHooks("afterSetFocus",t.highlight))}transformStart(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.settings.navigableHeaders?Gm(Km,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):Gm(Km,this).resetOffsetSize(),this.setRangeStart(Gm(Km,this).transformStart(e,t,n))}transformEnd(e,t){this.settings.navigableHeaders?Gm(Km,this).setOffsetSize({x:this.tableProps.countRowHeaders(),y:this.tableProps.countColHeaders()}):Gm(Km,this).resetOffsetSize(),this.setRangeEnd(Gm(Km,this).transformEnd(e,t))}transformFocus(e,t){const n=this.selectedRange.current(),{row:r,col:i}=n.getOuterTopStartCorner(),o=this.tableProps.countRenderableColumnsInRange(0,i-1),s=this.tableProps.countRenderableRowsInRange(0,r-1);n.highlight.isHeader()?Gm(Xm,this).setOffsetSize({x:i<0?Math.abs(i):-o,y:r<0?Math.abs(r):-s}):Gm(Xm,this).setOffsetSize({x:i<0?0:-o,y:r<0?0:-s});const a=Gm(Xm,this).transformStart(e,t);this.setRangeFocus(a.normalize())}shiftRows(e,t){if(!this.isSelected())return;const n=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByColumnHeader()||n.getOuterTopStartCorner().row>=e){const{from:r,to:i,highlight:o}=n,s=this.tableProps.countRows(),a=this.isSelectedByRowHeader(),l=this.isSelectedByColumnHeader(),u=l?-1:0,c=l?0:t;this.getSelectedRange().pop();const h=this.tableProps.createCellCoords(Oi(r.row+c,u,s-1),r.col),d=this.tableProps.createCellCoords(Oi(i.row+t,u,s-1),i.col);this.markSource("shift"),o.row>=e?this.setRangeStartOnly(h,!0,this.tableProps.createCellCoords(Oi(o.row+t,0,s-1),o.col)):this.setRangeStartOnly(h,!0),a&&this.selectedByRowHeader.add(this.getLayerLevel()),l&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(d),this.markEndSource()}}shiftColumns(e,t){if(!this.isSelected())return;const n=this.selectedRange.current();if(this.isSelectedByCorner())this.selectAll(!0,!0,{disableHeadersHighlight:!0});else if(this.isSelectedByRowHeader()||n.getOuterTopStartCorner().col>=e){const{from:r,to:i,highlight:o}=n,s=this.tableProps.countCols(),a=this.isSelectedByRowHeader(),l=this.isSelectedByColumnHeader(),u=a?-1:0,c=a?0:t;this.getSelectedRange().pop();const h=this.tableProps.createCellCoords(r.row,Oi(r.col+c,u,s-1)),d=this.tableProps.createCellCoords(i.row,Oi(i.col+t,u,s-1));this.markSource("shift"),o.col>=e?this.setRangeStartOnly(h,!0,this.tableProps.createCellCoords(o.row,Oi(o.col+t,0,s-1))):this.setRangeStartOnly(h,!0),a&&this.selectedByRowHeader.add(this.getLayerLevel()),l&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(d),this.markEndSource()}}getLayerLevel(){return this.selectedRange.size()-1}isSelected(){return!this.selectedRange.isEmpty()}isMultiple(){if(!this.isSelected())return!1;const e=Rn(!this.selectedRange.current().isSingle());return this.runLocalHooks("afterIsMultipleSelection",e),e.value}isFocusSelectionChanged(){return this.isSelected()&&Gm(Jm,this)}isSelectedByRowHeader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner(e)&&(-1===e?this.selectedByRowHeader.size>0:this.selectedByRowHeader.has(e))}isEntireRowSelected(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();const t=e=>{const{col:t}=e.getOuterTopStartCorner(),n=this.tableProps.countRowHeaders(),r=this.tableProps.countCols();return(n>0&&t<0||0===n)&&e.getWidth()===r};if(-1===e)return Array.from(this.selectedRange).some((e=>t(e)));const n=this.selectedRange.peekByIndex(e);return!!n&&t(n)}isSelectedByColumnHeader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();return!this.isSelectedByCorner()&&(-1===e?this.selectedByColumnHeader.size>0:this.selectedByColumnHeader.has(e))}isEntireColumnSelected(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getLayerLevel();const t=e=>{const{row:t}=e.getOuterTopStartCorner(),n=this.tableProps.countColHeaders(),r=this.tableProps.countRows();return(n>0&&t<0||0===n)&&e.getHeight()===r};if(-1===e)return Array.from(this.selectedRange).some((e=>t(e)));const n=this.selectedRange.peekByIndex(e);return!!n&&t(n)}isSelectedByAnyHeader(){return this.isSelectedByRowHeader(-1)||this.isSelectedByColumnHeader(-1)||this.isSelectedByCorner()}isSelectedByCorner(){return this.selectedByColumnHeader.has(this.getLayerLevel())&&this.selectedByRowHeader.has(this.getLayerLevel())}inInSelection(e){return this.selectedRange.includes(e)}isCellCornerVisible(){return this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&!this.isMultiple()}isCellVisible(e){const t=this.tableProps.visualToRenderableCoords(e);return null!==t.row&&null!==t.col}isAreaCornerVisible(e){return(!Number.isInteger(e)||e===this.getLayerLevel())&&(this.settings.fillHandle&&!this.tableProps.isEditorOpened()&&this.isMultiple())}clear(){this.selectedRange.clear(),this.highlight.clear()}deselect(){this.isSelected()&&(this.inProgress=!1,this.clear(),this.runLocalHooks("afterDeselect"))}selectAll(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{focusPosition:!1,disableHeadersHighlight:!1};const i=this.tableProps.countRows(),o=this.tableProps.countCols(),s=this.tableProps.countRowHeaders(),a=this.tableProps.countColHeaders(),l=n?-a:0,u=t?-s:0;if(0===l&&0===u&&(0===i||0===o))return;let c=null===(e=this.getSelectedRange().current())||void 0===e?void 0:e.highlight;const{focusPosition:h,disableHeadersHighlight:d}=r;$m(Qm,this,d),h&&Number.isInteger(null===h||void 0===h?void 0:h.row)&&Number.isInteger(null===h||void 0===h?void 0:h.col)&&(c=this.tableProps.createCellCoords(Oi(h.row,l,i-1),Oi(h.col,u,o-1)));const f=this.tableProps.createCellCoords(l,u),p=this.tableProps.createCellCoords(i-1,o-1);this.clear(),this.setRangeStartOnly(f,void 0,c),u<0&&this.selectedByRowHeader.add(this.getLayerLevel()),l<0&&this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(p),this.finish(),$m(Qm,this,!1)}selectCells(e){var t=this;const n=Fm(e);if(n===Nm)return!1;if(n===Am)throw new Error(F`Unsupported format of the selection ranges was passed. To select cells pass\x20
        the coordinates as an array of arrays ([[rowStart, columnStart/columnPropStart, rowEnd,\x20
        columnEnd/columnPropEnd]]) or as an array of CellRange objects.`);const r=Hm(n,{createCellCoords:function(){return t.tableProps.createCellCoords(...arguments)},createCellRange:function(){return t.tableProps.createCellRange(...arguments)},propToCol:e=>this.tableProps.propToCol(e),keepDirection:!0}),i=this.settings.navigableHeaders,o={countRows:this.tableProps.countRows(),countCols:this.tableProps.countCols(),countRowHeaders:i?this.tableProps.countRowHeaders():0,countColHeaders:i?this.tableProps.countColHeaders():0},s=!e.some((e=>{const t=r(e),n=t.isValid(o);return!(n&&!t.containsHeaders()||n&&t.containsHeaders()&&t.isSingleHeader())}));return s&&(this.clear(),this.setExpectedLayers(e.length),C(e,(e=>{const{from:t,to:n}=r(e);this.setRangeStartOnly(t.clone(),!1),this.setRangeEnd(n.clone())})),this.finish()),s}selectColumns(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r="string"===typeof e?this.tableProps.propToCol(e):e,i="string"===typeof t?this.tableProps.propToCol(t):t,o=this.tableProps.countRows(),s=this.tableProps.countCols(),a=this.tableProps.countColHeaders(),l=0===a?0:-a,u=this.tableProps.createCellCoords(l,r),c=this.tableProps.createCellCoords(o-1,i),h=this.tableProps.createCellRange(u,u,c).isValid({countRows:o,countCols:s,countRowHeaders:0,countColHeaders:a});if(h){let e=0,t=0;Number.isInteger(null===n||void 0===n?void 0:n.row)&&Number.isInteger(null===n||void 0===n?void 0:n.col)?(e=Oi(n.row,l,o-1),t=Oi(n.col,Math.min(r,i),Math.max(r,i))):(e=Oi(n,l,o-1),t=r);const s=this.tableProps.createCellCoords(e,t),u=0===a?0:Oi(s.row,l,-1),c=o-1,h=this.tableProps.createCellCoords(u,r),d=this.tableProps.createCellCoords(c,i);this.runLocalHooks("beforeSelectColumns",h,d,s),h.row=u,d.row=c,this.setRangeStartOnly(h,void 0,s),this.selectedByColumnHeader.add(this.getLayerLevel()),this.setRangeEnd(d),this.runLocalHooks("afterSelectColumns",h,d,s),this.finish()}return h}selectRows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.tableProps.countRows(),i=this.tableProps.countCols(),o=this.tableProps.countRowHeaders(),s=0===o?0:-o,a=this.tableProps.createCellCoords(e,s),l=this.tableProps.createCellCoords(t,i-1),u=this.tableProps.createCellRange(a,a,l).isValid({countRows:r,countCols:i,countRowHeaders:o,countColHeaders:0});if(u){let r=0,a=0;Number.isInteger(null===n||void 0===n?void 0:n.row)&&Number.isInteger(null===n||void 0===n?void 0:n.col)?(r=Oi(n.row,Math.min(e,t),Math.max(e,t)),a=Oi(n.col,s,i-1)):(r=e,a=Oi(n,s,i-1));const l=this.tableProps.createCellCoords(r,a),u=0===o?0:Oi(l.col,s,-1),c=i-1,h=this.tableProps.createCellCoords(e,u),d=this.tableProps.createCellCoords(t,c);this.runLocalHooks("beforeSelectRows",h,d,l),h.col=u,d.col=c,this.setRangeStartOnly(h,void 0,l),this.selectedByRowHeader.add(this.getLayerLevel()),this.setRangeEnd(d),this.runLocalHooks("afterSelectRows",h,d,l),this.finish()}return u}refresh(){if(!this.isSelected())return;const e=this.tableProps.countRows(),t=this.tableProps.countCols();if(0===e||0===t)return void this.deselect();const n=this.selectedRange.peekByIndex(this.selectedRange.size()-1),{from:r,to:i,highlight:o}=n;this.clear(),o.assign({row:Oi(o.row,-1/0,e-1),col:Oi(o.col,-1/0,t-1)}),r.assign({row:Oi(r.row,-1/0,e-1),col:Oi(r.col,-1/0,t-1)}),i.assign({row:Oi(i.row,0,e-1),col:Oi(i.col,0,t-1)}),this.selectedRange.ranges.push(n),this.highlight.getFocus().add(o).commit().syncWith(n),this.applyAndCommit(n)}commit(){const e=this.highlight.getCustomSelections();if(e.forEach((e=>{e.commit()})),!this.isSelected())return;const t=this.highlight.getFocus(),n=this.getLayerLevel();t.commit().syncWith(this.selectedRange.current());for(let r=0;r<this.selectedRange.size();r+=1){this.highlight.useLayerLevel(r);const e=this.highlight.createArea(),t=this.highlight.createLayeredArea(),n=this.highlight.createRowHeader(),i=this.highlight.createColumnHeader(),o=this.highlight.createActiveRowHeader(),s=this.highlight.createActiveColumnHeader(),a=this.highlight.createActiveCornerHeader(),l=this.highlight.createRowHighlight(),u=this.highlight.createColumnHighlight();e.commit(),t.commit(),n.commit(),i.commit(),o.commit(),s.commit(),a.commit(),l.commit(),u.commit()}this.highlight.useLayerLevel(n)}}bn(tg,Mh);var ng=tg;const{register:rg,getItem:ig,hasItem:og,getNames:sg,getValues:ag}=Rr("cellTypes");function lg(e){if(!og(e))throw Error(`You declared cell type "${e}" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by\n                 "Handsontable.cellTypes.registerCellType" method`);return ig(e)}function ug(e,t){"string"!==typeof e&&(t=e,e=t.CELL_TYPE);const{editor:n,renderer:r,validator:i}=t;n&&Fr(e,n),r&&lo(e,r),i&&go(e,i),rg(e,t)}function cg(e,t){var n;return"CELL_TYPE"!==e&&((null===(n=t._automaticallyAssignedMetaProps)||void 0===n?void 0:n.has(e))||!xn(t,e))}function hg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const r="string"===typeof t.type?lg(t.type):t.type;if(e._automaticallyAssignedMetaProps&&Sn(t,((t,n)=>{e._automaticallyAssignedMetaProps.delete(n)})),!_n(r))return;n!==e||e._automaticallyAssignedMetaProps||(e._automaticallyAssignedMetaProps=new Set);const i={};Sn(r,((t,r)=>{var o;cg(r,n)&&(i[r]=t,null===(o=e._automaticallyAssignedMetaProps)||void 0===o||o.add(r))})),mn(e,i)}function dg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];function n(){}pn(n,e);for(let r=0;r<t.length;r++)n.prototype[t[r]]=void 0;return n}function fg(e){return Number.isInteger(e)&&e>=0}function pg(e,t){if(!e())throw new Error(`Assertion failed: ${t}`)}function mg(e){return null===e||void 0===e}var gg=()=>({_automaticallyAssignedMetaProps:void 0,activeHeaderClassName:"ht__active_highlight",allowEmpty:!0,allowHtml:!1,allowInsertColumn:!0,allowInsertRow:!0,allowInvalid:!0,allowRemoveColumn:!0,allowRemoveRow:!0,ariaTags:!0,autoColumnSize:void 0,autoRowSize:void 0,autoWrapCol:!1,autoWrapRow:!1,bindRowsWithHeaders:void 0,cell:[],cells:void 0,checkedTemplate:void 0,className:void 0,colHeaders:null,collapsibleColumns:void 0,columnHeaderHeight:void 0,columns:void 0,columnSorting:void 0,columnSummary:void 0,colWidths:void 0,commentedCellClassName:"htCommentCell",comments:!1,contextMenu:void 0,copyable:!0,copyPaste:!0,correctFormat:!1,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",currentRowClassName:void 0,customBorders:!1,data:void 0,dataDotNotation:!0,dataSchema:void 0,dateFormat:"DD/MM/YYYY",timeFormat:"h:mm:ss a",datePickerConfig:void 0,defaultDate:void 0,disableVisualSelection:!1,dragToScroll:!0,dropdownMenu:void 0,editor:void 0,enterBeginsEditing:!0,enterMoves:{col:0,row:1},fillHandle:{autoInsertRow:!1},filter:!0,filteringCaseSensitive:!1,filters:void 0,fixedColumnsLeft:0,fixedColumnsStart:0,fixedRowsBottom:0,fixedRowsTop:0,formulas:void 0,fragmentSelection:!1,headerClassName:void 0,height:void 0,hiddenColumns:void 0,hiddenRows:void 0,invalidCellClassName:"htInvalid",imeFastEdit:!1,isEmptyCol(e){let t,n,r;for(t=0,n=this.countRows();t<n;t++)if(r=this.getDataAtCell(t,e),!1===j(r))return!1;return!0},isEmptyRow(e){let t,n,r,i;for(t=0,n=this.countCols();t<n;t++)if(r=this.getDataAtCell(e,t),!1===j(r))return"object"===typeof r&&(i=this.getCellMeta(e,t),wn(this.getSchema()[i.prop],r));return!0},label:void 0,language:"en-US",layoutDirection:"inherit",licenseKey:void 0,locale:"en-US",manualColumnFreeze:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,maxCols:1/0,maxRows:1/0,mergeCells:!1,minCols:0,minRows:0,minSpareCols:0,minSpareRows:0,multiColumnSorting:void 0,navigableHeaders:!1,tabNavigation:!0,nestedHeaders:void 0,nestedRows:void 0,noWordWrapClassName:"htNoWrap",numericFormat:void 0,observeDOMVisibility:!0,outsideClickDeselects:!0,persistentState:void 0,placeholder:void 0,placeholderCellClassName:"htPlaceholder",preventOverflow:!1,preventWheel:!1,readOnly:!1,readOnlyCellClassName:"htDimmed",renderAllRows:!1,renderAllColumns:!1,renderer:void 0,rowHeaders:void 0,rowHeaderWidth:void 0,rowHeights:void 0,search:!1,selectionMode:"multiple",selectOptions:void 0,skipColumnOnPaste:!1,skipRowOnPaste:!1,sortByRelevance:!0,source:void 0,startCols:5,startRows:5,stretchH:"none",strict:void 0,tableClassName:void 0,tabMoves:{row:0,col:1},title:void 0,trimDropdown:!0,trimRows:void 0,trimWhitespace:!0,type:"text",uncheckedTemplate:void 0,undo:void 0,validator:void 0,viewportColumnRenderingOffset:"auto",viewportRowRenderingOffset:"auto",visibleRows:10,width:void 0,wordWrap:!0});function vg(e,t,n){return(t=yg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yg(e){var t=bg(e,"string");return"symbol"==typeof t?t:t+""}function bg(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function wg(){return class{}}class _g{constructor(e){vg(this,"metaCtor",wg()),vg(this,"meta",void 0),this.meta=this.metaCtor.prototype,mn(this.meta,gg()),this.meta.instance=e}getMetaConstructor(){return this.metaCtor}getMeta(){return this.meta}updateMeta(e){var t;mn(this.meta,e),hg(this.meta,{...e,type:null!==(t=e.type)&&void 0!==t?t:this.meta.type},e)}}function Eg(e,t,n){return(t=Sg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sg(e){var t=Tg(e,"string");return"symbol"==typeof t?t:t+""}function Tg(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Mg{constructor(e){Eg(this,"meta",void 0);const t=e.getMetaConstructor();this.meta=new t}getMeta(){return this.meta}updateMeta(e){mn(this.meta,e),hg(this.meta,e,e)}}function Cg(e,t,n){return(t=Rg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rg(e){var t=xg(e,"string");return"symbol"==typeof t?t:t+""}function xg(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Ag{constructor(e){Cg(this,"valueFactory",void 0),Cg(this,"data",[]),Cg(this,"index",[]),Cg(this,"holes",new Set),this.valueFactory=e}obtain(e){pg((()=>fg(e)),"Expecting an unsigned number.");const t=this._getStorageIndexByKey(e);let n;if(t>=0)n=this.data[t],void 0===n&&(n=this.valueFactory(e),this.data[t]=n);else if(n=this.valueFactory(e),this.holes.size>0){const t=this.holes.values().next().value;this.holes.delete(t),this.data[t]=n,this.index[e]=t}else this.data.push(n),this.index[e]=this.data.length-1;return n}insert(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;pg((()=>fg(e)||mg(e)),"Expecting an unsigned number or null/undefined argument.");const n=[],r=this.data.length;for(let o=0;o<t;o++)n.push(r+o),this.data.push(void 0);const i=mg(e)?this.index.length:e;this.index=[...this.index.slice(0,i),...n,...this.index.slice(i)]}remove(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;pg((()=>fg(e)||mg(e)),"Expecting an unsigned number or null/undefined argument.");const n=this.index.splice(mg(e)?this.index.length-t:e,t);for(let r=0;r<n.length;r++){const e=n[r];"number"===typeof e&&this.holes.add(e)}}size(){return this.data.length-this.holes.size}values(){return T(this.data,((e,t)=>!this.holes.has(t)))[Symbol.iterator]()}entries(){const e=[];for(let n=0;n<this.data.length;n++){const t=this._getKeyByStorageIndex(n);-1!==t&&e.push([t,this.data[n]])}let t=0;return{next:()=>{if(t<e.length){const n=e[t];return t+=1,{value:n,done:!1}}return{done:!0}}}}clear(){this.data=[],this.index=[],this.holes.clear()}_getStorageIndexByKey(e){return this.index.length>e?this.index[e]:-1}_getKeyByStorageIndex(e){return this.index.indexOf(e)}[Symbol.iterator](){return this.entries()}}function Ng(e,t,n){return(t=Lg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lg(e){var t=kg(e,"string");return"symbol"==typeof t?t:t+""}function kg(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const Og=["data","width"];class Ig{constructor(e){Ng(this,"globalMeta",void 0),Ng(this,"metas",new Ag((()=>this._createMeta()))),this.globalMeta=e,this.metas=new Ag((()=>this._createMeta()))}updateMeta(e,t){const n=this.getMeta(e);mn(n,t),hg(n,t)}createColumn(e,t){this.metas.insert(e,t)}removeColumn(e,t){this.metas.remove(e,t)}getMeta(e){return this.metas.obtain(e)}getMetaConstructor(e){return this.metas.obtain(e).constructor}clearCache(){this.metas.clear()}_createMeta(){return dg(this.globalMeta.getMetaConstructor(),Og).prototype}}function Pg(e,t,n){return(t=Dg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dg(e){var t=Fg(e,"string");return"symbol"==typeof t?t:t+""}function Fg(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class Hg{constructor(e){Pg(this,"columnMeta",void 0),Pg(this,"metas",new Ag((()=>this._createRow()))),this.columnMeta=e}updateMeta(e,t,n){const r=this.getMeta(e,t);mn(r,n),hg(r,n)}createRow(e,t){this.metas.insert(e,t)}createColumn(e,t){for(let n=0;n<this.metas.size();n++)this.metas.obtain(n).insert(e,t)}removeRow(e,t){this.metas.remove(e,t)}removeColumn(e,t){for(let n=0;n<this.metas.size();n++)this.metas.obtain(n).remove(e,t)}getMeta(e,t,n){const r=this.metas.obtain(e).obtain(t);return void 0===n?r:r[n]}setMeta(e,t,n,r){var i;const o=this.metas.obtain(e).obtain(t);null===(i=o._automaticallyAssignedMetaProps)||void 0===i||i.delete(n),o[n]=r}removeMeta(e,t,n){const r=this.metas.obtain(e).obtain(t);delete r[n]}getMetas(){const e=[],t=Array.from(this.metas.values());for(let n=0;n<t.length;n++)U(t[n])&&e.push(...t[n].values());return e}getMetasAtRow(e){pg((()=>fg(e)),"Expecting an unsigned number.");const t=new Map(this.metas);return t.has(e)?Array.from(t.get(e).values()):[]}clearCache(){this.metas.clear()}_createRow(){return new Ag((e=>this._createMeta(e)))}_createMeta(e){const t=this.columnMeta.getMetaConstructor(e);return new t}}class Ug{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.hot=e,this.globalMeta=new _g(e),this.tableMeta=new Mg(this.globalMeta),this.columnMeta=new Ig(this.globalMeta),this.cellMeta=new Hg(this.columnMeta),n.forEach((e=>new e(this))),this.globalMeta.updateMeta(t)}getGlobalMeta(){return this.globalMeta.getMeta()}updateGlobalMeta(e){this.globalMeta.updateMeta(e)}getTableMeta(){return this.tableMeta.getMeta()}updateTableMeta(e){this.tableMeta.updateMeta(e)}getColumnMeta(e){return this.columnMeta.getMeta(e)}updateColumnMeta(e,t){this.columnMeta.updateMeta(e,t)}getCellMeta(e,t,n){let{visualRow:r,visualColumn:i}=n;const o=this.cellMeta.getMeta(e,t);return o.visualRow=r,o.visualCol=i,o.row=e,o.col=t,this.runLocalHooks("afterGetCellMeta",o),o}getCellMetaKeyValue(e,t,n){if("string"!==typeof n)throw new Error("The passed cell meta object key is not a string");return this.cellMeta.getMeta(e,t,n)}setCellMeta(e,t,n,r){this.cellMeta.setMeta(e,t,n,r)}updateCellMeta(e,t,n){this.cellMeta.updateMeta(e,t,n)}removeCellMeta(e,t,n){this.cellMeta.removeMeta(e,t,n)}getCellsMeta(){return this.cellMeta.getMetas()}getCellsMetaAtRow(e){return this.cellMeta.getMetasAtRow(e)}createRow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createRow(e,t)}removeRow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeRow(e,t)}createColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.createColumn(e,t),this.columnMeta.createColumn(e,t)}removeColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.cellMeta.removeColumn(e,t),this.columnMeta.removeColumn(e,t)}clearCellsCache(){this.cellMeta.clearCache()}clearCache(){this.cellMeta.clearCache(),this.columnMeta.clearCache()}}function Bg(e,t,n){return(t=jg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jg(e){var t=Yg(e,"string");return"symbol"==typeof t?t:t+""}function Yg(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}bn(Ug,Mh);class Vg{constructor(e){Bg(this,"metaManager",void 0),Bg(this,"metaSyncMemo",new Map),this.metaManager=e,e.addLocalHook("afterGetCellMeta",(e=>this.extendCellMeta(e))),Mr.getSingleton().add("beforeRender",(e=>{e&&this.metaSyncMemo.clear()}),this.metaManager.hot)}extendCellMeta(e){var t;const{row:n,col:r}=e;if(null!==(t=this.metaSyncMemo.get(n))&&void 0!==t&&t.has(r))return;const{visualRow:i,visualCol:o}=e,s=this.metaManager.hot,a=s.colToProp(o);e.prop=a,s.runHooks("beforeGetCellMeta",i,o,e);const l=xn(e,"type")?e.type:null;let u=rn(e.cells)?e.cells(n,r,a):null;var c;l&&(u?u.type=null!==(c=u.type)&&void 0!==c?c:l:u={type:l});u&&this.metaManager.updateCellMeta(n,r,u),s.runHooks("afterGetCellMeta",i,o,e),this.metaSyncMemo.has(n)||this.metaSyncMemo.set(n,new Set),this.metaSyncMemo.get(n).add(r)}}function Wg(e,t,n){zg(e,t),t.set(e,n)}function zg(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gg(e,t,n){return(t=$g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $g(e){var t=qg(e,"string");return"symbol"==typeof t?t:t+""}function qg(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Kg(e,t){return e.get(Xg(e,t))}function Xg(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var Jg=new WeakMap;class Qg{constructor(e){Gg(this,"metaManager",void 0),Gg(this,"usageTracker",new Set),Gg(this,"propDescriptors",new Map([["ariaTags",{initOnly:!0}],["fixedColumnsLeft",{target:"fixedColumnsStart",onChange(e){const t=this.metaManager.hot.isRtl();if(t&&"fixedColumnsLeft"===e)throw new Error("The `fixedColumnsLeft` is not supported for RTL. Please use option `fixedColumnsStart`.");if(this.usageTracker.has("fixedColumnsLeft")&&this.usageTracker.has("fixedColumnsStart"))throw new Error("The `fixedColumnsLeft` and `fixedColumnsStart` should not be used together. Please use only the option `fixedColumnsStart`.")}}],["layoutDirection",{initOnly:!0}],["renderAllColumns",{initOnly:!0}],["renderAllRows",{initOnly:!0}]])),Wg(this,Jg,((e,t,n)=>{if(!n)throw new Error(`The \`${e}\` option can not be updated after the Handsontable is initialized.`)})),this.metaManager=e,this.extendMetaProps()}extendMetaProps(){this.propDescriptors.forEach(((e,t)=>{const{initOnly:n,target:r,onChange:i}=e,o="string"===typeof r,s=o?r:t,a=`_${s}`;this.metaManager.globalMeta.meta[a]=this.metaManager.globalMeta.meta[s],i?(this.installPropWatcher(t,a,i),o&&this.installPropWatcher(r,a,i)):n&&(this.installPropWatcher(t,a,Kg(Jg,this)),this.metaManager.globalMeta.meta._initOnlySettings||(this.metaManager.globalMeta.meta._initOnlySettings=[]),this.metaManager.globalMeta.meta._initOnlySettings.push(t))}))}installPropWatcher(e,t,n){const r=this;Object.defineProperty(this.metaManager.globalMeta.meta,e,{get(){return this[t]},set(i){const o=!r.usageTracker.has(e);r.usageTracker.add(e),n.call(r,e,i,o),this[t]=i},enumerable:!0,configurable:!0})}}const Zg=/^(\r\n|\n\r|\r|\n)/,ev=/^[^\t\r\n]+/,tv=/^\t/;function nv(e){const t=[[""]];if(0===e.length)return t;let n,r=0,i=0;while(e.length>0){if(n===e.length)break;if(n=e.length,e.match(tv))e=e.replace(tv,""),r+=1,t[i][r]="";else if(e.match(Zg))e=e.replace(Zg,""),r=0,i+=1,t[i]=[""];else{let n="";if(e.startsWith('"')){let t=0,r=!0;while(r){const i=e.slice(0,1);'"'===i&&(t+=1),n+=i,e=e.slice(1),(0===e.length||e.match(/^[\t\r\n]/)&&t%2===0)&&(r=!1)}n=n.replace(/^"/,"").replace(/"$/,"").replace(/["]*/g,(e=>new Array(Math.floor(e.length/2)).fill('"').join("")))}else{const t=e.match(ev);n=t?t[0]:"",e=e.slice(n.length)}t[i][r]=n}}return t}function rv(e){let t,n,r,i,o,s="";for(t=0,n=e.length;t<n;t+=1){for(i=e[t].length,r=0;r<i;r+=1)r>0&&(s+="\t"),o=e[t][r],"string"===typeof o?o.indexOf("\n")>-1?s+=`"${o.replace(/"/g,'""')}"`:s+=o:s+=null===o||void 0===o?"":o;t!==n-1&&(s+="\n")}return s}function iv(e,t,n){return(t=ov(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ov(e){var t=sv(e,"string");return"symbol"==typeof t?t:t+""}function sv(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class av{static get DESTINATION_RENDERER(){return 1}static get DESTINATION_CLIPBOARD_GENERATOR(){return 2}constructor(e,t,n){iv(this,"hot",void 0),iv(this,"metaManager",void 0),iv(this,"tableMeta",void 0),iv(this,"dataSource",void 0),iv(this,"duckSchema",void 0),iv(this,"colToPropCache",void 0),iv(this,"propToColCache",void 0),this.hot=e,this.metaManager=n,this.tableMeta=n.getTableMeta(),this.dataSource=t,this.duckSchema=this.createDuckSchema(),this.createMap()}createMap(){const e=this.getSchema();if("undefined"===typeof e)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");const t=this.tableMeta.columns;let n;if(this.colToPropCache=[],this.propToColCache=new Map,t){let r=0,i=0,o=!1;if("function"===typeof t){const t=Cn(e);r=t>0?t:this.countFirstRowKeys(),o=!0}else{const e=this.tableMeta.maxCols;r=Math.min(e,t.length)}for(n=0;n<r;n++){const e=o?t(n):t[n];if(_n(e)){if("undefined"!==typeof e.data){const t=o?i:n;this.colToPropCache[t]=e.data,this.propToColCache.set(e.data,t)}i+=1}}}else this.recursiveDuckColumns(e)}countFirstRowKeys(){return mh(this.dataSource)}recursiveDuckColumns(e,t,n){let r,i=t,o=n;return"undefined"===typeof i&&(i=0,o=""),"object"!==typeof e||Array.isArray(e)||Sn(e,((e,t)=>{null===e?(r=o+t,this.colToPropCache.push(r),this.propToColCache.set(r,i),i+=1):i=this.recursiveDuckColumns(e,i,`${t}.`)})),i}colToProp(e){if(!1===Number.isInteger(e))return e;const t=this.hot.toPhysicalColumn(e);return null===t?e:this.colToPropCache&&U(this.colToPropCache[t])?this.colToPropCache[t]:t}propToCol(e){const t=this.propToColCache.get(e);if(U(t))return this.hot.toVisualColumn(t);const n=this.hot.toVisualColumn(e);return null===n?e:n}getSchema(){const e=this.tableMeta.dataSchema;return e?"function"===typeof e?e():e:this.duckSchema}createDuckSchema(){return this.dataSource&&this.dataSource[0]?fn(this.dataSource[0]):{}}refreshDuckSchema(){this.duckSchema=this.createDuckSchema()}createRow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{source:n,mode:r="above"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.hot.countSourceRows();let o=i,s=0,a=e;("number"!==typeof a||a>=i)&&(a=i),a<this.hot.countRows()&&(o=this.hot.toPhysicalRow(a));const l=this.hot.runHooks("beforeCreateRow",a,t,n);if(!1===l||null===o)return{delta:0};const u=this.tableMeta.maxRows,c=this.getSchema().length,h=[];while(s<t&&i+s<u){let e=null;"array"===this.hot.dataType?this.tableMeta.dataSchema?e=vn(this.getSchema()):(e=[],Ni(c-1,(()=>e.push(null)))):"function"===this.hot.dataType?e=this.tableMeta.dataSchema(a+s):(e={},gn(e,this.getSchema())),h.push(e),s+=1}this.hot.rowIndexMapper.insertIndexes(a,s),"below"===r&&(o=Math.min(o+1,i)),this.spliceData(o,0,h);const d=this.hot.toVisualRow(o);return this.hot.countSourceRows()===h.length&&this.hot.columnIndexMapper.initToLength(this.hot.getInitialColumnCount()),s>0&&(void 0===e||null===e?this.metaManager.createRow(null,s):"auto"!==n&&this.metaManager.createRow(o,t)),this.hot.runHooks("afterCreateRow",d,s,n),this.hot.forceFullRender=!0,{delta:s,startPhysicalIndex:o}}createCol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{source:n,mode:r="start"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.hot.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");const i=this.dataSource,o=this.tableMeta.maxCols,s=this.hot.countSourceCols();let a=e;("number"!==typeof a||a>=s)&&(a=s);const l=this.hot.runHooks("beforeCreateCol",a,t,n);if(!1===l)return{delta:0};let u=s;a<this.hot.countCols()&&(u=this.hot.toPhysicalColumn(a));const c=this.hot.countSourceRows();let h=this.hot.countCols(),d=0,f=u;"end"===r&&(f=Math.min(f+1,s));const p=f;while(d<t&&h<o){if("number"!==typeof a||a>=h)if(c>0)for(let e=0;e<c;e+=1)"undefined"===typeof i[e]&&(i[e]=[]),i[e].push(null);else i.push([null]);else for(let e=0;e<c;e++)i[e].splice(f,0,null);d+=1,f+=1,h+=1}this.hot.columnIndexMapper.insertIndexes(a,d),d>0&&(void 0===e||null===e?this.metaManager.createColumn(null,d):"auto"!==n&&this.metaManager.createColumn(p,t));const m=this.hot.toVisualColumn(p);return this.hot.runHooks("afterCreateCol",m,d,n),this.hot.forceFullRender=!0,this.refreshDuckSchema(),{delta:d,startPhysicalIndex:p}}removeRow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=Number.isInteger(e)?e:-t;const i=this.visualRowsToPhysical(r,t),o=this.hot.countSourceRows();r=(o+r)%o;const s=this.hot.runHooks("beforeRemoveRow",r,i.length,i,n);if(!1===s)return!1;const a=i.length;if(this.filterData(r,a,i),r<this.hot.countRows()){this.hot.rowIndexMapper.removeIndexes(i);const e=U(this.tableMeta.columns)||U(this.tableMeta.dataSchema);0===this.hot.rowIndexMapper.getNotTrimmedIndexesLength()&&!1===e&&this.hot.columnIndexMapper.setIndexesSequence([])}const l=i.slice(0).sort(((e,t)=>t-e));return l.forEach((e=>{this.metaManager.removeRow(e,1)})),this.hot.runHooks("afterRemoveRow",r,a,i,n),this.hot.forceFullRender=!0,!0}removeCol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if("object"===this.hot.dataType||this.tableMeta.columns)throw new Error("cannot remove column with object data source or columns option specified");let r="number"!==typeof e?-t:e;r=(this.hot.countCols()+r)%this.hot.countCols();const i=this.visualColumnsToPhysical(r,t),o=i.slice(0).sort(((e,t)=>t-e)),s=this.hot.runHooks("beforeRemoveCol",r,t,i,n);if(!1===s)return!1;let a=!0;const l=o.length,u=this.dataSource;for(let c=0;c<l;c++)a&&i[0]!==i[c]-c&&(a=!1);if(a)for(let c=0,h=this.hot.countSourceRows();c<h;c++)u[c].splice(i[0],t),0===c&&this.metaManager.removeColumn(i[0],t);else for(let c=0,h=this.hot.countSourceRows();c<h;c++)for(let e=0;e<l;e++)u[c].splice(o[e],1),0===c&&this.metaManager.removeColumn(o[e],1);return r<this.hot.countCols()&&(this.hot.columnIndexMapper.removeIndexes(i),0===this.hot.columnIndexMapper.getNotTrimmedIndexesLength()&&this.hot.rowIndexMapper.setIndexesSequence([])),this.hot.runHooks("afterRemoveCol",r,t,i,n),this.hot.forceFullRender=!0,this.refreshDuckSchema(),!0}spliceCol(e,t,n){const r=this.hot.getDataAtCol(e),i=r.slice(t,t+n),o=r.slice(t+n);for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];_(a,o);let u=0;while(u<n)a.push(null),u+=1;return w(a),this.hot.populateFromArray(t,e,a,null,null,"spliceCol"),i}spliceRow(e,t,n){const r=this.hot.getSourceDataAtRow(e),i=r.slice(t,t+n),o=r.slice(t+n);for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];_(a,o);let u=0;while(u<n)a.push(null),u+=1;return this.hot.populateFromArray(e,t,[a],null,null,"spliceRow"),i}spliceData(e,t,n){const r=this.hot.runHooks("beforeDataSplice",e,t,n);if(!1!==r){const t=[...this.dataSource.slice(0,e),...n,...this.dataSource.slice(e)];this.dataSource.length=0,t.forEach((e=>this.dataSource.push(e)))}}filterData(e,t,n){let r=this.hot.runHooks("filterData",e,t,n);!1===Array.isArray(r)&&(r=this.dataSource.filter(((e,t)=>-1===n.indexOf(t)))),this.dataSource.length=0,Array.prototype.push.apply(this.dataSource,r)}get(e,t){const n=this.hot.toPhysicalRow(e);let r=this.dataSource[n];const i=this.hot.runHooks("modifyRowData",n);r=isNaN(i)?i:r;const{dataDotNotation:o}=this.hot.getSettings();let s=null;if(r&&r.hasOwnProperty&&xn(r,t))s=r[t];else if(o&&"string"===typeof t&&t.indexOf(".")>-1){let e=r;if(!e)return null;const n=t.split(".");for(let t=0,r=n.length;t<r;t++)if(e=e[n[t]],"undefined"===typeof e)return null;s=e}else"function"===typeof t&&(s=t(this.dataSource.slice(n,n+1)[0]));if(this.hot.hasHook("modifyData")){const e=Rn(s);this.hot.runHooks("modifyData",n,this.propToCol(t),e,"get"),e.isTouched()&&(s=e.value)}return s}getCopyable(e,t){return this.hot.getCellMeta(e,this.propToCol(t)).copyable?this.get(e,t):""}set(e,t,n){const r=this.hot.toPhysicalRow(e);let i=n,o=this.dataSource[r];const s=this.hot.runHooks("modifyRowData",r);if(o=isNaN(s)?s:o,this.hot.hasHook("modifyData")){const e=Rn(i);this.hot.runHooks("modifyData",r,this.propToCol(t),e,"set"),e.isTouched()&&(i=e.value)}const{dataDotNotation:a}=this.hot.getSettings();if(o&&o.hasOwnProperty&&xn(o,t))o[t]=i;else if(a&&"string"===typeof t&&t.indexOf(".")>-1){let e,n=o,r=0;const s=t.split(".");for(r=0,e=s.length-1;r<e;r++)"undefined"===typeof n[s[r]]&&(n[s[r]]={}),n=n[s[r]];n[s[r]]=i}else"function"===typeof t?t(this.dataSource.slice(r,r+1)[0],i):o[t]=i}visualRowsToPhysical(e,t){const n=this.hot.countSourceRows(),r=[];let i,o=(n+e)%n,s=t;while(o<n&&s)i=this.hot.toPhysicalRow(o),r.push(i),s-=1,o+=1;return r}visualColumnsToPhysical(e,t){const n=this.hot.countCols(),r=[];let i=(n+e)%n,o=t;while(i<n&&o){const e=this.hot.toPhysicalColumn(i);r.push(e),o-=1,i+=1}return r}clear(){for(let e=0;e<this.hot.countSourceRows();e++)for(let t=0;t<this.hot.countCols();t++)this.set(e,this.colToProp(t),"")}getLength(){const e=this.tableMeta.maxRows;let t;t=e<0||0===e?0:e||1/0;const n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength();return Math.min(n,t)}getAll(){const e={row:0,col:0},t={row:Math.max(this.hot.countRows()-1,0),col:Math.max(this.hot.countCols()-1,0)};return e.row-t.row!==0||this.hot.countSourceRows()?this.getRange(e,t,av.DESTINATION_RENDERER):[]}countCachedColumns(){return this.colToPropCache.length}getRange(e,t,n){const r=[];let i,o,s;const a=this.tableMeta.maxRows,l=this.tableMeta.maxCols;if(0===a||0===l)return[];const u=n===av.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get,c=Math.min(Math.max(a-1,0),Math.max(e.row,t.row)),h=Math.min(Math.max(l-1,0),Math.max(e.col,t.col));for(i=Math.min(e.row,t.row);i<=c;i++){s=[];const n=i>=0?this.hot.toPhysicalRow(i):i;for(o=Math.min(e.col,t.col);o<=h;o++){if(null===n)break;s.push(u.call(this,i,this.colToProp(o)))}null!==n&&r.push(s)}return r}getText(e,t){return rv(this.getRange(e,t,av.DESTINATION_RENDERER))}getCopyableText(e,t){return rv(this.getRange(e,t,av.DESTINATION_CLIPBOARD_GENERATOR))}destroy(){this.hot=null,this.metaManager=null,this.dataSource=null,this.duckSchema=null,this.colToPropCache.length=0,this.propToColCache.clear(),this.propToColCache=void 0}}var lv=av;function uv(e,t,n,r){const{hotInstance:i,dataMap:o,dataSource:s,internalSource:a,source:l,metaManager:u,firstRun:c}=r,h=ne(a),d=i.getSettings();Array.isArray(d.dataSchema)?i.dataType="array":rn(d.dataSchema)?i.dataType="function":i.dataType="object",o&&o.destroy(),e=i.runHooks(`before${h}`,e,c,l);const f=new lv(i,e,u);if(t(f),"object"===typeof e&&null!==e)e.push&&e.splice||(e=[e]);else{if(null!==e)throw new Error(`${a} only accepts array of objects or array of arrays (${typeof e} given)`);{const t=f.getSchema();let n;e=[];let r=0,o=0;for(r=0,o=d.startRows;r<o;r++)if("object"!==i.dataType&&"function"!==i.dataType||!d.dataSchema)if("array"===i.dataType)n=vn(t[0]),e.push(n);else{n=[];for(let e=0,t=d.startCols;e<t;e++)n.push(null);e.push(n)}else n=vn(t),e.push(n)}}Array.isArray(e[0])&&(i.dataType="array"),d.data=e,f.dataSource=e,s.data=e,s.dataType=i.dataType,s.colToProp=f.colToProp.bind(f),s.propToCol=f.propToCol.bind(f),s.countCachedColumns=f.countCachedColumns.bind(f),n(f),i.runHooks(`after${h}`,e,c,l),c||(i.runHooks("afterChange",null,a),i.render()),i.getSettings().ariaTags&&ct(i.rootElement,[ke(-1),Oe(i.countCols()+(i.view?i.countRowHeaders():0))])}function cv(e){return t=>{let{col:n}=t;e.scrollViewportTo({col:n})}}function hv(){return()=>{}}function dv(e){return t=>{e.scrollViewportTo(t.toObject())}}function fv(e){return t=>{e.scrollViewportTo(t.toObject())}}function pv(e){return t=>{e.scrollViewportTo(t.toObject())}}function mv(e){return t=>{let{row:n}=t;e.scrollViewportTo({row:n})}}function gv(e){return t=>{const n=e.selection.getSelectionSource(),{row:r,col:i}=t;if(r<0&&i>=0)e.scrollViewportTo({col:i});else if(i<0&&r>=0)e.scrollViewportTo({row:r});else{if("mouse"===n&&(i===e.view.getLastPartiallyVisibleColumn()||r===e.view.getLastPartiallyVisibleRow()))return;e.scrollViewportTo({row:r,col:i})}}}function vv(e){const{selection:t}=e;let n=!1,r=!1;return{resume(){r=!1},suspend(){r=!0},skipNextScrollCycle(){n=!0},scrollTo(i){var o;if(n||r)return void(n=!1);let s;t.isFocusSelectionChanged()?s=dv(e):t.isSelectedByCorner()?s=hv(e):t.isSelectedByRowHeader()?s=mv(e):t.isSelectedByColumnHeader()?s=cv(e):1===t.getSelectedRange().size()&&t.isMultiple()?s=fv(e):1!==t.getSelectedRange().size()||t.isMultiple()?t.getSelectedRange().size()>1&&(s=pv(e)):s=gv(e),null===(o=s)||void 0===o||o(i)}}}const yv="gridDefault",bv="editorManager.handlingEditor";function wv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.rootElement,r=_v(e),i=_v(e);return r.addEventListener("focus",(()=>null===t||void 0===t?void 0:t.onFocusFromTop())),i.addEventListener("focus",(()=>null===t||void 0===t?void 0:t.onFocusFromBottom())),n.firstChild.before(r),n.lastChild.after(i),{activate(){e._registerTimeout((()=>{r.tabIndex=0,i.tabIndex=0}),10)},deactivate(){e._registerTimeout((()=>{r.tabIndex=-1,i.tabIndex=-1}),10)}}}function _v(e){const t=e.rootDocument,n=t.createElement("input");return n.type="text",n.classList.add("htFocusCatcher"),e.getSettings().ariaTags&&ct(n,[he(),xe()]),n}function Ev(e){const t=Mv(e);let n;const{activate:r,deactivate:i}=wv(e,{onFocusFromTop(){var r;const i=null!==(r=t(n))&&void 0!==r?r:Sv(e);i&&(e.runHooks("modifyFocusOnTabNavigation","from_above",i),e.selectCell(i.row,i.col)),e.listen()},onFocusFromBottom(){var r;const i=null!==(r=t(n))&&void 0!==r?r:Tv(e);i&&(e.runHooks("modifyFocusOnTabNavigation","from_below",i),e.selectCell(i.row,i.col)),e.listen()}}),o={wrapped:!1,flipped:!1};let s=!0,a=!1,l=!1;function u(){o.wrapped=!1,o.flipped=!1,e.deselectCell(),e.unlisten()}e.addHook("afterListen",(()=>i())),e.addHook("afterUnlisten",(()=>r())),e.addHook("afterSelection",((t,r,i,u,c)=>{var h;(a&&(o.wrapped&&o.flipped||l)&&(l=!1,c.value=!0),s)&&(n=null===(h=e.getSelectedRangeLast())||void 0===h?void 0:h.highlight)})),e.addHook("beforeRowWrap",((e,t,n)=>{o.wrapped=!0,o.flipped=n}));const c={keys:[["Tab"],["Shift","Tab"]],preventDefault:!1,stopPropagation:!1,relativeToGroup:yv,group:"focusCatcher"};e.getShortcutManager().getContext("grid").addShortcuts([{...c,callback:()=>{const{tabNavigation:t}=e.getSettings();a=!0,e.getSelectedRangeLast()&&!t&&(s=!1),t||(l=!0)},position:"before"},{...c,callback:t=>{const{tabNavigation:r,autoWrapRow:i}=e.getSettings();if(a=!1,s=!0,!r||!e.selection.isSelected()||i&&o.wrapped&&o.flipped||!i&&o.wrapped)return i&&o.wrapped&&o.flipped&&(n=t.shiftKey?Sv(e):Tv(e)),u(),!1;t.preventDefault()},position:"after"}])}function Sv(e){const{rowIndexMapper:t,columnIndexMapper:n}=e,{navigableHeaders:r}=e.getSettings();let i=r&&e.countColHeaders()>0?-e.countColHeaders():0,o=r&&e.countRowHeaders()>0?-e.countRowHeaders():0;return 0===i&&(i=t.getVisualFromRenderableIndex(i)),0===o&&(o=n.getVisualFromRenderableIndex(o)),null===i||null===o?null:e._createCellCoords(i,o)}function Tv(e){var t,n;const{rowIndexMapper:r,columnIndexMapper:i}=e,{navigableHeaders:o}=e.getSettings();let s=r.getRenderableIndexesLength()-1,a=i.getRenderableIndexesLength()-1;if(s<0){if(!o||0===e.countColHeaders())return null;s=-1}if(a<0){if(!o||0===e.countColHeaders())return null;a=-1}return e._createCellCoords(null!==(t=r.getVisualFromRenderableIndex(s))&&void 0!==t?t:s,null!==(n=i.getVisualFromRenderableIndex(a))&&void 0!==n?n:a)}function Mv(e){return t=>{if(!t)return null;const n=Sv(e),r=Tv(e);return t.col<n.col&&(t.col=n.col),t.col>r.col&&(t.col=r.col),t.row<n.row&&(t.row=n.row),t.row>r.row&&(t.row=r.row),t}}const Cv=new Map([[" ","space"],["spacebar","space"],["scroll","scrolllock"],["del","delete"],["esc","escape"],["medianexttrack","mediatracknext"],["mediaprevioustrack","mediatrackprevious"],["volumeup","audiovolumeup"],["volumedown","audiovolumedown"],["volumemute","audiovolumemute"],["multiply","*"],["add","+"],["divide","/"],["subtract","-"],["left","arrowleft"],["right","arrowright"],["up","arrowup"],["down","arrowdown"]]),Rv=e=>e.map((e=>{const t=e.toLowerCase();return Cv.has(t)?Cv.get(t):t})).sort().join("+"),xv=e=>e.split("+"),Av=new Map([[96,"numpad0"],[97,"numpad1"],[98,"numpad2"],[99,"numpad3"],[100,"numpad4"],[101,"numpad5"],[102,"numpad6"],[103,"numpad7"],[104,"numpad8"],[105,"numpad9"],[106,"multiply"],[107,"add"],[108,"decimal"],[109,"subtract"],[110,"decimal"],[111,"divide"],[112,"f1"],[113,"f2"],[114,"f3"],[115,"f4"],[116,"f5"],[117,"f6"],[118,"f7"],[119,"f8"],[120,"f9"],[121,"f10"],[122,"f11"],[123,"f12"],[186,"semicolon"],[187,"equal"],[188,"comma"],[189,"minus"],[190,"period"],[191,"slash"],[192,"backquote"],[219,"bracketleft"],[220,"backslash"],[221,"bracketright"],[222,"quote"]]),Nv=e=>{let{which:t,key:n}=e;if(Av.has(t))return Av.get(t);const r=String.fromCharCode(t).toLowerCase();return/^[a-z0-9]$/.test(r)?r:n.toLowerCase()},Lv=Symbol("shortcut-context");function kv(e){return _n(e)&&e.__kindOf===Lv}const Ov=e=>{const t=ji({errorIdExists:t=>`The "${t}" shortcut is already registered in the "${e}" context.`}),n=function(){let{keys:e,callback:n,group:r,runOnlyIf:i=(()=>!0),captureCtrl:o=!1,preventDefault:s=!0,stopPropagation:a=!1,relativeToGroup:l,position:u,forwardToContext:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(B(r))throw new Error("You need to define the shortcut's group.");if(!1===rn(n))throw new Error("The shortcut's callback needs to be a function.");if(!1===Array.isArray(e))throw new Error(F`Pass the shortcut\'s keys as an array of arrays,\x20
      using the KeyboardEvent.key properties:\x20
      https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values.`);const h={callback:n,group:r,runOnlyIf:i,captureCtrl:o,preventDefault:s,stopPropagation:a};U(l)&&(h.relativeToGroup=l,h.position=u),kv(c)&&(h.forwardToContext=c),e.forEach((e=>{const n=Rv(e),r=t.hasItem(n);if(r){const e=t.getItem(n);let r=e.findIndex((e=>e.group===l));-1!==r?"before"===u?r-=1:r+=1:r=e.length,e.splice(r,0,h)}else t.addItem(n,[h])}))},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{Sn(t,((n,r)=>{!1===Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=t[r])})),n(e)}))},i=e=>{const n=Rv(e);t.removeItem(n)},o=e=>{const n=t.getItems();n.forEach((t=>{let[n,r]=t;const o=r.filter((t=>t.group!==e));0===o.length?i(xv(n)):(r.length=0,r.push(...o))}))},s=e=>{const n=Rv(e),r=t.getItem(n);return U(r)?r.slice():[]},a=e=>{const n=Rv(e);return t.hasItem(n)};return{__kindOf:Lv,addShortcut:n,addShortcuts:r,getShortcuts:s,hasShortcut:a,removeShortcutsByKeys:i,removeShortcutsByGroup:o}};function Iv(){const e=new Set;return{press(t){e.add(t)},release(t){e.delete(t)},releaseAll(){e.clear()},isPressed(t){return e.has(t)}}}const Pv=["meta","alt","shift","control"],Dv=Iv(),Fv=[];let Hv=0;function Uv(e,t,n,r,i){const o=e=>Pv.includes(e),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];return e.altKey&&n.push("alt"),t&&(e.ctrlKey||e.metaKey)?n.push("control/meta"):(e.ctrlKey&&n.push("control"),e.metaKey&&n.push("meta")),e.shiftKey&&n.push("shift"),n},a=e=>{if(!1===t(e))return;const a=n(e);if(229===e.keyCode||!1===a||ar(e))return;const l=Nv(e);let u=[];o(l)||(u=s(e));const c=[l].concat(u),h=i(e,c);!h&&(Jn()&&u.includes("meta")||!Jn()&&u.includes("control"))&&i(e,[l].concat(s(e,!0))),r(e)},l=e=>{if(e.key){const t=Nv(e);o(t)&&Dv.press(t)}},u=e=>{if(e.key){const t=Nv(e);o(t)&&Dv.release(t)}},c=()=>{Dv.releaseAll()},h=()=>{let t=e;Hv+=1;while(t)1===Hv&&(t.document.documentElement.addEventListener("keydown",l),Fv.push({event:"keydown",listener:l}),t.document.documentElement.addEventListener("keyup",u),Fv.push({event:"keyup",listener:u})),t.document.documentElement.addEventListener("keydown",a),t.document.documentElement.addEventListener("blur",c),t=Qe(t)},d=()=>{let t=e;Hv-=1;while(t){if(0===Hv){for(let e=0;e<Fv.length;e++){const{event:n,listener:r}=Fv[e];t.document.documentElement.removeEventListener(n,r)}Fv.length=0}t.document.documentElement.removeEventListener("keydown",a),t.document.documentElement.removeEventListener("blur",c),t=Qe(t)}};return{mount:h,unmount:d,isPressed:e=>Dv.isPressed(e),releasePressedKeys:()=>Dv.releaseAll()}}const Bv=e=>{let{ownerWindow:t,handleEvent:n,beforeKeyDown:r,afterKeyDown:i}=e;const o=ji({errorIdExists:e=>`The "${e}" context name is already registered.`});let s="grid";const a=e=>{const t=Ov(e);return o.addItem(e,t),t},l=()=>s,u=e=>o.getItem(e),c=e=>{if(!o.hasItem(e))throw new Error(F`You've tried to activate the "${e}" shortcut context\x20
        that does not exist. Before activation, register the context using the "addContext" method.`);s=e};let h=!1;const d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l();const r=kv(n)?n:u(n);let i=!1;if(!r.hasShortcut(t))return i;const o=r.getShortcuts(t);for(let s=0;s<o.length;s++){const{callback:n,runOnlyIf:r,preventDefault:a,stopPropagation:l,captureCtrl:u,forwardToContext:c}=o[s];if(!0===r(e)){if(h=u,i=!1===n(e,t),h=!1,a&&e.preventDefault(),l&&(sr(e),e.stopPropagation()),i)break;c&&d(e,t,c)}}return i},f=Uv(t,n,r,i,d);return f.mount(),{addContext:a,getActiveContextName:l,getContext:u,setActiveContextName:c,isCtrlPressed:()=>!h&&(f.isPressed("control")||f.isPressed("meta")),releasePressedKeys:()=>f.releasePressedKeys(),destroy:()=>f.unmount()}},jv={name:"editorCloseAndSave",callback(e){const t=e._getEditorManager();t.closeEditorAndSaveChanges()}},Yv="hooksRefRegisterer",Vv={_hooksStorage:Object.create(null),addHook(e,t){return this._hooksStorage[e]||(this._hooksStorage[e]=[]),this.hot.addHook(e,t),this._hooksStorage[e].push(t),this},removeHooksByKey(e){C(this._hooksStorage[e]||[],(t=>{this.hot.removeHook(e,t)}))},clearHooks(){Sn(this._hooksStorage,((e,t)=>this.removeHooksByKey(t))),this._hooksStorage={}}};En(Vv,"MIXIN_NAME",Yv,{writable:!1,enumerable:!1});var Wv=Vv;function zv(e,t,n){return(t=Gv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gv(e){var t=$v(e,"string");return"symbol"==typeof t?t:t+""}function $v(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const qv="base",Kv=Object.freeze({VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"});class Xv{static get EDITOR_TYPE(){return qv}constructor(e){zv(this,"hot",void 0),zv(this,"state",Kv.VIRGIN),zv(this,"_opened",!1),zv(this,"_fullEditMode",!1),zv(this,"_closeCallback",null),zv(this,"TD",null),zv(this,"row",null),zv(this,"col",null),zv(this,"prop",null),zv(this,"originalValue",null),zv(this,"cellProperties",null),this.hot=e,this.init()}_fireCallbacks(e){this._closeCallback&&(this._closeCallback(e),this._closeCallback=null)}init(){}getValue(){throw Error("Editor getValue() method unimplemented")}setValue(){throw Error("Editor setValue() method unimplemented")}open(){throw Error("Editor open() method unimplemented")}close(){throw Error("Editor close() method unimplemented")}prepare(e,t,n,r,i,o){this.TD=r,this.row=e,this.col=t,this.prop=n,this.originalValue=i,this.cellProperties=o,this.state=this.isOpened()?this.state:Kv.VIRGIN}extend(){return class extends this.constructor{}}saveValue(e,t){let n,r,i,o;if(t){const e=this.hot.getSelectedLast();n=Math.max(Math.min(e[0],e[2]),0),r=Math.max(Math.min(e[1],e[3]),0),i=Math.max(e[0],e[2]),o=Math.max(e[1],e[3])}else[n,r,i,o]=[this.row,this.col,null,null];const s=this.hot.runHooks("modifyGetCellCoords",n,r);Array.isArray(s)&&([n,r]=s),this.hot.populateFromArray(n,r,e,i,o,"edit")}beginEditing(e,t){if(this.state!==Kv.VIRGIN)return;const n=this.hot,r=n.rowIndexMapper.getRenderableFromVisualIndex(this.row),i=n.columnIndexMapper.getRenderableFromVisualIndex(this.col);if(n.view.scrollViewport(n._createCellCoords(r,i)),this.state=Kv.EDITING,this.isInFullEditMode()){const t="string"===typeof e?e:H(this.originalValue);this.setValue(t)}this.open(t),this._opened=!0,this.focus(),n.view.render(),n.runHooks("afterBeginEditing",this.row,this.col)}finishEditing(e,t,n){let r;if(n){const e=this._closeCallback;this._closeCallback=t=>{e&&e(t),n(t),this.hot.view.render()}}if(!this.isWaiting())if(this.state!==Kv.VIRGIN){if(this.state===Kv.EDITING){if(e)return this.cancelChanges(),void this.hot.view.render();const n=this.getValue();r=this.cellProperties.trimWhitespace?[["string"===typeof n?String.prototype.trim.call(n||""):n]]:[[n]],this.state=Kv.WAITING,this.saveValue(r,t),this.hot.getCellValidator(this.cellProperties)?this.hot.addHookOnce("postAfterValidate",(e=>{this.state=Kv.FINISHED,this.discardEditor(e)})):(this.state=Kv.FINISHED,this.discardEditor(!0))}}else this.hot._registerTimeout((()=>{this._fireCallbacks(!0)}))}cancelChanges(){this.state=Kv.FINISHED,this.discardEditor()}discardEditor(e){if(this.state===Kv.FINISHED)if(!1===e&&!0!==this.cellProperties.allowInvalid)this.hot.selectCell(this.row,this.col),this.focus(),this.state=Kv.EDITING,this._fireCallbacks(!1);else{this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Kv.VIRGIN,this._fireCallbacks(!0);const e=this.hot.getShortcutManager();e.setActiveContextName("grid")}}enableFullEditMode(){this._fullEditMode=!0}isInFullEditMode(){return this._fullEditMode}isOpened(){return this._opened}isWaiting(){return this.state===Kv.WAITING}getEditedCellRect(){var e;const t=this.getEditedCell();if(!t)return;const{wtOverlays:n,wtViewport:r}=this.hot.view._wt,i=this.hot.rootWindow,o=yt(t),s=Nt(t),a=yt(this.hot.rootElement),l=Nt(this.hot.rootElement),u=n.topOverlay.holder,c=n.inlineStartOverlay.holder,h=u!==i?u.scrollTop:0,d=c!==i?c.scrollLeft:0,f=i.innerWidth-a.left-l,{wtTable:p}=null!==(e=n.getParentOverlay(t))&&void 0!==e?e:this.hot.view._wt,m=p.name,g=["master","inline_start"].includes(m)?h:0,v=["master","top","bottom"].includes(m)?d:0,y=o.top===a.top?0:1;let b=o.top-a.top-y-g,w=0;w=this.hot.isRtl()?i.innerWidth-o.left-s-f-1+v:o.left-a.left-1-v,["top","top_inline_start_corner"].includes(m)&&(b+=n.topOverlay.getOverlayOffset()),["inline_start","top_inline_start_corner"].includes(m)&&(w+=Math.abs(n.inlineStartOverlay.getOverlayOffset()));const _=this.hot.hasColHeaders(),E=this.hot.rowIndexMapper.getRenderableFromVisualIndex(this.row),S=this.hot.columnIndexMapper.getRenderableFromVisualIndex(this.col),T=this.hot.rowIndexMapper.getRenderableIndexesLength(),M=T-this.hot.view._wt.getSetting("fixedRowsBottom");(_&&E<=0||E===M)&&(b+=1),S<=0&&(w+=1);const C=r.rowsRenderCalculator.startPosition,R=r.columnsRenderCalculator.startPosition,x=Math.abs(n.inlineStartOverlay.getScrollPosition()),A=n.topOverlay.getScrollPosition(),N=Vt(this.hot.rootDocument);let L=t.offsetTop;if(["inline_start","master"].includes(m)&&(L+=C-A),["bottom","bottom_inline_start_corner"].includes(m)){const{wtViewport:e,wtTable:t}=n.bottomOverlay.clone;L+=e.getWorkspaceHeight()-t.getHeight()-N}let k=t.offsetLeft;this.hot.isRtl()?(k=k>=0?p.getWidth()-t.offsetLeft:Math.abs(k),k+=R-x-s):["top","master","bottom"].includes(m)&&(k+=R-x);const O=At(this.TD,this.hot.rootWindow),I=this.hot.isRtl()?"borderRightWidth":"borderLeftWidth",P=parseInt(O[I],10)>0?0:1,D=parseInt(O.borderTopWidth,10)>0?0:1,F=Nt(t)+P,H=Lt(t)+D,U=Wt(u)?N:0,B=zt(c)?N:0,j=this.hot.view.maximumVisibleElementWidth(k)-U+P,Y=Math.max(this.hot.view.maximumVisibleElementHeight(L)-B+D,23);return{top:b,start:w,height:H,maxHeight:Y,width:F,maxWidth:j}}getEditedCellsLayerClass(){const e=this.checkEditorSection();switch(e){case"inline-start":return"ht_clone_left ht_clone_inline_start";case"bottom":return"ht_clone_bottom";case"bottom-inline-start-corner":return"ht_clone_bottom_left_corner ht_clone_bottom_inline_start_corner";case"top":return"ht_clone_top";case"top-inline-start-corner":return"ht_clone_top_left_corner ht_clone_top_inline_start_corner";default:return"ht_clone_master"}}getEditedCell(){return this.hot.getCell(this.row,this.col,!0)}checkEditorSection(){const e=this.hot.countRows();let t="";return this.row<this.hot.getSettings().fixedRowsTop?t=this.col<this.hot.getSettings().fixedColumnsStart?"top-inline-start-corner":"top":this.hot.getSettings().fixedRowsBottom&&this.row>=e-this.hot.getSettings().fixedRowsBottom?t=this.col<this.hot.getSettings().fixedColumnsStart?"bottom-inline-start-corner":"bottom":this.col<this.hot.getSettings().fixedColumnsStart&&(t="inline-start"),t}}bn(Xv,Wv);const Jv={name:"editorCloseAndSaveByArrowKeys",callback(e,t,n){const r=e._getEditorManager(),i=r.getActiveEditor();i.isInFullEditMode()&&i.state===Kv.EDITING||(r.closeEditorAndSaveChanges(),e.getSelected()&&(n.includes("arrowdown")?e.selection.transformStart(1,0):n.includes("arrowup")?e.selection.transformStart(-1,0):n.includes("arrowleft")?e.selection.transformStart(0,-1*e.getDirectionFactor()):n.includes("arrowright")&&e.selection.transformStart(0,e.getDirectionFactor())),t.preventDefault())}},Qv={name:"editorCloseAndSaveByEnter",callback(e,t){const n=e._getEditorManager();n.closeEditorAndSaveChanges(t.ctrlKey||t.metaKey),n.moveSelectionAfterEnter(t)}},Zv={name:"editorCloseWithoutSaving",callback(e){const t=e._getEditorManager();t.closeEditorAndRestoreOriginalValue(e.getShortcutManager().isCtrlPressed()),t.activeEditor.focus()}},ey={name:"editorFastOpen",callback(e,t){const{highlight:n}=e.getSelectedRangeLast();n.isHeader()||e._getEditorManager().openEditor(null,t,!0)}},ty={name:"editorOpen",callback(e,t,n){const r=e._getEditorManager(),i=e.getSelectedRangeLast(),{highlight:o}=i;if(e.selection.isMultiple()&&!i.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0){const r=e.getSettings(),i="function"===typeof r.enterMoves?r.enterMoves(t):r.enterMoves;n.includes("shift")?e.selection.transformFocus(-i.row,-i.col):e.selection.transformFocus(i.row,i.col)}else o.isHeader()||(e.getSettings().enterBeginsEditing?r.cellProperties.readOnly?r.moveSelectionAfterEnter(t):r.openEditor(null,t,!0):r.moveSelectionAfterEnter(t),sr(t))}};function ny(){return[jv,Jv,Qv,Zv,ey,ty]}const ry={name:"extendCellsSelectionDown",callback(e){const{highlight:t}=e.getSelectedRangeLast();e.selection.isSelectedByColumnHeader()||e.selection.isSelectedByCorner()||!(t.isCell()||t.isHeader()&&e.selection.isSelectedByRowHeader())||e.selection.transformEnd(1,0)}},iy={name:"extendCellsSelectionDownByViewportHeight",callback(e){const{to:t}=e.getSelectedRangeLast(),n=Math.min(t.row+e.countVisibleRows(),e.countRows()-1),r=e.rowIndexMapper.getNearestNotHiddenIndex(n,-1);if(null!==r){const n=e._createCellCoords(r,t.col),i=t.row-e.view.getFirstFullyVisibleRow(),o=Math.min(n.row-i,e.countRows()-1);e.selection.setRangeEnd(n),e.scrollViewportTo({row:o,verticalSnap:"top",horizontalSnap:"start"})}}},oy={name:"extendCellsSelectionLeft",callback(e){const{highlight:t}=e.getSelectedRangeLast();e.selection.isSelectedByRowHeader()||e.selection.isSelectedByCorner()||!(t.isCell()||t.isHeader()&&e.selection.isSelectedByColumnHeader())||e.selection.transformEnd(0,-1*e.getDirectionFactor())}},sy={name:"extendCellsSelectionRight",callback(e){const{highlight:t}=e.getSelectedRangeLast();e.selection.isSelectedByRowHeader()||e.selection.isSelectedByCorner()||!(t.isCell()||t.isHeader()&&e.selection.isSelectedByColumnHeader())||e.selection.transformEnd(0,e.getDirectionFactor())}},ay={name:"extendCellsSelectionToColumns",callback(e){const{highlight:t,from:n,to:r}=e.getSelectedRangeLast();e.selection.isSelectedByRowHeader()?e.selection.selectAll(!0,!0):e.selectColumns(n.col,r.col,t)}},ly={name:"extendCellsSelectionToMostBottom",callback(e){const{selection:t,rowIndexMapper:n}=e,{highlight:r,from:i,to:o}=e.getSelectedRangeLast(),s=r.isHeader()&&e.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(e.countRows()-1,-1),l=i.clone();l.row=r.row,t.setRangeStart(l,void 0,!1,r.clone()),s&&t.selectedByRowHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(a,o.col))}}},uy={name:"extendCellsSelectionToMostInlineEnd",callback(e){const{selection:t,columnIndexMapper:n}=e,{highlight:r,from:i,to:o}=e.getSelectedRangeLast();if(!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&r.isCell()){const s=n.getNearestNotHiddenIndex(e.countCols()-1,-1),a=i.clone();a.col=r.col,t.setRangeStart(a,void 0,!1,r.clone()),t.setRangeEnd(e._createCellCoords(o.row,s))}}},cy={name:"extendCellsSelectionToMostInlineStart",callback(e){const{selection:t,columnIndexMapper:n}=e,{highlight:r,from:i,to:o}=e.getSelectedRangeLast();if(!e.selection.isSelectedByRowHeader()&&!e.selection.isSelectedByCorner()&&r.isCell()){const s=parseInt(e.getSettings().fixedColumnsStart,10),a=n.getNearestNotHiddenIndex(s,1),l=i.clone();l.col=r.col,t.setRangeStart(l,void 0,!1,r.clone()),t.setRangeEnd(e._createCellCoords(o.row,a))}}},hy={name:"extendCellsSelectionToMostLeft",callback(e){const{selection:t,columnIndexMapper:n}=e,{highlight:r,from:i,to:o}=e.getSelectedRangeLast(),s=r.isHeader()&&e.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...e.isRtl()?[e.countCols()-1,-1]:[0,1]),l=i.clone();l.col=r.col,t.setRangeStart(l,void 0,!1,r.clone()),s&&t.selectedByColumnHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(o.row,a))}}},dy={name:"extendCellsSelectionToMostRight",callback(e){const{selection:t,columnIndexMapper:n}=e,{highlight:r,from:i,to:o}=e.getSelectedRangeLast(),s=r.isHeader()&&e.selection.isSelectedByColumnHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(...e.isRtl()?[0,1]:[e.countCols()-1,-1]),l=i.clone();l.col=r.col,t.setRangeStart(l,void 0,!1,r.clone()),s&&t.selectedByColumnHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(o.row,a))}}},fy={name:"extendCellsSelectionToMostTop",callback(e){const{selection:t,rowIndexMapper:n}=e,{highlight:r,from:i,to:o}=e.getSelectedRangeLast(),s=r.isHeader()&&e.selection.isSelectedByRowHeader();if(r.isCell()||s){const a=n.getNearestNotHiddenIndex(0,1),l=i.clone();l.row=r.row,t.setRangeStart(l,void 0,!1,r.clone()),s&&t.selectedByRowHeader.add(t.getLayerLevel()),t.setRangeEnd(e._createCellCoords(a,o.col))}}},py={name:"extendCellsSelectionToRows",callback(e){const{highlight:t,from:n,to:r}=e.getSelectedRangeLast();e.selection.isSelectedByColumnHeader()?e.selection.selectAll(!0,!0):e.selectRows(n.row,r.row,t)}},my={name:"extendCellsSelectionUp",callback(e){const{highlight:t}=e.getSelectedRangeLast();e.selection.isSelectedByColumnHeader()||e.selection.isSelectedByCorner()||!(t.isCell()||t.isHeader()&&e.selection.isSelectedByRowHeader())||e.selection.transformEnd(-1,0)}},gy={name:"extendCellsSelectionUpByViewportHeight",callback(e){const{to:t}=e.getSelectedRangeLast(),n=Math.max(t.row-e.countVisibleRows(),0),r=e.rowIndexMapper.getNearestNotHiddenIndex(n,1);if(null!==r){const n=e._createCellCoords(r,t.col),i=t.row-e.view.getFirstFullyVisibleRow(),o=Math.max(n.row-i,0);e.selection.setRangeEnd(n),e.scrollViewportTo({row:o,verticalSnap:"top",horizontalSnap:"start"})}}};function vy(){return[ry,iy,oy,sy,ay,ly,uy,cy,hy,dy,fy,py,my,gy]}const yy={name:"moveCellSelectionDown",callback(e){let{selection:t}=e;t.transformStart(1,0)}},by={name:"moveCellSelectionDownByViewportHeight",callback(e){const{navigableHeaders:t}=e.getSettings(),n=t?e.countColHeaders():0,{row:r}=e.getSelectedRangeLast().highlight;let i=e.countVisibleRows()+n;r===e.countRows()-1?i=1:r+i>e.countRows()&&(i=e.countRows()-r-1),e.selection.transformStart(i,0),e.getSelectedRangeLast().highlight.row<0&&e.scrollViewportTo({row:0})}},wy={name:"moveCellSelectionInlineEnd",callback(e,t){const n=e.getSettings(),r=e.getSelectedRangeLast(),i="function"===typeof n.tabMoves?n.tabMoves(t):n.tabMoves;e.selection.isMultiple()&&!r.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0?e.selection.transformFocus(-i.row,-i.col):e.selection.transformStart(-i.row,-i.col)}},_y={name:"moveCellSelectionInlineStart",callback(e,t){const n=e.getSettings(),r=e.getSelectedRangeLast(),i="function"===typeof n.tabMoves?n.tabMoves(t):n.tabMoves;e.selection.isMultiple()&&!r.isHeader()&&e.countRenderedCols()>0&&e.countRenderedRows()>0?e.selection.transformFocus(i.row,i.col):e.selection.transformStart(i.row,i.col)}},Ey={name:"moveCellSelectionLeft",callback(e){e.selection.transformStart(0,-1*e.getDirectionFactor())}},Sy={name:"moveCellSelectionRight",callback(e){e.selection.transformStart(0,e.getDirectionFactor())}},Ty={name:"moveCellSelectionToMostBottom",callback(e){const{col:t}=e.getSelectedRangeLast().highlight;let n=e.rowIndexMapper.getNearestNotHiddenIndex(e.countRows()-1,-1);null===n&&(n=-1),e.selection.setRangeStart(e._createCellCoords(n,t))}},My={name:"moveCellSelectionToMostBottomInlineEnd",callback(e){const{selection:t,rowIndexMapper:n,columnIndexMapper:r}=e,i=parseInt(e.getSettings().fixedRowsBottom,10),o=n.getNearestNotHiddenIndex(e.countRows()-i-1,-1),s=r.getNearestNotHiddenIndex(e.countCols()-1,-1);t.setRangeStart(e._createCellCoords(o,s))}},Cy={name:"moveCellSelectionToMostInlineEnd",callback(e){const{selection:t,columnIndexMapper:n}=e;t.setRangeStart(e._createCellCoords(e.getSelectedRangeLast().highlight.row,n.getNearestNotHiddenIndex(e.countCols()-1,-1)))}},Ry={name:"moveCellSelectionToMostInlineStart",callback(e){const{selection:t,columnIndexMapper:n}=e,r=parseInt(e.getSettings().fixedColumnsStart,10),i=e.getSelectedRangeLast().highlight.row,o=n.getNearestNotHiddenIndex(r,1);t.setRangeStart(e._createCellCoords(i,o))}},xy={name:"moveCellSelectionToMostLeft",callback(e){const{selection:t,columnIndexMapper:n}=e,r=e.getSelectedRangeLast().highlight.row;let i=n.getNearestNotHiddenIndex(...e.isRtl()?[e.countCols()-1,-1]:[0,1]);null===i&&(i=e.isRtl()?-1:-e.countRowHeaders()),t.setRangeStart(e._createCellCoords(r,i))}},Ay={name:"moveCellSelectionToMostRight",callback(e){const{selection:t,columnIndexMapper:n}=e,{row:r}=e.getSelectedRangeLast().highlight;let i=n.getNearestNotHiddenIndex(...e.isRtl()?[0,1]:[e.countCols()-1,-1]);null===i&&(i=e.isRtl()?-e.countRowHeaders():-1),t.setRangeStart(e._createCellCoords(r,i))}},Ny={name:"moveCellSelectionToMostTop",callback(e){const{col:t}=e.getSelectedRangeLast().highlight;let n=e.rowIndexMapper.getNearestNotHiddenIndex(0,1);null===n&&(n=-e.countColHeaders()),e.selection.setRangeStart(e._createCellCoords(n,t))}},Ly={name:"moveCellSelectionToMostTopInlineStart",callback(e){const{selection:t,rowIndexMapper:n,columnIndexMapper:r}=e,i=parseInt(e.getSettings().fixedRowsTop,10),o=parseInt(e.getSettings().fixedColumnsStart,10),s=n.getNearestNotHiddenIndex(i,1),a=r.getNearestNotHiddenIndex(o,1);t.setRangeStart(e._createCellCoords(s,a))}},ky={name:"moveCellSelectionUp",callback(e){let{selection:t}=e;t.transformStart(-1,0)}},Oy={name:"moveCellSelectionUpByViewportHight",callback(e){const{navigableHeaders:t}=e.getSettings(),n=t?e.countColHeaders():0,{row:r}=e.getSelectedRangeLast().highlight;let i=-(e.countVisibleRows()+n);r===-n?i=-1:r+i<n&&(i=-(r+n)),e.selection.transformStart(i,0),e.getSelectedRangeLast().highlight.row<0&&e.scrollViewportTo({row:0})}};function Iy(){return[yy,by,wy,_y,Ey,Sy,Ty,My,Cy,Ry,xy,Ay,Ny,Ly,ky,Oy]}const Py={name:"emptySelectedCells",callback(e){e.emptySelectedCells(),e._getEditorManager().prepareEditor()}},Dy={name:"scrollToFocusedCell",callback(e){const{highlight:t}=e.getSelectedRangeLast(),n=e.view.getFirstFullyVisibleRow()-1,r=e.view.getFirstFullyVisibleColumn()-1,i=e.view.getLastFullyVisibleRow()+1,o=e.view.getLastFullyVisibleColumn()+1,s=e._createCellCoords(n,r),a=e._createCellCoords(i,o),l=e._createCellRange(s,s,a);if(!l.includes(t)&&(t.row>=0||t.col>=0)){const n={};if(t.col>=0){const r=Math.floor(e.countVisibleCols()/2);n.col=Math.max(t.col-r,0)}if(t.row>=0){const r=Math.floor(e.countVisibleRows()/2);n.row=Math.max(t.row-r,0)}e.scrollViewportTo({...n,verticalSnap:"top",horizontalSnap:"start"})}}},Fy={name:"selectAllCells",callback(e){e.selection.selectAll(!0,!0,{disableHeadersHighlight:!0})}},Hy={name:"selectAllCellsAndHeaders",callback(e){e.selection.selectAll(!0,!0,{disableHeadersHighlight:!1})}},Uy={name:"populateSelectedCellsData",callback(e){const t=e.getSelectedRange(),{row:n,col:r}=t[t.length-1].highlight.normalize(),i=e.getDataAtCell(n,r),o=new Map;for(let s=0;s<t.length;s++)t[s].forAll(((t,s)=>{if(t>=0&&s>=0&&(t!==n||s!==r)){const{readOnly:n}=e.getCellMeta(t,s);n||o.set(`${t}x${s}`,[t,s,i])}}));e.setDataAtCell(Array.from(o.values()))}},By=[...ny(),...vy(),...Iy(),Py,Dy,Fy,Hy,Uy];function jy(e){const t={};return By.forEach((n=>{let{name:r,callback:i}=n;t[r]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i(e,...n)}})),t}function Yy(e){const t=e.getShortcutManager().addContext("editor"),n=jy(e),r={group:bv};t.addShortcuts([{keys:[["Enter"],["Enter","Shift"]],callback:(e,t)=>n.editorCloseAndSaveByEnter(e,t)},{keys:[["Enter","Control/Meta"],["Enter","Control/Meta","Shift"]],captureCtrl:!0,callback:(e,t)=>n.editorCloseAndSaveByEnter(e,t)},{keys:[["Tab"],["Tab","Shift"],["PageDown"],["PageUp"]],forwardToContext:e.getShortcutManager().getContext("grid"),callback:(e,t)=>n.editorCloseAndSave(e,t)},{keys:[["ArrowDown"],["ArrowUp"],["ArrowLeft"],["ArrowRight"]],preventDefault:!1,callback:(e,t)=>n.editorCloseAndSaveByArrowKeys(e,t)},{keys:[["Escape"],["Escape","Control/Meta"]],callback:()=>n.editorCloseWithoutSaving()}],r)}function Vy(e){const t=e.getShortcutManager().addContext("grid"),n=jy(e),r={runOnlyIf:()=>{const{navigableHeaders:t}=e.getSettings();return U(e.getSelected())&&(t||!t&&e.countRenderedRows()>0&&e.countRenderedCols()>0)},group:yv};t.addShortcuts([{keys:[["F2"]],callback:e=>n.editorFastOpen(e)},{keys:[["Enter"],["Enter","Shift"]],callback:(e,t)=>n.editorOpen(e,t)},{keys:[["Backspace"],["Delete"]],callback:()=>n.emptySelectedCells()}],{group:bv,runOnlyIf:()=>U(e.getSelected())}),t.addShortcuts([{keys:[["Control/Meta","A"]],callback:()=>n.selectAllCells(),runOnlyIf:()=>{var t;return!(null!==(t=e.getSelectedRangeLast())&&void 0!==t&&t.highlight.isHeader())}},{keys:[["Control/Meta","A"]],callback:()=>{},runOnlyIf:()=>{var t;return null===(t=e.getSelectedRangeLast())||void 0===t?void 0:t.highlight.isHeader()},preventDefault:!0},{keys:[["Control/Meta","Shift","Space"]],callback:()=>n.selectAllCellsAndHeaders()},{keys:[["Control/Meta","Enter"]],callback:()=>n.populateSelectedCellsData(),runOnlyIf:()=>{var t,n;return!(null!==(t=e.getSelectedRangeLast())&&void 0!==t&&t.highlight.isHeader())&&(null===(n=e.getSelectedRangeLast())||void 0===n?void 0:n.getCellsCount())>1}},{keys:[["Control","Space"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToColumns()},{keys:[["Shift","Space"]],stopPropagation:!0,callback:()=>n.extendCellsSelectionToRows()},{keys:[["ArrowUp"]],callback:()=>n.moveCellSelectionUp()},{keys:[["ArrowUp","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTop()},{keys:[["ArrowUp","Shift"]],callback:()=>n.extendCellsSelectionUp()},{keys:[["ArrowUp","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostTop(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByColumnHeader())},{keys:[["ArrowDown"]],callback:()=>n.moveCellSelectionDown()},{keys:[["ArrowDown","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottom()},{keys:[["ArrowDown","Shift"]],callback:()=>n.extendCellsSelectionDown()},{keys:[["ArrowDown","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostBottom(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByColumnHeader())},{keys:[["ArrowLeft"]],callback:()=>n.moveCellSelectionLeft()},{keys:[["ArrowLeft","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostLeft()},{keys:[["ArrowLeft","Shift"]],callback:()=>n.extendCellsSelectionLeft()},{keys:[["ArrowLeft","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostLeft(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByRowHeader())},{keys:[["ArrowRight"]],callback:()=>n.moveCellSelectionRight()},{keys:[["ArrowRight","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostRight()},{keys:[["ArrowRight","Shift"]],callback:()=>n.extendCellsSelectionRight()},{keys:[["ArrowRight","Shift","Control/Meta"]],captureCtrl:!0,callback:()=>n.extendCellsSelectionToMostRight(),runOnlyIf:()=>!(e.selection.isSelectedByCorner()||e.selection.isSelectedByRowHeader())},{keys:[["Home"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineStart(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["Home","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineStart()},{keys:[["Home","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostTopInlineStart(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostInlineEnd(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["End","Shift"]],callback:()=>n.extendCellsSelectionToMostInlineEnd()},{keys:[["End","Control/Meta"]],captureCtrl:!0,callback:()=>n.moveCellSelectionToMostBottomInlineEnd(),runOnlyIf:()=>e.view.isMainTableNotFullyCoveredByOverlays()},{keys:[["PageUp"]],callback:()=>n.moveCellSelectionUpByViewportHight()},{keys:[["PageUp","Shift"]],callback:()=>n.extendCellsSelectionUpByViewportHeight()},{keys:[["PageDown"]],callback:()=>n.moveCellSelectionDownByViewportHeight()},{keys:[["PageDown","Shift"]],callback:()=>n.extendCellsSelectionDownByViewportHeight()},{keys:[["Tab"]],preventDefault:!1,callback:e=>n.moveCellSelectionInlineStart(e)},{keys:[["Shift","Tab"]],preventDefault:!1,callback:e=>n.moveCellSelectionInlineEnd(e)},{keys:[["Control/Meta","Backspace"]],callback:()=>n.scrollToFocusedCell()}],r)}function Wy(e){[Vy,Yy].forEach((t=>t(e)))}let zy=null;const Gy=new Map;new Set;function $y(e,t){var n,r=this;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this;const s=new Wr(o);let a,l,u,c,h,d,f=!0;Hc(i)&&Fc(this),this.rootElement=e,this.rootDocument=e.ownerDocument,this.rootWindow=this.rootDocument.defaultView,this.isDestroyed=!1,this.renderSuspendedCounter=0,this.executionSuspendedCounter=0;const p=null!==(n=null===t||void 0===t?void 0:t.layoutDirection)&&void 0!==n?n:"inherit",m=["rtl","ltr"].includes(p)?p:this.rootWindow.getComputedStyle(this.rootElement).direction;this.rootElement.setAttribute("dir",m),this.isRtl=function(){return"rtl"===m},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1},t.language=Mp(t.language);const g=new Ug(o,t,[Vg,Qg]),v=g.getTableMeta(),y=g.getGlobalMeta(),b=ji();this.container=this.rootDocument.createElement("div"),this.renderCall=!1,e.insertBefore(this.container,e.firstChild),Uc(this)&&ee(t.licenseKey,e),this.guid=`ht_${ie()}`,Gy.set(this.guid,this),this.columnIndexMapper=new Td,this.rowIndexMapper=new Td,this.columnIndexMapper.addLocalHook("indexesSequenceChange",(e=>{o.runHooks("afterColumnSequenceChange",e)})),this.rowIndexMapper.addLocalHook("indexesSequenceChange",(e=>{o.runHooks("afterRowSequenceChange",e)})),l=new Eh(o),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid);const w=e=>{const{row:t,col:n}=e;return o._createCellCoords(t>=0?o.rowIndexMapper.getRenderableFromVisualIndex(t):t,n>=0?o.columnIndexMapper.getRenderableFromVisualIndex(n):n)},_=e=>{const{row:t,col:n}=e;return o._createCellCoords(t>=0?o.rowIndexMapper.getVisualFromRenderableIndex(t):t,n>=0?o.columnIndexMapper.getVisualFromRenderableIndex(n):n)},T=(e,t)=>{const n=t>e?1:-1,r=Math.min(e,t),i=Math.max(e,t),s=o.rowIndexMapper.getNearestNotHiddenIndex(e,n);return null===s||1===n&&s>i||-1===n&&s<r?null:s>=0?o.rowIndexMapper.getRenderableFromVisualIndex(s):s},R=(e,t)=>{const n=t>e?1:-1,r=Math.min(e,t),i=Math.max(e,t),s=o.columnIndexMapper.getNearestNotHiddenIndex(e,n);return null===s||1===n&&s>i||-1===n&&s<r?null:s>=0?o.columnIndexMapper.getRenderableFromVisualIndex(s):s};let x=new ng(v,{rowIndexMapper:o.rowIndexMapper,columnIndexMapper:o.columnIndexMapper,countCols:()=>o.countCols(),countRows:()=>o.countRows(),propToCol:e=>a.propToCol(e),isEditorOpened:()=>!!o.getActiveEditor()&&o.getActiveEditor().isOpened(),countRenderableColumns:()=>this.view.countRenderableColumns(),countRenderableRows:()=>this.view.countRenderableRows(),countRowHeaders:()=>this.countRowHeaders(),countColHeaders:()=>this.countColHeaders(),countRenderableRowsInRange:function(){return r.view.countRenderableRowsInRange(...arguments)},countRenderableColumnsInRange:function(){return r.view.countRenderableColumnsInRange(...arguments)},getShortcutManager:()=>o.getShortcutManager(),createCellCoords:(e,t)=>o._createCellCoords(e,t),createCellRange:(e,t,n)=>o._createCellRange(e,t,n),visualToRenderableCoords:w,renderableToVisualCoords:_,findFirstNonHiddenRenderableRow:T,findFirstNonHiddenRenderableColumn:R,isDisabledCellSelection:(e,t)=>e<0||t<0?o.getSettings().disableVisualSelection:o.getCellMeta(e,t).disableVisualSelection});this.selection=x;const A=e=>{let{hiddenIndexesChanged:t}=e;t&&this.selection.commit()};function N(e){const t=Cd(e);_p(t)?(o.runHooks("beforeLanguageChange",t),y.language=t,o.runHooks("afterLanguageChange",t)):Rd(e)}function L(e,t){const n="className"===e?o.rootElement:o.table;if(f)lt(n,t);else{let r=[],i=[];y[e]&&(r=Array.isArray(y[e])?y[e]:D(y[e])),t&&(i=Array.isArray(t)?t:D(t));const o=O(r,i),s=O(i,r);o.length&&ut(n,o),s.length&&lt(n,s)}y[e]=t}function k(){let e=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue(){this.validatorsInQueue+=1,e=!1},removeValidatorFormQueue(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty(){},checkIfQueueIsEmpty(){0===this.validatorsInQueue&&!1===e&&(e=!0,this.onQueueEmpty(this.valid))}}}function I(e){const t=e.replace(",",".");return!1===isNaN(parseFloat(t))?parseFloat(t):e}function P(e,t,n){if(!e.length)return void n();const r=o.getActiveEditor(),i=new k;let s=!0;i.onQueueEmpty=()=>{r&&s&&r.cancelChanges(),n()};for(let l=e.length-1;l>=0;l--){const[n,r,,u]=e[l],c=a.propToCol(r);let h;h=Number.isInteger(c)?o.getCellMeta(n,c):{...Object.getPrototypeOf(v),...v},"numeric"===h.type&&"string"===typeof u&&Ai(u)&&(e[l][3]=I(u)),o.getCellValidator(h)&&(i.addValidatorToQueue(),o.validateCell(e[l][3],h,function(t,n){return function(r){if("boolean"!==typeof r)throw new Error("Validation error: result is not boolean");!1===r&&!1===n.allowInvalid&&(s=!1,e.splice(t,1),n.valid=!0),i.removeValidatorFormQueue()}}(l,h),t))}i.checkIfQueueIsEmpty()}function F(e,t){for(let r=e.length-1;r>=0;r--){let n=!1;if(null!==e[r]){if(null!==e[r][2]&&void 0!==e[r][2]||null!==e[r][3]&&void 0!==e[r][3]){if(v.allowInsertRow)while(e[r][0]>o.countRows()-1){const{delta:e}=a.createRow(void 0,void 0,{source:t});if(0===e){n=!0;break}}if("array"===o.dataType&&(!v.columns||0===v.columns.length)&&v.allowInsertColumn)while(a.propToCol(e[r][1])>o.countCols()-1){const{delta:e}=a.createCol(void 0,void 0,{source:t});if(0===e){n=!0;break}}n||a.set(e[r][0],e[r][1],e[r][3])}}else e.splice(r,1)}const n=e.length>0;if(o.forceFullRender=!0,n){u.adjustRowsAndCols(),o.runHooks("beforeChangeRender",e,t),c.closeEditor(),o.view.render(),c.prepareEditor(),o.view.adjustElementsSize(),o.runHooks("afterChange",e,t||"edit");const n=o.getActiveEditor();n&&U(n.refreshValue)&&n.refreshValue()}else o.view.render()}function H(e,t,n){return Array.isArray(e)?e:[[e,t,n]]}function V(e,t){const n=o.getActiveEditor(),r=o.runHooks("beforeChange",e,t||"edit"),i=e.filter((e=>null!==e));return!1===r||0===i.length?(n&&n.cancelChanges(),[]):i}this.columnIndexMapper.addLocalHook("cacheUpdated",A),this.rowIndexMapper.addLocalHook("cacheUpdated",A),this.selection.addLocalHook("afterSetRangeEnd",((e,t)=>{const n=Rn(!1),r=this.selection.getSelectedRange(),{from:i,to:s}=r.current(),a=r.size()-1;this.runHooks("afterSelection",i.row,i.col,s.row,s.col,n,a),this.runHooks("afterSelectionByProp",i.row,o.colToProp(i.col),s.row,o.colToProp(s.col),n,a),t&&(!n.isTouched()||n.isTouched()&&!n.value)&&d.scrollTo(e);const l=x.isSelectedByRowHeader(),u=x.isSelectedByColumnHeader();l&&u?lt(this.rootElement,["ht__selection--rows","ht__selection--columns"]):l?(ut(this.rootElement,"ht__selection--columns"),lt(this.rootElement,"ht__selection--rows")):u?(ut(this.rootElement,"ht__selection--rows"),lt(this.rootElement,"ht__selection--columns")):ut(this.rootElement,["ht__selection--rows","ht__selection--columns"]),"shift"!==x.getSelectionSource()&&c.closeEditor(null),o.view.render(),c.prepareEditor()})),this.selection.addLocalHook("beforeSetFocus",(e=>{this.runHooks("beforeSelectionFocusSet",e.row,e.col)})),this.selection.addLocalHook("afterSetFocus",(e=>{const t=Rn(!1);this.runHooks("afterSelectionFocusSet",e.row,e.col,t),(!t.isTouched()||t.isTouched()&&!t.value)&&d.scrollTo(e),c.closeEditor(),o.view.render(),c.prepareEditor()})),this.selection.addLocalHook("afterSelectionFinished",(e=>{const t=e.length-1,{from:n,to:r}=e[t];this.runHooks("afterSelectionEnd",n.row,n.col,r.row,r.col,t),this.runHooks("afterSelectionEndByProp",n.row,o.colToProp(n.col),r.row,o.colToProp(r.col),t)})),this.selection.addLocalHook("afterIsMultipleSelection",(e=>{const t=this.runHooks("afterIsMultipleSelection",e.value);e.value&&(e.value=t)})),this.selection.addLocalHook("afterDeselect",(()=>{c.closeEditor(),o.view.render(),ut(this.rootElement,["ht__selection--rows","ht__selection--columns"]),this.runHooks("afterDeselect")})),this.selection.addLocalHook("beforeHighlightSet",(()=>this.runHooks("beforeSelectionHighlightSet"))).addLocalHook("beforeSetRangeStart",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("beforeSetRangeStart",...t)})).addLocalHook("beforeSetRangeStartOnly",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("beforeSetRangeStartOnly",...t)})).addLocalHook("beforeSetRangeEnd",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("beforeSetRangeEnd",...t)})).addLocalHook("beforeSelectColumns",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("beforeSelectColumns",...t)})).addLocalHook("afterSelectColumns",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("afterSelectColumns",...t)})).addLocalHook("beforeSelectRows",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("beforeSelectRows",...t)})).addLocalHook("afterSelectRows",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("afterSelectRows",...t)})).addLocalHook("beforeModifyTransformStart",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("modifyTransformStart",...t)})).addLocalHook("afterModifyTransformStart",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("afterModifyTransformStart",...t)})).addLocalHook("beforeModifyTransformFocus",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("modifyTransformFocus",...t)})).addLocalHook("afterModifyTransformFocus",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("afterModifyTransformFocus",...t)})).addLocalHook("beforeModifyTransformEnd",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("modifyTransformEnd",...t)})).addLocalHook("afterModifyTransformEnd",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("afterModifyTransformEnd",...t)})).addLocalHook("beforeRowWrap",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("beforeRowWrap",...t)})).addLocalHook("beforeColumnWrap",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.runHooks("beforeColumnWrap",...t)})).addLocalHook("insertRowRequire",(e=>this.alter("insert_row_above",e,1,"auto"))).addLocalHook("insertColRequire",(e=>this.alter("insert_col_start",e,1,"auto"))),u={alter(e,t){var n,r;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;const h=e=>{if(0===e.length)return[];const t=[...e];t.sort(((e,t)=>{let[n]=e,[r]=t;return n===r?0:n>r?1:-1}));const n=S(t,((e,t)=>{let[n,r]=t;const i=e[e.length-1],[o,s]=i,a=o+s;if(n<=a){const e=Math.max(r-(a-n),0);i[1]+=e}else e.push([n,r]);return e}),[t[0]]);return n};switch(e){case"insert_row_below":case"insert_row_above":const l=o.countSourceRows();if(v.maxRows===l)return;const u="insert_row_below"===e?"below":"above";t=null!==(n=t)&&void 0!==n?n:"below"===u?l:0;const{delta:d,startPhysicalIndex:f}=a.createRow(t,i,{source:s,mode:u});x.shiftRows(o.toVisualRow(f),d);break;case"insert_col_start":case"insert_col_end":const p="insert_col_end"===e?"end":"start";t=null!==(r=t)&&void 0!==r?r:"end"===p?o.countSourceCols():0;const{delta:m,startPhysicalIndex:g}=a.createCol(t,i,{source:s,mode:p});if(m){if(Array.isArray(v.colHeaders)){const e=[o.toVisualColumn(g),0];e.length+=m,Array.prototype.splice.apply(v.colHeaders,e)}x.shiftColumns(o.toVisualColumn(g),m)}break;case"remove_row":const y=e=>{let t=0;C(e,(e=>{let[n,r]=e;const i=j(n)?o.countRows()-1:Math.max(n-t,0);Number.isInteger(n)&&(n=Math.max(n-t,0));const l=a.removeRow(n,r,s);if(!l)return;if(x.isSelected()){const{row:e}=o.getSelectedRangeLast().highlight;e>=n&&e<=n+r-1&&c.closeEditor(!0)}const u=o.countRows();0===u?x.deselect():"ContextMenu.removeRow"===s?x.refresh():x.shiftRows(n,-r);const h=v.fixedRowsTop;h>=i+1&&(v.fixedRowsTop-=Math.min(r,h-i));const d=v.fixedRowsBottom;d&&i>=u-d&&(v.fixedRowsBottom-=Math.min(r,d)),t+=r}))};Array.isArray(t)?y(h(t)):y([[t,i]]);break;case"remove_col":const b=e=>{let t=0;C(e,(e=>{let[n,r]=e;const i=j(n)?o.countCols()-1:Math.max(n-t,0);let l=o.toPhysicalColumn(i);Number.isInteger(n)&&(n=Math.max(n-t,0));const u=a.removeCol(n,r,s);if(!u)return;if(x.isSelected()){const{col:e}=o.getSelectedRangeLast().highlight;e>=n&&e<=n+r-1&&c.closeEditor(!0)}const h=o.countCols();0===h?x.deselect():"ContextMenu.removeColumn"===s?x.refresh():x.shiftColumns(n,-r);const d=v.fixedColumnsStart;d>=i+1&&(v.fixedColumnsStart-=Math.min(r,d-i)),Array.isArray(v.colHeaders)&&("undefined"===typeof l&&(l=-1),v.colHeaders.splice(l,r)),t+=r}))};Array.isArray(t)?b(h(t)):b([[t,i]]);break;default:throw new Error(`There is no such action "${e}"`)}o.view.render(),l||u.adjustRowsAndCols()},adjustRowsAndCols(){const e=v.minRows,t=v.minSpareRows,n=v.minCols,r=v.minSpareCols;if(e){const t=o.countRows();t<e&&a.createRow(t,e-t,{source:"auto"})}if(t){const e=o.countEmptyRows(!0);if(e<t){const n=t-e,r=Math.min(n,v.maxRows-o.countSourceRows());a.createRow(o.countRows(),r,{source:"auto"})}}{let e;(n||r)&&(e=o.countEmptyCols(!0));let t=o.countCols();if(n&&!v.columns&&t<n){const r=n-t;e+=r,a.createCol(t,r,{source:"auto"})}if(r&&!v.columns&&"array"===o.dataType&&e<r){t=o.countCols();const n=r-e,i=Math.min(n,v.maxCols-t);a.createCol(t,i,{source:"auto"})}}o.view&&o.view.adjustElementsSize()},populateFromArray(e,t,n,r,i){let s,a,l,u;const c=[],h={},d=[],f=e.row,p=e.col;if(a=t.length,0===a)return!1;let m=0,g=0;switch(_n(n)&&(m=n.col-p+1,g=n.row-f+1),i){case"shift_down":const i=E(t),y=i.length,b=Math.max(y,m),w=o.getData().slice(f),_=E(w).slice(p,p+b);for(l=0;l<b;l+=1)if(l<y){for(s=0,a=i[l].length;s<g-a;s+=1)i[l].push(i[l][s%a]);l<_.length?d.push(i[l].concat(_[l])):d.push(i[l].concat(new Array(w.length).fill(null)))}else d.push(i[l%y].concat(_[l]));o.populateFromArray(f,p,E(d));break;case"shift_right":const S=t.length,T=Math.max(S,g),M=o.getData().slice(f).map((e=>e.slice(p)));for(s=0;s<T;s+=1)if(s<S){for(l=0,u=t[s].length;l<m-u;l+=1)t[s].push(t[s][l%u]);if(s<M.length)for(let e=0;e<M[s].length;e+=1)t[s].push(M[s][e]);else t[s].push(...new Array(M[0].length).fill(null))}else t.push(t[s%a].slice(0,T).concat(M[s]));o.populateFromArray(f,p,t);break;case"overwrite":default:h.row=e.row,h.col=e.col;let C,R=0,x=0,A=!0;const N=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=t[e%t.length];return null!==n?r[n%r.length]:r},L=t.length,k=n?n.row-e.row+1:0;for(a=n?k:Math.max(L,k),s=0;s<a;s++){if(n&&h.row>n.row&&k>L||!v.allowInsertRow&&h.row>o.countRows()-1||h.row>=v.maxRows)break;const t=s-R,i=N(t).length,d=n?n.col-e.col+1:0;if(u=n?d:Math.max(i,d),h.col=e.col,C=o.getCellMeta(h.row,h.col),"CopyPaste.paste"!==r&&"Autofill.fill"!==r||!C.skipRowOnPaste){for(x=0,l=0;l<u;l++){if(n&&h.col>n.col&&d>i||!v.allowInsertColumn&&h.col>o.countCols()-1||h.col>=v.maxCols)break;if(C=o.getCellMeta(h.row,h.col),("CopyPaste.paste"===r||"Autofill.fill"===r)&&C.skipColumnOnPaste){x+=1,h.col+=1,u+=1;continue}if(C.readOnly&&"UndoRedo.undo"!==r){h.col+=1;continue}const e=l-x;let s=N(t,e),a=o.getDataAtCell(h.row,h.col);if(null!==s&&"object"===typeof s)if(Array.isArray(s)&&null===a&&(a=[]),null===a||"object"!==typeof a)A=!1;else{const e=fn(Array.isArray(a)?a:a[0]||a),t=fn(Array.isArray(s)?s:s[0]||s);wn(e,t)||Array.isArray(e)&&Array.isArray(t)?s=vn(s):A=!1}else null!==a&&"object"===typeof a&&(A=!1);A&&c.push([h.row,h.col,s]),A=!0,h.col+=1}h.row+=1}else R+=1,h.row+=1,a+=1}o.setDataAtCell(c,null,null,r||"populateFromArray");break}}},this.init=function(){l.setData(v.data),o.runHooks("beforeInit"),($n()||Kn())&&lt(o.rootElement,"mobile"),this.updateSettings(v,!0),this.view=new sh(this),c=ri.getInstance(o,v,x),d=vv(o),h=new vi(o),Uc(this)&&Ev(o),o.runHooks("init"),this.forceFullRender=!0,this.view.render(),f&&null===o.rootElement.offsetParent&&Zt(o.rootElement,(()=>{o.view._wt.wtOverlays.updateLastSpreaderSize(),o.render(),o.view.adjustElementsSize()})),"object"===typeof f&&(o.runHooks("afterChange",f[0],f[1]),f=!1),o.runHooks("afterInit")},this._createCellCoords=function(e,t){return o.view._wt.createCellCoords(e,t)},this._createCellRange=function(e,t,n){return o.view._wt.createCellRange(e,t,n)},this.validateCell=function(e,t,n,r){let i=o.getCellValidator(t);function s(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!r||!0===t.hidden)return void n(e);const i=t.visualCol,s=t.visualRow,a=o.getCell(s,i,!0);if(a&&"TH"!==a.nodeName){const e=o.rowIndexMapper.getRenderableFromVisualIndex(s),t=o.columnIndexMapper.getRenderableFromVisualIndex(i);o.view._wt.getSetting("cellRenderer",e,t,a)}n(e)}Y(i)&&(i=function(e){return function(t,n){n(e.test(t))}}(i)),rn(i)?(e=o.runHooks("beforeValidate",e,t.visualRow,t.prop,r),o._registerImmediate((()=>{i.call(t,e,(n=>{o&&(n=o.runHooks("afterValidate",n,e,t.visualRow,t.prop,r),t.valid=n,s(n),o.runHooks("postAfterValidate",n,e,t.visualRow,t.prop,r))}))}))):o._registerImmediate((()=>{t.valid=!0,s(t.valid,!1)}))},this.setDataAtCell=function(e,t,n,r){const i=H(e,t,n),s=[];let u,c,h,d=r;for(u=0,c=i.length;u<c;u++){if("object"!==typeof i[u])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!==typeof i[u][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");h=i[u][1]>=this.countCols()?i[u][1]:a.colToProp(i[u][1]),s.push([i[u][0],h,l.getAtCell(this.toPhysicalRow(i[u][0]),i[u][1]),i[u][2]])}d||"object"!==typeof e||(d=t);const f=V(s,r);o.runHooks("afterSetDataAtCell",f,d),P(f,d,(()=>{F(f,d)}))},this.setDataAtRowProp=function(e,t,n,r){const i=H(e,t,n),s=[];let a,u,c=r;for(a=0,u=i.length;a<u;a++)s.push([i[a][0],i[a][1],l.getAtCell(this.toPhysicalRow(i[a][0]),i[a][1]),i[a][2]]);c||"object"!==typeof e||(c=t);const h=V(s,r);o.runHooks("afterSetDataAtRowProp",h,c),P(h,c,(()=>{F(h,c)}))},this.listen=function(){o&&!o.isListening()&&(Gy.forEach((e=>{o!==e&&e.unlisten()})),zy=o.guid,o.runHooks("afterListen"))},this.unlisten=function(){this.isListening()&&(zy=null,o.runHooks("afterUnlisten"))},this.isListening=function(){return zy===o.guid},this.destroyEditor=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c.closeEditor(e),o.view.render(),t&&x.isSelected()&&c.prepareEditor()},this.populateFromArray=function(e,t,n,r,i,s,a){if("object"!==typeof n||"object"!==typeof n[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");const l="number"===typeof r?o._createCellCoords(r,i):null;return u.populateFromArray(o._createCellCoords(e,t),n,l,s,a)},this.spliceCol=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return a.spliceCol(e,t,n,...i)},this.spliceRow=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return a.spliceRow(e,t,n,...i)},this.getSelected=function(){if(x.isSelected())return M(x.getSelectedRange(),(e=>{let{from:t,to:n}=e;return[t.row,t.col,n.row,n.col]}))},this.getSelectedLast=function(){const e=this.getSelected();let t;return e&&e.length>0&&(t=e[e.length-1]),t},this.getSelectedRange=function(){if(x.isSelected())return Array.from(x.getSelectedRange())},this.getSelectedRangeLast=function(){const e=this.getSelectedRange();let t;return e&&e.length>0&&(t=e[e.length-1]),t},this.emptySelectedCells=function(e){if(!x.isSelected()||0===this.countRows()||0===this.countCols())return;const t=[];C(x.getSelectedRange(),(e=>{if(e.isSingleHeader())return;const n=e.getTopStartCorner(),r=e.getBottomEndCorner();Ni(n.row,r.row,(e=>{Ni(n.col,r.col,(n=>{this.getCellMeta(e,n).readOnly||t.push([e,n,null])}))}))})),t.length>0&&this.setDataAtCell(t,e)},this.isRenderSuspended=function(){return this.renderSuspendedCounter>0},this.suspendRender=function(){this.renderSuspendedCounter+=1},this.resumeRender=function(){const e=this.renderSuspendedCounter-1;this.renderSuspendedCounter=Math.max(e,0),this.isRenderSuspended()||e!==this.renderSuspendedCounter||(this.renderCall?this.render():o.view.render())},this.render=function(){this.view&&(this.renderCall=!0,this.forceFullRender=!0,this.isRenderSuspended()||o.view.render())},this.batchRender=function(e){this.suspendRender();const t=e();return this.resumeRender(),t},this.isExecutionSuspended=function(){return this.executionSuspendedCounter>0},this.suspendExecution=function(){this.executionSuspendedCounter+=1,this.columnIndexMapper.suspendOperations(),this.rowIndexMapper.suspendOperations()},this.resumeExecution=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.executionSuspendedCounter-1;this.executionSuspendedCounter=Math.max(t,0),(!this.isExecutionSuspended()&&t===this.executionSuspendedCounter||e)&&(this.columnIndexMapper.resumeOperations(),this.rowIndexMapper.resumeOperations())},this.batchExecution=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.suspendExecution();const n=e();return this.resumeExecution(t),n},this.batch=function(e){this.suspendRender(),this.suspendExecution();const t=e();return this.resumeExecution(),this.resumeRender(),t},this.refreshDimensions=function(){if(!o.view)return;const{width:e,height:t}=o.view.getLastSize(),{width:n,height:r}=o.rootElement.getBoundingClientRect(),i=n!==e||r!==t,s=!1===o.runHooks("beforeRefreshDimensions",{width:e,height:t},{width:n,height:r},i);s||((i||o.view._wt.wtOverlays.scrollableElement===o.rootWindow)&&(o.view.setLastSize(n,r),o.render()),o.runHooks("afterRefreshDimensions",{width:e,height:t},{width:n,height:r},i))},this.updateData=function(e,t){uv(e,(e=>{a=e}),(e=>{a=e,o.columnIndexMapper.fitToLength(this.getInitialColumnCount()),o.rowIndexMapper.fitToLength(this.countSourceRows()),u.adjustRowsAndCols(),x.refresh()}),{hotInstance:o,dataMap:a,dataSource:l,internalSource:"updateData",source:t,metaManager:g,firstRun:f})},this.loadData=function(e,t){uv(e,(e=>{a=e}),(()=>{g.clearCellsCache(),o.initIndexMappers(),u.adjustRowsAndCols(),x.refresh(),f&&(f=[null,"loadData"])}),{hotInstance:o,dataMap:a,dataSource:l,internalSource:"loadData",source:t,metaManager:g,firstRun:f})},this.getInitialColumnCount=function(){const e=v.columns;let t=0;if(Array.isArray(e))t=e.length;else if(rn(e))if("array"===o.dataType){const n=this.countSourceCols();for(let r=0;r<n;r+=1)e(r)&&(t+=1)}else"object"!==o.dataType&&"function"!==o.dataType||(t=a.colToPropCache.length);else if(U(v.dataSchema)){const e=a.getSchema();t=Array.isArray(e)?e.length:Cn(e)}else t=this.countSourceCols();return t},this.initIndexMappers=function(){this.columnIndexMapper.initToLength(this.getInitialColumnCount()),this.rowIndexMapper.initToLength(this.countSourceRows())},this.getData=function(e,t,n,r){return B(e)?a.getAll():a.getRange(o._createCellCoords(e,t),o._createCellCoords(n,r),a.DESTINATION_RENDERER)},this.getCopyableText=function(e,t,n,r){return a.getCopyableText(o._createCellCoords(e,t),o._createCellCoords(n,r))},this.getCopyableData=function(e,t){return a.getCopyable(e,a.colToProp(t))},this.getSchema=function(){return a.getSchema()},this.updateSettings=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(f?o.loadData:o.updateData).bind(this);let r,i,s=!1;if(U(e.rows))throw new Error('The "rows" setting is no longer supported. Do you mean startRows, minRows or maxRows?');if(U(e.cols))throw new Error('The "cols" setting is no longer supported. Do you mean startCols, minCols or maxCols?');if(U(e.ganttChart))throw new Error('Since 8.0.0 the "ganttChart" setting is no longer supported.');for(r in e)"data"===r||("language"===r?N(e.language):"className"===r?L("className",e.className):"tableClassName"===r&&o.table?(L("tableClassName",e.tableClassName),o.view._wt.wtOverlays.syncOverlayTableClassNames()):Mr.getSingleton().isRegistered(r)||Mr.getSingleton().isDeprecated(r)?(rn(e[r])||Array.isArray(e[r]))&&(e[r].initialHook=!0,o.addHook(r,e[r])):!t&&xn(e,r)&&(y[r]=e[r]));void 0===e.data&&void 0===v.data?n(null,"updateSettings"):void 0!==e.data?n(e.data,"updateSettings"):void 0!==e.columns&&(a.createMap(),o.initIndexMappers());const l=o.countCols(),c=v.columns;if(c&&rn(c)&&(s=!0),void 0===e.cell&&void 0===e.cells&&void 0===e.columns||g.clearCache(),l>0)for(r=0,i=0;r<l;r++){if(c){const e=s?c(r):c[i];e&&g.updateColumnMeta(i,e)}i+=1}U(e.cell)&&Sn(e.cell,(e=>{o.setCellMetaObject(e.row,e.col,e)})),o.runHooks("afterCellMetaReset");let h=o.rootElement.style.height;""!==h&&(h=parseInt(o.rootElement.style.height,10));let d=e.height;if(rn(d)&&(d=d()),t){const e=o.rootElement.getAttribute("style");e&&o.rootElement.setAttribute("data-initialstyle",o.rootElement.getAttribute("style"))}if(null===d){const e=o.rootElement.getAttribute("data-initialstyle");e&&(e.indexOf("height")>-1||e.indexOf("overflow")>-1)?o.rootElement.setAttribute("style",e):(o.rootElement.style.height="",o.rootElement.style.overflow="")}else void 0!==d&&(o.rootElement.style.height=isNaN(d)?`${d}`:`${d}px`,o.rootElement.style.overflow="hidden");if("undefined"!==typeof e.width){let t=e.width;rn(t)&&(t=t()),o.rootElement.style.width=isNaN(t)?`${t}`:`${t}px`}t||(o.view&&(o.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked(),o.view._wt.exportSettingsAsClassNames()),o.runHooks("afterUpdateSettings",e)),u.adjustRowsAndCols(),o.view&&!f&&(o.forceFullRender=!0,o.view.render(),o.view._wt.wtOverlays.adjustElementsSize()),t||!o.view||""!==h&&""!==d&&void 0!==d||h===d||o.view._wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){const e=o.getSelectedLast();if(v.getValue){if(rn(v.getValue))return v.getValue.call(o);if(e)return o.getData()[e[0][0]][v.getValue]}else if(e)return o.getDataAtCell(e[0],e[1])},this.getSettings=function(){return v},this.clear=function(){this.selectAll(),this.emptySelectedCells()},this.alter=function(e,t,n,r,i){u.alter(e,t,n,r,i)},this.getCell=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t,i=e;if(t>=0){if(this.columnIndexMapper.isHidden(this.toPhysicalColumn(t)))return null;r=this.columnIndexMapper.getRenderableFromVisualIndex(t)}if(e>=0){if(this.rowIndexMapper.isHidden(this.toPhysicalRow(e)))return null;i=this.rowIndexMapper.getRenderableFromVisualIndex(e)}return null===i||null===r||void 0===i||void 0===r?null:o.view.getCellAtCoords(o._createCellCoords(i,r),n)},this.getCoords=function(e){const t=this.view._wt.wtTable.getCoords(e);if(null===t)return null;const{row:n,col:r}=t;let i=n,s=r;return n>=0&&(i=this.rowIndexMapper.getVisualFromRenderableIndex(n)),r>=0&&(s=this.columnIndexMapper.getVisualFromRenderableIndex(r)),o._createCellCoords(i,s)},this.colToProp=function(e){return a.colToProp(e)},this.propToCol=function(e){return a.propToCol(e)},this.toVisualRow=e=>this.rowIndexMapper.getVisualFromPhysicalIndex(e),this.toVisualColumn=e=>this.columnIndexMapper.getVisualFromPhysicalIndex(e),this.toPhysicalRow=e=>this.rowIndexMapper.getPhysicalFromVisualIndex(e),this.toPhysicalColumn=e=>this.columnIndexMapper.getPhysicalFromVisualIndex(e),this.getDataAtCell=function(e,t){return a.get(e,a.colToProp(t))},this.getDataAtRowProp=function(e,t){return a.get(e,t)},this.getDataAtCol=function(e){const t=[],n=a.getRange(o._createCellCoords(0,e),o._createCellCoords(v.data.length-1,e),a.DESTINATION_RENDERER);for(let r=0;r<n.length;r+=1)for(let e=0;e<n[r].length;e+=1)t.push(n[r][e]);return t},this.getDataAtProp=function(e){const t=[],n=a.getRange(o._createCellCoords(0,a.propToCol(e)),o._createCellCoords(v.data.length-1,a.propToCol(e)),a.DESTINATION_RENDERER);for(let r=0;r<n.length;r+=1)for(let e=0;e<n[r].length;e+=1)t.push(n[r][e]);return t},this.getSourceData=function(e,t,n,r){let i;return i=void 0===e?l.getData():l.getByRange(o._createCellCoords(e,t),o._createCellCoords(n,r)),i},this.getSourceDataArray=function(e,t,n,r){let i;return i=void 0===e?l.getData(!0):l.getByRange(o._createCellCoords(e,t),o._createCellCoords(n,r),!0),i},this.getSourceDataAtCol=function(e){return l.getAtColumn(e)},this.setSourceDataAtCell=function(e,t,n,r){const i=H(e,t,n),s=this.hasHook("afterSetSourceDataAtCell"),a=[];s&&C(i,(e=>{let[t,n,r]=e;a.push([t,n,l.getAtCell(t,n),r])})),C(i,(e=>{let[t,n,r]=e;l.setAtCell(t,n,r)})),s&&this.runHooks("afterSetSourceDataAtCell",a,r),this.render();const u=o.getActiveEditor();u&&U(u.refreshValue)&&u.refreshValue()},this.getSourceDataAtRow=function(e){return l.getAtRow(e)},this.getSourceDataAtCell=function(e,t){return l.getAtCell(e,t)},this.getDataAtRow=function(e){const t=a.getRange(o._createCellCoords(e,0),o._createCellCoords(e,this.countCols()-1),a.DESTINATION_RENDERER);return t[0]||[]},this.getDataType=function(e,t,n,r){const i=void 0===e?[0,0,this.countRows(),this.countCols()]:[e,t,n,r],[o,s]=i;let[,,a,l]=i,u=null,c=null;void 0===a&&(a=o),void 0===l&&(l=s);let h="mixed";return Ni(Math.max(Math.min(o,a),0),Math.max(o,a),(e=>{let t=!0;return Ni(Math.max(Math.min(s,l),0),Math.max(s,l),(n=>{const r=this.getCellMeta(e,n);return c=r.type,u?t=u===c:u=c,t})),h=t?c:"mixed",t})),h},this.removeCellMeta=function(e,t,n){const[r,i]=[this.toPhysicalRow(e),this.toPhysicalColumn(t)];let s=g.getCellMetaKeyValue(r,i,n);const a=o.runHooks("beforeRemoveCellMeta",e,t,n,s);!1!==a&&(g.removeCellMeta(r,i,n),o.runHooks("afterRemoveCellMeta",e,t,n,s)),s=null},this.spliceCellsMeta=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(r.length>0&&!Array.isArray(r[0]))throw new Error("The 3rd argument (cellMetaRows) has to be passed as an array of cell meta objects array.");t>0&&g.removeRow(this.toPhysicalRow(e),t),r.length>0&&C(r.reverse(),(t=>{g.createRow(this.toPhysicalRow(e)),C(t,((t,n)=>this.setCellMetaObject(e,n,t)))})),o.render()},this.setCellMetaObject=function(e,t,n){"object"===typeof n&&Sn(n,((n,r)=>{this.setCellMeta(e,t,r,n)}))},this.setCellMeta=function(e,t,n,r){const i=o.runHooks("beforeSetCellMeta",e,t,n,r);if(!1===i)return;let s=e,a=t;e<this.countRows()&&(s=this.toPhysicalRow(e)),t<this.countCols()&&(a=this.toPhysicalColumn(t)),g.setCellMeta(s,a,n,r),o.runHooks("afterSetCellMeta",e,t,n,r)},this.getCellsMeta=function(){return g.getCellsMeta()},this.getCellMeta=function(e,t){let n=this.toPhysicalRow(e),r=this.toPhysicalColumn(t);return null===n&&(n=e),null===r&&(r=t),g.getCellMeta(n,r,{visualRow:e,visualColumn:t})},this.getColumnMeta=function(e){return g.getColumnMeta(this.toPhysicalColumn(e))},this.getCellMetaAtRow=function(e){return g.getCellsMetaAtRow(e)},this.isColumnModificationAllowed=function(){return!("object"===o.dataType||v.columns)},this.getCellRenderer=function(e,t){const n="number"===typeof e?o.getCellMeta(e,t).renderer:e.renderer;return"string"===typeof n?ao(n):B(n)?ao("text"):n},this.getCellEditor=function(e,t){const n="number"===typeof e?o.getCellMeta(e,t).editor:e.editor;return"string"===typeof n?Dr(n):B(n)?Dr("text"):n},this.getCellValidator=function(e,t){const n="number"===typeof e?o.getCellMeta(e,t).validator:e.validator;return"string"===typeof n?mo(n):n},this.validateCells=function(e){this._validateCells(e)},this.validateRows=function(e,t){if(!Array.isArray(e))throw new Error("validateRows parameter `rows` must be an array");this._validateCells(t,e)},this.validateColumns=function(e,t){if(!Array.isArray(e))throw new Error("validateColumns parameter `columns` must be an array");this._validateCells(t,void 0,e)},this._validateCells=function(e,t,n){const r=new k;e&&(r.onQueueEmpty=e);let i=o.countRows()-1;while(i>=0){if(void 0!==t&&-1===t.indexOf(i)){i-=1;continue}let e=o.countCols()-1;while(e>=0)void 0===n||-1!==n.indexOf(e)?(r.addValidatorToQueue(),o.validateCell(o.getDataAtCell(i,e),o.getCellMeta(i,e),(e=>{if("boolean"!==typeof e)throw new Error("Validation error: result is not boolean");!1===e&&(r.valid=!1),r.removeValidatorFormQueue()}),"validateCells"),e-=1):e-=1;i-=1}r.checkIfQueueIsEmpty()},this.getRowHeader=function(e){let t=v.rowHeaders,n=e;return void 0!==n&&(n=o.runHooks("modifyRowHeader",n)),void 0===n?(t=[],Ni(o.countRows()-1,(e=>{t.push(o.getRowHeader(e))}))):Array.isArray(t)&&void 0!==t[n]?t=t[n]:rn(t)?t=t(n):t&&"string"!==typeof t&&"number"!==typeof t&&(t=n+1),t},this.hasRowHeaders=function(){return!!v.rowHeaders},this.hasColHeaders=function(){if(void 0!==v.colHeaders&&null!==v.colHeaders)return!!v.colHeaders;for(let e=0,t=o.countCols();e<t;e++)if(o.getColHeader(e))return!0;return!1},this.getColHeader=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=o.runHooks("modifyColHeader",e);if(void 0===n){const e=[],t=o.countCols();for(let n=0;n<t;n++)e.push(o.getColHeader(n));return e}let r=v.colHeaders;const i=function(e){const t=[],n=o.countCols();let r=0;for(;r<n;r++)rn(v.columns)&&v.columns(r)&&t.push(r);return t[e]},s=o.toPhysicalColumn(n),a=i(s);return!1===v.colHeaders?r=null:v.columns&&rn(v.columns)&&v.columns(a)&&v.columns(a).title?r=v.columns(a).title:v.columns&&v.columns[s]&&v.columns[s].title?r=v.columns[s].title:Array.isArray(v.colHeaders)&&void 0!==v.colHeaders[s]?r=v.colHeaders[s]:rn(v.colHeaders)?r=v.colHeaders(s):v.colHeaders&&"string"!==typeof v.colHeaders&&"number"!==typeof v.colHeaders&&(r=uh(n)),r=o.runHooks("modifyColumnHeaderValue",r,e,t),r},this._getColWidthFromSettings=function(e){let t;if(e>=0){const n=o.getCellMeta(0,e);t=n.width}if(void 0!==t&&t!==v.width||(t=v.colWidths),void 0!==t&&null!==t){switch(typeof t){case"object":t=t[e];break;case"function":t=t(e);break;default:break}"string"===typeof t&&(t=parseInt(t,10))}return t},this.getColWidth=function(e){let t=o._getColWidthFromSettings(e);return t=o.runHooks("modifyColWidth",t,e),void 0===t&&(t=Vs),t},this._getRowHeightFromSettings=function(e){let t=v.rowHeights;if(void 0!==t&&null!==t){switch(typeof t){case"object":t=t[e];break;case"function":t=t(e);break;default:break}"string"===typeof t&&(t=parseInt(t,10))}return t},this.getRowHeight=function(e){let t=o._getRowHeightFromSettings(e);return t=o.runHooks("modifyRowHeight",t,e),t},this.countSourceRows=function(){return l.countRows()},this.countSourceCols=function(){return l.countFirstRowKeys()},this.countRows=function(){return a.getLength()},this.countCols=function(){const e=v.maxCols,t=this.columnIndexMapper.getNotTrimmedIndexesLength();return Math.min(e,t)},this.countRenderedRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return o.view._wt.drawn?o.view._wt.wtTable.getVisibleColumnsCount():-1},this.countRowHeaders=function(){return this.view.getRowHeadersCount()},this.countColHeaders=function(){return this.view.getColumnHeadersCount()},this.countEmptyRows=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0;return Li(o.countRows()-1,(n=>{if(o.isEmptyRow(n))t+=1;else if(!0===e)return!1})),t},this.countEmptyCols=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=0;return Li(o.countCols()-1,(n=>{if(o.isEmptyCol(n))t+=1;else if(!0===e)return!1})),t},this.isEmptyRow=function(e){return v.isEmptyRow.call(o,e)},this.isEmptyCol=function(e){return v.isEmptyCol.call(o,e)},this.selectCell=function(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return!B(e)&&!B(t)&&this.selectCells([[e,t,n,r]],i,o)},this.selectCells=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];!1===t&&d.suspend();const r=x.selectCells(e);return r&&n&&o.listen(),d.resume(),r},this.selectColumns=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0;return x.selectColumns(e,t,n)},this.selectRows=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0;return x.selectRows(e,t,n)},this.deselectCell=function(){x.deselect()},this.selectAll=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2?arguments[2]:void 0;d.skipNextScrollCycle(),x.selectAll(e,t,n)};const W=(e,t)=>e.getNearestNotHiddenIndex(t,1,!0);function z(e){return()=>{throw new Error(`The "${e}" method cannot be called because this Handsontable instance has been destroyed`)}}this.scrollViewportTo=function(e){var t,n;"number"===typeof e&&(e={row:arguments[0],col:arguments[1],verticalSnap:arguments[2]?"bottom":"top",horizontalSnap:arguments[3]?"end":"start",considerHiddenIndexes:null===(n=arguments[4])||void 0===n||n});const{row:r,col:i,verticalSnap:s,horizontalSnap:a,considerHiddenIndexes:l}=null!==(t=e)&&void 0!==t?t:{};let u,c,h,d;void 0!==s&&(u="top"===s,c=!u),void 0!==a&&(h="start"===a,d=!h);let f=r,p=i;if(void 0===l||l){const e=Number.isInteger(r)&&r>=0,t=Number.isInteger(i)&&i>=0,n=e?W(this.rowIndexMapper,r):void 0,s=t?W(this.columnIndexMapper,i):void 0;if(null===n||null===s)return!1;f=e?o.rowIndexMapper.getRenderableFromVisualIndex(n):r,p=t?o.columnIndexMapper.getRenderableFromVisualIndex(s):i}const m=Number.isInteger(f),g=Number.isInteger(p);return m&&f>=0&&g&&p>=0?o.view.scrollViewport(o._createCellCoords(f,p),u,d,c,h):m&&f>=0&&(g&&p<0||!g)?o.view.scrollViewportVertically(f,u,c):!!(g&&p>=0&&(m&&f<0||!m))&&o.view.scrollViewportHorizontally(p,d,h)},this.scrollToFocusedCell=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};if(!this.selection.isSelected())return;this.addHookOnce("afterScroll",e);const{highlight:t}=this.getSelectedRangeLast(),n=this.scrollViewportTo(t.toObject());n?this.view.render():(this.removeHook("afterScroll",e),this._registerImmediate((()=>e())))},this.destroy=function(){if(o._clearTimeouts(),o._clearImmediates(),o.view&&o.view.destroy(),l&&l.destroy(),l=null,this.getShortcutManager().destroy(),g.clearCache(),Gy.delete(this.guid),Uc(o)){const e=this.rootDocument.querySelector(".hot-display-license-info");e&&e.parentNode.removeChild(e)}ft(o.rootElement),s.destroy(),c&&c.destroy(),o.batchExecution((()=>{o.rowIndexMapper.unregisterAll(),o.columnIndexMapper.unregisterAll(),b.getItems().forEach((e=>{let[,t]=e;t.destroy()})),b.clear(),o.runHooks("afterDestroy")}),!0),Mr.getSingleton().destroy(o),Sn(o,((e,t,n)=>{rn(e)?n[t]=z(t):"guid"!==t&&(n[t]=null)})),o.isDestroyed=!0,a&&a.destroy(),a=null,u=null,x=null,c=null,o=null},this.getActiveEditor=function(){return c.getActiveEditor()},this.getFirstRenderedVisibleRow=function(){return o.view.getFirstRenderedVisibleRow()},this.getLastRenderedVisibleRow=function(){return o.view.getLastRenderedVisibleRow()},this.getFirstRenderedVisibleColumn=function(){return o.view.getFirstRenderedVisibleColumn()},this.getLastRenderedVisibleColumn=function(){return o.view.getLastRenderedVisibleColumn()},this.getFirstFullyVisibleRow=function(){return o.view.getFirstFullyVisibleRow()},this.getLastFullyVisibleRow=function(){return o.view.getLastFullyVisibleRow()},this.getFirstFullyVisibleColumn=function(){return o.view.getFirstFullyVisibleColumn()},this.getLastFullyVisibleColumn=function(){return o.view.getLastFullyVisibleColumn()},this.getFirstPartiallyVisibleRow=function(){return o.view.getFirstPartiallyVisibleRow()},this.getLastPartiallyVisibleRow=function(){return o.view.getLastPartiallyVisibleRow()},this.getFirstPartiallyVisibleColumn=function(){return o.view.getFirstPartiallyVisibleColumn()},this.getLastPartiallyVisibleColumn=function(){return o.view.getLastPartiallyVisibleColumn()},this.getPlugin=function(e){const t=ne(e);return"UndoRedo"===t?this.undoRedo:b.getItem(t)},this.getPluginName=function(e){return e===this.undoRedo?this.undoRedo.constructor.PLUGIN_KEY:b.getId(e)},this.getInstance=function(){return o},this.addHook=function(e,t,n){Mr.getSingleton().add(e,t,o,n)},this.hasHook=function(e){return Mr.getSingleton().has(e,o)||Mr.getSingleton().has(e)},this.addHookOnce=function(e,t,n){Mr.getSingleton().once(e,t,o,n)},this.removeHook=function(e,t){Mr.getSingleton().remove(e,t,o)},this.runHooks=function(e,t,n,r,i,s,a){return Mr.getSingleton().run(o,e,t,n,r,i,s,a)},this.getTranslatedPhrase=function(e,t){return Sp(v.language,e,t)},this.toHTML=()=>Mi(this),this.toTableElement=()=>{const e=this.rootDocument.createElement("div");return e.insertAdjacentHTML("afterbegin",Mi(this)),e.firstElementChild},this.timeouts=[],this._registerTimeout=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e;"function"===typeof n&&(n=setTimeout(n,t)),this.timeouts.push(n)},this._clearTimeouts=function(){C(this.timeouts,(e=>{clearTimeout(e)}))},this.immediates=[],this._registerImmediate=function(e){this.immediates.push(setImmediate(e))},this._clearImmediates=function(){C(this.immediates,(e=>{clearImmediate(e)}))},this._getEditorManager=function(){return c},this.isRtl=function(){return"rtl"===o.rootWindow.getComputedStyle(o.rootElement).direction},this.isLtr=function(){return!o.isRtl()},this.getDirectionFactor=function(){return o.isLtr()?1:-1};const G=Bv({handleEvent(){return o.isListening()},beforeKeyDown:e=>this.runHooks("beforeKeyDown",e),afterKeyDown:e=>{this.isDestroyed||o.runHooks("afterDocumentKeyDown",e)},ownerWindow:this.rootWindow});this.addHook("beforeOnCellMouseDown",(e=>{!1===e.ctrlKey&&!1===e.metaKey&&G.releasePressedKeys()})),this.getShortcutManager=function(){return G},this.getFocusManager=function(){return h},Xi().forEach((e=>{const t=Ji(e);b.addItem(e,new t(this))})),Wy(o),G.setActiveContextName("grid"),Mr.getSingleton().run(o,"construct")}function qy(e,t,n){e.addEventListener(t,n,!1)}function Ky(e,t,n){e.removeEventListener(t,n,!1)}function Xy(e){return e.ownerDocument.defaultView.getComputedStyle(e)}function Jy(e){const t={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=e.body,r=e.createTextNode(""),i=e.createElement("span");let o;function s(){r.textContent=o.value,i.style.position="absolute",i.style.fontSize=Xy(o).fontSize,i.style.fontFamily=Xy(o).fontFamily,i.style.whiteSpace="pre",n.appendChild(i);const e=i.clientWidth+2;n.removeChild(i);const s=o.style;s.height=`${t.minHeight}px`,t.minWidth>e?s.width=`${t.minWidth}px`:e>t.maxWidth?s.width=`${t.maxWidth}px`:s.width=`${e}px`;const a=o.scrollHeight?o.scrollHeight-1:0;t.minHeight>a?s.height=`${t.minHeight}px`:t.maxHeight<a?(s.height=`${t.maxHeight}px`,s.overflowY="visible"):s.height=`${a}px`}function a(){e.defaultView.setTimeout(s,0)}function l(e){if(e&&e.minHeight)if("inherit"===e.minHeight)t.minHeight=o.clientHeight;else{const n=parseInt(e.minHeight,10);isNaN(n)||(t.minHeight=n)}if(e&&e.maxHeight)if("inherit"===e.maxHeight)t.maxHeight=o.clientHeight;else{const n=parseInt(e.maxHeight,10);isNaN(n)||(t.maxHeight=n)}if(e&&e.minWidth)if("inherit"===e.minWidth)t.minWidth=o.clientWidth;else{const n=parseInt(e.minWidth,10);isNaN(n)||(t.minWidth=n)}if(e&&e.maxWidth)if("inherit"===e.maxWidth)t.maxWidth=o.clientWidth;else{const n=parseInt(e.maxWidth,10);isNaN(n)||(t.maxWidth=n)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))}function u(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o=e,l(n),"TEXTAREA"===o.nodeName&&(o.style.resize="none",o.style.height=`${t.minHeight}px`,o.style.minWidth=`${t.minWidth}px`,o.style.maxWidth=`${t.maxWidth}px`,o.style.overflowY="hidden"),r&&(qy(o,"input",s),qy(o,"keydown",a)),s()}return{init:u,resize:s,unObserve(){Ky(o,"input",s),Ky(o,"keydown",a)}}}function Qy(e,t){const n=Dt(t),r=t.value.split("\n");let i=n,o=0;for(let s=0;s<r.length;s++){const t=r[s];0!==s&&(o+=r[s-1].length+1);const a=o+t.length;if("home"===e?i=o:"end"===e&&(i=a),n<=a)break}Bt(t,i)}function Zy(e,t,n){return(t=eb(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eb(e){var t=tb(e,"string");return"symbol"==typeof t?t:t+""}function tb(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const nb="ht_editor_visible",rb="ht_editor_hidden",ib="textEditor",ob="text";class sb extends Xv{static get EDITOR_TYPE(){return ob}constructor(e){super(e),Zy(this,"eventManager",new Wr(this)),Zy(this,"autoResize",Jy(this.hot.rootDocument)),Zy(this,"TEXTAREA",void 0),Zy(this,"textareaStyle",void 0),Zy(this,"TEXTAREA_PARENT",void 0),Zy(this,"textareaParentStyle",void 0),Zy(this,"layerClass",void 0),this.eventManager=new Wr(this),this.createElements(),this.bindEvents(),this.hot.addHookOnce("afterDestroy",(()=>this.destroy()))}getValue(){return this.TEXTAREA.value}setValue(e){this.TEXTAREA.value=e}open(){this.refreshDimensions(),this.showEditableElement(),this.hot.getShortcutManager().setActiveContextName("editor"),this.registerShortcuts()}close(){this.autoResize.unObserve(),Xe(this.hot.rootDocument.activeElement,this.hot.rootElement)&&this.hot.listen(),this.hideEditableElement(),this.unregisterShortcuts()}prepare(e,t,n,r,i,o){const s=this.state;if(super.prepare(e,t,n,r,i,o),!o.readOnly){this.refreshDimensions(!0);const{allowInvalid:e}=o;e&&!this.isOpened()&&(this.TEXTAREA.value=""),s===Kv.FINISHED||this.isOpened()||this.hideEditableElement()}}beginEditing(e,t){this.state===Kv.VIRGIN&&(this.TEXTAREA.value="",super.beginEditing(e,t))}focus(){this.TEXTAREA.select(),Bt(this.TEXTAREA,this.TEXTAREA.value.length)}createElements(){const{rootDocument:e}=this.hot;this.TEXTAREA=e.createElement("TEXTAREA"),ct(this.TEXTAREA,[["data-hot-input",""],ue(-1)]),lt(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.textareaStyle.overflowY="visible",this.TEXTAREA_PARENT=e.createElement("DIV"),lt(this.TEXTAREA_PARENT,"handsontableInputHolder"),at(this.TEXTAREA_PARENT,this.layerClass)&&ut(this.TEXTAREA_PARENT,this.layerClass),lt(this.TEXTAREA_PARENT,rb),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.hot.rootElement.appendChild(this.TEXTAREA_PARENT)}hideEditableElement(){zn()&&(this.textareaStyle.textIndent="-99999px"),this.textareaStyle.overflowY="visible",this.textareaParentStyle.opacity="0",this.textareaParentStyle.height="1px",ut(this.TEXTAREA_PARENT,this.layerClass),lt(this.TEXTAREA_PARENT,rb)}showEditableElement(){this.textareaParentStyle.height="",this.textareaParentStyle.overflow="",this.textareaParentStyle.position="",this.textareaParentStyle[this.hot.isRtl()?"left":"right"]="auto",this.textareaParentStyle.opacity="1",this.textareaStyle.textIndent="";const e=this.TEXTAREA_PARENT.childNodes;let t=!1;Ni(e.length-1,(n=>{const r=e[n];if(at(r,"handsontableEditor"))return t=!0,!1})),at(this.TEXTAREA_PARENT,rb)&&ut(this.TEXTAREA_PARENT,rb),t?(this.layerClass=nb,lt(this.TEXTAREA_PARENT,this.layerClass)):(this.layerClass=this.getEditedCellsLayerClass(),lt(this.TEXTAREA_PARENT,this.layerClass))}refreshValue(){const e=this.hot.toPhysicalRow(this.row),t=this.hot.getSourceDataAtCell(e,this.col);this.originalValue=t,this.setValue(t),this.refreshDimensions()}refreshDimensions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state!==Kv.EDITING&&!e)return;if(this.TD=this.getEditedCell(),!this.TD)return void(e||this.close());const{top:t,start:n,width:r,maxWidth:i,height:o,maxHeight:s}=this.getEditedCellRect();this.textareaParentStyle.top=`${t}px`,this.textareaParentStyle[this.hot.isRtl()?"right":"left"]=`${n}px`,this.showEditableElement();const a=At(this.TD,this.hot.rootWindow);this.TEXTAREA.style.fontSize=a.fontSize,this.TEXTAREA.style.fontFamily=a.fontFamily,this.TEXTAREA.style.backgroundColor=this.TD.style.backgroundColor;const l=At(this.TEXTAREA),u=parseInt(l.paddingLeft,10)+parseInt(l.paddingRight,10),c=parseInt(l.paddingTop,10)+parseInt(l.paddingBottom,10),h=r-u,d=o-c,f=i-u,p=s-c;this.autoResize.init(this.TEXTAREA,{minWidth:Math.min(h,f),minHeight:Math.min(d,p),maxWidth:f,maxHeight:p},!0)}bindEvents(){qn()&&this.eventManager.addEventListener(this.TEXTAREA,"focusout",(()=>this.finishEditing(!1))),this.addHook("afterScrollHorizontally",(()=>this.refreshDimensions())),this.addHook("afterScrollVertically",(()=>this.refreshDimensions())),this.addHook("afterColumnResize",(()=>{this.refreshDimensions(),this.state===Kv.EDITING&&this.focus()})),this.addHook("afterRowResize",(()=>{this.refreshDimensions(),this.state===Kv.EDITING&&this.focus()}))}allowKeyEventPropagation(){}destroy(){this.eventManager.destroy(),this.clearHooks()}registerShortcuts(){const e=this.hot.getShortcutManager(),t=e.getContext("editor"),n={runOnlyIf:()=>U(this.hot.getSelected()),group:ib},r=()=>{this.hot.rootDocument.execCommand("insertText",!1,"\n")};t.addShortcuts([{keys:[["Control","Enter"]],callback:()=>(r(),!1),runOnlyIf:e=>!this.hot.selection.isMultiple()&&!e.altKey},{keys:[["Meta","Enter"]],callback:()=>(r(),!1),runOnlyIf:()=>!this.hot.selection.isMultiple()},{keys:[["Alt","Enter"]],callback:()=>(r(),!1)},{keys:[["Home"]],callback:(e,t)=>{let[n]=t;Qy(n,this.TEXTAREA)}},{keys:[["End"]],callback:(e,t)=>{let[n]=t;Qy(n,this.TEXTAREA)}}],n)}unregisterShortcuts(){const e=this.hot.getShortcutManager(),t=e.getContext("editor");t.removeShortcutsByGroup(ib)}}const ab="base";function lb(e,t,n,r,i,o,s){const a=s.ariaTags,l=[],u=[],c=[],h=[];s.className&&lt(t,s.className),s.readOnly?(l.push(s.readOnlyCellClassName),a&&h.push(He())):a&&c.push(He()[0]),!1===s.valid&&s.invalidCellClassName?(l.push(s.invalidCellClassName),a&&h.push(Ue())):(u.push(s.invalidCellClassName),a&&c.push(Ue()[0])),!1===s.wordWrap&&s.noWordWrapClassName&&l.push(s.noWordWrapClassName),!o&&s.placeholder&&l.push(s.placeholderCellClassName),ut(t,u),lt(t,l),ht(t,c),ct(t,h)}lb.RENDERER_TYPE=ab;const ub="text";function cb(e,t,n,r,i,o,s){lb.apply(this,[e,t,n,r,i,o,s]);let a=o;if(!a&&s.placeholder&&(a=s.placeholder),a=H(a),s.trimWhitespace&&(a=a.trim()),s.rendererTemplate){ft(t);const r=e.rootDocument.createElement("TEMPLATE");r.setAttribute("bind","{{}}"),r.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(r),r.model=e.getSourceDataAtRow(n),t.appendChild(r)}else gt(t,a)}cb.RENDERER_TYPE=ub;const hb="text",db={CELL_TYPE:hb,editor:sb,renderer:cb};function fb(e,t){const n=new $y(e,t||{},Dc);return n.init(),n}ug(db),fb.editors={BaseEditor:Xv},fb.Core=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new $y(e,t,Dc)},fb.DefaultSettings=gg(),fb.hooks=Mr.getSingleton(),fb.CellCoords=el,fb.CellRange=hl,fb.packageName="handsontable",fb.buildDate="17/10/2024 09:16:16",fb.version="14.6.1",fb.languages={dictionaryKeys:dp,getLanguageDictionary:wp,getLanguagesDictionaries:Ep,registerLanguageDictionary:yp,getTranslatedPhrase:Sp};var pb=fb;const mb="handsontableEditor",gb="handsontable";class vb extends sb{static get EDITOR_TYPE(){return gb}open(){super.open(),this.htEditor&&this.htEditor.destroy(),"none"===this.htContainer.style.display&&(this.htContainer.style.display=""),this.htEditor=new this.hot.constructor(this.htContainer,this.htOptions),this.htEditor.init(),this.htEditor.rootElement.style.display="",this.cellProperties.strict?this.htEditor.selectCell(0,0):this.htEditor.deselectCell(),Bt(this.TEXTAREA,0,this.TEXTAREA.value.length),this.refreshDimensions()}close(){this.htEditor&&(this.htEditor.rootElement.style.display="none"),this.removeHooksByKey("beforeKeyDown"),super.close()}prepare(e,t,n,r,i,o){super.prepare(e,t,n,r,i,o);const s=this,a={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,autoWrapCol:!1,autoWrapRow:!1,ariaTags:!1,afterOnCellMouseDown(e,t){const n=this.getSourceData(t.row,t.col);void 0!==n&&s.setValue(n),s.hot.destroyEditor()},preventWheel:!0,layoutDirection:this.hot.isRtl()?"rtl":"ltr"};this.cellProperties.handsontable&&mn(a,o.handsontable),this.htOptions=a}beginEditing(e,t){const n=this.hot.getSettings().onBeginEditing;n&&!1===n()||super.beginEditing(e,t)}createElements(){super.createElements();const e=this.hot.rootDocument.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.assignHooks()}finishEditing(e,t,n){if(this.htEditor&&this.htEditor.isListening()&&this.hot.listen(),this.htEditor&&this.htEditor.getSelectedLast()){const e=this.htEditor.getValue();void 0!==e&&this.setValue(e)}super.finishEditing(e,t,n)}assignHooks(){this.hot.addHook("afterDestroy",(()=>{this.htEditor&&this.htEditor.destroy()}))}registerShortcuts(){const e=this.hot.getShortcutManager(),t=e.getContext("editor");super.registerShortcuts();const n={group:mb,relativeToGroup:bv,position:"before"},r=(e,t)=>{const n=this.htEditor;if(void 0!==e&&(e<0||n.flipped&&e>n.countRows()-1?n.deselectCell():n.selectCell(e,0),n.getData().length))return t.preventDefault(),sr(t),this.hot.listen(),this.TEXTAREA.focus(),!1};t.addShortcuts([{keys:[["ArrowUp"]],callback:e=>{const t=this.htEditor;let n,i;return!t.getSelectedLast()&&t.flipped?n=t.countRows()-1:t.getSelectedLast()&&(t.flipped?(i=t.getSelectedLast()[0],n=Math.max(0,i-1)):(i=t.getSelectedLast()[0],n=i-1)),r(n,e)},preventDefault:!1},{keys:[["ArrowDown"]],callback:e=>{const t=this.htEditor;let n,i;if(t.getSelectedLast()||t.flipped){if(t.getSelectedLast())if(t.flipped)n=t.getSelectedLast()[0]+1;else if(!t.flipped){const e=t.countRows()-1;i=t.getSelectedLast()[0],n=Math.min(e,i+1)}}else n=0;return r(n,e)},preventDefault:!1}],n)}unregisterShortcuts(){super.unregisterShortcuts();const e=this.hot.getShortcutManager(),t=e.getContext("editor");t.removeShortcutsByGroup(mb)}}function yb(e,t,n){bb(e,t),t.set(e,n)}function bb(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wb(e,t,n){return(t=_b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _b(e){var t=Eb(e,"string");return"symbol"==typeof t?t:t+""}function Eb(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Sb(e,t){return e.get(Tb(e,t))}function Tb(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const Mb="autocomplete";var Cb=new WeakMap;class Rb extends vb{constructor(){super(...arguments),wb(this,"query",null),wb(this,"strippedChoices",[]),wb(this,"rawChoices",[]),yb(this,Cb,this.hot.guid.slice(0,9)),wb(this,"sortByRelevance",(function(e,t,n){const r=[],i=[],o=e.length;let s,a,l,u,c=t.length;if(0===o){for(l=0;l<c;l++)i.push(l);return i}for(l=0;l<c;l++){if(a=ae(H(t[l])),n)u=a.indexOf(e);else{const t=this.cellProperties.locale;u=a.toLocaleLowerCase(t).indexOf(e.toLocaleLowerCase(t))}-1!==u&&(s=a.length-u-o,r.push({baseIndex:l,index:u,charsLeft:s,value:a}))}for(r.sort(((e,t)=>{if(-1===t.index)return-1;if(-1===e.index)return 1;if(e.index<t.index)return-1;if(t.index<e.index)return 1;if(e.index===t.index){if(e.charsLeft<t.charsLeft)return-1;if(e.charsLeft>t.charsLeft)return 1}return 0})),l=0,c=r.length;l<c;l++)i.push(r[l].baseIndex);return i}))}static get EDITOR_TYPE(){return Mb}getValue(){const e=this.rawChoices.find((e=>{const t=this.stripValueIfNeeded(e);return t===this.TEXTAREA.value}));return U(e)?e:this.TEXTAREA.value}createElements(){super.createElements(),lt(this.htContainer,"autocompleteEditor"),lt(this.htContainer,-1===this.hot.rootWindow.navigator.platform.indexOf("Mac")?"":"htMacScroll"),this.hot.getSettings().ariaTags&&ct(this.TEXTAREA,[Ce(),we(),Le("listbox"),Ye()])}prepare(e,t,n,r,i,o){super.prepare(e,t,n,r,i,o),this.hot.getSettings().ariaTags&&ct(this.TEXTAREA,[De("false"),Ve(`${Sb(Cb,this)}-listbox-${e}-${t}`)])}open(){super.open();const e=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown,t=this.hot.getSettings().ariaTags,n=Array.isArray(this.cellProperties.source)?this.cellProperties.source:null,r=null===n||void 0===n?void 0:n.length,{row:i,col:o}=this;this.showEditableElement(),this.focus();let s=Vt();0===s&&Jn()&&(s+=15),this.addHook("beforeKeyDown",(e=>this.onBeforeKeyDown(e))),this.htEditor.updateSettings({colWidths:e?[Nt(this.TEXTAREA)-2]:void 0,width:e?Nt(this.TEXTAREA)+s:void 0,autoColumnSize:!0,renderer:(e,i,o,s,a,l,u)=>{cb(e,i,o,s,a,l,u);const{filteringCaseSensitive:c,allowHtml:h,locale:d}=this.cellProperties,f=this.query;let p,m,g=H(l);g&&!h&&(p=!0===c?g.indexOf(f):g.toLocaleLowerCase(d).indexOf(f.toLocaleLowerCase(d)),-1!==p&&(m=g.substr(p,f.length),g=g.replace(m,`<strong>${m}</strong>`))),t&&ct(i,[Ee(),...n?[$e(r)]:[],...n?[qe(n.indexOf(l)+1)]:[],["id",`${this.htEditor.rootElement.id}_${o}-${s}`]]),i.innerHTML=g},afterSelectionEnd:(e,n)=>{if(t){const t=this.htEditor.getCell(e,n,!0);ct(t,[je()]),ct(this.TEXTAREA,...We(t.id))}}}),t&&(ct(this.htEditor.view._wt.wtOverlays.wtTable.TABLE,...he()),ct(this.htEditor.rootElement,[_e(),ze("polite"),Ge("text"),["id",`${Sb(Cb,this)}-listbox-${i}-${o}`]]),ct(this.TEXTAREA,...De("true"))),this.hot._registerTimeout((()=>{this.queryChoices(this.TEXTAREA.value)}))}close(){this.removeHooksByKey("beforeKeyDown"),super.close(),this.hot.getSettings().ariaTags&&ct(this.TEXTAREA,[De("false")])}discardEditor(e){super.discardEditor(e),this.hot.view.render()}queryChoices(e){const t=this.cellProperties.source;this.query=e,"function"===typeof t?t.call(this.cellProperties,e,(e=>{this.rawChoices=e,this.updateChoicesList(this.stripValuesIfNeeded(e))})):Array.isArray(t)?(this.rawChoices=t,this.updateChoicesList(this.stripValuesIfNeeded(t))):this.updateChoicesList([])}updateChoicesList(e){const t=Dt(this.TEXTAREA),n=Ft(this.TEXTAREA),r=this.cellProperties.sortByRelevance,i=this.cellProperties.filter;let o=null,s=null,a=e;r&&(o=this.sortByRelevance(this.stripValueIfNeeded(this.getValue()),a,this.cellProperties.filteringCaseSensitive));const l=Array.isArray(o)?o.length:0;if(!1===i)l&&(s=o[0]);else{const e=[];for(let t=0,n=a.length;t<n;t++){if(r&&l<=t)break;l?e.push(a[o[t]]):e.push(a[t])}s=0,a=e}this.strippedChoices=a,0===a.length?this.htEditor.rootElement.style.display="none":this.htEditor.rootElement.style.display="",this.htEditor.loadData(E([a])),a.length>0&&(this.updateDropdownDimensions(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(s)),this.hot.listen(),Bt(this.TEXTAREA,t,t===n?void 0:n)}flipDropdownIfNeeded(){const e=Ct(this.hot.view._wt.wtTable.TABLE),t=e===this.hot.rootWindow,n=this.cellProperties.preventOverflow;if(t||!t&&(n||"horizontal"===n))return!1;const r=yt(this.TEXTAREA),i=Lt(this.TEXTAREA),o=this.getDropdownHeight(),s=e.scrollTop,a=Lt(this.hot.view._wt.wtTable.THEAD),l=yt(e),u=r.top-l.top-a+s,c=e.scrollHeight-u-a-i,h=o>c&&u>c;return h?this.flipDropdown(o):this.unflipDropdown(),this.limitDropdownIfNeeded(h?u:c,o),h}limitDropdownIfNeeded(e,t){if(t>e){let n=0,r=0,i=0,o=null;do{i=this.htEditor.getRowHeight(r)||this.htEditor.view._wt.getSetting("defaultRowHeight"),n+=i,r+=1}while(n<e);o=n-i,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=parseInt(this.htEditor.rootElement.style.top,10)+t-o+"px"),this.setDropdownHeight(n-i)}}flipDropdown(e){const t=this.htEditor.rootElement.style;t.position="absolute",t.top=-e+"px",this.htEditor.flipped=!0}unflipDropdown(){const e=this.htEditor.rootElement.style;e.position="absolute",e.top="",this.htEditor.flipped=void 0}updateDropdownDimensions(){const e=this.htEditor.getColWidth(0)+Vt(this.hot.rootDocument)+2,t=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:t?void 0:e}),this.htEditor.view._wt.wtTable.alignOverlaysWithTrimmingContainer()}setDropdownHeight(e){this.htEditor.updateSettings({height:e})}highlightBestMatchingChoice(e){"number"===typeof e?this.htEditor.selectCell(e,0,void 0,void 0,void 0,!1):this.htEditor.deselectCell()}getDropdownHeight(){const e=this.htEditor.getRowHeight(0)||23,t=this.cellProperties.visibleRows;return this.strippedChoices.length>=t?t*e:this.strippedChoices.length*e+8}stripValueIfNeeded(e){return this.stripValuesIfNeeded([e])[0]}stripValuesIfNeeded(e){const{allowHtml:t}=this.cellProperties,n=M(e,(e=>H(e))),r=M(n,(e=>t?e:ae(e)));return r}allowKeyEventPropagation(e){const t=this.htEditor.getSelectedRangeLast(),n={row:t?t.from.row:-1};let r=!1;return e===Zn.ARROW_DOWN&&n.row>0&&n.row<this.htEditor.countRows()-1&&(r=!0),e===Zn.ARROW_UP&&n.row>-1&&(r=!0),r}onBeforeKeyDown(e){if(tr(e.keyCode)||e.keyCode===Zn.BACKSPACE||e.keyCode===Zn.DELETE||e.keyCode===Zn.INSERT){let t=10;if(e.keyCode===Zn.C&&(e.ctrlKey||e.metaKey))return;this.isOpened()||(t+=10),this.htEditor&&this.hot._registerTimeout((()=>{this.queryChoices(this.TEXTAREA.value)}),t)}}}const xb="checkbox";class Ab extends Xv{static get EDITOR_TYPE(){return xb}beginEditing(e,t){if(t&&"mouseup"===t.type&&"TD"===t.target.nodeName){const e=this.TD.querySelector('input[type="checkbox"]');at(e,"htBadValue")||e.click()}}finishEditing(){}init(){}open(){}close(){}getValue(){}setValue(){}focus(){}}
/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday
 */
const Nb=()=>window,Lb=()=>window.document,kb=(e,t)=>window.setTimeout(e,t),Ob=function(e,t,n,r){e.addEventListener(t,n,!!r)},Ib=function(e,t,n,r){e.removeEventListener(t,n,!!r)},Pb=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},Db=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},Fb=function(e,t){Db(e,t)||(e.className=""===e.className?t:e.className+" "+t)},Hb=function(e,t){e.className=Pb((" "+e.className+" ").replace(" "+t+" "," "))},Ub=function(e){return/Array/.test(Object.prototype.toString.call(e))},Bb=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},jb=function(e){let t=e.getDay();return 0===t||6===t},Yb=function(e){return e%4===0&&e%100!==0||e%400===0},Vb=function(e,t){return[31,Yb(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Wb=function(e){Bb(e)&&e.setHours(0,0,0,0)},zb=function(e,t){return e.getTime()===t.getTime()},Gb=function(e,t,n){let r,i;for(r in t)i=void 0!==e[r],i&&"object"===typeof t[r]&&null!==t[r]&&void 0===t[r].nodeName?Bb(t[r])?n&&(e[r]=new Date(t[r].getTime())):Ub(t[r])?n&&(e[r]=t[r].slice(0)):e[r]=Gb({},t[r],n):!n&&i||(e[r]=t[r]);return e},$b=function(e,t,n){let r=Lb().createEvent("HTMLEvents");r.initEvent(t,!0,!1),r=Gb(r,n),e.dispatchEvent(r)},qb=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},Kb={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},Xb=function(e,t,n){t+=e.firstDay;while(t>=7)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},Jb=function(e){let t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month"),e.enableSelectionDaysInNextAndPreviousMonths||t.push("is-selection-disabled")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.hasEvent&&t.push("has-event"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},Qb=function(e,t){e.setHours(0,0,0,0);let n=e.getDate(),r=e.getDay(),i=t,o=i-1,s=7,a=function(e){return(e+s-1)%s};e.setDate(n+o-a(r));let l=new Date(e.getFullYear(),0,i),u=864e5,c=(e.getTime()-l.getTime())/u,h=1+Math.round((c-o+a(l.getDay()))/s);return h},Zb=function(e,t,n,r,i){let o=new Date(r,n,t),s=e.hasMoment?e.moment(o).isoWeek():Qb(o,i);return'<td class="pika-week">'+s+"</td>"},ew=function(e,t,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(t?e.reverse():e).join("")+"</tr>"},tw=function(e){return"<tbody>"+e.join("")+"</tbody>"},nw=function(e){let t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+Xb(e,t)+'">'+Xb(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"},rw=function(e,t,n,r,i,o){let s,a,l,u,c,h=e._o,d=n===h.minYear,f=n===h.maxYear,p='<div id="'+o+'" class="pika-title" role="heading" aria-live="polite">',m=!0,g=!0;for(l=[],s=0;s<12;s++)l.push('<option value="'+(n===i?s-t:12+s-t)+'"'+(s===r?' selected="selected"':"")+(d&&s<h.minMonth||f&&s>h.maxMonth?' disabled="disabled"':"")+">"+h.i18n.months[s]+"</option>");for(u='<div class="pika-label">'+h.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",Ub(h.yearRange)?(s=h.yearRange[0],a=h.yearRange[1]+1):(s=n-h.yearRange,a=1+n+h.yearRange),l=[];s<a&&s<=h.maxYear;s++)s>=h.minYear&&l.push('<option value="'+s+'"'+(s===n?' selected="selected"':"")+">"+s+"</option>");return c='<div class="pika-label">'+n+h.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",h.showMonthAfterYear?p+=c+u:p+=u+c,d&&(0===r||h.minMonth>=r)&&(m=!1),f&&(11===r||h.maxMonth<=r)&&(g=!1),0===t&&(p+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+h.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+h.i18n.nextMonth+"</button>"),p+"</div>"},iw=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+nw(e)+tw(t)+"</table>"};function ow(e){let t=this,n=t.config(e);t._onMouseDown=function(e){if(!t._v)return;e=e||Nb().event;let r=e.target||e.srcElement;if(r)if(Db(r,"is-disabled")||(!Db(r,"pika-button")||Db(r,"is-empty")||Db(r.parentNode,"is-disabled")?Db(r,"pika-prev")?t.prevMonth():Db(r,"pika-next")&&t.nextMonth():(t.setDate(new Date(r.getAttribute("data-pika-year"),r.getAttribute("data-pika-month"),r.getAttribute("data-pika-day"))),n.bound&&kb((function(){t.hide(),n.blurFieldOnSelect&&n.field&&n.field.blur()}),100))),Db(r,"pika-select"))t._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}},t._onChange=function(e){e=e||Nb().event;let n=e.target||e.srcElement;n&&(Db(n,"pika-select-month")?t.gotoMonth(n.value):Db(n,"pika-select-year")&&t.gotoYear(n.value))},t._onKeyChange=function(e){if(e=e||Nb().event,t.isVisible())switch(e.keyCode){case 13:case 27:n.field&&n.field.blur();break;case 37:t.adjustDate("subtract",1);break;case 38:t.adjustDate("subtract",7);break;case 39:t.adjustDate("add",1);break;case 40:t.adjustDate("add",7);break;case 8:case 46:t.setDate(null);break}},t._parseFieldValue=function(){if(n.parse)return n.parse(n.field.value,n.format);if(this.hasMoment){let e=this.moment(n.field.value,n.format,n.formatStrict);return e&&e.isValid()?e.toDate():null}return new Date(Date.parse(n.field.value))},t._onInputChange=function(e){let n;e.firedBy!==t&&(n=t._parseFieldValue(),Bb(n)&&t.setDate(n),t._v||t.show())},t._onInputFocus=function(){t.show()},t._onInputClick=function(){t.show()},t._onInputBlur=function(){let e=Lb().activeElement;do{if(Db(e,"pika-single"))return}while(e=e.parentNode);t._c||(t._b=kb((function(){t.hide()}),50)),t._c=!1},t._onClick=function(e){e=e||Nb().event;let r=e.target||e.srcElement,i=r;if(r){!hasEventListeners&&Db(r,"pika-select")&&(r.onchange||(r.setAttribute("onchange","return;"),Ob(r,"change",t._onChange)));do{if(Db(i,"pika-single")||i===n.trigger)return}while(i=i.parentNode);t._v&&r!==n.trigger&&i!==n.trigger&&t.hide()}},t.el=Lb().createElement("div"),t.el.className="pika-single"+(n.isRTL?" is-rtl":"")+(n.theme?" "+n.theme:""),Ob(t.el,"mousedown",t._onMouseDown,!0),Ob(t.el,"touchend",t._onMouseDown,!0),Ob(t.el,"change",t._onChange),n.keyboardInput&&Ob(Lb(),"keydown",t._onKeyChange),n.field&&(n.container?n.container.appendChild(t.el):n.bound?Lb().body.appendChild(t.el):n.field.parentNode.insertBefore(t.el,n.field.nextSibling),Ob(n.field,"change",t._onInputChange),n.defaultDate||(n.defaultDate=t._parseFieldValue(),n.setDefaultDate=!0));let r=n.defaultDate;Bb(r)?n.setDefaultDate?t.setDate(r,!0):t.gotoDate(r):t.gotoDate(new Date),n.bound?(this.hide(),t.el.className+=" is-bound",Ob(n.trigger,"click",t._onInputClick),Ob(n.trigger,"focus",t._onInputFocus),Ob(n.trigger,"blur",t._onInputBlur)):this.show()}function sw(e,t,n){return(t=aw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aw(e){var t=lw(e,"string");return"symbol"==typeof t?t:t+""}function lw(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}ow.prototype={config:function(e){this._o||(this._o=Gb({},Kb,!0));let t=Gb(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"===typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"===typeof t.disableDayFn?t.disableDayFn:null;let n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,Bb(t.minDate)||(t.minDate=!1),Bb(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),Ub(t.yearRange)){let e=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||e,t.yearRange[1]=parseInt(t.yearRange[1],10)||e}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||Kb.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(e){return e=e||this._o.format,Bb(this._d)?this._o.toString?this._o.toString(this._d,e):this.hasMoment?this.moment(this._d).format(e):this._d.toDateString():""},getMoment:function(){return this.hasMoment?this.moment(this._d):null},setMoment:function(e,t){this.hasMoment&&this.moment.isMoment(e)&&this.setDate(e.toDate(),t)},useMoment:function(e){this.hasMoment=!0,this.moment=e},getDate:function(){return Bb(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",$b(this._o.field,"change",{firedBy:this})),this.draw();if("string"===typeof e&&(e=new Date(Date.parse(e))),!Bb(e))return;let n=this._o.minDate,r=this._o.maxDate;Bb(n)&&e<n?e=n:Bb(r)&&e>r&&(e=r),this._d=new Date(e.getTime()),Wb(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),$b(this._o.field,"change",{firedBy:this})),t||"function"!==typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())},clear:function(){this.setDate(null)},gotoDate:function(e){let t=!0;if(Bb(e)){if(this.calendars){let n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),t=i<n.getTime()||r.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(e,t){let n,r=this.getDate()||new Date,i=24*parseInt(t)*60*60*1e3;"add"===e?n=new Date(r.valueOf()+i):"subtract"===e&&(n=new Date(r.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=qb(this.calendars[0]);for(let e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=qb({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(Wb(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=Kb.minDate,this._o.minYear=Kb.minYear,this._o.minMonth=Kb.minMonth,this._o.startRange=Kb.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(Wb(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=Kb.maxDate,this._o.maxYear=Kb.maxYear,this._o.maxMonth=Kb.maxMonth,this._o.endRange=Kb.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(!this._v&&!e)return;let t,n=this._o,r=n.minYear,i=n.maxYear,o=n.minMonth,s=n.maxMonth,a="";this._y<=r&&(this._y=r,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(let l=0;l<n.numberOfMonths;l++)t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),a+='<div class="pika-lendar">'+rw(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year,t)+this.render(this.calendars[l].year,this.calendars[l].month,t)+"</div>";this.el.innerHTML=a,n.bound&&"hidden"!==n.field.type&&kb((function(){n.trigger.focus()}),1),"function"===typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)},adjustPosition:function(){let e,t,n,r,i,o,s,a,l,u,c;this._o.container||(this.el.style.position="absolute",e=this._o.trigger,t=this.el.offsetWidth,n=this.el.offsetHeight,r=Nb().innerWidth||Lb().documentElement.clientWidth,i=Nb().innerHeight||Lb().documentElement.clientHeight,o=Lb().body.scrollTop||Lb().documentElement.scrollTop,u=!0,c=!0,l=e.getBoundingClientRect(),s=l.left+Nb().pageXOffset,a=l.bottom+Nb().pageYOffset,(this._o.reposition&&s+t>r||this._o.position.indexOf("right")>-1&&s-t+e.offsetWidth>0)&&(s=s-t+e.offsetWidth,u=!1),(this._o.reposition&&a+n>i+o||this._o.position.indexOf("top")>-1&&a-n-e.offsetHeight>0)&&(a=a-n-e.offsetHeight,c=!1),s<0&&(s=0),a<0&&(a=0),this.el.style.left=s+"px",this.el.style.top=a+"px",Fb(this.el,u?"left-aligned":"right-aligned"),Fb(this.el,c?"bottom-aligned":"top-aligned"),Hb(this.el,u?"right-aligned":"left-aligned"),Hb(this.el,c?"top-aligned":"bottom-aligned"))},render:function(e,t,n){let r=this._o,i=new Date,o=Vb(e,t),s=new Date(e,t,1).getDay(),a=[],l=[];Wb(i),r.firstDay>0&&(s-=r.firstDay,s<0&&(s+=7));let u=0===t?11:t-1,c=11===t?0:t+1,h=0===t?e-1:e,d=11===t?e+1:e,f=Vb(h,u),p=o+s,m=p;while(m>7)m-=7;p+=7-m;let g=!1;for(let v=0,y=0;v<p;v++){let n=new Date(e,t,v-s+1),p=!!Bb(this._d)&&zb(n,this._d),m=zb(n,i),b=-1!==r.events.indexOf(n.toDateString()),w=v<s||v>=o+s,_=v-s+1,E=t,S=e,T=r.startRange&&zb(r.startRange,n),M=r.endRange&&zb(r.endRange,n),C=r.startRange&&r.endRange&&r.startRange<n&&n<r.endRange,R=r.minDate&&n<r.minDate||r.maxDate&&n>r.maxDate||r.disableWeekends&&jb(n)||r.disableDayFn&&r.disableDayFn(n);w&&(v<s?(_=f+_,E=u,S=h):(_-=o,E=c,S=d));let x={day:_,month:E,year:S,hasEvent:b,isSelected:p,isToday:m,isDisabled:R,isEmpty:w,isStartRange:T,isEndRange:M,isInRange:C,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&p&&(g=!0),l.push(Jb(x)),7===++y&&(r.showWeekNumber&&l.unshift(Zb(this,v-s,t,e,r.firstWeekOfYearMinDays)),a.push(ew(l,r.isRTL,r.pickWholeWeek,g)),l=[],y=0,g=!1)}return iw(r,a,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),Hb(this.el,"is-hidden"),this._o.bound&&(Ob(Lb(),"click",this._onClick),this.adjustPosition()),"function"===typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){let e=this._v;!1!==e&&(this._o.bound&&Ib(Lb(),"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),Fb(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"===typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){let e=this._o;this.hide(),Ib(this.el,"mousedown",this._onMouseDown,!0),Ib(this.el,"touchend",this._onMouseDown,!0),Ib(this.el,"change",this._onChange),e.keyboardInput&&Ib(Lb(),"keydown",this._onKeyChange),e.field&&(Ib(e.field,"change",this._onInputChange),e.bound&&(Ib(e.trigger,"click",this._onInputClick),Ib(e.trigger,"focus",this._onInputFocus),Ib(e.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}};const uw="date",cw="dateEditor";class hw extends sb{constructor(){super(...arguments),sw(this,"defaultDateFormat","DD/MM/YYYY"),sw(this,"parentDestroyed",!1),sw(this,"$datePicker",null)}static get EDITOR_TYPE(){return uw}init(){if("function"!==typeof b)throw new Error("You need to include moment.js to your project.");if("function"!==typeof ow)throw new Error("You need to include Pikaday to your project.");super.init(),this.hot.addHook("afterDestroy",(()=>{this.parentDestroyed=!0,this.destroyElements()}))}createElements(){super.createElements(),this.datePicker=this.hot.rootDocument.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,this.datePicker.setAttribute("dir",this.hot.isRtl()?"rtl":"ltr"),lt(this.datePicker,"htDatepickerHolder"),this.hot.rootDocument.body.appendChild(this.datePicker),this.eventManager.addEventListener(this.datePicker,"mousedown",(e=>{at(e.target,"pika-day")&&this.hideDatepicker(),e.stopPropagation()}))}destroyElements(){const e=this.datePicker.parentNode;this.$datePicker&&this.$datePicker.destroy(),e&&e.removeChild(this.datePicker)}prepare(e,t,n,r,i,o){super.prepare(e,t,n,r,i,o)}open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this.hot.getShortcutManager(),n=t.getContext("editor");this.showDatepicker(e),super.open(),n.addShortcuts([{keys:[["ArrowLeft"]],callback:()=>{this.$datePicker.adjustDate("subtract",1)}},{keys:[["ArrowRight"]],callback:()=>{this.$datePicker.adjustDate("add",1)}},{keys:[["ArrowUp"]],callback:()=>{this.$datePicker.adjustDate("subtract",7)}},{keys:[["ArrowDown"]],callback:()=>{this.$datePicker.adjustDate("add",7)}}],{group:cw})}close(){var e;this._opened=!1,null!==(e=this.$datePicker)&&void 0!==e&&e.destroy&&this.$datePicker.destroy(),this.hot._registerTimeout((()=>{const e=this.hot._getEditorManager();e.closeEditor(),this.hot.view.render(),e.prepareEditor()}));const t=this.hot.getShortcutManager(),n=t.getContext("editor");n.removeShortcutsByGroup(cw),super.close()}finishEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super.finishEditing(e,t)}showDatepicker(e){const t=this.cellProperties.dateFormat||this.defaultDateFormat,n=this.hot.view.isMouseDown(),r=!!e&&nr(e.keyCode);let i;this.datePicker.style.display="block",this.$datePicker=new ow(this.getDatePickerConfig()),"function"===typeof this.$datePicker.useMoment&&this.$datePicker.useMoment(b),this.$datePicker._onInputFocus=function(){},this.originalValue?(i=this.originalValue,b(i,t,!0).isValid()&&this.$datePicker.setMoment(b(i,t),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),r||n||this.setValue("")):this.cellProperties.defaultDate?(i=this.cellProperties.defaultDate,b(i,t,!0).isValid()&&this.$datePicker.setMoment(b(i,t),!0),r||n||this.setValue("")):this.$datePicker.gotoToday()}hideDatepicker(){this.datePickerStyle.display="none",this.$datePicker.hide()}getDatePickerConfig(){const e=this.TEXTAREA,t={};this.cellProperties&&this.cellProperties.datePickerConfig&&gn(t,this.cellProperties.datePickerConfig);const n=t.onSelect,r=t.onClose;return t.field=e,t.trigger=e,t.container=this.datePicker,t.bound=!1,t.keyboardInput=!1,t.format=t.format||this.defaultDateFormat,t.reposition=t.reposition||!1,t.isRTL=!1,t.onSelect=e=>{let t=e;isNaN(t.getTime())||(t=b(t).format(this.cellProperties.dateFormat||this.defaultDateFormat)),this.setValue(t),n&&n()},t.onClose=()=>{this.parentDestroyed||this.finishEditing(!1),r&&r()},t}refreshDimensions(e){var t;if(super.refreshDimensions(e),this.state!==Kv.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD)return void this.hideDatepicker();const{rowIndexMapper:n,columnIndexMapper:r}=this.hot,{wtOverlays:i}=this.hot.view._wt,{wtTable:o}=null!==(t=i.getParentOverlay(this.TD))&&void 0!==t?t:this.hot.view._wt,s=n.getVisualFromRenderableIndex(o.getFirstPartiallyVisibleRow()),a=n.getVisualFromRenderableIndex(o.getLastPartiallyVisibleRow()),l=r.getVisualFromRenderableIndex(o.getFirstPartiallyVisibleColumn()),u=r.getVisualFromRenderableIndex(o.getLastPartiallyVisibleColumn());if(this.row>=s&&this.row<=a&&this.col>=l&&this.col<=u){const e=this.TD.getBoundingClientRect();this.datePickerStyle.top=`${this.hot.rootWindow.pageYOffset+e.top+Lt(this.TD)}px`;let t=this.hot.rootWindow.pageXOffset;this.hot.isRtl()?t+=e.right-Nt(this.datePicker):t+=e.left,this.datePickerStyle.left=`${t}px`}else this.hideDatepicker()}}const dw="dropdown";class fw extends Rb{static get EDITOR_TYPE(){return dw}prepare(e,t,n,r,i,o){super.prepare(e,t,n,r,i,o),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}Mr.getSingleton().add("beforeValidate",(function(e,t,n){const r=this.propToCol(n);if(Number.isInteger(r)){const e=this.getCellMeta(t,r);e.editor===fw&&void 0===e.strict&&(e.filter=!1,e.strict=!0)}}));const pw="numeric";class mw extends sb{static get EDITOR_TYPE(){return pw}}const gw="password";class vw extends sb{static get EDITOR_TYPE(){return gw}createElements(){super.createElements(),this.TEXTAREA=this.hot.rootDocument.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.setAttribute("data-hot-input",""),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,ft(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}const yw="ht_editor_visible",bw="selectEditor",ww="select";class _w extends Xv{static get EDITOR_TYPE(){return ww}init(){this.select=this.hot.rootDocument.createElement("select"),this.select.setAttribute("data-hot-input","true"),this.select.style.display="none",lt(this.select,"htSelectEditor"),this.hot.rootElement.appendChild(this.select),this.registerHooks()}getValue(){return this.select.value}setValue(e){this.select.value=e}open(){this._opened=!0,this.refreshDimensions(),this.select.style.display="";const e=this.hot.getShortcutManager();e.setActiveContextName("editor"),this.registerShortcuts()}close(){this._opened=!1,this.select.style.display="none",at(this.select,yw)&&ut(this.select,yw),this.unregisterShortcuts(),this.clearHooks()}focus(){this.select.focus()}registerHooks(){this.addHook("afterScrollHorizontally",(()=>this.refreshDimensions())),this.addHook("afterScrollVertically",(()=>this.refreshDimensions())),this.addHook("afterColumnResize",(()=>this.refreshDimensions())),this.addHook("afterRowResize",(()=>this.refreshDimensions()))}prepare(e,t,n,r,i,o){super.prepare(e,t,n,r,i,o);const s=this.cellProperties.selectOptions;let a;a="function"===typeof s?this.prepareOptions(s(this.row,this.col,this.prop)):this.prepareOptions(s),ft(this.select),Sn(a,((e,t)=>{const n=this.hot.rootDocument.createElement("OPTION");n.value=t,mt(n,e),this.select.appendChild(n)}))}prepareOptions(e){let t={};if(Array.isArray(e))for(let n=0,r=e.length;n<r;n++)t[e[n]]=e[n];else"object"===typeof e&&(t=e);return t}refreshValue(){const e=this.hot.getSourceDataAtCell(this.row,this.prop);this.originalValue=e,this.setValue(e),this.refreshDimensions()}refreshDimensions(){if(this.state!==Kv.EDITING)return;if(this.TD=this.getEditedCell(),!this.TD)return void this.close();const{top:e,start:t,width:n,height:r}=this.getEditedCellRect(),i=this.select.style;i.height=`${r}px`,i.width=`${n}px`,i.top=`${e}px`,i[this.hot.isRtl()?"right":"left"]=`${t}px`,i.margin="0px",lt(this.select,yw)}registerShortcuts(){const e=this.hot.getShortcutManager(),t=e.getContext("editor"),n={group:bw};this.isInFullEditMode()&&t.addShortcuts([{keys:[["ArrowUp"]],callback:()=>{const e=this.select.selectedIndex-1;e>=0&&(this.select[e].selected=!0)}},{keys:[["ArrowDown"]],callback:()=>{const e=this.select.selectedIndex+1;e<=this.select.length-1&&(this.select[e].selected=!0)}}],n)}unregisterShortcuts(){const e=this.hot.getShortcutManager(),t=e.getContext("editor");t.removeShortcutsByGroup(bw)}}const Ew="time";class Sw extends sb{static get EDITOR_TYPE(){return Ew}prepare(e,t,n,r,i,o){super.prepare(e,t,n,r,i,o),this.TEXTAREA.dir="ltr"}}function Tw(){Fr(Xv),Fr(Rb),Fr(Ab),Fr(hw),Fr(fw),Fr(vb),Fr(mw),Fr(vw),Fr(_w),Fr(sb),Fr(Sw)}const Mw="html";function Cw(e,t,n,r,i,o,s){lb.apply(this,[e,t,n,r,i,o,s]),mt(t,null===o||void 0===o?"":o,!1)}Cw.RENDERER_TYPE=Mw;const Rw="autocomplete";function xw(e,t,n,r,i,o,s){const{rootDocument:a}=e,l=s.allowHtml?Cw:cb,u=a.createElement("DIV"),c=e.getSettings().ariaTags;if(u.className="htAutocompleteArrow",c&&u.setAttribute(...xe()),u.appendChild(a.createTextNode(String.fromCharCode(9660))),l.apply(this,[e,t,n,r,i,o,s]),t.firstChild||t.appendChild(a.createTextNode(String.fromCharCode(160))),t.insertBefore(u,t.firstChild),lt(t,"htAutocomplete"),!e.acArrowListener){const i=new Wr(e);e.acArrowListener=function(i){at(i.target,"htAutocompleteArrow")&&e.view._wt.getSetting("onCellDblClick",null,e._createCellCoords(n,r),t)},i.addEventListener(e.rootElement,"mousedown",e.acArrowListener),e.addHookOnce("afterDestroy",(()=>{i.destroy()}))}}xw.RENDERER_TYPE=Rw;const Aw="dropdown";function Nw(e,t,n,r,i,o,s){xw.apply(this,[e,t,n,r,i,o,s])}Nw.RENDERER_TYPE=Aw;const Lw=new WeakMap,kw=new WeakMap,Ow="htBadValue",Iw="data-row",Pw="data-col",Dw="checkboxRenderer",Fw="checkbox";function Hw(e,t,n,r,i,o,s){const{rootDocument:a}=e,l=e.getSettings().ariaTags;lb.apply(this,[e,t,n,r,i,o,s]),Uw(e);let u=Bw(a);const c=s.label;let h=!1;if("undefined"===typeof s.checkedTemplate&&(s.checkedTemplate=!0),"undefined"===typeof s.uncheckedTemplate&&(s.uncheckedTemplate=!1),ft(t),o===s.checkedTemplate||H(o).toLocaleLowerCase(s.locale)===H(s.checkedTemplate).toLocaleLowerCase(s.locale)?u.checked=!0:o===s.uncheckedTemplate||H(o).toLocaleLowerCase(s.locale)===H(s.uncheckedTemplate).toLocaleLowerCase(s.locale)?u.checked=!1:j(o)?lt(u,"noValue"):(u.style.display="none",lt(u,Ow),h=!0),ct(u,[[Iw,n],[Pw,r]]),l&&ct(u,[Re(u.checked?e.getTranslatedPhrase(lp):e.getTranslatedPhrase(up)),Be(u.checked),Se()]),!h&&c){let s="";if(c.value)s="function"===typeof c.value?c.value.call(this,n,r,i,o):c.value;else if(c.property){const t=e.getDataAtRowProp(n,c.property);s=null!==t?t:""}const l=jw(a,s,!0!==c.separated);"before"===c.position?c.separated?(t.appendChild(l),t.appendChild(u)):(l.appendChild(u),u=l):c.position&&"after"!==c.position||(c.separated?(t.appendChild(u),t.appendChild(l)):(l.insertBefore(u,l.firstChild),u=l))}function d(){const t=e.getShortcutManager(),n=t.getContext("grid"),r={group:Dw,relativeToGroup:bv,position:"before"};n.addShortcuts([{keys:[["space"]],callback:()=>(f(),!p()),runOnlyIf:()=>{var t;return null===(t=e.getSelectedRangeLast())||void 0===t?void 0:t.highlight.isCell()}},{keys:[["enter"]],callback:()=>(f(),!p()),runOnlyIf:()=>{const t=e.getSelectedRangeLast();return e.getSettings().enterBeginsEditing&&(null===t||void 0===t?void 0:t.isSingle())&&t.highlight.isCell()}},{keys:[["delete"],["backspace"]],callback:()=>(f(!0),!p()),runOnlyIf:()=>{var t;return null===(t=e.getSelectedRangeLast())||void 0===t?void 0:t.highlight.isCell()}}],r)}function f(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=e.getSelectedRange(),r=[],i=new Map;let o=[],s=0;if(n){for(let a=0;a<n.length;a++){const{row:l,col:u}=n[a].getTopStartCorner(),{row:c,col:h}=n[a].getBottomEndCorner();for(let n=l;n<=c;n+=1)for(let a=u;a<=h;a+=1){const l=e.getCellMeta(n,a),u={checkedTemplate:l.checkedTemplate,uncheckedTemplate:l.uncheckedTemplate};if("checkbox"!==l.type){!0!==t||l.readOnly||(i.has(r.length)?i.set(r.length,[...i.get(r.length),[n,a,null]]):i.set(r.length,[[n,a,null]]));continue}if(!0===l.readOnly)continue;"undefined"===typeof l.checkedTemplate&&(l.checkedTemplate=!0),"undefined"===typeof l.uncheckedTemplate&&(l.uncheckedTemplate=!1);const c=e.getDataAtCell(n,a);!1===t?[l.checkedTemplate,l.checkedTemplate.toString()].includes(c)?o.push([n,a,l.uncheckedTemplate,u]):[l.uncheckedTemplate,l.uncheckedTemplate.toString(),null,void 0].includes(c)&&o.push([n,a,l.checkedTemplate,u]):o.push([n,a,l.uncheckedTemplate,u]),s+=1}r.push(s),s=0}o=o.every((e=>{let[,,t]=e;return t===o[0][2]}))?o.map((e=>{let[t,n,r]=e;return[t,n,r]})):o.map((e=>{let[t,n,,r]=e;return[t,n,r.checkedTemplate]})),o.length>0&&r.forEach(((t,n)=>{let r=o.splice(0,t);i.size&&i.has(n)&&(r=[...r,...i.get(n)]),e.setDataAtCell(r)}))}}function p(){const t=e.getSelectedRange();if(t){for(let n=0;n<t.length;n++){const r=t[n].getTopStartCorner(),i=t[n].getBottomEndCorner();for(let t=r.row;t<=i.row;t++)for(let n=r.col;n<=i.col;n++){const r=e.getCellMeta(t,n),i=e.getCell(t,n);if(null===i||void 0===i)return!0;{const e=i.querySelectorAll("input[type=checkbox]");if(e.length>0&&!r.readOnly)return!0}}}return!1}}(!c||c&&!c.separated)&&t.appendChild(u),h&&t.appendChild(a.createTextNode("#bad-value#")),Lw.has(e)||(Lw.set(e,!0),d())}function Uw(e){let t=kw.get(e);if(!t){const{rootElement:n}=e;t=new Wr(e),t.addEventListener(n,"click",(t=>Vw(t,e))),t.addEventListener(n,"mouseup",(t=>Yw(t,e))),t.addEventListener(n,"change",(t=>Ww(t,e))),kw.set(e,t)}return t}function Bw(e){const t=e.createElement("input");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("tabindex","-1"),t.cloneNode(!1)}function jw(e,t,n){const r=e.createElement("label");return r.className="htCheckboxRendererLabel "+(n?"fullWidth":""),r.appendChild(e.createTextNode(t)),r.cloneNode(!0)}function Yw(e,t){const{target:n}=e;zw(n)&&n.hasAttribute(Iw)&&n.hasAttribute(Pw)&&setTimeout(t.listen,10)}function Vw(e,t){const{target:n}=e;if(!zw(n))return;if(!n.hasAttribute(Iw)||!n.hasAttribute(Pw))return;const r=parseInt(n.getAttribute(Iw),10),i=parseInt(n.getAttribute(Pw),10),o=t.getCellMeta(r,i);o.readOnly&&e.preventDefault()}function Ww(e,t){const{target:n}=e;if(!zw(n))return;if(!n.hasAttribute(Iw)||!n.hasAttribute(Pw))return;const r=parseInt(n.getAttribute(Iw),10),i=parseInt(n.getAttribute(Pw),10),o=t.getCellMeta(r,i);if(!o.readOnly){let n=null;n=e.target.checked?void 0===o.uncheckedTemplate||o.checkedTemplate:void 0!==o.uncheckedTemplate&&o.uncheckedTemplate,t.setDataAtCell(r,i,n)}}function zw(e){return"INPUT"===e.tagName&&"checkbox"===e.getAttribute("type")}Mr.getSingleton().add("modifyAutoColumnSizeSeed",(function(e,t,n){const{label:r,type:i,row:o,column:s,prop:a}=t;if(i===Fw){if(r){const{value:t,property:i}=r;let l=n;if(t)l="function"===typeof t?t(o,s,a,n):t;else if(i){const e=this.getDataAtRowProp(o,i);l=null!==e?e:n}e=l}return e}})),Hw.RENDERER_TYPE=Fw;const Gw="handsontable";function $w(e,t,n,r,i,o,s){xw.apply(this,[e,t,n,r,i,o,s])}$w.RENDERER_TYPE=Gw;var qw=n(92697);const Kw="numeric";function Xw(e,t){if(xi(e)){const n=t.numericFormat,r=n&&n.culture||"-",i=n&&n.pattern;if("undefined"!==typeof r&&!qw.languages()[r]){const e=r.replace("-",""),t=qw.allLanguages?qw.allLanguages[r]:qw[e];t&&qw.registerLanguage(t)}qw.setLanguage(r),e=qw(e).format(i||"0")}return e}function Jw(e,t,n,r,i,o,s){let a=o;if(xi(a)){const e=s.className||"",n=e.length?e.split(" "):[];a=Xw(a,s),n.indexOf("htLeft")<0&&n.indexOf("htCenter")<0&&n.indexOf("htRight")<0&&n.indexOf("htJustify")<0&&n.push("htRight"),n.indexOf("htNumeric")<0&&n.push("htNumeric"),s.className=n.join(" "),t.dir="ltr"}cb(e,t,n,r,i,a,s)}Jw.RENDERER_TYPE=Kw;const Qw="password";function Zw(e,t,n,r,i,o,s){cb.apply(this,[e,t,n,r,i,o,s]);const a=s.hashLength||t.innerHTML.length,l=s.hashSymbol||"*";let u="";Ni(a-1,(()=>{u+=l})),mt(t,u)}Zw.RENDERER_TYPE=Qw;const e_="select";function t_(e,t,n,r,i,o,s){cb.apply(this,[e,t,n,r,i,o,s])}t_.RENDERER_TYPE=e_;const n_="time";function r_(e,t,n,r,i,o,s){cb.apply(this,[e,t,n,r,i,o,s]),t.dir="ltr"}function i_(){lo(xw),lo(lb),lo(Hw),lo(Nw),lo($w),lo(Cw),lo(Jw),lo(Zw),lo(t_),lo(cb),lo(r_)}r_.RENDERER_TYPE=n_;const o_="autocomplete";function s_(e,t){let n=e;null!==n&&void 0!==n||(n=""),this.allowEmpty&&""===n?t(!0):this.strict&&this.source?"function"===typeof this.source?this.source(n,a_(n,t)):a_(n,t)(this.source):t(!0)}function a_(e,t){const n=e;return function(e){let r=!1;for(let t=0,i=e.length;t<i;t++)if(n===e[t]){r=!0;break}t(r)}}function l_(e){const t=new Date(e);return isNaN(new Date(`${e}T00:00`).getDate())?t:new Date(t.getTime()+6e4*t.getTimezoneOffset())}s_.VALIDATOR_TYPE=o_;const u_="date";function c_(e,t){const n=Pr(uw,this.instance);let r=e,i=!0;null!==r&&void 0!==r||(r="");let o=b(r,this.dateFormat||n.defaultDateFormat,!0).isValid(),s=b(new Date(r)).isValid()||o;if(this.allowEmpty&&""===r&&(s=!0,o=!0),s||(i=!1),!s&&o&&(i=!0),s&&!o)if(!0===this.correctFormat){const e=h_(r,this.dateFormat);this.instance.setDataAtCell(this.visualRow,this.visualCol,e,"dateValidator"),i=!0}else i=!1;t(i)}function h_(e,t){const n=b(l_(e)),r=b(e,t),i=e.search(/[A-z]/g)>-1;let o;return o=n.isValid()&&n.format("x")===r.format("x")||!r.isValid()||i?n:r,o.format(t)}c_.VALIDATOR_TYPE=u_;const d_="dropdown";function f_(e,t){s_.apply(this,[e,t])}f_.VALIDATOR_TYPE=d_;const p_="numeric";function m_(e,t){let n=e;null!==n&&void 0!==n||(n=""),this.allowEmpty&&""===n?t(!0):t(""!==n&&xi(e))}m_.VALIDATOR_TYPE=p_;const g_=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"],v_="time";function y_(e,t){const n=this.timeFormat||"h:mm:ss a";let r=!0,i=e;null===i&&(i=""),i=/^\d{3,}$/.test(i)?parseInt(i,10):i;const o=/^\d{1,2}$/.test(i);o&&(i+=":00");const s=b(i,g_,!0).isValid()?b(i):b(i,n);let a=s.isValid(),l=b(i,n,!0).isValid()&&!o;if(this.allowEmpty&&""===i&&(a=!0,l=!0),a||(r=!1),!a&&l&&(r=!0),a&&!l)if(!0===this.correctFormat){const e=s.format(n);this.instance.setDataAtCell(this.visualRow,this.visualCol,e,"timeValidator"),r=!0}else r=!1;t(r)}function b_(){go(s_),go(f_),go(c_),go(m_),go(y_)}y_.VALIDATOR_TYPE=v_;const w_="autocomplete",__={CELL_TYPE:w_,editor:Rb,renderer:xw,validator:s_},E_="checkbox",S_={CELL_TYPE:E_,editor:Ab,renderer:Hw},T_="date";function M_(e,t,n,r,i,o,s){xw.apply(this,[e,t,n,r,i,o,s])}M_.RENDERER_TYPE=T_;const C_="date",R_={CELL_TYPE:C_,editor:hw,renderer:M_,validator:c_},x_="dropdown",A_={CELL_TYPE:x_,editor:fw,renderer:Nw,validator:f_},N_="handsontable",L_={CELL_TYPE:N_,editor:vb,renderer:$w},k_="numeric",O_={CELL_TYPE:k_,editor:mw,renderer:Jw,validator:m_,dataType:"number"},I_="password",P_={CELL_TYPE:I_,editor:vw,renderer:Zw,copyable:!1},D_="select",F_={CELL_TYPE:D_,editor:_w,renderer:t_},H_="time",U_={CELL_TYPE:H_,editor:Sw,renderer:r_,validator:y_};function B_(){ug(__),ug(S_),ug(R_),ug(A_),ug(L_),ug(O_),ug(P_),ug(F_),ug(db),ug(U_)}function j_(e,t){V_(e,t),t.add(e)}function Y_(e,t,n){V_(e,t),t.set(e,n)}function V_(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function W_(e,t,n){return(t=z_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z_(e){var t=G_(e,"string");return"symbol"==typeof t?t:t+""}function G_(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $_(e,t){return e.get(q_(e,t))}function q_(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const K_=new Map([["plugin",Qi],["cell-type",og],["editor",Lr],["renderer",io],["validator",ho]]),X_="base",J_=[];let Q_=null;var Z_=new WeakMap,eE=new WeakSet;class tE{static get PLUGIN_KEY(){return X_}static get SETTING_KEYS(){return[this.PLUGIN_KEY]}constructor(e){j_(this,eE),W_(this,"eventManager",new Wr(this)),W_(this,"pluginName",null),W_(this,"pluginsInitializedCallbacks",[]),W_(this,"isPluginsReady",!1),W_(this,"enabled",!1),W_(this,"initialized",!1),Y_(this,Z_,{}),En(this,"hot",e,{writable:!1}),Q_=null,this.hot.addHook("afterPluginsInitialized",(()=>this.onAfterPluginsInitialized())),this.hot.addHook("afterUpdateSettings",(e=>this.onUpdateSettings(e))),this.hot.addHook("beforeInit",(()=>this.init()))}init(){this.pluginName=this.hot.getPluginName(this);const e=this.constructor.PLUGIN_DEPS,t=Array.isArray(e)?e:[];if(t.length>0){const e=[];if(t.forEach((t=>{const[n,r]=t.split(":");if(!K_.has(n))throw new Error(`Unknown plugin dependency type "${n}" was found.`);K_.get(n)(r)||e.push(` - ${r} (${n})`)})),e.length>0){const t=[`The ${this.pluginName} plugin requires the following modules:\n`,`${e.join("\n")}\n`].join("");J_.push(t)}}Q_||(Q_=Xi()),Q_.indexOf("UndoRedo")>=0&&Q_.splice(Q_.indexOf("UndoRedo"),1),Q_.indexOf(this.pluginName)>=0&&Q_.splice(Q_.indexOf(this.pluginName),1),this.hot.addHookOnce("afterPluginsInitialized",(()=>{this.isEnabled&&this.isEnabled()&&this.enablePlugin()}));const n=0===Q_.length;if(n){if(J_.length>0){const e=[`${J_.join("\n")}\n`,"You have to import and register them manually."].join("");throw new Error(e)}this.hot.runHooks("afterPluginsInitialized")}this.initialized=!0}enablePlugin(){this.enabled=!0}disablePlugin(){var e;null===(e=this.eventManager)||void 0===e||e.clear(),this.clearHooks(),this.enabled=!1}addHook(e,t,n){$_(Z_,this)[e]=$_(Z_,this)[e]||[];const r=$_(Z_,this)[e];this.hot.addHook(e,t,n),r.push(t),$_(Z_,this)[e]=r}removeHooks(e){C($_(Z_,this)[e]||[],(t=>{this.hot.removeHook(e,t)}))}clearHooks(){const e=$_(Z_,this);Sn(e,((e,t)=>this.removeHooks(t))),e.length=0}callOnPluginsReady(e){this.isPluginsReady?e():this.pluginsInitializedCallbacks.push(e)}onAfterPluginsInitialized(){C(this.pluginsInitializedCallbacks,(e=>e())),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}onUpdateSettings(e){const t=q_(eE,this,nE).call(this,e);this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&t&&this.updatePlugin(e))}updatePlugin(){}destroy(){var e;null===(e=this.eventManager)||void 0===e||e.destroy(),this.clearHooks(),Sn(this,((e,t)=>{"hot"!==t&&(this[t]=null)})),delete this.t,delete this.hot}}function nE(e){if(!e)return!1;const t=this.constructor.SETTING_KEYS;if("boolean"===typeof t)return t;for(let n=0;n<t.length;n++)if(void 0!==e[t[n]])return!0;return!1}function rE(e,t,n){return(t=iE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iE(e){var t=oE(e,"string");return"symbol"==typeof t?t:t+""}function oE(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class sE{constructor(e){rE(this,"hot",null),rE(this,"container",null),rE(this,"injected",!1),rE(this,"rows",[]),rE(this,"columns",[]),rE(this,"samples",null),rE(this,"settings",{useHeaders:!0}),this.hot=e}addRow(e,t){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={row:e};this.rows.push(n),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol(e)),this.table.tr.appendChild(this.createRow(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}addColumnHeadersRow(e){const t=this.hot.getColHeader(0);if(null!==t&&void 0!==t){const t={row:-1};this.rows.push(t),this.container=this.createContainer(this.hot.rootElement.className),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.appendColumnHeadersRow(),this.container.container.appendChild(this.table.fragment),t.table=this.table.table}}addColumn(e,t){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));const n={col:e};this.columns.push(n),this.samples=t,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(e)&&this.hot.view.appendColHeader(e,this.table.th),this.table.tBody.appendChild(this.createCol(e)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}getHeights(e){this.injected||this.injectTable(),C(this.rows,(t=>{const{height:n}=t.table.getBoundingClientRect();e(t.row,Math.ceil(n)-1)}))}getWidths(e){this.injected||this.injectTable(),C(this.columns,(t=>{const{width:n}=t.table.getBoundingClientRect();e(t.col,Math.ceil(n))}))}setSettings(e){this.settings=e}setSetting(e,t){this.settings||(this.settings={}),this.settings[e]=t}getSettings(){return this.settings}getSetting(e){return this.settings?this.settings[e]:null}createColGroupsCol(e){const t=this.hot.rootDocument.createDocumentFragment();return this.hot.hasRowHeaders()&&t.appendChild(this.createColElement(-1,-1)),this.samples.forEach((n=>{C(n.strings,(n=>{t.appendChild(this.createColElement(n.col,e))}))})),t}createRow(e){const{rootDocument:t}=this.hot,n=t.createDocumentFragment(),r=t.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(e,r),n.appendChild(r)),this.samples.forEach((r=>{C(r.strings,(r=>{const i=r.col,o=this.hot.getCellMeta(e,i),s=this.hot.getCellRenderer(o),a=t.createElement("td");a.setAttribute("ghost-table",1),s(this.hot,a,e,i,this.hot.colToProp(i),r.value,o),n.appendChild(a)}))})),n}appendColumnHeadersRow(){const{rootDocument:e}=this.hot,t=e.createDocumentFragment(),n=[];if(this.hot.hasRowHeaders()){const r=e.createElement("th");n.push([-1,r]),t.appendChild(r)}this.samples.forEach((r=>{C(r.strings,(r=>{const i=r.col,o=e.createElement("th");n.push([i,o]),t.appendChild(o)}))})),this.table.tHead.appendChild(t),C(n,(e=>{const[t,n]=e;this.hot.view.appendColHeader(t,n)}))}createCol(e){const{rootDocument:t}=this.hot,n=t.createDocumentFragment();return this.samples.forEach((r=>{C(r.strings,(r=>{const i=r.row,o=this.hot.getCellMeta(i,e),s=this.hot.getCellRenderer(o),a=t.createElement("td"),l=t.createElement("tr");a.setAttribute("ghost-table",1),s(this.hot,a,i,e,this.hot.colToProp(e),r.value,o),l.appendChild(a),n.appendChild(l)}))})),n}clean(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}injectTable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((e||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}removeTable(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}createColElement(e,t){const n=this.hot.rootDocument.createElement("col");let r=0;t>=0&&e>=0&&(r=this.hot.getCellMeta(t,e).colspan);let i=this.hot.getColWidth(e);if(r>1)for(let o=e+1;o<e+r;o++)i+=this.hot.getColWidth(o);return n.style.width=`${i}px`,n}createTable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{rootDocument:t}=this.hot,n=t.createDocumentFragment(),r=t.createElement("table"),i=t.createElement("thead"),o=t.createElement("tbody"),s=t.createElement("colgroup"),a=t.createElement("tr"),l=t.createElement("th");return this.isVertical()&&r.appendChild(s),this.isHorizontal()&&(a.appendChild(l),i.appendChild(a),r.style.tableLayout="auto",r.style.width="auto"),r.appendChild(i),this.isVertical()&&o.appendChild(a),r.appendChild(o),lt(r,e),n.appendChild(r),{fragment:n,table:r,tHead:i,tBody:o,colGroup:s,tr:a,th:l}}createContainer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{rootDocument:t}=this.hot,n=t.createDocumentFragment(),r=t.createElement("div"),i=`htGhostTable htAutoSize ${e.trim()}`;return lt(r,i),n.appendChild(r),{fragment:n,container:r}}isVertical(){return!(!this.rows.length||this.columns.length)}isHorizontal(){return!(!this.columns.length||this.rows.length)}}var aE=sE;function lE(e,t,n){return(t=uE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uE(e){var t=cE(e,"string");return"symbol"==typeof t?t:t+""}function cE(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class hE{static get SAMPLE_COUNT(){return 3}constructor(e){lE(this,"samples",null),lE(this,"dataFactory",null),lE(this,"customSampleCount",null),lE(this,"allowDuplicates",!1),this.dataFactory=e}getSampleCount(){return this.customSampleCount?this.customSampleCount:hE.SAMPLE_COUNT}setSampleCount(e){this.customSampleCount=e}setAllowDuplicates(e){this.allowDuplicates=e}generateRowSamples(e,t){return this.generateSamples("row",t,e)}generateColumnSamples(e,t){return this.generateSamples("col",t,e)}generateSamples(e,t,n){const r=new Map,{from:i,to:o}="number"===typeof n?{from:n,to:n}:n;return Ni(i,o,(n=>{const i=this.generateSample(e,t,n);r.set(n,i)})),r}generateSample(e,t,n){if("row"!==e&&"col"!==e)throw new Error("Unsupported sample type");const r=new Map,i="row"===e?"col":"row",o=[];return Ni(t.from,t.to,(t=>{const s="row"===e?this.dataFactory(n,t):this.dataFactory(t,n);if(!1===s)return;const{value:a,bundleSeed:l}=s,u="string"===typeof l&&l.length>0;let c;c=u?l:_n(a)?`${Object.keys(a).length}`:Array.isArray(a)?`${a.length}`:`${H(a).length}`,r.has(c)||r.set(c,{needed:this.getSampleCount(),strings:[]});const h=r.get(c);if(h.needed){const e=o.indexOf(a)>-1;(!e||this.allowDuplicates||u)&&(h.strings.push({value:a,[i]:t}),o.push(a),h.needed-=1)}})),r}}var dE=hE;function fE(e,t){mE(e,t),t.add(e)}function pE(e,t,n){mE(e,t),t.set(e,n)}function mE(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gE(e,t,n){return(t=vE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vE(e){var t=yE(e,"string");return"symbol"==typeof t?t:t+""}function yE(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function bE(e,t){return e.get(_E(e,t))}function wE(e,t,n){return e.set(_E(e,t),n),n}function _E(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("modifyAutoColumnSizeSeed");const EE="autoColumnSize",SE=10,TE="autoColumnSize";var ME=new WeakMap,CE=new WeakMap,RE=new WeakSet;class xE extends tE{static get PLUGIN_KEY(){return EE}static get PLUGIN_PRIORITY(){return SE}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 50}constructor(e){super(e),fE(this,RE),gE(this,"ghostTable",new aE(this.hot)),gE(this,"samplesGenerator",new dE(((e,t)=>{const n=this.hot.toPhysicalRow(e),r=this.hot.toPhysicalColumn(t);if(this.hot.rowIndexMapper.isHidden(n)||this.hot.columnIndexMapper.isHidden(r))return!1;const i=this.hot.getCellMeta(e,t);let o="";i.spanned||(o=this.hot.getDataAtCell(e,t));let s="";return this.hot.hasHook("modifyAutoColumnSizeSeed")&&(s=this.hot.runHooks("modifyAutoColumnSizeSeed",s,i,o)),{value:o,bundleSeed:s}}))),gE(this,"inProgress",!1),gE(this,"measuredColumns",0),gE(this,"columnWidthsMap",new Fh),pE(this,ME,[]),pE(this,CE,[]),this.hot.columnIndexMapper.registerMap(TE,this.columnWidthsMap),this.addHook("beforeColumnResize",((e,t,n)=>_E(RE,this,OE).call(this,e,t,n)))}isEnabled(){return!1!==this.hot.getSettings()[EE]&&!this.hot.getSettings().colWidths}enablePlugin(){var e=this;if(this.enabled)return;const t=this.hot.getSettings()[EE];t&&null!==t.useHeaders&&void 0!==t.useHeaders&&this.ghostTable.setSetting("useHeaders",t.useHeaders),this.setSamplingOptions(),this.addHook("afterLoadData",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _E(RE,e,LE).call(e,...n)})),this.addHook("beforeChangeRender",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _E(RE,e,kE).call(e,...n)})),this.addHook("afterFormulasValuesUpdate",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _E(RE,e,PE).call(e,...n)})),this.addHook("beforeRender",(()=>_E(RE,this,NE).call(this))),this.addHook("modifyColWidth",((e,t)=>this.getColumnWidth(t,e))),this.addHook("init",(()=>_E(RE,this,IE).call(this))),super.enablePlugin()}updatePlugin(){wE(CE,this,this.findColumnsWhereHeaderWasChanged()),super.updatePlugin()}disablePlugin(){super.disablePlugin(),this.addHook("beforeColumnResize",((e,t,n)=>_E(RE,this,OE).call(this,e,t,n)))}calculateVisibleColumnsWidth(){if(!this.hot.countRows())return;const e=this.getFirstVisibleColumn(),t=this.getLastVisibleColumn();if(-1===e||-1===t)return;const n=this.hot.renderCall;this.calculateColumnsWidth({from:e,to:t},void 0,n)}calculateColumnsWidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="number"===typeof e?{from:e,to:e}:e,i="number"===typeof t?{from:t,to:t}:t;Ni(r.from,r.to,(e=>{let t=this.hot.toPhysicalColumn(e);if(null===t&&(t=e),n||null===this.columnWidthsMap.getValueAtIndex(t)&&!this.hot._getColWidthFromSettings(t)){const t=this.samplesGenerator.generateColumnSamples(e,i);t.forEach(((e,t)=>this.ghostTable.addColumn(t,e)))}})),this.ghostTable.columns.length&&(this.hot.batchExecution((()=>{this.ghostTable.getWidths(((e,t)=>{const n=this.hot.toPhysicalColumn(e);this.columnWidthsMap.setValueAtIndex(n,t)}))}),!0),this.measuredColumns=r.to+1,this.ghostTable.clean())}calculateAllColumnsWidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;const r=this.hot.countCols()-1;let i=null;this.inProgress=!0;const o=()=>{if(!this.hot)return Nn(i),void(this.inProgress=!1);this.calculateColumnsWidth({from:n,to:Math.min(n+xE.CALCULATION_STEP,r)},e,t),n=n+xE.CALCULATION_STEP+1,n<r?i=An(o):(Nn(i),this.inProgress=!1,this.hot.view.adjustElementsSize())},s=this.getSyncCalculationLimit();s>=0&&(this.calculateColumnsWidth({from:0,to:s},e,t),n=s+1),n<r?o():this.inProgress=!1}setSamplingOptions(){const e=this.hot.getSettings()[EE],t=e&&xn(e,"samplingRatio")?e.samplingRatio:void 0,n=e&&xn(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;t&&!isNaN(t)&&this.samplesGenerator.setSampleCount(parseInt(t,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}recalculateAllColumnsWidth(){this.hot.view.isVisible()&&this.calculateAllColumnsWidth({from:0,to:this.hot.countRows()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[EE];let t=xE.SYNC_CALCULATION_LIMIT;const n=this.hot.countCols()-1;return _n(e)&&(t=e.syncLimit,oe(t)?t=ki(n,t):t>>=0),Math.min(t,n)}getColumnWidth(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t;return void 0===r&&(r=this.columnWidthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e)),n&&"number"===typeof r&&(r=Math.max(r,Vs))),r}getFirstVisibleColumn(){var e;return null!==(e=this.hot.view.getFirstRenderedVisibleColumn())&&void 0!==e?e:-1}getLastVisibleColumn(){var e;return null!==(e=this.hot.view.getLastRenderedVisibleColumn())&&void 0!==e?e:-1}findColumnsWhereHeaderWasChanged(){const e=this.hot.getColHeader(),t=e.reduce(((e,t,n)=>{const r=bE(ME,this).length;return(r-1<n||bE(ME,this)[n]!==t)&&e.push(this.hot.toVisualColumn(n)),r-1<n?bE(ME,this).push(t):bE(ME,this)[n]=t,e}),[]);return t}clearCache(e){Array.isArray(e)?this.hot.batchExecution((()=>{e.forEach((e=>{this.columnWidthsMap.setValueAtIndex(e,null)}))}),!0):this.columnWidthsMap.clear()}isNeedRecalculate(){return!!this.columnWidthsMap.getValues().slice(0,this.measuredColumns).filter((e=>null===e)).length}destroy(){this.ghostTable.clean(),super.destroy()}}function AE(e){const t={from:0,to:this.hot.countRows()-1};e.forEach((e=>{const n=this.hot.toPhysicalColumn(e);if(null!==n&&!this.hot._getColWidthFromSettings(n)){const n=this.samplesGenerator.generateColumnSamples(e,t);n.forEach(((e,t)=>this.ghostTable.addColumn(t,e)))}})),this.ghostTable.columns.length&&(this.hot.batchExecution((()=>{this.ghostTable.getWidths(((e,t)=>{const n=this.hot.toPhysicalColumn(e);this.columnWidthsMap.setValueAtIndex(n,t)}))}),!0),this.ghostTable.clean())}function NE(){this.calculateVisibleColumnsWidth(),this.inProgress||(_E(RE,this,AE).call(this,bE(CE,this)),wE(CE,this,[]))}function LE(e,t){t||this.recalculateAllColumnsWidth()}function kE(e){const t=e.reduce(((e,t)=>{let[,n]=t;const r=this.hot.propToCol(n);return Number.isInteger(r)&&-1===e.indexOf(r)&&e.push(r),e}),[]);bE(CE,this).push(...t)}function OE(e,t,n){let r=e;return n&&(this.calculateColumnsWidth(t,void 0,!0),r=this.getColumnWidth(t,void 0,!1)),r}function IE(){wE(ME,this,this.hot.getColHeader()),this.recalculateAllColumnsWidth()}function PE(e){const t=e.reduce(((e,t)=>{var n;const r=null===(n=t.address)||void 0===n?void 0:n.col;if(Number.isInteger(r)){const t=this.hot.toVisualColumn(r);-1===e.indexOf(t)&&e.push(t)}return e}),[]);bE(CE,this).push(...t)}const DE={horizontal:"horizontal",vertical:"vertical"};function FE(e,t,n){let r,i,o;return t[0]===e[0]&&t[1]<e[1]?(o="left",r=n(t[0],t[1]),i=n(t[2],e[1]-1)):t[2]===e[2]&&t[0]===e[0]&&t[3]>e[3]?(o="right",r=n(t[0],e[3]+1),i=n(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(o="up",r=n(t[0],t[1]),i=n(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(o="down",r=n(e[2]+1,t[1]),i=n(t[2],t[3])),r&&r.normalize(),i&&i.normalize(),{directionOfDrag:o,startOfDragCoords:r,endOfDragCoords:i}}function HE(e){const t={};return!0===e?(t.directions=Object.keys(DE),t.autoInsertRow=!0):_n(e)?(U(e.autoInsertRow)?e.direction===DE.horizontal?t.autoInsertRow=!1:t.autoInsertRow=e.autoInsertRow:t.autoInsertRow=!1,U(e.direction)?t.directions=[e.direction]:t.directions=Object.keys(DE)):"string"===typeof e?(t.directions=[e],t.autoInsertRow=!0):(t.directions=[],t.autoInsertRow=!1),t}function UE(e,t){BE(e,t),t.add(e)}function BE(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jE(e,t,n){return(t=YE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YE(e){var t=VE(e,"string");return"symbol"==typeof t?t:t+""}function VE(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function WE(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("modifyAutofillRange"),Mr.getSingleton().register("beforeAutofill"),Mr.getSingleton().register("afterAutofill");const zE="autofill",GE=20,$E=["fillHandle"],qE="insert_row_below",KE=200;var XE=new WeakSet;class JE extends tE{constructor(){super(...arguments),UE(this,XE),jE(this,"addingStarted",!1),jE(this,"mouseDownOnCellCorner",!1),jE(this,"mouseDragOutside",!1),jE(this,"handleDraggedCells",0),jE(this,"directions",[]),jE(this,"autoInsertRow",!1)}static get PLUGIN_KEY(){return zE}static get PLUGIN_PRIORITY(){return GE}static get SETTING_KEYS(){return[zE,...$E]}isEnabled(){return this.hot.getSettings().fillHandle}enablePlugin(){this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",(e=>WE(XE,this,ZE).call(this,e))),this.addHook("afterOnCellCornerDblClick",(e=>WE(XE,this,QE).call(this,e))),this.addHook("beforeOnCellMouseOver",((e,t)=>WE(XE,this,eS).call(this,t))),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.clearMappedSettings(),super.disablePlugin()}getSelectionData(){const e=this.hot.getSelectedRangeLast(),{row:t,col:n}=e.getTopStartCorner(),{row:r,col:i}=e.getBottomEndCorner(),o=this.hot.runHooks("modifyCopyableRange",[{startRow:t,startCol:n,endRow:r,endCol:i}]),s=[],a=[],l=[];return C(o,(e=>{for(let t=e.startRow;t<=e.endRow;t+=1)-1===s.indexOf(t)&&s.push(t);for(let t=e.startCol;t<=e.endCol;t+=1)-1===a.indexOf(t)&&a.push(t)})),C(s,(e=>{const t=[];C(a,(n=>{t.push(this.hot.getCopyableData(e,n))})),l.push(t)})),l}fillIn(){if(this.hot.selection.highlight.getFill().isEmpty())return!1;const[e,t,n,r]=this.hot.selection.highlight.getFill().getVisualCorners(),i=this.hot.getSelectedRangeLast(),o=i.getTopStartCorner(),s=i.getBottomEndCorner();this.resetSelectionOfDraggedArea();const a=[o.row,o.col,s.row,s.col],l=this.hot.runHooks("modifyAutofillRange",[Math.min(o.row,e),Math.min(o.col,t),Math.max(s.row,n),Math.max(s.col,r)],a),{directionOfDrag:u,startOfDragCoords:c,endOfDragCoords:h}=FE(a,l,((e,t)=>this.hot._createCellCoords(e,t)));if(c&&c.row>-1&&c.col>-1){const e=this.getSelectionData(),t=i.clone(),n=this.hot._createCellRange(c,c,h),r=this.hot.runHooks("beforeAutofill",e,t,n,u);if(!1===r)return this.hot.selection.highlight.getFill().clear(),this.hot.render(),!1;let o=r;const s=r;if(["up","left"].indexOf(u)>-1&&(1!==s.length||0!==s[0].length))if(o=[],"up"===u){const e=h.row-c.row+1,t=e%s.length;for(let n=0;n<e;n++)o.push(s[(n+(s.length-t))%s.length])}else{const e=h.col-c.col+1,t=e%s[0].length;for(let n=0;n<s.length;n++){o.push([]);for(let r=0;r<e;r++)o[n].push(s[n][(r+(s[n].length-t))%s[n].length])}}this.hot.populateFromArray(c.row,c.col,o,h.row,h.col,`${this.pluginName}.fill`,null),this.setSelection(l),this.hot.runHooks("afterAutofill",o,t,n,u),this.hot.render()}else this.hot.view.render();return!0}reduceSelectionAreaIfNeeded(e){return e.row<0&&(e.row=0),e.col<0&&(e.col=0),e}getCoordsOfDragAndDropBorders(e){const t=this.hot.getSelectedRangeLast(),n=t.getBottomEndCorner();let r=e;if(this.directions.includes(DE.vertical)&&this.directions.includes(DE.horizontal)){const i=t.getTopStartCorner();(n.col<=e.col||i.col>=e.col)&&(r=this.hot._createCellCoords(n.row,e.col)),(n.row<e.row||i.row>e.row)&&(r=this.hot._createCellCoords(e.row,n.col))}else if(this.directions.includes(DE.vertical))r=this.hot._createCellCoords(e.row,n.col);else{if(!this.directions.includes(DE.horizontal))return;r=this.hot._createCellCoords(n.row,e.col)}return this.reduceSelectionAreaIfNeeded(r)}showBorder(e){const t=this.getCoordsOfDragAndDropBorders(e);t&&this.redrawBorders(t)}addRow(){this.hot._registerTimeout((()=>{this.hot.alter(qE,void 0,1,`${this.pluginName}.fill`),this.addingStarted=!1}),KE)}addNewRowIfNeeded(){if(!this.hot.selection.highlight.getFill().isEmpty()&&!1===this.addingStarted&&this.autoInsertRow){const e=this.hot.getSelectedLast(),t=this.hot.selection.highlight.getFill().getVisualCorners(),n=this.hot.countRows();e[2]<n-1&&t[2]===n-1&&(this.addingStarted=!0,this.addRow())}}getIndexOfLastAdjacentFilledInRow(e){const t=this.hot.getData(),n=this.hot.countRows();let r;for(let i=e[2]+1;i<n;i++){for(let r=e[1];r<=e[3];r++){const e=t[i][r];if(!j(e))return-1}const n=t[i][e[1]-1],o=t[i][e[3]+1];j(n)&&j(o)||(r=i)}return r}addSelectionFromStartAreaToSpecificRowIndex(e,t){this.hot.selection.highlight.getFill().clear().add(this.hot._createCellCoords(e[0],e[1])).add(this.hot._createCellCoords(t,e[3])).commit()}setSelection(e){this.hot.selectCell(...M(e,(e=>Math.max(e,0))),!1,!1)}selectAdjacent(){const e=this.hot.getSelectedLast(),t=this.getIndexOfLastAdjacentFilledInRow(e);return-1!==t&&void 0!==t&&(this.addSelectionFromStartAreaToSpecificRowIndex(e,t),!0)}resetSelectionOfDraggedArea(){this.handleDraggedCells=0,this.hot.selection.highlight.getFill().clear()}redrawBorders(e){this.hot.selection.highlight.getFill().clear().add(this.hot.getSelectedRangeLast().from).add(this.hot.getSelectedRangeLast().to).add(e).commit(),this.hot.view.render()}getIfMouseWasDraggedOutside(e){const{documentElement:t}=this.hot.rootDocument,n=yt(this.hot.table).top-(this.hot.rootWindow.pageYOffset||t.scrollTop)+Lt(this.hot.table),r=yt(this.hot.table).left-(this.hot.rootWindow.pageXOffset||t.scrollLeft)+Nt(this.hot.table);return e.clientY>n&&e.clientX<=r}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mouseup",(()=>WE(XE,this,tS).call(this))),this.eventManager.addEventListener(e,"mousemove",(e=>WE(XE,this,nS).call(this,e)))}clearMappedSettings(){this.directions.length=0,this.autoInsertRow=!1}mapSettings(){const e=HE(this.hot.getSettings().fillHandle);this.directions=e.directions,this.autoInsertRow=e.autoInsertRow}destroy(){super.destroy()}}function QE(){const e=this.selectAdjacent();e&&this.fillIn()}function ZE(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}function eS(e){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells+=1,this.showBorder(e),this.addNewRowIfNeeded())}function tS(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}function nS(e){const t=this.getIfMouseWasDraggedOutside(e);!1===this.addingStarted&&this.handleDraggedCells>0&&t?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}function rS(e,t){oS(e,t),t.add(e)}function iS(e,t,n){oS(e,t),t.set(e,n)}function oS(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sS(e,t,n){return(t=aS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aS(e){var t=lS(e,"string");return"symbol"==typeof t?t:t+""}function lS(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function uS(e,t,n){return e.set(hS(e,t),n),n}function cS(e,t){return e.get(hS(e,t))}function hS(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const dS="autoRowSize",fS=40,pS="autoRowSize";var mS=new WeakMap,gS=new WeakSet;class vS extends tE{static get PLUGIN_KEY(){return dS}static get PLUGIN_PRIORITY(){return fS}static get SETTING_KEYS(){return!0}static get CALCULATION_STEP(){return 50}static get SYNC_CALCULATION_LIMIT(){return 500}constructor(e){super(e),rS(this,gS),sS(this,"headerHeight",null),sS(this,"ghostTable",new aE(this.hot)),sS(this,"samplesGenerator",new dE(((e,t)=>{const n=this.hot.toPhysicalRow(e),r=this.hot.toPhysicalColumn(t);if(this.hot.rowIndexMapper.isHidden(n)||this.hot.columnIndexMapper.isHidden(r))return!1;if(e>=0&&t>=0){const n=this.hot.getCellMeta(e,t);if(n.hidden)return!1}let i;return e>=0?i=this.hot.getDataAtCell(e,t):-1===e&&(i=this.hot.getColHeader(t)),{value:i}}))),sS(this,"inProgress",!1),sS(this,"measuredRows",0),sS(this,"rowHeightsMap",new Fh),iS(this,mS,[]),this.hot.rowIndexMapper.registerMap(pS,this.rowHeightsMap),this.addHook("beforeRowResize",((e,t,n)=>hS(gS,this,wS).call(this,e,t,n)))}isEnabled(){const e=this.hot.getSettings()[dS];return!0===e||_n(e)}enablePlugin(){var e=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hS(gS,e,_S).call(e,...n)})),this.addHook("beforeChangeRender",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hS(gS,e,ES).call(e,...n)})),this.addHook("beforeColumnResize",(()=>this.recalculateAllRowsHeight())),this.addHook("afterFormulasValuesUpdate",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hS(gS,e,TS).call(e,...n)})),this.addHook("beforeRender",(()=>hS(gS,this,bS).call(this))),this.addHook("modifyRowHeight",((e,t)=>this.getRowHeight(t,e))),this.addHook("init",(()=>hS(gS,this,SS).call(this))),this.addHook("modifyColumnHeaderHeight",(()=>this.getColumnHeaderHeight())),super.enablePlugin())}disablePlugin(){this.headerHeight=null,super.disablePlugin(),this.addHook("beforeRowResize",((e,t,n)=>hS(gS,this,wS).call(this,e,t,n)))}calculateVisibleRowsHeight(){if(!this.hot.countCols())return;const e=this.getFirstVisibleRow(),t=this.getLastVisibleRow();if(-1===e||-1===t)return;const n=this.hot.renderCall;this.calculateRowsHeight({from:e,to:t},void 0,n)}calculateRowsHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="number"===typeof e?{from:e,to:e}:e,i="number"===typeof t?{from:t,to:t}:t;if(null!==this.hot.getColHeader(0)){const e=this.samplesGenerator.generateRowSamples(-1,i);this.ghostTable.addColumnHeadersRow(e.get(-1))}Ni(r.from,r.to,(e=>{let t=this.hot.toPhysicalRow(e);if(null===t&&(t=e),n||null===this.rowHeightsMap.getValueAtIndex(t)){const t=this.samplesGenerator.generateRowSamples(e,i);t.forEach(((e,t)=>this.ghostTable.addRow(t,e)))}})),this.ghostTable.rows.length&&(this.hot.batchExecution((()=>{this.ghostTable.getHeights(((e,t)=>{e<0?this.headerHeight=t:this.rowHeightsMap.setValueAtIndex(this.hot.toPhysicalRow(e),t)}))}),!0),this.measuredRows=r.to+1,this.ghostTable.clean())}calculateAllRowsHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0;const r=this.hot.countRows()-1;let i=null;this.inProgress=!0;const o=()=>{if(!this.hot)return Nn(i),void(this.inProgress=!1);this.calculateRowsHeight({from:n,to:Math.min(n+vS.CALCULATION_STEP,r)},e,t),n=n+vS.CALCULATION_STEP+1,n<r?i=An(o):(Nn(i),this.inProgress=!1,this.hot.view.adjustElementsSize(),this.hot.view._wt.wtOverlays.inlineStartOverlay.needFullRender&&this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.draw())},s=this.getSyncCalculationLimit();s>=0&&(this.calculateRowsHeight({from:0,to:s},e,t),n=s+1),n<r?o():(this.inProgress=!1,this.hot.view.adjustElementsSize())}setSamplingOptions(){const e=this.hot.getSettings()[dS],t=e&&xn(e,"samplingRatio")?e.samplingRatio:void 0,n=e&&xn(e,"allowSampleDuplicates")?e.allowSampleDuplicates:void 0;t&&!isNaN(t)&&this.samplesGenerator.setSampleCount(parseInt(t,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}recalculateAllRowsHeight(){this.hot.view.isVisible()&&this.calculateAllRowsHeight({from:0,to:this.hot.countCols()-1},!0)}getSyncCalculationLimit(){const e=this.hot.getSettings()[dS];let t=vS.SYNC_CALCULATION_LIMIT;const n=this.hot.countRows()-1;return _n(e)&&(t=e.syncLimit,oe(t)?t=ki(n,t):t>>=0),Math.min(t,n)}getRowHeight(e,t){const n=e<0?this.headerHeight:this.rowHeightsMap.getValueAtIndex(this.hot.toPhysicalRow(e));let r=t;return null!==n&&n>(t||0)&&(r=n),r}getColumnHeaderHeight(){return this.headerHeight}getFirstVisibleRow(){var e;return null!==(e=this.hot.view.getFirstRenderedVisibleRow())&&void 0!==e?e:-1}getLastVisibleRow(){var e;return null!==(e=this.hot.view.getLastRenderedVisibleRow())&&void 0!==e?e:-1}clearCache(e){this.headerHeight=null,Array.isArray(e)?this.hot.batchExecution((()=>{e.forEach((e=>{this.rowHeightsMap.setValueAtIndex(e,null)}))}),!0):this.rowHeightsMap.clear()}clearCacheByRange(e){const{from:t,to:n}="number"===typeof e?{from:e,to:e}:e;this.hot.batchExecution((()=>{Ni(Math.min(t,n),Math.max(t,n),(e=>{this.rowHeightsMap.setValueAtIndex(e,null)}))}),!0)}isNeedRecalculate(){return!!this.rowHeightsMap.getValues().slice(0,this.measuredRows).filter((e=>null===e)).length}destroy(){this.ghostTable.clean(),super.destroy()}}function yS(e){const t={from:0,to:this.hot.countCols()-1};e.forEach((e=>{const n=this.samplesGenerator.generateRowSamples(e,t);n.forEach(((e,t)=>this.ghostTable.addRow(t,e)))})),this.ghostTable.rows.length&&(this.hot.batchExecution((()=>{this.ghostTable.getHeights(((e,t)=>{const n=this.hot.toPhysicalRow(e);this.rowHeightsMap.setValueAtIndex(n,t)}))}),!0),this.ghostTable.clean())}function bS(){this.calculateVisibleRowsHeight(),this.inProgress||(hS(gS,this,yS).call(this,cS(mS,this)),uS(mS,this,[]))}function wS(e,t,n){let r=e;return n&&(this.calculateRowsHeight(t,void 0,!0),r=this.getRowHeight(t)),r}function _S(e,t){t||this.recalculateAllRowsHeight()}function ES(e){const t=e.reduce(((e,t)=>{let[n]=t;return-1===e.indexOf(n)&&e.push(n),e}),[]);cS(mS,this).push(...t)}function SS(){this.recalculateAllRowsHeight()}function TS(e){const t=e.reduce(((e,t)=>{var n;const r=null===(n=t.address)||void 0===n?void 0:n.row;if(Number.isInteger(r)){const t=this.hot.toVisualRow(r);-1===e.indexOf(t)&&e.push(t)}return e}),[]);cS(mS,this).push(...t)}const MS=new Map([["indexesSequence",{getListWithInsertedItems:Nh,getListWithRemovedItems:Lh}],["physicallyIndexed",{getListWithInsertedItems:Ph,getListWithRemovedItems:Dh}]]),CS=e=>{if(!1===MS.has(e))throw new Error(`Alter strategy with ID '${e}' does not exist.`);return MS.get(e)},{getListWithInsertedItems:RS,getListWithRemovedItems:xS}=CS("physicallyIndexed");class AS extends Ah{constructor(){super((e=>e))}insert(e,t){const n=Oh(this.indexedValues,t);this.indexedValues=RS(n,e,t,this.initValueOrFn),super.insert(e,t)}remove(e){const t=xS(this.indexedValues,e);this.indexedValues=kh(t,e),super.remove(e)}}var NS=AS;const{getListWithInsertedItems:LS,getListWithRemovedItems:kS}=CS("physicallyIndexed");class OS extends Ah{constructor(){super((e=>e))}insert(e,t){this.indexedValues=LS(this.indexedValues,e,t,((e,t)=>this.getNextValue(t))),super.insert(e,t)}remove(e){this.indexedValues=kS(this.indexedValues,e),super.remove(e)}getNextValue(e){return Math.max(...this.getValues())+1+e}}var IS=OS;function PS(e,t){DS(e,t),t.add(e)}function DS(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function FS(e,t,n){return(t=HS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HS(e){var t=US(e,"string");return"symbol"==typeof t?t:t+""}function US(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function BS(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const jS="bindRowsWithHeaders",YS=210,VS="loose",WS=new Map([["loose",NS],["strict",IS]]);var zS=new WeakSet;class GS extends tE{constructor(){super(...arguments),PS(this,zS),FS(this,"headerIndexes",null)}static get PLUGIN_KEY(){return jS}static get PLUGIN_PRIORITY(){return YS}isEnabled(){return!!this.hot.getSettings()[jS]}enablePlugin(){if(this.enabled)return;let e=this.hot.getSettings()[jS];"string"!==typeof e&&(e=VS);const t=WS.get(e);this.headerIndexes=this.hot.rowIndexMapper.registerMap("bindRowsWithHeaders",new t),this.addHook("modifyRowHeader",(e=>BS(zS,this,$S).call(this,e))),super.enablePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("bindRowsWithHeaders"),super.disablePlugin()}destroy(){super.destroy()}}function $S(e){return this.headerIndexes.getValueAtIndex(this.hot.toPhysicalRow(e))}function qS(e,t){XS(e,t),t.add(e)}function KS(e,t,n){XS(e,t),t.set(e,n)}function XS(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function JS(e,t,n){return(t=QS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QS(e){var t=ZS(e,"string");return"symbol"==typeof t?t:t+""}function ZS(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function eT(e,t){return e.get(nT(e,t))}function tT(e,t,n){return e.set(nT(e,t),n),n}function nT(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const rT="collapsibleColumns",iT=290,oT=["nestedHeaders"],sT="collapsibleIndicator",aT=rT,lT=new Map([["collapse",{hideColumn:!0,beforeHook:"beforeColumnCollapse",afterHook:"afterColumnCollapse"}],["expand",{hideColumn:!1,beforeHook:"beforeColumnExpand",afterHook:"afterColumnExpand"}]]);var uT=new WeakMap,cT=new WeakSet;class hT extends tE{constructor(){super(...arguments),qS(this,cT),JS(this,"nestedHeadersPlugin",null),JS(this,"headerStateManager",null),KS(this,uT,null)}static get PLUGIN_KEY(){return rT}static get PLUGIN_PRIORITY(){return iT}static get PLUGIN_DEPS(){return["plugin:NestedHeaders"]}static get SETTING_KEYS(){return[rT,...oT]}isEnabled(){return!!this.hot.getSettings()[rT]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:t}=this.hot.getSettings();t||dr("You need to configure the Nested Headers plugin in order to use collapsible headers."),tT(uT,this,this.hot.columnIndexMapper.createAndRegisterIndexMap(this.pluginName,"hiding")),this.nestedHeadersPlugin=this.hot.getPlugin("nestedHeaders"),this.headerStateManager=this.nestedHeadersPlugin.getStateManager(),this.addHook("init",(()=>nT(cT,this,pT).call(this))),this.addHook("afterLoadData",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nT(cT,e,mT).call(e,...n)})),this.addHook("afterGetColHeader",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nT(cT,e,dT).call(e,...n)})),this.addHook("beforeOnCellMouseDown",((e,t,n)=>nT(cT,this,fT).call(this,e,t,n))),this.registerShortcuts(),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(this.hot.view){if(!this.nestedHeadersPlugin.detectedOverlappedHeaders){const{collapsibleColumns:e}=this.hot.getSettings();"boolean"===typeof e?this.headerStateManager.mapState((e=>({collapsible:e.origColspan>1}))):Array.isArray(e)&&(this.headerStateManager.mapState((()=>({collapsible:!1}))),this.headerStateManager.mergeStateWith(e))}super.updatePlugin()}}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),tT(uT,this,null),this.nestedHeadersPlugin=null,this.unregisterShortcuts(),this.clearButtons(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{var e;const{row:t,col:n}=this.hot.getSelectedRangeLast().highlight,{collapsible:r,isCollapsed:i,columnIndex:o}=null!==(e=this.headerStateManager.getHeaderTreeNodeData(t,n))&&void 0!==e?e:{};if(r)return i?this.expandSection({row:t,col:o}):this.collapseSection({row:t,col:o}),!1},runOnlyIf:()=>{var e,t;return(null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.isSingle())&&(null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.highlight.isHeader())},group:aT,relativeToGroup:bv,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(aT)}clearButtons(){if(!this.hot.view)return;const e=this.hot.view._wt.getSetting("columnHeaders").length,t=this.hot.view._wt.wtTable.THEAD,n=this.hot.view._wt.wtOverlays.topOverlay.clone.wtTable.THEAD,r=this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay?this.hot.view._wt.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null,i=function(e){e&&e.parentNode.removeChild(e)};Ni(0,e-1,(e=>{const o=t.childNodes[e],s=n.childNodes[e],a=r?r.childNodes[e]:null;Ni(0,o.childNodes.length-1,(e=>{let t=o.childNodes[e].querySelector(`.${sT}`);i(t),s&&s.childNodes[e]&&(t=s.childNodes[e].querySelector(`.${sT}`),i(t)),r&&a&&a.childNodes[e]&&(t=a.childNodes[e].querySelector(`.${sT}`),i(t))}))}),!0)}expandSection(e){this.toggleCollapsibleSection([e],"expand")}collapseSection(e){this.toggleCollapsibleSection([e],"collapse")}toggleAllCollapsibleSections(e){const t=this.headerStateManager.mapNodes((t=>{const{collapsible:n,origColspan:r,headerLevel:i,columnIndex:o,isCollapsed:s}=t;if(!0===n&&r>1&&(s&&"expand"===e||!s&&"collapse"===e))return{row:this.headerStateManager.levelToRowCoords(i),col:o}}));this.toggleCollapsibleSection(t,e)}collapseAll(){this.toggleAllCollapsibleSections("collapse")}expandAll(){this.toggleAllCollapsibleSections("expand")}toggleCollapsibleSection(e,t){if(!lT.has(t))throw new Error(`Unsupported action is passed (${t}).`);if(!Array.isArray(e))return;const n=T(e,(e=>{let{row:t}=e;return t<0}));let r=n.length>0;C(n,(e=>{var n;let{row:i,col:o}=e;const{collapsible:s,isCollapsed:a}=null!==(n=this.headerStateManager.getHeaderSettings(i,o))&&void 0!==n?n:{};if(!s||a&&"collapse"===t||!a&&"expand"===t)return r=!1,!1}));const i=[],o=[];r&&C(n,(e=>{let{row:n,col:r}=e;const{colspanCompensation:s,affectedColumns:a,rollbackModification:l}=this.headerStateManager.triggerNodeModification(t,n,r);s>0&&(o.push(...a),i.push(l))}));const s=this.getCollapsedColumns();let a=[];"collapse"===t?a=k([...s,...o]):"expand"===t&&(a=T(s,(e=>!o.includes(e))));const l=lT.get(t),u=this.hot.runHooks(l.beforeHook,s,a,r);if(!1===u)return void C(i,(e=>{e()}));this.hot.batchExecution((()=>{C(o,(e=>{eT(uT,this).setValueAtIndex(this.hot.toPhysicalColumn(e),l.hideColumn)}))}),!0);const c=this.getCollapsedColumns().length!==s.length,h=this.hot.getSelectedRangeLast();if("collapse"===t&&c&&h){const{row:e,col:t}=h.highlight,n=this.hot.rowIndexMapper.isHidden(e)||this.hot.columnIndexMapper.isHidden(t);if(n&&o.includes(t)){const n=e>=0?this.hot.rowIndexMapper.getNearestNotHiddenIndex(e,1,!0):e,r=t>=0?this.hot.columnIndexMapper.getNearestNotHiddenIndex(t,1,!0):t;null!==n&&null!==r&&this.hot.selectCell(n,r)}}this.hot.runHooks(l.afterHook,s,a,r,c),this.hot.render(),this.hot.view.adjustElementsSize()}getCollapsedColumns(){return eT(uT,this).getHiddenIndexes()}destroy(){tT(uT,this,null),super.destroy()}}function dT(e,t,n){var r;const{collapsible:i,origColspan:o,isCollapsed:s}=null!==(r=this.headerStateManager.getHeaderSettings(n,e))&&void 0!==r?r:{},a=i&&o>1&&e>=this.hot.getSettings().fixedColumnsStart,l=this.hot.getSettings().ariaTags;let u=t.querySelector(`.${sT}`);var c;(ht(t,[De("")[0]]),a)?(u||(u=this.hot.rootDocument.createElement("div"),lt(u,sT),t.querySelector("div:first-child").appendChild(u)),ut(u,["collapsed","expanded"]),s?(lt(u,"collapsed"),gt(u,"+"),l&&ct(t,...De(!1))):(lt(u,"expanded"),gt(u,"-"),l&&ct(t,...De(!0))),l&&ct(u,...xe())):null===(c=u)||void 0===c||c.remove()}function fT(e,t){at(e.target,sT)&&(at(e.target,"expanded")?(this.eventManager.fireEvent(e.target,"mouseup"),this.toggleCollapsibleSection([t],"collapse")):at(e.target,"collapsed")&&(this.eventManager.fireEvent(e.target,"mouseup"),this.toggleCollapsibleSection([t],"expand")),sr(e))}function pT(){this.updatePlugin()}function mT(e,t){t||this.updatePlugin()}function gT(e,t,n){return(t=vT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vT(e){var t=yT(e,"string");return"symbol"==typeof t?t:t+""}function yT(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const bT=["sortEmptyCells","indicator","headerAction","compareFunctionFactory"],wT=!1,_T=!0,ET=!0;class ST{constructor(e,t){gT(this,"hot",void 0),gT(this,"sortingStates",new Yh),gT(this,"sortEmptyCells",wT),gT(this,"indicator",_T),gT(this,"headerAction",ET),gT(this,"compareFunctionFactory",void 0),gT(this,"mapName",void 0),this.hot=e,this.mapName=t,this.hot.columnIndexMapper.registerMap(t,this.sortingStates)}updateAllColumnsProperties(e){_n(e)&&Sn(e,((e,t)=>{bT.includes(t)&&(this[t]=e)}))}getAllColumnsProperties(){const e={sortEmptyCells:this.sortEmptyCells,indicator:this.indicator,headerAction:this.headerAction};return"function"===typeof this.compareFunctionFactory&&(e.compareFunctionFactory=this.compareFunctionFactory),e}getSortOrderOfColumn(e){var t;return null===(t=this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))||void 0===t?void 0:t.sortOrder}getIndexOfColumnInSortQueue(e){return e=this.hot.toPhysicalColumn(e),this.sortingStates.getEntries().findIndex((t=>{let[n]=t;return n===e}))}getNumberOfSortedColumns(){return this.sortingStates.getLength()}isListOfSortedColumnsEmpty(){return 0===this.getNumberOfSortedColumns()}isColumnSorted(e){return _n(this.sortingStates.getValueAtIndex(this.hot.toPhysicalColumn(e)))}getSortStates(){if(null===this.sortingStates)return[];const e=this.sortingStates.getEntries();return e.map((e=>{let[t,n]=e;return{column:this.hot.toVisualColumn(t),...n}}))}getColumnSortState(e){const t=this.getSortOrderOfColumn(e);if(U(t))return{column:e,sortOrder:t}}setSortStates(e){this.sortingStates.clear();for(let t=0;t<e.length;t+=1)this.sortingStates.setValueAtIndex(this.hot.toPhysicalColumn(e[t].column),{sortOrder:e[t].sortOrder})}destroy(){this.hot.columnIndexMapper.unregisterMap(this.mapName),this.sortingStates=null}}function TT(e,t,n){const r=t.locale;return function(t,i){const{sortEmptyCells:o}=n;return"string"===typeof t&&(t=t.toLocaleLowerCase(r)),"string"===typeof i&&(i=i.toLocaleLowerCase(r)),t===i?BT:j(t)?j(i)?BT:o&&"asc"===e?jT:YT:j(i)?o&&"asc"===e?YT:jT:isNaN(t)&&!isNaN(i)?"asc"===e?YT:jT:!isNaN(t)&&isNaN(i)?"asc"===e?jT:YT:(isNaN(t)||isNaN(i)||(t=parseFloat(t),i=parseFloat(i)),t<i?"asc"===e?jT:YT:t>i?"asc"===e?YT:jT:BT)}}const MT="default";function CT(e,t,n){return function(t,r){const i=parseFloat(t),o=parseFloat(r),{sortEmptyCells:s}=n;if(i===o||isNaN(i)&&isNaN(o))return BT;if(s){if(j(t))return"asc"===e?jT:YT;if(j(r))return"asc"===e?YT:jT}return isNaN(i)?YT:isNaN(o)?jT:i<o?"asc"===e?jT:YT:i>o?"asc"===e?YT:jT:BT}}const RT="numeric";function xT(e,t,n){const r=t.checkedTemplate,i=t.uncheckedTemplate,{sortEmptyCells:o}=n;return function(s,a){const l=j(s),u=j(a),c=l?i:s,h=u?i:a,d=c===i||c===r,f=h===i||h===r;if(!1===o){if(l&&!1===u)return YT;if(!1===l&&u)return jT}return!1===d&&f?"asc"===e?jT:YT:d&&!1===f?"asc"===e?YT:jT:!1===d&&!1===f?TT(e,t,n)(s,a):c===i&&h===r?"asc"===e?jT:YT:c===r&&h===i?"asc"===e?YT:jT:BT}}const AT="checkbox";function NT(e,t,n){return ZT(e,t.dateFormat,n)}const LT="date";function kT(e,t,n){return ZT(e,t.timeFormat,n)}const OT="time",{register:IT,getItem:PT,hasItem:DT}=Rr("sorting.compareFunctionFactory"),{register:FT,getItem:HT}=Rr("sorting.mainSortComparator");function UT(e){return DT(e)?PT(e):PT(MT)}IT(AT,xT),IT(LT,NT),IT(MT,TT),IT(RT,CT),IT(OT,kT);const BT=0,jT=-1,YT=1;function VT(e,t){const n=HT(t);for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.sort(n(...i))}const WT="asc",zT="desc",GT="colHeader";function $T(e){if(!1===_n(e))return!1;const{column:t,sortOrder:n}=e;return Number.isInteger(t)&&[WT,zT].includes(n)}function qT(e){if(e.some((e=>!1===$T(e))))return!1;const t=e.map((e=>{let{column:t}=e;return t}));return new Set(t).size===t.length}function KT(e){if(e!==zT)return e===WT?zT:WT}function XT(e){const t=e.querySelector(`.${GT}`);return t}function JT(e,t){if(e<0||!t.parentNode)return!1;const n=t.parentNode.parentNode.childNodes,r=Array.from(n).indexOf(t.parentNode)-n.length;return-1===r}function QT(e,t,n){return-1===e&&t>=0&&!1===lr(n)}function ZT(e,t,n){return function(r,i){const{sortEmptyCells:o}=n;if(r===i)return BT;if(j(r))return j(i)?BT:o&&"asc"===e?jT:YT;if(j(i))return o&&"asc"===e?YT:jT;const s=b(r,t),a=b(i,t);return s.isValid()?a.isValid()?a.isAfter(s)?"asc"===e?jT:YT:a.isBefore(s)?"asc"===e?YT:jT:BT:jT:YT}}const eM="ascending",tM="descending",nM="indicatorDisabled",rM="columnSorting",iM="sortAction",oM=new Map([[WT,eM],[zT,tM]]);function sM(e,t,n,r){const i=[rM];if(r&&i.push(iM),!1===n)return i.push(nM),i;const o=e.getSortOrderOfColumn(t);return U(o)&&i.push(oM.get(o)),i}function aM(){return Array.from(oM.values()).concat(iM,nM,rM)}function lM(e,t){return function(n,r){const[,...i]=n,[,...o]=r;return function(n){const r=e[n],s=t[n],a=i[n],l=o[n],u=s.columnSorting,c=u.compareFunctionFactory?u.compareFunctionFactory:UT(s.type),h=c(r,s,u)(a,l);return h}(0)}}function uM(e,t){cM(e,t),t.add(e)}function cM(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hM(e,t,n){return(t=dM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dM(e){var t=fM(e,"string");return"symbol"==typeof t?t:t+""}function fM(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function pM(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const mM="columnSorting",gM=50,vM="append",yM="replace",bM=mM;FT(mM,lM),Mr.getSingleton().register("beforeColumnSort"),Mr.getSingleton().register("afterColumnSort");var wM=new WeakSet;class _M extends tE{constructor(){super(...arguments),uM(this,wM),hM(this,"columnStatesManager",null),hM(this,"columnMetaCache",null),hM(this,"pluginKey",mM),hM(this,"indexesSequenceCache",null)}static get PLUGIN_KEY(){return mM}static get PLUGIN_PRIORITY(){return gM}isEnabled(){return!!this.hot.getSettings()[this.pluginKey]}enablePlugin(){var e=this;this.enabled||(this.columnStatesManager=new ST(this.hot,`${this.pluginKey}.sortingStates`),this.columnMetaCache=new Fh((e=>{let t=this.hot.toVisualColumn(e);return null===t&&(t=e),this.getMergedPluginSettings(t)})),this.hot.columnIndexMapper.registerMap(`${this.pluginKey}.columnMeta`,this.columnMetaCache),this.addHook("afterGetColHeader",((e,t)=>pM(wM,this,SM).call(this,e,t))),this.addHook("beforeOnCellMouseDown",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pM(wM,e,MM).call(e,...n)})),this.addHook("afterOnCellMouseDown",((e,t)=>this.onAfterOnCellMouseDown(e,t))),this.addHook("afterInit",(()=>pM(wM,this,EM).call(this))),this.addHook("afterLoadData",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pM(wM,e,TM).call(e,...n)})),this.hot.view&&pM(wM,this,EM).call(this),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){const e=(e,t)=>{const n=XT(t);!1!==JT(e,t)&&null!==n&&this.updateHeaderClasses(n)};this.hot.addHook("afterGetColHeader",e),this.hot.addHookOnce("afterViewRender",(()=>{this.hot.removeHook("afterGetColHeader",e)})),this.hot.batchExecution((()=>{null!==this.indexesSequenceCache&&(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginKey),this.indexesSequenceCache=null)}),!0),this.hot.columnIndexMapper.unregisterMap(`${this.pluginKey}.columnMeta`),this.columnStatesManager.destroy(),this.columnMetaCache=null,this.columnStatesManager=null,this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return this.sort(this.getColumnNextConfig(e.col)),!1},runOnlyIf:()=>{var e,t;const n=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return n&&(null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.isSingle())&&this.hot.selection.isCellVisible(n)&&-1===n.row&&n.col>=0},relativeToGroup:bv,position:"before",group:bM})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(bM)}sort(e){const t=this.getSortConfig(),n=this.getNormalizedSortConfigs(e),r=this.areValidSortConfigs(n),i=this.hot.runHooks("beforeColumnSort",t,n,r);!1!==i&&(0===t.length&&null===this.indexesSequenceCache&&(this.indexesSequenceCache=this.hot.rowIndexMapper.registerMap(this.pluginKey,new Ih),this.indexesSequenceCache.setValues(this.hot.rowIndexMapper.getIndexesSequence())),r&&(this.columnStatesManager.setSortStates(n),this.sortByPresetSortStates(n),this.saveAllSortSettings(n)),this.hot.runHooks("afterColumnSort",t,r?n:t,r),r&&(this.hot.render(),this.hot.forceFullRender=!1,this.hot.view.render()))}clearSort(){this.sort([])}isSorted(){return this.enabled&&!this.columnStatesManager.isListOfSortedColumnsEmpty()}getSortConfig(e){return U(e)?this.columnStatesManager.getColumnSortState(e):this.columnStatesManager.getSortStates()}setSortConfig(e){const t=this.getNormalizedSortConfigs(e);this.areValidSortConfigs(t)&&this.columnStatesManager.setSortStates(t)}getNormalizedSortConfigs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e.slice(0,1):[e]}areValidSortConfigs(e){const t=this.hot.countCols();return qT(e)&&e.every((e=>{let{column:n}=e;return n<=t&&n>=0}))}saveAllSortSettings(e){const t=this.columnStatesManager.getAllColumnsProperties(),n=e=>{let{column:t,...n}=e;return{column:this.hot.toPhysicalColumn(t),...n}};t.initialConfig=M(e,n),this.hot.runHooks("persistentStateSave","columnSorting",t)}getAllSavedSortSettings(){const e={};this.hot.runHooks("persistentStateLoad","columnSorting",e);const t=e.value,n=e=>{let{column:t,...n}=e;return{column:this.hot.toVisualColumn(t),...n}};return U(t)&&Array.isArray(t.initialConfig)&&(t.initialConfig=M(t.initialConfig,n)),t}getColumnNextConfig(e){const t=this.columnStatesManager.getSortOrderOfColumn(e);if(U(t)){const n=KT(t);return U(n)?{column:e,sortOrder:n}:void 0}const n=this.hot.countCols();if(Number.isInteger(e)&&e>=0&&e<n)return{column:e,sortOrder:KT()}}getNextSortConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vM;const n=this.columnStatesManager.getIndexOfColumnInSortQueue(e),r=-1!==n,i=this.getSortConfig(),o=this.getColumnNextConfig(e);if(r){if(B(o))return[...i.slice(0,n),...i.slice(n+1)];if(t===vM)return[...i.slice(0,n),...i.slice(n+1),o];if(t===yM)return[...i.slice(0,n),o,...i.slice(n+1)]}return U(o)?i.concat(o):i}getPluginColumnConfig(e){if(_n(e)){const t=e[this.pluginKey];if(_n(t))return t}return{}}getMergedPluginSettings(e){const t=this.hot.getSettings()[this.pluginKey],n=this.columnStatesManager.getAllColumnsProperties(),r=this.hot.getCellMeta(0,e),i=Object.getPrototypeOf(r);return Array.isArray(i.columns)?Object.assign(n,t,this.getPluginColumnConfig(i.columns[e])):rn(i.columns)?Object.assign(n,t,this.getPluginColumnConfig(i.columns(e))):Object.assign(n,t)}getFirstCellSettings(e){const t=this.hot.getCellMeta(0,e),n=Object.create(t);return n[this.pluginKey]=this.columnMetaCache.getValueAtIndex(this.hot.toPhysicalColumn(e)),n}getNumberOfRowsToSort(e){const t=this.hot.getSettings();return t.maxRows<=e?t.maxRows:e-t.minSpareRows}sortByPresetSortStates(e){if(this.hot.rowIndexMapper.setIndexesSequence(this.indexesSequenceCache.getValues()),0===e.length)return;const t=[],n=this.hot.countRows(),r=t=>M(e,(e=>this.hot.getDataAtCell(t,e.column)));for(let l=0;l<this.getNumberOfRowsToSort(n);l+=1)t.push([this.hot.toPhysicalRow(l)].concat(r(l)));const i=M(t,(e=>e[0]));VT(t,this.pluginKey,M(e,(e=>e.sortOrder)),M(e,(e=>this.getFirstCellSettings(e.column))));for(let l=t.length;l<n;l+=1)t.push([l].concat(r(l)));const o=M(t,(e=>e[0])),s=new Map(M(i,((e,t)=>[e,o[t]]))),a=M(this.hot.rowIndexMapper.getIndexesSequence(),(e=>s.has(e)?s.get(e):e));this.hot.rowIndexMapper.setIndexesSequence(a)}sortBySettings(e){if(_n(e)){this.columnStatesManager.updateAllColumnsProperties(e);const t=e.initialConfig;(Array.isArray(t)||_n(t))&&this.sort(t)}else this.hot.render()}updateHeaderClasses(e){if(ut(e,aM(e)),!1!==this.enabled){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];lt(e,sM(...n))}}onUpdateSettings(e){super.onUpdateSettings(),null!==this.columnMetaCache&&this.columnMetaCache.init(this.hot.columnIndexMapper.getNumberOfIndexes()),U(e[this.pluginKey])&&this.sortBySettings(e[this.pluginKey])}wasClickableHeaderClicked(e,t){const n=this.getFirstCellSettings(t)[this.pluginKey],r=n.headerAction;return r&&at(e.target,GT)}onAfterOnCellMouseDown(e,t){if(!1!==QT(t.row,t.col,e)&&this.wasClickableHeaderClicked(e,t.col)){this.hot.getShortcutManager().isCtrlPressed()&&(this.hot.deselectCell(),this.hot.selectColumns(t.col));const e=this.hot.getActiveEditor(),n=this.getColumnNextConfig(t.col);null!==e&&void 0!==e&&e.isOpened()&&this.hot.getCellValidator(e.row,e.col)?this.hot.addHookOnce("postAfterValidate",(()=>{this.sort(n)})):this.sort(n)}}destroy(){var e;null===(e=this.columnStatesManager)||void 0===e||e.destroy(),super.destroy()}}function EM(){const e=this.getAllSavedSortSettings();if(_n(e))this.sortBySettings(e);else{const e=this.hot.getSettings()[this.pluginKey];this.sortBySettings(e)}}function SM(e,t){const n=XT(t);if(!1===JT(e,t)||null===n)return;const r=this.getFirstCellSettings(e)[this.pluginKey],i=r.indicator,o=r.headerAction;if(this.updateHeaderClasses(n,this.columnStatesManager,e,i,o),this.hot.getSettings().ariaTags){const n=this.columnStatesManager.getSortOrderOfColumn(e);ct(t,...Fe(n?`${n}ending`:"none"))}}function TM(e){!0===e&&this.hot.view&&pM(wM,this,EM).call(this)}function MM(e,t,n,r){!1!==QT(t.row,t.col,e)&&this.wasClickableHeaderClicked(e,t.col)&&this.hot.getShortcutManager().isCtrlPressed()&&(r.column=!0)}function CM(e,t,n){return(t=RM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RM(e){var t=xM(e,"string");return"symbol"==typeof t?t:t+""}function xM(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class AM{constructor(e,t){CM(this,"plugin",void 0),CM(this,"hot",void 0),CM(this,"endpoints",[]),CM(this,"settings",void 0),CM(this,"settingsType","array"),CM(this,"currentEndpoint",null),CM(this,"cellsToSetCache",[]),this.plugin=e,this.hot=this.plugin.hot,this.settings=t}initEndpoints(){this.endpoints=this.parseSettings(),this.refreshAllEndpoints()}getEndpoint(e){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings)[e]:this.endpoints[e]}getAllEndpoints(){return"function"===this.settingsType?this.fillMissingEndpointData(this.settings):this.endpoints}fillMissingEndpointData(e){return this.parseSettings(e.call(this))}parseSettings(e){const t=[];let n=e;if(n||"function"!==typeof this.settings)return n||(n=this.settings),C(n,(e=>{const n={};this.assignSetting(e,n,"ranges",[[0,this.hot.countRows()-1]]),this.assignSetting(e,n,"reversedRowCoords",!1),this.assignSetting(e,n,"destinationRow",new Error("\n        You must provide a destination row for the Column Summary plugin in order to work properly!\n      ")),this.assignSetting(e,n,"destinationColumn",new Error("\n        You must provide a destination column for the Column Summary plugin in order to work properly!\n      ")),this.assignSetting(e,n,"sourceColumn",e.destinationColumn),this.assignSetting(e,n,"type","sum"),this.assignSetting(e,n,"forceNumeric",!1),this.assignSetting(e,n,"suppressDataTypeErrors",!0),this.assignSetting(e,n,"customFunction",null),this.assignSetting(e,n,"readOnly",!0),this.assignSetting(e,n,"roundFloat",!1),t.push(n)})),t;this.settingsType="function"}assignSetting(e,t,n,r){if("ranges"!==n||void 0!==e[n]){if("ranges"!==n||0!==e[n].length)if(void 0===e[n]){if(r instanceof Error)throw r;t[n]=r}else"destinationRow"===n&&t.reversedRowCoords?t[n]=this.hot.countRows()-e[n]-1:t[n]=e[n]}else t[n]=r}resetSetupBeforeStructureAlteration(e,t,n){if("function"!==this.settingsType)return;const r=e.indexOf("row")>-1?"row":"col",i=this.getAllEndpoints();C(i,(i=>{"row"===r&&i.destinationRow>=t&&("insert_row"===e?i.alterRowOffset=n:"remove_row"===e&&(i.alterRowOffset=-1*n)),"col"===r&&i.destinationColumn>=t&&("insert_col"===e?i.alterColumnOffset=n:"remove_col"===e&&(i.alterColumnOffset=-1*n))})),this.resetAllEndpoints(i,!1)}resetSetupAfterStructureAlteration(e,t,n,r,i){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if("function"===this.settingsType){const e=()=>(this.hot.removeHook("beforeViewRender",e),this.refreshAllEndpoints());return void this.hot.addHookOnce("beforeViewRender",e)}const s=e.indexOf("row")>-1?"row":"col",a=e.indexOf("remove")>-1?-1:1,l=this.getAllEndpoints(),u=0===e.indexOf("move_row"),c=t;C(l,(e=>{"row"===s&&e.destinationRow>=c&&(e.alterRowOffset=a*n),"col"===s&&e.destinationColumn>=c&&(e.alterColumnOffset=a*n)})),this.resetAllEndpoints(l,!u),C(l,u?e=>{this.extendEndpointRanges(e,c,r[0],r.length),this.recreatePhysicalRanges(e),this.clearOffsetInformation(e)}:e=>{this.shiftEndpointCoordinates(e,c)}),o&&this.refreshAllEndpoints()}clearOffsetInformation(e){e.alterRowOffset=void 0,e.alterColumnOffset=void 0}extendEndpointRanges(e,t,n,r){C(e.ranges,(e=>{e[1]&&(t>=e[0]&&t<=e[1]?n>e[1]?e[1]+=r:n<e[0]&&(e[0]-=r):n>=e[0]&&n<=e[1]&&(e[1]-=r,t<=e[0]&&(e[0]+=1,e[1]+=1)))}))}recreatePhysicalRanges(e){const t=e.ranges,n=[],r=[];C(t,(e=>{const t=[];if(e[1])for(let n=e[0];n<=e[1];n++)t.push(this.hot.toPhysicalRow(n));else t.push(this.hot.toPhysicalRow(e[0]));r.push(t)})),C(r,(e=>{let t=[];C(e,((r,i)=>{0===i?t.push(r):e[i]!==e[i-1]+1&&(t.push(e[i-1]),n.push(t),t=[],t.push(r)),i===e.length-1&&(t.push(r),n.push(t))}))})),e.ranges=n}shiftEndpointCoordinates(e,t){e.alterRowOffset&&0!==e.alterRowOffset?(e.destinationRow+=e.alterRowOffset||0,C(e.ranges,(n=>{C(n,((r,i)=>{r>=t&&(n[i]+=e.alterRowOffset||0)}))}))):e.alterColumnOffset&&0!==e.alterColumnOffset&&(e.destinationColumn+=e.alterColumnOffset||0,e.sourceColumn+=e.alterColumnOffset||0)}resetAllEndpoints(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAllEndpoints(),t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e.some((e=>{const t=e.alterRowOffset||0,n=e.alterColumnOffset||0;return e.destinationRow+t>=this.hot.countRows()||e.destinationColumn+n>=this.hot.countCols()}));n||(this.cellsToSetCache=[],C(e,(e=>{this.resetEndpointValue(e,t)})),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[])}refreshAllEndpoints(){this.cellsToSetCache=[],C(this.getAllEndpoints(),(e=>{this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e,"init")})),this.currentEndpoint=null,this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshChangedEndpoints(e){const t=[];this.cellsToSetCache=[],C(e,((e,n,r)=>{`${e[2]||""}`!==`${e[3]}`&&C(this.getAllEndpoints(),((e,i)=>{this.hot.propToCol(r[n][1])===e.sourceColumn&&-1===t.indexOf(i)&&t.push(i)}))})),C(t,(e=>{this.refreshEndpoint(this.getEndpoint(e))})),this.hot.setDataAtCell(this.cellsToSetCache,"ColumnSummary.reset"),this.cellsToSetCache=[]}refreshCellMetas(){this.endpoints.forEach((e=>{const t=this.hot.toVisualRow(e.destinationRow);if(null!==t){const n=this.hot.getCellMeta(t,e.destinationColumn);n.readOnly=e.readOnly,n.className="columnSummaryResult"}}))}refreshEndpoint(e){this.currentEndpoint=e,this.plugin.calculate(e),this.setEndpointValue(e),this.currentEndpoint=null}resetEndpointValue(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e.alterRowOffset||0,r=e.alterColumnOffset||0;this.cellsToSetCache.push([this.hot.toVisualRow(e.destinationRow+(t?n:0)),this.hot.toVisualColumn(e.destinationColumn+(t?r:0)),""])}setEndpointValue(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.hot.toVisualRow(e.destinationRow);if(e.destinationRow>=this.hot.countRows()||e.destinationColumn>=this.hot.countCols())return void this.throwOutOfBoundsWarning();const i=this.hot.toVisualRow(e.destinationRow);if(null!==i){const n=this.hot.getCellMeta(i,e.destinationColumn);"init"!==t&&n.readOnly===e.readOnly||(n.readOnly=e.readOnly,n.className="columnSummaryResult")}if((!0===e.roundFloat||Number.isInteger(e.roundFloat))&&!isNaN(e.result)){const t=e.roundFloat;let n=0;Number.isInteger(t)&&(n=Math.min(Math.max(0,t),100)),e.result=e.result.toFixed(n)}n?this.hot.setDataAtCell(r,e.destinationColumn,e.result,"ColumnSummary.set"):this.cellsToSetCache.push([r,e.destinationColumn,e.result]),e.alterRowOffset=void 0,e.alterColumnOffset=void 0}throwOutOfBoundsWarning(){dr("One of the Column Summary plugins' destination points you provided is beyond the table boundaries!")}}var NM=AM;function LM(e){return null===e||void 0===e||isNaN(e)}function kM(e,t){OM(e,t),t.add(e)}function OM(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function IM(e,t,n){return(t=PM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PM(e){var t=DM(e,"string");return"symbol"==typeof t?t:t+""}function DM(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function FM(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const HM="columnSummary",UM=220;var BM=new WeakSet;class jM extends tE{constructor(){super(...arguments),kM(this,BM),IM(this,"endpoints",null)}static get PLUGIN_KEY(){return HM}static get PLUGIN_PRIORITY(){return UM}isEnabled(){return!!this.hot.getSettings()[HM]}enablePlugin(){var e=this;this.enabled||(this.settings=this.hot.getSettings()[HM],this.endpoints=new NM(this,this.settings),this.addHook("afterInit",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return FM(BM,e,YM).call(e,...n)})),this.addHook("afterChange",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return FM(BM,e,WM).call(e,...n)})),this.addHook("afterUpdateSettings",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return FM(BM,e,VM).call(e,...n)})),this.addHook("beforeCreateRow",((e,t,n)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_row",e,t,null,n))),this.addHook("beforeCreateCol",((e,t,n)=>this.endpoints.resetSetupBeforeStructureAlteration("insert_col",e,t,null,n))),this.addHook("beforeRemoveRow",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.endpoints.resetSetupBeforeStructureAlteration("remove_row",...n)})),this.addHook("beforeRemoveCol",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.endpoints.resetSetupBeforeStructureAlteration("remove_col",...n)})),this.addHook("afterCreateRow",((e,t,n)=>this.endpoints.resetSetupAfterStructureAlteration("insert_row",e,t,null,n))),this.addHook("afterCreateCol",((e,t,n)=>this.endpoints.resetSetupAfterStructureAlteration("insert_col",e,t,null,n))),this.addHook("afterRemoveRow",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.endpoints.resetSetupAfterStructureAlteration("remove_row",...n)})),this.addHook("afterRemoveCol",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.endpoints.resetSetupAfterStructureAlteration("remove_col",...n)})),this.addHook("afterRowMove",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return FM(BM,e,zM).call(e,...n)})),super.enablePlugin())}disablePlugin(){this.endpoints=null,this.settings=null,this.currentEndpoint=null,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.endpoints.initEndpoints(),super.updatePlugin()}calculate(e){switch(e.type.toLowerCase()){case"sum":e.result=this.calculateSum(e);break;case"min":e.result=this.calculateMinMax(e,e.type);break;case"max":e.result=this.calculateMinMax(e,e.type);break;case"count":e.result=this.countEntries(e);break;case"average":e.result=this.calculateAverage(e);break;case"custom":e.result=e.customFunction.call(this,e);break;default:break}}calculateSum(e){let t=0;return Sn(e.ranges,(n=>{t+=this.getPartialSum(n,e.sourceColumn)})),t}getPartialSum(e,t){let n=0,r=e[1]||e[0],i=null,o=0;do{if(i=this.getCellValue(r,t),i=LM(i)?null:i,null!==i){const e=(`${i}`.split(".")[1]||[]).length||1;e>o&&(o=e)}n+=i||0,r-=1}while(r>=e[0]);return Math.round(n*10**o)/10**o}calculateMinMax(e,t){let n=null;return Sn(e.ranges,(r=>{const i=this.getPartialMinMax(r,e.sourceColumn,t);if(null===n&&null!==i&&(n=i),null!==i)switch(t){case"min":n=Math.min(n,i);break;case"max":n=Math.max(n,i);break;default:break}})),null===n?"Not enough data":n}getPartialMinMax(e,t,n){let r,i=null,o=e[1]||e[0];do{if(r=this.getCellValue(o,t),r=LM(r)?null:r,null===i)i=r;else if(null!==r)switch(n){case"min":i=Math.min(i,r);break;case"max":i=Math.max(i,r);break;default:break}o-=1}while(o>=e[0]);return i}countEmpty(e,t){let n,r=0,i=e[1]||e[0];do{n=this.getCellValue(i,t),n=LM(n)?null:n,null===n&&(r+=1),i-=1}while(i>=e[0]);return r}countEntries(e){let t=0;const n=e.ranges;return Sn(n,(n=>{const r=void 0===n[1]?1:n[1]-n[0]+1,i=this.countEmpty(n,e.sourceColumn);t+=r,t-=i})),t}calculateAverage(e){const t=this.calculateSum(e),n=this.countEntries(e);return t/n}getCellValue(e,t){const n=this.hot.toVisualRow(e),r=this.hot.toVisualColumn(t);let i=this.hot.getSourceDataAtCell(e,t),o="";if(null!==n&&null!==r&&(o=this.hot.getCellMeta(n,r).className||""),o.indexOf("columnSummaryResult")>-1)return null;if(this.endpoints.currentEndpoint.forceNumeric&&("string"===typeof i&&(i=i.replace(/,/,".")),i=parseFloat(i)),isNaN(i)&&!this.endpoints.currentEndpoint.suppressDataTypeErrors)throw new Error(F`ColumnSummary plugin: cell at (${e}, ${t}) is not in a\x20
          numeric format. Cannot do the calculation.`);return i}}function YM(){this.endpoints.initEndpoints()}function VM(e){void 0!==e.columns&&this.endpoints.refreshCellMetas()}function WM(e,t){e&&"ColumnSummary.reset"!==t&&"ColumnSummary.set"!==t&&"loadData"!==t&&this.endpoints.refreshChangedEndpoints(e)}function zM(e,t){this.endpoints.resetSetupBeforeStructureAlteration("move_row",e[0],e.length,e,this.pluginName),this.endpoints.resetSetupAfterStructureAlteration("move_row",t,e.length,e,this.pluginName)}function GM(e,t){qM(e,t),t.add(e)}function $M(e,t,n){qM(e,t),t.set(e,n)}function qM(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KM(e,t){return e.get(JM(e,t))}function XM(e,t,n){return e.set(JM(e,t),n),n}function JM(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var QM=new WeakMap,ZM=new WeakMap,eC=new WeakMap,tC=new WeakSet;class nC{constructor(){GM(this,tC),$M(this,QM,!0),$M(this,ZM,null),$M(this,eC,new ResizeObserver((e=>JM(tC,this,rC).call(this,e))))}setObservedElement(e){XM(ZM,this,e)}unobserve(){KM(eC,this).unobserve(KM(ZM,this))}observe(){XM(QM,this,!0),KM(eC,this).observe(KM(ZM,this))}destroy(){KM(eC,this).disconnect()}}function rC(e){!KM(QM,this)&&Array.isArray(e)&&e.length?e.forEach((e=>{let{borderBoxSize:t}=e;const{inlineSize:n,blockSize:r}=t[0];this.runLocalHooks("resize",n,r)})):XM(QM,this,!1)}function iC(e,t,n){oC(e,t),t.set(e,n)}function oC(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sC(e,t){return e.get(lC(e,t))}function aC(e,t,n){return e.set(lC(e,t),n),n}function lC(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}bn(nC,Mh);var uC=new WeakMap,cC=new WeakMap,hC=new WeakMap,dC=new WeakMap,fC=new WeakMap,pC=new WeakMap,mC=new WeakMap;class gC{static get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"}static get CLASS_EDITOR(){return"htComments"}static get CLASS_INPUT(){return"htCommentTextArea"}static get CLASS_CELL(){return"htCommentCell"}constructor(e,t){var n=this;iC(this,uC,void 0),iC(this,cC,!1),iC(this,hC,null),iC(this,dC,void 0),iC(this,fC,void 0),iC(this,pC,!0),iC(this,mC,new nC),aC(uC,this,e),aC(cC,this,t),aC(dC,this,this.createEditor()),aC(fC,this,sC(dC,this).style),sC(mC,this).setObservedElement(this.getInputElement()),sC(mC,this).addLocalHook("resize",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.runLocalHooks("resize",...t)})),this.hide()}setPosition(e,t){sC(fC,this).left=`${e}px`,sC(fC,this).top=`${t}px`}setSize(e,t){if(e&&t){const n=this.getInputElement();n.style.width=`${e}px`,n.style.height=`${t}px`}}getSize(){return{width:Nt(this.getInputElement()),height:Lt(this.getInputElement())}}observeSize(){sC(mC,this).observe()}resetSize(){const e=this.getInputElement();e.style.width="",e.style.height=""}setReadOnlyState(e){const t=this.getInputElement();t.readOnly=e}show(){sC(fC,this).display="block",aC(pC,this,!1)}hide(){sC(mC,this).unobserve(),sC(pC,this)||(sC(fC,this).display="none"),aC(pC,this,!0)}isVisible(){return"block"===sC(fC,this).display}setValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e||"";this.getInputElement().value=t}getValue(){return this.getInputElement().value}isFocused(){return sC(uC,this).activeElement===this.getInputElement()}focus(){this.getInputElement().focus()}createEditor(){const e=sC(uC,this).createElement("div"),t=sC(uC,this).createElement("textarea");return e.style.display="none",aC(hC,this,sC(uC,this).createElement("div")),sC(hC,this).setAttribute("dir",sC(cC,this)?"rtl":"ltr"),lt(sC(hC,this),gC.CLASS_EDITOR_CONTAINER),sC(uC,this).body.appendChild(sC(hC,this)),lt(e,gC.CLASS_EDITOR),lt(t,gC.CLASS_INPUT),t.setAttribute("data-hot-input",!0),e.appendChild(t),sC(hC,this).appendChild(e),e}getInputElement(){return sC(dC,this).querySelector(`.${gC.CLASS_INPUT}`)}destroy(){const e=sC(hC,this)?sC(hC,this).parentNode:null;sC(dC,this).parentNode.removeChild(sC(dC,this)),aC(dC,this,null),aC(fC,this,null),sC(mC,this).destroy(),e&&e.removeChild(sC(hC,this))}}bn(gC,Mh);var vC=gC;function yC(e,t,n){return(t=bC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bC(e){var t=wC(e,"string");return"symbol"==typeof t?t:t+""}function wC(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const _C=250,EC=250;class SC{constructor(e){yC(this,"wasLastActionShow",!0),yC(this,"showDebounced",null),yC(this,"hidingTimer",null),this.updateDelay(e)}hide(){this.wasLastActionShow=!1,this.hidingTimer=setTimeout((()=>{!1===this.wasLastActionShow&&this.runLocalHooks("hide")}),EC)}show(e){this.wasLastActionShow=!0,this.showDebounced(e)}cancelHiding(){this.wasLastActionShow=!0,clearTimeout(this.hidingTimer),this.hidingTimer=null}updateDelay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_C;this.showDebounced=an((e=>{this.wasLastActionShow&&this.runLocalHooks("show",e.from.row,e.from.col)}),e)}destroy(){this.clearLocalHooks()}}bn(SC,Mh);var TC=SC;const MC="---------";function CC(){return{name:MC}}function RC(e){return{key:"commentsAddEdit",name(){var t;const n=null===(t=this.getSelectedRangeLast())||void 0===t?void 0:t.highlight;return null!==n&&void 0!==n&&n.isCell()&&e.getCommentAtCell(n.row,n.col)?this.getTranslatedPhrase(nf):this.getTranslatedPhrase(tf)},callback(){const t=this.getSelectedRangeLast();e.setRange(t),e.show(),e.focusEditor()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||0===this.countRenderedRows()||0===this.countRenderedCols())}}}function xC(e){return{key:"commentsRemove",name(){return this.getTranslatedPhrase(rf)},callback(){const t=this.getSelectedRangeLast();t.forAll(((t,n)=>{t>=0&&n>=0&&e.removeCommentAtCell(t,n,!1)})),this.render()},disabled(){const e=this.getSelectedRangeLast();return!!(!e||e.highlight.isHeader()||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||0===this.countRenderedRows()||0===this.countRenderedCols())}}}function AC(e,t){if(-1!==e.indexOf(t))return e;const n=e.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ","");return`${n} ${t}`}function NC(e,t){if(-1!==e.indexOf(t))return e;const n=e.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ","");return`${n} ${t}`}function LC(e,t){const n={};return C(e,(e=>{e.forAll(((e,r)=>{e>=0&&r>=0&&(n[e]||(n[e]=[]),n[e][r]=t(e,r))}))})),n}function kC(e,t,n,r,i){C(e,(e=>{e.forAll(((e,o)=>{e>=0&&o>=0&&OC(e,o,t,n,r,i)}))}))}function OC(e,t,n,r,i,o){const s=i(e,t);let a=r;s.className&&(a="vertical"===n?AC(s.className,r):NC(s.className,r)),o(e,t,"className",a)}function IC(e){return`<span class="selected">${String.fromCharCode(10003)}</span>${e}`}function PC(e,t){let n=!1;return Array.isArray(e)&&C(e,(e=>(e.forAll(((e,r)=>{if(e>=0&&r>=0&&t(e,r))return n=!0,!1})),n))),n}function DC(e,t){const n={top:0,left:0};if(t!==e.ownerDocument){const{frameElement:e}=t.defaultView,{top:r,left:i}=e.getBoundingClientRect();n.top=r,n.left=i}return n}function FC(e){return function(t,n){const r=this.getCellMeta(t,n).className;return r&&-1!==r.indexOf(e)}}function HC(e,t){return PC(e.getSelectedRange(),FC(t).bind(e))}function UC(e){return{key:"commentsReadOnly",name(){const t=this.getTranslatedPhrase(of),n=PC(this.getSelectedRange(),((t,n)=>e.getCommentMeta(t,n,eR)));return n?IC(t):t},callback(){const t=this.getSelectedRangeLast();t.forAll(((t,n)=>{if(t>=0&&n>=0){const r=!!e.getCommentMeta(t,n,eR);e.updateCommentMeta(t,n,{[eR]:!r})}}))},disabled(){const t=this.getSelectedRangeLast();return!!(!t||t.highlight.isHeader()||!e.getCommentAtCell(t.highlight.row,t.highlight.col)||this.selection.isEntireRowSelected()&&this.selection.isEntireColumnSelected()||0===this.countRenderedRows()||0===this.countRenderedCols())}}}function BC(e,t){YC(e,t),t.add(e)}function jC(e,t,n){YC(e,t),t.set(e,n)}function YC(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function VC(e,t,n){return(t=WC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WC(e){var t=zC(e,"string");return"symbol"==typeof t?t:t+""}function zC(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function GC(e,t,n){return e.set(qC(e,t),n),n}function $C(e,t){return e.get(qC(e,t))}function qC(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const KC="comments",XC=60,JC="comment",QC="value",ZC="style",eR="readOnly",tR=KC,nR=`plugin:${KC}`;var rR=new WeakMap,iR=new WeakMap,oR=new WeakMap,sR=new WeakMap,aR=new WeakMap,lR=new WeakMap,uR=new WeakSet;class cR extends tE{constructor(){super(...arguments),BC(this,uR),VC(this,"range",{}),jC(this,rR,null),jC(this,iR,null),jC(this,oR,!1),jC(this,sR,!1),jC(this,aR,null),jC(this,lR,"")}static get PLUGIN_KEY(){return KC}static get PLUGIN_PRIORITY(){return XC}isEnabled(){return!!this.hot.getSettings()[KC]}enablePlugin(){var e=this;this.enabled||($C(rR,this)||(GC(rR,this,new vC(this.hot.rootDocument,this.hot.isRtl())),$C(rR,this).addLocalHook("resize",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qC(uR,e,vR).call(e,...n)}))),$C(iR,this)||GC(iR,this,new TC(this.getDisplayDelaySetting())),this.addHook("afterContextMenuDefaultOptions",(e=>this.addToContextMenu(e))),this.addHook("afterRenderer",((e,t,n,r,i,o)=>qC(uR,this,pR).call(this,e,o))),this.addHook("afterScroll",(()=>qC(uR,this,bR).call(this))),this.addHook("afterBeginEditing",(()=>this.hide())),this.addHook("afterDocumentKeyDown",(e=>qC(uR,this,yR).call(this,e))),$C(iR,this).addLocalHook("hide",(()=>this.hide())),$C(iR,this).addLocalHook("show",((e,t)=>this.showAtCell(e,t))),this.registerShortcuts(),this.registerListeners(),super.enablePlugin())}updatePlugin(){$C(iR,this).updateDelay(this.getDisplayDelaySetting()),super.updatePlugin()}disablePlugin(){this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager(),t=e.getContext("grid"),n=e.addContext(nR);t.addShortcut({keys:[["Control","Alt","M"]],callback:()=>{const t=this.hot.getSelectedRangeLast();GC(sR,this,!0),this.hot.scrollToFocusedCell((()=>{this.setRange(t),this.show(),this.focusEditor(),e.setActiveContextName(nR),this.hot._registerTimeout((()=>{GC(sR,this,!1)}))}))},stopPropagation:!0,runOnlyIf:()=>{var e;return(null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight.isCell())&&!$C(rR,this).isVisible()},group:tR}),n.addShortcut({keys:[["Escape"]],callback:()=>{$C(rR,this).setValue($C(lR,this)),this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>$C(rR,this).isVisible()&&$C(rR,this).isFocused(),group:tR}),n.addShortcut({keys:[["Control/Meta","Enter"]],callback:()=>{this.hide(),e.setActiveContextName("grid")},runOnlyIf:()=>$C(rR,this).isVisible()&&$C(rR,this).isFocused(),group:tR})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(tR)}registerListeners(){const{rootDocument:e}=this.hot,t=this.getEditorInputElement();this.eventManager.addEventListener(e,"mouseover",(e=>qC(uR,this,dR).call(this,e))),this.eventManager.addEventListener(e,"mousedown",(e=>qC(uR,this,hR).call(this,e))),this.eventManager.addEventListener(e,"mouseup",(()=>qC(uR,this,fR).call(this))),this.eventManager.addEventListener(t,"focus",(()=>qC(uR,this,gR).call(this))),this.eventManager.addEventListener(t,"blur",(()=>qC(uR,this,mR).call(this)))}setRange(e){this.range=e}clearRange(){this.range={}}targetIsCellWithComment(e){const t=et(e.target,"TD","TBODY");return!!(t&&at(t,"htCommentCell")&&et(t,[this.hot.rootElement]))}targetIsCommentTextArea(e){return this.getEditorInputElement()===e.target}setComment(e){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const t=$C(rR,this).getValue();let n="";null!==e&&void 0!==e?n=e:null!==t&&void 0!==t&&(n=t);const r=this.range.from.row,i=this.range.from.col;this.updateCommentMeta(r,i,{[QC]:n}),this.hot.render()}setCommentAtCell(e,t,n){this.setRange({from:this.hot._createCellCoords(e,t)}),this.setComment(n)}removeComment(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,JC),e&&this.hot.render(),this.hide()}removeCommentAtCell(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:this.hot._createCellCoords(e,t)}),this.removeComment(n)}getComment(){const e=this.range.from.row,t=this.range.from.col;return this.getCommentMeta(e,t,QC)}getCommentAtCell(e,t){return this.getCommentMeta(e,t,QC)}show(){var e;if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');const{from:{row:t,col:n}}=this.range;if(t<0||t>this.hot.countSourceRows()-1||n<0||n>this.hot.countSourceCols()-1)return!1;const r=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return $C(iR,this).cancelHiding(),$C(rR,this).setValue(null!==(e=r[JC]?r[JC][QC]:null)&&void 0!==e?e:""),$C(rR,this).show(),this.refreshEditor(!0),!0}showAtCell(e,t){return this.setRange({from:this.hot._createCellCoords(e,t)}),this.show()}hide(){$C(rR,this).hide()}refreshEditor(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!n&&(!this.range.from||!$C(rR,this).isVisible()))return;const{rowIndexMapper:r,columnIndexMapper:i}=this.hot,{row:o,col:s}=this.range.from;let a=r.getRenderableFromVisualIndex(o),l=i.getRenderableFromVisualIndex(s);const u=null===a;$C(rR,this).setPosition(0,0),null===a&&(a=r.getRenderableFromVisualIndex(r.getNearestNotHiddenIndex(o,-1))),null===l&&(l=i.getRenderableFromVisualIndex(i.getNearestNotHiddenIndex(s,-1)));const c=null===a,h=null===l;a=null!==(e=a)&&void 0!==e?e:0,l=null!==(t=l)&&void 0!==t?t:0;const{rootWindow:d,view:{_wt:f}}=this.hot,{wtTable:p}=f,m=f.getCell({row:a,col:l},!0),g=this.getCommentMeta(o,s,ZC);g?$C(rR,this).setSize(g.width,g.height):$C(rR,this).resetSize();const v=h?0:p.getStretchedColumnWidth(l),y=u&&!c?Lt(m):0,{left:b,top:w,width:_,height:E}=m.getBoundingClientRect(),{width:S,height:T}=$C(rR,this).getSize(),{innerWidth:M,innerHeight:C}=this.hot.rootWindow,R=this.hot.rootDocument.documentElement;let x=b+d.scrollX+v,A=w+d.scrollY+y;this.hot.isRtl()&&(x-=S+v),this.hot.isLtr()&&b+_+S>M?x=b+d.scrollX-S-1:this.hot.isRtl()&&x<-(R.scrollWidth-R.clientWidth)&&(x=b+d.scrollX+v+1),w+T>C&&(A-=T-E+1),$C(rR,this).setPosition(x,A),$C(rR,this).setReadOnlyState(this.getCommentMeta(o,s,eR)),$C(rR,this).observeSize()}focusEditor(){$C(rR,this).focus()}updateCommentMeta(e,t,n){const r=this.hot.getCellMeta(e,t)[JC];let i;r?(i=vn(r),gn(i,n)):i=n,this.hot.setCellMeta(e,t,JC,i)}getCommentMeta(e,t,n){const r=this.hot.getCellMeta(e,t);if(r[JC])return r[JC][n]}addToContextMenu(e){e.items.push({name:MC},RC(this),xC(this),UC(this))}getDisplayDelaySetting(){const e=this.hot.getSettings()[KC];if(_n(e))return e.displayDelay}getEditorInputElement(){return $C(rR,this).getInputElement()}destroy(){var e,t;null===(e=$C(rR,this))||void 0===e||e.destroy(),null===(t=$C(iR,this))||void 0===t||t.destroy(),super.destroy()}}function hR(e){if(this.hot.view&&this.hot.view._wt&&!$C(oR,this)&&!this.targetIsCommentTextArea(e)){const t=et(e.target,"TD","TBODY");let n=null;t&&(n=this.hot.getCoords(t)),(!t||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}}function dR(e){const{rootDocument:t}=this.hot;if(!($C(oR,this)||$C(rR,this).isFocused()||at(e.target,"wtBorder")||$C(aR,this)===e.target)&&$C(rR,this))if(GC(aR,this,t.elementFromPoint(e.clientX,e.clientY)),this.targetIsCellWithComment(e)){const t=this.hot._createCellRange(this.hot.getCoords(e.target));$C(iR,this).show(t)}else nt(e.target,t)&&!this.targetIsCommentTextArea(e)&&$C(iR,this).hide()}function fR(){GC(oR,this,!1)}function pR(e,t){t[JC]&&t[JC][QC]&&lt(e,t.commentedCellClassName)}function mR(){GC(lR,this,""),this.hot.getShortcutManager().setActiveContextName("grid"),this.setComment()}function gR(){GC(lR,this,this.getComment()),this.hot.listen(),this.hot.getShortcutManager().setActiveContextName(nR)}function vR(e,t){this.updateCommentMeta(this.range.from.row,this.range.from.col,{[ZC]:{width:e,height:t}})}function yR(e){$C(rR,this).isVisible()&&sr(e)}function bR(){$C(sR,this)||this.hide()}n(2640);function wR(e,t,n){return(t=_R(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _R(e){var t=ER(e,"string");return"symbol"==typeof t?t:t+""}function ER(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class SR{constructor(e){wR(this,"hot",void 0),wR(this,"commands",{}),wR(this,"commonCallback",null),this.hot=e}registerCommand(e,t){this.commands[e]=t}setCommonCallback(e){this.commonCallback=e}execute(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=e.split(":"),o=i[0],s=2===i.length?i[1]:null;let a=this.commands[o];if(!a)throw new Error(`Menu command '${o}' not exists.`);if(s&&a.submenu&&(a=TR(s,a.submenu.items)),!0===a.disabled)return;if("function"===typeof a.disabled&&!0===a.disabled.call(this.hot))return;if(xn(a,"submenu"))return;const l=[];"function"===typeof a.callback&&l.push(a.callback),"function"===typeof this.commonCallback&&l.push(this.commonCallback),n.unshift(i.join(":")),C(l,(e=>e.apply(this.hot,n)))}}function TR(e,t){let n;return C(t,(t=>{const r=t.key?t.key.split(":"):null;if(Array.isArray(r)&&r[1]===e)return n=t,!1})),n}const MR="alignment";function CR(){return{key:MR,name(){return this.getTranslatedPhrase(sf)},disabled(){if(0===this.countRows()||0===this.countCols())return!0;const e=this.getSelectedRangeLast();return!e||(!!e.isSingleHeader()||!(this.getSelectedRange()&&!this.selection.isSelectedByCorner()))},submenu:{items:[{key:`${MR}:left`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(af)},ariaChecked(){return HC(this,"htLeft")},name(){let e=this.getTranslatedPhrase(af);return HC(this,"htLeft")&&(e=IC(e)),e},callback(){const e=this.getSelectedRange(),t=LC(e,((e,t)=>this.getCellMeta(e,t).className)),n="horizontal",r="htLeft";this.runHooks("beforeCellAlignment",t,e,n,r),kC(e,n,r,((e,t)=>this.getCellMeta(e,t)),((e,t,n,r)=>this.setCellMeta(e,t,n,r))),this.render()},disabled:!1},{key:`${MR}:center`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(lf)},ariaChecked(){return HC(this,"htCenter")},name(){let e=this.getTranslatedPhrase(lf);return HC(this,"htCenter")&&(e=IC(e)),e},callback(){const e=this.getSelectedRange(),t=LC(e,((e,t)=>this.getCellMeta(e,t).className)),n="horizontal",r="htCenter";this.runHooks("beforeCellAlignment",t,e,n,r),kC(e,n,r,((e,t)=>this.getCellMeta(e,t)),((e,t,n,r)=>this.setCellMeta(e,t,n,r))),this.render()},disabled:!1},{key:`${MR}:right`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(uf)},ariaChecked(){return HC(this,"htRight")},name(){let e=this.getTranslatedPhrase(uf);return HC(this,"htRight")&&(e=IC(e)),e},callback(){const e=this.getSelectedRange(),t=LC(e,((e,t)=>this.getCellMeta(e,t).className)),n="horizontal",r="htRight";this.runHooks("beforeCellAlignment",t,e,n,r),kC(e,n,r,((e,t)=>this.getCellMeta(e,t)),((e,t,n,r)=>this.setCellMeta(e,t,n,r))),this.render()},disabled:!1},{key:`${MR}:justify`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(cf)},ariaChecked(){return HC(this,"htJustify")},name(){let e=this.getTranslatedPhrase(cf);return HC(this,"htJustify")&&(e=IC(e)),e},callback(){const e=this.getSelectedRange(),t=LC(e,((e,t)=>this.getCellMeta(e,t).className)),n="horizontal",r="htJustify";this.runHooks("beforeCellAlignment",t,e,n,r),kC(e,n,r,((e,t)=>this.getCellMeta(e,t)),((e,t,n,r)=>this.setCellMeta(e,t,n,r))),this.render()},disabled:!1},{name:MC},{key:`${MR}:top`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(hf)},ariaChecked(){return HC(this,"htTop")},name(){let e=this.getTranslatedPhrase(hf);return HC(this,"htTop")&&(e=IC(e)),e},callback(){const e=this.getSelectedRange(),t=LC(e,((e,t)=>this.getCellMeta(e,t).className)),n="vertical",r="htTop";this.runHooks("beforeCellAlignment",t,e,n,r),kC(e,n,r,((e,t)=>this.getCellMeta(e,t)),((e,t,n,r)=>this.setCellMeta(e,t,n,r))),this.render()},disabled:!1},{key:`${MR}:middle`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(df)},ariaChecked(){return HC(this,"htMiddle")},name(){let e=this.getTranslatedPhrase(df);return HC(this,"htMiddle")&&(e=IC(e)),e},callback(){const e=this.getSelectedRange(),t=LC(e,((e,t)=>this.getCellMeta(e,t).className)),n="vertical",r="htMiddle";this.runHooks("beforeCellAlignment",t,e,n,r),kC(e,n,r,((e,t)=>this.getCellMeta(e,t)),((e,t,n,r)=>this.setCellMeta(e,t,n,r))),this.render()},disabled:!1},{key:`${MR}:bottom`,checkable:!0,ariaLabel(){return this.getTranslatedPhrase(ff)},ariaChecked(){return HC(this,"htBottom")},name(){let e=this.getTranslatedPhrase(ff);return HC(this,"htBottom")&&(e=IC(e)),e},callback(){const e=this.getSelectedRange(),t=LC(e,((e,t)=>this.getCellMeta(e,t).className)),n="vertical",r="htBottom";this.runHooks("beforeCellAlignment",t,e,n,r),kC(e,n,r,((e,t)=>this.getCellMeta(e,t)),((e,t,n,r)=>this.setCellMeta(e,t,n,r))),this.render()},disabled:!1}]}}}const RR="clear_column";function xR(){return{key:RR,name(){return this.getTranslatedPhrase(zd)},callback(e,t){const n=t[0].start.col,r=t[0].end.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(t[0].start.row,t[0].end.row),r,"ContextMenu.clearColumn")},disabled(){const e=this.getSelectedRangeLast();return!e||(!!(e.isSingleHeader()&&e.highlight.col<0)||!this.selection.isSelectedByColumnHeader())}}}const AR="col_left";function NR(){return{key:AR,name(){return this.getTranslatedPhrase(Hd)},callback(){const e=this.getSelectedRangeLast().getTopLeftCorner(),t=this.isRtl()?"insert_col_end":"insert_col_start";this.alter(t,e.col,1,"ContextMenu.columnLeft")},disabled(){if(!this.isColumnModificationAllowed())return!0;const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader()&&e.highlight.col<0)return!0;if(this.selection.isSelectedByCorner()){const e=this.countCols();return 0===e}return this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols},hidden(){return!this.getSettings().allowInsertColumn}}}const LR="col_right";function kR(){return{key:LR,name(){return this.getTranslatedPhrase(Ud)},callback(){const e=this.getSelectedRangeLast().getTopRightCorner(),t=this.isRtl()?"insert_col_start":"insert_col_end";this.alter(t,e.col,1,"ContextMenu.columnRight")},disabled(){if(!this.isColumnModificationAllowed())return!0;const e=this.getSelectedRangeLast();return!e||(!!(e.isSingleHeader()&&e.highlight.col<0)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByRowHeader()||this.countCols()>=this.getSettings().maxCols))},hidden(){return!this.getSettings().allowInsertColumn}}}const OR="make_read_only";function IR(){return{key:OR,checkable:!0,ariaChecked(){const e=PC(this.getSelectedRange(),((e,t)=>this.getCellMeta(e,t).readOnly));return e},ariaLabel(){return this.getTranslatedPhrase(Wd)},name(){let e=this.getTranslatedPhrase(Wd);const t=PC(this.getSelectedRange(),((e,t)=>this.getCellMeta(e,t).readOnly));return t&&(e=IC(e)),e},callback(){const e=this.getSelectedRange(),t=PC(e,((e,t)=>this.getCellMeta(e,t).readOnly));C(e,(e=>{e.forAll(((e,n)=>{e>=0&&n>=0&&this.setCellMeta(e,n,"readOnly",!t)}))})),this.render()},disabled(){const e=this.getSelectedRangeLast();return!e||(!!e.isSingleHeader()||(!!this.selection.isSelectedByCorner()||(0===this.countRows()||0===this.countCols()||(!this.getSelectedRange()||0===this.getSelectedRange().length))))}}}const PR="redo";function DR(){return{key:PR,name(){return this.getTranslatedPhrase(Vd)},callback(){this.redo()},hidden(){const e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isRedoAvailable()}}}const FR="remove_col";function HR(){return{key:FR,name(){const e=this.getSelected();let t=0;if(e)if(e.length>1)t=1;else{const[,n,,r]=e[0];n-r!==0&&(t=1)}return this.getTranslatedPhrase(jd,t)},callback(){this.alter("remove_col",Um(this),null,"ContextMenu.removeColumn")},disabled(){if(!this.isColumnModificationAllowed())return!0;const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader()&&e.highlight.col<0)return!0;const t=this.countCols();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByRowHeader()||0===t},hidden(){return!this.getSettings().allowRemoveColumn}}}const UR="remove_row";function BR(){return{key:UR,name(){const e=this.getSelected();let t=0;if(e)if(e.length>1)t=1;else{const[n,,r]=e[0];n-r!==0&&(t=1)}return this.getTranslatedPhrase(Bd,t)},callback(){this.alter("remove_row",Bm(this),1,"ContextMenu.removeRow")},disabled(){const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader()&&e.highlight.row<0)return!0;const t=this.countRows();return this.selection.isSelectedByCorner()?0===t:this.selection.isSelectedByColumnHeader()||0===t},hidden(){return!this.getSettings().allowRemoveRow}}}const jR="row_above";function YR(){return{key:jR,name(){return this.getTranslatedPhrase(Dd)},callback(){const e=this.getSelectedRangeLast().getTopLeftCorner();this.alter("insert_row_above",e.row,1,"ContextMenu.rowAbove")},disabled(){const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader()&&e.highlight.row<0)return!0;if(this.selection.isSelectedByCorner()){const e=this.countRows();return 0===e}return this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows},hidden(){return!this.getSettings().allowInsertRow}}}const VR="row_below";function WR(){return{key:VR,name(){return this.getTranslatedPhrase(Fd)},callback(){const e=this.getSelectedRangeLast().getBottomRightCorner();this.alter("insert_row_below",e.row,1,"ContextMenu.rowBelow")},disabled(){const e=this.getSelectedRangeLast();return!e||(!!(e.isSingleHeader()&&e.highlight.row<0)||!this.selection.isSelectedByCorner()&&(this.selection.isSelectedByColumnHeader()||this.countRows()>=this.getSettings().maxRows))},hidden(){return!this.getSettings().allowInsertRow}}}const zR="no_items";function GR(){return{key:zR,name(){return this.getTranslatedPhrase(Pd)},disabled:!0,isCommand:!1}}const $R="undo";function qR(){return{key:$R,name(){return this.getTranslatedPhrase(Yd)},callback(){this.undo()},hidden(){const e=this.getPlugin("undoRedo");return!e||!e.isEnabled()},disabled(){return!this.getPlugin("undoRedo").isUndoAvailable()}}}const KR=[jR,VR,AR,LR,RR,UR,FR,$R,PR,OR,MR,MC,zR],XR={[MC]:CC,[zR]:GR,[jR]:YR,[VR]:WR,[AR]:NR,[LR]:kR,[RR]:xR,[UR]:BR,[FR]:HR,[$R]:qR,[PR]:DR,[OR]:IR,[MR]:CR};function JR(){const e={};return Sn(XR,((t,n)=>{e[n]=t()})),e}function QR(e,t,n){return(t=ZR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZR(e){var t=ex(e,"string");return"symbol"==typeof t?t:t+""}function ex(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class tx{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;QR(this,"hot",void 0),QR(this,"predefinedItems",JR()),QR(this,"defaultOrderPattern",void 0),this.hot=e,this.defaultOrderPattern=t}setPredefinedItems(e){const t={};this.defaultOrderPattern.length=0,Sn(e,((e,n)=>{let r="";e.name===MC?(t[MC]=e,r=MC):isNaN(parseInt(n,10))?(e.key=void 0===e.key?n:e.key,t[n]=e,r=e.key):(t[e.key]=e,r=e.key),this.defaultOrderPattern.push(r)})),this.predefinedItems=t}getItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return nx(e,this.defaultOrderPattern,this.predefinedItems)}}function nx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[];let i=e;return i&&i.items?i=i.items:Array.isArray(i)||(i=t),_n(i)?Sn(i,((e,t)=>{let i=n["string"===typeof e?e:t];i||(i=e),_n(e)?mn(i,e):"string"===typeof i&&(i={name:i}),void 0===i.key&&(i.key=t),r.push(i)})):C(i,((e,t)=>{let i=n[e];!i&&KR.indexOf(e)>=0||(i||(i={name:e,key:`${t}`}),_n(e)&&mn(i,e),void 0===i.key&&(i.key=t),r.push(i))})),r}function rx(e,t,n){return(t=ix(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ix(e){var t=ox(e,"string");return"symbol"==typeof t?t:t+""}function ox(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class sx{constructor(e,t){rx(this,"top",void 0),rx(this,"topRelative",void 0),rx(this,"left",void 0),rx(this,"leftRelative",void 0),rx(this,"scrollTop",void 0),rx(this,"scrollLeft",void 0),rx(this,"cellHeight",void 0),rx(this,"cellWidth",void 0);const n=t.scrollY,r=t.scrollX;let i,o,s,a,l,u;this.rootWindow=t,this.type=this.getSourceType(e),"literal"===this.type?(i=parseInt(e.top,10),s=parseInt(e.left,10),l=e.height||0,u=e.width||0,o=i,a=s,i+=n,s+=r):"event"===this.type&&(i=parseInt(e.pageY,10),s=parseInt(e.pageX,10),l=e.target.clientHeight,u=e.target.clientWidth,o=i-n,a=s-r),this.top=i,this.topRelative=o,this.left=s,this.leftRelative=a,this.scrollTop=n,this.scrollLeft=r,this.cellHeight=l,this.cellWidth=u}getSourceType(e){let t="literal";return e instanceof Event&&(t="event"),t}fitsAbove(e){return this.topRelative>=e.offsetHeight}fitsBelow(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerHeight;return this.topRelative+e.offsetHeight<=t}fitsOnRight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rootWindow.innerWidth;return this.leftRelative+this.cellWidth+e.offsetWidth<=t}fitsOnLeft(e){return this.leftRelative>=e.offsetWidth}}function ax(e,t,n){lx(e,t),t.set(e,n)}function lx(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ux(e,t){return e.get(hx(e,t))}function cx(e,t,n){return e.set(hx(e,t),n),n}function hx(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var dx=new WeakMap,fx=new WeakMap,px=new WeakMap,mx=new WeakMap,gx=new WeakMap;class vx{constructor(e){ax(this,dx,void 0),ax(this,fx,void 0),ax(this,px,void 0),ax(this,mx,!1),ax(this,gx,{above:0,below:0,left:0,right:0}),cx(mx,this,e)}setOffset(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ux(gx,this)[e]=t,this}setElement(e){return cx(dx,this,e),this}setParentElement(e){return cx(fx,this,e),this}updatePosition(e){cx(px,this,new sx(e,ux(dx,this).ownerDocument.defaultView)),ux(mx,this)?(ux(px,this).fitsBelow(ux(dx,this))?this.setPositionBelowCursor():ux(px,this).fitsAbove(ux(dx,this))?this.setPositionAboveCursor():this.setPositionBelowCursor(),this.updateHorizontalPosition()):(this.setPositionBelowCursor(),this.setPositionOnRightOfCursor())}updateHorizontalPosition(){"rtl"===ux(dx,this).dir?ux(px,this).fitsOnLeft(ux(dx,this))?this.setPositionOnLeftOfCursor():this.setPositionOnRightOfCursor():ux(px,this).fitsOnRight(ux(dx,this))?this.setPositionOnRightOfCursor():this.setPositionOnLeftOfCursor()}setPositionAboveCursor(){let e=ux(gx,this).above+ux(px,this).top-ux(dx,this).offsetHeight;ux(fx,this)&&(e=ux(px,this).top+ux(px,this).cellHeight-ux(dx,this).offsetHeight+3),ux(dx,this).style.top=`${e}px`}setPositionBelowCursor(){let e=ux(gx,this).below+ux(px,this).top+1;ux(fx,this)&&(e=ux(px,this).top-1),ux(dx,this).style.top=`${e}px`}setPositionOnRightOfCursor(){let e=ux(px,this).left;if(ux(fx,this)){const t=Number.parseInt(getComputedStyle(ux(fx,this).querySelector(".htCore")).borderRightWidth,10);e+=ux(px,this).cellWidth+t}else e+=ux(gx,this).right;ux(dx,this).style.left=`${e}px`}setPositionOnLeftOfCursor(){let e=ux(gx,this).left+ux(px,this).left-ux(dx,this).offsetWidth;if(ux(fx,this)){const t=Number.parseInt(getComputedStyle(ux(fx,this).querySelector(".htCore")).borderLeftWidth,10);e-=t}ux(dx,this).style.left=`${e}px`}}function yx(e){let{initialPage:t=-1,size:n=(()=>0),onItemSelect:r=(()=>{}),onClear:i=(()=>{})}=e;const o=new Set;let s=Oi(t,-1,p()-1);function a(e,t){const n=p()-1;if(e<0&&(e=n),e>n&&(e=0),o.has(e))return-1;o.add(e);const i=r(e,!1);return!1===i&&(e=a(1===t?++e:--e,t)),e}function l(e){e>-1&&e<p()&&!1!==r(e,!0)&&(s=e)}function u(){return s}function c(){p()>0&&(o.clear(),s=a(0,1))}function h(){p()>0&&(o.clear(),s=a(p()-1,-1))}function d(){p()>0&&(o.clear(),s=a(++s,1))}function f(){p()>0&&(o.clear(),s=a(--s,-1))}function p(){return Math.max(n(),0)}function m(){o.clear(),s=t,i()}return{setCurrentPage:l,getCurrentPage:u,toFirstItem:c,toLastItem:h,toNextItem:d,toPreviousItem:f,getSize:p,clear:m}}function bx(e){return M(e,(e=>({start:e.getTopStartCorner(),end:e.getBottomEndCorner()})))}function wx(e){return xn(e,"submenu")}function _x(e){return new RegExp(MC,"i").test(e.name)}function Ex(e,t){return!0===e.disabled||"function"===typeof e.disabled&&!0===e.disabled.call(t)}function Sx(e){return xn(e,"disableSelection")}function Tx(e){return at(e,"htSeparator")}function Mx(e){return at(e,"htSubmenu")}function Cx(e){return at(e,"htDisabled")}function Rx(e){return at(e,"htSelectionDisabled")}function xx(e,t){return!e.hidden||!("function"===typeof e.hidden&&e.hidden.call(t))}function Ax(e,t){const n=e.slice(0);for(let r=0;r<n.length;){if(n[r].name!==t)break;n.shift()}return n}function Nx(e,t){let n=e.slice(0);return n.reverse(),n=Ax(n,t),n.reverse(),n}function Lx(e){const t=[];return C(e,((e,n)=>{n>0?t[t.length-1].name!==e.name&&t.push(e):t.push(e)})),t}function kx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:MC,n=e.slice(0);return n=Ax(n,t),n=Nx(n,t),n=Lx(n),n}function Ox(e){return!0===e.checkable}function Ix(e){return yx({size:()=>e.countRows(),onItemSelect(t,n){const r=e.getCell(t,0);if(!r||Tx(r)||Cx(r)||Rx(r))return!1;e.selectCell(t,0,...n?[t,0,!1,!1]:[])},onClear(){e.deselectCell()}})}function Px(e){const{hot:t,hotMenu:n}=e;return[{keys:[["Control/Meta","A"]],forwardToContext:t.getShortcutManager().getContext("grid"),callback:()=>e.close(!0)},{keys:[["Tab"],["Shift","Tab"]],callback:(n,r)=>{const i=t.getSettings(),o="function"===typeof i.tabMoves?i.tabMoves(n):i.tabMoves;r.includes("shift")?t.selection.transformStart(-o.row,-o.col):t.selection.transformStart(o.row,o.col),e.close(!0)}},{keys:[["Escape"]],callback:()=>e.close()},{keys:[["ArrowDown"]],callback:()=>e.getNavigator().toNextItem()},{keys:[["ArrowUp"]],callback:()=>e.getNavigator().toPreviousItem()},{keys:[["ArrowRight"]],callback:()=>{const t=n.getSelectedLast();if(t){const n=e.openSubMenu(t[0]);n&&n.getNavigator().toFirstItem()}}},{keys:[["ArrowLeft"]],callback:()=>{const t=n.getSelectedLast();t&&e.isSubMenu()&&(e.close(),e.isSubMenu()&&e.parentMenu.hotMenu.listen())}},{keys:[["Control/Meta","ArrowUp"],["Home"]],callback:()=>e.getNavigator().toFirstItem()},{keys:[["Control/Meta","ArrowDown"],["End"]],callback:()=>e.getNavigator().toLastItem()},{keys:[["Enter"],["Space"]],callback:t=>{const r=n.getSelectedLast();r&&(n.getSourceDataAtRow(r[0]).submenu?e.openSubMenu(r[0]).getNavigator().toFirstItem():(e.executeCommand(t),e.close(!0)))}},{keys:[["PageUp"]],callback:()=>{const t=n.getSelectedLast();t?n.selection.transformStart(-n.countVisibleRows(),0):e.getNavigator().toFirstItem()}},{keys:[["PageDown"]],callback:()=>{const t=n.getSelectedLast();t?n.selection.transformStart(n.countVisibleRows(),0):e.getNavigator().toLastItem()}}]}const Dx="menu",Fx=Dx;function Hx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];function r(e,t){a(t).addShortcuts(e,{group:Dx})}function i(e,t){const i=a(t);e.forEach((e=>{let{keys:t}=e;t.forEach((e=>i.removeShortcutsByKeys(e)))})),n.push({shortcuts:e,contextName:t}),r(e,t)}function o(){return[...n]}function s(e){return e?`${Fx}:${e}`:Fx}function a(t){var n;const r=e.hotMenu.getShortcutManager(),i=s(t);return null!==(n=r.getContext(i))&&void 0!==n?n:r.addContext(i)}function l(t){e.hotMenu.getShortcutManager().setActiveContextName(s(t))}return r(Px(e)),t.forEach((e=>{let{shortcuts:t,contextName:n}=e;i(t,n)})),{addCustomShortcuts:i,getCustomShortcuts:o,getContext:a,listen:l}}function Ux(e){return(t,n,r,i,o,s)=>{const a=t.getSourceDataAtRow(r),l=e.rootDocument.createElement("div"),u="function"===typeof s?s.call(e):s,c="function"===typeof a.ariaLabel?a.ariaLabel.call(e):a.ariaLabel,h="function"===typeof a.ariaChecked?a.ariaChecked.call(e):a.ariaChecked;if(ft(n),lt(l,"htItemWrapper"),e.getSettings().ariaTags){const t=!Ex(a,e)&&!Sx(a)&&!_x(a);ct(n,[...Ox(a)?[be(),Re(c),Be(h)]:[ye(),Re(u)],...t?[ue(-1)]:[],...Ex(a,e)?[Ae()]:[],...wx(a)?[De(!1)]:[]])}n.className="",n.appendChild(l),_x(a)?lt(n,"htSeparator"):"function"===typeof a.renderer?(lt(n,"htCustomMenuRenderer"),n.appendChild(a.renderer(t,l,r,i,o,u))):mt(l,u),Ex(a,e)?lt(n,"htDisabled"):Sx(a)?lt(n,"htSelectionDisabled"):wx(a)&&lt(n,"htSubmenu")}}function Bx(e,t,n){jx(e,t),t.set(e,n)}function jx(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Yx(e,t,n){return(t=Vx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vx(e){var t=Wx(e,"string");return"symbol"==typeof t?t:t+""}function Wx(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zx(e,t,n){return e.set($x(e,t),n),n}function Gx(e,t){return e.get($x(e,t))}function $x(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const qx=215;var Kx=new WeakMap,Xx=new WeakMap,Jx=new WeakMap;class Qx{get tableBorderWidth(){return void 0===Gx(Jx,this)&&this.hotMenu&&zx(Jx,this,parseInt(At(this.hotMenu.view._wt.wtTable.TABLE).borderWidth,10)),Gx(Jx,this)}constructor(e,t){var n=this;Yx(this,"hot",void 0),Yx(this,"options",void 0),Yx(this,"eventManager",new Wr(this)),Yx(this,"container",void 0),Yx(this,"positioner",void 0),Yx(this,"hotMenu",null),Yx(this,"hotSubMenus",{}),Yx(this,"parentMenu",void 0),Yx(this,"menuItems",null),Yx(this,"origOutsideClickDeselects",null),Bx(this,Kx,void 0),Bx(this,Xx,void 0),Bx(this,Jx,void 0),this.hot=e,this.options=t||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1,minWidth:qx,container:this.hot.rootDocument.documentElement},this.container=this.createContainer(this.options.name),this.positioner=new vx(this.options.keepInViewport),this.parentMenu=this.options.parent||null,this.registerEvents(),this.isSubMenu()&&this.addLocalHook("afterSelectionChange",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.parentMenu.runLocalHooks("afterSelectionChange",...t)}))}registerEvents(){let e=this.hot.rootWindow;while(e)this.eventManager.addEventListener(e.document,"mousedown",(e=>this.onDocumentMouseDown(e))),this.eventManager.addEventListener(e.document,"touchstart",(e=>this.onDocumentMouseDown(e))),this.eventManager.addEventListener(e.document,"contextmenu",(e=>this.onDocumentContextMenu(e))),e=Qe(e)}setMenuItems(e){this.menuItems=e}getNavigator(){return Gx(Kx,this)}getKeyboardShortcutsCtrl(){return Gx(Xx,this)}getSelectedItem(){return this.hasSelectedItem()?this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]):null}hasSelectedItem(){return Array.isArray(this.hotMenu.getSelectedLast())}isSubMenu(){return null!==this.parentMenu}open(){this.runLocalHooks("beforeOpen"),this.container.removeAttribute("style"),this.container.style.display="block";const e=an((e=>this.openSubMenu(e)),300),t=this.options.minWidth||qx;let n=!1,r=T(this.menuItems,(e=>(e.key===zR&&(n=!0),xx(e,this.hot))));if(r.length<1&&!n)r.push(JR()[zR]);else if(0===r.length)return;r=kx(r,MC);let i=!1;const o={data:r,colHeaders:!1,autoColumnSize:!0,autoWrapRow:!1,modifyColWidth(e){return U(e)&&e<t?t:e},autoRowSize:!1,readOnly:!0,editor:!1,copyPaste:!1,hiddenRows:!0,maxCols:1,columns:[{data:"name",renderer:Ux(this.hot)}],renderAllRows:!0,fragmentSelection:!1,outsideClickDeselects:!1,disableVisualSelection:"area",layoutDirection:this.hot.isRtl()?"rtl":"ltr",ariaTags:!1,beforeOnCellMouseOver:(e,t)=>{Gx(Kx,this).setCurrentPage(t.row)},afterOnCellMouseOver:(t,n)=>{this.isAllSubMenusClosed()?e(n.row):this.openSubMenu(n.row)},rowHeights:e=>r[e].name===MC?1:void 0,afterOnCellContextMenu:e=>{e.preventDefault(),Xn()&&i&&this.hasSelectedItem()&&this.close(!0)},afterSelection:(e,t,n,r,i)=>{this.hotMenu.view.isMouseDown()&&(i.value=!0),this.runLocalHooks("afterSelectionChange",this.getSelectedItem())},beforeOnCellMouseUp:e=>{this.hasSelectedItem()&&(i=!this.isCommandPassive(this.getSelectedItem()),this.executeCommand(e))},afterOnCellMouseUp:e=>{Xn()&&lr(e)||!i||!this.hasSelectedItem()||($n()||Kn()?this.hot._registerTimeout((()=>this.close(!0)),325):this.close(!0))},afterUnlisten:()=>{!this.hasSelectedItem()&&this.isOpened()&&this.hotMenu.listen()}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new this.hot.constructor(this.container,o),this.hotMenu.addHook("afterInit",(()=>this.onAfterInit())),this.hotMenu.init(),zx(Kx,this,Ix(this.hotMenu)),zx(Xx,this,Hx(this)),Gx(Xx,this).listen(),this.focus(),this.isSubMenu()&&this.addLocalHook("afterOpen",(()=>this.parentMenu.runLocalHooks("afterSubmenuOpen",this))),this.runLocalHooks("afterOpen",this)}close(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isOpened())if(e&&this.isSubMenu())this.parentMenu.close();else if(Gx(Kx,this).clear(),this.closeAllSubMenus(),this.container.style.display="none",this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.isSubMenu()){if(this.hot.getSettings().ariaTags){const e=this.parentMenu.hotMenu.getSelectedLast();if(e){const t=this.parentMenu.hotMenu.getCell(e[0],0);ct(t,[De(!1)])}}this.parentMenu.hotMenu.listen()}}openSubMenu(e){if(!this.hotMenu)return!1;const t=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!t||!Mx(t))return!1;const n=this.hotMenu.getSourceDataAtRow(e),r=new Qx(this.hot,{parent:this,name:n.name,className:this.options.className,keepInViewport:!0,container:this.options.container});return r.setMenuItems(n.submenu.items),r.open(),r.setPosition(t.getBoundingClientRect()),this.hotSubMenus[n.key]=r,this.hot.getSettings().ariaTags&&ct(t,[De(!0)]),r}closeSubMenu(e){const t=this.hotMenu.getSourceDataAtRow(e),n=this.hotSubMenus[t.key];if(n){n.destroy(),delete this.hotSubMenus[t.key];const r=this.hotMenu.getCell(e,0);this.hot.getSettings().ariaTags&&ct(r,[De(!1)])}}closeAllSubMenus(){C(this.hotMenu.getData(),((e,t)=>this.closeSubMenu(t)))}isAllSubMenusClosed(){return 0===Object.keys(this.hotSubMenus).length}focus(){this.isOpened()&&(this.hotMenu.rootElement.focus({preventScroll:!0}),this.getKeyboardShortcutsCtrl().listen(),this.hotMenu.listen())}destroy(){const e=this.container.parentNode;this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy(),e&&e.removeChild(this.container)}isOpened(){return null!==this.hotMenu}executeCommand(e){if(!this.isOpened()||!this.hasSelectedItem())return;const t=this.getSelectedItem();if(this.runLocalHooks("select",t,e),this.isCommandPassive(t))return;const n=this.hot.getSelectedRange(),r=n?bx(n):[];this.runLocalHooks("executeCommand",t.key,r,e),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",t.key,r,e)}isCommandPassive(e){return!1===e.isCommand||_x(e)||Ex(e,this.hot)||wx(e)}setOffset(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.positioner.setOffset(e,t)}setPosition(e){this.isSubMenu()&&this.positioner.setParentElement(this.parentMenu.container),this.positioner.setElement(this.container).updatePosition(e)}updateMenuDimensions(){const{wtTable:e}=this.hotMenu.view._wt,t=this.hotMenu.getSettings().data,n=e.hider.style,r=e.holder.style,i=parseInt(n.width,10),o=S(t,((e,t,n)=>{const r=this.hotMenu.getCell(n,0),i=r?Lt(this.hotMenu.getCell(n,0)):0;return e+(t.name===MC?1:i)}),0);r.width=`${i+3}px`,r.height=`${o+3}px`,n.height=r.height}createContainer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this.options.container.ownerDocument;let n,r=e;return r&&(rn(r)&&(r=r.call(this.hot),r=null===r||B(r)?"":r.toString()),r=r.replace(/[^A-z0-9]/g,"_"),r=`${this.options.className}Sub_${r}`,n=t.querySelector(`.${this.options.className}.${r}`)),n||(n=t.createElement("div"),lt(n,`htMenu ${this.options.className}`),r&&lt(n,r),this.options.container.appendChild(n)),n}onAfterInit(){this.updateMenuDimensions(),this.hot.getSettings().ariaTags&&ct(this.hotMenu.rootElement,[ve(),ue(-1)])}onDocumentMouseDown(e){this.isOpened()&&(this.options.standalone&&this.hotMenu&&!nt(e.target,this.hotMenu.rootElement)?this.close(!0):!this.isAllSubMenusClosed()&&!this.isSubMenu()||nt(e.target,".htMenu")||this.close(!0))}onDocumentContextMenu(e){this.isOpened()&&at(e.target,"htCore")&&nt(e.target,this.hotMenu.rootElement)&&e.preventDefault()}}function Zx(e,t){eA(e,t),t.add(e)}function eA(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tA(e,t,n){return(t=nA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nA(e){var t=rA(e,"string");return"symbol"==typeof t?t:t+""}function rA(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function iA(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}bn(Qx,Mh);const oA="contextMenu",sA=70,aA=oA;Mr.getSingleton().register("afterContextMenuDefaultOptions"),Mr.getSingleton().register("beforeContextMenuShow"),Mr.getSingleton().register("afterContextMenuShow"),Mr.getSingleton().register("afterContextMenuHide"),Mr.getSingleton().register("afterContextMenuExecute");var lA=new WeakSet;class uA extends tE{constructor(){super(...arguments),Zx(this,lA),tA(this,"commandExecutor",new SR(this.hot)),tA(this,"itemsFactory",null),tA(this,"menu",null)}static get PLUGIN_KEY(){return oA}static get PLUGIN_PRIORITY(){return sA}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[jR,VR,MC,AR,LR,MC,UR,FR,MC,$R,PR,MC,OR,MC,MR]}isEnabled(){return!!this.hot.getSettings()[oA]}enablePlugin(){var e=this;if(this.enabled)return;const t=this.hot.getSettings()[oA];"function"===typeof t.callback&&this.commandExecutor.setCommonCallback(t.callback),this.menu=new Qx(this.hot,{className:"htContextMenu",keepInViewport:!0,container:t.uiContainer||this.hot.rootDocument.body}),this.menu.addLocalHook("beforeOpen",(()=>iA(lA,this,hA).call(this))),this.menu.addLocalHook("afterOpen",(()=>iA(lA,this,dA).call(this))),this.menu.addLocalHook("afterClose",(()=>iA(lA,this,fA).call(this))),this.menu.addLocalHook("executeCommand",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.executeCommand.call(e,...n)})),this.addHook("afterOnCellContextMenu",(e=>iA(lA,this,cA).call(this,e))),this.registerShortcuts(),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Control/Meta","Shift","Backslash"],["Shift","F10"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();this.hot.scrollToFocusedCell();const t=this.hot.getCell(e.row,e.col,!0).getBoundingClientRect(),n=DC(this.menu.container,this.hot.rootDocument);this.open({left:t.left+n.left,top:t.top+n.top-1+t.height},{left:t.width,above:-t.height}),this.menu.getNavigator().toFirstItem()},runOnlyIf:()=>{var e;const t=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return t&&this.hot.selection.isCellVisible(t)&&!this.menu.isOpened()},group:aA})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(aA)}open(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{above:0,below:0,left:0,right:0};if(null!==(t=this.menu)&&void 0!==t&&t.isOpened())return;this.prepareMenuItems(),this.menu.open();const r=this.menu.tableBorderWidth>0;r||(n.below+=1,n.right+=1,n.above-=1,n.left-=1),Sn(n,((e,t)=>{this.menu.setOffset(t,e)})),this.menu.setPosition(e)}close(){var e;null===(e=this.menu)||void 0===e||e.close(),this.itemsFactory=null}executeCommand(e){null===this.itemsFactory&&this.prepareMenuItems();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.commandExecutor.execute(e,...n)}prepareMenuItems(){this.itemsFactory=new tx(this.hot,uA.DEFAULT_ITEMS);const e=this.hot.getSettings()[oA],t={items:this.itemsFactory.getItems(e)};this.hot.runHooks("afterContextMenuDefaultOptions",t),this.itemsFactory.setPredefinedItems(t.items);const n=this.itemsFactory.getItems(e);this.hot.runHooks("beforeContextMenuSetItems",n),this.menu.setMenuItems(n),C(n,(e=>this.commandExecutor.registerCommand(e.key,e)))}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function cA(e){const t=this.hot.getSettings(),n=t.rowHeaders,r=t.colHeaders;function i(e){return"TD"===e.nodeName||"TD"===e.parentNode.nodeName}const o=e.target;if(this.close(),at(o,"handsontableInput"))return;if(e.preventDefault(),e.stopPropagation(),!n&&!r&&!i(o)&&(!at(o,"current")||!at(o,"wtBorder")))return;const s=DC(this.menu.container,this.hot.rootDocument);this.open({top:e.clientY+s.top,left:e.clientX+s.left})}function hA(){this.hot.runHooks("beforeContextMenuShow",this)}function dA(){this.hot.runHooks("afterContextMenuShow",this)}function fA(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}function pA(e){return{key:"copy",name(){return this.getTranslatedPhrase(Gd)},callback(){e.copyCellsOnly()},disabled(){if(0===this.countRows()||0===this.countCols())return!0;const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader())return!0;const t=this.getSelected();return!t||t.length>1},hidden:!1}}function mA(e){return{key:"copy_column_headers_only",name(){const e=this.getSelectedRangeLast(),t=e?Oi(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(Kd,t)},callback(){e.copyColumnHeadersOnly()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader())return!0;const t=this.getSelected();return!t||t.length>1},hidden:!1}}function gA(e){return{key:"copy_with_column_group_headers",name(){const e=this.getSelectedRangeLast(),t=e?Oi(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase(qd,t)},callback(){e.copyWithAllColumnHeaders()},disabled(){if(!this.hasColHeaders()||!this.getSettings().nestedHeaders)return!0;const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader())return!0;const t=this.getSelected();return!t||t.length>1},hidden:!1}}function vA(e){return{key:"copy_with_column_headers",name(){const e=this.getSelectedRangeLast(),t=e?Oi(e.getWidth()-1,0,1):0;return this.getTranslatedPhrase($d,t)},callback(){e.copyWithColumnHeaders()},disabled(){if(!this.hasColHeaders())return!0;const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader())return!0;const t=this.getSelected();return!t||t.length>1},hidden:!1}}function yA(e){return{key:"cut",name(){return this.getTranslatedPhrase(Xd)},callback(){e.cut()},disabled(){if(0===this.countRows()||0===this.countCols())return!0;const e=this.getSelectedRangeLast();if(!e)return!0;if(e.isSingleHeader())return!0;const t=this.getSelected();return!t||t.length>1},hidden:!1}}uA.SEPARATOR={name:MC};class bA{constructor(){this.data={}}setData(e,t){this.data[e]=t}getData(e){return this.data[e]||void 0}}class wA{constructor(){this.clipboardData=new bA}preventDefault(){}}function _A(e,t){SA(e,t),t.add(e)}function EA(e,t,n){SA(e,t),t.set(e,n)}function SA(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function TA(e,t){return e.get(CA(e,t))}function MA(e,t,n){return e.set(CA(e,t),n),n}function CA(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var RA=new WeakMap,xA=new WeakMap,AA=new WeakMap,NA=new WeakMap,LA=new WeakMap,kA=new WeakMap,OA=new WeakSet;class IA{constructor(e){let{countRows:t,countColumns:n,rowsLimit:r,columnsLimit:i,countColumnHeaders:o}=e;_A(this,OA),EA(this,RA,void 0),EA(this,xA,void 0),EA(this,AA,void 0),EA(this,NA,void 0),EA(this,LA,void 0),EA(this,kA,void 0),MA(xA,this,t),MA(AA,this,n),MA(NA,this,r),MA(LA,this,i),MA(kA,this,o)}setSelectedRange(e){MA(RA,this,e)}getCellsRange(){if(0===TA(xA,this).call(this)||0===TA(AA,this).call(this))return null;const{row:e,col:t}=TA(RA,this).getTopStartCorner(),{row:n,col:r}=TA(RA,this).getBottomEndCorner(),i=CA(OA,this,DA).call(this,e,n),o=CA(OA,this,PA).call(this,t,r),s=n!==i||r!==o;return{isRangeTrimmed:s,startRow:e,startCol:t,endRow:i,endCol:o}}getMostBottomColumnHeadersRange(){if(0===TA(AA,this).call(this)||0===TA(kA,this).call(this))return null;const{col:e}=TA(RA,this).getTopStartCorner(),{col:t}=TA(RA,this).getBottomEndCorner(),n=CA(OA,this,PA).call(this,e,t),r=t!==n;return{isRangeTrimmed:r,startRow:-1,startCol:e,endRow:-1,endCol:n}}getAllColumnHeadersRange(){if(0===TA(AA,this).call(this)||0===TA(kA,this).call(this))return null;const{col:e}=TA(RA,this).getTopStartCorner(),{col:t}=TA(RA,this).getBottomEndCorner(),n=CA(OA,this,PA).call(this,e,t),r=t!==n;return{isRangeTrimmed:r,startRow:-TA(kA,this).call(this),startCol:e,endRow:-1,endCol:n}}}function PA(e,t){return Math.min(t,Math.max(e+TA(LA,this).call(this)-1,e))}function DA(e,t){return Math.min(t,Math.max(e+TA(NA,this).call(this)-1,e))}function FA(e){const t=[],n=[];return C(e,(e=>{const r=Math.min(e.startRow,e.endRow),i=Math.max(e.startRow,e.endRow);Ni(r,i,(e=>{-1===t.indexOf(e)&&t.push(e)}));const o=Math.min(e.startCol,e.endCol),s=Math.max(e.startCol,e.endCol);Ni(o,s,(e=>{-1===n.indexOf(e)&&n.push(e)}))})),{rows:t,columns:n}}function HA(e,t){BA(e,t),t.add(e)}function UA(e,t,n){BA(e,t),t.set(e,n)}function BA(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function jA(e,t,n){return(t=YA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YA(e){var t=VA(e,"string");return"symbol"==typeof t?t:t+""}function VA(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function WA(e,t){return e.get(GA(e,t))}function zA(e,t,n){return e.set(GA(e,t),n),n}function GA(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("afterCopyLimit"),Mr.getSingleton().register("modifyCopyableRange"),Mr.getSingleton().register("beforeCut"),Mr.getSingleton().register("afterCut"),Mr.getSingleton().register("beforePaste"),Mr.getSingleton().register("afterPaste"),Mr.getSingleton().register("beforeCopy"),Mr.getSingleton().register("afterCopy");const $A="copyPaste",qA=80,KA=["fragmentSelection"],XA=['<meta name="generator" content="Handsontable"/>','<style type="text/css">td{white-space:normal}br{mso-data-placement:same-cell}</style>'].join("");var JA=new WeakMap,QA=new WeakMap,ZA=new WeakMap,eN=new WeakMap,tN=new WeakMap,nN=new WeakMap,rN=new WeakMap,iN=new WeakMap,oN=new WeakSet;class sN extends tE{constructor(){super(...arguments),HA(this,oN),jA(this,"columnsLimit",1/0),jA(this,"rowsLimit",1/0),jA(this,"pasteMode","overwrite"),jA(this,"uiContainer",this.hot.rootDocument.body),UA(this,JA,!1),UA(this,QA,!1),UA(this,ZA,!1),UA(this,eN,"cells-only"),UA(this,tN,!1),UA(this,nN,!1),UA(this,rN,new IA({countRows:()=>this.hot.countRows(),countColumns:()=>this.hot.countCols(),rowsLimit:()=>this.rowsLimit,columnsLimit:()=>this.columnsLimit,countColumnHeaders:()=>this.hot.view.getColumnHeadersCount()})),UA(this,iN,!1),jA(this,"copyableRanges",[])}static get PLUGIN_KEY(){return $A}static get SETTING_KEYS(){return[$A,...KA]}static get PLUGIN_PRIORITY(){return qA}isEnabled(){return!!this.hot.getSettings()[$A]}enablePlugin(){var e=this;if(this.enabled)return;const{[$A]:t}=this.hot.getSettings();var n,r;"object"===typeof t&&(this.pasteMode=null!==(n=t.pasteMode)&&void 0!==n?n:this.pasteMode,this.rowsLimit=isNaN(t.rowsLimit)?this.rowsLimit:t.rowsLimit,this.columnsLimit=isNaN(t.columnsLimit)?this.columnsLimit:t.columnsLimit,zA(JA,this,!!t.copyColumnHeaders),zA(QA,this,!!t.copyColumnGroupHeaders),zA(ZA,this,!!t.copyColumnHeadersOnly),this.uiContainer=null!==(r=t.uiContainer)&&void 0!==r?r:this.uiContainer);this.addHook("afterContextMenuDefaultOptions",(e=>GA(oN,this,hN).call(this,e))),this.addHook("afterSelection",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return GA(oN,e,dN).call(e,...n)})),this.addHook("afterSelectionEnd",(()=>GA(oN,this,fN).call(this))),this.eventManager.addEventListener(this.hot.rootDocument,"copy",(function(){return e.onCopy(...arguments)})),this.eventManager.addEventListener(this.hot.rootDocument,"cut",(function(){return e.onCut(...arguments)})),this.eventManager.addEventListener(this.hot.rootDocument,"paste",(function(){return e.onPaste(...arguments)})),Wn()&&(this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseenter",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return GA(oN,e,pN).call(e,...n)})),this.eventManager.addEventListener(this.hot.rootDocument.body,"mouseleave",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return GA(oN,e,mN).call(e,...n)})),this.addHook("afterSelection",(()=>GA(oN,this,gN).call(this)))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){super.disablePlugin()}copy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cells-only";zA(eN,this,e),zA(tN,this,!0),GA(oN,this,aN).call(this,"copy")}copyCellsOnly(){this.copy("cells-only")}copyColumnHeadersOnly(){this.copy("column-headers-only")}copyWithAllColumnHeaders(){this.copy("with-column-group-headers")}copyWithColumnHeaders(){this.copy("with-column-headers")}cut(){zA(nN,this,!0),GA(oN,this,aN).call(this,"cut")}getRangedCopyableData(e){return rv(this.getRangedData(e))}getRangedData(e){const t=[],{rows:n,columns:r}=FA(e);return C(n,(e=>{const n=[];C(r,(t=>{e<0?n.push(this.hot.getColHeader(t,e)):n.push(this.hot.getCopyableData(e,t))})),t.push(n)})),t}paste(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(!e&&!t)return;const n=new wA;e&&n.clipboardData.setData("text/plain",e),t&&n.clipboardData.setData("text/html",t),this.onPaste(n)}setCopyableText(){const e=this.hot.getSelectedRangeLast();if(!e)return;if(e.isSingleHeader())return void(this.copyableRanges=[]);WA(rN,this).setSelectedRange(e);const t=new Map([["headers",null],["cells",null]]);"column-headers-only"===WA(eN,this)?t.set("headers",WA(rN,this).getMostBottomColumnHeadersRange()):("with-column-headers"===WA(eN,this)?t.set("headers",WA(rN,this).getMostBottomColumnHeadersRange()):"with-column-group-headers"===WA(eN,this)&&t.set("headers",WA(rN,this).getAllColumnHeadersRange()),t.set("cells",WA(rN,this).getCellsRange())),this.copyableRanges=Array.from(t.values()).filter((e=>null!==e)).map((e=>{let{startRow:t,startCol:n,endRow:r,endCol:i}=e;return{startRow:t,startCol:n,endRow:r,endCol:i}})),this.copyableRanges=this.hot.runHooks("modifyCopyableRange",this.copyableRanges);const n=t.get("cells");if(null!==n&&n.isRangeTrimmed){const{startRow:e,startCol:t,endRow:r,endCol:i}=n;this.hot.runHooks("afterCopyLimit",r-e+1,i-t+1,this.rowsLimit,this.columnsLimit)}}isEditorOpened(){var e;return null===(e=this.hot.getActiveEditor())||void 0===e?void 0:e.isOpened()}populateValues(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.hot.getSelectedRangeLast();if(!e.length)return;const n=e.length,r=e[0].length,i=[],{row:o,col:s}=t.getTopStartCorner(),{row:a,col:l}=t.getBottomEndCorner();let u=o,c=s,h=o,d=s;while(i.length<n||u<=a){const{skipRowOnPaste:t,visualRow:a}=this.hot.getCellMeta(u,s);if(u=a+1,!0===t)continue;h=a,c=s;const f=[],p=i.length%n;while(f.length<r||c<=l){const{skipColumnOnPaste:t,visualCol:n}=this.hot.getCellMeta(o,c);if(c=n+1,!0===t)continue;d=n;const i=f.length%r;f.push(e[p][i])}i.push(f)}return zA(iN,this,!0),this.hot.populateFromArray(o,s,i,void 0,void 0,"CopyPaste.paste",this.pasteMode),[o,s,h,d]}onCopy(e){var t;const n=this.hot.getFocusManager().getRefocusElement(),r=null===(t=e.target)||void 0===t?void 0:t.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!WA(tN,this)||this.isEditorOpened()||e.target instanceof HTMLElement&&(r&&e.target!==n||!r&&e.target!==this.hot.rootDocument.body))return;e.preventDefault(),this.setCopyableText(),zA(tN,this,!1);const i=this.getRangedData(this.copyableRanges),o=GA(oN,this,lN).call(this,this.copyableRanges),s=!!this.hot.runHooks("beforeCopy",i,this.copyableRanges,o);if(s){const t=rv(i);if(e&&e.clipboardData){const n=Ci(i,this.hot.rootDocument);e.clipboardData.setData("text/plain",t),e.clipboardData.setData("text/html",[XA,n].join(""))}else"undefined"===typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",t);this.hot.runHooks("afterCopy",i,this.copyableRanges,o)}zA(eN,this,"cells-only")}onCut(e){var t;const n=this.hot.getFocusManager().getRefocusElement(),r=null===(t=e.target)||void 0===t?void 0:t.hasAttribute("data-hot-input");if(!this.hot.isListening()&&!WA(nN,this)||this.isEditorOpened()||e.target instanceof HTMLElement&&(r&&e.target!==n||!r&&e.target!==this.hot.rootDocument.body))return;e.preventDefault(),this.setCopyableText(),zA(nN,this,!1);const i=this.getRangedData(this.copyableRanges),o=!!this.hot.runHooks("beforeCut",i,this.copyableRanges);if(o){const t=rv(i);if(e&&e.clipboardData){const n=Ci(i,this.hot.rootDocument);e.clipboardData.setData("text/plain",t),e.clipboardData.setData("text/html",[XA,n].join(""))}else"undefined"===typeof ClipboardEvent&&this.hot.rootWindow.clipboardData.setData("Text",t);this.hot.emptySelectedCells("CopyPaste.cut"),this.hot.runHooks("afterCut",i,this.copyableRanges)}}onPaste(e){var t;const n=this.hot.getFocusManager().getRefocusElement(),r=null===(t=e.target)||void 0===t?void 0:t.hasAttribute("data-hot-input");if(!this.hot.isListening()||this.isEditorOpened()||!this.hot.getSelected()||e.target instanceof HTMLElement&&(r&&e.target!==n||!r&&e.target!==this.hot.rootDocument.body))return;let i;if(e.preventDefault(),e&&"undefined"!==typeof e.clipboardData){const t=le(e.clipboardData.getData("text/html"),{ADD_TAGS:["meta"],ADD_ATTR:["content"],FORCE_BODY:!0});if(t&&/(<table)|(<TABLE)/g.test(t)){const e=Ri(t,this.hot.rootDocument);i=e.data}else i=e.clipboardData.getData("text/plain")}else"undefined"===typeof ClipboardEvent&&"undefined"!==typeof this.hot.rootWindow.clipboardData&&(i=this.hot.rootWindow.clipboardData.getData("Text"));if("string"===typeof i&&(i=nv(i)),void 0===i||i&&0===i.length)return;if(!1===this.hot.runHooks("beforePaste",i,this.copyableRanges))return;const[o,s,a,l]=this.populateValues(i);this.hot.selectCell(o,s,Math.min(this.hot.countRows()-1,a),Math.min(this.hot.countCols()-1,l)),this.hot.runHooks("afterPaste",i,this.copyableRanges)}destroy(){super.destroy()}}function aN(e){if(Wn()){const t=this.hot.getSelectedRangeLast();if(t){const{row:n,col:r}=t.highlight,i=this.hot.getCell(n,r,!0);i&&nn(i,(()=>{this.hot.rootDocument.execCommand(e)}))}}else this.hot.rootDocument.execCommand(e)}function lN(e){const{rows:t}=FA(e);let n=0;for(let r=0;r<t.length;r++){if(t[r]>=0)break;n+=1}return{columnHeadersCount:n}}function uN(){if(this.hot.isListening()){const e=this.hot.getSelectedRangeLast();if(e){const{row:t,col:n}=e.highlight,r=this.hot.getCell(t,n,!0);r&&en(r)}}}function cN(){if(this.hot.isListening()){const e=this.hot.getSelectedRangeLast();if(e){const{row:t,col:n}=e.highlight,r=this.hot.getCell(t,n,!0);null!==r&&void 0!==r&&r.hasAttribute("contenteditable")&&tn(r)}}}function hN(e){e.items.push({name:"---------"},pA(this)),WA(JA,this)&&e.items.push(vA(this)),WA(QA,this)&&e.items.push(gA(this)),WA(ZA,this)&&e.items.push(mA(this)),e.items.push(yA(this))}function dN(e,t,n,r,i){WA(iN,this)&&(i.value=!0),zA(iN,this,!1)}function fN(){this.isEditorOpened()||this.hot.getSettings().fragmentSelection||this.setCopyableText()}function pN(){GA(oN,this,cN).call(this)}function mN(){GA(oN,this,uN).call(this)}function gN(){GA(oN,this,cN).call(this)}function vN(e,t){return`border_row${e}col${t}`}function yN(){return{width:1,color:"#000"}}function bN(){return{hide:!0}}function wN(){return{width:1,color:"#000",cornerVisible:!1}}function _N(e){var t,n;(U(e.start)||U(e.left))&&(e.start=null!==(t=e.start)&&void 0!==t?t:e.left);(U(e.end)||U(e.right))&&(e.end=null!==(n=e.end)&&void 0!==n?n:e.right);return delete e.left,delete e.right,e}function EN(e){return U(e.start)&&(e.left=e.start),U(e.end)&&(e.right=e.end),e}function SN(e,t){return{id:vN(e,t),border:wN(),row:e,col:t,top:bN(),bottom:bN(),start:bN(),end:bN()}}function TN(e,t){return xn(t,"border")&&t.border&&(e.border=t.border),xn(t,"top")&&U(t.top)&&(t.top?(_n(t.top)||(t.top=yN()),e.top=t.top):(t.top=bN(),e.top=t.top)),xn(t,"bottom")&&U(t.bottom)&&(t.bottom?(_n(t.bottom)||(t.bottom=yN()),e.bottom=t.bottom):(t.bottom=bN(),e.bottom=t.bottom)),xn(t,"start")&&U(t.start)&&(t.start?(_n(t.start)||(t.start=yN()),e.start=t.start):(t.start=bN(),e.start=t.start)),xn(t,"end")&&U(t.end)&&(t.end?(_n(t.end)||(t.end=yN()),e.end=t.end):(t.end=bN(),e.end=t.end)),e}function MN(e,t){let n=!1;return C(e.getSelectedRange(),(r=>{r.forAll(((r,i)=>{if(r<0||i<0)return;const o=e.getCellMeta(r,i).borders;if(o){if(!t)return n=!0,!1;if(!xn(o[t],"hide")||!1===o[t].hide)return n=!0,!1}}))})),n}function CN(e){return`<span class="selected">${String.fromCharCode(10003)}</span>${e}`}function RN(e){return e.some((e=>U(e.left)||U(e.right)))}function xN(e){return e.some((e=>U(e.start)||U(e.end)))}const AN=new Map([["left","start"],["right","end"]]);function NN(e){var t;return null!==(t=AN.get(e))&&void 0!==t?t:e}function LN(e){return{key:"borders:top",name(){let e=this.getTranslatedPhrase(mf);const t=MN(this,"top");return t&&(e=CN(e)),e},callback(t,n){const r=MN(this,"top");e.prepareBorder(n,"top",r)}}}function kN(e){const t=e.hot.isRtl()?"start":"end";return{key:"borders:right",name(){let e=this.getTranslatedPhrase(gf);const n=MN(this,t);return n&&(e=CN(e)),e},callback(n,r){const i=MN(this,t);e.prepareBorder(r,t,i)}}}function ON(e){return{key:"borders:bottom",name(){let e=this.getTranslatedPhrase(vf);const t=MN(this,"bottom");return t&&(e=CN(e)),e},callback(t,n){const r=MN(this,"bottom");e.prepareBorder(n,"bottom",r)}}}function IN(e){const t=e.hot.isRtl()?"end":"start";return{key:"borders:left",name(){let e=this.getTranslatedPhrase(yf);const n=MN(this,t);return n&&(e=CN(e)),e},callback(n,r){const i=MN(this,t);e.prepareBorder(r,t,i)}}}function PN(e){return{key:"borders:no_borders",name(){return this.getTranslatedPhrase(bf)},callback(t,n){e.prepareBorder(n,"noBorders")},disabled(){return!MN(this)}}}function DN(e,t){FN(e,t),t.add(e)}function FN(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HN(e,t,n){return(t=UN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UN(e){var t=BN(e,"string");return"symbol"==typeof t?t:t+""}function BN(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function jN(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const YN="customBorders",VN=90;var WN=new WeakSet;class zN extends tE{constructor(){super(...arguments),DN(this,WN),HN(this,"savedBorders",[])}static get PLUGIN_KEY(){return YN}static get PLUGIN_PRIORITY(){return VN}isEnabled(){return!!this.hot.getSettings()[YN]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",(e=>jN(WN,this,GN).call(this,e))),this.addHook("init",(()=>jN(WN,this,$N).call(this))),super.enablePlugin())}disablePlugin(){this.hideBorders(),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.changeBorderSettings(),super.updatePlugin()}setBorders(e,t){let n=["top","bottom","start","end"],r=null;t&&(this.checkSettingsCohesion([t]),n=Object.keys(t),r=_N(t));const i=Fm(e),o=Hm(i,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)});C(e,(e=>{o(e).forAll(((e,t)=>{C(n,(n=>{this.prepareBorderFromCustomAdded(e,t,r,NN(n))}))}))})),this.hot.view.render()}getBorders(e){if(!Array.isArray(e))return this.savedBorders;const t=Fm(e),n=Hm(t,{createCellCoords:this.hot._createCellCoords.bind(this.hot),createCellRange:this.hot._createCellRange.bind(this.hot)}),r=[];return C(e,(e=>{n(e).forAll(((e,t)=>{C(this.savedBorders,(n=>{n.row===e&&n.col===t&&r.push(EN(n))}))}))})),r}clearBorders(e){e?this.setBorders(e):(C(this.savedBorders,(e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange(),this.hot.removeCellMeta(e.row,e.col,"borders")})),this.savedBorders.length=0)}insertBorderIntoSettings(e,t){const n=this.checkSavedBorders(e);n||this.savedBorders.push(e);const r=this.hot._createCellRange(this.hot._createCellCoords(e.row,e.col)),i=this.checkCustomSelections(e,r,t);i||this.hot.selection.highlight.addCustomSelection({border:e,visualCellRange:r})}prepareBorderFromCustomAdded(e,t,n,r){const i=this.hot.countRows(),o=this.hot.countCols();if(e>=i||t>=o)return;let s=SN(e,t);n&&(s=TN(s,n),C(this.hot.selection.highlight.customSelections,(e=>{if(s.id===e.settings.id)return Object.assign(e.settings,n),s.id=e.settings.id,s.top=e.settings.top,s.bottom=e.settings.bottom,s.start=e.settings.start,s.end=e.settings.end,!1}))),this.hot.setCellMeta(e,t,"borders",EN(s)),this.insertBorderIntoSettings(s,r)}prepareBorderFromCustomAddedRange(e,t){const n=Math.min(e.to.row,this.hot.countRows()-1),r=Math.min(e.to.col,this.hot.countCols()-1);Ni(e.from.row,n,(n=>{Ni(e.from.col,r,(r=>{const i=SN(n,r);let o=0;n===e.from.row&&xn(t,"top")&&(o+=1,i.top=t.top),n===e.to.row&&xn(t,"bottom")&&(o+=1,i.bottom=t.bottom),r===e.from.col&&xn(t,"start")&&(o+=1,i.start=t.start),r===e.to.col&&xn(t,"end")&&(o+=1,i.end=t.end),o>0&&(this.hot.setCellMeta(n,r,"borders",EN(i)),this.insertBorderIntoSettings(i))}))}))}removeAllBorders(e,t){const n=vN(e,t);this.spliceBorder(n),this.clearBordersFromSelectionSettings(n),this.clearNullCellRange(),this.hot.removeCellMeta(e,t,"borders")}setBorder(e,t,n,r){let i=this.hot.getCellMeta(e,t).borders;if(i=i&&void 0!==i.border?_N(i):SN(e,t),r){i[n]=bN();const o=this.countHide(i);if(4===o)this.removeAllBorders(e,t);else{const o=this.checkCustomSelectionsFromContextMenu(i,n,r);o||this.insertBorderIntoSettings(i),this.hot.setCellMeta(e,t,"borders",EN(i))}}else{i[n]=yN();const o=this.checkCustomSelectionsFromContextMenu(i,n,r);o||this.insertBorderIntoSettings(i),this.hot.setCellMeta(e,t,"borders",EN(i))}}prepareBorder(e,t,n){C(e,(e=>{let{start:r,end:i}=e;if(r.row===i.row&&r.col===i.col)"noBorders"===t?this.removeAllBorders(r.row,r.col):this.setBorder(r.row,r.col,t,n);else switch(t){case"noBorders":Ni(r.col,i.col,(e=>{Ni(r.row,i.row,(t=>{this.removeAllBorders(t,e)}))}));break;case"top":Ni(r.col,i.col,(e=>{this.setBorder(r.row,e,t,n)}));break;case"bottom":Ni(r.col,i.col,(e=>{this.setBorder(i.row,e,t,n)}));break;case"start":Ni(r.row,i.row,(e=>{this.setBorder(e,r.col,t,n)}));break;case"end":Ni(r.row,i.row,(e=>{this.setBorder(e,i.col,t,n)}));break;default:break}}))}createCustomBorders(e){C(e,(e=>{const t=_N(e);e.range?this.prepareBorderFromCustomAddedRange(e.range,t):this.prepareBorderFromCustomAdded(e.row,e.col,t)}))}countHide(e){const{top:t,bottom:n,start:r,end:i}=e,o=[t,n,r,i];return S(o,((e,t)=>{let n=e;return t&&t.hide&&(n+=1),n}),0)}clearBordersFromSelectionSettings(e){const t=M(this.hot.selection.highlight.customSelections,(e=>e.settings.id)).indexOf(e);t>-1&&this.hot.selection.highlight.customSelections[t].clear()}clearNullCellRange(){C(this.hot.selection.highlight.customSelections,((e,t)=>{if(null===e.cellRange)return this.hot.selection.highlight.customSelections[t].destroy(),this.hot.selection.highlight.customSelections.splice(t,1),!1}))}hideBorders(){C(this.savedBorders,(e=>{this.clearBordersFromSelectionSettings(e.id),this.clearNullCellRange()}))}spliceBorder(e){const t=M(this.savedBorders,(e=>e.id)).indexOf(e);t>-1&&this.savedBorders.splice(t,1)}checkSavedBorders(e){let t=!1;const n=this.countHide(e);return 4===n?(this.spliceBorder(e.id),t=!0):C(this.savedBorders,((n,r)=>{if(e.id===n.id)return this.savedBorders[r]=e,t=!0,!1})),t}checkCustomSelectionsFromContextMenu(e,t,n){let r=!1;return C(this.hot.selection.highlight.customSelections,(i=>{if(e.id===i.settings.id){const e=this.hot.view._wt.selectionManager.getBorderInstances(i);return C(e,(e=>{e.toggleHiddenClass(t,n)})),r=!0,!1}})),r}checkCustomSelections(e,t,n){const r=this.countHide(e);let i=!1;return 4===r?(this.removeAllBorders(e.row,e.col),i=!0):C(this.hot.selection.highlight.customSelections,(r=>{if(e.id===r.settings.id){if(r.visualCellRange=t,r.commit(),n){const t=this.hot.view._wt.selectionManager.getBorderInstances(r);C(t,(t=>{t.changeBorderStyle(n,e)}))}return i=!0,!1}})),i}changeBorderSettings(){const e=this.hot.getSettings()[YN];if(Array.isArray(e)){const t=vn(e);this.checkSettingsCohesion(t),t.length||(this.savedBorders=t),this.createCustomBorders(t)}else void 0!==e&&this.createCustomBorders(this.savedBorders)}checkSettingsCohesion(e){const t=RN(e),n=xN(e);if(t&&n)throw new Error('The "left"/"right" and "start"/"end" options should not be used together. Please use only the option "start"/"end".');if(this.hot.isRtl()&&t)throw new Error('The "left"/"right" properties are not supported for RTL. Please use option "start"/"end".')}destroy(){super.destroy()}}function GN(e){this.hot.getSettings()[YN]&&e.items.push({name:"---------"},{key:"borders",name(){return this.getTranslatedPhrase(pf)},disabled(){const e=this.getSelectedRangeLast();return!e||(!!e.isSingleHeader()||this.selection.isSelectedByCorner())},submenu:{items:[LN(this),kN(this),ON(this),IN(this),PN(this)]}})}function $N(){this.changeBorderSettings()}function qN(e,t){KN(e,t),t.add(e)}function KN(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XN(e,t,n){return(t=JN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JN(e){var t=QN(e,"string");return"symbol"==typeof t?t:t+""}function QN(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ZN(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const eL="dragToScroll",tL=100;var nL=new WeakSet;class rL extends tE{constructor(){super(...arguments),qN(this,nL),XN(this,"boundaries",null),XN(this,"callback",null),XN(this,"listening",!1)}static get PLUGIN_KEY(){return eL}static get PLUGIN_PRIORITY(){return tL}isEnabled(){return!!this.hot.getSettings()[eL]}enablePlugin(){this.enabled||(this.addHook("afterOnCellMouseDown",(e=>ZN(nL,this,iL).call(this,e))),this.addHook("afterOnCellCornerMouseDown",(e=>ZN(nL,this,iL).call(this,e))),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.unregisterEvents(),super.disablePlugin()}setBoundaries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{left:0,right:this.hot.rootWindow.innerWidth,top:0,bottom:this.hot.rootWindow.innerHeight};this.boundaries=e}setCallback(e){this.callback=e}check(e,t){let n=0,r=0;t<this.boundaries.top?r=t-this.boundaries.top:t>this.boundaries.bottom&&(r=t-this.boundaries.bottom),e<this.boundaries.left?n=e-this.boundaries.left:e>this.boundaries.right&&(n=e-this.boundaries.right),this.callback(n,r)}listen(){this.listening=!0}unlisten(){this.listening=!1}isListening(){return this.listening}registerEvents(){const{rootWindow:e}=this.hot;let t=e;while(t)this.eventManager.addEventListener(t.document,"contextmenu",(()=>this.unlisten())),this.eventManager.addEventListener(t.document,"mouseup",(()=>this.unlisten())),this.eventManager.addEventListener(t.document,"mousemove",(e=>this.onMouseMove(e))),t=Qe(t)}unregisterEvents(){this.eventManager.clear()}onMouseMove(e){this.isListening()&&this.check(e.clientX,e.clientY)}destroy(){super.destroy()}}function iL(e){if(lr(e))return;const t=this.hot.view._wt.wtOverlays.topOverlay.mainTableScrollableElement;this.setBoundaries(t!==this.hot.rootWindow?t.getBoundingClientRect():void 0),this.setCallback(((e,n)=>{var r,i;const o=null!==(r=t.scrollLeft)&&void 0!==r?r:t.scrollX,s=null!==(i=t.scrollTop)&&void 0!==i?i:t.scrollY;t.scroll(o+50*Math.sign(e),s+20*Math.sign(n))})),this.listen()}function oL(e,t){aL(e,t),t.add(e)}function sL(e,t,n){aL(e,t),t.set(e,n)}function aL(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lL(e,t,n){return(t=uL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uL(e){var t=cL(e,"string");return"symbol"==typeof t?t:t+""}function cL(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function hL(e,t){return e.get(fL(e,t))}function dL(e,t,n){return e.set(fL(e,t),n),n}function fL(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("afterDropdownMenuDefaultOptions"),Mr.getSingleton().register("beforeDropdownMenuShow"),Mr.getSingleton().register("afterDropdownMenuShow"),Mr.getSingleton().register("afterDropdownMenuHide"),Mr.getSingleton().register("afterDropdownMenuExecute");const pL="dropdownMenu",mL=230,gL="changeType",vL=pL;var yL=new WeakMap,bL=new WeakSet;class wL extends tE{static get PLUGIN_KEY(){return pL}static get PLUGIN_PRIORITY(){return mL}static get PLUGIN_DEPS(){return["plugin:AutoColumnSize"]}static get DEFAULT_ITEMS(){return[AR,LR,MC,FR,MC,RR,MC,OR,MC,MR]}constructor(e){super(e),oL(this,bL),lL(this,"commandExecutor",new SR(this.hot)),lL(this,"itemsFactory",null),lL(this,"menu",null),sL(this,yL,!1),this.hot.addHook("afterGetColHeader",((e,t)=>fL(bL,this,SL).call(this,e,t)))}isEnabled(){return this.hot.getSettings()[pL]}enablePlugin(){var e=this;if(this.enabled)return;this.itemsFactory=new tx(this.hot,wL.DEFAULT_ITEMS),this.addHook("beforeOnCellMouseDown",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fL(bL,e,AL).call(e,...n)})),this.addHook("beforeViewportScrollHorizontally",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fL(bL,e,xL).call(e,...n)}));const t=this.hot.getSettings()[pL],n={items:this.itemsFactory.getItems(t)};this.registerEvents(),"function"===typeof t.callback&&this.commandExecutor.setCommonCallback(t.callback),this.registerShortcuts(),super.enablePlugin(),this.callOnPluginsReady((()=>{this.hot.runHooks("afterDropdownMenuDefaultOptions",n),this.itemsFactory.setPredefinedItems(n.items);const r=this.itemsFactory.getItems(t);this.menu&&this.menu.destroy(),this.menu=new Qx(this.hot,{className:"htDropdownMenu",keepInViewport:!0,container:t.uiContainer||this.hot.rootDocument.body}),this.hot.runHooks("beforeDropdownMenuSetItems",r),this.menu.setMenuItems(r),this.menu.addLocalHook("beforeOpen",(()=>fL(bL,this,TL).call(this))),this.menu.addLocalHook("afterOpen",(()=>fL(bL,this,ML).call(this))),this.menu.addLocalHook("afterSubmenuOpen",(e=>fL(bL,this,CL).call(this,e))),this.menu.addLocalHook("afterClose",(()=>fL(bL,this,RL).call(this))),this.menu.addLocalHook("executeCommand",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.executeCommand.call(e,...n)})),C(r,(e=>this.commandExecutor.registerCommand(e.key,e)))}))}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.close(),this.menu&&this.menu.destroy(),this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){const e=this.hot.getShortcutManager().getContext("grid"),t=()=>{const{highlight:e}=this.hot.getSelectedRangeLast();if((e.isHeader()&&-1===e.row||e.isCell())&&e.col>=0){this.hot.selectColumns(e.col,e.col,-1);const{from:t}=this.hot.getSelectedRangeLast(),n=DC(this.menu.container,this.hot.rootDocument),r=this.hot.getCell(-1,t.col,!0).querySelector(`.${gL}`),i=r.getBoundingClientRect();this.open({left:i.left+n.left,top:i.top+r.offsetHeight+n.top},{left:i.width,right:0,above:0,below:3}),this.menu.getNavigator().toFirstItem()}};e.addShortcuts([{keys:[["Shift","Alt","ArrowDown"],["Control/Meta","Enter"]],callback:t,runOnlyIf:()=>{var e;const t=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return t&&this.hot.selection.isCellVisible(t)&&t.isHeader()&&!this.menu.isOpened()},captureCtrl:!0,group:vL},{keys:[["Shift","Alt","ArrowDown"]],callback:t,runOnlyIf:()=>{var e;const t=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return t&&this.hot.selection.isCellVisible(t)&&t.isCell()&&!this.menu.isOpened()},group:vL}])}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(vL)}registerEvents(){this.eventManager.addEventListener(this.hot.rootElement,"click",(e=>fL(bL,this,EL).call(this,e)))}open(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{above:0,below:0,left:0,right:0};null!==(t=this.menu)&&void 0!==t&&t.isOpened()||(this.menu.open(),Sn(n,((e,t)=>{this.menu.setOffset(t,e)})),this.menu.setPosition(e))}close(){var e;null===(e=this.menu)||void 0===e||e.close()}executeCommand(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.commandExecutor.execute(e,...n)}setListening(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.menu.isOpened()&&(e?this.menu.hotMenu.listen():this.menu.hotMenu.unlisten())}destroy(){this.close(),this.menu&&this.menu.destroy(),super.destroy()}}function _L(e){e.getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Control/Meta","A"]],callback:()=>!1}])}function EL(e){if(at(e.target,gL)){const t=DC(this.menu.container,this.hot.rootDocument),n=e.target.getBoundingClientRect();e.stopPropagation(),dL(yL,this,!1),this.open({left:n.left+t.left,top:n.top+e.target.offsetHeight+t.top},{left:n.width,right:0,above:0,below:3})}}function SL(e,t){const n=t.parentNode;if(!n)return;const r=n.parentNode.childNodes,i=Array.prototype.indexOf.call(r,n);if(e<0||i!==r.length-1)return;const o=t.querySelector(`.${gL}`);if(this.enabled&&o)return;if(!this.enabled)return void(o&&o.parentNode.removeChild(o));const s=this.hot.rootDocument.createElement("button");s.className=gL,s.type="button",s.tabIndex=-1,this.hot.getSettings().ariaTags&&(ct(s,[xe(),Re(" ")]),ct(t,[Le("menu")])),s.onclick=function(){return!1},t.firstChild.insertBefore(s,t.firstChild.firstChild)}function TL(){this.hot.runHooks("beforeDropdownMenuShow",this)}function ML(){this.hot.runHooks("afterDropdownMenuShow",this),fL(bL,this,_L).call(this,this.menu)}function CL(e){fL(bL,this,_L).call(this,e)}function RL(){this.hot.listen(),this.hot.runHooks("afterDropdownMenuHide",this)}function xL(e){return hL(yL,this)?null:e}function AL(e){at(e.target,gL)&&dL(yL,this,!0)}function NL(e,t,n){return(t=LL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LL(e){var t=kL(e,"string");return"symbol"==typeof t?t:t+""}function kL(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}wL.SEPARATOR={name:MC};class OL{constructor(e){NL(this,"hot",void 0),NL(this,"options",{}),this.hot=e}setOptions(e){this.options=e}getData(){const{startRow:e,startCol:t,endRow:n,endCol:r}=this._getDataRange(),i=this.options,o=[];return Ni(e,n,(e=>{const n=[];!i.exportHiddenRows&&this._isHiddenRow(e)||(Ni(t,r,(t=>{!i.exportHiddenColumns&&this._isHiddenColumn(t)||n.push(this.hot.getDataAtCell(e,t))})),o.push(n))})),o}getRowHeaders(){const e=[];if(this.options.rowHeaders){const{startRow:t,endRow:n}=this._getDataRange(),r=this.hot.getRowHeader();Ni(t,n,(t=>{!this.options.exportHiddenRows&&this._isHiddenRow(t)||e.push(r[t])}))}return e}getColumnHeaders(){const e=[];if(this.options.columnHeaders){const{startCol:t,endCol:n}=this._getDataRange(),r=this.hot.getColHeader();Ni(t,n,(t=>{!this.options.exportHiddenColumns&&this._isHiddenColumn(t)||e.push(r[t])}))}return e}_getDataRange(){const e=this.hot.countCols()-1,t=this.hot.countRows()-1;let[n=0,r=0,i=t,o=e]=this.options.range;return n=Math.max(n,0),r=Math.max(r,0),i=Math.min(i,t),o=Math.min(o,e),{startRow:n,startCol:r,endRow:i,endCol:o}}_isHiddenRow(e){return this.hot.rowIndexMapper.isHidden(this.hot.toPhysicalRow(e))}_isHiddenColumn(e){return this.hot.columnIndexMapper.isHidden(this.hot.toPhysicalColumn(e))}}var IL=OL;function PL(e,t,n){return(t=DL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DL(e){var t=FL(e,"string");return"symbol"==typeof t?t:t+""}function FL(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class HL{static get DEFAULT_OPTIONS(){return{mimeType:"text/plain",fileExtension:"txt",filename:"Handsontable [YYYY]-[MM]-[DD]",encoding:"utf-8",bom:!1,columnHeaders:!1,rowHeaders:!1,exportHiddenColumns:!1,exportHiddenRows:!1,range:[]}}constructor(e,t){PL(this,"dataProvider",void 0),PL(this,"options",void 0),this.dataProvider=e,this.options=this._mergeOptions(t),this.dataProvider.setOptions(this.options)}_mergeOptions(e){let t=yn(this.constructor.DEFAULT_OPTIONS);const n=new Date;return t=mn(yn(HL.DEFAULT_OPTIONS),t),t=mn(t,e),t.filename=se(t.filename,{YYYY:n.getFullYear(),MM:`${n.getMonth()+1}`.padStart(2,"0"),DD:`${n.getDate()}`.padStart(2,"0")}),t}}var UL=HL;const BL=String.fromCharCode(13),jL=String.fromCharCode(34),YL=String.fromCharCode(10);class VL extends UL{static get DEFAULT_OPTIONS(){return{mimeType:"text/csv",fileExtension:"csv",bom:!0,columnDelimiter:",",rowDelimiter:"\r\n"}}export(){const e=this.options,t=this.dataProvider.getData();let n=this.dataProvider.getColumnHeaders();const r=n.length>0,i=this.dataProvider.getRowHeaders(),o=i.length>0;let s=e.bom?String.fromCharCode(65279):"";return r&&(n=M(n,(e=>this._escapeCell(e,!0))),o&&(s+=e.columnDelimiter),s+=n.join(e.columnDelimiter),s+=e.rowDelimiter),C(t,((t,n)=>{n>0&&(s+=e.rowDelimiter),o&&(s+=this._escapeCell(i[n])+e.columnDelimiter),s+=t.map((e=>this._escapeCell(e))).join(e.columnDelimiter)})),s}_escapeCell(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=H(e);return""!==n&&(t||n.indexOf(BL)>=0||n.indexOf(jL)>=0||n.indexOf(YL)>=0||n.indexOf(this.options.columnDelimiter)>=0)&&(n=n.replace(new RegExp('"',"g"),'""'),n=`"${n}"`),n}}var WL=VL;const zL="csv",GL={[zL]:WL};function $L(e,t,n){return"function"===typeof GL[e]?new GL[e](t,n):null}const qL="exportFile",KL=240;class XL extends tE{static get PLUGIN_KEY(){return qL}static get PLUGIN_PRIORITY(){return KL}isEnabled(){return!0}exportAsString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createTypeFormatter(e,t).export()}exportAsBlob(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._createBlob(this._createTypeFormatter(e,t))}downloadFile(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{rootDocument:n,rootWindow:r}=this.hot,i=this._createTypeFormatter(e,t),o=this._createBlob(i),s=r.URL||r.webkitURL,a=n.createElement("a"),l=`${i.options.filename}.${i.options.fileExtension}`;if(void 0!==a.download){const e=s.createObjectURL(o);a.style.display="none",a.setAttribute("href",e),a.setAttribute("download",l),n.body.appendChild(a),a.dispatchEvent(new MouseEvent("click")),n.body.removeChild(a),setTimeout((()=>{s.revokeObjectURL(e)}),100)}else navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob(o,l)}_createTypeFormatter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!GL[e])throw new Error(`Export format type "${e}" is not supported.`);return $L(e,new IL(this.hot),t)}_createBlob(e){let t=null;return"undefined"!==typeof Blob&&(t=new Blob([e.export()],{type:`${e.options.mimeType};charset=${e.options.encoding}`})),t}}function JL(e,t,n){return(t=QL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QL(e){var t=ZL(e,"string");return"symbol"==typeof t?t:t+""}function ZL(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class ek{constructor(e,t){let{id:n,stateless:r=!0}=t;JL(this,"hot",void 0),JL(this,"id",void 0),JL(this,"elements",[]),JL(this,"hidden",!1),JL(this,"stateId",""),JL(this,"state",void 0),this.hot=e,this.id=n,this.stateId=`Filters.component.${this.id}`,this.state=r?null:this.hot.columnIndexMapper.registerMap(this.stateId,new Yh)}getElements(){return this.elements}reset(){C(this.elements,(e=>e.reset()))}hide(){this.hidden=!0}show(){this.hidden=!1}isHidden(){return null===this.hot||this.hidden}restoreState(e){this.state&&this.setState(this.state.getValueAtIndex(e))}setState(){throw new Error("The state setting logic is not implemented")}saveState(e){this.state&&this.state.setValueAtIndex(e,this.getState())}getState(){throw new Error("The state gathering logic is not implemented")}destroy(){this.hot.columnIndexMapper.unregisterMap(this.stateId),this.clearLocalHooks(),C(this.elements,(e=>e.destroy())),this.state=null,this.elements=null,this.hot=null}}bn(ek,Mh);const tk={};function nk(e,t){if(!tk[e])throw Error(`Filter condition "${e}" does not exist.`);const{condition:n,descriptor:r}=tk[e];let i=t;return r.inputValuesDecorator&&(i=r.inputValuesDecorator(i)),function(e){return n.apply(e.meta.instance,[].concat([e],[i]))}}function rk(e){if(!tk[e])throw Error(`Filter condition "${e}" does not exist.`);return tk[e].descriptor}function ik(e,t,n){n.key=e,tk[e]={condition:t,descriptor:n}}const ok="none";function sk(){return!0}ik(ok,sk,{name:xf,inputsCount:0,showOperators:!1});const ak="empty";function lk(e){return j(e.value)}ik(ak,lk,{name:Af,inputsCount:0,showOperators:!0});const uk="not_empty";function ck(e,t){return!nk(ak,t)(e)}ik(uk,ck,{name:Nf,inputsCount:0,showOperators:!0});const hk="eq";function dk(e,t){let[n]=t;return H(e.value).toLocaleLowerCase(e.meta.locale)===H(n)}ik(hk,dk,{name:Lf,inputsCount:1,showOperators:!0});const fk="neq";function pk(e,t){return!nk(hk,t)(e)}ik(fk,pk,{name:kf,inputsCount:1,showOperators:!0});const mk="gt";function gk(e,t){let[n]=t,r=n;return"numeric"===e.meta.type&&(r=parseFloat(r,10)),e.value>r}ik(mk,gk,{name:Hf,inputsCount:1,showOperators:!0});const vk="gte";function yk(e,t){let[n]=t,r=n;return"numeric"===e.meta.type&&(r=parseFloat(r,10)),e.value>=r}ik(vk,yk,{name:Uf,inputsCount:1,showOperators:!0});const bk="lt";function wk(e,t){let[n]=t,r=n;return"numeric"===e.meta.type&&(r=parseFloat(r,10)),e.value<r}ik(bk,wk,{name:Bf,inputsCount:1,showOperators:!0});const _k="lte";function Ek(e,t){let[n]=t,r=n;return"numeric"===e.meta.type&&(r=parseFloat(r,10)),e.value<=r}ik(_k,Ek,{name:jf,inputsCount:1,showOperators:!0});const Sk="date_after";function Tk(e,t){let[n]=t;const r=b(e.value,e.meta.dateFormat),i=b(n,e.meta.dateFormat);return!(!r.isValid()||!i.isValid())&&r.diff(i)>=0}ik(Sk,Tk,{name:Wf,inputsCount:1,showOperators:!0});const Mk="date_before";function Ck(e,t){let[n]=t;const r=b(e.value,e.meta.dateFormat),i=b(n,e.meta.dateFormat);return!(!r.isValid()||!i.isValid())&&r.diff(i)<=0}ik(Mk,Ck,{name:zf,inputsCount:1,showOperators:!0});const Rk="between";function xk(e,t){let[n,r]=t,i=n,o=r;if("numeric"===e.meta.type){const e=parseFloat(i,10),t=parseFloat(o,10);i=Math.min(e,t),o=Math.max(e,t)}else if("date"===e.meta.type){const t=nk(Mk,[o]),n=nk(Sk,[i]);return t(e)&&n(e)}return e.value>=i&&e.value<=o}ik(Rk,xk,{name:Yf,inputsCount:2,showOperators:!0});const Ak="not_between";function Nk(e,t){return!nk(Rk,t)(e)}ik(Ak,Nk,{name:Vf,inputsCount:2,showOperators:!0});const Lk="begins_with";function kk(e,t){let[n]=t;return H(e.value).toLocaleLowerCase(e.meta.locale).startsWith(H(n))}ik(Lk,kk,{name:Of,inputsCount:1,showOperators:!0});const Ok="ends_with";function Ik(e,t){let[n]=t;return H(e.value).toLocaleLowerCase(e.meta.locale).endsWith(H(n))}ik(Ok,Ik,{name:If,inputsCount:1,showOperators:!0});const Pk="contains";function Dk(e,t){let[n]=t;return H(e.value).toLocaleLowerCase(e.meta.locale).indexOf(H(n))>=0}ik(Pk,Dk,{name:Pf,inputsCount:1,showOperators:!0});const Fk="not_contains";function Hk(e,t){return!nk(Pk,t)(e)}ik(Fk,Hk,{name:Df,inputsCount:1,showOperators:!0});const Uk="date_tomorrow";function Bk(e){const t=b(e.value,e.meta.dateFormat);return!!t.isValid()&&t.isSame(b().subtract(-1,"days").startOf("day"),"d")}ik(Uk,Bk,{name:$f,inputsCount:0});const jk="date_today";function Yk(e){const t=b(e.value,e.meta.dateFormat);return!!t.isValid()&&t.isSame(b().startOf("day"),"d")}ik(jk,Yk,{name:Gf,inputsCount:0});const Vk="date_yesterday";function Wk(e){const t=b(e.value,e.meta.dateFormat);return!!t.isValid()&&t.isSame(b().subtract(1,"days").startOf("day"),"d")}ik(Vk,Wk,{name:qf,inputsCount:0});const zk="numeric",Gk="text",$k="date",qk={[zk]:[ok,MC,ak,uk,MC,hk,fk,MC,mk,vk,bk,_k,Rk,Ak],[Gk]:[ok,MC,ak,uk,MC,hk,fk,MC,Lk,Ok,MC,Pk,Fk],[$k]:[ok,MC,ak,uk,MC,hk,fk,MC,Mk,Sk,Rk,MC,Uk,jk,Vk]};function Kk(e){const t=[];let n=e;return qk[n]||(n=Gk),C(qk[n],(e=>{let n;n=e===MC?{name:MC}:yn(rk(e)),t.push(n)})),t}function Xk(e,t,n){return(t=Jk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jk(e){var t=Qk(e,"string");return"symbol"==typeof t?t:t+""}function Qk(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const Zk="built",eO="building",tO=["click","input","keydown","keypress","keyup","focus","blur","change"];class nO{static get DEFAULTS(){return yn({className:"",value:"",tagName:"div",children:[],wrapIt:!0})}constructor(e,t){Xk(this,"hot",void 0),Xk(this,"eventManager",new Wr(this)),Xk(this,"options",void 0),Xk(this,"_element",void 0),Xk(this,"buildState",void 0),this.hot=e,this.options=mn(nO.DEFAULTS,t),this._element=this.hot.rootDocument.createElement(this.options.wrapIt?"div":this.options.tagName)}setValue(e){this.options.value=e,this.update()}getValue(){return this.options.value}get element(){return this.buildState===eO?this._element:this.buildState===Zk?(this.update(),this._element):(this.buildState=eO,this.build(),this.buildState=Zk,this._element)}isBuilt(){return this.buildState===Zk}translateIfPossible(e){return"string"===typeof e&&e.startsWith(Cf)?this.hot.getTranslatedPhrase(e):e}build(){const e=(e,t)=>{this.eventManager.addEventListener(e,t,(e=>this.runLocalHooks(t,e,this)))};if(this.buildState||(this.buildState=eO),this._element.setAttribute("data-hot-input",!0),void 0!==this.options.tabIndex&&this._element.setAttribute("tabindex",this.options.tabIndex),void 0!==this.options.role&&this._element.setAttribute("role",this.options.role),this.options.className&&lt(this._element,this.options.className),this.options.children.length)C(this.options.children,(e=>this._element.appendChild(e.element)));else if(this.options.wrapIt){const t=this.hot.rootDocument.createElement(this.options.tagName);t.setAttribute("data-hot-input",!0),Sn(this.options,((e,n)=>{void 0!==t[n]&&"className"!==n&&"tagName"!==n&&"children"!==n&&(t[n]=this.translateIfPossible(e))})),this._element.appendChild(t),C(tO,(n=>e(t,n)))}else C(tO,(t=>e(this._element,t)))}update(){}reset(){this.options.value="",this.update()}show(){this.element.style.display=""}hide(){this.element.style.display="none"}focus(){}destroy(){this.eventManager.destroy(),this.eventManager=null,this.hot=null,this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null}}function rO(e,t){oO(e,t),t.add(e)}function iO(e,t,n){oO(e,t),t.set(e,n)}function oO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sO(e,t){return e.get(lO(e,t))}function aO(e,t,n){return e.set(lO(e,t),n),n}function lO(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}bn(nO,Mh);var uO=new WeakMap,cO=new WeakSet;class hO extends nO{static get DEFAULTS(){return yn({placeholder:"",type:"text",tagName:"input",tabIndex:-1})}constructor(e,t){super(e,mn(hO.DEFAULTS,t)),rO(this,cO),iO(this,uO,void 0),this.registerHooks()}registerHooks(){this.addLocalHook("keyup",(e=>lO(cO,this,dO).call(this,e)))}build(){super.build();const e=this.hot.rootDocument.createElement("div");aO(uO,this,this._element.firstChild),lt(this._element,"htUIInput"),lt(e,"htUIInputIcon"),this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(sO(uO,this).type=this.options.type,sO(uO,this).placeholder=this.translateIfPossible(this.options.placeholder),sO(uO,this).value=this.translateIfPossible(this.options.value))}focus(){this.isBuilt()&&sO(uO,this).focus()}}function dO(e){this.options.value=e.target.value}function fO(e,t){mO(e,t),t.add(e)}function pO(e,t,n){mO(e,t),t.set(e,n)}function mO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function gO(e,t,n){return e.set(yO(e,t),n),n}function vO(e,t){return e.get(yO(e,t))}function yO(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var bO=new WeakMap,wO=new WeakMap,_O=new WeakMap,EO=new WeakMap,SO=new WeakMap,TO=new WeakSet;class MO extends nO{static get DEFAULTS(){return yn({className:"htUISelect",wrapIt:!1,tabIndex:-1})}constructor(e,t){super(e,mn(MO.DEFAULTS,t)),fO(this,TO),pO(this,bO,null),pO(this,wO,[]),pO(this,_O,void 0),pO(this,EO,void 0),pO(this,SO,void 0),this.registerHooks()}getMenu(){return vO(bO,this)}registerHooks(){this.addLocalHook("click",(()=>yO(TO,this,xO).call(this)))}setItems(e){gO(wO,this,this.translateNames(e)),vO(bO,this)&&vO(bO,this).setMenuItems(vO(wO,this))}translateNames(e){return C(e,(e=>{e.name=this.translateIfPossible(e.name)})),e}build(){super.build(),gO(bO,this,new Qx(this.hot,{className:"htSelectUI htFiltersConditionsMenu",keepInViewport:!1,standalone:!0,container:this.options.menuContainer})),vO(bO,this).setMenuItems(vO(wO,this));const e=new nO(this.hot,{className:"htUISelectCaption"}),t=new nO(this.hot,{className:"htUISelectDropdown"});gO(_O,this,e),gO(EO,this,e.element),gO(SO,this,t),this.hot.getSettings().ariaTags&&(ct(t.element,[xe()]),ct(this._element,[_e()])),C([e,t],(e=>this._element.appendChild(e.element))),vO(bO,this).addLocalHook("select",(e=>yO(TO,this,CO).call(this,e))),vO(bO,this).addLocalHook("afterClose",(()=>yO(TO,this,RO).call(this))),this.update()}update(){if(!this.isBuilt())return;let e;e=this.options.value?this.options.value.name:vO(bO,this).hot.getTranslatedPhrase(xf),vO(EO,this).textContent=e,super.update()}openOptions(){const e=this.element.getBoundingClientRect();vO(bO,this)&&(vO(bO,this).open(),vO(bO,this).setPosition({left:this.hot.isLtr()?e.left-5:e.left-31,top:e.top-1,width:e.width,height:e.height}),vO(bO,this).getNavigator().toFirstItem(),vO(bO,this).getKeyboardShortcutsCtrl().addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:e=>{this.closeOptions(),this.runLocalHooks("tabKeydown",e)}},{keys:[["Control/Meta","A"]],callback:()=>!1}]))}closeOptions(){vO(bO,this)&&vO(bO,this).close()}focus(){this.isBuilt()&&this.element.focus()}destroy(){vO(bO,this)&&(vO(bO,this).destroy(),gO(bO,this,null)),vO(_O,this)&&vO(_O,this).destroy(),vO(SO,this)&&vO(SO,this).destroy(),super.destroy()}}function CO(e){e.name!==MC&&(this.options.value=e,this.update(),this.runLocalHooks("select",this.options.value))}function RO(){this.runLocalHooks("afterClose")}function xO(){this.openOptions()}function AO(e,t){NO(e,t),t.add(e)}function NO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LO(e,t,n){return(t=kO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kO(e){var t=OO(e,"string");return"symbol"==typeof t?t:t+""}function OO(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function IO(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var PO=new WeakSet;class DO extends ek{constructor(e,t){super(e,{id:t.id,stateless:!1}),AO(this,PO),LO(this,"name",""),LO(this,"addSeparator",!1),this.name=t.name,this.addSeparator=t.addSeparator,this.elements.push(new MO(this.hot,{menuContainer:t.menuContainer})),this.elements.push(new hO(this.hot,{placeholder:op})),this.elements.push(new hO(this.hot,{placeholder:sp})),this.registerHooks()}registerHooks(){this.getSelectElement().addLocalHook("select",(e=>IO(PO,this,FO).call(this,e))).addLocalHook("afterClose",(()=>this.runLocalHooks("afterClose"))).addLocalHook("tabKeydown",(e=>this.runLocalHooks("selectTabKeydown",e))),C(this.getInputElements(),(e=>{e.addLocalHook("keydown",(e=>IO(PO,this,HO).call(this,e)))}))}setState(e){if(this.reset(),!e)return;const t=yn(e.command);t.name.startsWith(Rf)&&(t.name=this.hot.getTranslatedPhrase(t.name)),this.getSelectElement().setValue(t),C(e.args,((e,n)=>{if(n>t.inputsCount-1)return!1;const r=this.getInputElement(n);r.setValue(e),r[t.inputsCount>n?"show":"hide"](),n||this.hot._registerTimeout((()=>r.focus()),10)}))}getState(){const e=this.getSelectElement().getValue()||rk(ok),t=[];return C(this.getInputElements(),((n,r)=>{e.inputsCount>r&&t.push(n.getValue())})),{command:e,args:t}}updateState(e,t){const n=rk(e?e.name:ok);this.state.setValueAtIndex(t,{command:n,args:e?e.args:[]}),e||C(this.getInputElements(),(e=>e.setValue(null)))}getSelectElement(){return this.elements.filter((e=>e instanceof MO))[0]}getInputElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.getInputElements()[e]}getInputElements(){return this.elements.filter((e=>e instanceof hO))}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,t,n,r,i,o)=>{lt(t.parentNode,"htFiltersMenuCondition"),this.addSeparator&&lt(t.parentNode,"border");const s=this.hot.rootDocument.createElement("div");return lt(s,"htFiltersMenuLabel"),s.textContent=o,t.appendChild(s),t.parentElement.hasAttribute("ghost-table")||C(this.elements,(e=>t.appendChild(e.element))),t}}}reset(){const e=this.hot.getPlugin("filters").getSelectedColumn();let t=[rk(ok)];if(null!==e){const{visualIndex:n}=e;t=Kk(this.hot.getDataType(0,n,this.hot.countRows(),n))}C(this.getInputElements(),(e=>e.hide())),this.getSelectElement().setItems(t),super.reset(),this.getSelectElement().setValue(t[0])}}function FO(e){C(this.getInputElements(),((t,n)=>{t[e.inputsCount>n?"show":"hide"](),0===n&&this.hot._registerTimeout((()=>t.focus()),10)})),this.runLocalHooks("change",e)}function HO(e){or(e.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),sr(e))}const UO={};function BO(e){if(!UO[e])throw Error(`Operation with id "${e}" does not exist.`);const t=UO[e].func;return function(e,n){return t(e,n)}}function jO(e){return UO[e].name}function YO(e,t,n){UO[e]={name:t,func:n}}const VO="conjunction",WO=Jf;function zO(e,t){return e.every((e=>e.func(t)))}YO(VO,WO,zO);const GO="disjunction",$O=Qf;function qO(e,t){return e.some((e=>e.func(t)))}YO(GO,$O,qO);const KO="disjunctionWithExtraCondition",XO=Qf;function JO(e,t){if(e.length<3)throw Error("Operation doesn't work on less then three conditions.");return e.slice(0,e.length-1).some((e=>e.func(t)))&&e[e.length-1].func(t)}function QO(e,t,n){ZO(e,t),t.set(e,n)}function ZO(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function eI(e,t){return e.get(nI(e,t))}function tI(e,t,n){return e.set(nI(e,t),n),n}function nI(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}YO(KO,XO,JO);var rI=new WeakMap,iI=new WeakMap;class oI extends nO{static get DEFAULTS(){return yn({type:"radio",tagName:"input",className:"htUIRadio",label:{}})}constructor(e,t){super(e,mn(oI.DEFAULTS,t)),QO(this,rI,void 0),QO(this,iI,void 0)}build(){super.build();const e=this.hot.rootDocument.createElement("label");e.textContent=this.translateIfPossible(this.options.label.textContent),e.htmlFor=this.translateIfPossible(this.options.label.htmlFor),tI(iI,this,e),tI(rI,this,this._element.firstChild),eI(rI,this).checked=this.options.checked,this._element.appendChild(e),this.update()}update(){this.isBuilt()&&(eI(iI,this).textContent=this.translateIfPossible(this.options.label.textContent))}isChecked(){return!!this.isBuilt()&&eI(rI,this).checked}setChecked(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isBuilt()&&(eI(rI,this).checked=e)}focus(){this.isBuilt()&&eI(rI,this).focus()}}function sI(e,t){aI(e,t),t.add(e)}function aI(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lI(e,t,n){return(t=uI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uI(e){var t=cI(e,"string");return"symbol"==typeof t?t:t+""}function cI(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function hI(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const dI=0;var fI=new WeakSet;class pI extends ek{constructor(e,t){super(e,{id:t.id,stateless:!1}),sI(this,fI),lI(this,"name",""),this.name=t.name,this.buildOperatorsElement()}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,t)=>(lt(t.parentNode,"htFiltersMenuOperators"),C(this.elements,(e=>t.appendChild(e.element))),t)}}buildOperatorsElement(){const e=[VO,GO];C(e,(t=>{const n=new oI(this.hot,{name:"operator",label:{htmlFor:t,textContent:jO(t)},value:t,checked:t===e[dI],id:t});n.addLocalHook("change",(e=>hI(fI,this,mI).call(this,e))),this.elements.push(n)}))}setChecked(e){if(this.elements.length<e)throw Error(F`Radio button with index ${e} doesn't exist.`);C(this.elements,((t,n)=>{t.setChecked(n===e)}))}getActiveOperationId(){const e=this.elements.find((e=>e instanceof oI&&e.isChecked()));return e?e.getValue():VO}getState(){return this.getActiveOperationId()}setState(e){this.reset(),e&&this.getActiveOperationId()!==e&&C(this.elements,(t=>{t.setChecked(t.getValue()===e)}))}updateState(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VO,t=arguments.length>1?arguments[1]:void 0,n=e;n===KO&&(n=GO),this.state.setValueAtIndex(t,n)}reset(){this.setChecked(dI)}}function mI(e){this.setState(e.target.value)}In();function gI(e,t){let n=e;return""===n&&(n=`(${t})`),n}const vI=new Set([1]).has(1),yI=vI&&"function"===typeof Array.from;function bI(e){let t=e;return vI&&(t=new Set(t)),function(e){let n;return n=vI?t.has(e):!!~t.indexOf(e),n}}function wI(e){return null===e||void 0===e?"":e}function _I(e){let t=e;return t=yI?Array.from(new Set(t)):k(t),t=t.sort(((e,t)=>"number"===typeof e&&"number"===typeof t?e-t:e===t?0:e>t?1:-1)),t}function EI(e,t,n,r){const i=[],o=e===t;let s;return o||(s=bI(t)),C(e,(e=>{let t=!1;(o||s(e))&&(t=!0);const a={checked:t,value:e,visualValue:gI(e,n)};r&&r(a),i.push(a)})),i}function SI(e,t,n){TI(e,t),t.set(e,n)}function TI(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function MI(e,t){return e.get(RI(e,t))}function CI(e,t,n){return e.set(RI(e,t),n),n}function RI(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var xI=new WeakMap;class AI extends nO{static get DEFAULTS(){return yn({href:"#",tagName:"a",tabIndex:-1,role:"button"})}constructor(e,t){super(e,mn(AI.DEFAULTS,t)),SI(this,xI,void 0)}build(){super.build(),CI(xI,this,this._element.firstChild)}update(){this.isBuilt()&&(MI(xI,this).textContent=this.translateIfPossible(this.options.textContent))}focus(){this.isBuilt()&&MI(xI,this).focus()}activate(){MI(xI,this).click()}}function NI(e,t){kI(e,t),t.add(e)}function LI(e,t,n){kI(e,t),t.set(e,n)}function kI(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function OI(e,t){return e.get(PI(e,t))}function II(e,t,n){return e.set(PI(e,t),n),n}function PI(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const DI="multipleSelect.itemBox";var FI=new WeakMap,HI=new WeakMap,UI=new WeakMap,BI=new WeakMap,jI=new WeakMap,YI=new WeakMap,VI=new WeakSet;class WI extends nO{static get DEFAULTS(){return yn({className:"htUIMultipleSelect",value:[]})}constructor(e,t){super(e,mn(WI.DEFAULTS,t)),NI(this,VI),LI(this,FI,[]),LI(this,HI,void 0),LI(this,UI,void 0),LI(this,BI,void 0),LI(this,jI,void 0),LI(this,YI,void 0),II(BI,this,new hO(this.hot,{placeholder:ip,className:"htUIMultipleSelectSearch"})),II(jI,this,new AI(this.hot,{textContent:ep,className:"htUISelectAll"})),II(YI,this,new AI(this.hot,{textContent:tp,className:"htUIClearAll"})),this.registerHooks()}getItemsBox(){return OI(HI,this)}registerHooks(){OI(BI,this).addLocalHook("keydown",(e=>PI(VI,this,GI).call(this,e))),OI(BI,this).addLocalHook("input",(e=>PI(VI,this,zI).call(this,e))),OI(jI,this).addLocalHook("click",(e=>PI(VI,this,$I).call(this,e))),OI(YI,this).addLocalHook("click",(e=>PI(VI,this,qI).call(this,e)))}setItems(e){var t;II(FI,this,e),null===(t=OI(HI,this))||void 0===t||t.loadData(OI(FI,this))}setLocale(e){II(UI,this,e)}getLocale(){return OI(UI,this)}getItems(){return[...OI(FI,this)]}getValue(){return XI(OI(FI,this))}getSearchInputElement(){return OI(BI,this)}getSelectAllElement(){return OI(jI,this)}getClearAllElement(){return OI(YI,this)}isSelectedAllValues(){return OI(FI,this).length===this.getValue().length}build(){super.build();const{rootDocument:e}=this.hot,t=e.createElement("div"),n=new nO(this.hot,{className:"htUISelectionControls",children:[OI(jI,this),OI(YI,this)]});this._element.appendChild(OI(BI,this).element),this._element.appendChild(n.element),this._element.appendChild(t);const r=t=>{var n;if(!this._element)return;null===(n=OI(HI,this))||void 0===n||n.destroy(),lt(t,"htUIMultipleSelectHot"),II(HI,this,new this.hot.constructor(t,{data:OI(FI,this),columns:[{data:"checked",type:"checkbox",label:{property:"visualValue",position:"after"}}],beforeRenderer:(e,t,n,r,i,o)=>{e.title=o.instance.getDataAtRowProp(t,o.label.property)},afterListen:()=>{this.runLocalHooks("focus",this)},beforeOnCellMouseUp:()=>{OI(HI,this).listen()},colWidths:()=>OI(HI,this).container.scrollWidth-Vt(e),maxCols:1,autoWrapCol:!0,height:110,copyPaste:!1,disableVisualSelection:"area",fillHandle:!1,fragmentSelection:"cell",tabMoves:{row:1,col:0},layoutDirection:this.hot.isRtl()?"rtl":"ltr"})),OI(HI,this).init();const r=OI(HI,this).getShortcutManager(),i=r.getContext("grid");i.removeShortcutsByKeys(["Tab"]),i.removeShortcutsByKeys(["Shift","Tab"]),i.addShortcut({keys:[["Escape"]],callback:e=>{this.runLocalHooks("keydown",e,this)},group:DI}),i.addShortcut({keys:[["Tab"],["Shift","Tab"]],callback:e=>{OI(HI,this).deselectCell(),this.runLocalHooks("keydown",e,this),this.runLocalHooks("listTabKeydown",e,this)},group:DI})};r(t),this.hot._registerTimeout((()=>r(t)),100)}focus(){this.isBuilt()&&OI(HI,this).listen()}reset(){OI(BI,this).reset(),OI(jI,this).reset(),OI(YI,this).reset()}update(){this.isBuilt()&&(OI(HI,this).loadData(KI(OI(FI,this),this.options.value)),super.update())}destroy(){var e;null===(e=OI(HI,this))||void 0===e||e.destroy(),OI(BI,this).destroy(),OI(YI,this).destroy(),OI(jI,this).destroy(),II(BI,this,null),II(YI,this,null),II(jI,this,null),II(HI,this,null),II(FI,this,null),super.destroy()}}function zI(e){const t=e.target.value.toLocaleLowerCase(this.getLocale());let n;n=""===t?[...OI(FI,this)]:OI(FI,this).filter((e=>`${e.value}`.toLocaleLowerCase(this.getLocale()).indexOf(t)>=0)),OI(HI,this).loadData(n)}function GI(e){this.runLocalHooks("keydown",e,this);const t=un(or,e.keyCode);t("ARROW_DOWN")&&(e.preventDefault(),sr(e),OI(HI,this).listen(),OI(HI,this).selectCell(0,0))}function $I(e){const t=[];e.preventDefault(),OI(HI,this).getSourceData().forEach(((e,n)=>{e.checked=!0,t.push(ph(e,n)[0])})),OI(HI,this).setSourceDataAtCell(t)}function qI(e){const t=[];e.preventDefault(),OI(HI,this).getSourceData().forEach(((e,n)=>{e.checked=!1,t.push(ph(e,n)[0])})),OI(HI,this).setSourceDataAtCell(t)}function KI(e,t){const n=bI(t);return e.map((e=>(e.checked=n(e.value),e)))}function XI(e){const t=[];return e.forEach((e=>{e.checked&&t.push(e.value)})),t}const JI="by_value";function QI(e,t){let[n]=t;return n(e.value)}function ZI(e,t){eP(e,t),t.add(e)}function eP(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tP(e,t,n){return(t=nP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nP(e){var t=rP(e,"string");return"symbol"==typeof t?t:t+""}function rP(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function iP(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}ik(JI,QI,{name:"By value",inputsCount:0,inputValuesDecorator(e){let[t]=e;return[bI(t)]},showOperators:!1});var oP,sP=new WeakSet;class aP extends ek{constructor(e,t){super(e,{id:t.id,stateless:!1}),ZI(this,sP),tP(this,"name",""),this.name=t.name,this.elements.push(new WI(this.hot)),this.registerHooks()}registerHooks(){this.getMultipleSelectElement().addLocalHook("keydown",(e=>iP(sP,this,lP).call(this,e))).addLocalHook("listTabKeydown",(e=>this.runLocalHooks("listTabKeydown",e))),this.hot.addHook("modifyFiltersMultiSelectValue",((e,t)=>iP(sP,this,cP).call(this,e,t)))}getElements(){const e=this.getMultipleSelectElement();return[e.getSearchInputElement(),e.getSelectAllElement(),e.getClearAllElement(),this.getMultipleSelectElement()]}setState(e){if(this.reset(),e&&e.command.key===JI){const t=this.getMultipleSelectElement();t.setItems(e.itemsSnapshot),t.setValue(e.args[0]),t.setLocale(e.locale)}}getState(){const e=this.getMultipleSelectElement(),t=e.getItems();return{command:{key:e.isSelectedAllValues()||!t.length?ok:JI},args:[e.getValue()],itemsSnapshot:t}}updateState(e){const t=(t,n,r,i,o)=>{const[s]=T(n,(e=>e.name===JI)),a={},l=this.hot.getTranslatedPhrase(Zf);if(s){const n=i(t,o),u=M(n,(e=>e.value)),c=new Map(n.map((e=>[e.value,this.hot.getCellMeta(e.meta.visualRow,e.meta.visualCol)]))),h=_I(u);r&&(s.args[0]=r);const d=[],f=EI(h,s.args[0],l,(e=>{e.checked&&d.push(e.value),iP(sP,this,uP).call(this,e,c)})),p=e.editedConditionStack.column;a.locale=this.hot.getCellMeta(0,p).locale,a.args=[d],a.command=rk(JI),a.itemsSnapshot=f}else a.args=[],a.command=rk(ok);this.state.setValueAtIndex(t,a)};t(e.editedConditionStack.column,e.editedConditionStack.conditions,e.conditionArgsChange,e.filteredRowsFactory),e.dependentConditionStacks.length&&t(e.dependentConditionStacks[0].column,e.dependentConditionStacks[0].conditions,e.conditionArgsChange,e.filteredRowsFactory,e.editedConditionStack)}getMultipleSelectElement(){return this.elements.filter((e=>e instanceof WI))[0]}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,t,n,r,i,o)=>{lt(t.parentNode,"htFiltersMenuValue");const s=this.hot.rootDocument.createElement("div");return lt(s,"htFiltersMenuLabel"),s.textContent=o,t.appendChild(s),t.parentElement.hasAttribute("ghost-table")||C(this.elements,(e=>t.appendChild(e.element))),t}}}reset(){const e=this.hot.getTranslatedPhrase(Zf),t=this._getColumnVisibleValues(),n=t.map((e=>e.value)),r=new Map(t.map((e=>[e.value,e.meta]))),i=_I(n),o=EI(i,i,e,(e=>{iP(sP,this,uP).call(this,e,r)}));this.getMultipleSelectElement().setItems(o),super.reset(),this.getMultipleSelectElement().setValue(i);const s=this.hot.getPlugin("filters").getSelectedColumn();null!==s&&this.getMultipleSelectElement().setLocale(this.hot.getCellMeta(0,s.visualIndex).locale)}_getColumnVisibleValues(){const e=this.hot.getPlugin("filters").getSelectedColumn();return null===e?[]:M(this.hot.getDataAtCol(e.visualIndex),((t,n)=>({value:wI(t),meta:this.hot.getCellMeta(n,e.visualIndex)})))}}function lP(e){or(e.keyCode,"ESCAPE")&&(this.runLocalHooks("cancel"),sr(e))}function uP(e,t){this.hot.hasHook("modifyFiltersMultiSelectValue")&&(e.visualValue=this.hot.runHooks("modifyFiltersMultiSelectValue",e.visualValue,t.get(e.value)))}function cP(e,t){switch(t.type){case"numeric":return Xw(e,t);default:return e}}function hP(e,t){dP(e,t),t.add(e)}function dP(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fP(e,t,n){return(t=pP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pP(e){var t=mP(e,"string");return"symbol"==typeof t?t:t+""}function mP(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function gP(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var vP=new WeakSet;class yP extends ek{static get BUTTON_OK(){return"ok"}static get BUTTON_CANCEL(){return"cancel"}constructor(e,t){super(e,{id:t.id,stateless:!0}),hP(this,vP),fP(this,"name",""),this.name=t.name,this.elements.push(new hO(this.hot,{type:"button",value:np,className:"htUIButton htUIButtonOK",identifier:yP.BUTTON_OK})),this.elements.push(new hO(this.hot,{type:"button",value:rp,className:"htUIButton htUIButtonCancel",identifier:yP.BUTTON_CANCEL})),this.registerHooks()}registerHooks(){C(this.elements,(e=>{e.addLocalHook("click",((e,t)=>gP(vP,this,bP).call(this,e,t)))}))}getMenuItemDescriptor(){return{key:this.id,name:this.name,isCommand:!1,disableSelection:!0,hidden:()=>this.isHidden(),renderer:(e,t)=>(lt(t.parentNode,"htFiltersMenuActionBar"),C(this.elements,(e=>t.appendChild(e.element))),t)}}accept(){this.runLocalHooks("accept")}cancel(){this.runLocalHooks("cancel")}}function bP(e,t){t.options.identifier===oP.BUTTON_OK?this.accept():this.cancel()}function wP(e,t,n){return(t=_P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _P(e){var t=EP(e,"string");return"symbol"==typeof t?t:t+""}function EP(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}oP=yP;const SP="ConditionCollection.filteringStates";class TP{constructor(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];wP(this,"hot",void 0),wP(this,"isMapRegistrable",void 0),wP(this,"filteringStates",new Yh),wP(this,"previousConditionStack",null),this.hot=e,this.isMapRegistrable=t,!0===this.isMapRegistrable?this.hot.columnIndexMapper.registerMap(SP,this.filteringStates):this.filteringStates.init(this.hot.columnIndexMapper.getNumberOfIndexes())}isEmpty(){return 0===this.getFilteredColumns().length}isMatch(e,t){var n;const r=this.filteringStates.getValueAtIndex(t),i=null!==(n=null===r||void 0===r?void 0:r.conditions)&&void 0!==n?n:[],o=null===r||void 0===r?void 0:r.operation;return this.isMatchInConditions(i,e,o)}isMatchInConditions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:VO;return!e.length||BO(n)(e,t)}addCondition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:VO,r=arguments.length>3?arguments[3]:void 0;const i=this.hot.getCellMeta(0,e).locale,o=M(t.args,(e=>"string"===typeof e?e.toLocaleLowerCase(i):e)),s=t.name||t.command.key;null===this.previousConditionStack&&this.setPreviousConditionStack(this.exportAllConditions()),this.runLocalHooks("beforeAdd",e);const a=this.getOperation(e);if(a){if(a!==n)throw Error(F`The column of index ${e} has been already applied with a \`${a}\`\x20
        filter operation. Use \`removeConditions\` to clear the current conditions and then add new ones.\x20
        Mind that you cannot mix different types of operations (for instance, if you use \`conjunction\`,\x20
        use it consequently for a particular column).`)}else if(B(UO[n]))throw new Error(F`Unexpected operation named \`${n}\`. Possible ones are\x20
        \`disjunction\` and \`conjunction\`.`);const l=this.getConditions(e);0===l.length?this.filteringStates.setValueAtIndex(e,{operation:n,conditions:[{name:s,args:o,func:nk(s,o)}]},r):l.push({name:s,args:o,func:nk(s,o)}),this.runLocalHooks("afterAdd",e)}getConditions(e){var t,n;return null!==(t=null===(n=this.filteringStates.getValueAtIndex(e))||void 0===n?void 0:n.conditions)&&void 0!==t?t:[]}getOperation(e){var t;return null===(t=this.filteringStates.getValueAtIndex(e))||void 0===t?void 0:t.operation}getFilteredColumns(){return this.filteringStates.getEntries().map((e=>{let[t]=e;return t}))}getColumnStackPosition(e){return this.getFilteredColumns().indexOf(e)}exportAllConditions(){return S(this.filteringStates.getEntries(),((e,t)=>{let[n,{operation:r,conditions:i}]=t;return e.push({column:n,operation:r,conditions:M(i,(e=>{let{name:t,args:n}=e;return{name:t,args:n}}))}),e}),[])}importAllConditions(e){this.clean(),C(e,(e=>{C(e.conditions,(t=>this.addCondition(e.column,t)))}))}removeConditions(e){this.setPreviousConditionStack(this.exportAllConditions()),this.runLocalHooks("beforeRemove",e),this.filteringStates.clearValue(e),this.runLocalHooks("afterRemove",e)}clean(){this.runLocalHooks("beforeClean"),this.filteringStates.clear(),this.runLocalHooks("afterClean")}hasConditions(e,t){const n=this.getConditions(e);return t?n.some((e=>e.name===t)):n.length>0}setPreviousConditionStack(e){this.previousConditionStack=e}destroy(){this.isMapRegistrable&&this.hot.columnIndexMapper.unregisterMap(SP),this.filteringStates=null,this.clearLocalHooks()}}bn(TP,Mh);var MP=TP;function CP(e,t,n){return(t=RP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RP(e){var t=xP(e,"string");return"symbol"==typeof t?t:t+""}function xP(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class AP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>[];CP(this,"conditionCollection",void 0),CP(this,"columnDataFactory",void 0),this.conditionCollection=e,this.columnDataFactory=t}filter(){let e=[];return C(this.conditionCollection.getFilteredColumns(),((t,n)=>{let r=this.columnDataFactory(t);n&&(r=this._getIntersectData(r,e)),e=this.filterByColumn(t,r)})),e}filterByColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=[];return C(t,(t=>{void 0!==t&&this.conditionCollection.isMatch(t,e)&&n.push(t)})),n}_getIntersectData(e,t){const n=[];return C(t,(t=>{const r=t.meta.visualRow;void 0!==e[r]&&(n[r]=e[r])})),n}}var NP=AP;function LP(e,t){kP(e,t),t.add(e)}function kP(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function OP(e,t,n){return(t=IP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IP(e){var t=PP(e,"string");return"symbol"==typeof t?t:t+""}function PP(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function DP(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var FP=new WeakSet;class HP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>[];LP(this,FP),OP(this,"hot",void 0),OP(this,"conditionCollection",void 0),OP(this,"columnDataFactory",void 0),OP(this,"changes",[]),OP(this,"grouping",!1),OP(this,"latestEditedColumnPosition",-1),OP(this,"latestOrderStack",[]),this.hot=e,this.conditionCollection=t,this.columnDataFactory=n,this.conditionCollection.addLocalHook("beforeRemove",(e=>DP(FP,this,UP).call(this,e))),this.conditionCollection.addLocalHook("afterRemove",(e=>this.updateStatesAtColumn(e))),this.conditionCollection.addLocalHook("afterAdd",(e=>this.updateStatesAtColumn(e))),this.conditionCollection.addLocalHook("beforeClean",(()=>DP(FP,this,BP).call(this))),this.conditionCollection.addLocalHook("afterClean",(()=>DP(FP,this,jP).call(this)))}groupChanges(){this.grouping=!0}flush(){this.grouping=!1,C(this.changes,(e=>{this.updateStatesAtColumn(e)})),this.changes.length=0}updateStatesAtColumn(e,t){var n=this;if(this.grouping)return void(-1===this.changes.indexOf(e)&&this.changes.push(e));const r=this.conditionCollection.exportAllConditions();let i=this.conditionCollection.getColumnStackPosition(e);-1===i&&(i=this.latestEditedColumnPosition);const o=r.slice(0,i),s=r.slice(i);s.length&&s[0].column===e&&s.shift();const a=cn((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const i=new MP(n.hot,!1),o=[].concat(e,r);i.importAllConditions(o);const s=n.columnDataFactory(t);let a;a=i.isEmpty()?s:new NP(i,(e=>n.columnDataFactory(e))).filter(),a=M(a,(e=>e.meta.visualRow));const l=bI(a);return i.destroy(),T(s,(e=>l(e.meta.visualRow)))}))(o),l=[].concat(this.conditionCollection.getConditions(e));this.runLocalHooks("update",{editedConditionStack:{column:e,conditions:l},dependentConditionStacks:s,filteredRowsFactory:a,conditionArgsChange:t})}destroy(){this.clearLocalHooks(),Sn(this,((e,t)=>{this[t]=null}))}}function UP(e){this.latestEditedColumnPosition=this.conditionCollection.getColumnStackPosition(e)}function BP(){this.latestOrderStack=this.conditionCollection.getFilteredColumns()}function jP(){C(this.latestOrderStack,(e=>{this.updateStatesAtColumn(e)}))}bn(HP,Mh);var YP=HP;function VP(e){const t=yx({initialPage:0,size:()=>e.length,onItemSelect:(t,n)=>{const r=e[t];return r instanceof WI?n:!(r.element&&!vt(r.element))&&void r.focus()}});return t}const WP="filters";function zP(e,t){let n=-1;const r=VP(t),i=n=>()=>{e.isOpened()&&e.getKeyboardShortcutsCtrl().listen(WP),r.setCurrentPage(t.indexOf(n))};function o(i){const o=e.getKeyboardShortcutsCtrl(),s=i.getKeyboardShortcutsCtrl();r.clear(),s.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],forwardToContext:o.getContext(WP),callback:()=>{i.isSubMenu()&&i.close(),o.listen(WP)}}]),i.isSubMenu()||o.addCustomShortcuts([{keys:[["Tab"],["Shift","Tab"]],callback:t=>{const i=e.getNavigator();i.getCurrentPage()>-1&&(n=i.getCurrentPage()),i.clear(),t.shiftKey?r.toPreviousItem():r.toNextItem()}},{keys:[["Escape"]],callback:()=>{e.close()}},{keys:[["Enter"],["Space"]],preventDefault:!1,callback:e=>{const n=t[r.getCurrentPage()];n instanceof MO&&(n.openOptions(),e.preventDefault()),n instanceof AI&&(n.activate(),e.preventDefault()),n instanceof nO||e.preventDefault()}}],WP)}function s(){e.focus(),e.getKeyboardShortcutsCtrl().listen(WP)}function a(){return n}return t.forEach((e=>{e instanceof nO&&(e.addLocalHook("click",i(e)),e.addLocalHook("focus",i(e)),e.addLocalHook("afterClose",i(e)))})),e.addLocalHook("afterSelectionChange",(e=>{e.key.startsWith("filter_")||r.clear()})),e.addLocalHook("afterSubmenuOpen",o),e.addLocalHook("afterOpen",o),{...r,listen:s,getLastMenuPage:a}}function GP(e,t){qP(e,t),t.add(e)}function $P(e,t,n){qP(e,t),t.set(e,n)}function qP(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KP(e,t,n){return(t=XP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XP(e){var t=JP(e,"string");return"symbol"==typeof t?t:t+""}function JP(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function QP(e,t,n){return e.set(eD(e,t),n),n}function ZP(e,t){return e.get(eD(e,t))}function eD(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const tD="filters",nD=250,rD=tD;var iD=new WeakMap,oD=new WeakSet;class sD extends tE{static get PLUGIN_KEY(){return tD}static get PLUGIN_PRIORITY(){return nD}static get PLUGIN_DEPS(){return["plugin:DropdownMenu","plugin:HiddenRows","cell-type:checkbox"]}constructor(e){super(e),GP(this,oD),KP(this,"dropdownMenuPlugin",null),KP(this,"conditionCollection",null),KP(this,"conditionUpdateObserver",null),KP(this,"components",new Map([["filter_by_condition",null],["filter_operators",null],["filter_by_condition2",null],["filter_by_value",null],["filter_action_bar",null]])),KP(this,"filtersRowsMap",null),$P(this,iD,void 0),this.hot.addHook("afterGetColHeader",((e,t)=>eD(oD,this,pD).call(this,e,t)))}isEnabled(){return!!this.hot.getSettings()[tD]}enablePlugin(){if(this.enabled)return;this.filtersRowsMap=this.hot.rowIndexMapper.registerMap(this.pluginName,new Vh),this.dropdownMenuPlugin=this.hot.getPlugin("dropdownMenu");const e=this.hot.getSettings().dropdownMenu,t=e&&e.uiContainer||this.hot.rootDocument.body,n=e=>(e.addLocalHook("accept",(()=>eD(oD,this,hD).call(this,"accept"))),e.addLocalHook("cancel",(()=>eD(oD,this,hD).call(this,"cancel"))),e.addLocalHook("change",(t=>eD(oD,this,dD).call(this,e,t))),e),r=()=>`${this.hot.getTranslatedPhrase(Kf)}:`,i=()=>`${this.hot.getTranslatedPhrase(Xf)}:`;if(!this.components.get("filter_by_condition")){const e=new DO(this.hot,{id:"filter_by_condition",name:r,addSeparator:!1,menuContainer:t});e.addLocalHook("afterClose",(()=>eD(oD,this,fD).call(this))),this.components.set("filter_by_condition",n(e))}if(this.components.get("filter_operators")||this.components.set("filter_operators",new pI(this.hot,{id:"filter_operators",name:"Operators"})),!this.components.get("filter_by_condition2")){const e=new DO(this.hot,{id:"filter_by_condition2",name:"",addSeparator:!0,menuContainer:t});e.addLocalHook("afterClose",(()=>eD(oD,this,fD).call(this))),this.components.set("filter_by_condition2",n(e))}if(this.components.get("filter_by_value")||this.components.set("filter_by_value",n(new aP(this.hot,{id:"filter_by_value",name:i}))),this.components.get("filter_action_bar")||this.components.set("filter_action_bar",n(new yP(this.hot,{id:"filter_action_bar",name:"Action bar"}))),this.conditionCollection||(this.conditionCollection=new MP(this.hot)),this.conditionUpdateObserver||(this.conditionUpdateObserver=new YP(this.hot,this.conditionCollection,(e=>this.getDataMapAtColumn(e))),this.conditionUpdateObserver.addLocalHook("update",(e=>eD(oD,this,mD).call(this,e)))),this.components.forEach((e=>e.show())),this.addHook("afterDropdownMenuDefaultOptions",(e=>eD(oD,this,cD).call(this,e))),this.addHook("afterDropdownMenuShow",(()=>eD(oD,this,lD).call(this))),this.addHook("afterDropdownMenuHide",(()=>eD(oD,this,uD).call(this))),this.addHook("afterChange",(e=>eD(oD,this,aD).call(this,e))),this.hot.getSettings().dropdownMenu&&this.dropdownMenuPlugin&&(this.dropdownMenuPlugin.disablePlugin(),this.dropdownMenuPlugin.enablePlugin()),!ZP(iD,this)&&this.dropdownMenuPlugin.enabled){const e=this.dropdownMenuPlugin.menu,t=[{focus:()=>{const t=e.getNavigator(),n=ZP(iD,this).getLastMenuPage();e.focus(),n>0?t.setCurrentPage(n):t.toFirstItem()}},...Array.from(this.components).map((e=>{let[,t]=e;return t.getElements()})).flat()];QP(iD,this,zP(e,t));const n=e=>{ZP(iD,this).listen(),e.preventDefault(),or(e.keyCode,"TAB")&&(e.shiftKey?ZP(iD,this).toPreviousItem():ZP(iD,this).toNextItem())};this.components.get("filter_by_value").addLocalHook("listTabKeydown",n),this.components.get("filter_by_condition").addLocalHook("selectTabKeydown",n)}this.registerShortcuts(),super.enablePlugin()}disablePlugin(){var e;this.enabled&&(null!==(e=this.dropdownMenuPlugin)&&void 0!==e&&e.enabled&&this.dropdownMenuPlugin.menu.clearLocalHooks(),this.components.forEach(((e,t)=>{e.destroy(),this.components.set(t,null)})),this.conditionCollection.destroy(),this.conditionCollection=null,this.hot.rowIndexMapper.unregisterMap(this.pluginName));this.unregisterShortcuts(),super.disablePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Alt","A"]],stopPropagation:!0,callback:()=>{const e=this.hot.getSelected();this.clearConditions(),this.filter(),e&&this.hot.selectCells(e)},group:rD})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(rD)}addCondition(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:VO;const i=this.hot.toPhysicalColumn(e);this.conditionCollection.addCondition(i,{command:{key:t},args:n},r)}removeConditions(e){const t=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(t)}clearConditions(e){if(void 0===e)this.conditionCollection.clean();else{const t=this.hot.toPhysicalColumn(e);this.conditionCollection.removeConditions(t)}}filter(){const{navigableHeaders:e}=this.hot.getSettings(),t=this._createDataFilter(),n=!this.conditionCollection.isEmpty();let r=[];const i=this.conditionCollection.exportAllConditions(),o=this.hot.runHooks("beforeFilter",i,this.conditionCollection.previousConditionStack);if(!1!==o)if(n){const n=[];this.hot.batchExecution((()=>{this.filtersRowsMap.clear(),r=M(t.filter(),(e=>e.meta.visualRow));const e=bI(r);Ni(this.hot.countSourceRows()-1,(t=>{e(t)||n.push(t)})),C(n,(e=>{this.filtersRowsMap.setValueAtIndex(e,!0)}))}),!0),e||r.length||this.hot.deselectCell()}else this.filtersRowsMap.clear();this.hot.runHooks("afterFilter",i),this.conditionCollection.setPreviousConditionStack(null),this.hot.view.adjustElementsSize(),this.hot.render(),this.hot.selection.isSelected()&&this.hot.selectCell(e?-1:0,this.hot.getSelectedRangeLast().highlight.col)}getSelectedColumn(){var e;const t=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return t?{visualIndex:t.col,physicalIndex:this.hot.toPhysicalColumn(t.col)}:null}getDataMapAtColumn(e){const t=this.hot.toVisualColumn(e),n=[];return C(this.hot.getSourceDataAtCol(t),((e,r)=>{var i;const{row:o,col:s,visualCol:a,visualRow:l,type:u,instance:c,dateFormat:h,locale:d}=this.hot.getCellMeta(r,t),f=null!==(i=this.hot.getDataAtCell(this.hot.toVisualRow(r),t))&&void 0!==i?i:e;n.push({meta:{row:o,col:s,visualCol:a,visualRow:l,type:u,instance:c,dateFormat:h,locale:d},value:wI(f)})})),n}updateValueComponentCondition(e){const t=this.hot.getDataAtCol(e),n=_I(t);this.conditionUpdateObserver.updateStatesAtColumn(e,n)}restoreComponents(e){var t;const n=null===(t=this.getSelectedColumn())||void 0===t?void 0:t.physicalIndex;e.forEach((e=>{e.isHidden()||e.restoreState(n)})),this.updateDependentComponentsVisibility()}getOperationBasedOnArguments(e,t,n,r){let i=e;return i===GO&&t.command.key!==ok&&n.command.key!==ok&&r.command.key!==ok?i=KO:r.command.key!==ok&&(t.command.key!==ok&&n.command.key!==ok||(i=VO)),i}setListeningDropdownMenu(){this.dropdownMenuPlugin&&this.dropdownMenuPlugin.setListening()}updateDependentComponentsVisibility(){const e=this.components.get("filter_by_condition"),{command:t}=e.getState(),n=[this.components.get("filter_by_condition2"),this.components.get("filter_operators")];t.showOperators?this.showComponents(...n):this.hideComponents(...n)}_createDataFilter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.conditionCollection;return new NP(e,(e=>this.getDataMapAtColumn(e)))}getIndexesOfComponents(){const e=[];if(!this.dropdownMenuPlugin)return e;const t=this.dropdownMenuPlugin.menu;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return C(r,(n=>{C(t.menuItems,((t,r)=>{t.key===n.getMenuItemDescriptor().key&&e.push(r)}))})),e}changeComponentsVisibility(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.dropdownMenuPlugin)return;const t=this.dropdownMenuPlugin.menu,n=t.hotMenu,r=n.getPlugin("hiddenRows");for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];const a=this.getIndexesOfComponents(...o);e?r.showRows(a):r.hideRows(a),n.render()}hideComponents(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.changeComponentsVisibility(!1,...t)}showComponents(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.changeComponentsVisibility(!0,...t)}destroy(){this.enabled&&(this.components.forEach(((e,t)=>{null!==e&&(e.destroy(),this.components.set(t,null))})),this.conditionCollection.destroy(),this.conditionUpdateObserver.destroy(),this.hot.rowIndexMapper.unregisterMap(this.pluginName)),super.destroy()}}function aD(e){e&&C(e,(e=>{const[,t]=e,n=this.hot.propToCol(t);this.conditionCollection.hasConditions(n)&&this.updateValueComponentCondition(n)}))}function lD(){const e=this.dropdownMenuPlugin.menu;this.restoreComponents(Array.from(this.components.values())),e.updateMenuDimensions()}function uD(){this.components.get("filter_by_condition").getSelectElement().closeOptions(),this.components.get("filter_by_condition2").getSelectElement().closeOptions()}function cD(e){e.items.push({name:MC}),this.components.forEach((t=>{e.items.push(t.getMenuItemDescriptor())}))}function hD(e){var t;if("accept"===e){const e=this.getSelectedColumn();var n;if(null===e)return void(null===(n=this.dropdownMenuPlugin)||void 0===n||n.close());const{physicalIndex:t}=e,r=this.components.get("filter_by_condition").getState(),i=this.components.get("filter_by_condition2").getState(),o=this.components.get("filter_by_value").getState(),s=this.getOperationBasedOnArguments(this.components.get("filter_operators").getActiveOperationId(),r,i,o);this.conditionUpdateObserver.groupChanges();let a=this.conditionCollection.getColumnStackPosition(t);-1===a&&(a=void 0),this.conditionCollection.removeConditions(t),r.command.key!==ok&&(this.conditionCollection.addCondition(t,r,s,a),i.command.key!==ok&&this.conditionCollection.addCondition(t,i,s,a)),o.command.key!==ok&&this.conditionCollection.addCondition(t,o,s,a),this.conditionUpdateObserver.flush(),this.components.forEach((e=>e.saveState(t))),this.filtersRowsMap.clear(),this.filter()}null===(t=this.dropdownMenuPlugin)||void 0===t||t.close()}function dD(e,t){this.updateDependentComponentsVisibility(),e.constructor!==DO||t.inputsCount||this.setListeningDropdownMenu()}function fD(){this.setListeningDropdownMenu()}function pD(e,t){const n=this.hot.toPhysicalColumn(e);this.enabled&&this.conditionCollection.hasConditions(n)?lt(t,"htFiltersActive"):ut(t,"htFiltersActive")}function mD(e){var t;if(null===(t=this.dropdownMenuPlugin)||void 0===t||!t.enabled)return;const{editedConditionStack:{conditions:n,column:r}}=e,i=n.filter((e=>e.name===JI)),o=n.filter((e=>e.name!==JI));if(i.length>=2||o.length>=3)dr(F`The filter conditions have been applied properly, but couldnt be displayed visually.\x20
        The overall amount of conditions exceed the capability of the dropdown menu.\x20
        For more details see the documentation.`);else{const t=this.conditionCollection.getOperation(r);this.components.get("filter_by_condition").updateState(o[0],r),this.components.get("filter_by_condition2").updateState(o[1],r),this.components.get("filter_operators").updateState(t,r),this.components.get("filter_by_value").updateState(e)}}const gD="internal-use-in-handsontable",vD={licenseKey:gD,useArrayArithmetic:!0,useColumnIndex:!1,useStats:!1,evaluateNullToZero:!0,precisionEpsilon:1e-13,precisionRounding:14,smartRounding:!0,leapYear1900:!1,nullDate:{year:1899,month:12,day:30},nullYear:30,dateFormats:["DD/MM/YYYY","DD/MM/YY"],timeFormats:["hh:mm","hh:mm:ss.sss"],matchWholeCell:!0,useRegularExpressions:!1,useWildcards:!0,functionArgSeparator:",",thousandSeparator:"",decimalSeparator:".",language:"enGB"};function yD(e){var t;return{maxColumns:e.maxColumns,maxRows:e.maxRows,language:null===(t=e[AF])||void 0===t||null===(t=t.language)||void 0===t?void 0:t.langCode}}function bD(e){return Object.keys(e).reduce(((t,n)=>("hyperformula"!==n&&(t[n]=e[n]),t)),{})}function wD(e){var t;const n=e[AF],r=bD(null!==n&&void 0!==n&&null!==(t=n.engine)&&void 0!==t&&t.hyperformula?n.engine:{}),i=yD(e);return{...vD,...r,...i}}function _D(e){var t;const n=e[AF],r=bD(null!==n&&void 0!==n&&null!==(t=n.engine)&&void 0!==t&&t.hyperformula?n.engine:{}),i=yD(e);return{...r,...i}}function ED(e,t){return Object.keys(t).some((n=>void 0!==t[n]&&t[n]!==e[n]))}function SD(){const e="engine_relationship",t=Rr(AF);return t.hasItem(e)||t.register(e,new Map),t.getItem(e)}function TD(){const e="shared_engine_usage",t=Rr(AF);return t.hasItem(e)||t.register(e,new Map),t.getItem(e)}function MD(e){const t=e.getSettings(),n=t[AF],r=null===n||void 0===n?void 0:n.engine;if(!0===n)return null;if(B(r))return null;var i;if("function"===typeof r.hyperformula||"function"===typeof r)return CD(null!==(i=r.hyperformula)&&void 0!==i?i:r,t,e);if("object"===typeof r&&B(r.hyperformula)){const t=SD(),n=TD().get(r);return t.has(r)||t.set(r,[]),t.get(r).push(e),n&&n.push(e.guid),r.getConfig().licenseKey||r.updateConfig({licenseKey:gD}),r.getConfig().leapYear1900===vD.leapYear1900&&!1!==wn(r.getConfig().nullDate,vD.nullDate)||dr(F`If you use HyperFormula with Handsontable, keep the default \`leapYear1900\` and \`nullDate\` 
      settings. Otherwise, HyperFormula's dates may not sync correctly with Handsontable's dates.`),r}return null}function CD(e,t,n){const r=t[AF],i=wD(t),o=SD(),s=TD();AD(e,r.functions),ND(e,r.language);const a=e.buildEmpty(i);return o.set(a,[n]),s.set(a,[n.guid]),LD(a,r.namedExpressions),a.on("sheetAdded",(()=>{a.rebuildAndRecalculate()})),a.on("sheetRemoved",(()=>{a.rebuildAndRecalculate()})),a}function RD(e){var t;const n=SD(),r=0===n.size?[]:Array.from(null!==(t=n.get(e))&&void 0!==t?t:[]);return new Map(r.map((e=>[e.getPlugin("formulas").sheetId,e])))}function xD(e,t){if(e){const n=SD(),r=n.get(e),i=TD(),o=i.get(e);r&&r.includes(t)&&(r.splice(r.indexOf(t),1),0===r.length&&n.delete(e)),o&&o.includes(t.guid)&&(o.splice(o.indexOf(t.guid),1),0===o.length&&(i.delete(e),e.destroy()))}}function AD(e,t){t&&t.forEach((t=>{const{name:n,plugin:r,translations:i}=t;try{e.registerFunction(n,r,i)}catch(o){dr(o.message)}}))}function ND(e,t){if(t){const{langCode:r}=t;try{e.registerLanguage(r,t)}catch(n){dr(n.message)}}}function LD(e,t){t&&(e.suspendEvaluation(),t.forEach((t=>{const{name:n,expression:r,scope:i,options:o}=t;try{e.addNamedExpression(n,r,i,o)}catch(s){dr(s.message)}})),e.resumeEvaluation())}function kD(e,t){return!B(t)&&e.doesSheetExist(t)||(t=e.addSheet(t)),t}const OD="DD/MM/YYYY";function ID(e){return"string"===typeof e&&"'"===e.charAt(0)&&"="===e.charAt(1)}function PD(e){return ID(e)?e.substr(1):e}function DD(e){return"string"===typeof e&&e.startsWith("=")}function FD(e,t){return"string"===typeof e&&"date"===t}function HD(e,t){return b(e,t,!0).isValid()}function UD(e,t){return b(e,t,!0).format(OD)}function BD(e,t){return b(e,OD,!0).format(t)}function jD(e,t){const n=-1,r=new Date(Date.UTC(0,0,e+n));return b(r).format(t)}function YD(e,t,n){const r=Array.from(Array(n).keys()).filter((t=>!1===e.includes(t)));var i;return 0===t?null!==(i=r[t])&&void 0!==i?i:0:r[t-1]+1}function VD(e,t){const n=[];return e.forEach((e=>{const r={from:e,to:t};n.forEach((e=>{const t=e.from>e.to,n=e.to<=r.from,i=e.from>r.from;i&&n&&t&&(r.from+=1)})),r.from>=t&&(t+=1),n.push(r)})),n}function WD(e){return e.forEach(((t,n)=>{const r=e.slice(n+1);r.forEach((e=>{const n=e.from<e.to;e.from>t.from&&n&&(e.from-=1)}))})),e}function zD(e,t,n){const r=VD(e,YD(e,t,n));return WD(r)}function GD(e,t,n){$D(e,t),t.set(e,n)}function $D(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function qD(e,t){return e.get(XD(e,t))}function KD(e,t,n){return e.set(XD(e,t),n),n}function XD(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var JD=new WeakMap,QD=new WeakMap,ZD=new WeakMap,eF=new WeakMap,tF=new WeakMap,nF=new WeakMap,rF=new WeakMap;class iF{constructor(e,t,n){GD(this,JD,void 0),GD(this,QD,void 0),GD(this,ZD,void 0),GD(this,eF,[]),GD(this,tF,[]),GD(this,nF,void 0),GD(this,rF,[]),KD(JD,this,e),KD(QD,this,t),KD(ZD,this,n)}setRemovedHfIndexes(e){return KD(rF,this,e.map((e=>{const t=qD(QD,this).getVisualFromPhysicalIndex(e);return this.getHfIndexFromVisualIndex(t)}))),qD(rF,this)}getRemovedHfIndexes(){return qD(rF,this)}getHfIndexFromVisualIndex(e){const t=qD(QD,this).getIndexesSequence(),n=qD(QD,this).getNotTrimmedIndexes();return t.indexOf(n[e])}syncMoves(e){const t=1,n=`move${ne(qD(JD,this))}s`;qD(ZD,this).getEngine().batch((()=>{e.forEach((e=>{const r=e.from!==e.to,i=e.from+1!==e.to;r&&i&&qD(ZD,this).getEngine()[n](qD(ZD,this).getSheetId(),e.from,t,e.to)}))}))}storeMovesInformation(e,t,n){!1!==n&&(KD(tF,this,e.map((e=>this.getHfIndexFromVisualIndex(e)))),KD(nF,this,this.getHfIndexFromVisualIndex(t)))}calculateAndSyncMoves(e,t){if(qD(ZD,this).isPerformingUndoRedo())return;if(!1===e||!1===t)return;const n=zD(qD(tF,this),qD(nF,this),qD(QD,this).getNumberOfIndexes());null===qD(ZD,this).getSheetId()?qD(ZD,this).getPostponeAction((()=>this.syncMoves(n))):this.syncMoves(n)}getIndexesChangeSyncMethod(){const e=`set${ne(qD(JD,this))}Order`;return t=>{if(qD(ZD,this).isPerformingUndoRedo())return;const n=qD(QD,this).getIndexesSequence();if("update"===t&&n.length>0){const t=qD(eF,this).map((e=>n.indexOf(e))),r=qD(ZD,this).getEngine().getSheetDimensions(qD(ZD,this).getSheetId());let i;i="row"===qD(JD,this)?r.height:r.width;const o=t.length;for(let e=o;e<i;e+=1)t.push(e);qD(ZD,this).getEngine()[e](qD(ZD,this).getSheetId(),t)}KD(eF,this,n)}}init(){KD(eF,this,qD(QD,this).getIndexesSequence())}}var oF=iF;function sF(e,t,n){aF(e,t),t.set(e,n)}function aF(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lF(e,t){return e.get(cF(e,t))}function uF(e,t,n){return e.set(cF(e,t),n),n}function cF(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var hF=new WeakMap,dF=new WeakMap,fF=new WeakMap,pF=new WeakMap,mF=new WeakMap,gF=new WeakMap,vF=new WeakMap;class yF{constructor(e,t,n){sF(this,hF,void 0),sF(this,dF,void 0),sF(this,fF,void 0),sF(this,pF,!1),sF(this,mF,!1),sF(this,gF,null),sF(this,vF,null),uF(hF,this,new oF("row",e,this)),uF(dF,this,new oF("column",t,this)),uF(fF,this,n)}getForAxis(e){return lF("row"===e?hF:dF,this)}setPerformUndo(e){uF(pF,this,e)}setPerformRedo(e){uF(mF,this,e)}isPerformingUndoRedo(){return lF(pF,this)||lF(mF,this)}getSheetId(){return lF(vF,this)}getEngine(){return lF(gF,this)}getPostponeAction(){return lF(fF,this)}setupSyncEndpoint(e,t){uF(gF,this,e),uF(vF,this,t),lF(hF,this).init(),lF(dF,this).init()}}var bF=yF;function wF(e,t){MF(e,t),t.add(e)}function _F(e,t,n){return(t=EF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EF(e){var t=SF(e,"string");return"symbol"==typeof t?t:t+""}function SF(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function TF(e,t,n){MF(e,t),t.set(e,n)}function MF(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function CF(e,t,n){return e.set(xF(e,t),n),n}function RF(e,t){return e.get(xF(e,t))}function xF(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const AF="formulas",NF=["maxRows","maxColumns","language"],LF=260;Mr.getSingleton().register("afterNamedExpressionAdded"),Mr.getSingleton().register("afterNamedExpressionRemoved"),Mr.getSingleton().register("afterSheetAdded"),Mr.getSingleton().register("afterSheetRemoved"),Mr.getSingleton().register("afterSheetRenamed"),Mr.getSingleton().register("afterFormulasValuesUpdate");const kF=e=>"UndoRedo.undo"===e||"UndoRedo.redo"===e||"auto"===e;var OF=new WeakMap,IF=new WeakMap,PF=new WeakMap,DF=new WeakSet;class FF extends tE{constructor(){var e;super(...arguments),e=this,wF(this,DF),TF(this,OF,!1),TF(this,IF,!1),TF(this,PF,[["valuesUpdated",function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xF(DF,e,nH).call(e,...n)}],["namedExpressionAdded",function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xF(DF,e,rH).call(e,...n)}],["namedExpressionRemoved",function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xF(DF,e,iH).call(e,...n)}],["sheetAdded",function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xF(DF,e,oH).call(e,...n)}],["sheetRenamed",function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xF(DF,e,sH).call(e,...n)}],["sheetRemoved",function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xF(DF,e,aH).call(e,...n)}]]),_F(this,"staticRegister",Rr("formulas")),_F(this,"engine",null),_F(this,"sheetName",null),_F(this,"indexSyncer",null),_F(this,"rowAxisSyncer",null),_F(this,"columnAxisSyncer",null)}static get PLUGIN_KEY(){return AF}static get PLUGIN_PRIORITY(){return LF}static get SETTING_KEYS(){return[AF,...NF]}get sheetId(){return null===this.sheetName?null:this.engine.getSheetId(this.sheetName)}isEnabled(){return!!this.hot.getSettings()[AF]}enablePlugin(){var e,t=this;if(!this.enabled)if(this.engine=null!==(e=MD(this.hot))&&void 0!==e?e:this.engine,this.engine){if(null!==this.sheetName&&!this.engine.doesSheetExist(this.sheetName)){const e=this.addSheet(this.sheetName,this.hot.getSourceDataArray());!1!==e&&(this.sheetName=e)}this.addHook("beforeLoadData",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,BF).call(t,...n)})),this.addHook("afterLoadData",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,YF).call(t,...n)})),this.addHook("beforeUpdateData",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,BF).call(t,...n)})),this.addHook("afterUpdateData",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,YF).call(t,...n)})),this.addHook("modifyData",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,VF).call(t,...n)})),this.addHook("modifySourceData",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,WF).call(t,...n)})),this.addHook("beforeValidate",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,HF).call(t,...n)})),this.addHook("afterSetSourceDataAtCell",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,GF).call(t,...n)})),this.addHook("afterSetDataAtCell",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,zF).call(t,...n)})),this.addHook("afterSetDataAtRowProp",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,zF).call(t,...n)})),this.addHook("beforeCreateRow",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,$F).call(t,...n)})),this.addHook("beforeCreateCol",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,qF).call(t,...n)})),this.addHook("afterCreateRow",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,JF).call(t,...n)})),this.addHook("afterCreateCol",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,QF).call(t,...n)})),this.addHook("beforeRemoveRow",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,KF).call(t,...n)})),this.addHook("beforeRemoveCol",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,XF).call(t,...n)})),this.addHook("afterRemoveRow",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,ZF).call(t,...n)})),this.addHook("afterRemoveCol",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,eH).call(t,...n)})),this.indexSyncer=new bF(this.hot.rowIndexMapper,this.hot.columnIndexMapper,(e=>{this.hot.addHookOnce("init",(()=>{e()}))})),this.rowAxisSyncer=this.indexSyncer.getForAxis("row"),this.columnAxisSyncer=this.indexSyncer.getForAxis("column"),this.hot.addHook("afterRowSequenceChange",this.rowAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("afterColumnSequenceChange",this.columnAxisSyncer.getIndexesChangeSyncMethod()),this.hot.addHook("beforeRowMove",((e,t,n,r)=>{this.rowAxisSyncer.storeMovesInformation(e,t,r)})),this.hot.addHook("beforeColumnMove",((e,t,n,r)=>{this.columnAxisSyncer.storeMovesInformation(e,t,r)})),this.hot.addHook("afterRowMove",((e,t,n,r,i)=>{this.rowAxisSyncer.calculateAndSyncMoves(r,i)})),this.hot.addHook("afterColumnMove",((e,t,n,r,i)=>{this.columnAxisSyncer.calculateAndSyncMoves(r,i)})),this.hot.addHook("beforeColumnFreeze",((e,t)=>{this.columnAxisSyncer.storeMovesInformation([e],this.hot.getSettings().fixedColumnsStart,t)})),this.hot.addHook("afterColumnFreeze",((e,t)=>{this.columnAxisSyncer.calculateAndSyncMoves(t,t)})),this.hot.addHook("beforeColumnUnfreeze",((e,t)=>{this.columnAxisSyncer.storeMovesInformation([e],this.hot.getSettings().fixedColumnsStart-1,t)})),this.hot.addHook("afterColumnUnfreeze",((e,t)=>{this.columnAxisSyncer.calculateAndSyncMoves(t,t)})),this.addHook("afterCellMetaReset",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,jF).call(t,...n)})),this.addHook("beforeUndo",(()=>{this.indexSyncer.setPerformUndo(!0),this.engine.undo()})),this.addHook("beforeRedo",(()=>{this.indexSyncer.setPerformRedo(!0),this.engine.redo()})),this.addHook("afterUndo",(()=>{this.indexSyncer.setPerformUndo(!1)})),this.addHook("afterUndo",(()=>{this.indexSyncer.setPerformRedo(!1)})),this.addHook("afterDetachChild",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,tH).call(t,...n)})),this.addHook("beforeAutofill",(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return xF(DF,t,UF).call(t,...n)})),RF(PF,this).forEach((e=>{let[t,n]=e;return this.engine.on(t,n)})),super.enablePlugin()}else dr("Missing the required `engine` key in the Formulas settings. Please fill it with either an engine class or an engine instance.")}disablePlugin(){RF(PF,this).forEach((e=>{let[t,n]=e;return this.engine.off(t,n)})),xD(this.engine,this.hot),this.engine=null,super.disablePlugin()}updatePlugin(e){const t=_D(this.hot.getSettings());ED(this.engine.getConfig(),t)&&this.engine.updateConfig(t);const n=this.hot.getSettings()[AF];if(U(n)&&U(n.sheetName)&&n.sheetName!==this.sheetName&&this.switchSheet(n.sheetName),!e.data&&null===this.sheetName){const e=this.hot.getSettings()[AF].sheetName;e&&this.engine.doesSheetExist(e)?this.switchSheet(this.sheetName):this.sheetName=this.addSheet(null!==e&&void 0!==e?e:void 0,this.hot.getSourceDataArray())}super.updatePlugin(e)}destroy(){RF(PF,this).forEach((e=>{var t;let[n,r]=e;return null===(t=this.engine)||void 0===t?void 0:t.off(n,r)})),CF(PF,this,null),xD(this.engine,this.hot),this.engine=null,super.destroy()}addSheet(e,t){if(U(t)&&!gh(t))return dr("The provided data should be an array of arrays."),!1;if(void 0!==e&&null!==e&&this.engine.doesSheetExist(e))return dr("Sheet with the provided name already exists."),!1;try{const n=this.engine.addSheet(null!==e&&void 0!==e?e:void 0);return t&&this.engine.setSheetContent(this.engine.getSheetId(n),t),n}catch(n){return dr(n.message),!1}}switchSheet(e){if(!this.engine.doesSheetExist(e))return void fr(`The sheet named \`${e}\` does not exist, switch aborted.`);this.sheetName=e;const t=this.engine.getSheetSerialized(this.sheetId);t.length>0&&this.hot.loadData(t,`${ne(AF)}.switchSheet`)}getCellType(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId;const r=this.hot.toPhysicalRow(e),i=this.hot.toPhysicalColumn(t);return null!==r&&null!==i?this.engine.getCellType({sheet:n,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(t)}):"EMPTY"}isFormulaCellType(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.sheetId;return this.engine.doesCellHaveFormula({sheet:n,row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(t)})}renderDependentSheets(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=new Set;e.forEach((e=>{var t;const r=null===e||void 0===e||null===(t=e.address)||void 0===t?void 0:t.sheet;void 0!==r&&(n.has(r)||n.add(r))})),RD(this.engine).forEach(((e,r)=>{var i;(t||r!==this.sheetId)&&n.has(r)&&(e.render(),null===(i=e.view)||void 0===i||i.adjustElementsSize())}))}validateDependentCells(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=e=>{var t;const{row:n,col:r,sheet:i}=null!==(t=null===e||void 0===e?void 0:e.address)&&void 0!==t?t:{};return U(i)?`${i}:${n}x${r}`:""},r=new Set(t.map((e=>n(e))));e.forEach((e=>{var t,i;const{row:o,col:s}=null!==(t=e.address)&&void 0!==t?t:{};if(!1===U(o)||!1===U(s)||o>=this.hot.countRows()||s>=this.hot.countCols())return;const a=null===e||void 0===e||null===(i=e.address)||void 0===i?void 0:i.sheet,l=n(e);if(void 0!==a&&!r.has(l)){const e=RD(this.engine).get(a);if(!e)return;e.validateCell(e.getDataAtCell(o,s),e.getCellMeta(o,s),(()=>{}))}}))}syncChangeWithEngine(e,t,n){const r={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(e),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(t),sheet:this.sheetId};if(!this.engine.isItPossibleToSetCellContents(r))return void dr(`Not possible to set cell data at ${JSON.stringify(r)}`);const i=this.hot.getCellMeta(e,t);return FD(n,i.type)&&(HD(n,i.dateFormat)?n=UD(n,i.dateFormat):!1===DD(n)&&(n=`'${n}`)),this.engine.setCellContents(r,n)}}function HF(e,t,n){const r=this.hot.propToCol(n);if(this.isFormulaCellType(t,r)){const e={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(r),sheet:this.sheetId},n=this.hot.getCellMeta(t,r);let i=this.engine.getCellValue(e);return"date"===n.type&&xi(i)&&(i=jD(i,n.dateFormat)),"object"===typeof i&&null!==i?i.value:i}return e}function UF(e,t,n){const{row:r,col:i}=t.getTopStartCorner(),{row:o,col:s}=t.getBottomEndCorner(),{row:a,col:l}=n.getTopStartCorner(),{row:u,col:c}=n.getBottomEndCorner(),h={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(r),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(i),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(o),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId}},d={start:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(a),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(l),sheet:this.sheetId},end:{row:this.rowAxisSyncer.getHfIndexFromVisualIndex(u),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(c),sheet:this.sheetId}};if(!1===this.engine.isItPossibleToSetCellContents(d))return!1;const f=this.engine.getFillRangeData(h,d),{row:p,col:m}=h.start,{row:g,col:v}=h.end,y=g-p+1,b=v-m+1;for(let w=0;w<f.length;w+=1)for(let e=0;e<f[w].length;e+=1){const t=f[w][e],n=p+w%y,r=m+e%b,i=this.hot.getCellMeta(n,r);FD(t,i.type)&&(t.startsWith("'")?f[w][e]=t.slice(1):!1===this.isFormulaCellType(n,r,this.sheetId)&&(f[w][e]=BD(t,i.dateFormat)))}return f}function BF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.includes(ne(AF))||CF(IF,this,B(this.hot.getSettings().data))}function jF(){const e=this.hot.getSourceDataArray();let t=!1;e.forEach(((n,r)=>{n.forEach(((n,i)=>{const o=this.hot.getCellMeta(r,i),s=o.dateFormat;FD(n,o.type)&&(t=!0,HD(n,s)?e[r][i]=UD(n,s):!1===this.isFormulaCellType(r,i)&&(e[r][i]=`'${n}`))}))})),!0===t&&(CF(OF,this,!0),this.engine.setSheetContent(this.sheetId,e),CF(OF,this,!1))}function YF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!n.includes(ne(AF)))if(this.sheetName=kD(this.engine,this.hot.getSettings()[AF].sheetName),RF(IF,this))this.switchSheet(this.sheetName);else{const e=this.hot.getSourceDataArray();if(this.engine.isItPossibleToReplaceSheetContent(this.sheetId,e)){CF(OF,this,!0);const t=this.engine.setSheetContent(this.sheetId,e);this.indexSyncer.setupSyncEndpoint(this.engine,this.sheetId),this.renderDependentSheets(t),CF(OF,this,!1)}}}function VF(e,t,n,r){if("get"!==r||RF(OF,this)||null===this.sheetName||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(e);if(null===i||null===t)return;const o=this.isFormulaCellType(i,t);if(!o){const e=this.getCellType(i,t);if("ARRAY"!==e)return void(ID(n.value)&&(n.value=PD(n.value)))}const s={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(t),sheet:this.sheetId};let a=this.engine.getCellValue(s),l=this.hot.getCellsMeta().find((e=>e.visualRow===i&&e.visualCol===t));void 0===l&&(l={}),"date"===l.type&&xi(a)&&(a=jD(a,l.dateFormat));const u="object"===typeof a&&null!==a?a.value:a;n.value=u}function WF(e,t,n,r){if("get"!==r||RF(OF,this)||null===this.sheetName||!this.engine.doesSheetExist(this.sheetName))return;const i=this.hot.toVisualRow(e),o=this.hot.propToCol(t);if(null===i||null===o)return;const s=this.isFormulaCellType(i,o);if(!s){const e=this.getCellType(i,o);if("ARRAY"!==e)return}const a=this.engine.getSheetDimensions(this.engine.getSheetId(this.sheetName));if(0===a.width&&0===a.height)return;const l={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(i),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(o),sheet:this.sheetId};n.value=this.engine.getCellSerialized(l)}function zF(e,t){if(kF(t))return;const n=[],r=[],i=this.engine.batch((()=>{e.forEach((e=>{let[t,i,,o]=e;const s=this.hot.propToCol(i),a=this.hot.toPhysicalRow(t),l=this.hot.toPhysicalColumn(s),u={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId};null!==a&&null!==l?this.syncChangeWithEngine(t,s,o):n.push([t,s,o]),r.push({address:u})}))}));n.length&&this.hot.addHookOnce("afterChange",(()=>{const e=this.engine.batch((()=>{n.forEach((e=>{let[t,n,r]=e;this.syncChangeWithEngine(t,n,r)}))}));this.renderDependentSheets(e,!0)})),this.renderDependentSheets(i),this.validateDependentCells(i,r)}function GF(e,t){if(kF(t))return;const n=[],r=[];e.forEach((e=>{let[t,i,,o]=e;const s=this.hot.propToCol(i);if(!xi(s))return;const a={row:this.rowAxisSyncer.getHfIndexFromVisualIndex(t),col:this.columnAxisSyncer.getHfIndexFromVisualIndex(s),sheet:this.sheetId};this.engine.isItPossibleToSetCellContents(a)?(r.push({address:a}),n.push(...this.engine.setCellContents(a,o))):dr(`Not possible to set source cell data at ${JSON.stringify(a)}`)})),this.renderDependentSheets(n),this.validateDependentCells(n,r)}function $F(e,t){let n=this.rowAxisSyncer.getHfIndexFromVisualIndex(e);if(e>=this.hot.countRows()&&(n=e),null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddRows(this.sheetId,[n,t]))return!1}function qF(e,t){let n=this.columnAxisSyncer.getHfIndexFromVisualIndex(e);if(e>=this.hot.countCols()&&(n=e),null===this.sheetId||!this.engine.doesSheetExist(this.sheetName)||!this.engine.isItPossibleToAddColumns(this.sheetId,[n,t]))return!1}function KF(e,t,n){const r=this.rowAxisSyncer.setRemovedHfIndexes(n),i=r.every((e=>this.engine.isItPossibleToRemoveRows(this.sheetId,[e,1])));return!1!==i&&void 0}function XF(e,t,n){const r=this.columnAxisSyncer.setRemovedHfIndexes(n),i=r.every((e=>this.engine.isItPossibleToRemoveColumns(this.sheetId,[e,1])));return!1!==i&&void 0}function JF(e,t,n){if(kF(n))return;const r=this.engine.addRows(this.sheetId,[this.rowAxisSyncer.getHfIndexFromVisualIndex(e),t]);this.renderDependentSheets(r)}function QF(e,t,n){if(kF(n))return;const r=this.engine.addColumns(this.sheetId,[this.columnAxisSyncer.getHfIndexFromVisualIndex(e),t]);this.renderDependentSheets(r)}function ZF(e,t,n,r){if(kF(r))return;const i=this.rowAxisSyncer.getRemovedHfIndexes().sort(((e,t)=>t-e)),o=this.engine.batch((()=>{i.forEach((e=>{this.engine.removeRows(this.sheetId,[e,1])}))}));this.renderDependentSheets(o)}function eH(e,t,n,r){if(kF(r))return;const i=this.columnAxisSyncer.getRemovedHfIndexes().sort(((e,t)=>t-e)),o=this.engine.batch((()=>{i.forEach((e=>{this.engine.removeColumns(this.sheetId,[e,1])}))}));this.renderDependentSheets(o)}function tH(e,t,n){var r;CF(OF,this,!0);const i=this.hot.getSourceDataArray(n,0,n+((null===(r=t.__children)||void 0===r?void 0:r.length)||0),this.hot.countSourceCols());CF(OF,this,!1),i.forEach(((e,t)=>{e.forEach(((e,r)=>{this.engine.setCellContents({col:r,row:n+t,sheet:this.sheetId},[[e]])}))}))}function nH(e){this.hot.runHooks("afterFormulasValuesUpdate",e)}function rH(e,t){this.hot.runHooks("afterNamedExpressionAdded",e,t)}function iH(e,t){this.hot.runHooks("afterNamedExpressionRemoved",e,t)}function oH(e){this.hot.runHooks("afterSheetAdded",e)}function sH(e,t){this.sheetName=t,this.hot.runHooks("afterSheetRenamed",e,t)}function aH(e,t){this.hot.runHooks("afterSheetRemoved",e,t)}function lH(e){return{key:"hidden_columns_hide",name(){const e=this.getSelectedLast();let t=0;if(Array.isArray(e)){const[,n,,r]=e;n-r!==0&&(t=1)}return this.getTranslatedPhrase(Ef,t)},callback(){const{from:t,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(t.col,n.col),0),i=Math.max(t.col,n.col),o=[];for(let e=r;e<=i;e+=1)o.push(e);e.hideColumns(o);const s=o[o.length-1],a=this.columnIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectColumns(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByColumnHeader()||this.selection.isSelectedByCorner())}}}function uH(e){const t=[];return{key:"hidden_columns_show",name(){const e=t.length>1?1:0;return this.getTranslatedPhrase(Sf,e)},callback(){var n,r;if(0===t.length)return;let i=t[0],o=t[t.length-1];i=null!==(n=this.columnIndexMapper.getNearestNotHiddenIndex(i-1,-1))&&void 0!==n?n:0,o=null!==(r=this.columnIndexMapper.getNearestNotHiddenIndex(o+1,1))&&void 0!==r?r:this.countCols()-1,e.showColumns(t),this.render(),this.view.adjustElementsSize();const s=o-i+1===this.countCols();s||this.selectColumns(i,o)},disabled:!1,hidden(){const n=M(e.getHiddenColumns(),(e=>this.toPhysicalColumn(e)));if(!this.selection.isSelectedByColumnHeader()&&!this.selection.isSelectedByCorner()||n.length<1)return!0;t.length=0;const r=this.getSelectedRangeLast(),i=r.getTopStartCorner().col,o=r.getBottomEndCorner().col,s=this.columnIndexMapper,a=s.getRenderableFromVisualIndex(i),l=s.getRenderableFromVisualIndex(o),u=s.getNotTrimmedIndexes(),c=[];if(i!==o){const e=o-i+1,t=l-a+1;if(e>t){const e=u.slice(i,o+1);c.push(...e.filter((e=>n.includes(e))))}}else if(0===a&&a<i)c.push(...u.slice(0,i));else if(null===a)c.push(...u.slice(0,this.countCols()));else{const e=this.countCols()-1,t=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(e,-1));l===t&&e>o&&c.push(...u.slice(o+1))}return C(c,(e=>{t.push(this.toVisualColumn(e))})),0===t.length}}}function cH(e,t){dH(e,t),t.add(e)}function hH(e,t,n){dH(e,t),t.set(e,n)}function dH(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fH(e,t){return e.get(mH(e,t))}function pH(e,t,n){return e.set(mH(e,t),n),n}function mH(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("beforeHideColumns"),Mr.getSingleton().register("afterHideColumns"),Mr.getSingleton().register("beforeUnhideColumns"),Mr.getSingleton().register("afterUnhideColumns");const gH="hiddenColumns",vH=310;var yH=new WeakMap,bH=new WeakMap,wH=new WeakSet;class _H extends tE{constructor(){super(...arguments),cH(this,wH),hH(this,yH,{}),hH(this,bH,null)}static get PLUGIN_KEY(){return gH}static get PLUGIN_PRIORITY(){return vH}isEnabled(){return!!this.hot.getSettings()[gH]}enablePlugin(){var e=this;if(this.enabled)return;const t=this.hot.getSettings()[gH];_n(t)&&(pH(yH,this,t),B(t.copyPasteEnabled)&&(t.copyPasteEnabled=!0)),pH(bH,this,new Hh),fH(bH,this).addLocalHook("init",(()=>mH(wH,this,RH).call(this))),this.hot.columnIndexMapper.registerMap(this.pluginName,fH(bH,this)),this.addHook("afterContextMenuDefaultOptions",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mH(wH,e,CH).call(e,...n)})),this.addHook("afterGetCellMeta",((e,t,n)=>mH(wH,this,SH).call(this,e,t,n))),this.addHook("modifyColWidth",((e,t)=>mH(wH,this,EH).call(this,e,t)),2),this.addHook("afterGetColHeader",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mH(wH,e,MH).call(e,...n)})),this.addHook("modifyCopyableRange",(e=>mH(wH,this,TH).call(this,e))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.columnIndexMapper.unregisterMap(this.pluginName),pH(yH,this,{}),super.disablePlugin(),this.resetCellsMeta()}showColumns(e){const t=this.getHiddenColumns(),n=this.isValidConfig(e);let r=t;const i=fH(bH,this).getValues().slice(),o=e.length>0;if(n&&o){const t=e.map((e=>this.hot.toPhysicalColumn(e)));C(t,(e=>{i[e]=!1})),r=S(i,((e,t,n)=>(t&&e.push(this.hot.toVisualColumn(n)),e)),[])}const s=this.hot.runHooks("beforeUnhideColumns",t,r,n&&o);!1!==s&&(n&&o&&fH(bH,this).setValues(i),this.hot.view.adjustElementsSize(),this.hot.runHooks("afterUnhideColumns",t,r,n&&o,n&&r.length<t.length))}showColumn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.showColumns(t)}hideColumns(e){const t=this.getHiddenColumns(),n=this.isValidConfig(e);let r=t;n&&(r=Array.from(new Set(t.concat(e))));const i=this.hot.runHooks("beforeHideColumns",t,r,n);!1!==i&&(n&&this.hot.batchExecution((()=>{C(e,(e=>{fH(bH,this).setValueAtIndex(this.hot.toPhysicalColumn(e),!0)}))}),!0),this.hot.runHooks("afterHideColumns",t,r,n,n&&r.length>t.length))}hideColumn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.hideColumns(t)}getHiddenColumns(){return M(fH(bH,this).getHiddenIndexes(),(e=>this.hot.toVisualColumn(e)))}isHidden(e){return fH(bH,this).getValueAtIndex(this.hot.toPhysicalColumn(e))||!1}isValidConfig(e){const t=this.hot.countCols();return!!(Array.isArray(e)&&e.length>0)&&e.every((e=>Number.isInteger(e)&&e>=0&&e<t))}resetCellsMeta(){C(this.hot.getCellsMeta(),(e=>{e&&(e.skipColumnOnPaste=!1)}))}destroy(){pH(yH,this,null),pH(bH,this,null),super.destroy()}}function EH(e,t){return this.isHidden(t)?0:fH(yH,this).indicators&&(this.isHidden(t+1)||this.isHidden(t-1))&&"number"===typeof e&&this.hot.hasColHeaders()?e+15:void 0}function SH(e,t,n){if(!1===fH(yH,this).copyPasteEnabled&&this.isHidden(t)&&(n.skipColumnOnPaste=!0),this.isHidden(t-1))n.className=n.className||"",-1===n.className.indexOf("afterHiddenColumn")&&(n.className+=" afterHiddenColumn");else if(n.className){const e=n.className.split(" ");if(e.length>0){const t=e.indexOf("afterHiddenColumn");t>-1&&e.splice(t,1),n.className=e.join(" ")}}}function TH(e){if(fH(yH,this).copyPasteEnabled)return e;const t=[],n=(e,n,r,i)=>{t.push({startRow:e,endRow:n,startCol:r,endCol:i})};return C(e,(e=>{let t=!0,r=0;Ni(e.startCol,e.endCol,(i=>{this.isHidden(i)?(t||n(e.startRow,e.endRow,r,i-1),t=!0):(t&&(r=i),i===e.endCol&&n(e.startRow,e.endRow,r,i),t=!1)}))})),t}function MH(e,t){if(!fH(yH,this).indicators||e<0)return;const n=[];e>=1&&this.isHidden(e-1)&&n.push("afterHiddenColumn"),e<this.hot.countCols()-1&&this.isHidden(e+1)&&n.push("beforeHiddenColumn"),lt(t,n)}function CH(e){e.items.push({name:MC},lH(this),uH(this))}function RH(){Array.isArray(fH(yH,this).columns)&&this.hideColumns(fH(yH,this).columns)}function xH(e){return{key:"hidden_rows_hide",name(){const e=this.getSelectedLast();let t=0;if(Array.isArray(e)){const[n,,r]=e;n-r!==0&&(t=1)}return this.getTranslatedPhrase(Tf,t)},callback(){const{from:t,to:n}=this.getSelectedRangeLast(),r=Math.max(Math.min(t.row,n.row),0),i=Math.max(t.row,n.row),o=[];for(let e=r;e<=i;e+=1)o.push(e);e.hideRows(o);const s=o[o.length-1],a=this.rowIndexMapper.getNearestNotHiddenIndex(s,1,!0);Number.isInteger(a)&&a>=0?this.selectRows(a):this.deselectCell(),this.render(),this.view.adjustElementsSize()},disabled:!1,hidden(){return!(this.selection.isSelectedByRowHeader()||this.selection.isSelectedByCorner())}}}function AH(e){const t=[];return{key:"hidden_rows_show",name(){const e=t.length>1?1:0;return this.getTranslatedPhrase(Mf,e)},callback(){var n,r;if(0===t.length)return;let i=t[0],o=t[t.length-1];i=null!==(n=this.rowIndexMapper.getNearestNotHiddenIndex(i-1,-1))&&void 0!==n?n:0,o=null!==(r=this.rowIndexMapper.getNearestNotHiddenIndex(o+1,1))&&void 0!==r?r:this.countRows()-1,e.showRows(t),this.render(),this.view.adjustElementsSize();const s=o-i+1===this.countRows();s||this.selectRows(i,o)},disabled:!1,hidden(){const n=M(e.getHiddenRows(),(e=>this.toPhysicalRow(e)));if(!this.selection.isSelectedByRowHeader()&&!this.selection.isSelectedByCorner()||n.length<1)return!0;t.length=0;const r=this.getSelectedRangeLast(),i=r.getTopStartCorner().row,o=r.getBottomEndCorner().row,s=this.rowIndexMapper,a=s.getRenderableFromVisualIndex(i),l=s.getRenderableFromVisualIndex(o),u=s.getNotTrimmedIndexes(),c=[];if(i!==o){const e=o-i+1,t=l-a+1;if(e>t){const e=u.slice(i,o+1);c.push(...e.filter((e=>n.includes(e))))}}else if(0===a&&a<i)c.push(...u.slice(0,i));else if(null===a)c.push(...u.slice(0,this.countRows()));else{const e=this.countRows()-1,t=s.getRenderableFromVisualIndex(s.getNearestNotHiddenIndex(e,-1));l===t&&e>o&&c.push(...u.slice(o+1))}return C(c,(e=>{t.push(this.toVisualRow(e))})),0===t.length}}}function NH(e,t){kH(e,t),t.add(e)}function LH(e,t,n){kH(e,t),t.set(e,n)}function kH(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function OH(e,t){return e.get(PH(e,t))}function IH(e,t,n){return e.set(PH(e,t),n),n}function PH(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("beforeHideRows"),Mr.getSingleton().register("afterHideRows"),Mr.getSingleton().register("beforeUnhideRows"),Mr.getSingleton().register("afterUnhideRows");const DH="hiddenRows",FH=320;var HH=new WeakMap,UH=new WeakMap,BH=new WeakSet;class jH extends tE{constructor(){super(...arguments),NH(this,BH),LH(this,HH,{}),LH(this,UH,null)}static get PLUGIN_KEY(){return DH}static get PLUGIN_PRIORITY(){return FH}isEnabled(){return!!this.hot.getSettings()[DH]}enablePlugin(){var e=this;if(this.enabled)return;const t=this.hot.getSettings()[DH];_n(t)&&(IH(HH,this,t),B(t.copyPasteEnabled)&&(t.copyPasteEnabled=!0)),IH(UH,this,new Hh),OH(UH,this).addLocalHook("init",(()=>PH(BH,this,$H).call(this))),this.hot.rowIndexMapper.registerMap(this.pluginName,OH(UH,this)),this.addHook("afterContextMenuDefaultOptions",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return PH(BH,e,GH).call(e,...n)})),this.addHook("afterGetCellMeta",((e,t,n)=>PH(BH,this,VH).call(this,e,t,n))),this.addHook("modifyRowHeight",((e,t)=>PH(BH,this,YH).call(this,e,t))),this.addHook("afterGetRowHeader",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return PH(BH,e,zH).call(e,...n)})),this.addHook("modifyCopyableRange",(e=>PH(BH,this,WH).call(this,e))),super.enablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap(this.pluginName),IH(HH,this,{}),super.disablePlugin(),this.resetCellsMeta()}showRows(e){const t=this.getHiddenRows(),n=this.isValidConfig(e);let r=t;const i=OH(UH,this).getValues().slice(),o=e.length>0;if(n&&o){const t=e.map((e=>this.hot.toPhysicalRow(e)));C(t,(e=>{i[e]=!1})),r=S(i,((e,t,n)=>(t&&e.push(this.hot.toVisualRow(n)),e)),[])}const s=this.hot.runHooks("beforeUnhideRows",t,r,n&&o);!1!==s&&(n&&o&&OH(UH,this).setValues(i),this.hot.runHooks("afterUnhideRows",t,r,n&&o,n&&r.length<t.length))}showRow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.showRows(t)}hideRows(e){const t=this.getHiddenRows(),n=this.isValidConfig(e);let r=t;n&&(r=Array.from(new Set(t.concat(e))));const i=this.hot.runHooks("beforeHideRows",t,r,n);!1!==i&&(n&&this.hot.batchExecution((()=>{C(e,(e=>{OH(UH,this).setValueAtIndex(this.hot.toPhysicalRow(e),!0)}))}),!0),this.hot.runHooks("afterHideRows",t,r,n,n&&r.length>t.length))}hideRow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.hideRows(t)}getHiddenRows(){return M(OH(UH,this).getHiddenIndexes(),(e=>this.hot.toVisualRow(e)))}isHidden(e){return OH(UH,this).getValueAtIndex(this.hot.toPhysicalRow(e))||!1}isValidConfig(e){const t=this.hot.countRows();return!!(Array.isArray(e)&&e.length>0)&&e.every((e=>Number.isInteger(e)&&e>=0&&e<t))}resetCellsMeta(){C(this.hot.getCellsMeta(),(e=>{e&&(e.skipRowOnPaste=!1)}))}destroy(){IH(HH,this,null),IH(UH,this,null),super.destroy()}}function YH(e,t){return this.isHidden(t)?0:e}function VH(e,t,n){if(!1===OH(HH,this).copyPasteEnabled&&this.isHidden(e)&&(n.skipRowOnPaste=!0),this.isHidden(e-1))n.className=n.className||"",-1===n.className.indexOf("afterHiddenRow")&&(n.className+=" afterHiddenRow");else if(n.className){const e=n.className.split(" ");if(e.length>0){const t=e.indexOf("afterHiddenRow");t>-1&&e.splice(t,1),n.className=e.join(" ")}}}function WH(e){if(OH(HH,this).copyPasteEnabled)return e;const t=[],n=(e,n,r,i)=>{t.push({startRow:e,endRow:n,startCol:r,endCol:i})};return C(e,(e=>{let t=!0,r=0;Ni(e.startRow,e.endRow,(i=>{this.isHidden(i)?(t||n(r,i-1,e.startCol,e.endCol),t=!0):(t&&(r=i),i===e.endRow&&n(r,i,e.startCol,e.endCol),t=!1)}))})),t}function zH(e,t){if(!OH(HH,this).indicators||e<0)return;const n=[];e>=1&&this.isHidden(e-1)&&n.push("afterHiddenRow"),e<this.hot.countRows()-1&&this.isHidden(e+1)&&n.push("beforeHiddenRow"),lt(t,n)}function GH(e){e.items.push({name:MC},xH(this),AH(this))}function $H(){Array.isArray(OH(HH,this).rows)&&this.hideRows(OH(HH,this).rows)}function qH(e){return{key:"freeze_column",name(){return this.getTranslatedPhrase(Jd)},callback(t,n){const[{start:{col:r}}]=n;e.freezeColumn(r),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let t=!1;return(void 0===e||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col<=this.getSettings().fixedColumnsStart-1)&&(t=!0),t}}}function KH(e){return{key:"unfreeze_column",name(){return this.getTranslatedPhrase(Qd)},callback(t,n){const[{start:{col:r}}]=n;e.unfreezeColumn(r),this.render(),this.view.adjustElementsSize()},hidden(){const e=this.getSelectedRange();let t=!1;return(void 0===e||e.length>1||e[0].from.col!==e[0].to.col||e[0].from.col>=this.getSettings().fixedColumnsStart)&&(t=!0),t}}}function XH(e,t){QH(e,t),t.add(e)}function JH(e,t,n){QH(e,t),t.set(e,n)}function QH(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ZH(e,t){return e.get(tU(e,t))}function eU(e,t,n){return e.set(tU(e,t),n),n}function tU(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("beforeColumnFreeze"),Mr.getSingleton().register("afterColumnFreeze"),Mr.getSingleton().register("beforeColumnUnfreeze"),Mr.getSingleton().register("afterColumnUnfreeze");const nU="manualColumnFreeze",rU=110;var iU=new WeakMap,oU=new WeakSet;class sU extends tE{constructor(){super(...arguments),XH(this,oU),JH(this,iU,!1)}static get PLUGIN_KEY(){return nU}static get PLUGIN_PRIORITY(){return rU}isEnabled(){return!!this.hot.getSettings()[nU]}enablePlugin(){this.enabled||(this.addHook("afterContextMenuDefaultOptions",(e=>tU(oU,this,aU).call(this,e))),this.addHook("beforeColumnMove",((e,t)=>tU(oU,this,lU).call(this,e,t))),super.enablePlugin())}disablePlugin(){eU(iU,this,!1),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}freezeColumn(e){const t=this.hot.getSettings(),n=t.fixedColumnsStart<this.hot.countCols()&&e>t.fixedColumnsStart-1;ZH(iU,this)||eU(iU,this,!0);const r=this.hot.runHooks("beforeColumnFreeze",e,n);!1!==r&&(n&&(this.hot.columnIndexMapper.moveIndexes(e,t.fixedColumnsStart),t._fixedColumnsStart+=1),this.hot.runHooks("afterColumnFreeze",e,n))}unfreezeColumn(e){const t=this.hot.getSettings(),n=t.fixedColumnsStart>0&&e<=t.fixedColumnsStart-1;ZH(iU,this)||eU(iU,this,!0);const r=this.hot.runHooks("beforeColumnUnfreeze",e,n);!1!==r&&(n&&(t._fixedColumnsStart-=1,this.hot.columnIndexMapper.moveIndexes(e,t.fixedColumnsStart)),this.hot.runHooks("afterColumnUnfreeze",e,n))}}function aU(e){e.items.push({name:"---------"},qH(this),KH(this))}function lU(e,t){if(ZH(iU,this)){const n=this.hot.getSettings().fixedColumnsStart;if(t<n)return!1;if(e.some((e=>e<n)))return!1}}function uU(e,t,n){return(t=cU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cU(e){var t=hU(e,"string");return"symbol"==typeof t?t:t+""}function hU(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const dU=0,fU=1,pU=2,mU="px";class gU{constructor(e){uU(this,"hot",void 0),uU(this,"_element",null),uU(this,"state",dU),uU(this,"inlineProperty",void 0),this.hot=e,this.inlineProperty=e.isRtl()?"right":"left"}appendTo(e){e.appendChild(this._element),this.state=pU}build(){this.state===dU&&(this._element=this.hot.rootDocument.createElement("div"),this.state=fU)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=dU}isAppended(){return this.state===pU}isBuilt(){return this.state>=fU}setPosition(e,t){xi(e)&&(this._element.style.top=e+mU),xi(t)&&(this._element.style[this.inlineProperty]=t+mU)}getPosition(){const e=this._element.style;return{top:e.top?parseInt(e.top,10):0,start:e[this.inlineProperty]?parseInt(e[this.inlineProperty],10):0}}setSize(e,t){xi(e)&&(this._element.style.width=e+mU),xi(t)&&(this._element.style.height=t+mU)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,t){xi(e)&&(this._element.style.marginTop=e+mU),xi(t)&&(this._element.style[`margin${ne(this.inlineProperty)}`]=t+mU)}getOffset(){const e=this._element.style,t=`margin${ne(this.inlineProperty)}`;return{top:e.marginTop?parseInt(e.marginTop,10):0,start:e[t]?parseInt(e[t],10):0}}}var vU=gU;const yU="ht__manualColumnMove--backlight";class bU extends vU{build(){super.build(),lt(this._element,yU)}}var wU=bU;const _U="ht__manualColumnMove--guideline";class EU extends vU{build(){super.build(),lt(this._element,_U)}}var SU=EU;function TU(e,t){CU(e,t),t.add(e)}function MU(e,t,n){CU(e,t),t.set(e,n)}function CU(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function RU(e,t,n){return e.set(AU(e,t),n),n}function xU(e,t){return e.get(AU(e,t))}function AU(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("beforeColumnMove"),Mr.getSingleton().register("afterColumnMove");const NU="manualColumnMove",LU=120,kU="ht__manualColumnMove",OU="show-ui",IU="on-moving--columns",PU="after-selection--columns";var DU=new WeakMap,FU=new WeakMap,HU=new WeakMap,UU=new WeakMap,BU=new WeakMap,jU=new WeakMap,YU=new WeakMap,VU=new WeakMap,WU=new WeakMap,zU=new WeakMap,GU=new WeakMap,$U=new WeakSet;class qU extends tE{constructor(){super(...arguments),TU(this,$U),MU(this,DU,new wU(this.hot)),MU(this,FU,new SU(this.hot)),MU(this,HU,[]),MU(this,UU,0),MU(this,BU,!1),MU(this,jU,{}),MU(this,YU,void 0),MU(this,VU,void 0),MU(this,WU,void 0),MU(this,zU,void 0),MU(this,GU,void 0)}static get PLUGIN_KEY(){return NU}static get PLUGIN_PRIORITY(){return LU}isEnabled(){return!!this.hot.getSettings()[NU]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return AU($U,e,KU).call(e,...n)})),this.addHook("beforeOnCellMouseOver",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return AU($U,e,JU).call(e,...n)})),this.addHook("afterScrollVertically",(()=>AU($U,this,ZU).call(this))),this.addHook("afterLoadData",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return AU($U,e,eB).call(e,...n)})),this.buildPluginUI(),this.registerEvents(),lt(this.hot.rootElement,kU),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){ut(this.hot.rootElement,kU),this.unregisterEvents(),xU(DU,this).destroy(),xU(FU,this).destroy(),super.disablePlugin()}moveColumn(e,t){return this.moveColumns([e],t)}moveColumns(e,t){const n=xU(YU,this),r=this.isMovePossible(e,t),i=this.hot.runHooks("beforeColumnMove",e,t,n,r);if(RU(YU,this,void 0),!1===i)return;r&&this.hot.columnIndexMapper.moveIndexes(e,t);const o=r&&this.isColumnOrderChanged(e,t);return this.hot.runHooks("afterColumnMove",e,t,n,r,o),o}dragColumn(e,t){return this.dragColumns([e],t)}dragColumns(e,t){const n=this.countFinalIndex(e,t);return RU(YU,this,t),this.moveColumns(e,n)}isMovePossible(e,t){const n=this.hot.columnIndexMapper.getNotTrimmedIndexesLength(),r=e.length+t>n,i=t<0,o=e.some((e=>e<0)),s=e.some((e=>e>=n));return!(r||i||o||s)}isColumnOrderChanged(e,t){return e.some(((e,n)=>e-n!==t))}countFinalIndex(e,t){const n=S(e,((e,n)=>(n<t&&(e+=1),e)),0);return t-n}getColumnsWidth(e,t){const n=this.hot.columnIndexMapper;let r=0;for(let i=e;i<=t;i+=1){const e=n.getRenderableFromVisualIndex(i);i<0?r+=this.hot.view._wt.wtViewport.getRowHeaderWidth()||0:null!==e&&(r+=this.hot.view._wt.wtTable.getStretchedColumnWidth(e)||0)}return r}moveBySettingsOrLoad(){const e=this.hot.getSettings()[NU];if(Array.isArray(e))this.moveColumns(e,0);else if(void 0!==e){const e=this.persistentStateLoad();e.length&&this.moveColumns(e,0)}}isFixedColumnsStart(e){return e<this.hot.getSettings().fixedColumnsStart}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.hot.columnIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualColumnMove",e),e.value?e.value:[]}prepareColumnsToMoving(e,t){const n=[];return Ni(e,t,(e=>{n.push(e)})),n}refreshPositions(){const e=this.hot.view.getFirstFullyVisibleColumn();this.isFixedColumnsStart(xU(VU,this))&&e>0&&this.hot.scrollViewportTo({col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(e-1,-1)});const t=this.hot.view._wt.wtTable,n=this.hot.view._wt.wtOverlays.scrollableElement,r="number"===typeof n.scrollX?n.scrollX:n.scrollLeft;let i=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,xU(VU,this)-1);const o=t.hider.offsetWidth,s=t.TBODY.offsetLeft,a=xU(DU,this).getOffset().start,l=xU(DU,this).getSize().width;let u=0,c=0;if(this.hot.isRtl()){const e=this.hot.rootWindow,t=Nt(this.hot.rootElement),i=e.innerWidth-xU(WU,this)-t;c=e.innerWidth-xU(jU,this).eventPageX-i-(void 0===n.scrollX?r:0)}else c=xU(jU,this).eventPageX-(xU(WU,this)-(void 0===n.scrollX?r:0));if(xU(zU,this)&&(u=this.hot.view._wt.wtOverlays.inlineStartOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsStart(xU(VU,this))&&(i+=r),i+=u,xU(VU,this)<0)xU(GU,this)>0?xU(jU,this).col=0:xU(jU,this).col=e>0?e-1:e;else if(xU(jU,this).TD.offsetWidth/2+i<=c){const e=xU(VU,this)>=xU(UU,this)?xU(UU,this)-1:xU(VU,this);xU(jU,this).col=e+1,i+=xU(jU,this).TD.offsetWidth}else xU(jU,this).col=xU(VU,this);let h=c,d=i;c+l+a>=o?h=o-l-a:c+a<s+u&&(h=s+u+Math.abs(a)),i>=o-1?d=o-1:0===d?d=1:void 0!==n.scrollX&&xU(VU,this)<xU(GU,this)&&(d-=xU(WU,this)<=n.scrollX?xU(WU,this):0),xU(DU,this).setPosition(null,h),xU(FU,this).setPosition(null,d)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",(e=>AU($U,this,XU).call(this,e))),this.eventManager.addEventListener(e,"mouseup",(()=>AU($U,this,QU).call(this)))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){xU(DU,this).build(),xU(FU,this).build()}destroy(){xU(DU,this).destroy(),xU(FU,this).destroy(),super.destroy()}}function KU(e,t,n,r){const i=this.hot.view._wt.wtTable,o=this.hot.selection.isSelectedByColumnHeader(),s=this.hot.getSelectedRangeLast(),a=at(e.target,"sortAction");if(!s||!o||xU(BU,this)||0!==e.button||a)return RU(BU,this,!1),xU(HU,this).length=0,void ut(this.hot.rootElement,[IU,OU]);const l=xU(FU,this).isBuilt()&&!xU(FU,this).isAppended(),u=xU(DU,this).isBuilt()&&!xU(DU,this).isAppended();l&&u&&(xU(FU,this).appendTo(i.hider),xU(DU,this).appendTo(i.hider));const{from:c,to:h}=s,d=Math.min(c.col,h.col),f=Math.max(c.col,h.col);if(t.row<0&&t.col>=d&&t.col<=f){r.column=!0,RU(BU,this,!0);const o=n.firstChild?hr(e,n.firstChild).x:e.offsetX;xU(jU,this).eventPageX=e.pageX,RU(VU,this,t.col),xU(jU,this).TD=n,xU(jU,this).col=t.col,RU(HU,this,this.prepareColumnsToMoving(d,f)),RU(zU,this,!!this.hot.getSettings().rowHeaders),RU(UU,this,this.hot.countCols()),RU(GU,this,this.hot.getSettings().fixedColumnsStart),RU(WU,this,yt(this.hot.rootElement).left);const s=xU(zU,this)?-1:0,a=i.holder.scrollTop+i.getColumnHeaderHeight(0)+1,l=t.col<xU(GU,this),u=this.hot.view._wt.wtOverlays.inlineStartOverlay.getOverlayOffset(),c=Math.abs(o-(this.hot.isRtl()?n.offsetWidth:0)),h=this.getColumnsWidth(d,t.col-1)+c,p=this.getColumnsWidth(s,d-1)+(l?u:0)+h;xU(DU,this).setPosition(a,p),xU(DU,this).setSize(this.getColumnsWidth(d,f),i.hider.offsetHeight-a),xU(DU,this).setOffset(null,-h),lt(this.hot.rootElement,IU)}else ut(this.hot.rootElement,PU),RU(BU,this,!1),xU(HU,this).length=0}function XU(e){xU(BU,this)&&(xU(jU,this).eventPageX=e.pageX,this.refreshPositions())}function JU(e,t,n,r){const i=this.hot.getSelectedRangeLast();i&&xU(BU,this)&&(xU(HU,this).indexOf(t.col)>-1?ut(this.hot.rootElement,OU):lt(this.hot.rootElement,OU),r.row=!0,r.column=!0,r.cell=!0,RU(VU,this,t.col),xU(jU,this).TD=n)}function QU(){const e=xU(jU,this).col,t=xU(HU,this).length;if(RU(VU,this,void 0),RU(BU,this,!1),ut(this.hot.rootElement,[IU,OU,PU]),this.hot.selection.isSelectedByColumnHeader()&&lt(this.hot.rootElement,PU),t<1||void 0===e)return;const n=xU(HU,this)[0],r=this.hot.toPhysicalColumn(n),i=this.dragColumns(xU(HU,this),e);if(xU(HU,this).length=0,!0===i){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const e=this.hot.toVisualColumn(r),n=e+t-1;this.hot.selectColumns(e,n)}}function ZU(){const e=this.hot.view._wt.wtTable,t=e.getColumnHeaderHeight(0)+1,n=e.holder.scrollTop,r=t+n;xU(DU,this).setPosition(r),xU(DU,this).setSize(null,e.hider.offsetHeight-r)}function eB(){this.moveBySettingsOrLoad()}function tB(e,t){rB(e,t),t.add(e)}function nB(e,t,n){rB(e,t),t.set(e,n)}function rB(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iB(e,t,n){return e.set(sB(e,t),n),n}function oB(e,t){return e.get(sB(e,t))}function sB(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const aB="manualColumnResize",lB=130,uB="manualColumnWidths";var cB=new WeakMap,hB=new WeakMap,dB=new WeakMap,fB=new WeakMap,pB=new WeakMap,mB=new WeakMap,gB=new WeakMap,vB=new WeakMap,yB=new WeakMap,bB=new WeakMap,wB=new WeakMap,_B=new WeakMap,EB=new WeakMap,SB=new WeakMap,TB=new WeakMap,MB=new WeakMap,CB=new WeakSet;class RB extends tE{static get PLUGIN_KEY(){return aB}static get PLUGIN_PRIORITY(){return lB}constructor(e){super(e),tB(this,CB),nB(this,cB,null),nB(this,hB,null),nB(this,dB,[]),nB(this,fB,null),nB(this,pB,null),nB(this,mB,null),nB(this,gB,null),nB(this,vB,null),nB(this,yB,this.hot.rootDocument.createElement("DIV")),nB(this,bB,this.hot.rootDocument.createElement("DIV")),nB(this,wB,null),nB(this,_B,!1),nB(this,EB,0),nB(this,SB,null),nB(this,TB,void 0),nB(this,MB,void 0),lt(oB(yB,this),"manualColumnResizer"),lt(oB(bB,this),"manualColumnResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[aB]}enablePlugin(){this.enabled||(iB(TB,this,new Fh),oB(TB,this).addLocalHook("init",(()=>sB(CB,this,xB).call(this))),this.hot.columnIndexMapper.registerMap(this.pluginName,oB(TB,this)),this.addHook("modifyColWidth",((e,t)=>sB(CB,this,IB).call(this,e,t)),1),this.addHook("beforeStretchingColumnWidth",((e,t)=>sB(CB,this,PB).call(this,e,t))),this.addHook("beforeColumnResize",((e,t,n)=>sB(CB,this,DB).call(this,e,t,n))),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){iB(MB,this,oB(TB,this).getValues()),this.hot.columnIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualColumnWidths(){this.hot.runHooks("persistentStateSave",uB,oB(TB,this).getValues())}loadManualColumnWidths(){const e={};return this.hot.runHooks("persistentStateLoad",uB,e),e.value}setManualSize(e,t){const n=Math.max(t,20),r=this.hot.toPhysicalColumn(e);return oB(TB,this).setValueAtIndex(r,n),n}clearManualSize(e){const t=this.hot.toPhysicalColumn(e);oB(TB,this).setValueAtIndex(t,null)}setupHandlePosition(e){if(!e.parentNode)return;iB(cB,this,e);const{_wt:t}=this.hot.view,n=t.wtTable.getCoords(oB(cB,this)),r=n.col;if(r<0)return;const i=Lt(oB(cB,this)),o=oB(cB,this).getBoundingClientRect(),s=r<t.getSetting("fixedColumnsStart");let a;s&&(a=t.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(oB(cB,this),n.row,n.col)),a||(a=t.wtOverlays.topOverlay.getRelativeCellPosition(oB(cB,this),n.row,n.col)),iB(hB,this,this.hot.columnIndexMapper.getVisualFromRenderableIndex(r)),iB(dB,this,[]);const l=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByColumnHeader();if(this.hot.selection.isSelected()&&l){const e=this.hot.getSelectedRange();C(e,(e=>{const t=e.getTopStartCorner().col,n=e.getBottomEndCorner().col;Ni(t,n,(e=>{oB(dB,this).includes(e)||oB(dB,this).push(e)}))}))}oB(dB,this).includes(oB(hB,this))||iB(dB,this,[oB(hB,this)]),iB(vB,this,a.start-6),iB(gB,this,parseInt(o.width,10)),oB(yB,this).style.top=`${a.top}px`,oB(yB,this).style[this.inlineDir]=`${oB(vB,this)+oB(gB,this)}px`,oB(yB,this).style.height=`${i}px`,this.hot.rootElement.appendChild(oB(yB,this))}refreshHandlePosition(){oB(yB,this).style[this.inlineDir]=`${oB(vB,this)+oB(fB,this)}px`}setupGuidePosition(){const e=parseInt(Lt(oB(yB,this)),10),t=parseInt(oB(yB,this).style.top,10)+e,n=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);lt(oB(yB,this),"active"),lt(oB(bB,this),"active"),oB(bB,this).style.top=`${t}px`,this.refreshGuidePosition(),oB(bB,this).style.height=n-e+"px",this.hot.rootElement.appendChild(oB(bB,this))}refreshGuidePosition(){oB(bB,this).style[this.inlineDir]=oB(yB,this).style[this.inlineDir]}hideHandleAndGuide(){ut(oB(yB,this),"active"),ut(oB(bB,this),"active")}checkIfColumnHeader(e){const t=et(e,["THEAD"],this.hot.rootElement),{topOverlay:n,topInlineStartCornerOverlay:r}=this.hot.view._wt.wtOverlays;return[n.clone.wtTable.THEAD,r.clone.wtTable.THEAD].includes(t)}getClosestTHParent(e){return"TABLE"!==e.tagName?"TH"===e.tagName?e:this.getClosestTHParent(e.parentNode):null}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},t=(t,n)=>{const r=this.hot.runHooks("beforeColumnResize",oB(pB,this),t,!0);void 0!==r&&iB(pB,this,r),"all"===this.hot.getSettings().stretchH?this.clearManualSize(t):this.setManualSize(t,oB(pB,this)),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",oB(pB,this),t,!0),n&&e()};if(oB(EB,this)>=2){const n=oB(dB,this).length;n>1?(C(oB(dB,this),(e=>{t(e)})),e()):C(oB(dB,this),(e=>{t(e,!0)}))}iB(EB,this,0),iB(SB,this,null)}bindEvents(){const{rootWindow:e,rootElement:t}=this.hot;this.eventManager.addEventListener(t,"mouseover",(e=>sB(CB,this,AB).call(this,e))),this.eventManager.addEventListener(t,"mousedown",(e=>sB(CB,this,NB).call(this,e))),this.eventManager.addEventListener(e,"mousemove",(e=>sB(CB,this,LB).call(this,e))),this.eventManager.addEventListener(e,"mouseup",(()=>sB(CB,this,kB).call(this))),this.eventManager.addEventListener(oB(yB,this),"contextmenu",(()=>sB(CB,this,OB).call(this)))}destroy(){super.destroy()}}function xB(){const e=this.hot.getSettings()[aB],t=this.loadManualColumnWidths();"undefined"!==typeof t?this.hot.batchExecution((()=>{t.forEach(((e,t)=>{oB(TB,this).setValueAtIndex(t,e)}))}),!0):Array.isArray(e)?(this.hot.batchExecution((()=>{e.forEach(((e,t)=>{oB(TB,this).setValueAtIndex(t,e)}))}),!0),iB(MB,this,e)):!0===e&&Array.isArray(oB(MB,this))&&this.hot.batchExecution((()=>{oB(MB,this).forEach(((e,t)=>{oB(TB,this).setValueAtIndex(t,e)}))}),!0)}function AB(e){if(!Qt(e.target)&&!0!==oB(_B,this)&&this.checkIfColumnHeader(e.target)){const t=this.getClosestTHParent(e.target);if(!t)return;const n=t.getAttribute("colspan");!t||null!==n&&"1"!==n||oB(wB,this)||this.setupHandlePosition(t)}}function NB(e){e.target.parentNode===this.hot.rootElement&&at(e.target,"manualColumnResizer")&&(this.setupHandlePosition(oB(cB,this)),this.setupGuidePosition(),iB(wB,this,!0),null===oB(SB,this)&&(iB(SB,this,setTimeout((()=>this.afterMouseDownTimeout()),500)),this.hot._registerTimeout(oB(SB,this))),iB(EB,this,oB(EB,this)+1),this.startX=e.pageX,iB(pB,this,oB(gB,this)))}function LB(e){if(oB(wB,this)){const t=(e.pageX-this.startX)*this.hot.getDirectionFactor();iB(fB,this,oB(gB,this)+t),C(oB(dB,this),(e=>{iB(pB,this,this.setManualSize(e,oB(fB,this)))})),this.refreshHandlePosition(),this.refreshGuidePosition()}}function kB(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},t=(t,n)=>{this.hot.runHooks("beforeColumnResize",oB(pB,this),t,!1),n&&e(),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",oB(pB,this),t,!1)};if(oB(wB,this)){if(this.hideHandleAndGuide(),iB(wB,this,!1),oB(pB,this)!==oB(gB,this)){const n=oB(dB,this).length;n>1?(C(oB(dB,this),(e=>{t(e)})),e()):C(oB(dB,this),(e=>{t(e,!0)}))}this.setupHandlePosition(oB(cB,this))}}function OB(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(oB(yB,this)),this.hot.rootElement.removeChild(oB(bB,this)),iB(wB,this,!1),iB(_B,this,!0),this.hot._registerImmediate((()=>{iB(_B,this,!1)}))}function IB(e,t){let n=e;if(this.enabled){const e=this.hot.toPhysicalColumn(t),r=oB(TB,this).getValueAtIndex(e);this.hot.getSettings()[aB]&&r&&(n=r)}return n}function PB(e,t){let n=oB(TB,this).getValueAtIndex(t);return null===n&&(n=e),n}function DB(){this.hot.view._wt.wtViewport.resetHasOversizedColumnHeadersMarked()}function FB(e,t,n){return(t=HB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HB(e){var t=UB(e,"string");return"symbol"==typeof t?t:t+""}function UB(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const BB=0,jB=1,YB=2,VB="px";class WB{constructor(e){FB(this,"hot",void 0),FB(this,"_element",null),FB(this,"state",BB),this.hot=e}appendTo(e){e.appendChild(this._element),this.state=YB}build(){this.state===BB&&(this._element=this.hot.rootDocument.createElement("div"),this.state=jB)}destroy(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=BB}isAppended(){return this.state===YB}isBuilt(){return this.state>=jB}setPosition(e,t){void 0!==e&&(this._element.style.top=e+VB),void 0!==t&&(this._element.style.left=t+VB)}getPosition(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}setSize(e,t){e&&(this._element.style.width=e+VB),t&&(this._element.style.height=t+VB)}getSize(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}setOffset(e,t){e&&(this._element.style.marginTop=e+VB),t&&(this._element.style.marginLeft=t+VB)}getOffset(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}var zB=WB;const GB="ht__manualRowMove--backlight";class $B extends zB{build(){super.build(),lt(this._element,GB)}}var qB=$B;const KB="ht__manualRowMove--guideline";class XB extends zB{build(){super.build(),lt(this._element,KB)}}var JB=XB;function QB(e,t){ej(e,t),t.add(e)}function ZB(e,t,n){ej(e,t),t.set(e,n)}function ej(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tj(e,t,n){return e.set(rj(e,t),n),n}function nj(e,t){return e.get(rj(e,t))}function rj(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("beforeRowMove"),Mr.getSingleton().register("afterRowMove");const ij="manualRowMove",oj=140,sj="ht__manualRowMove",aj="show-ui",lj="on-moving--rows",uj="after-selection--rows";var cj=new WeakMap,hj=new WeakMap,dj=new WeakMap,fj=new WeakMap,pj=new WeakMap,mj=new WeakMap,gj=new WeakSet;class vj extends tE{constructor(){super(...arguments),QB(this,gj),ZB(this,cj,new qB(this.hot)),ZB(this,hj,new JB(this.hot)),ZB(this,dj,[]),ZB(this,fj,void 0),ZB(this,pj,{}),ZB(this,mj,void 0)}static get PLUGIN_KEY(){return ij}static get PLUGIN_PRIORITY(){return oj}isEnabled(){return!!this.hot.getSettings()[ij]}enablePlugin(){var e=this;this.enabled||(this.addHook("beforeOnCellMouseDown",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rj(gj,e,yj).call(e,...n)})),this.addHook("beforeOnCellMouseOver",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rj(gj,e,wj).call(e,...n)})),this.addHook("afterScrollHorizontally",(()=>rj(gj,this,Ej).call(this))),this.addHook("afterLoadData",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rj(gj,e,Sj).call(e,...n)})),this.buildPluginUI(),this.registerEvents(),lt(this.hot.rootElement,sj),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),this.moveBySettingsOrLoad(),super.updatePlugin()}disablePlugin(){ut(this.hot.rootElement,sj),this.unregisterEvents(),nj(cj,this).destroy(),nj(hj,this).destroy(),super.disablePlugin()}moveRow(e,t){return this.moveRows([e],t)}moveRows(e,t){const n=nj(mj,this),r=this.isMovePossible(e,t),i=this.hot.runHooks("beforeRowMove",e,t,n,r);if(tj(mj,this,void 0),!1===i)return;r&&this.hot.rowIndexMapper.moveIndexes(e,t);const o=r&&this.isRowOrderChanged(e,t);return this.hot.runHooks("afterRowMove",e,t,n,r,o),o}dragRow(e,t){return this.dragRows([e],t)}dragRows(e,t){const n=this.countFinalIndex(e,t);return tj(mj,this,t),this.moveRows(e,n)}isMovePossible(e,t){const n=this.hot.rowIndexMapper.getNotTrimmedIndexesLength(),r=e.length+t>n,i=t<0,o=e.some((e=>e<0)),s=e.some((e=>e>=n));return!(r||i||o||s)}isRowOrderChanged(e,t){return e.some(((e,n)=>e-n!==t))}countFinalIndex(e,t){const n=S(e,((e,n)=>(n<t&&(e+=1),e)),0);return t-n}getRowsHeight(e,t){const n=this.hot.rowIndexMapper;let r=0;for(let i=e;i<=t;i++){const e=n.getRenderableFromVisualIndex(i);null!==e&&(r+=this.hot.view._wt.wtTable.getRowHeight(e)||23)}return r}moveBySettingsOrLoad(){const e=this.hot.getSettings()[ij];if(Array.isArray(e))this.moveRows(e,0);else if(void 0!==e){const e=this.persistentStateLoad();e.length&&this.moveRows(e,0)}}isFixedRowTop(e){return e<this.hot.getSettings().fixedRowsTop}isFixedRowBottom(e){return e>this.hot.countRows()-1-this.hot.getSettings().fixedRowsBottom}persistentStateSave(){this.hot.runHooks("persistentStateSave","manualRowMove",this.hot.rowIndexMapper.getIndexesSequence())}persistentStateLoad(){const e={};return this.hot.runHooks("persistentStateLoad","manualRowMove",e),e.value?e.value:[]}prepareRowsToMoving(){const e=this.hot.getSelectedRangeLast(),t=[];if(!e)return t;const{from:n,to:r}=e,i=Math.min(n.row,r.row),o=Math.max(n.row,r.row);return Ni(i,o,(e=>{t.push(e)})),t}refreshPositions(){const e=nj(pj,this).coords,t=this.hot.view.getFirstFullyVisibleRow(),n=this.hot.view.getLastFullyVisibleRow(),r=this.hot.countRows();this.isFixedRowTop(e.row)&&t>0&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(t-1,-1)),this.isFixedRowBottom(e.row)&&n<r&&this.hot.scrollViewportTo(this.hot.rowIndexMapper.getNearestNotHiddenIndex(n+1,1),void 0,!0);const i=this.hot.view._wt.wtTable,o=nj(pj,this).TD,s=this.hot.rootElement,a=yt(s),l=Ct(s),u=i.holder.scrollTop,c=this.hot.rootWindow!==l?l.scrollTop:0,h=a.top-c,d=nj(pj,this).eventPageY-h+u,f=i.hider.offsetHeight,p=i.TBODY.offsetTop,m=nj(cj,this).getOffset().top,g=nj(cj,this).getSize().height,v=o.offsetHeight/2,y=o.offsetHeight;let b=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row-1);const w=d>=b+v;this.isFixedRowTop(e.row)&&(b+=this.hot.view._wt.wtOverlays.topOverlay.getOverlayOffset()),e.row<0?nj(pj,this).row=t>0?t-1:t:w?(nj(pj,this).row=e.row+1,b+=0===e.row?y-1:y):nj(pj,this).row=e.row;let _=d,E=b;d+g+m>=f?_=f-g-m:d+m<p&&(_=p+Math.abs(m)),b>=f-1&&(E=f-1),nj(cj,this).setPosition(_),nj(hj,this).setPosition(E)}registerEvents(){const{documentElement:e}=this.hot.rootDocument;this.eventManager.addEventListener(e,"mousemove",(e=>rj(gj,this,bj).call(this,e))),this.eventManager.addEventListener(e,"mouseup",(()=>rj(gj,this,_j).call(this)))}unregisterEvents(){this.eventManager.clear()}buildPluginUI(){nj(cj,this).build(),nj(hj,this).build()}destroy(){nj(cj,this).destroy(),nj(hj,this).destroy(),super.destroy()}}function yj(e,t,n,r){const{wtTable:i,wtViewport:o}=this.hot.view._wt,s=this.hot.selection.isSelectedByRowHeader(),a=this.hot.getSelectedRangeLast();if(!a||!s||nj(fj,this)||0!==e.button)return tj(fj,this,!1),nj(dj,this).length=0,void ut(this.hot.rootElement,[lj,aj]);const l=nj(hj,this).isBuilt()&&!nj(hj,this).isAppended(),u=nj(cj,this).isBuilt()&&!nj(cj,this).isAppended();l&&u&&(nj(hj,this).appendTo(i.hider),nj(cj,this).appendTo(i.hider));const{from:c,to:h}=a,d=Math.min(c.row,h.row),f=Math.max(c.row,h.row);if(t.col<0&&t.row>=d&&t.row<=f){r.row=!0,tj(fj,this,!0),nj(pj,this).eventPageY=e.pageY,nj(pj,this).coords=t,nj(pj,this).TD=n,tj(dj,this,this.prepareRowsToMoving());const s=i.holder.scrollLeft+o.getRowHeaderWidth(),a=this.getRowsHeight(d,t.row-1)+e.offsetY;nj(cj,this).setPosition(null,s),nj(cj,this).setSize(i.hider.offsetWidth-s,this.getRowsHeight(d,f)),nj(cj,this).setOffset(-a,null),lt(this.hot.rootElement,lj),this.refreshPositions()}else ut(this.hot.rootElement,uj),tj(fj,this,!1),nj(dj,this).length=0}function bj(e){nj(fj,this)&&(nj(pj,this).eventPageY=e.pageY,this.refreshPositions())}function wj(e,t,n,r){const i=this.hot.getSelectedRangeLast();i&&nj(fj,this)&&(nj(dj,this).indexOf(t.row)>-1?ut(this.hot.rootElement,aj):lt(this.hot.rootElement,aj),r.row=!0,r.column=!0,r.cell=!0,nj(pj,this).coords=t,nj(pj,this).TD=n)}function _j(){const e=nj(pj,this).row,t=nj(dj,this).length;if(tj(fj,this,!1),ut(this.hot.rootElement,[lj,aj,uj]),this.hot.selection.isSelectedByRowHeader()&&lt(this.hot.rootElement,uj),t<1||void 0===e)return;const n=nj(dj,this)[0],r=this.hot.toPhysicalRow(n),i=this.dragRows(nj(dj,this),e);if(nj(dj,this).length=0,!0===i){this.persistentStateSave(),this.hot.render(),this.hot.view.adjustElementsSize();const e=this.hot.toVisualRow(r),n=e+t-1;this.hot.selectRows(e,n)}}function Ej(){const e=this.hot.view._wt.wtTable,t=this.hot.view._wt.wtViewport.getRowHeaderWidth(),n=e.holder.scrollLeft,r=t+n;nj(cj,this).setPosition(null,r),nj(cj,this).setSize(e.hider.offsetWidth-r)}function Sj(){this.moveBySettingsOrLoad()}function Tj(e,t){Cj(e,t),t.add(e)}function Mj(e,t,n){Cj(e,t),t.set(e,n)}function Cj(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Rj(e,t,n){return e.set(Aj(e,t),n),n}function xj(e,t){return e.get(Aj(e,t))}function Aj(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const Nj="manualRowResize",Lj=30,kj="manualRowHeights";var Oj=new WeakMap,Ij=new WeakMap,Pj=new WeakMap,Dj=new WeakMap,Fj=new WeakMap,Hj=new WeakMap,Uj=new WeakMap,Bj=new WeakMap,jj=new WeakMap,Yj=new WeakMap,Vj=new WeakMap,Wj=new WeakMap,zj=new WeakMap,Gj=new WeakMap,$j=new WeakMap,qj=new WeakMap,Kj=new WeakSet;class Xj extends tE{static get PLUGIN_KEY(){return Nj}static get PLUGIN_PRIORITY(){return Lj}constructor(e){super(e),Tj(this,Kj),Mj(this,Oj,null),Mj(this,Ij,null),Mj(this,Pj,[]),Mj(this,Dj,null),Mj(this,Fj,null),Mj(this,Hj,null),Mj(this,Uj,null),Mj(this,Bj,null),Mj(this,jj,this.hot.rootDocument.createElement("DIV")),Mj(this,Yj,this.hot.rootDocument.createElement("DIV")),Mj(this,Vj,!1),Mj(this,Wj,!1),Mj(this,zj,0),Mj(this,Gj,null),Mj(this,$j,void 0),Mj(this,qj,void 0),lt(xj(jj,this),"manualRowResizer"),lt(xj(Yj,this),"manualRowResizerGuide")}get inlineDir(){return this.hot.isRtl()?"right":"left"}isEnabled(){return this.hot.getSettings()[Nj]}enablePlugin(){this.enabled||(Rj($j,this,new Fh),xj($j,this).addLocalHook("init",(()=>Aj(Kj,this,rY).call(this))),this.hot.rowIndexMapper.registerMap(this.pluginName,xj($j,this)),this.addHook("modifyRowHeight",((e,t)=>Aj(Kj,this,nY).call(this,e,t))),this.bindEvents(),super.enablePlugin())}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}disablePlugin(){Rj(qj,this,xj($j,this).getValues()),this.hot.rowIndexMapper.unregisterMap(this.pluginName),super.disablePlugin()}saveManualRowHeights(){this.hot.runHooks("persistentStateSave",kj,xj($j,this).getValues())}loadManualRowHeights(){const e={};return this.hot.runHooks("persistentStateLoad",kj,e),e.value}setManualSize(e,t){const n=this.hot.toPhysicalRow(e),r=Math.max(t,Ju);return xj($j,this).setValueAtIndex(n,r),r}getLastDesiredRowHeight(){return xj(Dj,this)}setupHandlePosition(e){Rj(Oj,this,e);const{view:t}=this.hot,{_wt:n}=t,r=n.wtTable.getCoords(xj(Oj,this)),i=r.row;if(i<0)return;const o=Nt(xj(Oj,this)),s=xj(Oj,this).getBoundingClientRect(),a=i<n.getSetting("fixedRowsTop"),l=i>=t.countNotHiddenRowIndexes(0,1)-n.getSetting("fixedRowsBottom");let u;a?u=n.wtOverlays.topInlineStartCornerOverlay.getRelativeCellPosition(xj(Oj,this),r.row,r.col):l&&(u=n.wtOverlays.bottomInlineStartCornerOverlay.getRelativeCellPosition(xj(Oj,this),r.row,r.col)),u||(u=n.wtOverlays.inlineStartOverlay.getRelativeCellPosition(xj(Oj,this),r.row,r.col)),Rj(Ij,this,this.hot.rowIndexMapper.getVisualFromRenderableIndex(i)),Rj(Pj,this,[]);const c=this.hot.selection.isSelectedByCorner()||this.hot.selection.isSelectedByRowHeader();if(this.hot.selection.isSelected()&&c){const e=this.hot.getSelectedRange();C(e,(e=>{const t=e.getTopStartCorner().row,n=e.getBottomStartCorner().row;Ni(t,n,(e=>{xj(Pj,this).includes(e)||xj(Pj,this).push(e)}))}))}xj(Pj,this).includes(xj(Ij,this))||Rj(Pj,this,[xj(Ij,this)]),Rj(Bj,this,u.top-6),Rj(Uj,this,parseInt(s.height,10)),xj(jj,this).style.top=`${xj(Bj,this)+xj(Uj,this)}px`,xj(jj,this).style[this.inlineDir]=`${u.start}px`,xj(jj,this).style.width=`${o}px`,this.hot.rootElement.appendChild(xj(jj,this))}refreshHandlePosition(){xj(jj,this).style.top=`${xj(Bj,this)+xj(Dj,this)}px`}setupGuidePosition(){const e=parseInt(Nt(xj(jj,this)),10),t=parseInt(xj(jj,this).style[this.inlineDir],10)+e,n=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);lt(xj(jj,this),"active"),lt(xj(Yj,this),"active"),xj(Yj,this).style.top=xj(jj,this).style.top,xj(Yj,this).style[this.inlineDir]=`${t}px`,xj(Yj,this).style.width=n-e+"px",this.hot.rootElement.appendChild(xj(Yj,this))}refreshGuidePosition(){xj(Yj,this).style.top=xj(jj,this).style.top}hideHandleAndGuide(){ut(xj(jj,this),"active"),ut(xj(Yj,this),"active")}checkIfRowHeader(e){const t=et(e,["TBODY"],this.hot.rootElement),{inlineStartOverlay:n,topInlineStartCornerOverlay:r,bottomInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;return[n.clone.wtTable.TBODY,r.clone.wtTable.TBODY,i.clone.wtTable.TBODY].includes(t)}getClosestTHParent(e){return"TABLE"!==e.tagName?"TH"===e.tagName?e:this.getClosestTHParent(e.parentNode):null}getActualRowHeight(e){const t=this.hot.view._wt.wtTable.getRowHeight(e);return void 0!==t&&xj(Fj,this)<t?t:xj(Fj,this)}afterMouseDownTimeout(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},t=(t,n)=>{const r=this.hot.runHooks("beforeRowResize",this.getActualRowHeight(t),t,!0);void 0!==r&&Rj(Fj,this,r),this.setManualSize(t,xj(Fj,this)),this.hot.runHooks("afterRowResize",this.getActualRowHeight(t),t,!0),n&&e()};if(xj(zj,this)>=2){const n=xj(Pj,this).length;n>1?(C(xj(Pj,this),(e=>{t(e)})),e()):C(xj(Pj,this),(e=>{t(e,!0)}))}Rj(zj,this,0),Rj(Gj,this,null)}bindEvents(){const{rootElement:e,rootWindow:t}=this.hot;this.eventManager.addEventListener(e,"mouseover",(e=>Aj(Kj,this,Jj).call(this,e))),this.eventManager.addEventListener(e,"mousedown",(e=>Aj(Kj,this,Qj).call(this,e))),this.eventManager.addEventListener(t,"mousemove",(e=>Aj(Kj,this,Zj).call(this,e))),this.eventManager.addEventListener(t,"mouseup",(()=>Aj(Kj,this,eY).call(this))),this.eventManager.addEventListener(xj(jj,this),"contextmenu",(()=>Aj(Kj,this,tY).call(this)))}destroy(){super.destroy()}}function Jj(e){if(!Qt(e.target)&&!0!==xj(Wj,this)&&this.checkIfRowHeader(e.target)){const t=this.getClosestTHParent(e.target);t&&(xj(Vj,this)||this.setupHandlePosition(t))}}function Qj(e){at(e.target,"manualRowResizer")&&(this.setupHandlePosition(xj(Oj,this)),this.setupGuidePosition(),Rj(Vj,this,!0),null===xj(Gj,this)&&(Rj(Gj,this,setTimeout((()=>this.afterMouseDownTimeout()),500)),this.hot._registerTimeout(xj(Gj,this))),Rj(zj,this,xj(zj,this)+1),Rj(Hj,this,e.pageY),Rj(Fj,this,xj(Uj,this)))}function Zj(e){xj(Vj,this)&&(Rj(Dj,this,xj(Uj,this)+(e.pageY-xj(Hj,this))),C(xj(Pj,this),(e=>{Rj(Fj,this,this.setManualSize(e,xj(Dj,this)))})),this.refreshHandlePosition(),this.refreshGuidePosition())}function eY(){const e=()=>{this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.adjustElementsSize()},t=(t,n)=>{this.hot.runHooks("beforeRowResize",this.getActualRowHeight(t),t,!1),n&&e(),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.getActualRowHeight(t),t,!1)};if(xj(Vj,this)){if(this.hideHandleAndGuide(),Rj(Vj,this,!1),xj(Fj,this)!==xj(Uj,this)){const n=xj(Pj,this).length;n>1?(C(xj(Pj,this),(e=>{t(e)})),e()):C(xj(Pj,this),(e=>{t(e,!0)}))}this.setupHandlePosition(xj(Oj,this))}}function tY(){this.hideHandleAndGuide(),this.hot.rootElement.removeChild(xj(jj,this)),this.hot.rootElement.removeChild(xj(Yj,this)),Rj(Vj,this,!1),Rj(Wj,this,!0),this.hot._registerImmediate((()=>{Rj(Wj,this,!1)}))}function nY(e,t){let n=e;if(this.enabled){const e=this.hot.toPhysicalRow(t),r=xj($j,this).getValueAtIndex(e);this.hot.getSettings()[Nj]&&r&&(n=r)}return n}function rY(){const e=this.hot.getSettings()[Nj],t=this.loadManualRowHeights();this.hot.batchExecution((()=>{"undefined"!==typeof t?t.forEach(((e,t)=>{xj($j,this).setValueAtIndex(t,e)})):Array.isArray(e)?(e.forEach(((e,t)=>{xj($j,this).setValueAtIndex(t,e)})),Rj(qj,this,e)):!0===e&&Array.isArray(xj(qj,this))&&xj(qj,this).forEach(((e,t)=>{xj($j,this).setValueAtIndex(t,e)}))}),!0)}function iY(e,t,n){oY(e,t),t.set(e,n)}function oY(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sY(e,t,n){return(t=aY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aY(e){var t=lY(e,"string");return"symbol"==typeof t?t:t+""}function lY(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function uY(e,t){return e.get(hY(e,t))}function cY(e,t,n){return e.set(hY(e,t),n),n}function hY(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var dY=new WeakMap;class fY{constructor(e,t,n,r,i,o){sY(this,"row",void 0),sY(this,"col",void 0),sY(this,"rowspan",void 0),sY(this,"colspan",void 0),sY(this,"removed",!1),sY(this,"cellCoordsFactory",void 0),sY(this,"cellRangeFactory",void 0),iY(this,dY,null),this.row=e,this.col=t,this.rowspan=n,this.colspan=r,this.cellCoordsFactory=i,this.cellRangeFactory=o}static NEGATIVE_VALUES_WARNING(e){let{row:t,col:n,rowspan:r,colspan:i}=e;return F`The merged cell declared with {row: ${t}, col: ${n},\x20
      rowspan: ${r}, colspan: ${i}} contains negative values, which is\x20
      not supported. It will not be added to the collection.`}static IS_OUT_OF_BOUNDS_WARNING(e){let{row:t,col:n}=e;return F`The merged cell declared at [${t}, ${n}] is positioned\x20
      (or positioned partially) outside of the table range. It was not added to the table, please fix your setup.`}static IS_SINGLE_CELL(e){let{row:t,col:n}=e;return F`The merged cell declared at [${t}, ${n}] has both "rowspan"\x20
      and "colspan" declared as "1", which makes it a single cell. It cannot be added to the collection.`}static ZERO_SPAN_WARNING(e){let{row:t,col:n}=e;return F`The merged cell declared at [${t}, ${n}] has "rowspan"\x20
      or "colspan" declared as "0", which is not supported. It cannot be added to the collection.`}static containsNegativeValues(e){let{row:t,col:n,rowspan:r,colspan:i}=e;return t<0||n<0||r<0||i<0}static isSingleCell(e){let{rowspan:t,colspan:n}=e;return 1===n&&1===t}static containsZeroSpan(e){let{rowspan:t,colspan:n}=e;return 0===n||0===t}static isOutOfBounds(e,t,n){return e.row<0||e.col<0||e.row>=t||e.row+e.rowspan-1>=t||e.col>=n||e.col+e.colspan-1>=n}normalize(e){const t=e.countRows(),n=e.countCols();this.row<0?this.row=0:this.row>t-1&&(this.row=t-1),this.col<0?this.col=0:this.col>n-1&&(this.col=n-1),this.row+this.rowspan>t-1&&(this.rowspan=t-this.row),this.col+this.colspan>n-1&&(this.colspan=n-this.col),cY(dY,this,null)}includes(e,t){return this.row<=e&&this.col<=t&&this.row+this.rowspan-1>=e&&this.col+this.colspan-1>=t}includesHorizontally(e){return this.col<=e&&this.col+this.colspan-1>=e}includesVertically(e){return this.row<=e&&this.row+this.rowspan-1>=e}shift(e,t){const n=e[0]||e[1],r=t+Math.abs(e[0]||e[1])-1,i=e[0]?"colspan":"rowspan",o=e[0]?"col":"row",s=Math.min(t,r),a=Math.max(t,r),l=this[o],u=this[o]+this[i]-1;if(l>=t&&(this[o]+=n),n>0)t<=u&&t>l&&(this[i]+=n);else if(n<0){if(s<=l&&a>=u)return this.removed=!0,cY(dY,this,null),!1;if(l>=s&&l<=a){const e=a-l+1,t=Math.abs(n)-e;this[o]-=t+n,this[i]-=e}else if(l<=s&&u>=a)this[i]+=n;else if(l<=s&&u>=s&&u<a){const e=u-s+1;this[i]-=e}}return cY(dY,this,null),!0}isFarther(e,t){return!e||("down"===t?e.row+e.rowspan-1<this.row+this.rowspan-1:"up"===t?e.row>this.row:"right"===t?e.col+e.colspan-1<this.col+this.colspan-1:"left"===t?e.col>this.col:null)}getLastRow(){return this.row+this.rowspan-1}getLastColumn(){return this.col+this.colspan-1}getRange(){return uY(dY,this)||cY(dY,this,this.cellRangeFactory(this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.row,this.col),this.cellCoordsFactory(this.getLastRow(),this.getLastColumn()))),uY(dY,this)}}var pY=fY;function mY(e,t){gY(e,t),t.add(e)}function gY(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vY(e,t,n){return(t=yY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yY(e){var t=bY(e,"string");return"symbol"==typeof t?t:t+""}function bY(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function wY(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var _Y=new WeakSet;class EY{constructor(e){mY(this,_Y),vY(this,"plugin",void 0),vY(this,"mergedCells",[]),vY(this,"mergedCellsMatrix",new Map),vY(this,"hot",void 0),this.plugin=e,this.hot=e.hot}static IS_OVERLAPPING_WARNING(e){let{row:t,col:n}=e;return F`The merged cell declared at [${t}, ${n}], overlaps\x20
      with the other declared merged cell. The overlapping merged cell was not added to the table, please\x20
      fix your setup.`}get(e,t){var n;return!!this.mergedCellsMatrix.has(e)&&(null!==(n=this.mergedCellsMatrix.get(e).get(t))&&void 0!==n&&n)}getByRange(e){let t=!1;return C(this.mergedCells,(n=>!(n.row<=e.from.row&&n.row+n.rowspan-1>=e.to.row&&n.col<=e.from.col&&n.col+n.colspan-1>=e.to.col)||(t=n,t))),t}filterOverlappingMergeCells(e){const t=new Set;this.mergedCells.forEach((e=>{const{row:n,col:r,colspan:i,rowspan:o}=e;for(let s=n;s<n+o;s++)for(let e=r;e<r+i;e++)t.add(`r${s},c${e}`)}));const n=e.filter((e=>{const{row:n,col:r,colspan:i,rowspan:o}=e,s=new Set;let a=!1;for(let l=n;l<n+o;l++){for(let n=r;n<r+i;n++){const r=`r${l},c${n}`;if(t.has(r)){dr(EY.IS_OVERLAPPING_WARNING(e)),a=!0;break}s.add(r)}if(a)break}return a||t.add(...s),!a}));return n}getWithinRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{row:n,col:r}=e.getTopStartCorner(),{row:i,col:o}=e.getBottomEndCorner(),s=[];for(let a=n;a<=i;a++)for(let e=r;e<=o;e++){const n=this.get(a,e);n&&(t||!t&&n.row===a&&n.col===e)&&s.push(n)}return s}add(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.row,r=e.col,i=e.rowspan,o=e.colspan,s=new pY(n,r,i,o,this.hot._createCellCoords,this.hot._createCellRange),a=this.get(n,r),l=!t&&this.isOverlapping(s);return a||l?(dr(EY.IS_OVERLAPPING_WARNING(s)),!1):(this.hot&&s.normalize(this.hot),this.mergedCells.push(s),wY(_Y,this,TY).call(this,s),s)}remove(e,t){const n=this.get(e,t),r=n?this.mergedCells.indexOf(n):-1;return!(!n||-1===r)&&(this.mergedCells.splice(r,1),wY(_Y,this,MY).call(this,n),n)}clear(){C(this.mergedCells,(e=>{let{row:t,col:n,rowspan:r,colspan:i}=e;Ni(t,t+r,(e=>{Ni(n,n+i,(t=>{const n=this.hot.getCell(e,t);n&&(n.removeAttribute("rowspan"),n.removeAttribute("colspan"),n.style.display="")}))}))})),this.mergedCells.length=0,this.mergedCellsMatrix=new Map}isOverlapping(e){const t=e.getRange();for(let n=0;n<this.mergedCells.length;n++){const e=this.mergedCells[n],r=e.getRange();if(r.overlaps(t))return!0}return!1}isFirstRenderableMergedCell(e,t){const n=this.get(e,t);return n&&this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1)===e&&this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1)===t}getFirstRenderableCoords(e,t){const n=this.get(e,t);if(!n||this.isFirstRenderableMergedCell(e,t))return this.hot._createCellCoords(e,t);const r=this.hot.rowIndexMapper.getNearestNotHiddenIndex(n.row,1),i=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n.col,1);return this.hot._createCellCoords(r,i)}getStartMostColumnIndex(e,t){const n=wY(_Y,this,SY).call(this,e,"col",-1);let r=t;for(let i=0;i<n.length;i++)if(n[i]<=t){r=n[i];break}return r}getEndMostColumnIndex(e,t){const n=wY(_Y,this,SY).call(this,e,"col",1);let r=t;for(let i=0;i<n.length;i++)if(n[i]>=t){r=n[i];break}return r}getTopMostRowIndex(e,t){const n=wY(_Y,this,SY).call(this,e,"row",-1);let r=t;for(let i=0;i<n.length;i++)if(n[i]<=t){r=n[i];break}return r}getBottomMostRowIndex(e,t){const n=wY(_Y,this,SY).call(this,e,"row",1);let r=t;for(let i=0;i<n.length;i++)if(n[i]>=t){r=n[i];break}return r}shiftCollections(e,t,n){const r=[0,0];switch(e){case"right":r[0]+=n;break;case"left":r[0]-=n;break;case"down":r[1]+=n;break;case"up":r[1]-=n;break;default:}const i=[];this.mergedCells.forEach((e=>{e.shift(r,t),e.removed&&i.push(e)})),i.forEach((e=>{this.mergedCells.splice(this.mergedCells.indexOf(e),1)})),this.mergedCellsMatrix.clear(),this.mergedCells.forEach((e=>{wY(_Y,this,TY).call(this,e)}))}}function SY(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=new Map,i=1===n?e.getTopStartCorner():e.getBottomEndCorner(),o=1===n?e.getBottomEndCorner():e.getTopStartCorner();for(let s=i.row;1===n?s<=o.row:s>=o.row;s+=n)for(let e=i.col;1===n?e<=o.col:e>=o.col;e+=n){const i="row"===t?s:e,o=this.get(s,e);let a=i;o&&(a=1===n?o[t]+o[`${t}span`]-1:o[t]),r.has(i)||r.set(i,new Set),r.get(i).add(a)}return Array.from(new Set(Array.from(r.entries()).filter((e=>{let[,t]=e;return 1===t.size})).flatMap((e=>{let[,t]=e;return Array.from(t)}))))}function TY(e){for(let t=e.row;t<e.row+e.rowspan;t++)for(let n=e.col;n<e.col+e.colspan;n++)this.mergedCellsMatrix.has(t)||this.mergedCellsMatrix.set(t,new Map),this.mergedCellsMatrix.get(t).set(n,e)}function MY(e){for(let t=e.row;t<e.row+e.rowspan;t++)for(let n=e.col;n<e.col+e.colspan;n++)this.mergedCellsMatrix.get(t).delete(n)}var CY=EY;function RY(e,t,n){return(t=xY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xY(e){var t=AY(e,"string");return"symbol"==typeof t?t:t+""}function AY(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class NY{constructor(e){RY(this,"plugin",void 0),RY(this,"mergedCellsCollection",void 0),RY(this,"currentFillData",null),this.plugin=e,this.mergedCellsCollection=this.plugin.mergedCellsCollection}correctSelectionAreaSize(e){if(e[0]===e[2]&&e[1]===e[3]){const t=this.mergedCellsCollection.get(e[0],e[1]);t&&(e[2]=e[0]+t.rowspan-1,e[3]=e[1]+t.colspan-1)}}getDirection(e,t){let n=null;return n=t[0]===e[0]&&t[1]===e[1]&&t[3]===e[3]?"down":t[2]===e[2]&&t[1]===e[1]&&t[3]===e[3]?"up":t[1]===e[1]&&t[2]===e[2]?"right":"left",n}snapDragArea(e,t,n,r){const i=t.slice(0),o=this.getAutofillSize(e,t,n),[s,a,l,u]=e,c=["up","down"].indexOf(n)>-1,h=c?l-s+1:u-a+1,d=Math.floor(o/h)*h,f=o-d,p=this.getFarthestCollection(e,t,n,r);if(p)if("down"===n){const e=p.row+p.rowspan-s-f,t=i[2]+e;t>=this.plugin.hot.countRows()?i[2]-=f:i[2]+=f?e:0}else if("right"===n){const e=p.col+p.colspan-a-f,t=i[3]+e;t>=this.plugin.hot.countCols()?i[3]-=f:i[3]+=f?e:0}else if("up"===n){const e=l-f-p.row+1,t=i[0]+e;t<0?i[0]+=f:i[0]-=f?e:0}else if("left"===n){const e=u-f-p.col+1,t=i[1]+e;t<0?i[1]+=f:i[1]-=f?e:0}return this.updateCurrentFillCache({baseArea:e,dragDirection:n,foundMergedCells:r,fillSize:o,dragArea:i,cycleLength:h}),i}updateCurrentFillCache(e){this.currentFillData||(this.currentFillData={}),mn(this.currentFillData,e)}getAutofillSize(e,t,n){const[r,i,o,s]=e,[a,l,u,c]=t;switch(n){case"up":return r-a;case"down":return u-o;case"left":return i-l;case"right":return c-s;default:return null}}getDragArea(e,t,n){const[r,i,o,s]=e,[a,l,u,c]=t;switch(n){case"up":return[a,l,r-1,s];case"down":return[o+1,i,u,s];case"left":return[a,l,o,i-1];case"right":return[r,s+1,u,c];default:return null}}getFarthestCollection(e,t,n,r){const[i,o,s,a]=e,l=["up","down"].indexOf(n)>-1,u=l?s:a,c=l?i:o,h=this.getAutofillSize(e,t,n),d=l?s-i+1:a-o+1,f=Math.floor(h/d)*d,p=h-f;let m=null,g=null,v=null;switch(n){case"up":m="includesVertically",v=u-p+1;break;case"left":m="includesHorizontally",v=u-p+1;break;case"down":m="includesVertically",v=c+p-1;break;case"right":m="includesHorizontally",v=c+p-1;break;default:}return C(r,(e=>{e[m](v)&&e.isFarther(g,n)&&(g=e)})),g}recreateAfterDataPopulation(e){if(!this.currentFillData)return;const t=this.getRangeFromChanges(e),n=this.currentFillData.foundMergedCells,r=this.currentFillData.dragDirection,i=(e,n)=>{switch(r){case"up":return e.row-n>=t.from.row;case"down":return e.row+e.rowspan-1+n<=t.to.row;case"left":return e.col-n>=t.from.column;case"right":return e.col+e.colspan-1+n<=t.to.column;default:return null}};let o=0,s=null,a=1;do{for(let e=0;e<n.length;e+=1){if(s=n[e],o=a*this.currentFillData.cycleLength,i(s,o))switch(r){case"up":this.plugin.mergedCellsCollection.add({row:s.row-o,rowspan:s.rowspan,col:s.col,colspan:s.colspan});break;case"down":this.plugin.mergedCellsCollection.add({row:s.row+o,rowspan:s.rowspan,col:s.col,colspan:s.colspan});break;case"left":this.plugin.mergedCellsCollection.add({row:s.row,rowspan:s.rowspan,col:s.col-o,colspan:s.colspan});break;case"right":this.plugin.mergedCellsCollection.add({row:s.row,rowspan:s.rowspan,col:s.col+o,colspan:s.colspan});break;default:}e===n.length-1&&(a+=1)}}while(i(s,o));this.currentFillData=null,this.plugin.hot.render(),n.length>0&&this.plugin.ifChromeForceRepaint()}getRangeFromChanges(e){const t={min:null,max:null},n={min:null,max:null};return C(e,(e=>{const r=e[0],i=this.plugin.hot.propToCol(e[1]);(null===t.min||r<t.min)&&(t.min=r),(null===t.max||r>t.max)&&(t.max=r),(null===n.min||i<n.min)&&(n.min=i),(null===n.max||i>n.max)&&(n.max=i)})),{from:{row:t.min,column:n.min},to:{row:t.max,column:n.max}}}dragAreaOverlapsCollections(e,t,n){const r=this.getDragArea(e,t,n),[i,o,s,a]=r,l=this.plugin.hot._createCellCoords(i,o),u=this.plugin.hot._createCellCoords(s,a),c=this.plugin.hot._createCellRange(l,l,u);return this.mergedCellsCollection.getWithinRange(c,!0).length>0}}var LY=NY;function kY(e,t,n){return(t=OY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OY(e){var t=IY(e,"string");return"symbol"==typeof t?t:t+""}function IY(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class PY{constructor(e){kY(this,"plugin",void 0),kY(this,"hot",void 0),kY(this,"fullySelectedMergedCellClassName","fullySelectedMergedCell"),this.plugin=e,this.hot=e.hot}getSelectedMergedCellClassName(e,t,n,r){const i=Math.min(n[0],n[2]),o=Math.min(n[1],n[3]),s=Math.max(n[0],n[2]),a=Math.max(n[1],n[3]);if(void 0===r)return;const l=this.plugin.mergedCellsCollection.isFirstRenderableMergedCell(e,t);if(!l)return;const u=this.plugin.mergedCellsCollection.get(e,t);if(!u)return;const c=u.getLastRow(),h=u.getLastColumn(),d=i<=u.row&&o<=u.col&&s>=c&&a>=h;return d?`${this.fullySelectedMergedCellClassName}-${r}`:this.isMergeCellFullySelected(u,this.plugin.hot.getSelectedRange())?`${this.fullySelectedMergedCellClassName}-multiple`:void 0}isMergeCellFullySelected(e,t){const n=[];if(!t||!e)return!1;for(let r=0;r<e.rowspan;r+=1)for(let t=0;t<e.colspan;t+=1)n.push(this.hot._createCellCoords(e.row+r,e.col+t));for(let r=0;r<n.length;r+=1){const e=[];for(let i=0;i<t.length;i+=1)e[i]=t[i].includes(n[r]);if(!e.includes(!0))return!1}return!0}getSelectedMergedCellClassNameToRemove(){const e=[];for(let t=0;t<=7;t+=1)e.push(`${this.fullySelectedMergedCellClassName}-${t}`);return e.push(`${this.fullySelectedMergedCellClassName}-multiple`),e}}var DY=PY;function FY(e){return{key:"mergeCells",name(){const t=this.getSelectedLast();if(t){const n=e.mergedCellsCollection.get(t[0],t[1]);if(n.row===t[0]&&n.col===t[1]&&n.row+n.rowspan-1===t[2]&&n.col+n.colspan-1===t[3])return this.getTranslatedPhrase(ef)}return this.getTranslatedPhrase(Zd)},callback(){const t=this.getSelectedRangeLast();if(!t)return;t.setDirection(this.isRtl()?"NE-SW":"NW-SE");const{from:n,to:r}=t;e.toggleMerge(t),this.selectCell(n.row,n.col,r.row,r.col,!1)},disabled(){const e=this.getSelectedLast();if(!e)return!0;const t=pY.isSingleCell({row:e[0],col:e[1],rowspan:e[2]-e[0]+1,colspan:e[3]-e[1]+1});return t||this.selection.isSelectedByCorner()},hidden:!1}}function HY(e,t,n){return(t=UY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UY(e){var t=BY(e,"string");return"symbol"==typeof t?t:t+""}function BY(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class jY{constructor(e){HY(this,"data",void 0),HY(this,"next",null),HY(this,"prev",null),this.data=e}}class YY{constructor(){HY(this,"first",null),HY(this,"last",null)}push(e){const t=new jY(e);if(null===this.first)this.first=t,this.last=t;else{const e=this.last;this.last=t,t.prev=e,e.next=t}return t}unshift(e){const t=new jY(e);if(null===this.first)this.first=t,this.last=t;else{const e=this.first;this.first=t,t.next=e,e.prev=t}}inorder(e){let t=this.first;while(t){const n=e(t);if(t===this.last||!0===n)break;t=t.next}}remove(e){if(null===this.first)return!1;let t,n,r=this.first;while(r){if(r.data===e)return t=r.next,n=r.prev,t&&(t.prev=n),n&&(n.next=t),r===this.first&&(this.first=t),r===this.last&&(this.last=n),!0;r=r.next}return!1}hasCycle(){let e=this.first,t=this.first;while(1){if(null===e)return!1;if(e=e.next,null===e)return!1;if(e=e.next,t=t.next,e===t)return!0}}pop(){if(null===this.last)return null;const e=this.last;return this.last=this.last.prev,e}shift(){if(null===this.first)return null;const e=this.first;return this.first=this.first.next,e}recursiveReverse(){function e(t,n){n&&(e(n,n.next),n.next=t)}if(!this.first)return;e(this.first,this.first.next),this.first.next=null;const t=this.first;this.first=this.last,this.last=t}reverse(){if(!this.first||!this.first.next)return;let e,t=this.first.next,n=this.first;while(t)e=t.next,t.next=n,n.prev=t,n=t,t=e;this.first.next=null,this.last.prev=null,e=this.first,this.first=n,this.last=e}}var VY=YY;function WY(e,t){GY(e,t),t.add(e)}function zY(e,t,n){GY(e,t),t.set(e,n)}function GY(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $Y(e,t){return e.get(KY(e,t))}function qY(e,t,n){return e.set(KY(e,t),n),n}function KY(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var XY=new WeakMap,JY=new WeakMap,QY=new WeakMap,ZY=new WeakMap,eV=new WeakMap,tV=new WeakMap,nV=new WeakMap,rV=new WeakSet;class iV{constructor(e){let{mergedCellsGetter:t,rowIndexMapper:n,columnIndexMapper:r}=e;WY(this,rV),zY(this,XY,new VY),zY(this,JY,new VY),zY(this,QY,null),zY(this,ZY,null),zY(this,eV,null),zY(this,tV,null),zY(this,nV,null),qY(eV,this,t),qY(tV,this,n),qY(nV,this,r)}getCurrentVerticalNode(){return $Y(ZY,this).data}getFirstVerticalNode(){return $Y(JY,this).first.data}getNextVerticalNode(){return $Y(ZY,this).next.data}getPrevVerticalNode(){return $Y(ZY,this).prev.data}getCurrentHorizontalNode(){return $Y(QY,this).data}getFirstHorizontalNode(){return $Y(XY,this).first.data}getNextHorizontalNode(){return $Y(QY,this).next.data}getPrevHorizontalNode(){return $Y(QY,this).prev.data}setPrevNodeAsActive(){qY(ZY,this,$Y(ZY,this).prev),qY(QY,this,$Y(QY,this).prev)}setNextNodeAsActive(){qY(ZY,this,$Y(ZY,this).next),qY(QY,this,$Y(QY,this).next)}buildFocusOrder(e){const t=e.getTopStartCorner(),n=e.getBottomEndCorner(),r=new WeakSet;qY(XY,this,new VY);for(let o=t.row;o<=n.row;o++)if(!$Y(tV,this).isHidden(o))for(let i=t.col;i<=n.col;i++){if($Y(nV,this).isHidden(i))continue;const t=KY(rV,this,oV).call(this,e,$Y(XY,this),r,o,i);t&&qY(QY,this,t)}$Y(XY,this).first&&($Y(XY,this).first.prev=$Y(XY,this).last,$Y(XY,this).last.next=$Y(XY,this).first);const i=new WeakSet;qY(JY,this,new VY);for(let o=t.col;o<=n.col;o++)if(!$Y(nV,this).isHidden(o))for(let r=t.row;r<=n.row;r++){if($Y(tV,this).isHidden(r))continue;const t=KY(rV,this,oV).call(this,e,$Y(JY,this),i,r,o);t&&qY(ZY,this,t)}$Y(JY,this).first&&($Y(JY,this).first.prev=$Y(JY,this).last,$Y(JY,this).last.next=$Y(JY,this).first)}setActiveNode(e,t){return $Y(XY,this).inorder((n=>{const{rowStart:r,rowEnd:i,colStart:o,colEnd:s}=n.data;if(e>=r&&e<=i&&t>=o&&t<=s)return qY(QY,this,n),!1})),$Y(JY,this).inorder((n=>{const{rowStart:r,rowEnd:i,colStart:o,colEnd:s}=n.data;if(e>=r&&e<=i&&t>=o&&t<=s)return qY(ZY,this,n),!1})),this}}function oV(e,t,n,r,i){const o=e.getTopStartCorner(),s=e.getBottomEndCorner(),a=e.highlight.clone().normalize(),l=$Y(eV,this).call(this,r,i);if(l&&n.has(l))return null;const u={colStart:i,colEnd:i,rowStart:r,rowEnd:r};if(l){if(n.add(l),l.row<o.row||l.row+l.rowspan-1>s.row||l.col<o.col||l.col+l.colspan-1>s.col)return null;u.colStart=l.col,u.colEnd=l.col+l.colspan-1,u.rowStart=l.row,u.rowEnd=l.row+l.rowspan-1}const c=t.push(u);return r===a.row&&i===a.col||l&&a.row>=l.row&&a.row<=l.row+l.rowspan-1&&a.col>=l.col&&a.col<=l.col+l.colspan-1?c:null}function sV(e){const{hot:t}=e,{rowIndexMapper:n,columnIndexMapper:r}=t;function i(){}function o(t,i,o){const s=e.mergedCellsCollection.get(i,o);if(!_n(s))return t.removeAttribute("rowspan"),t.removeAttribute("colspan"),void(t.style.display="");const{row:a,col:l,colspan:u,rowspan:c}=s,[h,d]=e.translateMergedCellToRenderable(a,c,l,u),f=n.getRenderableFromVisualIndex(i),p=r.getRenderableFromVisualIndex(o),m=h-f+1,g=d-p+1,v=n.getNearestNotHiddenIndex(a,1),y=r.getNearestNotHiddenIndex(l,1),b=Math.min(c,m),w=Math.min(u,g);v===i&&y===o?(t.setAttribute("rowspan",b),t.setAttribute("colspan",w)):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none")}return{before:i,after:o}}function aV(e,t){uV(e,t),t.add(e)}function lV(e,t,n){uV(e,t),t.set(e,n)}function uV(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cV(e,t,n){return(t=hV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hV(e){var t=dV(e,"string");return"symbol"==typeof t?t:t+""}function dV(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function fV(e,t,n){return e.set(mV(e,t),n),n}function pV(e,t){return e.get(mV(e,t))}function mV(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}Mr.getSingleton().register("beforeMergeCells"),Mr.getSingleton().register("afterMergeCells"),Mr.getSingleton().register("beforeUnmergeCells"),Mr.getSingleton().register("afterUnmergeCells");const gV="mergeCells",vV=150,yV=gV;var bV=new WeakMap,wV=new WeakMap,_V=new WeakMap,EV=new WeakMap,SV=new WeakSet;class TV extends tE{constructor(){super(...arguments),aV(this,SV),cV(this,"mergedCellsCollection",null),cV(this,"autofillCalculations",null),cV(this,"selectionCalculations",null),lV(this,bV,null),lV(this,wV,{row:0,col:0}),lV(this,_V,new iV({mergedCellsGetter:(e,t)=>this.mergedCellsCollection.get(e,t),rowIndexMapper:this.hot.rowIndexMapper,columnIndexMapper:this.hot.columnIndexMapper})),lV(this,EV,sV(this))}static get PLUGIN_KEY(){return gV}static get PLUGIN_PRIORITY(){return vV}isEnabled(){return!!this.hot.getSettings()[gV]}enablePlugin(){var e=this;this.enabled||(this.mergedCellsCollection=new CY(this),this.autofillCalculations=new LY(this),this.selectionCalculations=new DY(this),this.addHook("afterInit",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,MV).call(e,...n)})),this.addHook("modifyTransformFocus",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,RV).call(e,...n)})),this.addHook("modifyTransformStart",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,xV).call(e,...n)})),this.addHook("modifyTransformEnd",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,AV).call(e,...n)})),this.addHook("beforeSelectionHighlightSet",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,NV).call(e,...n)})),this.addHook("beforeSetRangeStart",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,OV).call(e,...n)})),this.addHook("beforeSetRangeStartOnly",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,OV).call(e,...n)})),this.addHook("beforeSelectionFocusSet",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,IV).call(e,...n)})),this.addHook("afterSelectionFocusSet",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,PV).call(e,...n)})),this.addHook("afterSelectionEnd",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,DV).call(e,...n)})),this.addHook("modifyGetCellCoords",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,LV).call(e,...n)})),this.addHook("afterIsMultipleSelection",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,CV).call(e,...n)})),this.addHook("afterRenderer",(function(){return pV(EV,e).after(...arguments)})),this.addHook("afterContextMenuDefaultOptions",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,kV).call(e,...n)})),this.addHook("afterGetCellMeta",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,FV).call(e,...n)})),this.addHook("afterViewportRowCalculatorOverride",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,HV).call(e,...n)})),this.addHook("afterViewportColumnCalculatorOverride",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,UV).call(e,...n)})),this.addHook("modifyAutofillRange",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,BV).call(e,...n)})),this.addHook("afterCreateCol",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,jV).call(e,...n)})),this.addHook("afterRemoveCol",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,YV).call(e,...n)})),this.addHook("afterCreateRow",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,VV).call(e,...n)})),this.addHook("afterRemoveRow",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,WV).call(e,...n)})),this.addHook("afterChange",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,zV).call(e,...n)})),this.addHook("beforeDrawBorders",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,GV).call(e,...n)})),this.addHook("afterDrawSelection",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,$V).call(e,...n)})),this.addHook("beforeRemoveCellClassNames",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,qV).call(e,...n)})),this.addHook("beforeBeginEditing",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,KV).call(e,...n)})),this.addHook("modifyRowHeightByOverlayName",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mV(SV,e,XV).call(e,...n)})),this.addHook("beforeUndoStackChange",((e,t)=>{if("MergeCells"===t)return!1})),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.clearCollections(),this.unregisterShortcuts(),this.hot.render(),super.disablePlugin()}updatePlugin(){const e=this.hot.getSettings()[gV];this.disablePlugin(),this.enablePlugin(),this.generateFromSettings(e),super.updatePlugin()}ifChromeForceRepaint(){if(!Bn())return;const e=[];let t=[];this.mergedCellsCollection.mergedCells.forEach((e=>{const{row:n,rowspan:r}=e;for(let i=n+1;i<n+r;i++)t.push(i)})),t=[...new Set(t)],t.forEach((t=>{const n=this.hot.rowIndexMapper.getRenderableFromVisualIndex(t);this.hot.view._wt.wtOverlays.getOverlays(!0).map((e=>"master"===(null===e||void 0===e?void 0:e.name)?e:e.clone.wtTable)).forEach((t=>{const r=t.getRow(n);r&&(r.style.background=Rt(r,"backgroundColor").replace(")",", 0.99)"),e.push(r))}))})),this.hot._registerTimeout((()=>{e.forEach((e=>{e.style.background=Rt(e,"backgroundColor").replace(", 0.99)",")")}))}),1)}validateSetting(e){return!!e&&(pY.containsNegativeValues(e)?(dr(pY.NEGATIVE_VALUES_WARNING(e)),!1):pY.isOutOfBounds(e,this.hot.countRows(),this.hot.countCols())?(dr(pY.IS_OUT_OF_BOUNDS_WARNING(e)),!1):pY.isSingleCell(e)?(dr(pY.IS_SINGLE_CELL(e)),!1):!pY.containsZeroSpan(e)||(dr(pY.ZERO_SPAN_WARNING(e)),!1))}generateFromSettings(e){if(!Array.isArray(e))return;const t=e.filter((e=>this.validateSetting(e))),n=this.mergedCellsCollection.filterOverlappingMergeCells(t),r=[];n.forEach((e=>{const{row:t,col:n,rowspan:i,colspan:o}=e,s=this.hot._createCellCoords(t,n),a=this.hot._createCellCoords(t+i-1,n+o-1),l=this.hot._createCellRange(s,s,a);this.mergeRange(l,!0,!0);for(let u=t;u<t+i;u++)for(let e=n;e<n+o;e++)u===t&&e===n||r.push([u,e,null])})),0!==r.length&&this.hot.setDataAtCell(r,void 0,void 0,this.pluginName)}clearCollections(){this.mergedCellsCollection.clear()}canMergeRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!t||this.validateSetting(e)}mergeSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;e.setDirection(this.hot.isRtl()?"NE-SW":"NW-SE");const{from:t,to:n}=e;this.unmergeRange(e,!0),this.mergeRange(e),this.hot.selectCell(t.row,t.col,n.row,n.col,!1)}unmergeSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hot.getSelectedRangeLast();if(!e)return;const{from:t,to:n}=e;this.unmergeRange(e,!0),this.hot.selectCell(t.row,t.col,n.row,n.col,!1)}mergeRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.getTopStartCorner(),i=e.getBottomEndCorner(),o={row:r.row,col:r.col,rowspan:i.row-r.row+1,colspan:i.col-r.col+1},s=[];let a=null;if(!this.canMergeRange(o,t))return!1;this.hot.runHooks("beforeMergeCells",e,t),Ni(0,o.rowspan-1,(e=>{Ni(0,o.colspan-1,(t=>{let n=null;s[e]||(s[e]=[]),0===e&&0===t?n=this.hot.getSourceDataAtCell(this.hot.toPhysicalRow(o.row),this.hot.toPhysicalColumn(o.col)):this.hot.setCellMeta(o.row+e,o.col+t,"hidden",!0),s[e][t]=n}))})),this.hot.setCellMeta(o.row,o.col,"spanned",!0);const l=this.mergedCellsCollection.add(o,t);return!l||(n?a=[o.row,o.col,s]:this.hot.populateFromArray(o.row,o.col,s,void 0,void 0,this.pluginName),t||this.ifChromeForceRepaint(),this.hot.runHooks("afterMergeCells",e,o,t),a)}unmergeRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.mergedCellsCollection.getWithinRange(e);0!==n.length&&(this.hot.runHooks("beforeUnmergeCells",e,t),C(n,(e=>{this.mergedCellsCollection.remove(e.row,e.col),Ni(0,e.rowspan-1,(t=>{Ni(0,e.colspan-1,(n=>{this.hot.removeCellMeta(e.row+t,e.col+n,"hidden"),this.hot.removeCellMeta(e.row+t,e.col+n,"copyable")}))})),this.hot.removeCellMeta(e.row,e.col,"spanned")})),this.hot.runHooks("afterUnmergeCells",e,t),this.hot.render())}toggleMerge(e){const t=this.mergedCellsCollection.get(e.from.row,e.from.col),n=t.row===e.from.row&&t.col===e.from.col&&t.row+t.rowspan-1===e.to.row&&t.col+t.colspan-1===e.to.col;n?this.unmergeRange(e):this.mergeSelection(e)}merge(e,t,n,r){const i=this.hot._createCellCoords(e,t),o=this.hot._createCellCoords(n,r);this.mergeRange(this.hot._createCellRange(i,i,o))}unmerge(e,t,n,r){const i=this.hot._createCellCoords(e,t),o=this.hot._createCellCoords(n,r);this.unmergeRange(this.hot._createCellRange(i,i,o))}registerShortcuts(){const e=this.hot.getShortcutManager(),t=e.getContext("grid");t.addShortcut({keys:[["Control","m"]],callback:()=>{const e=this.hot.getSelectedRangeLast();e&&!e.isSingleHeader()&&(this.toggleMerge(e),this.hot.render())},runOnlyIf:e=>!e.altKey,group:yV})}unregisterShortcuts(){const e=this.hot.getShortcutManager(),t=e.getContext("grid");t.removeShortcutsByGroup(yV)}modifyViewportRowStart(e,t){const n=this.hot.rowIndexMapper,r=n.getVisualFromRenderableIndex(e.startRow);for(let i=0;i<t;i+=1){const o=this.mergedCellsCollection.get(r,i);if(_n(o)){const r=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(o.row,1));if(r<e.startRow)return e.startRow=r,void this.modifyViewportRowStart(e,t)}}}modifyViewportRowEnd(e,t){const n=this.hot.rowIndexMapper,r=n.getVisualFromRenderableIndex(e.endRow);for(let i=0;i<t;i+=1){const o=this.mergedCellsCollection.get(r,i);if(_n(o)){const r=o.row+o.rowspan-1,i=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(r,-1));if(i>e.endRow)return e.endRow=i,void this.modifyViewportRowEnd(e,t)}}}modifyViewportColumnStart(e,t){const n=this.hot.columnIndexMapper,r=n.getVisualFromRenderableIndex(e.startColumn);for(let i=0;i<t;i+=1){const o=this.mergedCellsCollection.get(i,r);if(_n(o)){const r=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(o.col,1));if(r<e.startColumn)return e.startColumn=r,void this.modifyViewportColumnStart(e,t)}}}modifyViewportColumnEnd(e,t){const n=this.hot.columnIndexMapper,r=n.getVisualFromRenderableIndex(e.endColumn);for(let i=0;i<t;i+=1){const o=this.mergedCellsCollection.get(i,r);if(_n(o)){const r=o.col+o.colspan-1,i=n.getRenderableFromVisualIndex(n.getNearestNotHiddenIndex(r,-1));if(i>e.endColumn)return e.endColumn=i,void this.modifyViewportColumnEnd(e,t)}}}translateMergedCellToRenderable(e,t,n,r){const{rowIndexMapper:i,columnIndexMapper:o}=this.hot;let s,a;s=0===t?i.getNearestNotHiddenIndex(e,1):i.getNearestNotHiddenIndex(e+t-1,-1),a=0===r?o.getNearestNotHiddenIndex(n,1):o.getNearestNotHiddenIndex(n+r-1,-1);const l=e>=0?i.getRenderableFromVisualIndex(s):e,u=n>=0?o.getRenderableFromVisualIndex(a):n;return[l,u]}}function MV(){this.generateFromSettings(this.hot.getSettings()[gV]),this.hot.render()}function CV(e){if(e){const e=this.mergedCellsCollection.mergedCells,t=this.hot.getSelectedRangeLast(),n=t.getTopStartCorner(),r=t.getBottomEndCorner();for(let i=0;i<e.length;i+=1)if(n.row===e[i].row&&n.col===e[i].col&&r.row===e[i].row+e[i].rowspan-1&&r.col===e[i].col+e[i].colspan-1)return!1}return e}function RV(e){pV(wV,this).row=e.row,pV(wV,this).col=e.col}function xV(e){const t=this.hot.getSelectedRangeLast(),{highlight:n}=t,{columnIndexMapper:r,rowIndexMapper:i}=this.hot;pV(bV,this)&&(null!==i.getRenderableFromVisualIndex(pV(bV,this).row)&&(n.row=pV(bV,this).row),null!==r.getRenderableFromVisualIndex(pV(bV,this).col)&&(n.col=pV(bV,this).col),fV(bV,this,null));const o=this.mergedCellsCollection.get(n.row,n.col);if(!o)return;const s=o.col,a=o.col+o.colspan-1;if(e.col<0){const t=n.col>=s&&n.col<=a?s-1:a,i=r.getNearestNotHiddenIndex(t,-1);e.col=null===i?-this.hot.view.countRenderableColumnsInRange(0,n.col):-Math.max(this.hot.view.countRenderableColumnsInRange(i,n.col)-1,1)}else if(e.col>0){const t=n.col>=s&&n.col<=a?a+1:s,i=r.getNearestNotHiddenIndex(t,1);e.col=null===i?this.hot.view.countRenderableColumnsInRange(n.col,this.hot.countCols()):Math.max(this.hot.view.countRenderableColumnsInRange(n.col,i)-1,1)}const l=o.row,u=o.row+o.rowspan-1;if(e.row<0){const t=n.row>=l&&n.row<=u?l-1:u,r=i.getNearestNotHiddenIndex(t,-1);e.row=null===r?-this.hot.view.countRenderableRowsInRange(0,n.row):-Math.max(this.hot.view.countRenderableRowsInRange(r,n.row)-1,1)}else if(e.row>0){const t=n.row>=l&&n.row<=u?u+1:l,r=i.getNearestNotHiddenIndex(t,1);e.row=null===r?this.hot.view.countRenderableRowsInRange(n.row,this.hot.countRows()):Math.max(this.hot.view.countRenderableRowsInRange(n.row,r)-1,1)}}function AV(e){const t=this.hot.getSelectedRangeLast(),n=t.clone(),{to:r}=t,{columnIndexMapper:i,rowIndexMapper:o}=this.hot,s=(e,t)=>{n.expand(this.hot._createCellCoords(e,t));for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)n.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange())};if(e.col<0){let o=this.mergedCellsCollection.getStartMostColumnIndex(t,r.col)+e.col;s(r.row,o),"E-W"===t.getHorizontalDirection()&&"E-W"===n.getHorizontalDirection()&&(o=n.getTopStartCorner().col);const a=i.getNearestNotHiddenIndex(o,1);null!==a&&(e.col=-Math.max(this.hot.view.countRenderableColumnsInRange(a,r.col)-1,1))}else if(e.col>0){let o=this.mergedCellsCollection.getEndMostColumnIndex(t,r.col)+e.col;s(r.row,o),"W-E"===t.getHorizontalDirection()&&"W-E"===n.getHorizontalDirection()&&(o=n.getBottomEndCorner().col);const a=i.getNearestNotHiddenIndex(o,-1);null!==a&&(e.col=Math.max(this.hot.view.countRenderableColumnsInRange(r.col,a)-1,1))}if(e.row<0){let i=this.mergedCellsCollection.getTopMostRowIndex(t,r.row)+e.row;s(i,r.col),"S-N"===t.getVerticalDirection()&&"S-N"===n.getVerticalDirection()&&(i=n.getTopStartCorner().row);const a=o.getNearestNotHiddenIndex(i,1);null!==a&&(e.row=-Math.max(this.hot.view.countRenderableRowsInRange(a,r.row)-1,1))}else if(e.row>0){let i=this.mergedCellsCollection.getBottomMostRowIndex(t,r.row)+e.row;s(i,r.col),"N-S"===t.getVerticalDirection()&&"N-S"===n.getVerticalDirection()&&(i=n.getBottomStartCorner().row);const a=o.getNearestNotHiddenIndex(i,-1);null!==a&&(e.row=Math.max(this.hot.view.countRenderableRowsInRange(r.row,a)-1,1))}}function NV(){const e=this.hot.getSelectedRangeLast(),{highlight:t}=e;if(this.hot.selection.isSelectedByColumnHeader()||this.hot.selection.isSelectedByRowHeader())return void fV(bV,this,t.clone());for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)e.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange(),!1);for(let r=0;r<this.mergedCellsCollection.mergedCells.length;r+=1)e.expandByRange(this.mergedCellsCollection.mergedCells[r].getRange(),!1);const n=this.mergedCellsCollection.get(t.row,t.col);fV(bV,this,t.clone()),n&&t.assign(n)}function LV(e,t){if(e<0||t<0)return;const n=this.mergedCellsCollection.get(e,t);if(!n)return;const{row:r,col:i,colspan:o,rowspan:s}=n;return[r,i,r+s-1,i+o-1]}function kV(e){e.items.push({name:"---------"},FY(this))}function OV(){fV(bV,this,null)}function IV(){if(pV(bV,this).isCell())return;const e=this.hot.getSelectedRangeLast(),t=e.getVerticalDirection(),n=e.getHorizontalDirection(),r=pV(bV,this).clone().normalize();pV(_V,this).setActiveNode(r.row,r.col),pV(wV,this).row>0||pV(wV,this).col>0?pV(_V,this).setPrevNodeAsActive():("E-W"===n&&pV(wV,this).col<0||"S-N"===t&&pV(wV,this).row<0)&&pV(_V,this).setNextNodeAsActive()}function PV(e,t){const n=this.hot.getSelectedRangeLast(),{columnIndexMapper:r,rowIndexMapper:i}=this.hot;let o=null,s=null;if(pV(wV,this).col<0){const{rowEnd:e,colEnd:t}=pV(_V,this).getPrevHorizontalNode();s=r.getNearestNotHiddenIndex(t,-1),o=i.getNearestNotHiddenIndex(e,-1)}else if(pV(wV,this).col>0){const{rowStart:e,colStart:t}=pV(_V,this).getNextHorizontalNode();s=r.getNearestNotHiddenIndex(t,1),o=i.getNearestNotHiddenIndex(e,1)}else if(pV(wV,this).row<0){const{rowEnd:e,colEnd:t}=pV(_V,this).getPrevVerticalNode();s=r.getNearestNotHiddenIndex(t,-1),o=i.getNearestNotHiddenIndex(e,-1)}else if(pV(wV,this).row>0){const{rowStart:e,colStart:t}=pV(_V,this).getNextVerticalNode();s=r.getNearestNotHiddenIndex(t,1),o=i.getNearestNotHiddenIndex(e,1)}if(null!==o||null!==s){const r=this.hot._createCellCoords(o,s),i=this.mergedCellsCollection.get(r.row,r.col),a=this.hot.selection.highlight.getFocus();e=r.row,t=r.col,i?n.highlight.assign({row:this.hot.rowIndexMapper.getNearestNotHiddenIndex(i.row,1),col:this.hot.columnIndexMapper.getNearestNotHiddenIndex(i.col,1)}):n.highlight.assign(r),a.clear(),a.add(r).commit()}pV(_V,this).setActiveNode(e,t),fV(wV,this,{row:0,col:0})}function DV(){const e=this.hot.getSelectedRangeLast();e.isHeader()||pV(_V,this).buildFocusOrder(this.hot.getSelectedRangeLast())}function FV(e,t,n){const r=this.mergedCellsCollection.get(e,t);r&&(r.row!==e||r.col!==t?n.copyable=!1:(n.rowspan=r.rowspan,n.colspan=r.colspan))}function HV(e){const t=this.hot.countCols();this.modifyViewportRowStart(e,t),this.modifyViewportRowEnd(e,t)}function UV(e){const t=this.hot.countRows();this.modifyViewportColumnStart(e,t),this.modifyViewportColumnEnd(e,t)}function BV(e,t){this.autofillCalculations.correctSelectionAreaSize(t);const n=this.autofillCalculations.getDirection(t,e);let r=e;if(this.autofillCalculations.dragAreaOverlapsCollections(t,r,n))return r=t,r;const i=this.hot._createCellCoords(t[0],t[1]),o=this.hot._createCellCoords(t[2],t[3]),s=this.hot._createCellRange(i,i,o),a=this.mergedCellsCollection.getWithinRange(s);return 0===a.length||(r=this.autofillCalculations.snapDragArea(t,r,n,a)),r}function jV(e,t){this.mergedCellsCollection.shiftCollections("right",e,t)}function YV(e,t){this.mergedCellsCollection.shiftCollections("left",e,t)}function VV(e,t,n){"auto"!==n&&this.mergedCellsCollection.shiftCollections("down",e,t)}function WV(e,t){this.mergedCellsCollection.shiftCollections("up",e,t)}function zV(e,t){"Autofill.fill"===t&&this.autofillCalculations.recreateAfterDataPopulation(e)}function GV(e,t){if(t&&"area"===t){const t=this.hot.getSelectedRangeLast(),n=this.mergedCellsCollection.getWithinRange(t);C(n,(n=>{t.getBottomEndCorner().row===n.getLastRow()&&t.getBottomEndCorner().col===n.getLastColumn()&&(e[2]=n.row,e[3]=n.col)}))}}function $V(e,t,n,r){if(n)return this.selectionCalculations.getSelectedMergedCellClassName(e,t,n,r)}function qV(){return this.selectionCalculations.getSelectedMergedCellClassNameToRemove()}function KV(e,t,n,r){if(!(r instanceof MouseEvent))return;const i=this.hot.getSelectedRangeLast(),o=this.mergedCellsCollection.getByRange(i);if(!o)return;const s=this.hot._createCellCoords(o.row,o.col),a=this.hot._createCellCoords(o.row+o.rowspan-1,o.col+o.colspan-1);return 0===this.hot.selection.getLayerLevel()&&i.isEqual(this.hot._createCellRange(s,s,a))}function XV(e,t,n){if(this.hot.getSettings().rowHeaders||"bottom"===n||"bottom_inline_start_corner"===n)return e;let r,i;if("master"===n)r=this.hot.view.getFirstRenderedVisibleColumn(),i=this.hot.view.getLastRenderedVisibleColumn();else{const e=this.hot.view.getOverlayByName(n);r=this.hot.columnIndexMapper.getVisualFromRenderableIndex(e.clone.wtTable.getFirstRenderedColumn()),i=this.hot.columnIndexMapper.getVisualFromRenderableIndex(e.clone.wtTable.getLastRenderedColumn())}const o=this.mergedCellsCollection.get(t,r);if(!o)return e;const s=this.hot._createCellCoords(t,r),a=this.hot._createCellCoords(t,i),l=this.hot._createCellRange(s,s,a),u=this.mergedCellsCollection.getWithinRange(l),c=u.reduce(((e,t)=>{let{rowspan:n}=t;return Math.max(e,n)}),1);let h=0;return u.length>1&&u[0].rowspan<c&&(h=c-u[0].rowspan),u.forEach((r=>{var i;let{rowspan:o}=r,s=0;s="top"===n||"top_inline_start_corner"===n?Math.min(c,this.hot.view.countNotHiddenFixedRowsTop()-t):o-h,e=Math.max(null!==(i=e)&&void 0!==i?i:0,mV(SV,this,JV).call(this,t,s))})),e}function JV(e,t){const n=this.hot.view._wt.wtSettings.getSettingPure("defaultRowHeight"),r=this.hot.getPlugin("autoRowSize");let i=0;for(let s=e;s<e+t;s++){var o;if(!this.hot.rowIndexMapper.isHidden(s))i+=null!==(o=null===r||void 0===r?void 0:r.getRowHeight(s))&&void 0!==o?o:n}return i}function QV(e,t){return function(n,r){const[,...i]=n,[,...o]=r;return function n(r){const s=e[r],a=t[r],l=i[r],u=o[r],c=a.multiColumnSorting,h=c.compareFunctionFactory?c.compareFunctionFactory:UT(a.type),d=h(s,a,c)(l,u);if(d===BT){const e=r+1;if("undefined"!==typeof t[e])return n(e)}return d}(0)}}function ZV(){dr(F`Plugins \`columnSorting\` and \`multiColumnSorting\` should not be enabled simultaneously. 
    Only \`multiColumnSorting\` will work. The \`columnSorting\` plugin will be disabled.`)}const eW="sort";function tW(e,t,n){const r=[];return!1===n||e.isColumnSorted(t)&&e.getNumberOfSortedColumns()>1&&r.push(`${eW}-${e.getIndexOfColumnInSortQueue(t)+1}`),r}function nW(e){const t=e.className.split(" "),n=new RegExp(`^${eW}-[0-9]{1,2}$`);return t.filter((e=>n.test(e)))}function rW(e,t,n){return(t=iW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iW(e){var t=oW(e,"string");return"symbol"==typeof t?t:t+""}function oW(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const sW="multiColumnSorting",aW=170,lW="columnSorting",uW=sW;FT(sW,QV);class cW extends _M{constructor(){super(...arguments),rW(this,"pluginKey",sW)}static get PLUGIN_KEY(){return sW}static get PLUGIN_PRIORITY(){return aW}isEnabled(){return super.isEnabled()}enablePlugin(){!this.enabled&&this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[lW]&&(ZV(),this.hot.getPlugin(lW).disablePlugin()),super.enablePlugin()}disablePlugin(){super.disablePlugin()}registerShortcuts(){super.registerShortcuts(),this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Shift","Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast();return-1===e.row&&e.col>=0&&this.sort(this.getNextSortConfig(e.col,vM)),!1},runOnlyIf:()=>{var e,t;const n=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return n&&(null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.isSingle())&&this.hot.selection.isCellVisible(n)&&n.isHeader()},relativeToGroup:bv,position:"before",group:uW})}unregisterShortcuts(){super.unregisterShortcuts(),this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(uW)}sort(e){super.sort(e)}clearSort(){super.clearSort()}isSorted(){return super.isSorted()}getSortConfig(e){return super.getSortConfig(e)}setSortConfig(e){super.setSortConfig(e)}getNormalizedSortConfigs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?e:[e]}updateHeaderClasses(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];super.updateHeaderClasses(e,...n),ut(e,nW(e)),!1!==this.enabled&&lt(e,tW(...n))}onUpdateSettings(e){this.hot.getSettings()[this.pluginKey]&&this.hot.getSettings()[lW]&&ZV(),super.onUpdateSettings(e)}onAfterOnCellMouseDown(e,t){!1!==QT(t.row,t.col,e)&&this.wasClickableHeaderClicked(e,t.col)&&(this.hot.getShortcutManager().isCtrlPressed()?(this.hot.deselectCell(),this.hot.selectColumns(t.col),this.sort(this.getNextSortConfig(t.col,vM))):this.sort(this.getColumnNextConfig(t.col)))}}function hW(e,t,n){return(t=dW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dW(e){var t=fW(e,"string");return"symbol"==typeof t?t:t+""}function fW(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const pW="multipleSelectionHandles",mW=160;class gW extends tE{constructor(){super(...arguments),hW(this,"dragged",[]),hW(this,"lastSetCell",null)}static get PLUGIN_KEY(){return pW}static get PLUGIN_PRIORITY(){return mW}isEnabled(){return $n()}enablePlugin(){this.enabled||(this.registerListeners(),super.enablePlugin())}registerListeners(){const e=this,{rootElement:t}=this.hot;function n(t){if(1===e.dragged.length)return e.dragged.splice(0,e.dragged.length),!0;const n=e.dragged.indexOf(t);if(-1===n)return!1;0===n?e.dragged=e.dragged.slice(0,1):1===n&&(e.dragged=e.dragged.slice(-1))}this.eventManager.addEventListener(t,"touchstart",(t=>{let n;return at(t.target,"topSelectionHandle-HitArea")?(n=e.hot.getSelectedRangeLast(),e.dragged.push("top"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):at(t.target,"bottomSelectionHandle-HitArea")?(n=e.hot.getSelectedRangeLast(),e.dragged.push("bottom"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):void 0})),this.eventManager.addEventListener(t,"touchend",(t=>at(t.target,"topSelectionHandle-HitArea")?(n.call(e,"top"),e.touchStartRange=void 0,t.preventDefault(),!1):at(t.target,"bottomSelectionHandle-HitArea")?(n.call(e,"bottom"),e.touchStartRange=void 0,t.preventDefault(),!1):void 0)),this.eventManager.addEventListener(t,"touchmove",(t=>{const{rootDocument:n}=this.hot;let r,i,o,s,a,l;if(0===e.dragged.length)return;const u=n.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY);u&&u!==e.lastSetCell&&("TD"!==u.nodeName&&"TH"!==u.nodeName||(r=e.hot.getCoords(u),-1===r.col&&(r.col=0),i=e.hot.getSelectedRangeLast(),o=i.getWidth(),s=i.getHeight(),a=i.getDirection(),1===o&&1===s&&e.hot.selection.setRangeEnd(r),l=e.getCurrentRangeCoords(i,r,e.touchStartRange.direction,a,e.dragged[0]),null!==l.start&&e.hot.selection.setRangeStart(l.start),e.hot.selection.setRangeEnd(l.end),e.lastSetCell=u),t.preventDefault())}))}getCurrentRangeCoords(e,t,n,r,i){const o=e.getTopStartCorner(),s=e.getBottomEndCorner(),a=e.getBottomStartCorner(),l=e.getTopEndCorner();let u={start:null,end:null};switch(n){case"NE-SW":switch(r){case"NE-SW":case"NW-SE":u="top"===i?{start:this.hot._createCellCoords(t.row,e.highlight.col),end:this.hot._createCellCoords(a.row,t.col)}:{start:this.hot._createCellCoords(e.highlight.row,t.col),end:this.hot._createCellCoords(t.row,o.col)};break;case"SE-NW":"bottom"===i&&(u={start:this.hot._createCellCoords(s.row,t.col),end:this.hot._createCellCoords(t.row,o.col)});break;default:break}break;case"NW-SE":switch(r){case"NE-SW":"top"===i?u={start:t,end:a}:u.end=t;break;case"NW-SE":"top"===i?u={start:t,end:s}:u.end=t;break;case"SE-NW":"top"===i?u={start:t,end:o}:u.end=t;break;case"SW-NE":"top"===i?u={start:t,end:l}:u.end=t;break;default:break}break;case"SW-NE":switch(r){case"NW-SE":u="bottom"===i?{start:this.hot._createCellCoords(t.row,o.col),end:this.hot._createCellCoords(a.row,t.col)}:{start:this.hot._createCellCoords(o.row,t.col),end:this.hot._createCellCoords(t.row,s.col)};break;case"SW-NE":u="top"===i?{start:this.hot._createCellCoords(e.highlight.row,t.col),end:this.hot._createCellCoords(t.row,s.col)}:{start:this.hot._createCellCoords(t.row,o.col),end:this.hot._createCellCoords(o.row,t.col)};break;case"SE-NW":"bottom"===i?u={start:this.hot._createCellCoords(t.row,l.col),end:this.hot._createCellCoords(o.row,t.col)}:"top"===i&&(u={start:a,end:t});break;default:break}break;case"SE-NW":switch(r){case"NW-SE":case"NE-SW":case"SW-NE":"top"===i&&(u.end=t);break;case"SE-NW":"top"===i?u.end=t:u={start:t,end:o};break;default:break}break;default:break}return u}isDragged(){return this.dragged.length>0}}function vW(){let{label:e="",colspan:t=1,origColspan:n=1,collapsible:r=!1,crossHiddenColumns:i=[],isCollapsed:o=!1,isHidden:s=!1,isRoot:a=!1,isPlaceholder:l=!1,headerClassNames:u=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{label:e,colspan:t,origColspan:n,collapsible:r,isCollapsed:o,crossHiddenColumns:i,isHidden:s,isRoot:a,isPlaceholder:l,headerClassNames:u}}function yW(){return{label:"",isPlaceholder:!0}}function bW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=[];if(0===t)return n;C(e,(e=>{const r=[];let i=0;n.push(r),C(e,(e=>{const n=vW();if(_n(e)){const{label:t,colspan:r,headerClassName:i}=e;n.label=H(t),"number"===typeof r&&r>1&&(n.colspan=r,n.origColspan=r),"string"===typeof i&&(n.headerClassNames=[...i.split(" ")])}else n.label=H(e);i+=n.origColspan;let o=!1;if(i>=t&&(n.colspan=n.origColspan-(i-t),n.origColspan=n.colspan,o=!0),r.push(n),n.colspan>1)for(let t=0;t<n.colspan-1;t++)r.push(yW());return!o}))}));const r=Math.max(...M(n,(e=>e.length)));return C(n,(e=>{if(e.length<r){const t=M(new Array(r-e.length),(()=>vW()));e.splice(e.length,0,...t)}})),n}function wW(e,t,n){_W(e,t),t.set(e,n)}function _W(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function EW(e,t){return e.get(TW(e,t))}function SW(e,t,n){return e.set(TW(e,t),n),n}function TW(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const MW=["label","collapsible"];var CW=new WeakMap,RW=new WeakMap,xW=new WeakMap;class AW{constructor(){wW(this,CW,[]),wW(this,RW,0),wW(this,xW,1/0)}setColumnsLimit(e){SW(xW,this,e)}setData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];SW(CW,this,bW(e,EW(xW,this))),SW(RW,this,EW(CW,this).length)}getData(){return EW(CW,this)}mergeWith(e){C(e,(e=>{let{row:t,col:n,...r}=e;const i=this.getHeaderSettings(t,n);null!==i&&mn(i,r,MW)}))}map(e){C(EW(CW,this),(t=>{C(t,(t=>{const n=e({...t});_n(n)&&mn(t,n,MW)}))}))}getHeaderSettings(e,t){var n;if(e>=EW(RW,this)||e<0)return null;const r=EW(CW,this)[e];return!1===Array.isArray(r)||t>=r.length?null:null!==(n=r[t])&&void 0!==n?n:null}getHeadersSettings(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=[];if(e>=EW(RW,this)||e<0)return r;const i=EW(CW,this)[e];let o=0;for(let s=t;s<i.length;s++){const e=i[s];if(e.isPlaceholder)throw new Error("The first column settings cannot overlap the other header layers");if(o+=e.colspan,r.push(e),e.colspan>1&&(s+=e.colspan-1),o===n)break;if(o>n)throw new Error("The last column settings cannot overlap the other header layers")}return r}getLayersCount(){return EW(RW,this)}getColumnsCount(){return EW(RW,this)>0?EW(CW,this)[0].length:0}clear(){SW(CW,this,[]),SW(RW,this,0)}}function NW(e,t,n){return(t=LW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LW(e){var t=kW(e,"string");return"symbol"==typeof t?t:t+""}function kW(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}const OW="DF-pre-order";function IW(e,t){let n=e.call(t,this);for(let r=0;r<this.childs.length;r++){if(!1===n)return!1;n=IW.call(this.childs[r],e,t)}return n}const PW="DF-post-order";function DW(e,t){for(let n=0;n<this.childs.length;n++){const r=DW.call(this.childs[n],e,t);if(!1===r)return!1}return e.call(t,this)}const FW="BF";function HW(e,t){const n=[this];function r(){if(0===n.length)return;const i=n.shift();n.push(...i.childs),!1!==e.call(t,i)&&r()}r()}const UW=FW,BW=new Map([[OW,IW],[PW,DW],[FW,HW]]);class jW{constructor(e){NW(this,"data",{}),NW(this,"parent",null),NW(this,"childs",[]),this.data=e}addChild(e){e.parent=this,this.childs.push(e)}cloneTree(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;const t=new jW({...e.data});for(let n=0;n<e.childs.length;n++)t.addChild(this.cloneTree(e.childs[n]));return t}replaceTreeWith(e){this.data={...e.data},this.childs=[];for(let t=0;t<e.childs.length;t++)this.addChild(e.childs[t])}walkDown(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UW;if(!BW.has(t))throw new Error(`Traversal strategy "${t}" does not exist`);BW.get(t).call(this,e,this)}walkUp(e){const t=this,n=r=>{const i=e.call(t,r);!1!==i&&null!==r.parent&&n(r.parent)};n(this)}}function YW(e,t,n){VW(e,t),t.set(e,n)}function VW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function WW(e,t){return e.get(GW(e,t))}function zW(e,t,n){return e.set(GW(e,t),n),n}function GW(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var $W=new WeakMap,qW=new WeakMap,KW=new WeakMap;class XW{constructor(e){YW(this,$W,new Map),YW(this,qW,new Map),YW(this,KW,null),zW(KW,this,e)}getRoots(){return Array.from(WW($W,this).values())}getRootByColumn(e){let t;return WW(qW,this).has(e)&&(t=WW($W,this).get(WW(qW,this).get(e))),t}getNode(e,t){const n=this.getRootByColumn(t);if(!n)return;const r=t-WW(qW,this).get(t);let i,o=0;return n.walkDown((n=>{const{data:{origColspan:s,headerLevel:a}}=n;if(e===a){if(r>=o&&r<=o+s-1)return i=n,i.data.isRoot=t===i.data.columnIndex,!1;o+=s}})),i}rebuildTreeIndex(){let e=0;WW(qW,this).clear(),C(WW($W,this),(t=>{let[,{data:{colspan:n}}]=t;for(let r=e;r<e+n;r++)WW(qW,this).set(r,e);e+=n}))}buildTree(){this.clear();const e=WW(KW,this).getColumnsCount();let t=0;while(t<e){const e=WW(KW,this).getHeaderSettings(0,t),n=new jW;WW($W,this).set(t,n),this.buildLeaves(n,t,0,e.origColspan),t+=e.origColspan}this.rebuildTreeIndex()}buildLeaves(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=WW(KW,this).getHeadersSettings(n,t,r);n+=1,C(i,(r=>{const i={...r,headerLevel:n-1,columnIndex:t};let o;1===n?(e.data=i,o=e):(o=new jW(i),e.addChild(o)),n<WW(KW,this).getLayersCount()&&this.buildLeaves(o,t,n,r.origColspan),t+=r.origColspan}))}clear(){WW($W,this).clear(),WW(qW,this).clear()}}function JW(e,t){e.walkDown((e=>{let{data:n,childs:r}=e;if(!n.isHidden&&(t(n.columnIndex),0===r.length))for(let i=1;i<n.colspan;i++)t(n.columnIndex+i)}))}function QW(e,t){let{childs:n}=e;if(0!==n.length)return n[0].data[t]}function ZW(e){return QW(e,"origColspan")===e.data.origColspan}function ez(e){const{data:t,childs:n}=e;if(!t.isCollapsed||t.isHidden||t.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};const r=ZW(e);if(r)return ez(n[0]);t.isCollapsed=!1;const i=n.slice(1),o=new Set;let s=0;if(i.length>0)C(i,(e=>{e.replaceTreeWith(e.data.clonedTree),e.data.clonedTree=null;const t=e.data;s+=t.colspan,JW(e,(e=>{o.add(e)}))}));else{const{colspan:e,origColspan:n,columnIndex:r}=t;s=n-e;for(let t=1;t<n;t++)o.add(r+t)}return e.walkUp((e=>{const{data:t}=e;t.colspan+=s,t.colspan>=t.origColspan?(t.colspan=t.origColspan,t.isCollapsed=!1):ZW(e)&&(t.isCollapsed=QW(e,"isCollapsed"))})),{rollbackModification:()=>tz(e),affectedColumns:Array.from(o),colspanCompensation:s}}function tz(e){var t;const{data:n,childs:r}=e;if(n.isCollapsed||n.isHidden||n.origColspan<=1)return{rollbackModification:()=>{},affectedColumns:[],colspanCompensation:0};const i=ZW(e);if(i)return tz(r[0]);n.isCollapsed=!0;const o=r.slice(1),s=new Set;if(o.length>0)C(o,(e=>{JW(e,(e=>{s.add(e)})),e.data.clonedTree=e.cloneTree(),e.walkDown((e=>{let{data:t}=e;t.isHidden=!0}))}));else{const{origColspan:e,columnIndex:t}=n;for(let n=1;n<e;n++){const e=t+n;s.add(e)}}const a=n.colspan-(null!==(t=QW(e,"colspan"))&&void 0!==t?t:1);return e.walkUp((e=>{const{data:t}=e;t.colspan-=a,t.colspan<=1?(t.colspan=1,t.isCollapsed=!0):ZW(e)&&(t.isCollapsed=QW(e,"isCollapsed"))})),{rollbackModification:()=>ez(e),affectedColumns:Array.from(s),colspanCompensation:a}}function nz(e,t){if(!Number.isInteger(t))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(F`The passed node is not the last node on the tree. Only for\x20
the last node, the hide column modification can be applied.`);const{crossHiddenColumns:n}=e.data;if(n.includes(t))return;let r=!1;e.walkUp((e=>{const{data:{collapsible:t}}=e;if(t)return r=!0,!1})),r||e.walkUp((e=>{const{data:n}=e;n.crossHiddenColumns.push(t),n.colspan>1?n.colspan-=1:n.isHidden=!0}))}function rz(e,t){if(!Number.isInteger(t))throw new Error("The passed gridColumnIndex argument has invalid type.");if(e.childs.length>0)throw new Error(F`The passed node is not the last node on the tree. Only for\x20
the last node, the show column modification can be applied.`);const{crossHiddenColumns:n}=e.data;if(!n.includes(t))return;let r=!1;e.walkUp((e=>{const{data:{collapsible:t}}=e;if(t)return r=!0,!1})),r||e.walkUp((e=>{const{data:n}=e;n.crossHiddenColumns.splice(n.crossHiddenColumns.indexOf(t),1),!n.isHidden&&n.colspan<n.origColspan&&(n.colspan+=1),n.isHidden=!1}))}const iz=new Map([["collapse",tz],["expand",ez],["hide-column",nz],["show-column",rz]]);function oz(e,t,n){if(!iz.has(e))throw new Error(`The node modifier action ("${e}") does not exist.`);return iz.get(e)(t,n)}function sz(e){const t=[];return C(e,(e=>{e.walkDown((e=>{const n=e.data,{origColspan:r,columnIndex:i,headerLevel:o,crossHiddenColumns:s}=n,a=lz(t,o);let l=!1;for(let t=i;t<i+r;t++){const e=s.includes(t);if(e||l)a.push(yW(n));else{const e=az(n);e.isRoot=!0,a.push(e),l=!0}}}))})),t}function az(e){const{crossHiddenColumns:t,...n}=vW(e);return n}function lz(e,t){let n;return Array.isArray(e[t])?n=e[t]:(n=[],e[t]=n),n}function uz(e,t,n){cz(e,t),t.set(e,n)}function cz(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hz(e,t,n){return e.set(fz(e,t),n),n}function dz(e,t){return e.get(fz(e,t))}function fz(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var pz=new WeakMap,mz=new WeakMap,gz=new WeakMap;class vz{constructor(){uz(this,pz,new AW),uz(this,mz,new XW(dz(pz,this))),uz(this,gz,[[]])}setState(e){dz(pz,this).setData(e);let t=!1;try{dz(mz,this).buildTree()}catch(n){dz(mz,this).clear(),dz(pz,this).clear(),t=!0}return hz(gz,this,sz(dz(mz,this).getRoots())),t}setColumnsLimit(e){dz(pz,this).setColumnsLimit(e)}mergeStateWith(e){const t=M(e,(e=>{let{row:t,...n}=e;return{row:t<0?this.rowCoordsToLevel(t):t,...n}}));dz(pz,this).mergeWith(t),dz(mz,this).buildTree(),hz(gz,this,sz(dz(mz,this).getRoots()))}mapState(e){dz(pz,this).map(e),dz(mz,this).buildTree(),hz(gz,this,sz(dz(mz,this).getRoots()))}mapNodes(e){return S(dz(mz,this).getRoots(),((t,n)=>(n.walkDown((n=>{const r=e(n.data);void 0!==r&&t.push(r)})),t)),[])}triggerNodeModification(e,t,n){t<0&&(t=this.rowCoordsToLevel(t));const r=dz(mz,this).getNode(t,n);let i;return r&&(i=oz(e,r,n),hz(gz,this,sz(dz(mz,this).getRoots()))),i}triggerColumnModification(e,t){return this.triggerNodeModification(e,-1,t)}rowCoordsToLevel(e){if(e>=0)return null;const t=e+Math.max(this.getLayersCount(),1);return t<0?null:t}levelToRowCoords(e){if(e<0)return null;const t=e-Math.max(this.getLayersCount(),1);return t>=0?null:t}getHeaderSettings(e,t){var n,r;return e<0&&(e=this.rowCoordsToLevel(e)),null===e||e>=this.getLayersCount()?null:null!==(n=null===(r=dz(gz,this)[e])||void 0===r?void 0:r[t])&&void 0!==n?n:null}getHeaderTreeNodeData(e,t){const n=this.getHeaderTreeNode(e,t);return n?{...n.data}:null}getHeaderTreeNode(e,t){if(e<0&&(e=this.rowCoordsToLevel(e)),null===e||e>=this.getLayersCount())return null;const n=dz(mz,this).getNode(e,t);return n||null}findTopMostEntireHeaderLevel(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const r=n-e+1;let i=!1,o=null;for(let s=e;s<=n;s++){const t=dz(mz,this).getRootByColumn(s);if(!t)break;i=!0,t.walkDown((t=>{const{columnIndex:i,headerLevel:s,origColspan:a,isHidden:l}=t.data;l||a<=r&&i>=e&&i+a-1<=n&&(null===o||s<o)&&(o=s)}),OW)}return i&&null===o?-1:this.levelToRowCoords(null!==(t=o)&&void 0!==t?t:0)}findLeftMostColumnIndex(e,t){var n;const{isRoot:r}=null!==(n=this.getHeaderSettings(e,t))&&void 0!==n?n:{isRoot:!0};if(r)return t;let i=t-1;while(i>=0){var o;const{isRoot:t}=null!==(o=this.getHeaderSettings(e,i))&&void 0!==o?o:{isRoot:!0};if(t)break;i-=1}return i}findRightMostColumnIndex(e,t){var n;const{isRoot:r,origColspan:i}=null!==(n=this.getHeaderSettings(e,t))&&void 0!==n?n:{isRoot:!0,origColspan:1};if(r)return t+i-1;let o=t+1;while(o<this.getColumnsCount()){var s;const{isRoot:t}=null!==(s=this.getHeaderSettings(e,o))&&void 0!==s?s:{isRoot:!0};if(t)break;o+=1}return o-1}getLayersCount(){return dz(pz,this).getLayersCount()}getColumnsCount(){return dz(pz,this).getColumnsCount()}clear(){hz(gz,this,[]),dz(pz,this).clear(),dz(mz,this).clear()}}function yz(e,t,n){return(t=bz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bz(e){var t=wz(e,"string");return"symbol"==typeof t?t:t+""}function wz(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class _z{constructor(e,t){yz(this,"hot",void 0),yz(this,"nestedHeaderSettingsGetter",void 0),yz(this,"layersCount",0),yz(this,"container",void 0),yz(this,"widthsMap",void 0),this.hot=e,this.nestedHeaderSettingsGetter=t,this.widthsMap=this.hot.columnIndexMapper.createAndRegisterIndexMap("nestedHeaders.widthsMap","physicalIndexToValue")}setLayersCount(e){return this.layersCount=e,this}getWidth(e){return this.widthsMap.getValueAtIndex(this.hot.toPhysicalColumn(e))}buildWidthsMap(){this.container=this.hot.rootDocument.createElement("div"),this.container.classList.add("handsontable","htGhostTable","htAutoSize"),this._buildGhostTable(this.container),this.hot.rootDocument.body.appendChild(this.container);const e=this.container.querySelectorAll("tr:last-of-type th"),t=e.length;this.widthsMap.clear();for(let n=0;n<t;n++){const t=this.hot.columnIndexMapper.getVisualFromRenderableIndex(n),r=this.hot.toPhysicalColumn(t);this.widthsMap.setValueAtIndex(r,e[n].offsetWidth)}this.container.parentNode.removeChild(this.container),this.container=null}_buildGhostTable(e){const{rootDocument:t,columnIndexMapper:n}=this.hot,r=t.createDocumentFragment(),i=t.createElement("table"),o=!!this.hot.getSettings().dropdownMenu,s=n.getRenderableIndexesLength();for(let a=0;a<this.layersCount;a++){const e=t.createElement("tr");for(let r=0;r<s;r++){let i=n.getVisualFromRenderableIndex(r);null===i&&(i=r);const s=t.createElement("th"),l=this.nestedHeaderSettingsGetter(a,i);if(l&&(!l.isPlaceholder||l.isHidden)){let t=l.label;o&&(t+='<button class="changeType"></button>'),mt(s,t),s.colSpan=l.colspan,e.appendChild(s)}}i.appendChild(e)}r.appendChild(i),e.appendChild(r)}clear(){this.widthsMap.clear(),this.container=null}}var Ez=_z;function Sz(e,t){xz(e,t),t.add(e)}function Tz(e,t,n){return(t=Mz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mz(e){var t=Cz(e,"string");return"symbol"==typeof t?t:t+""}function Cz(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Rz(e,t,n){xz(e,t),t.set(e,n)}function xz(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Az(e,t,n){return e.set(Lz(e,t),n),n}function Nz(e,t){return e.get(Lz(e,t))}function Lz(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const kz="nestedHeaders",Oz=280;var Iz=new WeakMap,Pz=new WeakMap,Dz=new WeakMap,Fz=new WeakMap,Hz=new WeakSet;class Uz extends tE{constructor(){super(...arguments),Sz(this,Hz),Rz(this,Iz,new vz),Rz(this,Pz,null),Rz(this,Dz,null),Rz(this,Fz,!1),Tz(this,"ghostTable",new Ez(this.hot,((e,t)=>this.getHeaderSettings(e,t)))),Tz(this,"detectedOverlappedHeaders",!1)}static get PLUGIN_KEY(){return kz}static get PLUGIN_PRIORITY(){return Oz}isEnabled(){return!!this.hot.getSettings()[kz]}enablePlugin(){var e=this;if(this.enabled)return;const{nestedHeaders:t}=this.hot.getSettings();Array.isArray(t)&&Array.isArray(t[0])||dr(F`Your Nested Headers plugin configuration is invalid. The settings has to be\x20
                        passed as an array of arrays e.q. [['A1', { label: 'A2', colspan: 2 }]]`),this.addHook("init",(()=>Lz(Hz,this,nG).call(this))),this.addHook("afterLoadData",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,rG).call(e,...n)})),this.addHook("beforeOnCellMouseDown",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,Wz).call(e,...n)})),this.addHook("afterOnCellMouseDown",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,zz).call(e,...n)})),this.addHook("beforeOnCellMouseOver",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,Gz).call(e,...n)})),this.addHook("beforeOnCellMouseUp",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,$z).call(e,...n)})),this.addHook("beforeSelectionHighlightSet",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,qz).call(e,...n)})),this.addHook("modifyTransformStart",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,Kz).call(e,...n)})),this.addHook("afterSelection",(()=>Lz(Hz,this,Bz).call(this))),this.addHook("afterSelectionFocusSet",(()=>Lz(Hz,this,Bz).call(this))),this.addHook("beforeViewportScrollHorizontally",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,jz).call(e,...n)})),this.addHook("afterGetColumnHeaderRenderers",(e=>Lz(Hz,this,Jz).call(this,e))),this.addHook("modifyColWidth",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,Zz).call(e,...n)})),this.addHook("modifyColumnHeaderValue",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,eG).call(e,...n)})),this.addHook("beforeHighlightingColumnHeader",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,Yz).call(e,...n)})),this.addHook("beforeCopy",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,Vz).call(e,...n)})),this.addHook("beforeSelectColumns",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,Xz).call(e,...n)})),this.addHook("afterViewportColumnCalculatorOverride",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,Qz).call(e,...n)})),this.addHook("modifyFocusedElement",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Lz(Hz,e,tG).call(e,...n)})),this.hot.columnIndexMapper.addLocalHook("cacheUpdated",(()=>Lz(Hz,this,Bz).call(this))),this.hot.rowIndexMapper.addLocalHook("cacheUpdated",(()=>Lz(Hz,this,Bz).call(this))),super.enablePlugin(),this.updatePlugin()}updatePlugin(){if(!this.hot.view)return;const{nestedHeaders:e}=this.hot.getSettings();Nz(Iz,this).setColumnsLimit(this.hot.countCols()),Array.isArray(e)&&(this.detectedOverlappedHeaders=Nz(Iz,this).setState(e)),this.detectedOverlappedHeaders&&dr(F`Your Nested Headers plugin setup contains overlapping headers. This kind of configuration\x20
                        is currently not supported.`),this.enabled&&this.hot.columnIndexMapper.hidingMapsCollection.getMergedValues().forEach(((e,t)=>{const n=!0===e?"hide-column":"show-column";Nz(Iz,this).triggerColumnModification(n,t)})),!Nz(Pz,this)&&this.enabled&&Az(Pz,this,this.hot.columnIndexMapper.createChangesObserver("hiding").subscribe((e=>{e.forEach((e=>{let{op:t,index:n,newValue:r}=e;if("replace"===t){const e=!0===r?"hide-column":"show-column";Nz(Iz,this).triggerColumnModification(e,n)}})),this.ghostTable.buildWidthsMap()}))),this.ghostTable.setLayersCount(this.getLayersCount()).buildWidthsMap(),super.updatePlugin()}disablePlugin(){this.clearColspans(),Nz(Iz,this).clear(),Nz(Pz,this).unsubscribe(),Az(Pz,this,null),this.ghostTable.clear(),super.disablePlugin()}getStateManager(){return Nz(Iz,this)}getLayersCount(){return Nz(Iz,this).getLayersCount()}getHeaderSettings(e,t){return Nz(Iz,this).getHeaderSettings(e,t)}clearColspans(){if(!this.hot.view)return;const{_wt:e}=this.hot.view,t=e.getSetting("columnHeaders").length,n=e.wtTable.THEAD,r=e.wtOverlays.topOverlay.clone.wtTable.THEAD,i=e.wtOverlays.topInlineStartCornerOverlay?e.wtOverlays.topInlineStartCornerOverlay.clone.wtTable.THEAD:null;for(let o=0;o<t;o++){const e=n.childNodes[o];if(!e)break;const t=r.childNodes[o],s=i?i.childNodes[o]:null;for(let n=0,r=e.childNodes.length;n<r;n++)e.childNodes[n].removeAttribute("colspan"),ut(e.childNodes[n],"hiddenHeader"),t&&t.childNodes[n]&&(t.childNodes[n].removeAttribute("colspan"),ut(t.childNodes[n],"hiddenHeader")),i&&s&&s.childNodes[n]&&(s.childNodes[n].removeAttribute("colspan"),ut(s.childNodes[n],"hiddenHeader"))}}headerRendererFactory(e){var t=this;const n=this.hot.view._wt.getSetting("fixedColumnsStart");return(r,i)=>{var o;const{columnIndexMapper:s,view:a}=this.hot;let l=s.getVisualFromRenderableIndex(r);null===l&&(l=r),i.removeAttribute("colspan"),ut(i,"hiddenHeader");const{colspan:u,isHidden:c,isPlaceholder:h,headerClassNames:d}=null!==(o=Nz(Iz,this).getHeaderSettings(e,l))&&void 0!==o?o:{label:""};if(h||c)lt(i,"hiddenHeader");else if(u>1){var f,p;const{wtOverlays:e}=a._wt,t=null===(f=e.topInlineStartCornerOverlay)||void 0===f?void 0:f.clone.wtTable.THEAD.contains(i),o=null===(p=e.inlineStartOverlay)||void 0===p?void 0:p.clone.wtTable.THEAD.contains(i),s=t||o?Math.min(u,n-r):u;s>1&&i.setAttribute("colspan",s)}if(this.hot.view.appendColHeader(l,i,(function(){return t.getColumnHeaderValue(...arguments)}),e),!h&&!c){const e=i.querySelector("div.relative");e&&d&&d.length>0&&(ut(e,this.hot.getColumnMeta(l).headerClassName),lt(e,d))}}}getColumnHeaderValue(e,t){var n;const{isHidden:r,isPlaceholder:i}=null!==(n=Nz(Iz,this).getHeaderSettings(t,e))&&void 0!==n?n:{};return i||r?"":this.hot.getColHeader(e,t)}destroy(){Az(Iz,this,null),null!==Nz(Pz,this)&&(Nz(Pz,this).unsubscribe(),Az(Pz,this,null)),super.destroy()}_getHeaderTreeNodeDataByCoords(e){if(!(e.row>=0||e.col<0))return Nz(Iz,this).getHeaderTreeNodeData(e.row,e.col)}}function Bz(){var e;const t=null===(e=this.hot)||void 0===e?void 0:e.getSelectedRangeLast();if(!t)return;const{highlight:n}=t,r=n.isHeader()&&n.col>=0;if(r){const e=Nz(Iz,this).findLeftMostColumnIndex(n.row,n.col),t=this.hot.selection.highlight.getFocus();t.visualCellRange.highlight.col=e,t.visualCellRange.from.col=e,t.visualCellRange.to.col=e,t.commit()}}function jz(e){const t=this.hot.getSelectedRangeLast();if(!t)return e;const{highlight:n}=t,r=n.isHeader()&&n.col>=0;if(!r)return e;const i=this.hot.view.getFirstFullyVisibleColumn(),o=this.hot.view.getLastFullyVisibleColumn(),s=Nz(Iz,this).findLeftMostColumnIndex(n.row,n.col),a=Nz(Iz,this).findRightMostColumnIndex(n.row,n.col);return s<i&&a>o?e:s<i?s:a}function Yz(e,t,n){const r=Nz(Iz,this).getHeaderTreeNodeData(t,e);if(!r)return e;const{columnCursor:i,selectionType:o,selectionWidth:s}=n,{isRoot:a,colspan:l}=Nz(Iz,this).getHeaderSettings(t,e);if(o===Rp){if(!a)return r.columnIndex}else if(o===Cp&&(l>s-i||!a))return null;return e}function Vz(e,t,n){let{columnHeadersCount:r}=n;if(0!==r)for(let o=0;o<t.length;o++){const{startRow:n,startCol:r,endRow:s,endCol:a}=t[o],l=s-n+1,u=r-a+1;if(n>=0||1===u)break;for(let t=r;t<=a;t++)for(let o=n;o<=s;o++){var i;const n=l+o,s=t-r;if(0===s)continue;const a=null===(i=Nz(Iz,this).getHeaderTreeNodeData(o,t))||void 0===i?void 0:i.isRoot;!1===a&&(e[n][s]="")}}}function Wz(e,t,n,r){const i=this._getHeaderTreeNodeDataByCoords(t);i&&(r.column=!0)}function zz(e,t){const n=this._getHeaderTreeNodeDataByCoords(t);if(!n)return;Az(Dz,this,t.clone()),Az(Fz,this,!0);const{selection:r}=this.hot,i=r.isSelected()?r.getSelectedRange().current():null,o=[],{columnIndex:s,origColspan:a}=n,l=!r.inInSelection(t);e.shiftKey&&i?t.col<i.from.col?o.push(i.getTopEndCorner().col,s,t.row):t.col>i.from.col?o.push(i.getTopStartCorner().col,s+a-1,t.row):o.push(s,s+a-1,t.row):(ur(e)||lr(e)&&l||cr(e))&&o.push(s,s+a-1,t.row),r.selectColumns(...o)}function Gz(e,t,n,r){if(!this.hot.view.isMouseDown())return;const i=this._getHeaderTreeNodeDataByCoords(t);if(!i)return;const{columnIndex:o,origColspan:s}=i,a=this.hot.getSelectedRangeLast(),l=a.getTopStartCorner(),u=a.getBottomEndCorner(),{from:c}=a;r.column=!0,r.cell=!0;const h=[],d=Oi(t.row,-1/0,-1);t.col<c.col?h.push(u.col,o,d):t.col>c.col?h.push(l.col,o+s-1,d):h.push(o,o+s-1,d),this.hot.selection.selectColumns(...h)}function $z(){Az(Fz,this,!1)}function qz(){const{navigableHeaders:e}=this.hot.getSettings();if(!this.hot.view.isMouseDown()||!Nz(Fz,this)||!e)return;const t=this.hot.getSelectedRangeLast(),n=t.getTopStartCorner().col,r=t.getBottomEndCorner().col,{columnIndex:i,origColspan:o}=Nz(Iz,this).getHeaderTreeNodeData(Nz(Dz,this).row,Nz(Dz,this).col);if(t.setHighlight(Nz(Dz,this)),o>t.getWidth()||i<n||i+o-1>r){const e=Nz(Iz,this).findTopMostEntireHeaderLevel(Oi(n,i,i+o-1),Oi(r,i,i+o-1));t.highlight.row=e,t.highlight.col=t.from.col}}function Kz(e){const{highlight:t}=this.hot.getSelectedRangeLast(),n=this.hot._createCellCoords(t.row+e.row,t.col+e.col),r=n.isHeader()&&n.col>=0;if(!r)return;const i=Nz(Iz,this).findLeftMostColumnIndex(n.row,n.col),o=Nz(Iz,this).findRightMostColumnIndex(n.row,n.col);if(e.col<0){const n=t.col>=i&&t.col<=o?i-1:o,r=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n,-1);e.col=null===r?-this.hot.view.countRenderableColumnsInRange(0,t.col):-Math.max(this.hot.view.countRenderableColumnsInRange(r,t.col)-1,1)}else if(e.col>0){const n=t.col>=i&&t.col<=o?o+1:i,r=this.hot.columnIndexMapper.getNearestNotHiddenIndex(n,1);e.col=null===r?this.hot.view.countRenderableColumnsInRange(t.col,this.hot.countCols()):Math.max(this.hot.view.countRenderableColumnsInRange(t.col,r)-1,1)}}function Xz(e,t){const n=e.row,r=this._getHeaderTreeNodeDataByCoords({row:n,col:e.col}),i=this._getHeaderTreeNodeDataByCoords({row:n,col:t.col});t.col<e.col?(r&&(e.col=r.columnIndex+r.origColspan-1),i&&(t.col=i.columnIndex)):t.col>=e.col&&(r&&(e.col=r.columnIndex),i&&(t.col=i.columnIndex+i.origColspan-1))}function Jz(e){e.length=0;for(let t=0;t<Nz(Iz,this).getLayersCount();t++)e.push(this.headerRendererFactory(t))}function Qz(e){const t=Nz(Iz,this).getLayersCount();let n=e.startColumn,r=!!t;for(let i=0;i<t;i++){const t=Nz(Iz,this).findLeftMostColumnIndex(i,e.startColumn),o=this.hot.columnIndexMapper.getRenderableFromVisualIndex(t);if(t>=0&&(r=!1),xi(o)&&o<e.startColumn){n=o;break}}e.startColumn=r?Nz(Iz,this).getHeaderTreeNodeData(0,n).columnIndex:n}function Zz(e,t){const n=this.ghostTable.getWidth(t);return e>n?e:n}function eG(e,t,n){var r;const{label:i}=null!==(r=Nz(Iz,this).getHeaderTreeNodeData(n,t))&&void 0!==r?r:{label:""};return i}function tG(e,t){if(e<0)return this.hot.getCell(e,Nz(Iz,this).findLeftMostColumnIndex(e,t),!0)}function nG(){this.updatePlugin()}function rG(e,t){t||this.updatePlugin()}function iG(e,t,n){return(t=oG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oG(e){var t=sG(e,"string");return"symbol"==typeof t?t:t+""}function sG(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class aG{constructor(e,t){iG(this,"hot",void 0),iG(this,"data",null),iG(this,"plugin",void 0),iG(this,"parentReference",new WeakMap),iG(this,"cache",{levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap}),this.hot=t,this.plugin=e}setData(e){this.data=e}getData(){return this.data}getRawSourceData(){let e=null;return this.plugin.disableCoreAPIModifiers(),e=this.hot.getSourceData(),this.plugin.enableCoreAPIModifiers(),e}updateWithData(e){this.setData(e),this.rewriteCache()}rewriteCache(){this.cache={levels:[],levelCount:0,rows:[],nodeInfo:new WeakMap},Ni(0,this.data.length-1,(e=>{this.cacheNode(this.data[e],0,null)}))}cacheNode(e,t,n){this.cache.levels[t]||(this.cache.levels[t]=[],this.cache.levelCount+=1),this.cache.levels[t].push(e),this.cache.rows.push(e),this.cache.nodeInfo.set(e,{parent:n,row:this.cache.rows.length-1,level:t}),this.hasChildren(e)&&C(e.__children,(n=>{this.cacheNode(n,t+1,e)}))}getDataObject(e){return null===e||void 0===e?null:this.cache.rows[e]}readTreeNodes(e,t,n,r){let i=!1,o=t;if(isNaN(o)&&o.end)return o;let s=e;return s||(s={__children:this.data},i=!0,o-=1),null!==n&&void 0!==n&&o===n?{result:s,end:!0}:null!==r&&void 0!==r&&s===r?{result:o,end:!0}:(o+=1,s.__children&&C(s.__children,(e=>{if(this.parentReference.set(e,i?null:s),o=this.readTreeNodes(e,o,n,r),isNaN(o)&&o.end)return!1})),o)}mockParent(){const e=this.mockNode();return e.__children=this.data,e}mockNode(){const e={};return Sn(this.data[0],((t,n)=>{e[n]=null})),e}getRowIndex(e){return null===e||void 0===e?null:this.cache.nodeInfo.get(e).row}getRowIndexWithinParent(e){let t=null;t=isNaN(e)?e:this.getDataObject(e);const n=this.getRowParent(e);return null===n||void 0===n?this.data.indexOf(t):n.__children.indexOf(t)}countAllRows(){const e={__children:this.data};return this.countChildren(e)}countChildren(e){let t=0,n=e;return isNaN(n)||(n=this.getDataObject(n)),n&&n.__children?(C(n.__children,(e=>{t+=1,e.__children&&(t+=this.countChildren(e))})),t):0}getRowParent(e){let t;return t=isNaN(e)?e:this.getDataObject(e),this.getRowObjectParent(t)}getRowObjectParent(e){return e&&"object"===typeof e?this.cache.nodeInfo.get(e).parent:null}getRowLevel(e){let t=null;return t=isNaN(e)?e:this.getDataObject(e),t?this.getRowObjectLevel(t):null}getRowObjectLevel(e){return null===e||void 0===e?null:this.cache.nodeInfo.get(e).level}hasChildren(e){let t=e;return isNaN(t)||(t=this.getDataObject(t)),!(!t.__children||!t.__children.length)}isChild(e){return null!==this.getRowParent(e)}getChild(e,t){var n;return(null===(n=e.__children)||void 0===n?void 0:n[t])||null}isRowHighestLevel(e){return!this.isChild(e)}isParent(e){var t;let n=e;return isNaN(n)||(n=this.getDataObject(n)),n&&!!n.__children&&0!==(null===(t=n.__children)||void 0===t?void 0:t.length)}addChild(e,t){let n=t;this.hot.runHooks("beforeAddChild",e,n);let r=null;e&&(r=this.getRowIndex(e)),this.hot.runHooks("beforeCreateRow",r+this.countChildren(e)+1,1);let i=e;e||(i=this.mockParent()),i.__children||(i.__children=[]),n||(n=this.mockNode()),i.__children.push(n),this.rewriteCache();const o=this.getRowIndex(n);this.hot.rowIndexMapper.insertIndexes(o,1),this.hot.runHooks("afterCreateRow",o,1),this.hot.runHooks("afterAddChild",e,n)}addChildAtIndex(e,t,n){let r,i=n;if(i||(i=this.mockNode()),this.hot.runHooks("beforeAddChild",e,i,t),e){const n=this.getRowIndex(e),o=n+t+1;this.hot.runHooks("beforeCreateRow",o,1),e.__children.splice(t,null,i),this.rewriteCache(),this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndexWithinParent(e),"__children",e.__children,"NestedRows.addChildAtIndex"),this.hot.rowIndexMapper.insertIndexes(o,1),this.plugin.enableCoreAPIModifiers(),this.hot.runHooks("afterCreateRow",o,1),r=o}else this.plugin.disableCoreAPIModifiers(),this.hot.alter("insert_row_above",t,1,"NestedRows.addChildAtIndex"),this.plugin.enableCoreAPIModifiers(),r=this.getRowIndex(this.data[t]);i=this.getDataObject(r),this.hot.runHooks("afterAddChild",e,i,t)}addSibling(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"below";const n=this.translateTrimmedRow(e),r=this.getRowParent(n),i=this.getRowIndexWithinParent(n);switch(t){case"below":this.addChildAtIndex(r,i+1,null);break;case"above":this.addChildAtIndex(r,i,null);break;default:break}}detachFromParent(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=null;const r=[];Array.isArray(e)?(Ni(e[0],e[2],(e=>{const t=this.translateTrimmedRow(e);r.push(this.getDataObject(t))})),Ni(0,r.length-2,(e=>{this.detachFromParent(r[e],!1)})),n=r[r.length-1]):n=e;const i=this.getRowIndex(n),o=this.countChildren(n),s=this.getRowIndexWithinParent(n),a=this.getRowParent(n),l=this.getRowParent(a),u=this.getRowIndex(l);let c=null;if(this.hot.runHooks("beforeDetachChild",a,n),null!==s&&void 0!==s){const e=Array.from(new Array(i+o+1).keys()).splice(-1*(o+1));if(this.hot.runHooks("beforeRemoveRow",i,o+1,e,this.plugin.pluginName),a.__children.splice(s,1),this.rewriteCache(),this.hot.runHooks("afterRemoveRow",i,o+1,e,this.plugin.pluginName),l){c=u+this.countChildren(l);const e=this.getChild(l,this.countChildren(l)-1),t=this.getRowIndex(e);this.hot.runHooks("beforeCreateRow",t+1,o+1,this.plugin.pluginName),l.__children.push(n)}else c=this.hot.countRows()+1,this.hot.runHooks("beforeCreateRow",c-2,o+1,this.plugin.pluginName),this.data.push(n)}this.rewriteCache(),this.hot.runHooks("afterCreateRow",c-2,o+1,this.plugin.pluginName),this.hot.runHooks("afterDetachChild",a,n,this.getRowIndex(n)),t&&this.hot.render()}filterData(e,t,n){const r=[];C(n,(e=>{r.push(this.getDataObject(e))})),C(r,(e=>{const t=this.getRowIndexWithinParent(e),n=this.getRowParent(e);null===n?this.data.splice(t,1):n.__children.splice(t,1)})),this.rewriteCache()}spliceData(e,t,n){const r=this.getDataObject(e-1);let i=null,o=e;r&&r.__children&&0===r.__children.length?(i=r,o=0):e<this.countAllRows()&&(i=this.getRowParent(e),o=this.getRowIndexWithinParent(e)),i?n?i.__children.splice(o,t,...n):i.__children.splice(o,t):n?this.data.splice(o,t,...n):this.data.splice(o,t),this.rewriteCache()}syncRowWithRawSource(e){let t=e,n=null;do{n=this.getRowParent(n),null!==n&&(t=n)}while(null!==n);this.plugin.disableCoreAPIModifiers(),this.hot.setSourceDataAtCell(this.getRowIndex(t),"__children",t.__children,"NestedRows.syncRowWithRawSource"),this.plugin.enableCoreAPIModifiers()}moveRow(e,t,n,r){const i=t===this.hot.countRows(),o=this.getRowParent(e),s=this.getRowIndexWithinParent(e),a=o.__children.slice(s,s+1),l=e>t;let u=i?this.getRowParent(t-1):this.getRowParent(t);null!==u&&void 0!==u||(u=this.getRowParent(t-1)),null!==u&&void 0!==u||(u=this.getDataObject(t-1)),u?u.__children||(u.__children=[]):(u=this.getDataObject(t),u.__children=[]);const c=i||n||r?u.__children.length:this.getRowIndexWithinParent(t),h=o===u;u.__children.splice(c,0,a[0]),o.__children.splice(s+(l&&h?1:0),1),this.syncRowWithRawSource(o),h||this.syncRowWithRawSource(u)}translateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.translateTrimmedRow(e):e}untranslateTrimmedRow(e){return this.plugin.collapsingUI?this.plugin.collapsingUI.untranslateTrimmedRow(e):e}}var lG=aG;function uG(e,t,n){return(t=cG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cG(e){var t=hG(e,"string");return"symbol"==typeof t?t:t+""}function hG(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class dG{constructor(e,t){uG(this,"hot",void 0),uG(this,"plugin",void 0),this.hot=t,this.plugin=e}}var fG=dG;class pG extends fG{static get CSS_CLASSES(){return{indicatorContainer:"ht_nestingLevels",parent:"ht_nestingParent",indicator:"ht_nestingLevel",emptyIndicator:"ht_nestingLevel_empty",button:"ht_nestingButton",expandButton:"ht_nestingExpand",collapseButton:"ht_nestingCollapse"}}constructor(e,t){super(e,t),this.dataManager=this.plugin.dataManager,this.collapsingUI=this.plugin.collapsingUI,this.rowHeaderWidthCache=null}appendLevelIndicators(e,t){const n=this.hot.toPhysicalRow(e),r=this.dataManager.getRowLevel(n),i=this.dataManager.getDataObject(n),o=t.getElementsByTagName("DIV")[0],s=o.querySelector("span.rowHeader"),a=o.querySelectorAll('[class^="ht_nesting"]'),l=this.hot.getSettings().ariaTags;if(C(a,(e=>{e&&o.removeChild(e)})),lt(t,pG.CSS_CLASSES.indicatorContainer),r){const{rootDocument:e}=this.hot,t=s.cloneNode(!0);o.innerHTML="",Ni(0,r-1,(()=>{const t=e.createElement("SPAN");lt(t,pG.CSS_CLASSES.emptyIndicator),o.appendChild(t)})),o.appendChild(t)}if(this.dataManager.hasChildren(i)){const e=this.hot.rootDocument.createElement("DIV");l&&ct(e,[xe()]),lt(t,pG.CSS_CLASSES.parent),this.collapsingUI.areChildrenCollapsed(n)?(lt(e,`${pG.CSS_CLASSES.button} ${pG.CSS_CLASSES.expandButton}`),l&&ct(t,[De(!1)])):(lt(e,`${pG.CSS_CLASSES.button} ${pG.CSS_CLASSES.collapseButton}`),l&&ct(t,[De(!0)])),o.appendChild(e)}}updateRowHeaderWidth(e){let t=e;t||(t=this.dataManager.cache.levelCount),this.rowHeaderWidthCache=Math.max(50,11+10*t+25),this.hot.render()}}var mG=pG;class gG extends fG{constructor(e,t){var n;super(e,t),n=this,this.dataManager=this.plugin.dataManager,this.collapsedRows=[],this.collapsedRowsStash={stash:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.lastCollapsedRows=n.collapsedRows.slice(0),n.expandMultipleChildren(n.lastCollapsedRows,e)},shiftStash:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null!==t&&void 0!==t||(t=1/0),C(n.lastCollapsedRows,((i,o)=>{i>=e&&i<t&&(n.lastCollapsedRows[o]=i+r)}))},applyStash:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.collapseMultipleChildren(n.lastCollapsedRows,e),n.lastCollapsedRows=void 0},trimStash:(e,t)=>{Ni(e,e+t-1,(e=>{const t=this.lastCollapsedRows.indexOf(e);t>-1&&this.lastCollapsedRows.splice(t,1)}))}}}collapseChildren(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=[];let i=null,o=null,s=null;return isNaN(e)?(i=e,o=this.dataManager.getRowIndex(i)):(i=this.dataManager.getDataObject(e),o=e),this.dataManager.hasChildren(i)&&C(i.__children,(e=>{r.push(this.dataManager.getRowIndex(e))})),s=this.collapseRows(r,!0,!1),n&&this.trimRows(s),t&&this.renderAndAdjust(),-1===this.collapsedRows.indexOf(o)&&this.collapsedRows.push(o),s}collapseMultipleChildren(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=[];C(e,(e=>{r.push(...this.collapseChildren(e,!1,!1))})),n&&this.trimRows(r),t&&this.renderAndAdjust()}collapseRow(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.collapseRows([e],t)}collapseRows(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];return C(e,(e=>{r.push(e),t&&this.collapseChildRows(e,r)})),n&&this.trimRows(r),r}collapseChildRows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(e)){const n=this.dataManager.getDataObject(e);C(n.__children,(e=>{const n=this.dataManager.getRowIndex(e);t.push(n),this.collapseChildRows(n,t)}))}n&&this.trimRows(t)}expandRow(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.expandRows([e],t)}expandRows(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];return C(e,(e=>{r.push(e),t&&this.expandChildRows(e,r)})),n&&this.untrimRows(r),r}expandChildRows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.dataManager.hasChildren(e)){const n=this.dataManager.getDataObject(e);C(n.__children,(e=>{if(!this.isAnyParentCollapsed(e)){const n=this.dataManager.getRowIndex(e);t.push(n),this.expandChildRows(n,t)}}))}n&&this.untrimRows(t)}expandChildren(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=[];let i=null,o=null,s=null;return isNaN(e)?(i=e,o=this.dataManager.getRowIndex(e)):(i=this.dataManager.getDataObject(e),o=e),this.collapsedRows.splice(this.collapsedRows.indexOf(o),1),this.dataManager.hasChildren(i)&&C(i.__children,(e=>{const t=this.dataManager.getRowIndex(e);r.push(t)})),s=this.expandRows(r,!0,!1),n&&this.untrimRows(s),t&&this.renderAndAdjust(),s}expandMultipleChildren(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=[];C(e,(e=>{r.push(...this.expandChildren(e,!1,!1))})),n&&this.untrimRows(r),t&&this.renderAndAdjust()}collapseAll(){const e=this.dataManager.getData(),t=[];C(e,(e=>{this.dataManager.hasChildren(e)&&t.push(e)})),this.collapseMultipleChildren(t),this.renderAndAdjust()}expandAll(){const e=this.dataManager.getData(),t=[];C(e,(e=>{this.dataManager.hasChildren(e)&&t.push(e)})),this.expandMultipleChildren(t),this.renderAndAdjust()}trimRows(e){this.hot.batchExecution((()=>{C(e,(e=>{this.plugin.collapsedRowsMap.setValueAtIndex(e,!0)}))}),!0)}untrimRows(e){this.hot.batchExecution((()=>{C(e,(e=>{this.plugin.collapsedRowsMap.setValueAtIndex(e,!1)}))}),!0)}areChildrenCollapsed(e){let t=isNaN(e)?e:this.dataManager.getDataObject(e),n=!0;return null===t&&(t={__children:this.dataManager.data}),this.dataManager.hasChildren(t)&&C(t.__children,(e=>{const t=this.dataManager.getRowIndex(e);if(!this.plugin.collapsedRowsMap.getValueAtIndex(t))return n=!1,!1})),n}isAnyParentCollapsed(e){let t=e;while(null!==t){t=this.dataManager.getRowParent(t);const e=this.dataManager.getRowIndex(t);if(this.collapsedRows.indexOf(e)>-1)return!0}return!1}toggleState(e,t){if(t.col>=0)return;const n=this.translateTrimmedRow(t.row);at(e.target,mG.CSS_CLASSES.button)&&(this.areChildrenCollapsed(n)?this.expandChildren(n):this.collapseChildren(n),sr(e))}translateTrimmedRow(e){return this.hot.toPhysicalRow(e)}untranslateTrimmedRow(e){return this.hot.toVisualRow(e)}renderAndAdjust(){this.hot.render(),this.hot.view.adjustElementsSize()}}var vG=gG;function yG(e,t,n){bG(e,t),t.set(e,n)}function bG(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wG(e,t,n){return(t=_G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _G(e){var t=EG(e,"string");return"symbol"==typeof t?t:t+""}function EG(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function SG(e,t){return e.get(TG(e,t))}function TG(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var MG=new WeakMap;class CG extends fG{constructor(){super(...arguments),wG(this,"dataManager",this.plugin.dataManager),yG(this,MG,{row_above:(e,t)=>{const n=t[t.length-1];this.dataManager.addSibling(n.start.row,"above")},row_below:(e,t)=>{const n=t[t.length-1];this.dataManager.addSibling(n.start.row,"below")}})}appendOptions(e){const t=[{key:"add_child",name(){return this.getTranslatedPhrase(wf)},callback:()=>{const e=this.dataManager.translateTrimmedRow(this.hot.getSelectedLast()[0]),t=this.dataManager.getDataObject(e);this.dataManager.addChild(t)},disabled:()=>{const e=this.hot.getSelectedLast();return!e||e[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{key:"detach_from_parent",name(){return this.getTranslatedPhrase(_f)},callback:()=>{this.dataManager.detachFromParent(this.hot.getSelectedLast())},disabled:()=>{const e=this.hot.getSelectedLast(),t=this.dataManager.translateTrimmedRow(e[0]),n=this.dataManager.getRowParent(t);return!n||!e||e[0]<0||this.hot.selection.isSelectedByColumnHeader()||this.hot.countRows()>=this.hot.getSettings().maxRows}},{name:"---------"}];return Ni(0,e.items.length-1,(n=>{if(0===n)return C(t,((t,r)=>{e.items.splice(n+r,0,t)})),!1})),this.modifyRowInsertingOptions(e)}modifyRowInsertingOptions(e){return Ni(0,e.items.length-1,(t=>{const n=SG(MG,this)[e.items[t].key];null!==n&&void 0!==n&&(e.items[t].callback=n)})),e}}var RG=CG;function xG(e,t,n){return(t=AG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AG(e){var t=NG(e,"string");return"symbol"==typeof t?t:t+""}function NG(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class LG{constructor(e){xG(this,"plugin",void 0),xG(this,"hot",void 0),xG(this,"dataManager",void 0),xG(this,"collapsingUI",void 0),this.plugin=e,this.hot=e.hot,this.dataManager=e.dataManager,this.collapsingUI=e.collapsingUI}onBeforeRowMove(e,t,n,r){const i=this.displayAPICompatibilityWarning({rows:e,finalIndex:t,dropIndex:n,movePossible:r});if(i)return!1;this.movedToCollapsed=!1;const o=n===this.hot.countRows(),s=o?this.hot.countSourceRows():this.dataManager.translateTrimmedRow(n);let a=!0;const l=e.map((e=>{if(!a)return!1;const t=this.dataManager.translateTrimmedRow(e);return a=this.shouldAllowMoving(t,s),t})),u=-1===l.indexOf(s);if(!a||!u)return!1;const c=this.getBaseParent(l),h=this.getTargetParent(o,s),d=c===h;return this.movedToCollapsed=this.collapsingUI.areChildrenCollapsed(h),this.collapsingUI.collapsedRowsStash.stash(),this.shiftCollapsibleParentsLocations(l,s,d),this.moveRows(l,s,h),this.dataManager.rewriteCache(),this.moveCellsMeta(l,s),this.collapsingUI.collapsedRowsStash.applyStash(!1),this.hot.runHooks("afterRowMove",e,t,n,r,r&&this.isRowOrderChanged(e,t)),this.hot.render(),this.selectCells(e,n),!1}displayAPICompatibilityWarning(e){const{rows:t,finalIndex:n,dropIndex:r,movePossible:i}=e;let o=!1;return B(r)&&(dr(F`Since version 8.0.0 of the Handsontable the 'moveRows' method isn't used for moving rows\x20
      when the NestedRows plugin is enabled. Please use the 'dragRows' method instead.`),this.hot.runHooks("afterRowMove",t,n,r,i,!1),o=!0),o}shouldAllowMoving(e,t){return!(this.dataManager.isParent(e)||this.dataManager.isRowHighestLevel(e)||e===t||0===t)}getBaseParent(e){return this.dataManager.getRowParent(e[0])}getTargetParent(e,t){let n=this.dataManager.getRowParent(e?t-1:t);return null!==n&&void 0!==n||(n=this.dataManager.getRowParent(t-1)),n}shiftCollapsibleParentsLocations(e,t,n){n||(Math.max(...e)<=t?this.collapsingUI.collapsedRowsStash.shiftStash(e[0],t,-1*e.length):this.collapsingUI.collapsedRowsStash.shiftStash(t,e[0],e.length))}moveRows(e,t,n){const r=t===this.dataManager.getRowIndex(n)+this.dataManager.countChildren(n)+1;this.hot.batchRender((()=>{e.forEach((e=>{this.dataManager.moveRow(e,t,this.movedToCollapsed,r)}))}))}moveCellsMeta(e,t){const n=[],r=Math.max(...e)<t;e.forEach((e=>{n.push(this.hot.getCellMetaAtRow(e))})),this.hot.spliceCellsMeta(e[0],e.length),this.hot.spliceCellsMeta(t-(r?n.length:0),0,...n)}selectCells(e,t){const n=e.length;let r=0,i=0,o=null,s=null;if(this.movedToCollapsed){let o=null;o=e[n-1]<t?this.dataManager.translateTrimmedRow(t-n):this.dataManager.translateTrimmedRow(t);const s=this.dataManager.getRowParent(null===o?this.hot.countSourceRows()-1:o-1),a=this.dataManager.getRowIndex(s);r=this.dataManager.untranslateTrimmedRow(a),i=r}else e[n-1]<t?(i=t-1,r=i-n+1):(r=t,i=r+n-1);o=this.hot.selection,s=this.hot.countCols()-1,o.setRangeStart(this.hot._createCellCoords(r,0)),o.setRangeEnd(this.hot._createCellCoords(i,s),!0)}isRowOrderChanged(e,t){return e.some(((e,n)=>e-n!==t))}}function kG(e,t){IG(e,t),t.add(e)}function OG(e,t,n){IG(e,t),t.set(e,n)}function IG(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function PG(e,t,n){return(t=DG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DG(e){var t=FG(e,"string");return"symbol"==typeof t?t:t+""}function FG(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function HG(e,t){return e.get(BG(e,t))}function UG(e,t,n){return e.set(BG(e,t),n),n}function BG(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const jG="nestedRows",YG=300,VG=jG,WG="The Nested Rows plugin requires an Array of Objects as a dataset to be provided. The plugin has been disabled.";var zG=new WeakMap,GG=new WeakMap,$G=new WeakSet;class qG extends tE{constructor(){super(...arguments),kG(this,$G),PG(this,"dataManager",null),PG(this,"headersUI",null),PG(this,"collapsedRowsMap",null),OG(this,zG,!1),OG(this,GG,!1)}static get PLUGIN_KEY(){return jG}static get PLUGIN_PRIORITY(){return YG}isEnabled(){return!!this.hot.getSettings()[jG]}enablePlugin(){var e=this;this.enabled||(this.collapsedRowsMap=this.hot.rowIndexMapper.registerMap("nestedRows",new Vh),this.dataManager=new lG(this,this.hot),this.collapsingUI=new vG(this,this.hot),this.headersUI=new mG(this,this.hot),this.contextMenuUI=new RG(this,this.hot),this.rowMoveController=new LG(this),this.addHook("afterInit",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,l$).call(e,...n)})),this.addHook("beforeViewRender",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,u$).call(e,...n)})),this.addHook("modifyRowData",(function(){return e.onModifyRowData(...arguments)})),this.addHook("modifySourceLength",(function(){return e.onModifySourceLength(...arguments)})),this.addHook("beforeDataSplice",(function(){return e.onBeforeDataSplice(...arguments)})),this.addHook("filterData",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,JG).call(e,...n)})),this.addHook("afterContextMenuDefaultOptions",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,QG).call(e,...n)})),this.addHook("afterGetRowHeader",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,ZG).call(e,...n)})),this.addHook("beforeOnCellMouseDown",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,XG).call(e,...n)})),this.addHook("beforeRemoveRow",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,n$).call(e,...n)})),this.addHook("afterRemoveRow",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,t$).call(e,...n)})),this.addHook("beforeAddChild",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,r$).call(e,...n)})),this.addHook("afterAddChild",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,i$).call(e,...n)})),this.addHook("beforeDetachChild",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,o$).call(e,...n)})),this.addHook("afterDetachChild",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,s$).call(e,...n)})),this.addHook("modifyRowHeaderWidth",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,e$).call(e,...n)})),this.addHook("afterCreateRow",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,a$).call(e,...n)})),this.addHook("beforeRowMove",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return BG($G,e,KG).call(e,...n)})),this.addHook("beforeLoadData",(e=>BG($G,this,c$).call(this,e))),this.addHook("beforeUpdateData",(e=>BG($G,this,c$).call(this,e))),this.registerShortcuts(),super.enablePlugin())}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("nestedRows"),this.unregisterShortcuts(),super.disablePlugin()}updatePlugin(){this.disablePlugin();const e=this.dataManager.getData();this.enablePlugin(),this.dataManager.updateWithData(e),super.updatePlugin()}registerShortcuts(){this.hot.getShortcutManager().getContext("grid").addShortcut({keys:[["Enter"]],callback:()=>{const{highlight:e}=this.hot.getSelectedRangeLast(),t=this.collapsingUI.translateTrimmedRow(e.row);return this.collapsingUI.areChildrenCollapsed(t)?this.collapsingUI.expandChildren(t):this.collapsingUI.collapseChildren(t),!1},runOnlyIf:()=>{var e,t;const n=null===(e=this.hot.getSelectedRangeLast())||void 0===e?void 0:e.highlight;return n&&(null===(t=this.hot.getSelectedRangeLast())||void 0===t?void 0:t.isSingle())&&this.hot.selection.isCellVisible(n)&&-1===n.col&&n.row>=0},group:VG,relativeToGroup:bv,position:"before"})}unregisterShortcuts(){this.hot.getShortcutManager().getContext("grid").removeShortcutsByGroup(VG)}disableCoreAPIModifiers(){UG(GG,this,!0)}enableCoreAPIModifiers(){UG(GG,this,!1)}onModifyRowData(e){if(!HG(GG,this))return this.dataManager.getDataObject(e)}onModifySourceLength(){if(!HG(GG,this))return this.dataManager.countAllRows()}onBeforeDataSplice(e,t,n){return!(!HG(GG,this)&&!this.dataManager.isRowHighestLevel(e))||(this.dataManager.spliceData(e,t,n),!1)}destroy(){super.destroy()}}function KG(e,t,n,r){return this.rowMoveController.onBeforeRowMove(e,t,n,r)}function XG(e,t,n){this.collapsingUI.toggleState(e,t,n)}function JG(e,t,n){return this.collapsingUI.collapsedRowsStash.stash(),this.collapsingUI.collapsedRowsStash.trimStash(n[0],t),this.collapsingUI.collapsedRowsStash.shiftStash(n[0],null,-1*t),this.dataManager.filterData(e,t,n),UG(zG,this,!0),this.dataManager.getData().slice()}function QG(e){return this.contextMenuUI.appendOptions(e)}function ZG(e,t){this.headersUI.appendLevelIndicators(e,t)}function e$(e){return Math.max(this.headersUI.rowHeaderWidthCache,e)}function t$(e,t,n,r){r!==this.pluginName&&this.hot._registerTimeout((()=>{UG(zG,this,!1),this.headersUI.updateRowHeaderWidth(),this.collapsingUI.collapsedRowsStash.applyStash()}))}function n$(e,t,n){const r=Array.from(n.reduce(((e,t)=>{if(this.dataManager.isParent(t)){const n=this.dataManager.getDataObject(t).__children;return e.add(t),Array.isArray(n)&&n.forEach((t=>e.add(this.dataManager.getRowIndex(t)))),e}return e.add(t)}),new Set));n.length=0,n.push(...r)}function r$(){this.collapsingUI.collapsedRowsStash.stash()}function i$(e,t){this.collapsingUI.collapsedRowsStash.shiftStash(this.dataManager.getRowIndex(t)),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function o$(){this.collapsingUI.collapsedRowsStash.stash()}function s$(e,t,n){this.collapsingUI.collapsedRowsStash.shiftStash(n,null,-1),this.collapsingUI.collapsedRowsStash.applyStash(),this.headersUI.updateRowHeaderWidth()}function a$(){this.dataManager.rewriteCache()}function l$(){this.headersUI.updateRowHeaderWidth()}function u$(e,t){HG(zG,this)&&(t.skipRender=!0)}function c$(e){if(!vh(e))return fr(WG),this.hot.getSettings()[jG]=!1,void this.disablePlugin();this.dataManager.setData(e),this.dataManager.rewriteCache()}function h$(e,t,n){return(t=d$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d$(e){var t=f$(e,"string");return"symbol"==typeof t?t:t+""}function f$(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}class p${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;h$(this,"rootWindow",void 0),h$(this,"prefix",void 0),h$(this,"savedKeys",[]),this.rootWindow=t,this.prefix=e,this.loadSavedKeys()}saveValue(e,t){this.rootWindow.localStorage.setItem(`${this.prefix}_${e}`,JSON.stringify(t)),-1===this.savedKeys.indexOf(e)&&(this.savedKeys.push(e),this.saveSavedKeys())}loadValue(e,t){const n="undefined"===typeof e?t:e,r=this.rootWindow.localStorage.getItem(`${this.prefix}_${n}`);return null===r?void 0:JSON.parse(r)}reset(e){this.rootWindow.localStorage.removeItem(`${this.prefix}_${e}`)}resetAll(){C(this.savedKeys,((e,t)=>{this.rootWindow.localStorage.removeItem(`${this.prefix}_${this.savedKeys[t]}`)})),this.clearSavedKeys()}loadSavedKeys(){const e=this.rootWindow.localStorage.getItem(`${this.prefix}__persistentStateKeys`),t="string"===typeof e?JSON.parse(e):void 0;this.savedKeys=t||[]}saveSavedKeys(){this.rootWindow.localStorage.setItem(`${this.prefix}__persistentStateKeys`,JSON.stringify(this.savedKeys))}clearSavedKeys(){this.savedKeys.length=0,this.saveSavedKeys()}}var m$=p$;function g$(e,t,n){return(t=v$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v$(e){var t=y$(e,"string");return"symbol"==typeof t?t:t+""}function y$(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Mr.getSingleton().register("persistentStateSave"),Mr.getSingleton().register("persistentStateLoad"),Mr.getSingleton().register("persistentStateReset");const b$="persistentState",w$=0;class _$ extends tE{constructor(){super(...arguments),g$(this,"storage",void 0)}static get PLUGIN_KEY(){return b$}static get PLUGIN_PRIORITY(){return w$}isEnabled(){return!!this.hot.getSettings()[b$]}enablePlugin(){this.enabled||(this.storage||(this.storage=new m$(this.hot.rootElement.id,this.hot.rootWindow)),this.addHook("persistentStateSave",((e,t)=>this.saveValue(e,t))),this.addHook("persistentStateLoad",((e,t)=>this.loadValue(e,t))),this.addHook("persistentStateReset",(()=>this.resetValue())),super.enablePlugin())}disablePlugin(){this.storage=void 0,super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}loadValue(e,t){t.value=this.storage.loadValue(e)}saveValue(e,t){this.storage.saveValue(e,t)}resetValue(e){"undefined"===typeof e?this.storage.resetAll():this.storage.reset(e)}destroy(){super.destroy()}}function E$(e,t){S$(e,t),t.add(e)}function S$(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function T$(e,t,n){return(t=M$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M$(e){var t=C$(e,"string");return"symbol"==typeof t?t:t+""}function C$(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function R$(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const x$="search",A$=190,N$="htSearchResult",L$=function(e,t,n,r,i){e.getCellMeta(t,n).isSearchResult=i},k$=function(e,t,n){return!(B(e)||null===e||!e.toLocaleLowerCase||0===e.length)&&(!B(t)&&null!==t&&-1!==t.toString().toLocaleLowerCase(n.locale).indexOf(e.toLocaleLowerCase(n.locale)))};var O$=new WeakSet;class I$ extends tE{constructor(){super(...arguments),E$(this,O$),T$(this,"callback",L$),T$(this,"queryMethod",k$),T$(this,"searchResultClass",N$)}static get PLUGIN_KEY(){return x$}static get PLUGIN_PRIORITY(){return A$}isEnabled(){return this.hot.getSettings()[x$]}enablePlugin(){var e=this;if(this.enabled)return;const t=this.hot.getSettings()[x$];this.updatePluginSettings(t),this.addHook("beforeRenderer",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R$(O$,e,P$).call(e,...n)})),super.enablePlugin()}disablePlugin(){var e=this;const t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R$(O$,e,P$).call(e,...n)};this.hot.addHook("beforeRenderer",t),this.hot.addHookOnce("afterViewRender",(()=>{this.hot.removeHook("beforeRenderer",t)})),super.disablePlugin()}updatePlugin(){this.disablePlugin(),this.enablePlugin(),super.updatePlugin()}query(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCallback(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getQueryMethod();const r=this.hot.countRows(),i=this.hot.countCols(),o=[],s=this.hot;return Ni(0,r-1,(r=>{Ni(0,i-1,(i=>{const a=this.hot.getDataAtCell(r,i),l=this.hot.getCellMeta(r,i),u=l.search.callback||t,c=l.search.queryMethod||n,h=c(e,a,l);if(h){const e={row:r,col:i,data:a};o.push(e)}u&&u(s,r,i,a,h)}))})),o}getCallback(){return this.callback}setCallback(e){this.callback=e}getQueryMethod(){return this.queryMethod}setQueryMethod(e){this.queryMethod=e}getSearchResultClass(){return this.searchResultClass}setSearchResultClass(e){this.searchResultClass=e}updatePluginSettings(e){_n(e)&&(e.searchResultClass&&this.setSearchResultClass(e.searchResultClass),e.queryMethod&&this.setQueryMethod(e.queryMethod),e.callback&&this.setCallback(e.callback))}destroy(){super.destroy()}}function P$(e,t,n,r,i,o){const s=o.className||[];let a=[];"string"===typeof s?a=s.split(" "):a.push(...s),this.isEnabled()&&o.isSearchResult?a.includes(this.searchResultClass)||a.push(`${this.searchResultClass}`):a.includes(this.searchResultClass)&&a.splice(a.indexOf(this.searchResultClass),1),o.className=a.join(" ")}function D$(e,t){F$(e,t),t.add(e)}function F$(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H$(e,t,n){return(t=U$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U$(e){var t=B$(e,"string");return"symbol"==typeof t?t:t+""}function B$(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function j$(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const Y$="touchScroll",V$=200;var W$=new WeakSet;class z$ extends tE{constructor(){super(...arguments),D$(this,W$),H$(this,"scrollbars",[]),H$(this,"clones",[]),H$(this,"lockedCollection",!1),H$(this,"freezeOverlays",!1)}static get PLUGIN_KEY(){return Y$}static get PLUGIN_PRIORITY(){return V$}static get SETTING_KEYS(){return!0}isEnabled(){return Ln()}enablePlugin(){this.enabled||(this.addHook("afterViewRender",(()=>j$(W$,this,G$).call(this))),this.registerEvents(),super.enablePlugin())}updatePlugin(){this.lockedCollection=!1,super.updatePlugin()}disablePlugin(){super.disablePlugin()}registerEvents(){this.addHook("beforeTouchScroll",(()=>j$(W$,this,$$).call(this))),this.addHook("afterMomentumScroll",(()=>j$(W$,this,q$).call(this)))}}function G$(){if(this.lockedCollection)return;const{topOverlay:e,bottomOverlay:t,inlineStartOverlay:n,topInlineStartCornerOverlay:r,bottomInlineStartCornerOverlay:i}=this.hot.view._wt.wtOverlays;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(e),t.clone&&this.scrollbars.push(t),this.scrollbars.push(n),r&&this.scrollbars.push(r),i&&i.clone&&this.scrollbars.push(i),this.clones=[],e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),t.needFullRender&&this.clones.push(t.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),r&&this.clones.push(r.clone.wtTable.holder.parentNode),i&&i.clone&&this.clones.push(i.clone.wtTable.holder.parentNode)}function $$(){this.freezeOverlays=!0,C(this.clones,(e=>{lt(e,"hide-tween")}))}function q$(){this.freezeOverlays=!1,C(this.clones,(e=>{ut(e,"hide-tween"),lt(e,"show-tween")})),this.hot._registerTimeout((()=>{C(this.clones,(e=>{ut(e,"show-tween")}))}),400),C(this.scrollbars,(e=>{e.refresh(),e.resetFixedPosition()})),this.hot.view._wt.wtOverlays.syncScrollWithMaster()}function K$(e,t){X$(e,t),t.add(e)}function X$(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function J$(e,t,n){return(t=Q$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q$(e){var t=Z$(e,"string");return"symbol"==typeof t?t:t+""}function Z$(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function eq(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}const tq="trimRows",nq=330;var rq=new WeakSet;class iq extends tE{constructor(){super(...arguments),K$(this,rq),J$(this,"trimmedRowsMap",null)}static get PLUGIN_KEY(){return tq}static get PLUGIN_PRIORITY(){return nq}isEnabled(){return!!this.hot.getSettings()[tq]}enablePlugin(){this.enabled||(this.trimmedRowsMap=this.hot.rowIndexMapper.registerMap("trimRows",new Vh),this.trimmedRowsMap.addLocalHook("init",(()=>eq(rq,this,oq).call(this))),super.enablePlugin())}updatePlugin(){const e=this.hot.getSettings()[tq];Array.isArray(e)&&this.hot.batchExecution((()=>{this.trimmedRowsMap.clear(),C(e,(e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)}))}),!0),super.updatePlugin()}disablePlugin(){this.hot.rowIndexMapper.unregisterMap("trimRows"),super.disablePlugin()}getTrimmedRows(){return this.trimmedRowsMap.getTrimmedIndexes()}trimRows(e){const t=this.getTrimmedRows(),n=this.isValidConfig(e);let r=t;n&&(r=Array.from(new Set(t.concat(e))));const i=this.hot.runHooks("beforeTrimRow",t,r,n);!1!==i&&(n&&this.hot.batchExecution((()=>{C(e,(e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)}))}),!0),this.hot.runHooks("afterTrimRow",t,r,n,n&&r.length>t.length))}trimRow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.trimRows(t)}untrimRows(e){const t=this.getTrimmedRows(),n=this.isValidConfig(e);let r=t;const i=this.trimmedRowsMap.getValues().slice(),o=e.length>0;n&&o&&(C(e,(e=>{i[e]=!1})),r=S(i,((e,t,n)=>(t&&e.push(n),e)),[]));const s=this.hot.runHooks("beforeUntrimRow",t,r,n&&o);!1!==s&&(n&&o&&this.trimmedRowsMap.setValues(i),this.hot.runHooks("afterUntrimRow",t,r,n&&o,n&&r.length<t.length))}untrimRow(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.untrimRows(t)}isTrimmed(e){return this.trimmedRowsMap.getValueAtIndex(e)||!1}untrimAll(){this.untrimRows(this.getTrimmedRows())}isValidConfig(e){const t=this.hot.countSourceRows();return e.every((e=>Number.isInteger(e)&&e>=0&&e<t))}destroy(){super.destroy()}}function oq(){const e=this.hot.getSettings()[tq];Array.isArray(e)&&this.hot.batchExecution((()=>{C(e,(e=>{this.trimmedRowsMap.setValueAtIndex(e,!0)}))}),!0)}n(88924);const sq="undoRedo",aq="undoRedo";function lq(e){const t=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,this.enabled=!1,e.addHook("afterChange",(function(n,r){const i=n&&n.length;if(!i)return;const o=n.find((e=>{const[,,t,n]=e;return t!==n}));if(!o)return;const s=()=>{const t=n.reduce(((e,t)=>(e.push([...t]),e)),[]);C(t,(t=>{t[1]=e.propToCol(t[1])}));const r=i>1?this.getSelected():[[t[0][0],t[0][1]]];return new lq.ChangeAction(t,r)};t.done(s,r)})),e.addHook("afterCreateRow",((e,n,r)=>{t.done((()=>new lq.CreateRowAction(e,n)),r)}));const n=(t,n,r,i)=>{const o=["visualRow","visualCol","row","col","prop"],s=o.length,a=[];return Ni(r,i,(r=>{Ni(t,n,(t=>{const n=e.getCellMeta(t,r);if(Object.keys(n).length!==s){const e=Object.fromEntries(Object.entries(n).filter((e=>{let[t]=e;return!1===o.includes(t)})));a.push([n.visualRow,n.visualCol,e])}}))})),a};e.addHook("beforeRemoveRow",((r,i,o,s)=>{const a=()=>{const o=e.toPhysicalRow(r),s=o+i-1,a=vn(t.instance.getSourceData(o,0,o+i-1,t.instance.countSourceCols()-1));return new lq.RemoveRowAction(o,a,e.getSettings().fixedRowsBottom,e.getSettings().fixedRowsTop,e.rowIndexMapper.getIndexesSequence(),n(o,s,0,e.countCols()-1))};t.done(a,s)})),e.addHook("afterCreateCol",((e,n,r)=>{t.done((()=>new lq.CreateColumnAction(e,n)),r)})),e.addHook("beforeRemoveCol",((r,i,o,s)=>{const a=()=>{const o=t.instance.getSourceDataArray(),s=(t.instance.countCols()+r)%t.instance.countCols(),a=s+i-1,l=[],u=[],c=[];Ni(o.length-1,(t=>{const n=[],r=o[t];Ni(s,a,(t=>{n.push(r[e.toPhysicalColumn(t)])})),l.push(n)})),Ni(i-1,(t=>{c.push(e.toPhysicalColumn(s+t))})),Array.isArray(e.getSettings().colHeaders)&&Ni(i-1,(t=>{u.push(e.getSettings().colHeaders[e.toPhysicalColumn(s+t)]||null)}));const h=e.columnIndexMapper.getIndexesSequence(),d=e.rowIndexMapper.getIndexesSequence();return new lq.RemoveColumnAction(s,c,l,u,h,d,e.getSettings().fixedColumnsStart,n(0,e.countRows(),s,a))};t.done(a,s)})),e.addHook("beforeCellAlignment",((e,n,r,i)=>{t.done((()=>new lq.CellAlignmentAction(e,n,r,i)))})),e.addHook("beforeFilter",((e,n)=>{t.done((()=>new lq.FiltersAction(e,n)))})),e.addHook("beforeRowMove",((e,n)=>{!1!==e&&t.done((()=>new lq.RowMoveAction(e,n)))})),e.addHook("beforeColumnMove",((e,n)=>{!1!==e&&t.done((()=>new lq.ColumnMoveAction(e,n)))})),e.addHook("beforeMergeCells",((n,r)=>{r||t.done((()=>new lq.MergeCellsAction(e,n)))})),e.addHook("afterUnmergeCells",((n,r)=>{r||t.done((()=>new lq.UnmergeCellsAction(e,n)))})),e.addHook("beforeColumnSort",((e,n,r)=>{r&&t.done((()=>new lq.ColumnSortAction(e,n)))})),e.addHook("afterInit",(()=>{t.init()}))}lq.prototype.done=function(e,t){if(this.ignoreNewActions)return;const n="UndoRedo.undo"===t||"UndoRedo.redo"===t||"auto"===t;if(n)return;const r=this.doneActions.slice(),i=this.instance.runHooks("beforeUndoStackChange",r,t);if(!1===i)return;const o=e(),s=this.undoneActions.slice();this.doneActions.push(o),this.instance.runHooks("afterUndoStackChange",r,this.doneActions.slice()),this.instance.runHooks("beforeRedoStackChange",s),this.undoneActions.length=0,this.instance.runHooks("afterRedoStackChange",s,this.undoneActions.slice())},lq.prototype.undo=function(){if(this.isUndoAvailable()){const e=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",e);const t=this.doneActions.pop();this.instance.runHooks("afterUndoStackChange",e,this.doneActions.slice());const n=vn(t),r=this.instance.runHooks("beforeUndo",n);if(!1===r)return;this.ignoreNewActions=!0;const i=this,o=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",o),t.undo(this.instance,(()=>{i.ignoreNewActions=!1,i.undoneActions.push(t)})),this.instance.runHooks("afterRedoStackChange",o,this.undoneActions.slice()),this.instance.runHooks("afterUndo",n)}},lq.prototype.redo=function(){if(this.isRedoAvailable()){const e=this.undoneActions.slice();this.instance.runHooks("beforeRedoStackChange",e);const t=this.undoneActions.pop();this.instance.runHooks("afterRedoStackChange",e,this.undoneActions.slice());const n=vn(t),r=this.instance.runHooks("beforeRedo",n);if(!1===r)return;this.ignoreNewActions=!0;const i=this,o=this.doneActions.slice();this.instance.runHooks("beforeUndoStackChange",o),t.redo(this.instance,(()=>{i.ignoreNewActions=!1,i.doneActions.push(t)})),this.instance.runHooks("afterUndoStackChange",o,this.doneActions.slice()),this.instance.runHooks("afterRedo",n)}},lq.prototype.isUndoAvailable=function(){return this.doneActions.length>0},lq.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},lq.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},lq.prototype.isEnabled=function(){return this.enabled},lq.prototype.enable=function(){if(this.isEnabled())return;const e=this.instance;this.enabled=!0,dq(e),this.registerShortcuts(),e.addHook("afterChange",hq)},lq.prototype.disable=function(){if(!this.isEnabled())return;const e=this.instance;this.enabled=!1,fq(e),this.unregisterShortcuts(),e.removeHook("afterChange",hq)},lq.prototype.destroy=function(){this.clear(),this.instance=null,this.doneActions=null,this.undoneActions=null},lq.Action=function(){},lq.Action.prototype.undo=function(){},lq.Action.prototype.redo=function(){},lq.ChangeAction=function(e,t){this.changes=e,this.selected=t,this.actionType="change"},pn(lq.ChangeAction,lq.Action),lq.ChangeAction.prototype.undo=function(e,t){const n=vn(this.changes),r=e.countEmptyRows(!0),i=e.countEmptyCols(!0);for(let s=0,a=n.length;s<a;s++)n[s].splice(3,1);e.addHookOnce("afterChange",t),e.setDataAtCell(n,null,null,"UndoRedo.undo");for(let s=0,a=n.length;s<a;s++){const[t,o]=n[s];e.getSettings().minSpareRows&&t+1+e.getSettings().minSpareRows===e.countRows()&&r===e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(t+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&o+1+e.getSettings().minSpareCols===e.countCols()&&i===e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(o+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())}const o=e.getSelectedLast();if(void 0!==o){const[t,r]=n[0],[i,s]=o,a=e.view.getFirstFullyVisibleRow(),l=e.view.getFirstFullyVisibleColumn(),u=t>=a,c=r>=l,h=u&&c,d=i!==t||s!==r;if(!1===h&&!0===d){const n={row:t,col:r};!1===u&&(n.verticalSnap="top"),!1===c&&(n.horizontalSnap="start"),e.scrollViewportTo(n)}}e.selectCells(this.selected,!1,!1)},lq.ChangeAction.prototype.redo=function(e,t){const n=vn(this.changes);for(let r=0,i=n.length;r<i;r++)n[r].splice(2,1);e.addHookOnce("afterChange",t),e.setDataAtCell(n,null,null,"UndoRedo.redo"),this.selected&&e.selectCells(this.selected,!1,!1)},lq.CreateRowAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_row"},pn(lq.CreateRowAction,lq.Action),lq.CreateRowAction.prototype.undo=function(e,t){const n=e.countRows(),r=e.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},lq.CreateRowAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateRow",t),e.alter("insert_row_above",this.index,this.amount,"UndoRedo.redo")},lq.RemoveRowAction=function(e,t,n,r,i,o){this.index=e,this.data=t,this.actionType="remove_row",this.fixedRowsBottom=n,this.fixedRowsTop=r,this.rowIndexesSequence=i,this.removedCellMetas=o},pn(lq.RemoveRowAction,lq.Action),lq.RemoveRowAction.prototype.undo=function(e,t){const n=e.getSettings(),r=[];n.fixedRowsBottom=this.fixedRowsBottom,n.fixedRowsTop=this.fixedRowsTop,this.data.forEach(((e,t)=>{Object.keys(e).forEach((n=>{const i=parseInt(n,10);r.push([this.index+t,isNaN(i)?n:i,e[n]])}))})),e.alter("insert_row_above",this.index,this.data.length,"UndoRedo.undo"),this.removedCellMetas.forEach((t=>{let[n,r,i]=t;e.setCellMetaObject(n,r,i)})),e.addHookOnce("afterViewRender",t),e.setSourceDataAtCell(r,null,null,"UndoRedo.undo"),e.rowIndexMapper.setIndexesSequence(this.rowIndexesSequence)},lq.RemoveRowAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveRow",t),e.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},lq.CreateColumnAction=function(e,t){this.index=e,this.amount=t,this.actionType="insert_col"},pn(lq.CreateColumnAction,lq.Action),lq.CreateColumnAction.prototype.undo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},lq.CreateColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterCreateCol",t),e.alter("insert_col_start",this.index,this.amount,"UndoRedo.redo")},lq.RemoveColumnAction=function(e,t,n,r,i,o,s,a){this.index=e,this.indexes=t,this.data=n,this.amount=this.data[0].length,this.headers=r,this.columnPositions=i.slice(0),this.rowPositions=o.slice(0),this.actionType="remove_col",this.fixedColumnsStart=s,this.removedCellMetas=a},pn(lq.RemoveColumnAction,lq.Action),lq.RemoveColumnAction.prototype.undo=function(e,t){const n=e.getSettings();n.fixedColumnsStart=this.fixedColumnsStart;const r=this.indexes.slice(0).sort(),i=(e,t,n)=>n[this.indexes.indexOf(r[t])],o=this.data.length,s=[];for(let u=0;u<o;u++)s.push(M(this.data[u],i));const a=M(this.headers,i),l=[];e.alter("insert_col_start",this.indexes[0],this.indexes.length,"UndoRedo.undo"),C(e.getSourceDataArray(),((e,t)=>{C(r,((n,r)=>{e[n]=s[t][r],l.push([t,n,e[n]])}))})),e.setSourceDataAtCell(l,void 0,void 0,"UndoRedo.undo"),"undefined"!==typeof this.headers&&C(a,((t,n)=>{e.getSettings().colHeaders[r[n]]=t})),this.removedCellMetas.forEach((t=>{let[n,r,i]=t;e.setCellMetaObject(n,r,i)})),e.batchExecution((()=>{e.rowIndexMapper.setIndexesSequence(this.rowPositions),e.columnIndexMapper.setIndexesSequence(this.columnPositions)}),!0),e.addHookOnce("afterViewRender",t),e.render()},lq.RemoveColumnAction.prototype.redo=function(e,t){e.addHookOnce("afterRemoveCol",t),e.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},lq.CellAlignmentAction=function(e,t,n,r){this.stateBefore=e,this.range=t,this.type=n,this.alignment=r},lq.CellAlignmentAction.prototype.undo=function(e,t){C(this.range,(t=>{t.forAll(((t,n)=>{t>=0&&n>=0&&e.setCellMeta(t,n,"className",this.stateBefore[t][n]||" htLeft")}))})),e.addHookOnce("afterViewRender",t),e.render()},lq.CellAlignmentAction.prototype.redo=function(e,t){kC(this.range,this.type,this.alignment,((t,n)=>e.getCellMeta(t,n)),((t,n,r,i)=>e.setCellMeta(t,n,r,i))),e.addHookOnce("afterViewRender",t),e.render()},lq.FiltersAction=function(e,t){this.previousConditionsStack=t,this.conditionsStack=e,this.actionType="filter"},pn(lq.FiltersAction,lq.Action),lq.FiltersAction.prototype.undo=function(e,t){const n=e.getPlugin("filters");e.addHookOnce("afterViewRender",t),this.previousConditionsStack&&n.conditionCollection.importAllConditions(this.previousConditionsStack),n.filter()},lq.FiltersAction.prototype.redo=function(e,t){const n=e.getPlugin("filters");e.addHookOnce("afterViewRender",t),n.conditionCollection.importAllConditions(this.conditionsStack),n.filter()};class uq extends lq.Action{constructor(e,t){super(),this.cellRange=t;const n=this.cellRange.getTopStartCorner(),r=this.cellRange.getBottomEndCorner();this.rangeData=e.getData(n.row,n.col,r.row,r.col)}undo(e,t){const n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",t),n.unmergeRange(this.cellRange,!0);const r=this.cellRange.getTopStartCorner();e.populateFromArray(r.row,r.col,this.rangeData,void 0,void 0,"MergeCells")}redo(e,t){const n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",t),n.mergeRange(this.cellRange)}}lq.MergeCellsAction=uq;class cq extends lq.Action{constructor(e,t){super(),this.cellRange=t}undo(e,t){const n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",t),n.mergeRange(this.cellRange,!0)}redo(e,t){const n=e.getPlugin("mergeCells");e.addHookOnce("afterViewRender",t),n.unmergeRange(this.cellRange,!0),e.render()}}function hq(e,t){const n=this;if("loadData"===t)return n.undoRedo.clear()}function dq(e){e.undo=function(){return e.undoRedo.undo()},e.redo=function(){return e.undoRedo.redo()},e.isUndoAvailable=function(){return e.undoRedo.isUndoAvailable()},e.isRedoAvailable=function(){return e.undoRedo.isRedoAvailable()},e.clearUndo=function(){return e.undoRedo.clear()}}function fq(e){delete e.undo,delete e.redo,delete e.isUndoAvailable,delete e.isRedoAvailable,delete e.clearUndo}lq.UnmergeCellsAction=cq,lq.RowMoveAction=function(e,t){this.rows=e.slice(),this.finalRowIndex=t,this.actionType="row_move"},pn(lq.RowMoveAction,lq.Action),lq.RowMoveAction.prototype.undo=function(e,t){const n=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",t);const r=zD(this.rows,this.finalRowIndex,e.rowIndexMapper.getNumberOfIndexes());r.reverse().forEach((e=>{let{from:t,to:r}=e;t<r&&(r-=1),n.moveRow(r,t)})),e.render(),e.deselectCell(),e.selectRows(this.rows[0],this.rows[0]+this.rows.length-1)},lq.RowMoveAction.prototype.redo=function(e,t){const n=e.getPlugin("manualRowMove");e.addHookOnce("afterViewRender",t),n.moveRows(this.rows.slice(),this.finalRowIndex),e.render(),e.deselectCell(),e.selectRows(this.finalRowIndex,this.finalRowIndex+this.rows.length-1)},lq.ColumnMoveAction=function(e,t){this.columns=e.slice(),this.finalColumnIndex=t,this.actionType="col_move"},pn(lq.ColumnMoveAction,lq.Action),lq.ColumnMoveAction.prototype.undo=function(e,t){const n=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",t);const r=zD(this.columns,this.finalColumnIndex,e.columnIndexMapper.getNumberOfIndexes());r.reverse().forEach((e=>{let{from:t,to:r}=e;t<r&&(r-=1),n.moveColumn(r,t)})),e.render(),e.deselectCell(),e.selectColumns(this.columns[0],this.columns[0]+this.columns.length-1)},lq.ColumnMoveAction.prototype.redo=function(e,t){const n=e.getPlugin("manualColumnMove");e.addHookOnce("afterViewRender",t),n.moveColumns(this.columns.slice(),this.finalColumnIndex),e.render(),e.deselectCell(),e.selectColumns(this.finalColumnIndex,this.finalColumnIndex+this.columns.length-1)},lq.ColumnSortAction=function(e,t){this.previousSortState=e,this.nextSortState=t},pn(lq.ColumnSortAction,lq.Action),lq.ColumnSortAction.prototype.undo=function(e,t){const n=e.getPlugin("columnSorting"),r=e.getPlugin("multiColumnSorting"),i=r.isEnabled()?r:n;this.previousSortState.length?i.sort(this.previousSortState):i.clearSort(),t()},lq.ColumnSortAction.prototype.redo=function(e,t){const n=e.getPlugin("columnSorting"),r=e.getPlugin("multiColumnSorting"),i=r.isEnabled()?r:n;i.sort(this.nextSortState),t()},lq.prototype.init=function(){const e=this.instance.getSettings().undo,t="undefined"===typeof e||e;this.instance.undoRedo||(this.instance.undoRedo=this),t?this.instance.undoRedo.enable():this.instance.undoRedo.disable()},lq.prototype.registerShortcuts=function(){const e=this.instance.getShortcutManager(),t=e.getContext("grid"),n=e=>!e.altKey,r={runOnlyIf:n,group:sq};t.addShortcuts([{keys:[["Control/Meta","z"]],callback:()=>{this.undo()}},{keys:[["Control/Meta","y"],["Control/Meta","Shift","z"]],callback:()=>{this.redo()}}],r)},lq.prototype.unregisterShortcuts=function(){const e=this.instance.getShortcutManager(),t=e.getContext("grid");t.removeShortcutsByGroup(sq)};const pq=Mr.getSingleton();pq.add("afterUpdateSettings",(function(){var e;null===(e=this.getPlugin("undoRedo"))||void 0===e||e.init()})),pq.register("beforeUndo"),pq.register("afterUndo"),pq.register("beforeRedo"),pq.register("afterRedo"),lq.PLUGIN_KEY=aq,lq.SETTING_KEYS=!0;var mq,gq,vq,yq,bq,wq=lq;function _q(){Zi(xE),Zi(JE),Zi(vS),Zi(GS),Zi(hT),Zi(_M),Zi(jM),Zi(cR),Zi(uA),Zi(sN),Zi(zN),Zi(rL),Zi(wL),Zi(XL),Zi(sD),Zi(FF),Zi(_H),Zi(jH),Zi(sU),Zi(qU),Zi(RB),Zi(vj),Zi(Xj),Zi(TV),Zi(cW),Zi(gW),Zi(Uz),Zi(qG),Zi(_$),Zi(I$),Zi(z$),Zi(iq),Zi(wq)}function Eq(){Tw(),i_(),b_(),B_(),_q()}function Sq(e){const t="undefined"!==typeof window&&window.jQuery;t&&(t.fn.handsontable=function(t){const n=this.first();let r,i=n.data("handsontable");if("string"!==typeof t){const r=t||{};return i?i.updateSettings(r):(i=new e.Core(n[0],r),n.data("handsontable",i),i.init()),n}if(i){if("undefined"===typeof i[t])throw new Error(`Handsontable do not provide action: ${t}`);for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];r=i[t].call(i,...s),"destroy"===t&&n.removeData()}return r})}Eq(),Sq(pb),pb.__GhostTable=aE,pb._getListenersCounter=zr,pb._getRegisteredMapsCounter=Jh,pb.EventManager=Wr;const Tq=[r,c,m,v,u,a,i,p,l,o,h,f],Mq=[s,d];pb.helper={},pb.dom={},C(Tq,(e=>{C(Object.getOwnPropertyNames(e),(t=>{"_"!==t.charAt(0)&&(pb.helper[t]=e[t])}))})),C(Mq,(e=>{C(Object.getOwnPropertyNames(e),(t=>{"_"!==t.charAt(0)&&(pb.dom[t]=e[t])}))})),pb.cellTypes=null!==(mq=pb.cellTypes)&&void 0!==mq?mq:{},C(sg(),(e=>{pb.cellTypes[e]=lg(e)})),pb.cellTypes.registerCellType=ug,pb.cellTypes.getCellType=lg,pb.editors=null!==(gq=pb.editors)&&void 0!==gq?gq:{},C(kr(),(e=>{pb.editors[`${ne(e)}Editor`]=Dr(e)})),pb.editors.registerEditor=Fr,pb.editors.getEditor=Dr,pb.renderers=null!==(vq=pb.renderers)&&void 0!==vq?vq:{},C(oo(),(e=>{const t=ao(e);"base"===e&&(pb.renderers.cellDecorator=t),pb.renderers[`${ne(e)}Renderer`]=t})),pb.renderers.registerRenderer=lo,pb.renderers.getRenderer=ao,pb.validators=null!==(yq=pb.validators)&&void 0!==yq?yq:{},C(fo(),(e=>{pb.validators[`${ne(e)}Validator`]=mo(e)})),pb.validators.registerValidator=go,pb.validators.getValidator=mo,pb.plugins=null!==(bq=pb.plugins)&&void 0!==bq?bq:{},C(Xi(),(e=>{pb.plugins[e]=Ji(e)})),pb.plugins[`${ne(tE.PLUGIN_KEY)}Plugin`]=tE,pb.plugins.registerPlugin=Zi,pb.plugins.getPlugin=Ji;var Cq=pb},37619:function(e,t,n){"use strict";var r=n(68404);
/**
 * @preserve
 * Authors: Alexey Rogachev
 * Last updated: Feb 28, 2018
 *
 * Description: Definition file for Russian - Russia language-country.
 */const i=r.Ay.languages.dictionaryKeys,o={languageCode:"ru-RU",[i.CONTEXTMENU_ITEMS_ROW_ABOVE]:"  ",[i.CONTEXTMENU_ITEMS_ROW_BELOW]:"  ",[i.CONTEXTMENU_ITEMS_INSERT_LEFT]:"  ",[i.CONTEXTMENU_ITEMS_INSERT_RIGHT]:"  ",[i.CONTEXTMENU_ITEMS_REMOVE_ROW]:[" "," "],[i.CONTEXTMENU_ITEMS_REMOVE_COLUMN]:[" "," "],[i.CONTEXTMENU_ITEMS_UNDO]:"",[i.CONTEXTMENU_ITEMS_REDO]:"",[i.CONTEXTMENU_ITEMS_READ_ONLY]:"  ",[i.CONTEXTMENU_ITEMS_CLEAR_COLUMN]:" ",[i.CONTEXTMENU_ITEMS_ALIGNMENT]:"",[i.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT]:"  ",[i.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER]:" ",[i.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT]:"  ",[i.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY]:" ",[i.CONTEXTMENU_ITEMS_ALIGNMENT_TOP]:"  ",[i.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE]:" ",[i.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM]:"  ",[i.CONTEXTMENU_ITEMS_FREEZE_COLUMN]:" ",[i.CONTEXTMENU_ITEMS_UNFREEZE_COLUMN]:" ",[i.CONTEXTMENU_ITEMS_BORDERS]:"",[i.CONTEXTMENU_ITEMS_BORDERS_TOP]:"",[i.CONTEXTMENU_ITEMS_BORDERS_RIGHT]:"",[i.CONTEXTMENU_ITEMS_BORDERS_BOTTOM]:"",[i.CONTEXTMENU_ITEMS_BORDERS_LEFT]:"",[i.CONTEXTMENU_ITEMS_REMOVE_BORDERS]:" ()",[i.CONTEXTMENU_ITEMS_ADD_COMMENT]:" ",[i.CONTEXTMENU_ITEMS_EDIT_COMMENT]:" ",[i.CONTEXTMENU_ITEMS_REMOVE_COMMENT]:" ",[i.CONTEXTMENU_ITEMS_READ_ONLY_COMMENT]:"   ",[i.CONTEXTMENU_ITEMS_MERGE_CELLS]:" ",[i.CONTEXTMENU_ITEMS_UNMERGE_CELLS]:" ",[i.CONTEXTMENU_ITEMS_COPY]:"",[i.CONTEXTMENU_ITEMS_CUT]:"",[i.CONTEXTMENU_ITEMS_NESTED_ROWS_INSERT_CHILD]:"  ",[i.CONTEXTMENU_ITEMS_NESTED_ROWS_DETACH_CHILD]:"  ",[i.CONTEXTMENU_ITEMS_HIDE_COLUMN]:[" "," "],[i.CONTEXTMENU_ITEMS_SHOW_COLUMN]:[" "," "],[i.CONTEXTMENU_ITEMS_HIDE_ROW]:[" "," "],[i.CONTEXTMENU_ITEMS_SHOW_ROW]:[" "," "],[i.FILTERS_CONDITIONS_NONE]:"",[i.FILTERS_CONDITIONS_EMPTY]:"",[i.FILTERS_CONDITIONS_NOT_EMPTY]:" ",[i.FILTERS_CONDITIONS_EQUAL]:"",[i.FILTERS_CONDITIONS_NOT_EQUAL]:" ",[i.FILTERS_CONDITIONS_BEGINS_WITH]:" ",[i.FILTERS_CONDITIONS_ENDS_WITH]:" ",[i.FILTERS_CONDITIONS_CONTAINS]:"",[i.FILTERS_CONDITIONS_NOT_CONTAIN]:" ",[i.FILTERS_CONDITIONS_GREATER_THAN]:" ",[i.FILTERS_CONDITIONS_GREATER_THAN_OR_EQUAL]:"  ",[i.FILTERS_CONDITIONS_LESS_THAN]:" ",[i.FILTERS_CONDITIONS_LESS_THAN_OR_EQUAL]:"  ",[i.FILTERS_CONDITIONS_BETWEEN]:"",[i.FILTERS_CONDITIONS_NOT_BETWEEN]:" ",[i.FILTERS_CONDITIONS_AFTER]:"",[i.FILTERS_CONDITIONS_BEFORE]:"",[i.FILTERS_CONDITIONS_TODAY]:"",[i.FILTERS_CONDITIONS_TOMORROW]:"",[i.FILTERS_CONDITIONS_YESTERDAY]:"",[i.FILTERS_VALUES_BLANK_CELLS]:" ",[i.FILTERS_DIVS_FILTER_BY_CONDITION]:"  ",[i.FILTERS_DIVS_FILTER_BY_VALUE]:"  ",[i.FILTERS_LABELS_CONJUNCTION]:"",[i.FILTERS_LABELS_DISJUNCTION]:"",[i.FILTERS_BUTTONS_SELECT_ALL]:" ",[i.FILTERS_BUTTONS_CLEAR]:"",[i.FILTERS_BUTTONS_OK]:"OK",[i.FILTERS_BUTTONS_CANCEL]:"",[i.FILTERS_BUTTONS_PLACEHOLDER_SEARCH]:"",[i.FILTERS_BUTTONS_PLACEHOLDER_VALUE]:"",[i.FILTERS_BUTTONS_PLACEHOLDER_SECOND_VALUE]:" "};r.Ay.languages.registerLanguageDictionary(o)},45248:function(e,t,n){"use strict";n.d(t,{A:function(){return T}});let r=36,i="";while(r--)i+=r.toString(36);function o(e=11){let t="",n=e;while(n--)t+=i[36*Math.random()|0];return t}const s=e=>e.replace(/[|\\{}()[\]^$+*?.-]/g,(e=>`\\${e}`)),a=e=>e.replace(/\s{2,}/g," ").split(" ").join("|"),l=({terms:e,matchExactly:t=!1})=>{if("string"!==typeof e)throw new TypeError("Expected a string");const n=s(e.trim());return`(${t?n:a(n)})`},u=({terms:e,matchExactly:t=!1})=>{try{const n=/^([/~@;%#'])(.*?)\1([gimsuy]*)$/.exec(e);return n?new RegExp(n[2],n[3]):new RegExp(l({terms:e,matchExactly:t}),"ig")}catch(n){throw new TypeError("Expected terms to be either a string or a RegExp!")}},c=e=>t=>null!==t&&"object"===typeof t&&e in t,h=c("match"),d=e=>"undefined"!==typeof e;function f({curr:e,next:t,prev:n,clipBy:r=3}){const i=e.text.split(" "),o=i.length;if(e.match||r>=o)return e.text;const s="...";return d(t)&&d(n)&&h(n)&&h(t)?o>2*r?[...i.slice(0,r),s,...i.slice(-r)].join(" "):e.text:d(t)&&h(t)?[s,...i.slice(-r)].join(" "):d(n)&&h(n)?[...i.slice(0,r),s].join(" "):e.text}var p=Object.defineProperty,m=Object.defineProperties,g=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&w(e,n,t[n]);if(v)for(var n of v(t))b.call(t,n)&&w(e,n,t[n]);return e},E=(e,t)=>m(e,g(t));const S=e=>e.length>0,T=({text:e,query:t,clipBy:n,matchExactly:r=!1})=>{const i="string"===typeof t?t.trim():t;if(""===i)return[{key:o(),text:e,match:!1}];const s=u({terms:t,matchExactly:r});return e.split(s).filter(S).map((e=>({key:o(),text:e,match:r?e.toLowerCase()===i.toLowerCase():s.test(e)}))).map(((e,t,r)=>_(_({},e),"number"===typeof n&&{text:f(E(_(_({curr:e},t<r.length-1&&{next:r[t+1]}),t>0&&{prev:r[t-1]}),{clipBy:n}))})))}},7302:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:function(){return r}})},74663:function(e,t){"use strict";function n(e,t){return t[e%10===1&&e%100!==11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2]}t.A={isoName:"ru",nativeName:"",label:{clear:"",ok:"OK",cancel:"",close:"",set:"",select:"",reset:"",remove:"",update:"",create:"",search:"",filter:"",refresh:"",expand:e=>e?` "${e}"`:"",collapse:e=>e?` "${e}"`:""},date:{days:"______".split("_"),daysShort:"______".split("_"),months:"___________".split("_"),monthsShort:"___________".split("_"),firstDayOfWeek:1,format24h:!0,pluralDay:""},table:{noData:" ",noResults:"  ",loading:"...",selectedRecords:e=>e>0?e+" "+n(e,[" "," "," "])+".":"    .",recordsPerPage:"  :",allRows:"",pagination:(e,t,n)=>e+"-"+t+"  "+n,columns:""},editor:{url:"URL",bold:"",italic:"",strikethrough:"",underline:"",unorderedList:" ",orderedList:" ",subscript:"",superscript:"",hyperlink:"",toggleFullscreen:" ",quote:"",left:"   ",center:"  ",right:"   ",justify:"  ",print:"",outdent:" ",indent:" ",removeFormat:" ",formatting:"",fontSize:" ",align:"",hr:"  ",undo:"",redo:"",heading1:" 1",heading2:" 2",heading3:" 3",heading4:" 4",heading5:" 5",heading6:" 6",paragraph:"",code:"",size1:" ",size2:"",size3:"",size4:"",size5:"",size6:" ",size7:"",defaultFont:"  ",viewSource:"  "},tree:{noNodes:"  ",noResults:"  "}}},43197:function(e,t,n){"use strict";n.d(t,{A:function(){return A}});n(84645);var r=n(74220),i=n(46732),o=n(39798),s=n(64503),a=n(6119),l=n(95408),u=n(8817),c=n(48313),h=n(95005);const d={none:0,xs:4,sm:8,md:16,lg:24,xl:32},f={xs:8,sm:10,md:14,lg:20,xl:24},p=["button","submit","reset"],m=/[^\s]\/[^\s]/,g=["flat","outline","push","unelevated"];function v(e,t){return!0===e.flat?"flat":!0===e.outline?"outline":!0===e.push?"push":!0===e.unelevated?"unelevated":t}const y={...c.x_,...h.ni,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...g.reduce(((e,t)=>(e[t]=Boolean)&&e),{}),square:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...u.fR.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean},b={...y,round:Boolean};function w(e){const t=(0,c.Ay)(e,f),n=(0,u.Ay)(e),{hasRouterLink:i,hasLink:o,linkTag:s,linkAttrs:a,navigateOnClick:l}=(0,h.Ay)({fallbackTag:"button"}),g=(0,r.EW)((()=>{const n=!1===e.fab&&!1===e.fabMini?t.value:{};return void 0!==e.padding?Object.assign({},n,{padding:e.padding.split(/\s+/).map((e=>e in d?d[e]+"px":e)).join(" "),minWidth:"0",minHeight:"0"}):n})),y=(0,r.EW)((()=>!0===e.rounded||!0===e.fab||!0===e.fabMini)),b=(0,r.EW)((()=>!0!==e.disable&&!0!==e.loading)),w=(0,r.EW)((()=>!0===b.value?e.tabindex||0:-1)),_=(0,r.EW)((()=>v(e,"standard"))),E=(0,r.EW)((()=>{const t={tabindex:w.value};return!0===o.value?Object.assign(t,a.value):!0===p.includes(e.type)&&(t.type=e.type),"a"===s.value?(!0===e.disable?t["aria-disabled"]="true":void 0===t.href&&(t.role="button"),!0!==i.value&&!0===m.test(e.type)&&(t.type=e.type)):!0===e.disable&&(t.disabled="",t["aria-disabled"]="true"),!0===e.loading&&void 0!==e.percentage&&Object.assign(t,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),t})),S=(0,r.EW)((()=>{let t;void 0!==e.color?t=!0===e.flat||!0===e.outline?`text-${e.textColor||e.color}`:`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(t=`text-${e.textColor}`);const n=!0===e.round?"round":"rectangle"+(!0===y.value?" q-btn--rounded":!0===e.square?" q-btn--square":"");return`q-btn--${_.value} q-btn--${n}`+(void 0!==t?" "+t:"")+(!0===b.value?" q-btn--actionable q-focusable q-hoverable":!0===e.disable?" disabled":"")+(!0===e.fab?" q-btn--fab":!0===e.fabMini?" q-btn--fab-mini":"")+(!0===e.noCaps?" q-btn--no-uppercase":"")+(!0===e.dense?" q-btn--dense":"")+(!0===e.stretch?" no-border-radius self-stretch":"")+(!0===e.glossy?" glossy":"")+(e.square?" q-btn--square":"")})),T=(0,r.EW)((()=>n.value+(!0===e.stack?" column":" row")+(!0===e.noWrap?" no-wrap text-no-wrap":"")+(!0===e.loading?" q-btn__content--hidden":"")));return{classes:S,style:g,innerClasses:T,attributes:E,hasLink:o,linkTag:s,navigateOnClick:l,isActionable:b}}var _=n(99140),E=n(41952),S=n(15055),T=n(37031);const{passiveCapture:M}=S.mG;let C=null,R=null,x=null;var A=(0,_.a0)({name:"QBtn",props:{...b,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:u}=(0,r.nI)(),{classes:c,style:h,innerClasses:d,attributes:f,hasLink:p,linkTag:m,navigateOnClick:g,isActionable:v}=w(e),y=(0,i.KR)(null),b=(0,i.KR)(null);let _,A=null,N=null;const L=(0,r.EW)((()=>void 0!==e.label&&null!==e.label&&""!==e.label)),k=(0,r.EW)((()=>!0!==e.disable&&!1!==e.ripple&&{keyCodes:!0===p.value?[13,32]:[13],...!0===e.ripple?{}:e.ripple})),O=(0,r.EW)((()=>({center:e.round}))),I=(0,r.EW)((()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}})),P=(0,r.EW)((()=>{if(!0===e.loading)return{onMousedown:V,onTouchstart:V,onClick:V,onKeydown:V,onKeyup:V};if(!0===v.value){const t={onClick:F,onKeydown:H,onMousedown:B};if(!0===u.$q.platform.has.touch){const n=void 0!==e.onTouchstart?"":"Passive";t[`onTouchstart${n}`]=U}return t}return{onClick:S.Gu}})),D=(0,r.EW)((()=>({ref:y,class:"q-btn q-btn-item non-selectable no-outline "+c.value,style:h.value,...f.value,...P.value})));function F(t){if(null!==y.value){if(void 0!==t){if(!0===t.defaultPrevented)return;const n=document.activeElement;if("submit"===e.type&&n!==document.body&&!1===y.value.contains(n)&&!1===n.contains(y.value)){y.value.focus();const e=()=>{document.removeEventListener("keydown",S.Gu,!0),document.removeEventListener("keyup",e,M),null!==y.value&&y.value.removeEventListener("blur",e,M)};document.addEventListener("keydown",S.Gu,!0),document.addEventListener("keyup",e,M),y.value.addEventListener("blur",e,M)}}g(t)}}function H(e){null!==y.value&&(n("keydown",e),!0===(0,T.Dv)(e,[13,32])&&R!==y.value&&(null!==R&&Y(),!0!==e.defaultPrevented&&(y.value.focus(),R=y.value,y.value.classList.add("q-btn--active"),document.addEventListener("keyup",j,!0),y.value.addEventListener("blur",j,M)),(0,S.Gu)(e)))}function U(e){null!==y.value&&(n("touchstart",e),!0!==e.defaultPrevented&&(C!==y.value&&(null!==C&&Y(),C=y.value,A=e.target,A.addEventListener("touchcancel",j,M),A.addEventListener("touchend",j,M)),_=!0,null!==N&&clearTimeout(N),N=setTimeout((()=>{N=null,_=!1}),200)))}function B(e){null!==y.value&&(e.qSkipRipple=!0===_,n("mousedown",e),!0!==e.defaultPrevented&&x!==y.value&&(null!==x&&Y(),x=y.value,y.value.classList.add("q-btn--active"),document.addEventListener("mouseup",j,M)))}function j(e){if(null!==y.value&&(void 0===e||"blur"!==e.type||document.activeElement!==y.value)){if(void 0!==e&&"keyup"===e.type){if(R===y.value&&!0===(0,T.Dv)(e,[13,32])){const t=new MouseEvent("click",e);t.qKeyEvent=!0,!0===e.defaultPrevented&&(0,S.F4)(t),!0===e.cancelBubble&&(0,S.ds)(t),y.value.dispatchEvent(t),(0,S.Gu)(e),e.qKeyEvent=!0}n("keyup",e)}Y()}}function Y(e){const t=b.value;!0===e||C!==y.value&&x!==y.value||null===t||t===document.activeElement||(t.setAttribute("tabindex",-1),t.focus()),C===y.value&&(null!==A&&(A.removeEventListener("touchcancel",j,M),A.removeEventListener("touchend",j,M)),C=A=null),x===y.value&&(document.removeEventListener("mouseup",j,M),x=null),R===y.value&&(document.removeEventListener("keyup",j,!0),null!==y.value&&y.value.removeEventListener("blur",j,M),R=null),null!==y.value&&y.value.classList.remove("q-btn--active")}function V(e){(0,S.Gu)(e),e.qSkipRipple=!0}return(0,r.xo)((()=>{Y(!0)})),Object.assign(u,{click:e=>{!0===v.value&&F(e)}}),()=>{let n=[];void 0!==e.icon&&n.push((0,r.h)(s.A,{name:e.icon,left:!0!==e.stack&&!0===L.value,role:"img","aria-hidden":"true"})),!0===L.value&&n.push((0,r.h)("span",{class:"block"},[e.label])),n=(0,E.Hp)(t.default,n),void 0!==e.iconRight&&!1===e.round&&n.push((0,r.h)(s.A,{name:e.iconRight,right:!0!==e.stack&&!0===L.value,role:"img","aria-hidden":"true"}));const i=[(0,r.h)("span",{class:"q-focus-helper",ref:b})];return!0===e.loading&&void 0!==e.percentage&&i.push((0,r.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"+(!0===e.darkPercentage?" q-btn__progress--dark":"")},[(0,r.h)("span",{class:"q-btn__progress-indicator fit block",style:I.value})])),i.push((0,r.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+d.value},n)),null!==e.loading&&i.push((0,r.h)(o.eB,{name:"q-transition--fade"},(()=>!0===e.loading?[(0,r.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==t.loading?t.loading():[(0,r.h)(a.A)])]:null))),(0,r.bo)((0,r.h)(m.value,D.value,i),[[l.A,k.value,void 0,O.value]])}}})},63663:function(e,t,n){"use strict";var r=n(74220),i=n(15471),o=n(99140),s=n(41952);t.A=(0,o.a0)({name:"QCard",props:{...i.C,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.nI)(),o=(0,i.A)(e,n),a=(0,r.EW)((()=>"q-card"+(!0===o.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,r.h)(e.tag,{class:a.value},(0,s.zm)(t.default))}})},71248:function(e,t,n){"use strict";var r=n(74220),i=n(8817),o=n(99140),s=n(41952);t.A=(0,o.a0)({name:"QCardActions",props:{...i.fR,vertical:Boolean},setup(e,{slots:t}){const n=(0,i.Ay)(e),o=(0,r.EW)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===e.vertical?"vert column":"horiz row")));return()=>(0,r.h)("div",{class:o.value},(0,s.zm)(t.default))}})},17180:function(e,t,n){"use strict";var r=n(74220),i=n(99140),o=n(41952);t.A=(0,i.a0)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=(0,r.EW)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,r.h)(e.tag,{class:n.value},(0,o.zm)(t.default))}})},33304:function(e,t,n){"use strict";n(84645);var r=n(74220),i=n(99140),o=n(13246);t.A=(0,i.a0)({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const n=(0,r.EW)((()=>!0===e.sent?"sent":"received")),i=(0,r.EW)((()=>`q-message-text-content q-message-text-content--${n.value}`+(void 0!==e.textColor?` text-${e.textColor}`:""))),s=(0,r.EW)((()=>`q-message-text q-message-text--${n.value}`+(void 0!==e.bgColor?` text-${e.bgColor}`:""))),a=(0,r.EW)((()=>"q-message-container row items-end no-wrap"+(!0===e.sent?" reverse":""))),l=(0,r.EW)((()=>void 0!==e.size?`col-${e.size}`:"")),u=(0,r.EW)((()=>({msg:!0===e.textHtml?"innerHTML":"textContent",stamp:!0===e.stampHtml?"innerHTML":"textContent",name:!0===e.nameHtml?"innerHTML":"textContent",label:!0===e.labelHtml?"innerHTML":"textContent"})));function c(n){return void 0!==t.stamp?[n,(0,r.h)("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[n,(0,r.h)("div",{class:"q-message-stamp",[u.value.stamp]:e.stamp})]:[n]}function h(e,t){const n=!0===t?e.length>1?e=>e:e=>(0,r.h)("div",[e]):e=>(0,r.h)("div",{[u.value.msg]:e});return e.map(((e,t)=>(0,r.h)("div",{key:t,class:s.value},[(0,r.h)("div",{class:i.value},c(n(e)))])))}return()=>{const i=[];void 0!==t.avatar?i.push(t.avatar()):void 0!==e.avatar&&i.push((0,r.h)("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:e.avatar,"aria-hidden":"true"}));const s=[];void 0!==t.name?s.push((0,r.h)("div",{class:`q-message-name q-message-name--${n.value}`},t.name())):void 0!==e.name&&s.push((0,r.h)("div",{class:`q-message-name q-message-name--${n.value}`,[u.value.name]:e.name})),void 0!==t.default?s.push(h((0,o.Hl)(t.default()),!0)):void 0!==e.text&&s.push(h(e.text)),i.push((0,r.h)("div",{class:l.value},s));const c=[];return void 0!==t.label?c.push((0,r.h)("div",{class:"q-message-label"},t.label())):void 0!==e.label&&c.push((0,r.h)("div",{class:"q-message-label",[u.value.label]:e.label})),c.push((0,r.h)("div",{class:a.value},i)),(0,r.h)("div",{class:`q-message q-message-${n.value}`},c)}}})},78495:function(e,t,n){"use strict";var r=n(74220),i=n(64503),o=n(99140),s=n(7563);const a=(0,r.h)("div",{key:"svg",class:"q-checkbox__bg absolute"},[(0,r.h)("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[(0,r.h)("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),(0,r.h)("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);t.A=(0,o.a0)({name:"QCheckbox",props:s.jh,emits:s.LA,setup(e){function t(t,n){const o=(0,r.EW)((()=>(!0===t.value?e.checkedIcon:!0===n.value?e.indeterminateIcon:e.uncheckedIcon)||null));return()=>null!==o.value?[(0,r.h)("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[(0,r.h)(i.A,{class:"q-checkbox__icon",name:o.value})])]:[a]}return(0,s.Ay)("checkbox",t)}})},7563:function(e,t,n){"use strict";n.d(t,{Ay:function(){return p},LA:function(){return f},jh:function(){return d}});n(84645);var r=n(74220),i=n(46732),o=n(15471),s=n(48313);function a(e,t){const n=(0,i.KR)(null),o=(0,r.EW)((()=>!0===e.disable?null:(0,r.h)("span",{ref:n,class:"no-outline",tabindex:-1})));function s(e){const r=t.value;void 0!==e&&0===e.type.indexOf("key")?null!==r&&document.activeElement!==r&&!0===r.contains(document.activeElement)&&r.focus():null!==n.value&&(void 0===e||null!==r&&!0===r.contains(e.target))&&n.value.focus()}return{refocusTargetEl:o,refocusTarget:s}}var l=n(43749),u={xs:30,sm:35,md:40,lg:50,xl:60},c=n(15055),h=n(41952);const d={...o.C,...s.x_,...l.Sc,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>"tf"===e||"ft"===e},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},f=["update:modelValue"];function p(e,t){const{props:n,slots:d,emit:f,proxy:p}=(0,r.nI)(),{$q:m}=p,g=(0,o.A)(n,m),v=(0,i.KR)(null),{refocusTargetEl:y,refocusTarget:b}=a(n,v),w=(0,s.Ay)(n,u),_=(0,r.EW)((()=>void 0!==n.val&&Array.isArray(n.modelValue))),E=(0,r.EW)((()=>{const e=(0,i.ux)(n.val);return!0===_.value?n.modelValue.findIndex((t=>(0,i.ux)(t)===e)):-1})),S=(0,r.EW)((()=>!0===_.value?-1!==E.value:(0,i.ux)(n.modelValue)===(0,i.ux)(n.trueValue))),T=(0,r.EW)((()=>!0===_.value?-1===E.value:(0,i.ux)(n.modelValue)===(0,i.ux)(n.falseValue))),M=(0,r.EW)((()=>!1===S.value&&!1===T.value)),C=(0,r.EW)((()=>!0===n.disable?-1:n.tabindex||0)),R=(0,r.EW)((()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(!0===n.disable?" disabled":"")+(!0===g.value?` q-${e}--dark`:"")+(!0===n.dense?` q-${e}--dense`:"")+(!0===n.leftLabel?" reverse":""))),x=(0,r.EW)((()=>{const t=!0===S.value?"truthy":!0===T.value?"falsy":"indet",r=void 0===n.color||!0!==n.keepColor&&("toggle"===e?!0!==S.value:!0===T.value)?"":` text-${n.color}`;return`q-${e}__inner relative-position non-selectable q-${e}__inner--${t}${r}`})),A=(0,r.EW)((()=>{const e={type:"checkbox"};return void 0!==n.name&&Object.assign(e,{".checked":S.value,"^checked":!0===S.value?"checked":void 0,name:n.name,value:!0===_.value?n.val:n.trueValue}),e})),N=(0,l.vq)(A),L=(0,r.EW)((()=>{const t={tabindex:C.value,role:"toggle"===e?"switch":"checkbox","aria-label":n.label,"aria-checked":!0===M.value?"mixed":!0===S.value?"true":"false"};return!0===n.disable&&(t["aria-disabled"]="true"),t}));function k(e){void 0!==e&&((0,c.Gu)(e),b(e)),!0!==n.disable&&f("update:modelValue",O(),e)}function O(){if(!0===_.value){if(!0===S.value){const e=n.modelValue.slice();return e.splice(E.value,1),e}return n.modelValue.concat([n.val])}if(!0===S.value){if("ft"!==n.toggleOrder||!1===n.toggleIndeterminate)return n.falseValue}else{if(!0!==T.value)return"ft"!==n.toggleOrder?n.trueValue:n.falseValue;if("ft"===n.toggleOrder||!1===n.toggleIndeterminate)return n.trueValue}return n.indeterminateValue}function I(e){13!==e.keyCode&&32!==e.keyCode||(0,c.Gu)(e)}function P(e){13!==e.keyCode&&32!==e.keyCode||k(e)}const D=t(S,M);return Object.assign(p,{toggle:k}),()=>{const t=D();!0!==n.disable&&N(t,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const i=[(0,r.h)("div",{class:x.value,style:w.value,"aria-hidden":"true"},t)];null!==y.value&&i.push(y.value);const o=void 0!==n.label?(0,h.Hp)(d.default,[n.label]):(0,h.zm)(d.default);return void 0!==o&&i.push((0,r.h)("div",{class:`q-${e}__label q-anchor--skip`},o)),(0,r.h)("div",{ref:v,class:R.value,...L.value,onClick:k,onKeydown:I,onKeyup:P},i)}}},97491:function(e,t,n){"use strict";n(84645);var r=n(74220),i=n(64503),o=n(95408),s=n(15471),a=n(48313),l=n(99140),u=n(15055),c=n(41952);const h={xs:8,sm:10,md:14,lg:20,xl:24};t.A=(0,l.a0)({name:"QChip",props:{...s.C,...a.x_,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:l}}=(0,r.nI)(),d=(0,s.A)(e,l),f=(0,a.Ay)(e,h),p=(0,r.EW)((()=>!0===e.selected||void 0!==e.icon)),m=(0,r.EW)((()=>!0===e.selected?e.iconSelected||l.iconSet.chip.selected:e.icon)),g=(0,r.EW)((()=>e.iconRemove||l.iconSet.chip.remove)),v=(0,r.EW)((()=>!1===e.disable&&(!0===e.clickable||null!==e.selected))),y=(0,r.EW)((()=>{const t=!0===e.outline&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(!1===e.outline&&void 0!==e.color?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(!0===e.disable?" disabled":"")+(!0===e.dense?" q-chip--dense":"")+(!0===e.outline?" q-chip--outline":"")+(!0===e.selected?" q-chip--selected":"")+(!0===v.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===e.square?" q-chip--square":"")+(!0===d.value?" q-chip--dark q-dark":"")})),b=(0,r.EW)((()=>{const t=!0===e.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},n={...t,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||l.lang.label.remove};return{chip:t,remove:n}}));function w(e){13===e.keyCode&&_(e)}function _(t){e.disable||(n("update:selected",!e.selected),n("click",t))}function E(t){void 0!==t.keyCode&&13!==t.keyCode||((0,u.Gu)(t),!1===e.disable&&(n("update:modelValue",!1),n("remove")))}function S(){const n=[];!0===v.value&&n.push((0,r.h)("div",{class:"q-focus-helper"})),!0===p.value&&n.push((0,r.h)(i.A,{class:"q-chip__icon q-chip__icon--left",name:m.value}));const o=void 0!==e.label?[(0,r.h)("div",{class:"ellipsis"},[e.label])]:void 0;return n.push((0,r.h)("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},(0,c.bG)(t.default,o))),e.iconRight&&n.push((0,r.h)(i.A,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),!0===e.removable&&n.push((0,r.h)(i.A,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...b.value.remove,onClick:E,onKeyup:E})),n}return()=>{if(!1===e.modelValue)return;const t={class:y.value,style:f.value};return!0===v.value&&Object.assign(t,b.value.chip,{onClick:_,onKeyup:w}),(0,c.Kf)("div",t,S(),"ripple",!1!==e.ripple&&!0!==e.disable,(()=>[[o.A,e.ripple]]))}}})},97633:function(e,t,n){"use strict";n.d(t,{A:function(){return I}});n(84645);var r=n(74220),i=n(46732),o=n(50045),s=n(43749),a=n(95862),l=n(99140),u=n(46631),c=n(15055);const h=()=>({});var d=(0,l.a0)({name:"QSlider",props:{...a.to,modelValue:{required:!0,default:null,validator:e=>"number"===typeof e||null===e},labelValue:[String,Number]},emits:a.Xo,setup(e,{emit:t}){const{proxy:{$q:n}}=(0,r.nI)(),{state:o,methods:l}=(0,a.Ay)({updateValue:_,updatePosition:S,getDragging:E,formAttrs:(0,s.mj)(e)}),d=(0,i.KR)(null),f=(0,i.KR)(0),p=(0,i.KR)(0);function m(){p.value=null===e.modelValue?o.innerMin.value:(0,u.Tq)(e.modelValue,o.innerMin.value,o.innerMax.value)}(0,r.wB)((()=>`${e.modelValue}|${o.innerMin.value}|${o.innerMax.value}`),m),m();const g=(0,r.EW)((()=>l.convertModelToRatio(p.value))),v=(0,r.EW)((()=>!0===o.active.value?f.value:g.value)),y=(0,r.EW)((()=>{const t={[o.positionProp.value]:100*o.innerMinRatio.value+"%",[o.sizeProp.value]:100*(v.value-o.innerMinRatio.value)+"%"};return void 0!==e.selectionImg&&(t.backgroundImage=`url(${e.selectionImg}) !important`),t})),b=l.getThumbRenderFn({focusValue:!0,getNodeData:h,ratio:v,label:(0,r.EW)((()=>void 0!==e.labelValue?e.labelValue:p.value)),thumbColor:(0,r.EW)((()=>e.thumbColor||e.color)),labelColor:(0,r.EW)((()=>e.labelColor)),labelTextColor:(0,r.EW)((()=>e.labelTextColor))}),w=(0,r.EW)((()=>!0!==o.editable.value?{}:!0===n.platform.is.mobile?{onClick:l.onMobileClick}:{onMousedown:l.onActivate,onFocus:T,onBlur:l.onBlur,onKeydown:M,onKeyup:l.onKeyup}));function _(n){p.value!==e.modelValue&&t("update:modelValue",p.value),!0===n&&t("change",p.value)}function E(){return d.value.getBoundingClientRect()}function S(t,n=o.dragging.value){const r=l.getDraggingRatio(t,n);p.value=l.convertRatioToModel(r),f.value=!0!==e.snap||0===e.step?r:l.convertModelToRatio(p.value)}function T(){o.focus.value=!0}function M(t){if(!a.uP.includes(t.keyCode))return;(0,c.Gu)(t);const n=([34,33].includes(t.keyCode)?10:1)*o.keyStep.value,r=([34,37,40].includes(t.keyCode)?-1:1)*(!0===o.isReversed.value?-1:1)*(!0===e.vertical?-1:1)*n;p.value=(0,u.Tq)(o.roundValueFn.value(p.value+r),o.innerMin.value,o.innerMax.value),_()}return()=>{const t=l.getContent(y,o.tabindex,w,(e=>{e.push(b())}));return(0,r.h)("div",{ref:d,class:o.classes.value+(null===e.modelValue?" q-slider--no-value":""),...o.attributes.value,"aria-valuenow":e.modelValue},t)}}}),f=n(64503),p=n(42825),m=n(45713),g=n(60588),v=n(99689),y=n(15471),b=n(54348),w=n(96687),_=n(9381);const E=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function S({r:e,g:t,b:n,a:r}){const i=void 0!==r;if(e=Math.round(e),t=Math.round(t),n=Math.round(n),e>255||t>255||n>255||i&&r>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return r=i?(256|Math.round(255*r/100)).toString(16).slice(1):"","#"+(n|t<<8|e<<16|1<<24).toString(16).slice(1)+r}function T({r:e,g:t,b:n,a:r}){return`rgb${void 0!==r?"a":""}(${e},${t},${n}${void 0!==r?","+r/100:""})`}function M(e){if("string"!==typeof e)throw new TypeError("Expected a string");e=e.replace(/^#/,""),3===e.length?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:4===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((255&t)/2.55)}:{r:t>>16,g:t>>8&255,b:255&t}}function C({h:e,s:t,v:n,a:r}){let i,o,s;t/=100,n/=100,e/=360;const a=Math.floor(6*e),l=6*e-a,u=n*(1-t),c=n*(1-l*t),h=n*(1-(1-l)*t);switch(a%6){case 0:i=n,o=h,s=u;break;case 1:i=c,o=n,s=u;break;case 2:i=u,o=n,s=h;break;case 3:i=u,o=c,s=n;break;case 4:i=h,o=u,s=n;break;case 5:i=n,o=u,s=c;break}return{r:Math.round(255*i),g:Math.round(255*o),b:Math.round(255*s),a:r}}function R({r:e,g:t,b:n,a:r}){const i=Math.max(e,t,n),o=Math.min(e,t,n),s=i-o,a=0===i?0:s/i,l=i/255;let u;switch(i){case o:u=0;break;case e:u=t-n+s*(t<n?6:0),u/=6*s;break;case t:u=n-e+2*s,u/=6*s;break;case n:u=e-t+4*s,u/=6*s;break}return{h:Math.round(360*u),s:Math.round(100*a),v:Math.round(100*l),a:r}}function x(e){if("string"!==typeof e)throw new TypeError("Expected a string");const t=e.replace(/ /g,""),n=E.exec(t);if(null===n)return M(t);const r={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const e=parseFloat(n[5]);r.a=100*Math.min(1,!0===isNaN(e)?1:e)}return r}function A(e){if("string"!==typeof e&&(!e||void 0===e.r))throw new TypeError("Expected a string or a {r, g, b} object as color");const t="string"===typeof e?x(e):e,n=t.r/255,r=t.g/255,i=t.b/255,o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),s=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),a=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return.2126*o+.7152*s+.0722*a}var N=n(41952);const L=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],k="M5 5 h10 v10 h-10 v-10 z",O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var I=(0,l.a0)({name:"QColor",props:{...y.C,...s.Sc,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:e=>["spectrum","tune","palette"].includes(e)},formatModel:{type:String,default:"auto",validator:e=>["auto","hex","rgb","hexa","rgba"].includes(e)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(e,{emit:t}){const{proxy:n}=(0,r.nI)(),{$q:a}=n,l=(0,y.A)(e,a),{getCache:u}=(0,b.A)(),h=(0,i.KR)(null),E=(0,i.KR)(null),I=(0,r.EW)((()=>"auto"===e.formatModel?null:-1!==e.formatModel.indexOf("hex"))),P=(0,r.EW)((()=>"auto"===e.formatModel?null:-1!==e.formatModel.indexOf("a"))),D=(0,i.KR)("auto"===e.formatModel?void 0===e.modelValue||null===e.modelValue||""===e.modelValue||e.modelValue.startsWith("#")?"hex":"rgb":e.formatModel.startsWith("hex")?"hex":"rgb"),F=(0,i.KR)(e.defaultView),H=(0,i.KR)(ee(e.modelValue||e.defaultValue)),U=(0,r.EW)((()=>!0!==e.disable&&!0!==e.readonly)),B=(0,r.EW)((()=>void 0===e.modelValue||null===e.modelValue||""===e.modelValue||e.modelValue.startsWith("#"))),j=(0,r.EW)((()=>null!==I.value?I.value:B.value)),Y=(0,r.EW)((()=>({type:"hidden",name:e.name,value:H.value[!0===j.value?"hex":"rgb"]}))),V=(0,s.vq)(Y),W=(0,r.EW)((()=>null!==P.value?P.value:void 0!==H.value.a)),z=(0,r.EW)((()=>({backgroundColor:H.value.rgb||"#000"}))),G=(0,r.EW)((()=>{const e=void 0!==H.value.a&&H.value.a<65||A(H.value)>.4;return"q-color-picker__header-content q-color-picker__header-content--"+(e?"light":"dark")})),$=(0,r.EW)((()=>({background:`hsl(${H.value.h},100%,50%)`}))),q=(0,r.EW)((()=>({top:100-H.value.v+"%",[!0===a.lang.rtl?"right":"left"]:`${H.value.s}%`}))),K=(0,r.EW)((()=>void 0!==e.palette&&0!==e.palette.length?e.palette:L)),X=(0,r.EW)((()=>"q-color-picker"+(!0===e.bordered?" q-color-picker--bordered":"")+(!0===e.square?" q-color-picker--square no-border-radius":"")+(!0===e.flat?" q-color-picker--flat no-shadow":"")+(!0===e.disable?" disabled":"")+(!0===l.value?" q-color-picker--dark q-dark":""))),J=(0,r.EW)((()=>!0===e.disable?{"aria-disabled":"true"}:{})),Q=(0,r.EW)((()=>[[o.A,ae,void 0,{prevent:!0,stop:!0,mouse:!0}]]));function Z(e,n){H.value.hex=S(e),H.value.rgb=T(e),H.value.r=e.r,H.value.g=e.g,H.value.b=e.b,H.value.a=e.a;const r=H.value[!0===j.value?"hex":"rgb"];t("update:modelValue",r),!0===n&&t("change",r)}function ee(t){const n=void 0!==P.value?P.value:"auto"===e.formatModel?null:-1!==e.formatModel.indexOf("a");if("string"!==typeof t||0===t.length||!0!==w.r.anyColor(t.replace(/ /g,"")))return{h:0,s:0,v:0,r:0,g:0,b:0,a:!0===n?100:void 0,hex:void 0,rgb:void 0};const r=x(t);return!0===n&&void 0===r.a&&(r.a=100),r.hex=S(r),r.rgb=T(r),Object.assign(r,R(r))}function te(e,t,n){const r=h.value;if(null===r)return;const i=r.clientWidth,o=r.clientHeight,s=r.getBoundingClientRect();let l=Math.min(i,Math.max(0,e-s.left));!0===a.lang.rtl&&(l=i-l);const u=Math.min(o,Math.max(0,t-s.top)),c=Math.round(100*l/i),d=Math.round(100*Math.max(0,Math.min(1,-u/o+1))),f=C({h:H.value.h,s:c,v:d,a:!0===W.value?H.value.a:void 0});H.value.s=c,H.value.v=d,Z(f,n)}function ne(e,t){const n=Math.round(e),r=C({h:n,s:H.value.s,v:H.value.v,a:!0===W.value?H.value.a:void 0});H.value.h=n,Z(r,t)}function re(e){ne(e,!0)}function ie(e,t,i,o,s){if(void 0!==o&&(0,c.ds)(o),!/^[0-9]+$/.test(e))return void(!0===s&&n.$forceUpdate());const a=Math.floor(Number(e));if(a<0||a>i)return void(!0===s&&n.$forceUpdate());const l={r:"r"===t?a:H.value.r,g:"g"===t?a:H.value.g,b:"b"===t?a:H.value.b,a:!0===W.value?"a"===t?a:H.value.a:void 0};if("a"!==t){const e=R(l);H.value.h=e.h,H.value.s=e.s,H.value.v=e.v}if(Z(l,s),void 0!==o&&!0!==s&&void 0!==o.target.selectionEnd){const e=o.target.selectionEnd;(0,r.dY)((()=>{o.target.setSelectionRange(e,e)}))}}function oe(e,t){let n;const i=e.target.value;if((0,c.ds)(e),"hex"===D.value){if(i.length!==(!0===W.value?9:7)||!/^#[0-9A-Fa-f]+$/.test(i))return!0;n=M(i)}else{let e;if(!i.endsWith(")"))return!0;if(!0!==W.value&&i.startsWith("rgb(")){if(e=i.substring(4,i.length-1).split(",").map((e=>parseInt(e,10))),3!==e.length||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(i))return!0}else{if(!0!==W.value||!i.startsWith("rgba("))return!0;{if(e=i.substring(5,i.length-1).split(","),4!==e.length||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(i))return!0;for(let n=0;n<3;n++){const t=parseInt(e[n],10);if(t<0||t>255)return!0;e[n]=t}const t=parseFloat(e[3]);if(t<0||t>1)return!0;e[3]=t}}if(e[0]<0||e[0]>255||e[1]<0||e[1]>255||e[2]<0||e[2]>255||!0===W.value&&(e[3]<0||e[3]>1))return!0;n={r:e[0],g:e[1],b:e[2],a:!0===W.value?100*e[3]:void 0}}const o=R(n);if(H.value.h=o.h,H.value.s=o.s,H.value.v=o.v,Z(n,t),!0!==t){const t=e.target.selectionEnd;(0,r.dY)((()=>{e.target.setSelectionRange(t,t)}))}}function se(e){const t=ee(e),n={r:t.r,g:t.g,b:t.b,a:t.a};void 0===n.a&&(n.a=H.value.a),H.value.h=t.h,H.value.s=t.s,H.value.v=t.v,Z(n,!0)}function ae(e){e.isFinal?te(e.position.left,e.position.top,!0):le(e)}(0,r.wB)((()=>e.modelValue),(t=>{const n=ee(t||e.defaultValue);n.hex!==H.value.hex&&(H.value=n)})),(0,r.wB)((()=>e.defaultValue),(t=>{if(!e.modelValue&&t){const e=ee(t);e.hex!==H.value.hex&&(H.value=e)}}));const le=(0,_.A)((e=>{te(e.position.left,e.position.top)}),20);function ue(e){te(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset,!0)}function ce(e){te(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset)}function he(e){null!==E.value&&(E.value.$el.style.opacity=e?1:0)}function de(e){D.value=e}function fe(){const t=[];return!0!==e.noHeaderTabs&&t.push((0,r.h)(p.A,{class:"q-color-picker__header-tabs",modelValue:D.value,dense:!0,align:"justify","onUpdate:modelValue":de},(()=>[(0,r.h)(m.A,{label:"HEX"+(!0===W.value?"A":""),name:"hex",ripple:!1}),(0,r.h)(m.A,{label:"RGB"+(!0===W.value?"A":""),name:"rgb",ripple:!1})]))),t.push((0,r.h)("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[(0,r.h)("input",{class:"fit",value:H.value[D.value],...!0!==U.value?{readonly:!0}:{},...u("topIn",{onInput:e=>{he(!0===oe(e))},onChange:c.ds,onBlur:e=>{!0===oe(e,!0)&&n.$forceUpdate(),he(!1)}})}),(0,r.h)(f.A,{ref:E,class:"q-color-picker__error-icon absolute no-pointer-events",name:a.iconSet.type.negative})])),(0,r.h)("div",{class:"q-color-picker__header relative-position overflow-hidden"},[(0,r.h)("div",{class:"q-color-picker__header-bg absolute-full"}),(0,r.h)("div",{class:G.value,style:z.value},t)])}function pe(){return(0,r.h)(g.A,{modelValue:F.value,animated:!0},(()=>[(0,r.h)(v.A,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},ve),(0,r.h)(v.A,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},ye),(0,r.h)(v.A,{class:"q-color-picker__palette-tab",name:"palette"},be)]))}function me(e){F.value=e}function ge(){return(0,r.h)("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[(0,r.h)(p.A,{class:"absolute-full",modelValue:F.value,dense:!0,align:"justify","onUpdate:modelValue":me},(()=>[(0,r.h)(m.A,{icon:a.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),(0,r.h)(m.A,{icon:a.iconSet.colorPicker.tune,name:"tune",ripple:!1}),(0,r.h)(m.A,{icon:a.iconSet.colorPicker.palette,name:"palette",ripple:!1})]))])}function ve(){const e={ref:h,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(!0!==U.value?" readonly":""),style:$.value,...!0===U.value?{onClick:ue,onMousedown:ce}:{}},t=[(0,r.h)("div",{style:{paddingBottom:"100%"}}),(0,r.h)("div",{class:"q-color-picker__spectrum-white absolute-full"}),(0,r.h)("div",{class:"q-color-picker__spectrum-black absolute-full"}),(0,r.h)("div",{class:"absolute",style:q.value},[void 0!==H.value.hex?(0,r.h)("div",{class:"q-color-picker__spectrum-circle"}):null])],n=[(0,r.h)(d,{class:"q-color-picker__hue non-selectable",modelValue:H.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:!0!==U.value,thumbPath:k,"onUpdate:modelValue":ne,onChange:re})];return!0===W.value&&n.push((0,r.h)(d,{class:"q-color-picker__alpha non-selectable",modelValue:H.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:O,readonly:!0!==U.value,hideSelection:!0,thumbPath:k,...u("alphaSlide",{"onUpdate:modelValue":e=>ie(e,"a",100),onChange:e=>ie(e,"a",100,void 0,!0)})})),[(0,N.Kf)("div",e,t,"spec",U.value,(()=>Q.value)),(0,r.h)("div",{class:"q-color-picker__sliders"},n)]}function ye(){return[(0,r.h)("div",{class:"row items-center no-wrap"},[(0,r.h)("div","R"),(0,r.h)(d,{modelValue:H.value.r,min:0,max:255,color:"red",dark:l.value,readonly:!0!==U.value,...u("rSlide",{"onUpdate:modelValue":e=>ie(e,"r",255),onChange:e=>ie(e,"r",255,void 0,!0)})}),(0,r.h)("input",{value:H.value.r,maxlength:3,readonly:!0!==U.value,onChange:c.ds,...u("rIn",{onInput:e=>ie(e.target.value,"r",255,e),onBlur:e=>ie(e.target.value,"r",255,e,!0)})})]),(0,r.h)("div",{class:"row items-center no-wrap"},[(0,r.h)("div","G"),(0,r.h)(d,{modelValue:H.value.g,min:0,max:255,color:"green",dark:l.value,readonly:!0!==U.value,...u("gSlide",{"onUpdate:modelValue":e=>ie(e,"g",255),onChange:e=>ie(e,"g",255,void 0,!0)})}),(0,r.h)("input",{value:H.value.g,maxlength:3,readonly:!0!==U.value,onChange:c.ds,...u("gIn",{onInput:e=>ie(e.target.value,"g",255,e),onBlur:e=>ie(e.target.value,"g",255,e,!0)})})]),(0,r.h)("div",{class:"row items-center no-wrap"},[(0,r.h)("div","B"),(0,r.h)(d,{modelValue:H.value.b,min:0,max:255,color:"blue",readonly:!0!==U.value,dark:l.value,...u("bSlide",{"onUpdate:modelValue":e=>ie(e,"b",255),onChange:e=>ie(e,"b",255,void 0,!0)})}),(0,r.h)("input",{value:H.value.b,maxlength:3,readonly:!0!==U.value,onChange:c.ds,...u("bIn",{onInput:e=>ie(e.target.value,"b",255,e),onBlur:e=>ie(e.target.value,"b",255,e,!0)})})]),!0===W.value?(0,r.h)("div",{class:"row items-center no-wrap"},[(0,r.h)("div","A"),(0,r.h)(d,{modelValue:H.value.a,color:"grey",readonly:!0!==U.value,dark:l.value,...u("aSlide",{"onUpdate:modelValue":e=>ie(e,"a",100),onChange:e=>ie(e,"a",100,void 0,!0)})}),(0,r.h)("input",{value:H.value.a,maxlength:3,readonly:!0!==U.value,onChange:c.ds,...u("aIn",{onInput:e=>ie(e.target.value,"a",100,e),onBlur:e=>ie(e.target.value,"a",100,e,!0)})})]):null]}function be(){const e=e=>(0,r.h)("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:e},...!0===U.value?u("palette#"+e,{onClick:()=>{se(e)}}):{}});return[(0,r.h)("div",{class:"row items-center q-color-picker__palette-rows"+(!0===U.value?" q-color-picker__palette-rows--editable":"")},K.value.map(e))]}return()=>{const t=[pe()];return void 0!==e.name&&!0!==e.disable&&V(t,"push"),!0!==e.noHeader&&t.unshift(fe()),!0!==e.noFooter&&t.push(ge()),(0,r.h)("div",{class:X.value,...J.value},t)}}})},7584:function(e,t,n){"use strict";n.d(t,{A:function(){return ie}});n(84645);var r=n(74220),i=n(46732),o=n(39798),s=n(43197),a=n(15471),l=n(54348),u=n(43749);const c=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function h(e,t,n){return"[object Date]"===Object.prototype.toString.call(e)&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),y(b(e,t,n))}function d(e,t,n){return w(v(e,t,n))}function f(e){return 0===m(e)}function p(e,t){return t<=6?31:t<=11||f(e)?30:29}function m(e){const t=c.length;let n,r,i,o,s,a=c[0];if(e<a||e>=c[t-1])throw new Error("Invalid Jalaali year "+e);for(s=1;s<t;s+=1){if(n=c[s],r=n-a,e<n)break;a=n}return o=e-a,r-o<6&&(o=o-r+33*_(r+4,33)),i=E(E(o+1,33)-1,4),-1===i&&(i=4),i}function g(e,t){const n=c.length,r=e+621;let i,o,s,a,l,u=-14,h=c[0];if(e<h||e>=c[n-1])throw new Error("Invalid Jalaali year "+e);for(l=1;l<n;l+=1){if(i=c[l],o=i-h,e<i)break;u=u+8*_(o,33)+_(E(o,33),4),h=i}a=e-h,u=u+8*_(a,33)+_(E(a,33)+3,4),4===E(o,33)&&o-a===4&&(u+=1);const d=_(r,4)-_(3*(_(r,100)+1),4)-150,f=20+u-d;return t||(o-a<6&&(a=a-o+33*_(o+4,33)),s=E(E(a+1,33)-1,4),-1===s&&(s=4)),{leap:s,gy:r,march:f}}function v(e,t,n){const r=g(e,!0);return b(r.gy,3,r.march)+31*(t-1)-_(t,7)*(t-7)+n-1}function y(e){const t=w(e).gy;let n,r,i,o=t-621;const s=g(o,!1),a=b(t,3,s.march);if(i=e-a,i>=0){if(i<=185)return r=1+_(i,31),n=E(i,31)+1,{jy:o,jm:r,jd:n};i-=186}else o-=1,i+=179,1===s.leap&&(i+=1);return r=7+_(i,30),n=E(i,30)+1,{jy:o,jm:r,jd:n}}function b(e,t,n){let r=_(1461*(e+_(t-8,6)+100100),4)+_(153*E(t+9,12)+2,5)+n-34840408;return r=r-_(3*_(e+100100+_(t-8,6),100),4)+752,r}function w(e){let t=4*e+139361631;t=t+4*_(3*_(4*e+183187720,146097),4)-3908;const n=5*_(E(t,1461),4)+308,r=_(E(n,153),5)+1,i=E(_(n,153),12)+1,o=_(t,1461)-100100+_(8-i,6);return{gy:o,gm:i,gd:r}}function _(e,t){return~~(e/t)}function E(e,t){return e-~~(e/t)*t}var S=n(46631);const T=["gregorian","persian"],M={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>T.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},C=["update:modelValue"];function R(e){return e.year+"/"+(0,S.eV)(e.month)+"/"+(0,S.eV)(e.day)}function x(e,t){const n=(0,r.EW)((()=>!0!==e.disable&&!0!==e.readonly)),i=(0,r.EW)((()=>!0===n.value?0:-1)),o=(0,r.EW)((()=>{const t=[];return void 0!==e.color&&t.push(`bg-${e.color}`),void 0!==e.textColor&&t.push(`text-${e.textColor}`),t.join(" ")}));function s(){return void 0!==e.locale?{...t.lang.date,...e.locale}:t.lang.date}function a(t){const n=new Date,r=!0===t?null:0;if("persian"===e.calendar){const e=h(n);return{year:e.jy,month:e.jm,day:e.jd}}return{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:r,minute:r,second:r,millisecond:r}}return{editable:n,tabindex:i,headerClass:o,getLocale:s,getCurrentDate:a}}var A=n(99140),N=n(41952),L=n(78445),k=n(5368);const O=864e5,I=36e5,P=6e4,D="YYYY-MM-DDTHH:mm:ss.SSSZ",F=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,H=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,U={};function B(e,t){const n="("+t.days.join("|")+")",r=e+n;if(void 0!==U[r])return U[r];const i="("+t.daysShort.join("|")+")",o="("+t.months.join("|")+")",s="("+t.monthsShort.join("|")+")",a={};let l=0;const u=e.replace(H,(e=>{switch(l++,e){case"YY":return a.YY=l,"(-?\\d{1,2})";case"YYYY":return a.YYYY=l,"(-?\\d{1,4})";case"M":return a.M=l,"(\\d{1,2})";case"MM":return a.M=l,"(\\d{2})";case"MMM":return a.MMM=l,s;case"MMMM":return a.MMMM=l,o;case"D":return a.D=l,"(\\d{1,2})";case"Do":return a.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return a.D=l,"(\\d{2})";case"H":return a.H=l,"(\\d{1,2})";case"HH":return a.H=l,"(\\d{2})";case"h":return a.h=l,"(\\d{1,2})";case"hh":return a.h=l,"(\\d{2})";case"m":return a.m=l,"(\\d{1,2})";case"mm":return a.m=l,"(\\d{2})";case"s":return a.s=l,"(\\d{1,2})";case"ss":return a.s=l,"(\\d{2})";case"S":return a.S=l,"(\\d{1})";case"SS":return a.S=l,"(\\d{2})";case"SSS":return a.S=l,"(\\d{3})";case"A":return a.A=l,"(AM|PM)";case"a":return a.a=l,"(am|pm)";case"aa":return a.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return a.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return a.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return a.X=l,"(-?\\d+)";case"x":return a.x=l,"(-?\\d{4,})";default:return l--,"["===e[0]&&(e=e.substring(1,e.length-1)),e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}})),c={map:a,regex:new RegExp("^"+u)};return U[r]=c,c}function j(e,t){return void 0!==e?e:void 0!==t?t.date:k.o.date}function Y(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;return n+(0,S.eV)(i)+t+(0,S.eV)(o)}function V(e,t,n,r,i){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(void 0!==i&&Object.assign(o,i),void 0===e||null===e||""===e||"string"!==typeof e)return o;void 0===t&&(t=D);const s=j(n,k.A.props),a=s.months,l=s.monthsShort,{regex:u,map:c}=B(t,s),h=e.match(u);if(null===h)return o;let d="";if(void 0!==c.X||void 0!==c.x){const e=parseInt(h[void 0!==c.X?c.X:c.x],10);if(!0===isNaN(e)||e<0)return o;const t=new Date(e*(void 0!==c.X?1e3:1));o.year=t.getFullYear(),o.month=t.getMonth()+1,o.day=t.getDate(),o.hour=t.getHours(),o.minute=t.getMinutes(),o.second=t.getSeconds(),o.millisecond=t.getMilliseconds()}else{if(void 0!==c.YYYY)o.year=parseInt(h[c.YYYY],10);else if(void 0!==c.YY){const e=parseInt(h[c.YY],10);o.year=e<0?e:2e3+e}if(void 0!==c.M){if(o.month=parseInt(h[c.M],10),o.month<1||o.month>12)return o}else void 0!==c.MMM?o.month=l.indexOf(h[c.MMM])+1:void 0!==c.MMMM&&(o.month=a.indexOf(h[c.MMMM])+1);if(void 0!==c.D){if(o.day=parseInt(h[c.D],10),null===o.year||null===o.month||o.day<1)return o;const e="persian"!==r?new Date(o.year,o.month,0).getDate():p(o.year,o.month);if(o.day>e)return o}void 0!==c.H?o.hour=parseInt(h[c.H],10)%24:void 0!==c.h&&(o.hour=parseInt(h[c.h],10)%12,(c.A&&"PM"===h[c.A]||c.a&&"pm"===h[c.a]||c.aa&&"p.m."===h[c.aa])&&(o.hour+=12),o.hour=o.hour%24),void 0!==c.m&&(o.minute=parseInt(h[c.m],10)%60),void 0!==c.s&&(o.second=parseInt(h[c.s],10)%60),void 0!==c.S&&(o.millisecond=parseInt(h[c.S],10)*10**(3-h[c.S].length)),void 0===c.Z&&void 0===c.ZZ||(d=void 0!==c.Z?h[c.Z].replace(":",""):h[c.ZZ],o.timezoneOffset=("+"===d[0]?-1:1)*(60*d.slice(1,3)+1*d.slice(3,5)))}return o.dateHash=(0,S.eV)(o.year,6)+"/"+(0,S.eV)(o.month)+"/"+(0,S.eV)(o.day),o.timeHash=(0,S.eV)(o.hour)+":"+(0,S.eV)(o.minute)+":"+(0,S.eV)(o.second)+d,o}function W(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);const i=(t-n)/(7*O);return 1+Math.floor(i)}function z(e,t,n){const r=new Date(e),i="set"+(!0===n?"UTC":"");switch(t){case"year":case"years":r[`${i}Month`](0);case"month":case"months":r[`${i}Date`](1);case"day":case"days":case"date":r[`${i}Hours`](0);case"hour":case"hours":r[`${i}Minutes`](0);case"minute":case"minutes":r[`${i}Seconds`](0);case"second":case"seconds":r[`${i}Milliseconds`](0)}return r}function G(e,t,n){return(e.getTime()-e.getTimezoneOffset()*P-(t.getTime()-t.getTimezoneOffset()*P))/n}function $(e,t,n="days"){const r=new Date(e),i=new Date(t);switch(n){case"years":case"year":return r.getFullYear()-i.getFullYear();case"months":case"month":return 12*(r.getFullYear()-i.getFullYear())+r.getMonth()-i.getMonth();case"days":case"day":case"date":return G(z(r,"day"),z(i,"day"),O);case"hours":case"hour":return G(z(r,"hour"),z(i,"hour"),I);case"minutes":case"minute":return G(z(r,"minute"),z(i,"minute"),P);case"seconds":case"second":return G(z(r,"second"),z(i,"second"),1e3)}}function q(e){return $(e,z(e,"year"),"days")+1}function K(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const X={YY(e,t,n){const r=this.YYYY(e,t,n)%100;return r>=0?(0,S.eV)(r):"-"+(0,S.eV)(Math.abs(r))},YYYY(e,t,n){return void 0!==n&&null!==n?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return(0,S.eV)(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return K(this.Q(e))},D(e){return e.getDate()},Do(e){return K(e.getDate())},DD(e){return(0,S.eV)(e.getDate())},DDD(e){return q(e)},DDDD(e){return(0,S.eV)(q(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return W(e)},ww(e){return(0,S.eV)(W(e))},H(e){return e.getHours()},HH(e){return(0,S.eV)(e.getHours())},h(e){const t=e.getHours();return 0===t?12:t>12?t%12:t},hh(e){return(0,S.eV)(this.h(e))},m(e){return e.getMinutes()},mm(e){return(0,S.eV)(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return(0,S.eV)(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return(0,S.eV)(Math.floor(e.getMilliseconds()/10))},SSS(e){return(0,S.eV)(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,r){const i=void 0===r||null===r?e.getTimezoneOffset():r;return Y(i,":")},ZZ(e,t,n,r){const i=void 0===r||null===r?e.getTimezoneOffset():r;return Y(i)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function J(e,t,n,r,i){if(0!==e&&!e||e===1/0||e===-1/0)return;const o=new Date(e);if(isNaN(o))return;void 0===t&&(t=D);const s=j(n,k.A.props);return t.replace(F,((e,t)=>e in X?X[e](o,s,r,i):void 0===t?e:t.split("\\]").join("]")))}const Q=20,Z=["Calendar","Years","Months"],ee=e=>Z.includes(e),te=e=>/^-?[\d]+\/[0-1]\d$/.test(e),ne="  ";function re(e){return e.year+"/"+(0,S.eV)(e.month)}var ie=(0,A.a0)({name:"QDate",props:{...M,...u.Sc,...a.C,modelValue:{required:!0,validator:e=>"string"===typeof e||!0===Array.isArray(e)||Object(e)===e||null===e},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...M.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:te},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:te},navigationMaxYearMonth:{type:String,validator:te},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:ee}},emits:[...C,"rangeStart","rangeEnd","navigation"],setup(e,{slots:t,emit:n}){const{proxy:c}=(0,r.nI)(),{$q:h}=c,f=(0,a.A)(e,h),{getCache:m}=(0,l.A)(),{tabindex:g,headerClass:v,getLocale:y,getCurrentDate:b}=x(e,h);let w;const _=(0,u.mj)(e),E=(0,u.vq)(_),T=(0,i.KR)(null),M=(0,i.KR)(Le()),C=(0,i.KR)(y()),A=(0,r.EW)((()=>Le())),k=(0,r.EW)((()=>y())),O=(0,r.EW)((()=>b())),I=(0,i.KR)(Oe(M.value,C.value)),P=(0,i.KR)(e.defaultView),D=(0,r.EW)((()=>!0===h.lang.rtl?"right":"left")),F=(0,i.KR)(D.value),H=(0,i.KR)(D.value),U=I.value.year,B=(0,i.KR)(U-U%Q-(U<0?Q:0)),j=(0,i.KR)(null),Y=(0,r.EW)((()=>{const t=!0===e.landscape?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${!0===e.minimal?"minimal":"standard"}`+(!0===f.value?" q-date--dark q-dark":"")+(!0===e.bordered?" q-date--bordered":"")+(!0===e.square?" q-date--square no-border-radius":"")+(!0===e.flat?" q-date--flat no-shadow":"")+(!0===e.disable?" disabled":!0===e.readonly?" q-date--readonly":"")})),W=(0,r.EW)((()=>e.color||"primary")),z=(0,r.EW)((()=>e.textColor||"white")),G=(0,r.EW)((()=>!0===e.emitImmediately&&!0!==e.multiple&&!0!==e.range)),q=(0,r.EW)((()=>!0===Array.isArray(e.modelValue)?e.modelValue:null!==e.modelValue&&void 0!==e.modelValue?[e.modelValue]:[])),K=(0,r.EW)((()=>q.value.filter((e=>"string"===typeof e)).map((e=>ke(e,M.value,C.value))).filter((e=>null!==e.dateHash&&null!==e.day&&null!==e.month&&null!==e.year)))),X=(0,r.EW)((()=>{const e=e=>ke(e,M.value,C.value);return q.value.filter((e=>!0===(0,L.Gv)(e)&&void 0!==e.from&&void 0!==e.to)).map((t=>({from:e(t.from),to:e(t.to)}))).filter((e=>null!==e.from.dateHash&&null!==e.to.dateHash&&e.from.dateHash<e.to.dateHash))})),Z=(0,r.EW)((()=>"persian"!==e.calendar?e=>new Date(e.year,e.month-1,e.day):e=>{const t=d(e.year,e.month,e.day);return new Date(t.gy,t.gm-1,t.gd)})),te=(0,r.EW)((()=>"persian"===e.calendar?R:(e,t,n)=>J(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),void 0===t?M.value:t,void 0===n?C.value:n,e.year,e.timezoneOffset))),ie=(0,r.EW)((()=>K.value.length+X.value.reduce(((e,t)=>e+1+$(Z.value(t.to),Z.value(t.from))),0))),oe=(0,r.EW)((()=>{if(void 0!==e.title&&null!==e.title&&0!==e.title.length)return e.title;if(null!==j.value){const e=j.value.init,t=Z.value(e);return C.value.daysShort[t.getDay()]+", "+C.value.monthsShort[e.month-1]+" "+e.day+ne+"?"}if(0===ie.value)return ne;if(ie.value>1)return`${ie.value} ${C.value.pluralDay}`;const t=K.value[0],n=Z.value(t);return!0===isNaN(n.valueOf())?ne:void 0!==C.value.headerTitle?C.value.headerTitle(n,t):C.value.daysShort[n.getDay()]+", "+C.value.monthsShort[t.month-1]+" "+t.day})),se=(0,r.EW)((()=>{const e=K.value.concat(X.value.map((e=>e.from))).sort(((e,t)=>e.year-t.year||e.month-t.month));return e[0]})),ae=(0,r.EW)((()=>{const e=K.value.concat(X.value.map((e=>e.to))).sort(((e,t)=>t.year-e.year||t.month-e.month));return e[0]})),le=(0,r.EW)((()=>{if(void 0!==e.subtitle&&null!==e.subtitle&&0!==e.subtitle.length)return e.subtitle;if(0===ie.value)return ne;if(ie.value>1){const e=se.value,t=ae.value,n=C.value.monthsShort;return n[e.month-1]+(e.year!==t.year?" "+e.year+ne+n[t.month-1]+" ":e.month!==t.month?ne+n[t.month-1]:"")+" "+t.year}return K.value[0].year})),ue=(0,r.EW)((()=>{const e=[h.iconSet.datetime.arrowLeft,h.iconSet.datetime.arrowRight];return!0===h.lang.rtl?e.reverse():e})),ce=(0,r.EW)((()=>void 0!==e.firstDayOfWeek?Number(e.firstDayOfWeek):C.value.firstDayOfWeek)),he=(0,r.EW)((()=>{const e=C.value.daysShort,t=ce.value;return t>0?e.slice(t,7).concat(e.slice(0,t)):e})),de=(0,r.EW)((()=>{const t=I.value;return"persian"!==e.calendar?new Date(t.year,t.month,0).getDate():p(t.year,t.month)})),fe=(0,r.EW)((()=>"function"===typeof e.eventColor?e.eventColor:()=>e.eventColor)),pe=(0,r.EW)((()=>{if(void 0===e.navigationMinYearMonth)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}})),me=(0,r.EW)((()=>{if(void 0===e.navigationMaxYearMonth)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}})),ge=(0,r.EW)((()=>{const e={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return null!==pe.value&&pe.value.year>=I.value.year&&(e.year.prev=!1,pe.value.year===I.value.year&&pe.value.month>=I.value.month&&(e.month.prev=!1)),null!==me.value&&me.value.year<=I.value.year&&(e.year.next=!1,me.value.year===I.value.year&&me.value.month<=I.value.month&&(e.month.next=!1)),e})),ve=(0,r.EW)((()=>{const e={};return K.value.forEach((t=>{const n=re(t);void 0===e[n]&&(e[n]=[]),e[n].push(t.day)})),e})),ye=(0,r.EW)((()=>{const e={};return X.value.forEach((t=>{const n=re(t.from),r=re(t.to);if(void 0===e[n]&&(e[n]=[]),e[n].push({from:t.from.day,to:n===r?t.to.day:void 0,range:t}),n<r){let n;const{year:i,month:o}=t.from,s=o<12?{year:i,month:o+1}:{year:i+1,month:1};while((n=re(s))<=r)void 0===e[n]&&(e[n]=[]),e[n].push({from:void 0,to:n===r?t.to.day:void 0,range:t}),s.month++,s.month>12&&(s.year++,s.month=1)}})),e})),be=(0,r.EW)((()=>{if(null===j.value)return;const{init:e,initHash:t,final:n,finalHash:r}=j.value,[i,o]=t<=r?[e,n]:[n,e],s=re(i),a=re(o);if(s!==we.value&&a!==we.value)return;const l={};return s===we.value?(l.from=i.day,l.includeFrom=!0):l.from=1,a===we.value?(l.to=o.day,l.includeTo=!0):l.to=de.value,l})),we=(0,r.EW)((()=>re(I.value))),_e=(0,r.EW)((()=>{const t={};if(void 0===e.options){for(let e=1;e<=de.value;e++)t[e]=!0;return t}const n="function"===typeof e.options?e.options:t=>e.options.includes(t);for(let e=1;e<=de.value;e++){const r=we.value+"/"+(0,S.eV)(e);t[e]=n(r)}return t})),Ee=(0,r.EW)((()=>{const t={};if(void 0===e.events)for(let e=1;e<=de.value;e++)t[e]=!1;else{const n="function"===typeof e.events?e.events:t=>e.events.includes(t);for(let e=1;e<=de.value;e++){const r=we.value+"/"+(0,S.eV)(e);t[e]=!0===n(r)&&fe.value(r)}}return t})),Se=(0,r.EW)((()=>{let t,n;const{year:r,month:i}=I.value;if("persian"!==e.calendar)t=new Date(r,i-1,1),n=new Date(r,i-1,0).getDate();else{const e=d(r,i,1);t=new Date(e.gy,e.gm-1,e.gd);let o=i-1,s=r;0===o&&(o=12,s--),n=p(s,o)}return{days:t.getDay()-ce.value-1,endDay:n}})),Te=(0,r.EW)((()=>{const e=[],{days:t,endDay:n}=Se.value,r=t<0?t+7:t;if(r<6)for(let s=n-r;s<=n;s++)e.push({i:s,fill:!0});const i=e.length;for(let s=1;s<=de.value;s++){const t={i:s,event:Ee.value[s],classes:[]};!0===_e.value[s]&&(t.in=!0,t.flat=!0),e.push(t)}if(void 0!==ve.value[we.value]&&ve.value[we.value].forEach((t=>{const n=i+t-1;Object.assign(e[n],{selected:!0,unelevated:!0,flat:!1,color:W.value,textColor:z.value})})),void 0!==ye.value[we.value]&&ye.value[we.value].forEach((t=>{if(void 0!==t.from){const n=i+t.from-1,r=i+(t.to||de.value)-1;for(let i=n;i<=r;i++)Object.assign(e[i],{range:t.range,unelevated:!0,color:W.value,textColor:z.value});Object.assign(e[n],{rangeFrom:!0,flat:!1}),void 0!==t.to&&Object.assign(e[r],{rangeTo:!0,flat:!1})}else if(void 0!==t.to){const n=i+t.to-1;for(let r=i;r<=n;r++)Object.assign(e[r],{range:t.range,unelevated:!0,color:W.value,textColor:z.value});Object.assign(e[n],{flat:!1,rangeTo:!0})}else{const n=i+de.value-1;for(let r=i;r<=n;r++)Object.assign(e[r],{range:t.range,unelevated:!0,color:W.value,textColor:z.value})}})),void 0!==be.value){const t=i+be.value.from-1,n=i+be.value.to-1;for(let r=t;r<=n;r++)e[r].color=W.value,e[r].editRange=!0;!0===be.value.includeFrom&&(e[t].editRangeFrom=!0),!0===be.value.includeTo&&(e[n].editRangeTo=!0)}I.value.year===O.value.year&&I.value.month===O.value.month&&(e[i+O.value.day-1].today=!0);const o=e.length%7;if(o>0){const t=7-o;for(let n=1;n<=t;n++)e.push({i:n,fill:!0})}return e.forEach((e=>{let t="q-date__calendar-item ";!0===e.fill?t+="q-date__calendar-item--fill":(t+="q-date__calendar-item--"+(!0===e.in?"in":"out"),void 0!==e.range&&(t+=" q-date__range"+(!0===e.rangeTo?"-to":!0===e.rangeFrom?"-from":"")),!0===e.editRange&&(t+=` q-date__edit-range${!0===e.editRangeFrom?"-from":""}${!0===e.editRangeTo?"-to":""}`),void 0===e.range&&!0!==e.editRange||(t+=` text-${e.color}`)),e.classes=t})),e})),Me=(0,r.EW)((()=>!0===e.disable?{"aria-disabled":"true"}:{}));function Ce(){const{year:e,month:t,day:n}=O.value,r={...I.value,year:e,month:t,day:n},i=ve.value[re(r)];void 0!==i&&!1!==i.includes(r.day)||Ge(r),Ae(r.year,r.month)}function Re(e){!0===ee(e)&&(P.value=e)}function xe(e,t){if(["month","year"].includes(e)){const n="month"===e?Pe:De;n(!0===t?-1:1)}}function Ae(e,t){P.value="Calendar",je(e,t)}function Ne(t,n){if(!1===e.range||!t)return void(j.value=null);const r=Object.assign({...I.value},t),i=void 0!==n?Object.assign({...I.value},n):r;j.value={init:r,initHash:R(r),final:i,finalHash:R(i)},Ae(r.year,r.month)}function Le(){return"persian"===e.calendar?"YYYY/MM/DD":e.mask}function ke(t,n,r){return V(t,n,r,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Oe(t,n){const r=!0===Array.isArray(e.modelValue)?e.modelValue:e.modelValue?[e.modelValue]:[];if(0===r.length)return Ie();const i=r[r.length-1],o=ke(void 0!==i.from?i.from:i,t,n);return null===o.dateHash?Ie():o}function Ie(){let t,n;if(void 0!==e.defaultYearMonth){const r=e.defaultYearMonth.split("/");t=parseInt(r[0],10),n=parseInt(r[1],10)}else{const e=void 0!==O.value?O.value:b();t=e.year,n=e.month}return{year:t,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+(0,S.eV)(n)+"/01"}}function Pe(e){let t=I.value.year,n=Number(I.value.month)+e;13===n?(n=1,t++):0===n&&(n=12,t--),je(t,n),!0===G.value&&Ve("month")}function De(e){const t=Number(I.value.year)+e;je(t,I.value.month),!0===G.value&&Ve("year")}function Fe(t){je(t,I.value.month),P.value="Years"===e.defaultView?"Months":"Calendar",!0===G.value&&Ve("year")}function He(e){je(I.value.year,e),P.value="Calendar",!0===G.value&&Ve("month")}function Ue(e,t){const n=ve.value[t],r=void 0!==n&&!0===n.includes(e.day)?$e:Ge;r(e)}function Be(e){return{year:e.year,month:e.month,day:e.day}}function je(e,t,n){if(null!==pe.value&&e<=pe.value.year&&((t<pe.value.month||e<pe.value.year)&&(t=pe.value.month),e=pe.value.year),null!==me.value&&e>=me.value.year&&((t>me.value.month||e>me.value.year)&&(t=me.value.month),e=me.value.year),void 0!==n){const{hour:e,minute:t,second:r,millisecond:i,timezoneOffset:o,timeHash:s}=n;Object.assign(I.value,{hour:e,minute:t,second:r,millisecond:i,timezoneOffset:o,timeHash:s})}const i=e+"/"+(0,S.eV)(t)+"/01";i!==I.value.dateHash&&(F.value=I.value.dateHash<i===(!0!==h.lang.rtl)?"left":"right",e!==I.value.year&&(H.value=F.value),(0,r.dY)((()=>{B.value=e-e%Q-(e<0?Q:0),Object.assign(I.value,{year:e,month:t,day:1,dateHash:i})})))}function Ye(t,r,i){const o=null!==t&&1===t.length&&!1===e.multiple?t[0]:t;w=o;const{reason:s,details:a}=We(r,i);n("update:modelValue",o,s,a)}function Ve(t){const i=void 0!==K.value[0]&&null!==K.value[0].dateHash?{...K.value[0]}:{...I.value};(0,r.dY)((()=>{i.year=I.value.year,i.month=I.value.month;const r="persian"!==e.calendar?new Date(i.year,i.month,0).getDate():p(i.year,i.month);i.day=Math.min(Math.max(1,i.day),r);const o=ze(i);w=o;const{details:s}=We("",i);n("update:modelValue",o,t,s)}))}function We(e,t){return void 0!==t.from?{reason:`${e}-range`,details:{...Be(t.target),from:Be(t.from),to:Be(t.to)}}:{reason:`${e}-day`,details:Be(t)}}function ze(e,t,n){return void 0!==e.from?{from:te.value(e.from,t,n),to:te.value(e.to,t,n)}:te.value(e,t,n)}function Ge(t){let n;if(!0===e.multiple)if(void 0!==t.from){const e=R(t.from),r=R(t.to),i=K.value.filter((t=>t.dateHash<e||t.dateHash>r)),o=X.value.filter((({from:t,to:n})=>n.dateHash<e||t.dateHash>r));n=i.concat(o).concat(t).map((e=>ze(e)))}else{const e=q.value.slice();e.push(ze(t)),n=e}else n=ze(t);Ye(n,"add",t)}function $e(t){if(!0===e.noUnset)return;let n=null;if(!0===e.multiple&&!0===Array.isArray(e.modelValue)){const r=ze(t);n=void 0!==t.from?e.modelValue.filter((e=>void 0===e.from||e.from!==r.from&&e.to!==r.to)):e.modelValue.filter((e=>e!==r)),0===n.length&&(n=null)}Ye(n,"remove",t)}function qe(t,r,i){const o=K.value.concat(X.value).map((e=>ze(e,t,r))).filter((e=>void 0!==e.from?null!==e.from.dateHash&&null!==e.to.dateHash:null!==e.dateHash));n("update:modelValue",(!0===e.multiple?o:o[0])||null,i)}function Ke(){if(!0!==e.minimal)return(0,r.h)("div",{class:"q-date__header "+v.value},[(0,r.h)("div",{class:"relative-position"},[(0,r.h)(o.eB,{name:"q-transition--fade"},(()=>(0,r.h)("div",{key:"h-yr-"+le.value,class:"q-date__header-subtitle q-date__header-link "+("Years"===P.value?"q-date__header-link--active":"cursor-pointer"),tabindex:g.value,...m("vY",{onClick(){P.value="Years"},onKeyup(e){13===e.keyCode&&(P.value="Years")}})},[le.value])))]),(0,r.h)("div",{class:"q-date__header-title relative-position flex no-wrap"},[(0,r.h)("div",{class:"relative-position col"},[(0,r.h)(o.eB,{name:"q-transition--fade"},(()=>(0,r.h)("div",{key:"h-sub"+oe.value,class:"q-date__header-title-label q-date__header-link "+("Calendar"===P.value?"q-date__header-link--active":"cursor-pointer"),tabindex:g.value,...m("vC",{onClick(){P.value="Calendar"},onKeyup(e){13===e.keyCode&&(P.value="Calendar")}})},[oe.value])))]),!0===e.todayBtn?(0,r.h)(s.A,{class:"q-date__header-today self-start",icon:h.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:g.value,onClick:Ce}):null])])}function Xe({label:e,type:t,key:n,dir:i,goTo:a,boundaries:l,cls:u}){return[(0,r.h)("div",{class:"row items-center q-date__arrow"},[(0,r.h)(s.A,{round:!0,dense:!0,size:"sm",flat:!0,icon:ue.value[0],tabindex:g.value,disable:!1===l.prev,...m("go-#"+t,{onClick(){a(-1)}})})]),(0,r.h)("div",{class:"relative-position overflow-hidden flex flex-center"+u},[(0,r.h)(o.eB,{name:"q-transition--jump-"+i},(()=>(0,r.h)("div",{key:n},[(0,r.h)(s.A,{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:g.value,...m("view#"+t,{onClick:()=>{P.value=t}})})])))]),(0,r.h)("div",{class:"row items-center q-date__arrow"},[(0,r.h)(s.A,{round:!0,dense:!0,size:"sm",flat:!0,icon:ue.value[1],tabindex:g.value,disable:!1===l.next,...m("go+#"+t,{onClick(){a(1)}})})])]}(0,r.wB)((()=>e.modelValue),(e=>{if(w===e)w=0;else{const e=Oe(M.value,C.value);je(e.year,e.month,e)}})),(0,r.wB)(P,(()=>{null!==T.value&&!0===c.$el.contains(document.activeElement)&&T.value.focus()})),(0,r.wB)((()=>I.value.year+"|"+I.value.month),(()=>{n("navigation",{year:I.value.year,month:I.value.month})})),(0,r.wB)(A,(e=>{qe(e,C.value,"mask"),M.value=e})),(0,r.wB)(k,(e=>{qe(M.value,e,"locale"),C.value=e}));const Je={Calendar:()=>[(0,r.h)("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[(0,r.h)("div",{class:"q-date__navigation row items-center no-wrap"},Xe({label:C.value.months[I.value.month-1],type:"Months",key:I.value.month,dir:F.value,goTo:Pe,boundaries:ge.value.month,cls:" col"}).concat(Xe({label:I.value.year,type:"Years",key:I.value.year,dir:H.value,goTo:De,boundaries:ge.value.year,cls:""}))),(0,r.h)("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},he.value.map((e=>(0,r.h)("div",{class:"q-date__calendar-item"},[(0,r.h)("div",e)])))),(0,r.h)("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[(0,r.h)(o.eB,{name:"q-transition--slide-"+F.value},(()=>(0,r.h)("div",{key:we.value,class:"q-date__calendar-days fit"},Te.value.map((e=>(0,r.h)("div",{class:e.classes},[!0===e.in?(0,r.h)(s.A,{class:!0===e.today?"q-date__today":"",dense:!0,flat:e.flat,unelevated:e.unelevated,color:e.color,textColor:e.textColor,label:e.i,tabindex:g.value,...m("day#"+e.i,{onClick:()=>{Qe(e.i)},onMouseover:()=>{Ze(e.i)}})},!1!==e.event?()=>(0,r.h)("div",{class:"q-date__event bg-"+e.event}):null):(0,r.h)("div",""+e.i)]))))))])])],Months(){const t=I.value.year===O.value.year,n=e=>null!==pe.value&&I.value.year===pe.value.year&&pe.value.month>e||null!==me.value&&I.value.year===me.value.year&&me.value.month<e,i=C.value.monthsShort.map(((e,i)=>{const o=I.value.month===i+1;return(0,r.h)("div",{class:"q-date__months-item flex flex-center"},[(0,r.h)(s.A,{class:!0===t&&O.value.month===i+1?"q-date__today":null,flat:!0!==o,label:e,unelevated:o,color:!0===o?W.value:null,textColor:!0===o?z.value:null,tabindex:g.value,disable:n(i+1),...m("month#"+i,{onClick:()=>{He(i+1)}})})])}));return!0===e.yearsInMonthView&&i.unshift((0,r.h)("div",{class:"row no-wrap full-width"},[Xe({label:I.value.year,type:"Years",key:I.value.year,dir:H.value,goTo:De,boundaries:ge.value.year,cls:" col"})])),(0,r.h)("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},i)},Years(){const e=B.value,t=e+Q,n=[],i=e=>null!==pe.value&&pe.value.year>e||null!==me.value&&me.value.year<e;for(let o=e;o<=t;o++){const e=I.value.year===o;n.push((0,r.h)("div",{class:"q-date__years-item flex flex-center"},[(0,r.h)(s.A,{key:"yr"+o,class:O.value.year===o?"q-date__today":null,flat:!e,label:o,dense:!0,unelevated:e,color:!0===e?W.value:null,textColor:!0===e?z.value:null,tabindex:g.value,disable:i(o),...m("yr#"+o,{onClick:()=>{Fe(o)}})})]))}return(0,r.h)("div",{class:"q-date__view q-date__years flex flex-center"},[(0,r.h)("div",{class:"col-auto"},[(0,r.h)(s.A,{round:!0,dense:!0,flat:!0,icon:ue.value[0],tabindex:g.value,disable:i(e),...m("y-",{onClick:()=>{B.value-=Q}})})]),(0,r.h)("div",{class:"q-date__years-content col self-stretch row items-center"},n),(0,r.h)("div",{class:"col-auto"},[(0,r.h)(s.A,{round:!0,dense:!0,flat:!0,icon:ue.value[1],tabindex:g.value,disable:i(t),...m("y+",{onClick:()=>{B.value+=Q}})})])])}};function Qe(t){const r={...I.value,day:t};if(!1!==e.range)if(null===j.value){const i=Te.value.find((e=>!0!==e.fill&&e.i===t));if(!0!==e.noUnset&&void 0!==i.range)return void $e({target:r,from:i.range.from,to:i.range.to});if(!0===i.selected)return void $e(r);const o=R(r);j.value={init:r,initHash:o,final:r,finalHash:o},n("rangeStart",Be(r))}else{const e=j.value.initHash,t=R(r),i=e<=t?{from:j.value.init,to:r}:{from:r,to:j.value.init};j.value=null,Ge(e===t?r:{target:r,...i}),n("rangeEnd",{from:Be(i.from),to:Be(i.to)})}else Ue(r,we.value)}function Ze(e){if(null!==j.value){const t={...I.value,day:e};Object.assign(j.value,{final:t,finalHash:R(t)})}}return Object.assign(c,{setToday:Ce,setView:Re,offsetCalendar:xe,setCalendarTo:Ae,setEditingRange:Ne}),()=>{const n=[(0,r.h)("div",{class:"q-date__content col relative-position"},[(0,r.h)(o.eB,{name:"q-transition--fade"},Je[P.value])])],i=(0,N.zm)(t.default);return void 0!==i&&n.push((0,r.h)("div",{class:"q-date__actions"},i)),void 0!==e.name&&!0!==e.disable&&E(n,"push"),(0,r.h)("div",{class:Y.value,...Me.value},[Ke(),(0,r.h)("div",{ref:T,class:"q-date__main col column",tabindex:-1},n)])}}})},85704:function(e,t,n){"use strict";n.d(t,{A:function(){return j}});var r=n(74220),i=n(46732),o=n(39798),s=n(37315);function a(e,t,n){let i;function o(){void 0!==i&&(s.A.remove(i),i=void 0)}return(0,r.xo)((()=>{!0===e.value&&o()})),{removeFromHistory:o,addToHistory(){i={condition:()=>!0===n.value,handler:t},s.A.add(i)}}}var l=n(5952),u=n(12176),c=n(73783),h=n(76921),d=n(38317),f=n(83903),p=n(15055),m=n(61030);let g,v,y,b,w,_,E=0,S=!1,T=null;function M(e){C(e)&&(0,p.Gu)(e)}function C(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=(0,p.en)(e),n=e.shiftKey&&!e.deltaX,r=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=n||r?e.deltaY:e.deltaX;for(let o=0;o<t.length;o++){const e=t[o];if((0,f.D_)(e,r))return r?i<0&&0===e.scrollTop||i>0&&e.scrollTop+e.clientHeight===e.scrollHeight:i<0&&0===e.scrollLeft||i>0&&e.scrollLeft+e.clientWidth===e.scrollWidth}return!0}function R(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function x(e){!0!==S&&(S=!0,requestAnimationFrame((()=>{S=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;void 0!==y&&t===window.innerHeight||(y=n-t,document.scrollingElement.scrollTop=r),r>y&&(document.scrollingElement.scrollTop-=Math.ceil((r-y)/8))})))}function A(e){const t=document.body,n=void 0!==window.visualViewport;if("add"===e){const{overflowY:e,overflowX:r}=window.getComputedStyle(t);g=(0,f.lS)(window),v=(0,f.fQ)(window),b=t.style.left,w=t.style.top,_=window.location.href,t.style.left=`-${g}px`,t.style.top=`-${v}px`,"hidden"!==r&&("scroll"===r||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),"hidden"!==e&&("scroll"===e||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===m.Sn.is.ios&&(!0===n?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",x,p.mG.passiveCapture),window.visualViewport.addEventListener("scroll",x,p.mG.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",R,p.mG.passiveCapture))}!0===m.Sn.is.desktop&&!0===m.Sn.is.mac&&window[`${e}EventListener`]("wheel",M,p.mG.notPassive),"remove"===e&&(!0===m.Sn.is.ios&&(!0===n?(window.visualViewport.removeEventListener("resize",x,p.mG.passiveCapture),window.visualViewport.removeEventListener("scroll",x,p.mG.passiveCapture)):window.removeEventListener("scroll",R,p.mG.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=b,t.style.top=w,window.location.href===_&&window.scrollTo(g,v),y=void 0)}function N(e){let t="add";if(!0===e){if(E++,null!==T)return clearTimeout(T),void(T=null);if(E>1)return}else{if(0===E)return;if(E--,E>0)return;if(t="remove",!0===m.Sn.is.ios&&!0===m.Sn.is.nativeMobile)return null!==T&&clearTimeout(T),void(T=setTimeout((()=>{A(t),T=null}),100))}A(t)}function L(){let e;return{preventBodyScroll(t){t===e||void 0===e&&!0!==t||(e=t,N(t))}}}var k=n(99140),O=n(12383),I=n(41952),P=n(19382),D=n(62616),F=n(87520);let H=0;const U={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},B={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var j=(0,k.a0)({name:"QDialog",inheritAttrs:!1,props:{...c.RI,...h.d,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...c.Jl,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:s}){const f=(0,r.nI)(),p=(0,i.KR)(null),m=(0,i.KR)(!1),g=(0,i.KR)(!1);let v,y,b=null,w=null;const _=(0,r.EW)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:E}=L(),{registerTimeout:S}=(0,l.A)(),{registerTick:T,removeTick:M}=(0,u.A)(),{transitionProps:C,transitionStyle:R}=(0,h.A)(e,(()=>B[e.position][0]),(()=>B[e.position][1])),x=(0,r.EW)((()=>R.value+(void 0!==e.backdropFilter?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:""))),{showPortal:A,hidePortal:N,portalIsAccessible:k,renderPortal:j}=(0,d.A)(f,p,oe,"dialog"),{hide:Y}=(0,c.Ay)({showing:m,hideOnRouteChange:_,handleShow:K,handleHide:X,processOnMount:!0}),{addToHistory:V,removeFromHistory:W}=a(m,Y,_),z=(0,r.EW)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${U[e.position]}`+(!0===g.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),G=(0,r.EW)((()=>!0===m.value&&!0!==e.seamless)),$=(0,r.EW)((()=>!0===e.autoClose?{onClick:ne}:{})),q=(0,r.EW)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===G.value?"modal":"seamless"),s.class]));function K(t){V(),w=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,te(e.maximized),A(),g.value=!0,!0!==e.noFocus?(null!==document.activeElement&&document.activeElement.blur(),T(J)):M(),S((()=>{if(!0===f.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,r=void 0!==window.visualViewport?window.visualViewport.height:n;e>0&&t>r/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-r,t>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+t-r/2))),document.activeElement.scrollIntoView()}y=!0,p.value.click(),y=!1}A(!0),g.value=!1,n("show",t)}),e.transitionDuration)}function X(t){M(),W(),ee(!0),g.value=!0,N(),null!==w&&(((t&&0===t.type.indexOf("key")?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),S((()=>{N(!0),g.value=!1,n("hide",t)}),e.transitionDuration)}function J(e){(0,F.Gy)((()=>{let t=p.value;if(null!==t){if(void 0!==e){const n=t.querySelector(e);if(null!==n)return void n.focus({preventScroll:!0})}!0!==t.contains(document.activeElement)&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}}))}function Q(e){e&&"function"===typeof e.focus?e.focus({preventScroll:!0}):J(),n("shake");const t=p.value;null!==t&&(t.classList.remove("q-animate--scale"),t.classList.add("q-animate--scale"),null!==b&&clearTimeout(b),b=setTimeout((()=>{b=null,null!==p.value&&(t.classList.remove("q-animate--scale"),J())}),170))}function Z(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&Q():(n("escapeKey"),Y()))}function ee(t){null!==b&&(clearTimeout(b),b=null),!0!==t&&!0!==m.value||(te(!1),!0!==e.seamless&&(E(!1),(0,D.v)(ie),(0,P.V)(Z))),!0!==t&&(w=null)}function te(e){!0===e?!0!==v&&(H<1&&document.body.classList.add("q-body--dialog"),H++,v=!0):!0===v&&(H<2&&document.body.classList.remove("q-body--dialog"),H--,v=!1)}function ne(e){!0!==y&&(Y(e),n("click",e))}function re(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?Y(t):!0!==e.noShake&&Q()}function ie(t){!0!==e.allowFocusOutside&&!0===k.value&&!0!==(0,O.$J)(p.value,t.target)&&J('[tabindex]:not([tabindex="-1"])')}function oe(){return(0,r.h)("div",{role:"dialog","aria-modal":!0===G.value?"true":"false",...s,class:q.value},[(0,r.h)(o.eB,{name:"q-transition--fade",appear:!0},(()=>!0===G.value?(0,r.h)("div",{class:"q-dialog__backdrop fixed-full",style:x.value,"aria-hidden":"true",tabindex:-1,onClick:re}):null)),(0,r.h)(o.eB,C.value,(()=>!0===m.value?(0,r.h)("div",{ref:p,class:z.value,style:R.value,tabindex:-1,...$.value},(0,I.zm)(t.default)):null))])}return(0,r.wB)((()=>e.maximized),(e=>{!0===m.value&&te(e)})),(0,r.wB)(G,(e=>{E(e),!0===e?((0,D.g)(ie),(0,P.I)(Z)):((0,D.v)(ie),(0,P.V)(Z))})),Object.assign(f.proxy,{focus:J,shake:Q,__updateRefocusTarget(e){w=e||null}}),(0,r.xo)(ee),j}})},93569:function(e,t,n){"use strict";n(84645);var r=n(46732),i=n(74220),o=n(43197),s=n(64503),a=n(91870),l=n(79168),u=n(73783),c=n(99140),h=n(41952),d=n(13430);const f=["up","right","down","left"],p=["left","center","right"];t.A=(0,c.a0)({name:"QFab",props:{...a.$,...u.RI,icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{...a.$.hideLabel,default:null},direction:{type:String,default:"right",validator:e=>f.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>p.includes(e)}},emits:u.Jl,setup(e,{slots:t}){const n=(0,r.KR)(null),c=(0,r.KR)(!0===e.modelValue),f=(0,l.A)(),{proxy:{$q:p}}=(0,i.nI)(),{formClass:m,labelProps:g}=(0,a.A)(e,c),v=(0,i.EW)((()=>!0!==e.persistent)),{hide:y,toggle:b}=(0,u.Ay)({showing:c,hideOnRouteChange:v}),w=(0,i.EW)((()=>({opened:c.value}))),_=(0,i.EW)((()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${m.value}`+(!0===c.value?" q-fab--opened":" q-fab--closed"))),E=(0,i.EW)((()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--`+(!0===c.value?"opened":"closed"))),S=(0,i.EW)((()=>{const e={id:f.value,role:"menu"};return!0!==c.value&&(e["aria-hidden"]="true"),e})),T=(0,i.EW)((()=>"q-fab__icon-holder  q-fab__icon-holder--"+(!0===c.value?"opened":"closed")));function M(n,r){const o=t[n],a=`q-fab__${n} absolute-full`;return void 0===o?(0,i.h)(s.A,{class:a,name:e[r]||p.iconSet.fab[r]}):(0,i.h)("div",{class:a},o(w.value))}function C(){const n=[];return!0!==e.hideIcon&&n.push((0,i.h)("div",{class:T.value},[M("icon","icon"),M("active-icon","activeIcon")])),""===e.label&&void 0===t.label||n[g.value.action]((0,i.h)("div",g.value.data,void 0!==t.label?t.label(w.value):[e.label])),(0,h.Hp)(t.tooltip,n)}return(0,i.Gt)(d.BE,{showing:c,onChildClick(e){y(e),null!==n.value&&n.value.$el.focus()}}),()=>(0,i.h)("div",{class:_.value},[(0,i.h)(o.A,{ref:n,class:m.value,...e,noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":!0===c.value?"true":"false","aria-haspopup":"true","aria-controls":f.value,onClick:b},C),(0,i.h)("div",{class:E.value,...S.value},(0,h.zm)(t.default))])}})},97787:function(e,t,n){"use strict";n(84645);var r=n(74220),i=n(43197),o=n(64503),s=n(91870),a=n(99140),l=n(13430),u=n(41952),c=n(15055);const h={start:"self-end",center:"self-center",end:"self-start"},d=Object.keys(h);t.A=(0,a.a0)({name:"QFabAction",props:{...s.$,icon:{type:String,default:""},anchor:{type:String,validator:e=>d.includes(e)},to:[String,Object],replace:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const a=(0,r.WQ)(l.BE,(()=>({showing:{value:!0},onChildClick:c.lQ}))),{formClass:d,labelProps:f}=(0,s.A)(e,a.showing),p=(0,r.EW)((()=>{const t=h[e.anchor];return d.value+(void 0!==t?` ${t}`:"")})),m=(0,r.EW)((()=>!0===e.disable||!0!==a.showing.value));function g(e){a.onChildClick(e),n("click",e)}function v(){const n=[];return void 0!==t.icon?n.push(t.icon()):""!==e.icon&&n.push((0,r.h)(o.A,{name:e.icon})),""===e.label&&void 0===t.label||n[f.value.action]((0,r.h)("div",f.value.data,void 0!==t.label?t.label():[e.label])),(0,u.Hp)(t.default,n)}const y=(0,r.nI)();return Object.assign(y.proxy,{click:g}),()=>(0,r.h)(i.A,{class:p.value,...e,noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:m.value,onClick:g},v)}})},91870:function(e,t,n){"use strict";n.d(t,{$:function(){return o},A:function(){return s}});var r=n(74220);const i=["top","right","bottom","left"],o={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>i.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function s(e,t){return{formClass:(0,r.EW)((()=>"q-fab--form-"+(!0===e.square?"square":"rounded"))),stacked:(0,r.EW)((()=>!1===e.externalLabel&&["top","bottom"].includes(e.labelPosition))),labelProps:(0,r.EW)((()=>{if(!0===e.externalLabel){const n=null===e.hideLabel?!1===t.value:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(!0===n?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(!0===e.hideLabel?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}}))}}},45855:function(e,t,n){"use strict";var r=n(99305),i=n(99140);t.A=(0,i.a0)({name:"QField",inheritAttrs:!1,props:{...r.OJ,tag:{type:String,default:"label"}},emits:r.mU,setup(){return(0,r.Ay)((0,r.$7)({tagProp:!0}))}})},64503:function(e,t,n){"use strict";var r=n(74220),i=n(48313),o=n(99140),s=n(41952);const a="0 0 24 24",l=e=>e,u=e=>`ionicons ${e}`,c={"mdi-":e=>`mdi ${e}`,"icon-":l,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":u,"ion-ios":u,"ion-logo":u,"iconfont ":l,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},h={o_:"-outlined",r_:"-round",s_:"-sharp"},d={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},f=new RegExp("^("+Object.keys(c).join("|")+")"),p=new RegExp("^("+Object.keys(h).join("|")+")"),m=new RegExp("^("+Object.keys(d).join("|")+")"),g=/^[Mm]\s?[-+]?\.?\d/,v=/^img:/,y=/^svguse:/,b=/^ion-/,w=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;t.A=(0,o.a0)({name:"QIcon",props:{...i.x_,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.nI)(),o=(0,i.Ay)(e),l=(0,r.EW)((()=>"q-icon"+(!0===e.left?" on-left":"")+(!0===e.right?" on-right":"")+(void 0!==e.color?` text-${e.color}`:""))),u=(0,r.EW)((()=>{let t,i=e.name;if("none"===i||!i)return{none:!0};if(null!==n.iconMapFn){const e=n.iconMapFn(i);if(void 0!==e){if(void 0===e.icon)return{cls:e.cls,content:void 0!==e.content?e.content:" "};if(i=e.icon,"none"===i||!i)return{none:!0}}}if(!0===g.test(i)){const[e,t=a]=i.split("|");return{svg:!0,viewBox:t,nodes:e.split("&&").map((e=>{const[t,n,i]=e.split("@@");return(0,r.h)("path",{style:n,d:t,transform:i})}))}}if(!0===v.test(i))return{img:!0,src:i.substring(4)};if(!0===y.test(i)){const[e,t=a]=i.split("|");return{svguse:!0,src:e.substring(7),viewBox:t}}let o=" ";const s=i.match(f);if(null!==s)t=c[s[1]](i);else if(!0===w.test(i))t=i;else if(!0===b.test(i))t=`ionicons ion-${!0===n.platform.is.ios?"ios":"md"}${i.substring(3)}`;else if(!0===m.test(i)){t="notranslate material-symbols";const e=i.match(m);null!==e&&(i=i.substring(6),t+=d[e[1]]),o=i}else{t="notranslate material-icons";const e=i.match(p);null!==e&&(i=i.substring(2),t+=h[e[1]]),o=i}return{cls:t,content:o}}));return()=>{const n={class:l.value,style:o.value,"aria-hidden":"true",role:"presentation"};return!0===u.value.none?(0,r.h)(e.tag,n,(0,s.zm)(t.default)):!0===u.value.img?(0,r.h)(e.tag,n,(0,s.Hp)(t.default,[(0,r.h)("img",{src:u.value.src})])):!0===u.value.svg?(0,r.h)(e.tag,n,(0,s.Hp)(t.default,[(0,r.h)("svg",{viewBox:u.value.viewBox||"0 0 24 24"},u.value.nodes)])):!0===u.value.svguse?(0,r.h)(e.tag,n,(0,s.Hp)(t.default,[(0,r.h)("svg",{viewBox:u.value.viewBox},[(0,r.h)("use",{"xlink:href":u.value.src})])])):(void 0!==u.value.cls&&(n.class+=" "+u.value.cls),(0,r.h)(e.tag,n,(0,s.Hp)(t.default,[u.value.content])))}}})},74985:function(e,t,n){"use strict";n.d(t,{A:function(){return E}});var r=n(74220),i=n(46732),o=n(99305),s=(n(84645),n(37031));const a={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},l={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},u=Object.keys(l);u.forEach((e=>{l[e].regex=new RegExp(l[e].pattern)}));const c=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+u.join("")+"])|(.)","g"),h=/[.*+?^${}()|[\]\\]/g,d=String.fromCharCode(1),f={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function p(e,t,n,o){let u,f,p,m,g,v;const y=(0,i.KR)(null),b=(0,i.KR)(_());function w(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function _(){if(S(),!0===y.value){const t=A(L(e.modelValue));return!1!==e.fillMask?k(t):t}return e.modelValue}function E(e){if(e<u.length)return u.slice(-e);let t="",n=u;const r=n.indexOf(d);if(-1!==r){for(let r=e-n.length;r>0;r--)t+=d;n=n.slice(0,r)+t+n.slice(r)}return n}function S(){if(y.value=void 0!==e.mask&&0!==e.mask.length&&w(),!1===y.value)return m=void 0,u="",void(f="");const t=void 0===a[e.mask]?e.mask:a[e.mask],n="string"===typeof e.fillMask&&0!==e.fillMask.length?e.fillMask.slice(0,1):"_",r=n.replace(h,"\\$&"),i=[],o=[],s=[];let g=!0===e.reverseFillMask,v="",b="";t.replace(c,((e,t,n,r,a)=>{if(void 0!==r){const e=l[r];s.push(e),b=e.negate,!0===g&&(o.push("(?:"+b+"+)?("+e.pattern+"+)?(?:"+b+"+)?("+e.pattern+"+)?"),g=!1),o.push("(?:"+b+"+)?("+e.pattern+")?")}else if(void 0!==n)v="\\"+("\\"===n?"":n),s.push(n),i.push("([^"+v+"]+)?"+v+"?");else{const e=void 0!==t?t:a;v="\\"===e?"\\\\\\\\":e.replace(h,"\\\\$&"),s.push(e),i.push("([^"+v+"]+)?"+v+"?")}}));const _=new RegExp("^"+i.join("")+"("+(""===v?".":"[^"+v+"]")+"+)?"+(""===v?"":"["+v+"]*")+"$"),E=o.length-1,S=o.map(((t,n)=>0===n&&!0===e.reverseFillMask?new RegExp("^"+r+"*"+t):n===E?new RegExp("^"+t+"("+(""===b?".":b)+"+)?"+(!0===e.reverseFillMask?"$":r+"*")):new RegExp("^"+t)));p=s,m=t=>{const n=_.exec(!0===e.reverseFillMask?t:t.slice(0,s.length+1));null!==n&&(t=n.slice(1).join(""));const r=[],i=S.length;for(let e=0,o=t;e<i;e++){const t=S[e].exec(o);if(null===t)break;o=o.slice(t.shift().length),r.push(...t)}return 0!==r.length?r.join(""):t},u=s.map((e=>"string"===typeof e?e:d)).join(""),f=u.split(d).join(n)}function T(t,i,s){const a=o.value,l=a.selectionEnd,c=a.value.length-l,h=L(t);!0===i&&S();const p=A(h),m=!1!==e.fillMask?k(p):p,v=b.value!==m;a.value!==m&&(a.value=m),!0===v&&(b.value=m),document.activeElement===a&&(0,r.dY)((()=>{if(m!==f)if("insertFromPaste"!==s||!0===e.reverseFillMask)if(-1===["deleteContentBackward","deleteContentForward"].indexOf(s))if(!0===e.reverseFillMask)if(!0===v){const e=Math.max(0,m.length-(m===f?0:Math.min(p.length,c+1)));1===e&&1===l?a.setSelectionRange(e,e,"forward"):C.rightReverse(a,e)}else{const e=m.length-c;a.setSelectionRange(e,e,"backward")}else if(!0===v){const e=Math.max(0,u.indexOf(d),Math.min(p.length,l)-1);C.right(a,e)}else{const e=l-1;C.right(a,e)}else{const t=!0===e.reverseFillMask?0===l?m.length>p.length?1:0:Math.max(0,m.length-(m===f?0:Math.min(p.length,c)+1))+1:l;a.setSelectionRange(t,t,"forward")}else{const e=a.selectionEnd;let t=l-1;for(let n=g;n<=t&&n<e;n++)u[n]!==d&&t++;C.right(a,t)}else{const t=!0===e.reverseFillMask?f.length:0;a.setSelectionRange(t,t,"forward")}}));const y=!0===e.unmaskedValue?L(m):m;String(e.modelValue)===y||null===e.modelValue&&""===y||n(y,!0)}function M(e,t,n){const r=A(L(e.value));t=Math.max(0,u.indexOf(d),Math.min(r.length,t)),g=t,e.setSelectionRange(t,n,"forward")}(0,r.wB)((()=>e.type+e.autogrow),S),(0,r.wB)((()=>e.mask),(n=>{if(void 0!==n)T(b.value,!0);else{const n=L(b.value);S(),e.modelValue!==n&&t("update:modelValue",n)}})),(0,r.wB)((()=>e.fillMask+e.reverseFillMask),(()=>{!0===y.value&&T(b.value,!0)})),(0,r.wB)((()=>e.unmaskedValue),(()=>{!0===y.value&&T(b.value)}));const C={left(e,t){const n=-1===u.slice(t-1).indexOf(d);let r=Math.max(0,t-1);for(;r>=0;r--)if(u[r]===d){t=r,!0===n&&t++;break}if(r<0&&void 0!==u[t]&&u[t]!==d)return C.right(e,0);t>=0&&e.setSelectionRange(t,t,"backward")},right(e,t){const n=e.value.length;let r=Math.min(n,t+1);for(;r<=n;r++){if(u[r]===d){t=r;break}u[r-1]===d&&(t=r)}if(r>n&&void 0!==u[t-1]&&u[t-1]!==d)return C.left(e,n);e.setSelectionRange(t,t,"forward")},leftReverse(e,t){const n=E(e.value.length);let r=Math.max(0,t-1);for(;r>=0;r--){if(n[r-1]===d){t=r;break}if(n[r]===d&&(t=r,0===r))break}if(r<0&&void 0!==n[t]&&n[t]!==d)return C.rightReverse(e,0);t>=0&&e.setSelectionRange(t,t,"backward")},rightReverse(e,t){const n=e.value.length,r=E(n),i=-1===r.slice(0,t+1).indexOf(d);let o=Math.min(n,t+1);for(;o<=n;o++)if(r[o-1]===d){t=o,t>0&&!0===i&&t--;break}if(o>n&&void 0!==r[t-1]&&r[t-1]!==d)return C.leftReverse(e,n);e.setSelectionRange(t,t,"forward")}};function R(e){t("click",e),v=void 0}function x(n){if(t("keydown",n),!0===(0,s.JL)(n)||!0===n.altKey)return;const r=o.value,i=r.selectionStart,a=r.selectionEnd;if(n.shiftKey||(v=void 0),37===n.keyCode||39===n.keyCode){n.shiftKey&&void 0===v&&(v="forward"===r.selectionDirection?i:a);const t=C[(39===n.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];if(n.preventDefault(),t(r,v===i?a:i),n.shiftKey){const e=r.selectionStart;r.setSelectionRange(Math.min(v,e),Math.max(v,e),"forward")}}else 8===n.keyCode&&!0!==e.reverseFillMask&&i===a?(C.left(r,i),r.setSelectionRange(r.selectionStart,a,"backward")):46===n.keyCode&&!0===e.reverseFillMask&&i===a&&(C.rightReverse(r,a),r.setSelectionRange(i,r.selectionEnd,"forward"))}function A(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return N(t);const n=p;let r=0,i="";for(let e=0;e<n.length;e++){const o=t[r],s=n[e];if("string"===typeof s)i+=s,o===s&&r++;else{if(void 0===o||!s.regex.test(o))return i;i+=void 0!==s.transform?s.transform(o):o,r++}}return i}function N(e){const t=p,n=u.indexOf(d);let r=e.length-1,i="";for(let o=t.length-1;o>=0&&-1!==r;o--){const s=t[o];let a=e[r];if("string"===typeof s)i=s+i,a===s&&r--;else{if(void 0===a||!s.regex.test(a))return i;do{i=(void 0!==s.transform?s.transform(a):a)+i,r--,a=e[r]}while(n===o&&void 0!==a&&s.regex.test(a))}}return i}function L(e){return"string"!==typeof e||void 0===m?"number"===typeof e?m(""+e):e:m(e)}function k(t){return f.length-t.length<=0?t:!0===e.reverseFillMask&&0!==t.length?f.slice(0,-t.length)+t:t+f.slice(t.length)}return{innerValue:b,hasMask:y,moveCursorForPaste:M,updateMaskValue:T,onMaskedKeydown:x,onMaskedClick:R}}var m=n(43749);function g(e,t){function n(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(n){return{files:void 0}}}return!0===t?(0,r.EW)((()=>{if("file"===e.type)return n()})):(0,r.EW)(n)}var v=n(81173),y=n(99140),b=n(15055),w=n(87520),_=n(79862),E=(0,y.a0)({name:"QInput",inheritAttrs:!1,props:{...o.OJ,...f,...m.Sc,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...o.mU,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:s}=(0,r.nI)(),{$q:a}=s,l={};let u,c,h,d=NaN,f=null;const y=(0,i.KR)(null),E=(0,m.M4)(e),{innerValue:S,hasMask:T,moveCursorForPaste:M,updateMaskValue:C,onMaskedKeydown:R,onMaskedClick:x}=p(e,t,Y,y),A=g(e,!0),N=(0,r.EW)((()=>(0,o.o9)(S.value))),L=(0,v.A)(B),k=(0,o.$7)({changeEvent:!0}),O=(0,r.EW)((()=>"textarea"===e.type||!0===e.autogrow)),I=(0,r.EW)((()=>!0===O.value||["text","search","url","tel","password"].includes(e.type))),P=(0,r.EW)((()=>{const t={...k.splitAttrs.listeners.value,onInput:B,onPaste:U,onChange:W,onBlur:z,onFocus:b.ds};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=L,!0===T.value&&(t.onKeydown=R,t.onClick=x),!0===e.autogrow&&(t.onAnimationend=j),t})),D=(0,r.EW)((()=>{const t={tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:E.value,...k.splitAttrs.attributes.value,id:k.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly};return!1===O.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function F(){(0,w.Gy)((()=>{const e=document.activeElement;null===y.value||y.value===e||null!==e&&e.id===k.targetUid.value||y.value.focus({preventScroll:!0})}))}function H(){null!==y.value&&y.value.select()}function U(n){if(!0===T.value&&!0!==e.reverseFillMask){const e=n.target;M(e,e.selectionStart,e.selectionEnd)}t("paste",n)}function B(n){if(!n||!n.target)return;if("file"===e.type)return void t("update:modelValue",n.target.files);const i=n.target.value;if(!0!==n.target.qComposing){if(!0===T.value)C(i,!1,n.inputType);else if(Y(i),!0===I.value&&n.target===document.activeElement){const{selectionStart:e,selectionEnd:t}=n.target;void 0!==e&&void 0!==t&&(0,r.dY)((()=>{n.target===document.activeElement&&0===i.indexOf(n.target.value)&&n.target.setSelectionRange(e,t)}))}!0===e.autogrow&&V()}else l.value=i}function j(e){t("animationend",e),V()}function Y(n,i){h=()=>{f=null,"number"!==e.type&&!0===l.hasOwnProperty("value")&&delete l.value,e.modelValue!==n&&d!==n&&(d=n,!0===i&&(c=!0),t("update:modelValue",n),(0,r.dY)((()=>{d===n&&(d=NaN)}))),h=void 0},"number"===e.type&&(u=!0,l.value=n),void 0!==e.debounce?(null!==f&&clearTimeout(f),l.value=n,f=setTimeout(h,e.debounce)):h()}function V(){requestAnimationFrame((()=>{const e=y.value;if(null!==e){const t=e.parentNode.style,{scrollTop:n}=e,{overflowY:r,maxHeight:i}=!0===a.platform.is.firefox?{}:window.getComputedStyle(e),o=void 0!==r&&"scroll"!==r;!0===o&&(e.style.overflowY="hidden"),t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.height=e.scrollHeight+"px",!0===o&&(e.style.overflowY=parseInt(i,10)<e.scrollHeight?"auto":"hidden"),t.marginBottom="",e.scrollTop=n}}))}function W(e){L(e),null!==f&&(clearTimeout(f),f=null),void 0!==h&&h(),t("change",e.target.value)}function z(t){void 0!==t&&(0,b.ds)(t),null!==f&&(clearTimeout(f),f=null),void 0!==h&&h(),u=!1,c=!1,delete l.value,"file"!==e.type&&setTimeout((()=>{null!==y.value&&(y.value.value=void 0!==S.value?S.value:"")}))}function G(){return!0===l.hasOwnProperty("value")?l.value:void 0!==S.value?S.value:""}(0,r.wB)((()=>e.type),(()=>{y.value&&(y.value.value=e.modelValue)})),(0,r.wB)((()=>e.modelValue),(t=>{if(!0===T.value){if(!0===c&&(c=!1,String(t)===d))return;C(t)}else S.value!==t&&(S.value=t,"number"===e.type&&!0===l.hasOwnProperty("value")&&(!0===u?u=!1:delete l.value));!0===e.autogrow&&(0,r.dY)(V)})),(0,r.wB)((()=>e.autogrow),(e=>{!0===e?(0,r.dY)(V):null!==y.value&&n.rows>0&&(y.value.style.height="auto")})),(0,r.wB)((()=>e.dense),(()=>{!0===e.autogrow&&(0,r.dY)(V)})),(0,r.xo)((()=>{z()})),(0,r.sV)((()=>{!0===e.autogrow&&V()})),Object.assign(k,{innerValue:S,fieldClass:(0,r.EW)((()=>"q-"+(!0===O.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,r.EW)((()=>"file"!==e.type&&"string"===typeof e.shadowText&&0!==e.shadowText.length)),inputRef:y,emitValue:Y,hasValue:N,floatingLabel:(0,r.EW)((()=>!0===N.value&&("number"!==e.type||!1===isNaN(S.value))||(0,o.o9)(e.displayValue))),getControl:()=>(0,r.h)(!0===O.value?"textarea":"input",{ref:y,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...D.value,...P.value,..."file"!==e.type?{value:G()}:A.value}),getShadowControl:()=>(0,r.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===O.value?"":" text-no-wrap")},[(0,r.h)("span",{class:"invisible"},G()),(0,r.h)("span",e.shadowText)])});const $=(0,o.Ay)(k);return Object.assign(s,{focus:F,select:H,getNativeElement:()=>y.value}),(0,_.$)(s,"nativeEl",(()=>y.value)),$}})},93359:function(e,t,n){"use strict";var r=n(74220),i=n(46732),o=n(15471),s=n(95005),a=n(99140),l=n(41952),u=n(15055),c=n(37031);t.A=(0,a.a0)({name:"QItem",props:{...o.C,...s.Ji,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=(0,r.nI)(),h=(0,o.A)(e,a),{hasLink:d,linkAttrs:f,linkClass:p,linkTag:m,navigateOnClick:g}=(0,s.Ay)(),v=(0,i.KR)(null),y=(0,i.KR)(null),b=(0,r.EW)((()=>!0===e.clickable||!0===d.value||"label"===e.tag)),w=(0,r.EW)((()=>!0!==e.disable&&!0===b.value)),_=(0,r.EW)((()=>"q-item q-item-type row no-wrap"+(!0===e.dense?" q-item--dense":"")+(!0===h.value?" q-item--dark":"")+(!0===d.value&&null===e.active?p.value:!0===e.active?" q-item--active"+(void 0!==e.activeClass?` ${e.activeClass}`:""):"")+(!0===e.disable?" disabled":"")+(!0===w.value?" q-item--clickable q-link cursor-pointer "+(!0===e.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===e.focused?" q-manual-focusable--focused":""):""))),E=(0,r.EW)((()=>{if(void 0===e.insetLevel)return null;const t=!0===a.lang.rtl?"Right":"Left";return{["padding"+t]:16+56*e.insetLevel+"px"}}));function S(e){!0===w.value&&(null!==y.value&&(!0!==e.qKeyEvent&&document.activeElement===v.value?y.value.focus():document.activeElement===y.value&&v.value.focus()),g(e))}function T(e){if(!0===w.value&&!0===(0,c.Dv)(e,[13,32])){(0,u.Gu)(e),e.qKeyEvent=!0;const t=new MouseEvent("click",e);t.qKeyEvent=!0,v.value.dispatchEvent(t)}n("keyup",e)}function M(){const e=(0,l.Ij)(t.default,[]);return!0===w.value&&e.unshift((0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:y})),e}return()=>{const t={ref:v,class:_.value,style:E.value,role:"listitem",onClick:S,onKeyup:T};return!0===w.value?(t.tabindex=e.tabindex||"0",Object.assign(t,f.value)):!0===b.value&&(t["aria-disabled"]="true"),(0,r.h)(m.value,t,M())}}})},72473:function(e,t,n){"use strict";var r=n(74220),i=n(99140),o=n(41952);t.A=(0,i.a0)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=(0,r.EW)((()=>parseInt(e.lines,10))),i=(0,r.EW)((()=>"q-item__label"+(!0===e.overline?" q-item__label--overline text-overline":"")+(!0===e.caption?" q-item__label--caption text-caption":"")+(!0===e.header?" q-item__label--header":"")+(1===n.value?" ellipsis":""))),s=(0,r.EW)((()=>void 0!==e.lines&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null));return()=>(0,r.h)("div",{style:s.value,class:i.value},(0,o.zm)(t.default))}})},91484:function(e,t,n){"use strict";var r=n(74220),i=n(99140),o=n(41952);t.A=(0,i.a0)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=(0,r.EW)((()=>"q-item__section column q-item__section--"+(!0===e.avatar||!0===e.side||!0===e.thumbnail?"side":"main")+(!0===e.top?" q-item__section--top justify-start":" justify-center")+(!0===e.avatar?" q-item__section--avatar":"")+(!0===e.thumbnail?" q-item__section--thumbnail":"")+(!0===e.noWrap?" q-item__section--nowrap":"")));return()=>(0,r.h)("div",{class:n.value},(0,o.zm)(t.default))}})},5668:function(e,t,n){"use strict";var r=n(74220),i=n(99140),o=n(15471),s=n(41952);t.A=(0,i.a0)({name:"QList",props:{...o.C,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=(0,r.nI)(),i=(0,o.A)(e,n.proxy.$q),a=(0,r.EW)((()=>"q-list"+(!0===e.bordered?" q-list--bordered":"")+(!0===e.dense?" q-list--dense":"")+(!0===e.separator?" q-list--separator":"")+(!0===i.value?" q-list--dark":"")+(!0===e.padding?" q-list--padding":"")));return()=>(0,r.h)(e.tag,{class:a.value},(0,s.zm)(t.default))}})},14599:function(e,t,n){"use strict";var r=n(74220),i=n(46732),o=n(39798),s=n(21073),a=n(41297),l=n(73783),u=n(15471),c=n(38317),h=n(76921),d=n(12176),f=n(5952),p=n(99140),m=n(7412),g=n(83903),v=n(15055),y=n(41952),b=n(19382),w=n(62616),_=n(12383),E=n(22322),S=n(87520),T=n(34714);t.A=(0,p.a0)({name:"QMenu",inheritAttrs:!1,props:{...s.d,...l.RI,...u.C,...h.d,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:T.o3},self:{type:String,validator:T.o3},offset:{type:Array,validator:T.aC},scrollTarget:g.cP,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...l.Jl,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:p}){let M,C,R,x=null;const A=(0,r.nI)(),{proxy:N}=A,{$q:L}=N,k=(0,i.KR)(null),O=(0,i.KR)(!1),I=(0,r.EW)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss)),P=(0,u.A)(e,L),{registerTick:D,removeTick:F}=(0,d.A)(),{registerTimeout:H}=(0,f.A)(),{transitionProps:U,transitionStyle:B}=(0,h.A)(e),{localScrollTarget:j,changeScrollEvent:Y,unconfigureScrollTarget:V}=(0,a.A)(e,se),{anchorEl:W,canShow:z}=(0,s.Ay)({showing:O}),{hide:G}=(0,l.Ay)({showing:O,canShow:z,handleShow:re,handleHide:ie,hideOnRouteChange:I,processOnMount:!0}),{showPortal:$,hidePortal:q,renderPortal:K}=(0,c.A)(A,k,he,"menu"),X={anchorEl:W,innerRef:k,onClickOutside(t){if(!0!==e.persistent&&!0===O.value)return G(t),("touchstart"===t.type||t.target.classList.contains("q-dialog__backdrop"))&&(0,v.Gu)(t),!0}},J=(0,r.EW)((()=>(0,T.rk)(e.anchor||(!0===e.cover?"center middle":"bottom start"),L.lang.rtl))),Q=(0,r.EW)((()=>!0===e.cover?J.value:(0,T.rk)(e.self||"top start",L.lang.rtl))),Z=(0,r.EW)((()=>(!0===e.square?" q-menu--square":"")+(!0===P.value?" q-menu--dark q-dark":""))),ee=(0,r.EW)((()=>!0===e.autoClose?{onClick:ae}:{})),te=(0,r.EW)((()=>!0===O.value&&!0!==e.persistent));function ne(){(0,S.Gy)((()=>{let e=k.value;e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||e.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||e.querySelector("[autofocus], [data-autofocus]")||e,e.focus({preventScroll:!0}))}))}function re(t){if(x=!1===e.noRefocus?document.activeElement:null,(0,w.g)(le),$(),se(),M=void 0,void 0!==t&&(e.touchPosition||e.contextMenu)){const e=(0,v.G1)(t);if(void 0!==e.left){const{top:t,left:n}=W.value.getBoundingClientRect();M={left:e.left-n,top:e.top-t}}}void 0===C&&(C=(0,r.wB)((()=>L.screen.width+"|"+L.screen.height+"|"+e.self+"|"+e.anchor+"|"+L.lang.rtl),ce)),!0!==e.noFocus&&document.activeElement.blur(),D((()=>{ce(),!0!==e.noFocus&&ne()})),H((()=>{!0===L.platform.is.ios&&(R=e.autoClose,k.value.click()),ce(),$(!0),n("show",t)}),e.transitionDuration)}function ie(t){F(),q(),oe(!0),null===x||void 0!==t&&!0===t.qClickOutside||(((t&&0===t.type.indexOf("key")?x.closest('[tabindex]:not([tabindex^="-"])'):void 0)||x).focus(),x=null),H((()=>{q(!0),n("hide",t)}),e.transitionDuration)}function oe(e){M=void 0,void 0!==C&&(C(),C=void 0),!0!==e&&!0!==O.value||((0,w.v)(le),V(),(0,E.e)(X),(0,b.V)(ue)),!0!==e&&(x=null)}function se(){null===W.value&&void 0===e.scrollTarget||(j.value=(0,g.hD)(W.value,e.scrollTarget),Y(j.value,ce))}function ae(e){!0!==R?((0,m.bc)(N,e),n("click",e)):R=!1}function le(t){!0===te.value&&!0!==e.noFocus&&!0!==(0,_.$J)(k.value,t.target)&&ne()}function ue(e){n("escapeKey"),G(e)}function ce(){(0,T.Kk)({targetEl:k.value,offset:e.offset,anchorEl:W.value,anchorOrigin:J.value,selfOrigin:Q.value,absoluteOffset:M,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function he(){return(0,r.h)(o.eB,U.value,(()=>!0===O.value?(0,r.h)("div",{role:"menu",...p,ref:k,tabindex:-1,class:["q-menu q-position-engine scroll"+Z.value,p.class],style:[p.style,B.value],...ee.value},(0,y.zm)(t.default)):null))}return(0,r.wB)(te,(e=>{!0===e?((0,b.I)(ue),(0,E.r)(X)):((0,b.V)(ue),(0,E.e)(X))})),(0,r.xo)(oe),Object.assign(N,{focus:ne,updatePosition:ce}),K}})},34854:function(e,t,n){"use strict";var r=n(74220),i=n(46732),o=n(85704),s=n(14599),a=n(21073),l=n(99140),u=n(79862);t.A=(0,l.a0)({name:"QPopupProxy",props:{...a.d,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:l}){const{proxy:c}=(0,r.nI)(),{$q:h}=c,d=(0,i.KR)(!1),f=(0,i.KR)(null),p=(0,r.EW)((()=>parseInt(e.breakpoint,10))),{canShow:m}=(0,a.Ay)({showing:d});function g(){return h.screen.width<p.value||h.screen.height<p.value?"dialog":"menu"}const v=(0,i.KR)(g()),y=(0,r.EW)((()=>"menu"===v.value?{maxHeight:"99vh"}:{}));function b(e){d.value=!0,n("show",e)}function w(e){d.value=!1,v.value=g(),n("hide",e)}return(0,r.wB)((()=>g()),(e=>{!0!==d.value&&(v.value=e)})),Object.assign(c,{show(e){!0===m(e)&&f.value.show(e)},hide(e){f.value.hide(e)},toggle(e){f.value.toggle(e)}}),(0,u.$)(c,"currentComponent",(()=>({type:v.value,ref:f.value}))),()=>{const n={ref:f,...y.value,...l,onShow:b,onHide:w};let i;return"dialog"===v.value?i=o.A:(i=s.A,Object.assign(n,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),(0,r.h)(i,n,t.default)}}})},12321:function(e,t,n){"use strict";n(84645);var r=n(74220),i=n(46732),o=n(95862),s=n(99140),a=n(15055),l=n(46631);const u={MIN:0,RANGE:1,MAX:2};t.A=(0,s.a0)({name:"QRange",props:{...o.to,modelValue:{type:Object,default:()=>({min:null,max:null}),validator:e=>"min"in e&&"max"in e},dragRange:Boolean,dragOnlyRange:Boolean,leftLabelColor:String,leftLabelTextColor:String,rightLabelColor:String,rightLabelTextColor:String,leftLabelValue:[String,Number],rightLabelValue:[String,Number],leftThumbColor:String,rightThumbColor:String},emits:o.Xo,setup(e,{emit:t}){const{proxy:{$q:n}}=(0,r.nI)(),{state:s,methods:c}=(0,o.Ay)({updateValue:N,updatePosition:k,getDragging:L,formAttrs:(0,r.EW)((()=>({type:"hidden",name:e.name,value:`${e.modelValue.min}|${e.modelValue.max}`})))}),h=(0,i.KR)(null),d=(0,i.KR)(0),f=(0,i.KR)(0),p=(0,i.KR)({min:0,max:0});function m(){p.value.min=null===e.modelValue.min?s.innerMin.value:(0,l.Tq)(e.modelValue.min,s.innerMin.value,s.innerMax.value),p.value.max=null===e.modelValue.max?s.innerMax.value:(0,l.Tq)(e.modelValue.max,s.innerMin.value,s.innerMax.value)}(0,r.wB)((()=>`${e.modelValue.min}|${e.modelValue.max}|${s.innerMin.value}|${s.innerMax.value}`),m),m();const g=(0,r.EW)((()=>c.convertModelToRatio(p.value.min))),v=(0,r.EW)((()=>c.convertModelToRatio(p.value.max))),y=(0,r.EW)((()=>!0===s.active.value?d.value:g.value)),b=(0,r.EW)((()=>!0===s.active.value?f.value:v.value)),w=(0,r.EW)((()=>{const t={[s.positionProp.value]:100*y.value+"%",[s.sizeProp.value]:100*(b.value-y.value)+"%"};return void 0!==e.selectionImg&&(t.backgroundImage=`url(${e.selectionImg}) !important`),t})),_=(0,r.EW)((()=>{if(!0!==s.editable.value)return{};if(!0===n.platform.is.mobile)return{onClick:c.onMobileClick};const t={onMousedown:c.onActivate};return!0!==e.dragRange&&!0!==e.dragOnlyRange||Object.assign(t,{onFocus:()=>{s.focus.value="both"},onBlur:c.onBlur,onKeydown:O,onKeyup:c.onKeyup}),t}));function E(t){return!0!==n.platform.is.mobile&&!0===s.editable.value&&!0!==e.dragOnlyRange?{onFocus:()=>{s.focus.value=t},onBlur:c.onBlur,onKeydown:O,onKeyup:c.onKeyup}:{}}const S=(0,r.EW)((()=>!0!==e.dragOnlyRange?s.tabindex.value:null)),T=(0,r.EW)((()=>!0===n.platform.is.mobile||!e.dragRange&&!0!==e.dragOnlyRange?null:s.tabindex.value)),M=(0,i.KR)(null),C=(0,r.EW)((()=>E("min"))),R=c.getThumbRenderFn({focusValue:"min",getNodeData:()=>({ref:M,key:"tmin",...C.value,tabindex:S.value}),ratio:y,label:(0,r.EW)((()=>void 0!==e.leftLabelValue?e.leftLabelValue:p.value.min)),thumbColor:(0,r.EW)((()=>e.leftThumbColor||e.thumbColor||e.color)),labelColor:(0,r.EW)((()=>e.leftLabelColor||e.labelColor)),labelTextColor:(0,r.EW)((()=>e.leftLabelTextColor||e.labelTextColor))}),x=(0,r.EW)((()=>E("max"))),A=c.getThumbRenderFn({focusValue:"max",getNodeData:()=>({...x.value,key:"tmax",tabindex:S.value}),ratio:b,label:(0,r.EW)((()=>void 0!==e.rightLabelValue?e.rightLabelValue:p.value.max)),thumbColor:(0,r.EW)((()=>e.rightThumbColor||e.thumbColor||e.color)),labelColor:(0,r.EW)((()=>e.rightLabelColor||e.labelColor)),labelTextColor:(0,r.EW)((()=>e.rightLabelTextColor||e.labelTextColor))});function N(n){p.value.min===e.modelValue.min&&p.value.max===e.modelValue.max||t("update:modelValue",{...p.value}),!0===n&&t("change",{...p.value})}function L(t){const{left:n,top:r,width:i,height:o}=h.value.getBoundingClientRect(),s=!0===e.dragOnlyRange?0:!0===e.vertical?M.value.offsetHeight/(2*o):M.value.offsetWidth/(2*i),a={left:n,top:r,width:i,height:o,valueMin:p.value.min,valueMax:p.value.max,ratioMin:g.value,ratioMax:v.value},l=c.getDraggingRatio(t,a);return!0!==e.dragOnlyRange&&l<a.ratioMin+s?a.type=u.MIN:!0===e.dragOnlyRange||l<a.ratioMax-s?!0===e.dragRange||!0===e.dragOnlyRange?(a.type=u.RANGE,Object.assign(a,{offsetRatio:l,offsetModel:c.convertRatioToModel(l),rangeValue:a.valueMax-a.valueMin,rangeRatio:a.ratioMax-a.ratioMin})):a.type=a.ratioMax-l<l-a.ratioMin?u.MAX:u.MIN:a.type=u.MAX,a}function k(t,n=s.dragging.value){let r;const i=c.getDraggingRatio(t,n),o=c.convertRatioToModel(i);switch(n.type){case u.MIN:i<=n.ratioMax?(r={minR:i,maxR:n.ratioMax,min:o,max:n.valueMax},s.focus.value="min"):(r={minR:n.ratioMax,maxR:i,min:n.valueMax,max:o},s.focus.value="max");break;case u.MAX:i>=n.ratioMin?(r={minR:n.ratioMin,maxR:i,min:n.valueMin,max:o},s.focus.value="max"):(r={minR:i,maxR:n.ratioMin,min:o,max:n.valueMin},s.focus.value="min");break;case u.RANGE:const e=i-n.offsetRatio,t=(0,l.Tq)(n.ratioMin+e,s.innerMinRatio.value,s.innerMaxRatio.value-n.rangeRatio),a=o-n.offsetModel,c=(0,l.Tq)(n.valueMin+a,s.innerMin.value,s.innerMax.value-n.rangeValue);r={minR:t,maxR:t+n.rangeRatio,min:s.roundValueFn.value(c),max:s.roundValueFn.value(c+n.rangeValue)},s.focus.value="both";break}p.value=null===p.value.min||null===p.value.max?{min:r.min||e.min,max:r.max||e.max}:{min:r.min,max:r.max},!0!==e.snap||0===e.step?(d.value=r.minR,f.value=r.maxR):(d.value=c.convertModelToRatio(p.value.min),f.value=c.convertModelToRatio(p.value.max))}function O(t){if(!o.uP.includes(t.keyCode))return;(0,a.Gu)(t);const n=([34,33].includes(t.keyCode)?10:1)*s.keyStep.value,r=([34,37,40].includes(t.keyCode)?-1:1)*(!0===s.isReversed.value?-1:1)*(!0===e.vertical?-1:1)*n;if("both"===s.focus.value){const e=p.value.max-p.value.min,t=(0,l.Tq)(s.roundValueFn.value(p.value.min+r),s.innerMin.value,s.innerMax.value-e);p.value={min:t,max:s.roundValueFn.value(t+e)}}else{if(!1===s.focus.value)return;{const e=s.focus.value;p.value={...p.value,[e]:(0,l.Tq)(s.roundValueFn.value(p.value[e]+r),"min"===e?s.innerMin.value:p.value.min,"max"===e?s.innerMax.value:p.value.max)}}}N()}return()=>{const t=c.getContent(w,T,_,(e=>{e.push(R(),A())}));return(0,r.h)("div",{ref:h,class:"q-range "+s.classes.value+(null===e.modelValue.min||null===e.modelValue.max?" q-slider--no-value":""),...s.attributes.value,"aria-valuenow":e.modelValue.min+"|"+e.modelValue.max},t)}}})},40975:function(e,t,n){"use strict";n(84645);var r=n(74220),i=n(46732),o=n(45855),s=n(64503),a=n(97491),l=n(93359),u=n(91484),c=n(72473),h=n(14599),d=n(85704),f=n(99305),p=n(37230),m=n(43749),g=n(81173),v=n(99140),y=n(78445),b=n(15055),w=n(46631),_=n(37031),E=n(41952);const S=e=>["add","add-unique","toggle"].includes(e),T=".*+?^${}()|[]\\",M=Object.keys(f.OJ);t.A=(0,v.a0)({name:"QSelect",inheritAttrs:!1,props:{...p.AV,...m.Sc,...f.OJ,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:S},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:p.AV.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...f.mU,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:v}=(0,r.nI)(),{$q:C}=v,R=(0,i.KR)(!1),x=(0,i.KR)(!1),A=(0,i.KR)(-1),N=(0,i.KR)(""),L=(0,i.KR)(!1),k=(0,i.KR)(!1);let O,I,P,D,F,H,U,B=null,j=null,Y=null;const V=(0,i.KR)(null),W=(0,i.KR)(null),z=(0,i.KR)(null),G=(0,i.KR)(null),$=(0,i.KR)(null),q=(0,m.M4)(e),K=(0,g.A)(Xe),X=(0,r.EW)((()=>Array.isArray(e.options)?e.options.length:0)),J=(0,r.EW)((()=>void 0===e.virtualScrollItemSize?!0===e.optionsDense?24:48:e.virtualScrollItemSize)),{virtualScrollSliceRange:Q,virtualScrollSliceSizeComputed:Z,localResetVirtualScroll:ee,padVirtualScroll:te,onVirtualScrollEvt:ne,scrollTo:re,setVirtualScrollSize:ie}=(0,p.Iq)({virtualScrollLength:X,getVirtualScrollTarget:Ge,getVirtualScrollEl:ze,virtualScrollItemSizeComputed:J}),oe=(0,f.$7)(),se=(0,r.EW)((()=>{const t=!0===e.mapOptions&&!0!==e.multiple,n=void 0===e.modelValue||null===e.modelValue&&!0!==t?[]:!0===e.multiple&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue];if(!0===e.mapOptions&&!0===Array.isArray(e.options)){const r=!0===e.mapOptions&&void 0!==O?O:[],i=n.map((e=>Fe(e,r)));return null===e.modelValue&&!0===t?i.filter((e=>null!==e)):i}return n})),ae=(0,r.EW)((()=>{const t={};return M.forEach((n=>{const r=e[n];void 0!==r&&(t[n]=r)})),t})),le=(0,r.EW)((()=>null===e.optionsDark?oe.isDark.value:e.optionsDark)),ue=(0,r.EW)((()=>(0,f.o9)(se.value))),ce=(0,r.EW)((()=>{let t="q-field__input q-placeholder col";return!0===e.hideSelected||0===se.value.length?[t,e.inputClass]:(t+=" q-field__input--padding",void 0===e.inputClass?t:[t,e.inputClass])})),he=(0,r.EW)((()=>(!0===e.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:""))),de=(0,r.EW)((()=>0===X.value)),fe=(0,r.EW)((()=>se.value.map((e=>Ce.value(e))).join(", "))),pe=(0,r.EW)((()=>void 0!==e.displayValue?e.displayValue:fe.value)),me=(0,r.EW)((()=>!0===e.optionsHtml?()=>!0:e=>void 0!==e&&null!==e&&!0===e.html)),ge=(0,r.EW)((()=>!0===e.displayValueHtml||void 0===e.displayValue&&(!0===e.optionsHtml||se.value.some(me.value)))),ve=(0,r.EW)((()=>!0===oe.focused.value?e.tabindex:-1)),ye=(0,r.EW)((()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":!0===e.readonly?"true":"false","aria-autocomplete":!0===e.useInput?"list":"none","aria-expanded":!0===R.value?"true":"false","aria-controls":`${oe.targetUid.value}_lb`};return A.value>=0&&(t["aria-activedescendant"]=`${oe.targetUid.value}_${A.value}`),t})),be=(0,r.EW)((()=>({id:`${oe.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===e.multiple?"true":"false"}))),we=(0,r.EW)((()=>se.value.map(((e,t)=>({index:t,opt:e,html:me.value(e),selected:!0,removeAtIndex:ke,toggleOption:Ie,tabindex:ve.value}))))),_e=(0,r.EW)((()=>{if(0===X.value)return[];const{from:t,to:n}=Q.value;return e.options.slice(t,n).map(((n,r)=>{const i=!0===Re.value(n),o=!0===Ue(n),s=t+r,a={clickable:!0,active:o,activeClass:Te.value,manualFocus:!0,focused:!1,disable:i,tabindex:-1,dense:e.optionsDense,dark:le.value,role:"option","aria-selected":!0===o?"true":"false",id:`${oe.targetUid.value}_${s}`,onClick:()=>{Ie(n)}};return!0!==i&&(A.value===s&&(a.focused=!0),!0===C.platform.is.desktop&&(a.onMousemove=()=>{!0===R.value&&Pe(s)})),{index:s,opt:n,html:me.value(n),label:Ce.value(n),selected:a.active,focused:a.focused,toggleOption:Ie,setOptionIndex:Pe,itemProps:a}}))})),Ee=(0,r.EW)((()=>void 0!==e.dropdownIcon?e.dropdownIcon:C.iconSet.arrow.dropdown)),Se=(0,r.EW)((()=>!1===e.optionsCover&&!0!==e.outlined&&!0!==e.standout&&!0!==e.borderless&&!0!==e.rounded)),Te=(0,r.EW)((()=>void 0!==e.optionsSelectedClass?e.optionsSelectedClass:void 0!==e.color?`text-${e.color}`:"")),Me=(0,r.EW)((()=>He(e.optionValue,"value"))),Ce=(0,r.EW)((()=>He(e.optionLabel,"label"))),Re=(0,r.EW)((()=>He(e.optionDisable,"disable"))),xe=(0,r.EW)((()=>se.value.map((e=>Me.value(e))))),Ae=(0,r.EW)((()=>{const e={onInput:Xe,onChange:K,onKeydown:We,onKeyup:Ye,onKeypress:Ve,onFocus:Be,onClick(e){!0===I&&(0,b.ds)(e)}};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=K,e}));function Ne(t){return!0===e.emitValue?Me.value(t):t}function Le(t){if(-1!==t&&t<se.value.length)if(!0===e.multiple){const r=e.modelValue.slice();n("remove",{index:t,value:r.splice(t,1)[0]}),n("update:modelValue",r)}else n("update:modelValue",null)}function ke(e){Le(e),oe.focus()}function Oe(t,r){const i=Ne(t);if(!0!==e.multiple)return!0===e.fillInput&&Qe(Ce.value(t),!0,!0),void n("update:modelValue",i);if(0===se.value.length)return n("add",{index:0,value:i}),void n("update:modelValue",!0===e.multiple?[i]:i);if(!0===r&&!0===Ue(t))return;if(void 0!==e.maxValues&&e.modelValue.length>=e.maxValues)return;const o=e.modelValue.slice();n("add",{index:o.length,value:i}),o.push(i),n("update:modelValue",o)}function Ie(t,r){if(!0!==oe.editable.value||void 0===t||!0===Re.value(t))return;const i=Me.value(t);if(!0!==e.multiple)return!0!==r&&(Qe(!0===e.fillInput?Ce.value(t):"",!0,!0),ht()),null!==W.value&&W.value.focus(),void(0!==se.value.length&&!0===(0,y.Hv)(Me.value(se.value[0]),i)||n("update:modelValue",!0===e.emitValue?i:t));if((!0!==I||!0===L.value)&&oe.focus(),Be(),0===se.value.length){const r=!0===e.emitValue?i:t;return n("add",{index:0,value:r}),void n("update:modelValue",!0===e.multiple?[r]:r)}const o=e.modelValue.slice(),s=xe.value.findIndex((e=>(0,y.Hv)(e,i)));if(-1!==s)n("remove",{index:s,value:o.splice(s,1)[0]});else{if(void 0!==e.maxValues&&o.length>=e.maxValues)return;const r=!0===e.emitValue?i:t;n("add",{index:o.length,value:r}),o.push(r)}n("update:modelValue",o)}function Pe(e){if(!0!==C.platform.is.desktop)return;const t=-1!==e&&e<X.value?e:-1;A.value!==t&&(A.value=t)}function De(t=1,n){if(!0===R.value){let r=A.value;do{r=(0,w.eo)(r+t,-1,X.value-1)}while(-1!==r&&r!==A.value&&!0===Re.value(e.options[r]));A.value!==r&&(Pe(r),re(r),!0!==n&&!0===e.useInput&&!0===e.fillInput&&Je(r>=0?Ce.value(e.options[r]):D,!0))}}function Fe(t,n){const r=e=>(0,y.Hv)(Me.value(e),t);return e.options.find(r)||n.find(r)||t}function He(e,t){const n=void 0!==e?e:t;return"function"===typeof n?n:e=>null!==e&&"object"===typeof e&&n in e?e[n]:e}function Ue(e){const t=Me.value(e);return void 0!==xe.value.find((e=>(0,y.Hv)(e,t)))}function Be(t){!0===e.useInput&&null!==W.value&&(void 0===t||W.value===t.target&&t.target.value===fe.value)&&W.value.select()}function je(e){!0===(0,_.Dv)(e,27)&&!0===R.value&&((0,b.ds)(e),ht(),dt()),n("keyup",e)}function Ye(t){const{value:n}=t.target;if(void 0===t.keyCode)if(t.target.value="",null!==B&&(clearTimeout(B),B=null),null!==j&&(clearTimeout(j),j=null),dt(),"string"===typeof n&&0!==n.length){const t=n.toLocaleLowerCase(),r=n=>{const r=e.options.find((e=>n.value(e).toLocaleLowerCase()===t));return void 0!==r&&(-1===se.value.indexOf(r)?Ie(r):ht(),!0)},i=e=>{!0!==r(Me)&&!0!==r(Ce)&&!0!==e&&Ze(n,!0,(()=>i(!0)))};i()}else oe.clearValue(t);else je(t)}function Ve(e){n("keypress",e)}function We(t){if(n("keydown",t),!0===(0,_.JL)(t))return;const i=0!==N.value.length&&(void 0!==e.newValueMode||void 0!==e.onNewValue),o=!0!==t.shiftKey&&!0!==e.multiple&&(-1!==A.value||!0===i);if(27===t.keyCode)return void(0,b.F4)(t);if(9===t.keyCode&&!1===o)return void ut();if(void 0===t.target||t.target.id!==oe.targetUid.value||!0!==oe.editable.value)return;if(40===t.keyCode&&!0!==oe.innerLoading.value&&!1===R.value)return(0,b.Gu)(t),void ct();if(8===t.keyCode&&(!0===e.useChips||!0===e.clearable)&&!0!==e.hideSelected&&0===N.value.length)return void(!0===e.multiple&&!0===Array.isArray(e.modelValue)?Le(e.modelValue.length-1):!0!==e.multiple&&null!==e.modelValue&&n("update:modelValue",null));35!==t.keyCode&&36!==t.keyCode||"string"===typeof N.value&&0!==N.value.length||((0,b.Gu)(t),A.value=-1,De(36===t.keyCode?1:-1,e.multiple)),33!==t.keyCode&&34!==t.keyCode||void 0===Z.value||((0,b.Gu)(t),A.value=Math.max(-1,Math.min(X.value,A.value+(33===t.keyCode?-1:1)*Z.value.view)),De(33===t.keyCode?1:-1,e.multiple)),38!==t.keyCode&&40!==t.keyCode||((0,b.Gu)(t),De(38===t.keyCode?-1:1,e.multiple));const s=X.value;if((void 0===H||U<Date.now())&&(H=""),s>0&&!0!==e.useInput&&void 0!==t.key&&1===t.key.length&&!1===t.altKey&&!1===t.ctrlKey&&!1===t.metaKey&&(32!==t.keyCode||0!==H.length)){!0!==R.value&&ct(t);const n=t.key.toLocaleLowerCase(),i=1===H.length&&H[0]===n;U=Date.now()+1500,!1===i&&((0,b.Gu)(t),H+=n);const o=new RegExp("^"+H.split("").map((e=>-1!==T.indexOf(e)?"\\"+e:e)).join(".*"),"i");let a=A.value;if(!0===i||a<0||!0!==o.test(Ce.value(e.options[a])))do{a=(0,w.eo)(a+1,-1,s-1)}while(a!==A.value&&(!0===Re.value(e.options[a])||!0!==o.test(Ce.value(e.options[a]))));A.value!==a&&(0,r.dY)((()=>{Pe(a),re(a),a>=0&&!0===e.useInput&&!0===e.fillInput&&Je(Ce.value(e.options[a]),!0)}))}else if(13===t.keyCode||32===t.keyCode&&!0!==e.useInput&&""===H||9===t.keyCode&&!1!==o)if(9!==t.keyCode&&(0,b.Gu)(t),-1!==A.value&&A.value<s)Ie(e.options[A.value]);else{if(!0===i){const t=(t,n)=>{if(n){if(!0!==S(n))return}else n=e.newValueMode;if(Qe("",!0!==e.multiple,!0),void 0===t||null===t)return;const r="toggle"===n?Ie:Oe;r(t,"add-unique"===n),!0!==e.multiple&&(null!==W.value&&W.value.focus(),ht())};if(void 0!==e.onNewValue?n("newValue",N.value,t):t(N.value),!0!==e.multiple)return}!0===R.value?ut():!0!==oe.innerLoading.value&&ct()}}function ze(){return!0===I?$.value:null!==z.value&&null!==z.value.contentEl?z.value.contentEl:void 0}function Ge(){return ze()}function $e(){return!0===e.hideSelected?[]:void 0!==t["selected-item"]?we.value.map((e=>t["selected-item"](e))).slice():void 0!==t.selected?[].concat(t.selected()):!0===e.useChips?we.value.map(((t,n)=>(0,r.h)(a.A,{key:"option-"+n,removable:!0===oe.editable.value&&!0!==Re.value(t.opt),dense:!0,textColor:e.color,tabindex:ve.value,onRemove(){t.removeAtIndex(n)}},(()=>(0,r.h)("span",{class:"ellipsis",[!0===t.html?"innerHTML":"textContent"]:Ce.value(t.opt)}))))):[(0,r.h)("span",{[!0===ge.value?"innerHTML":"textContent"]:pe.value})]}function qe(){if(!0===de.value)return void 0!==t["no-option"]?t["no-option"]({inputValue:N.value}):void 0;const e=void 0!==t.option?t.option:e=>(0,r.h)(l.A,{key:e.index,...e.itemProps},(()=>(0,r.h)(u.A,(()=>(0,r.h)(c.A,(()=>(0,r.h)("span",{[!0===e.html?"innerHTML":"textContent"]:e.label})))))));let n=te("div",_e.value.map(e));return void 0!==t["before-options"]&&(n=t["before-options"]().concat(n)),(0,E.Hp)(t["after-options"],n)}function Ke(t,n){const i=!0===n?{...ye.value,...oe.splitAttrs.attributes.value}:void 0,o={ref:!0===n?W:void 0,key:"i_t",class:ce.value,style:e.inputStyle,value:void 0!==N.value?N.value:"",type:"search",...i,id:!0===n?oe.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":!0===t||!0===e.autofocus||void 0,disabled:!0===e.disable,readonly:!0===e.readonly,...Ae.value};return!0!==t&&!0===I&&(!0===Array.isArray(o.class)?o.class=[...o.class,"no-pointer-events"]:o.class+=" no-pointer-events"),(0,r.h)("input",o)}function Xe(t){null!==B&&(clearTimeout(B),B=null),null!==j&&(clearTimeout(j),j=null),t&&t.target&&!0===t.target.qComposing||(Je(t.target.value||""),P=!0,D=N.value,!0===oe.focused.value||!0===I&&!0!==L.value||oe.focus(),void 0!==e.onFilter&&(B=setTimeout((()=>{B=null,Ze(N.value)}),e.inputDebounce)))}function Je(t,r){N.value!==t&&(N.value=t,!0===r||0===e.inputDebounce||"0"===e.inputDebounce?n("inputValue",t):j=setTimeout((()=>{j=null,n("inputValue",t)}),e.inputDebounce))}function Qe(t,n,r){P=!0!==r,!0===e.useInput&&(Je(t,!0),!0!==n&&!0===r||(D=t),!0!==n&&Ze(t))}function Ze(t,i,o){if(void 0===e.onFilter||!0!==i&&!0!==oe.focused.value)return;!0===oe.innerLoading.value?n("filterAbort"):(oe.innerLoading.value=!0,k.value=!0),""!==t&&!0!==e.multiple&&0!==se.value.length&&!0!==P&&t===Ce.value(se.value[0])&&(t="");const s=setTimeout((()=>{!0===R.value&&(R.value=!1)}),10);null!==Y&&clearTimeout(Y),Y=s,n("filter",t,((e,t)=>{!0!==i&&!0!==oe.focused.value||Y!==s||(clearTimeout(Y),"function"===typeof e&&e(),k.value=!1,(0,r.dY)((()=>{oe.innerLoading.value=!1,!0===oe.editable.value&&(!0===i?!0===R.value&&ht():!0===R.value?ft(!0):R.value=!0),"function"===typeof t&&(0,r.dY)((()=>{t(v)})),"function"===typeof o&&(0,r.dY)((()=>{o(v)}))})))}),(()=>{!0===oe.focused.value&&Y===s&&(clearTimeout(Y),oe.innerLoading.value=!1,k.value=!1),!0===R.value&&(R.value=!1)}))}function et(){return(0,r.h)(h.A,{ref:z,class:he.value,style:e.popupContentStyle,modelValue:R.value,fit:!0!==e.menuShrink,cover:!0===e.optionsCover&&!0!==de.value&&!0!==e.useInput,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:le.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Se.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...be.value,onScrollPassive:ne,onBeforeShow:gt,onBeforeHide:tt,onShow:nt},qe)}function tt(e){vt(e),ut()}function nt(){ie()}function rt(e){(0,b.ds)(e),null!==W.value&&W.value.focus(),L.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function it(e){(0,b.ds)(e),(0,r.dY)((()=>{L.value=!1}))}function ot(){const n=[(0,r.h)(o.A,{class:`col-auto ${oe.fieldClass.value}`,...ae.value,for:oe.targetUid.value,dark:le.value,square:!0,loading:k.value,itemAligned:!1,filled:!0,stackLabel:0!==N.value.length,...oe.splitAttrs.listeners.value,onFocus:rt,onBlur:it},{...t,rawControl:()=>oe.getControl(!0),before:void 0,after:void 0})];return!0===R.value&&n.push((0,r.h)("div",{ref:$,class:he.value+" scroll",style:e.popupContentStyle,...be.value,onClick:b.F4,onScrollPassive:ne},qe())),(0,r.h)(d.A,{ref:G,modelValue:x.value,position:!0===e.useInput?"top":void 0,transitionShow:F,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:gt,onBeforeHide:st,onHide:at,onShow:lt},(()=>(0,r.h)("div",{class:"q-select__dialog"+(!0===le.value?" q-select__dialog--dark q-dark":"")+(!0===L.value?" q-select__dialog--focused":"")},n)))}function st(e){vt(e),null!==G.value&&G.value.__updateRefocusTarget(oe.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),oe.focused.value=!1}function at(e){ht(),!1===oe.focused.value&&n("blur",e),dt()}function lt(){const e=document.activeElement;null!==e&&e.id===oe.targetUid.value||null===W.value||W.value===e||W.value.focus(),ie()}function ut(){!0!==x.value&&(A.value=-1,!0===R.value&&(R.value=!1),!1===oe.focused.value&&(null!==Y&&(clearTimeout(Y),Y=null),!0===oe.innerLoading.value&&(n("filterAbort"),oe.innerLoading.value=!1,k.value=!1)))}function ct(n){!0===oe.editable.value&&(!0===I?(oe.onControlFocusin(n),x.value=!0,(0,r.dY)((()=>{oe.focus()}))):oe.focus(),void 0!==e.onFilter?Ze(N.value):!0===de.value&&void 0===t["no-option"]||(R.value=!0))}function ht(){x.value=!1,ut()}function dt(){!0===e.useInput&&Qe(!0!==e.multiple&&!0===e.fillInput&&0!==se.value.length&&Ce.value(se.value[0])||"",!0,!0)}function ft(t){let n=-1;if(!0===t){if(0!==se.value.length){const t=Me.value(se.value[0]);n=e.options.findIndex((e=>(0,y.Hv)(Me.value(e),t)))}ee(n)}Pe(n)}function pt(e,t){!0===R.value&&!1===oe.innerLoading.value&&(ee(-1,!0),(0,r.dY)((()=>{!0===R.value&&!1===oe.innerLoading.value&&(e>t?ee():ft(!0))})))}function mt(){!1===x.value&&null!==z.value&&z.value.updatePosition()}function gt(e){void 0!==e&&(0,b.ds)(e),n("popupShow",e),oe.hasPopupOpen=!0,oe.onControlFocusin(e)}function vt(e){void 0!==e&&(0,b.ds)(e),n("popupHide",e),oe.hasPopupOpen=!1,oe.onControlFocusout(e)}function yt(){I=(!0===C.platform.is.mobile||"dialog"===e.behavior)&&("menu"!==e.behavior&&(!0!==e.useInput||(void 0!==t["no-option"]||void 0!==e.onFilter||!1===de.value))),F=!0===C.platform.is.ios&&!0===I&&!0===e.useInput?"fade":e.transitionShow}return(0,r.wB)(se,(t=>{O=t,!0===e.useInput&&!0===e.fillInput&&!0!==e.multiple&&!0!==oe.innerLoading.value&&(!0!==x.value&&!0!==R.value||!0!==ue.value)&&(!0!==P&&dt(),!0!==x.value&&!0!==R.value||Ze(""))}),{immediate:!0}),(0,r.wB)((()=>e.fillInput),dt),(0,r.wB)(R,ft),(0,r.wB)(X,pt),(0,r.Ic)(yt),(0,r.$u)(mt),yt(),(0,r.xo)((()=>{null!==B&&clearTimeout(B),null!==j&&clearTimeout(j)})),Object.assign(v,{showPopup:ct,hidePopup:ht,removeAtIndex:Le,add:Oe,toggleOption:Ie,getOptionIndex:()=>A.value,setOptionIndex:Pe,moveOptionSelection:De,filter:Ze,updateMenuPosition:mt,updateInputValue:Qe,isOptionSelected:Ue,getEmittingOptionValue:Ne,isOptionDisabled:(...e)=>!0===Re.value.apply(null,e),getOptionValue:(...e)=>Me.value.apply(null,e),getOptionLabel:(...e)=>Ce.value.apply(null,e)}),Object.assign(oe,{innerValue:se,fieldClass:(0,r.EW)((()=>`q-select q-field--auto-height q-select--with${!0!==e.useInput?"out":""}-input q-select--with${!0!==e.useChips?"out":""}-chips q-select--`+(!0===e.multiple?"multiple":"single"))),inputRef:V,targetRef:W,hasValue:ue,showPopup:ct,floatingLabel:(0,r.EW)((()=>!0!==e.hideSelected&&!0===ue.value||"number"===typeof N.value||0!==N.value.length||(0,f.o9)(e.displayValue))),getControlChild:()=>{if(!1!==oe.editable.value&&(!0===x.value||!0!==de.value||void 0!==t["no-option"]))return!0===I?ot():et();!0===oe.hasPopupOpen&&(oe.hasPopupOpen=!1)},controlEvents:{onFocusin(e){oe.onControlFocusin(e)},onFocusout(e){oe.onControlFocusout(e,(()=>{dt(),ut()}))},onClick(e){if((0,b.F4)(e),!0!==I&&!0===R.value)return ut(),void(null!==W.value&&W.value.focus());ct(e)}},getControl:t=>{const n=$e(),i=!0===t||!0!==x.value||!0!==I;if(!0===e.useInput)n.push(Ke(t,i));else if(!0===oe.editable.value){const o=!0===i?ye.value:void 0;n.push((0,r.h)("input",{ref:!0===i?W:void 0,key:"d_t",class:"q-select__focus-target",id:!0===i?oe.targetUid.value:void 0,value:pe.value,readonly:!0,"data-autofocus":!0===t||!0===e.autofocus||void 0,...o,onKeydown:We,onKeyup:je,onKeypress:Ve})),!0===i&&"string"===typeof e.autocomplete&&0!==e.autocomplete.length&&n.push((0,r.h)("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ye}))}if(void 0!==q.value&&!0!==e.disable&&0!==xe.value.length){const t=xe.value.map((e=>(0,r.h)("option",{value:e,selected:!0})));n.push((0,r.h)("select",{class:"hidden",name:q.value,multiple:e.multiple},t))}const o=!0===e.useInput||!0!==i?void 0:oe.splitAttrs.attributes.value;return(0,r.h)("div",{class:"q-field__native row items-center",...o,...oe.splitAttrs.listeners.value},n)},getInnerAppend:()=>!0!==e.loading&&!0!==k.value&&!0!==e.hideDropdownIcon?[(0,r.h)(s.A,{class:"q-select__dropdown-icon"+(!0===R.value?" rotate-180":""),name:Ee.value})]:null}),(0,f.Ay)(oe)}})},5861:function(e,t,n){"use strict";var r=n(74220),i=n(15471),o=n(99140);const s={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},a={xs:2,sm:4,md:8,lg:16,xl:24};t.A=(0,o.a0)({name:"QSeparator",props:{...i.C,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=(0,r.nI)(),n=(0,i.A)(e,t.proxy.$q),o=(0,r.EW)((()=>!0===e.vertical?"vertical":"horizontal")),l=(0,r.EW)((()=>` q-separator--${o.value}`)),u=(0,r.EW)((()=>!1!==e.inset?`${l.value}-${s[e.inset]}`:"")),c=(0,r.EW)((()=>`q-separator${l.value}${u.value}`+(void 0!==e.color?` bg-${e.color}`:"")+(!0===n.value?" q-separator--dark":""))),h=(0,r.EW)((()=>{const t={};if(void 0!==e.size&&(t[!0===e.vertical?"width":"height"]=e.size),!1!==e.spaced){const n=!0===e.spaced?`${a.md}px`:e.spaced in a?`${a[e.spaced]}px`:e.spaced,r=!0===e.vertical?["Left","Right"]:["Top","Bottom"];t[`margin${r[0]}`]=t[`margin${r[1]}`]=n}return t}));return()=>(0,r.h)("hr",{class:c.value,style:h.value,"aria-orientation":o.value})}})},95862:function(e,t,n){"use strict";n.d(t,{Ay:function(){return y},Xo:function(){return v},to:function(){return g},uP:function(){return m}});n(84645);var r=n(74220),i=n(46732),o=n(50045),s=n(15471),a=n(43749),l=n(46631),u=n(15055),c=n(78445),h=n(41952);const d="q-slider__marker-labels",f=e=>({value:e}),p=({marker:e})=>(0,r.h)("div",{key:e.value,style:e.style,class:e.classes},e.label),m=[34,37,40,33,39,38],g={...s.C,...a.Sc,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},v=["pan","update:modelValue","change"];function y({updateValue:e,updatePosition:t,getDragging:n,formAttrs:g}){const{props:v,emit:y,slots:b,proxy:{$q:w}}=(0,r.nI)(),_=(0,s.A)(v,w),E=(0,a.vq)(g),S=(0,i.KR)(!1),T=(0,i.KR)(!1),M=(0,i.KR)(!1),C=(0,i.KR)(!1),R=(0,r.EW)((()=>!0===v.vertical?"--v":"--h")),x=(0,r.EW)((()=>"-"+(!0===v.switchLabelSide?"switched":"standard"))),A=(0,r.EW)((()=>!0===v.vertical?!0===v.reverse:v.reverse!==(!0===w.lang.rtl))),N=(0,r.EW)((()=>!0===isNaN(v.innerMin)||v.innerMin<v.min?v.min:v.innerMin)),L=(0,r.EW)((()=>!0===isNaN(v.innerMax)||v.innerMax>v.max?v.max:v.innerMax)),k=(0,r.EW)((()=>!0!==v.disable&&!0!==v.readonly&&N.value<L.value)),O=(0,r.EW)((()=>{if(0===v.step)return e=>e;const e=(String(v.step).trim().split(".")[1]||"").length;return t=>parseFloat(t.toFixed(e))})),I=(0,r.EW)((()=>0===v.step?1:v.step)),P=(0,r.EW)((()=>!0===k.value?v.tabindex||0:-1)),D=(0,r.EW)((()=>v.max-v.min)),F=(0,r.EW)((()=>L.value-N.value)),H=(0,r.EW)((()=>se(N.value))),U=(0,r.EW)((()=>se(L.value))),B=(0,r.EW)((()=>!0===v.vertical?!0===A.value?"bottom":"top":!0===A.value?"right":"left")),j=(0,r.EW)((()=>!0===v.vertical?"height":"width")),Y=(0,r.EW)((()=>!0===v.vertical?"width":"height")),V=(0,r.EW)((()=>!0===v.vertical?"vertical":"horizontal")),W=(0,r.EW)((()=>{const e={role:"slider","aria-valuemin":N.value,"aria-valuemax":L.value,"aria-orientation":V.value,"data-step":v.step};return!0===v.disable?e["aria-disabled"]="true":!0===v.readonly&&(e["aria-readonly"]="true"),e})),z=(0,r.EW)((()=>`q-slider q-slider${R.value} q-slider--${!0===S.value?"":"in"}active inline no-wrap `+(!0===v.vertical?"row":"column")+(!0===v.disable?" disabled":" q-slider--enabled"+(!0===k.value?" q-slider--editable":""))+("both"===M.value?" q-slider--focus":"")+(v.label||!0===v.labelAlways?" q-slider--label":"")+(!0===v.labelAlways?" q-slider--label-always":"")+(!0===_.value?" q-slider--dark":"")+(!0===v.dense?" q-slider--dense q-slider--dense"+R.value:"")));function G(e){const t="q-slider__"+e;return`${t} ${t}${R.value} ${t}${R.value}${x.value}`}function $(e){const t="q-slider__"+e;return`${t} ${t}${R.value}`}const q=(0,r.EW)((()=>{const e=v.selectionColor||v.color;return"q-slider__selection absolute"+(void 0!==e?` text-${e}`:"")})),K=(0,r.EW)((()=>$("markers")+" absolute overflow-hidden")),X=(0,r.EW)((()=>$("track-container"))),J=(0,r.EW)((()=>G("pin"))),Q=(0,r.EW)((()=>G("label"))),Z=(0,r.EW)((()=>G("text-container"))),ee=(0,r.EW)((()=>G("marker-labels-container")+(void 0!==v.markerLabelsClass?` ${v.markerLabelsClass}`:""))),te=(0,r.EW)((()=>"q-slider__track relative-position no-outline"+(void 0!==v.trackColor?` bg-${v.trackColor}`:""))),ne=(0,r.EW)((()=>{const e={[Y.value]:v.trackSize};return void 0!==v.trackImg&&(e.backgroundImage=`url(${v.trackImg}) !important`),e})),re=(0,r.EW)((()=>"q-slider__inner absolute"+(void 0!==v.innerTrackColor?` bg-${v.innerTrackColor}`:""))),ie=(0,r.EW)((()=>{const e=U.value-H.value,t={[B.value]:100*H.value+"%",[j.value]:0===e?"2px":100*e+"%"};return void 0!==v.innerTrackImg&&(t.backgroundImage=`url(${v.innerTrackImg}) !important`),t}));function oe(e){const{min:t,max:n,step:r}=v;let i=t+e*(n-t);if(r>0){const e=(i-N.value)%r;i+=(Math.abs(e)>=r/2?(e<0?-1:1)*r:0)-e}return i=O.value(i),(0,l.Tq)(i,N.value,L.value)}function se(e){return 0===D.value?0:(e-v.min)/D.value}function ae(e,t){const n=(0,u.G1)(e),r=!0===v.vertical?(0,l.Tq)((n.top-t.top)/t.height,0,1):(0,l.Tq)((n.left-t.left)/t.width,0,1);return(0,l.Tq)(!0===A.value?1-r:r,H.value,U.value)}const le=(0,r.EW)((()=>!0===(0,c.Et)(v.markers)?v.markers:I.value)),ue=(0,r.EW)((()=>{const e=[],t=le.value,n=v.max;let r=v.min;do{e.push(r),r+=t}while(r<n);return e.push(n),e})),ce=(0,r.EW)((()=>{const e=` ${d}${R.value}-`;return d+`${e}${!0===v.switchMarkerLabelsSide?"switched":"standard"}`+`${e}${!0===A.value?"rtl":"ltr"}`})),he=(0,r.EW)((()=>!1===v.markerLabels?null:pe(v.markerLabels).map(((e,t)=>({index:t,value:e.value,label:e.label||e.value,classes:ce.value+(void 0!==e.classes?" "+e.classes:""),style:{...me(e.value),...e.style||{}}}))))),de=(0,r.EW)((()=>({markerList:he.value,markerMap:ge.value,classes:ce.value,getStyle:me}))),fe=(0,r.EW)((()=>{const e=0===F.value?"2px":100*le.value/F.value;return{...ie.value,backgroundSize:!0===v.vertical?`2px ${e}%`:`${e}% 2px`}}));function pe(e){if(!1===e)return null;if(!0===e)return ue.value.map(f);if("function"===typeof e)return ue.value.map((t=>{const n=e(t);return!0===(0,c.Gv)(n)?{...n,value:t}:{value:t,label:n}}));const t=({value:e})=>e>=v.min&&e<=v.max;return!0===Array.isArray(e)?e.map((e=>!0===(0,c.Gv)(e)?e:{value:e})).filter(t):Object.keys(e).map((t=>{const n=e[t],r=Number(t);return!0===(0,c.Gv)(n)?{...n,value:r}:{value:r,label:n}})).filter(t)}function me(e){return{[B.value]:100*(e-v.min)/D.value+"%"}}const ge=(0,r.EW)((()=>{if(!1===v.markerLabels)return null;const e={};return he.value.forEach((t=>{e[t.value]=t})),e}));function ve(){if(void 0!==b["marker-label-group"])return b["marker-label-group"](de.value);const e=b["marker-label"]||p;return he.value.map((t=>e({marker:t,...de.value})))}const ye=(0,r.EW)((()=>[[o.A,be,void 0,{[V.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]));function be(r){!0===r.isFinal?(void 0!==C.value&&(t(r.evt),!0===r.touch&&e(!0),C.value=void 0,y("pan","end")),S.value=!1,M.value=!1):!0===r.isFirst?(C.value=n(r.evt),t(r.evt),e(),S.value=!0,y("pan","start")):(t(r.evt),e())}function we(){M.value=!1}function _e(r){t(r,n(r)),e(),T.value=!0,S.value=!0,document.addEventListener("mouseup",Ee,!0)}function Ee(){T.value=!1,S.value=!1,e(!0),we(),document.removeEventListener("mouseup",Ee,!0)}function Se(r){t(r,n(r)),e(!0)}function Te(t){m.includes(t.keyCode)&&e(!0)}function Me(e){if(!0===v.vertical)return null;const t=w.lang.rtl!==v.reverse?1-e:e;return{transform:`translateX(calc(${2*t-1} * ${v.thumbSize} / 2 + ${50-100*t}%))`}}function Ce(e){const t=(0,r.EW)((()=>!1!==T.value||M.value!==e.focusValue&&"both"!==M.value?"":" q-slider--focus")),n=(0,r.EW)((()=>`q-slider__thumb q-slider__thumb${R.value} q-slider__thumb${R.value}-${!0===A.value?"rtl":"ltr"} absolute non-selectable`+t.value+(void 0!==e.thumbColor.value?` text-${e.thumbColor.value}`:""))),i=(0,r.EW)((()=>({width:v.thumbSize,height:v.thumbSize,[B.value]:100*e.ratio.value+"%",zIndex:M.value===e.focusValue?2:void 0}))),o=(0,r.EW)((()=>void 0!==e.labelColor.value?` text-${e.labelColor.value}`:"")),s=(0,r.EW)((()=>Me(e.ratio.value))),a=(0,r.EW)((()=>"q-slider__text"+(void 0!==e.labelTextColor.value?` text-${e.labelTextColor.value}`:"")));return()=>{const t=[(0,r.h)("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[(0,r.h)("path",{d:v.thumbPath})]),(0,r.h)("div",{class:"q-slider__focus-ring fit"})];return!0!==v.label&&!0!==v.labelAlways||(t.push((0,r.h)("div",{class:J.value+" absolute fit no-pointer-events"+o.value},[(0,r.h)("div",{class:Q.value,style:{minWidth:v.thumbSize}},[(0,r.h)("div",{class:Z.value,style:s.value},[(0,r.h)("span",{class:a.value},e.label.value)])])])),void 0!==v.name&&!0!==v.disable&&E(t,"push")),(0,r.h)("div",{class:n.value,style:i.value,...e.getNodeData()},t)}}function Re(e,t,n,i){const o=[];"transparent"!==v.innerTrackColor&&o.push((0,r.h)("div",{key:"inner",class:re.value,style:ie.value})),"transparent"!==v.selectionColor&&o.push((0,r.h)("div",{key:"selection",class:q.value,style:e.value})),!1!==v.markers&&o.push((0,r.h)("div",{key:"marker",class:K.value,style:fe.value})),i(o);const s=[(0,h.Kf)("div",{key:"trackC",class:X.value,tabindex:t.value,...n.value},[(0,r.h)("div",{class:te.value,style:ne.value},o)],"slide",k.value,(()=>ye.value))];if(!1!==v.markerLabels){const e=!0===v.switchMarkerLabelsSide?"unshift":"push";s[e]((0,r.h)("div",{key:"markerL",class:ee.value},ve()))}return s}return(0,r.xo)((()=>{document.removeEventListener("mouseup",Ee,!0)})),{state:{active:S,focus:M,preventFocus:T,dragging:C,editable:k,classes:z,tabindex:P,attributes:W,roundValueFn:O,keyStep:I,trackLen:D,innerMin:N,innerMinRatio:H,innerMax:L,innerMaxRatio:U,positionProp:B,sizeProp:j,isReversed:A},methods:{onActivate:_e,onMobileClick:Se,onBlur:we,onKeyup:Te,getContent:Re,getThumbRenderFn:Ce,convertRatioToModel:oe,convertModelToRatio:se,getDraggingRatio:ae}}}},6119:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(74220),i=n(48313);const o={size:{type:[String,Number],default:"1em"},color:String};function s(e){return{cSize:(0,r.EW)((()=>e.size in i.v0?`${i.v0[e.size]}px`:e.size)),classes:(0,r.EW)((()=>"q-spinner"+(e.color?` text-${e.color}`:"")))}}var a=n(99140),l=(0,a.a0)({name:"QSpinner",props:{...o,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=s(e);return()=>(0,r.h)("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[(0,r.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}})},99689:function(e,t,n){"use strict";var r=n(74220),i=n(77854),o=n(99140),s=n(41952);t.A=(0,o.a0)({name:"QTabPanel",props:i.hb,setup(e,{slots:t}){return()=>(0,r.h)("div",{class:"q-tab-panel",role:"tabpanel"},(0,s.zm)(t.default))}})},60588:function(e,t,n){"use strict";var r=n(74220),i=n(15471),o=n(77854),s=n(99140),a=n(41952);t.A=(0,s.a0)({name:"QTabPanels",props:{...o.Qn,...i.C},emits:o.g,setup(e,{slots:t}){const n=(0,r.nI)(),s=(0,i.A)(e,n.proxy.$q),{updatePanelsList:l,getPanelContent:u,panelDirectives:c}=(0,o.Ay)(),h=(0,r.EW)((()=>"q-tab-panels q-panel-parent"+(!0===s.value?" q-tab-panels--dark q-dark":"")));return()=>(l(t),(0,a.Kf)("div",{class:h.value},u(),"pan",e.swipeable,(()=>c.value)))}})},44677:function(e,t,n){"use strict";n.d(t,{A:function(){return X}});n(84645);var r=n(74220),i=n(46732),o=n(64503),s=n(99140),a=n(41952),l=(0,s.a0)({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const i=(0,r.nI)(),{proxy:{$q:s}}=i,l=e=>{n("click",e)};return()=>{if(void 0===e.props)return(0,r.h)("th",{class:!0===e.autoWidth?"q-table--col-auto-width":"",onClick:l},(0,a.zm)(t.default));let n,u;const c=i.vnode.key;if(c){if(n=e.props.colsMap[c],void 0===n)return}else n=e.props.col;if(!0===n.sortable){const e="right"===n.align?"unshift":"push";u=(0,a.Ij)(t.default,[]),u[e]((0,r.h)(o.A,{class:n.__iconClass,name:s.iconSet.table.arrowUp}))}else u=(0,a.zm)(t.default);const h={class:n.__thClass+(!0===e.autoWidth?" q-table--col-auto-width":""),style:n.headerStyle,onClick:t=>{!0===n.sortable&&e.props.sort(n),l(t)}};return(0,r.h)("th",h,u)}}}),u=n(5861),c=n(20101),h=n(40975),d=n(15471),f=n(48313);const p={xs:2,sm:4,md:6,lg:10,xl:14};function m(e,t,n){return{transform:!0===t?`translateX(${!0===n.lang.rtl?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var g=(0,s.a0)({name:"QLinearProgress",props:{...d.C,...f.x_,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:n}=(0,r.nI)(),i=(0,d.A)(e,n.$q),o=(0,f.Ay)(e,p),s=(0,r.EW)((()=>!0===e.indeterminate||!0===e.query)),l=(0,r.EW)((()=>e.reverse!==e.query)),u=(0,r.EW)((()=>({...null!==o.value?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`}))),c=(0,r.EW)((()=>"q-linear-progress"+(void 0!==e.color?` text-${e.color}`:"")+(!0===e.reverse||!0===e.query?" q-linear-progress--reverse":"")+(!0===e.rounded?" rounded-borders":""))),h=(0,r.EW)((()=>m(void 0!==e.buffer?e.buffer:1,l.value,n.$q))),g=(0,r.EW)((()=>`with${!0===e.instantFeedback?"out":""}-transition`)),v=(0,r.EW)((()=>`q-linear-progress__track absolute-full q-linear-progress__track--${g.value} q-linear-progress__track--`+(!0===i.value?"dark":"light")+(void 0!==e.trackColor?` bg-${e.trackColor}`:""))),y=(0,r.EW)((()=>m(!0===s.value?1:e.value,l.value,n.$q))),b=(0,r.EW)((()=>`q-linear-progress__model absolute-full q-linear-progress__model--${g.value} q-linear-progress__model--${!0===s.value?"in":""}determinate`)),w=(0,r.EW)((()=>({width:100*e.value+"%"}))),_=(0,r.EW)((()=>"q-linear-progress__stripe absolute-"+(!0===e.reverse?"right":"left")+` q-linear-progress__stripe--${g.value}`));return()=>{const n=[(0,r.h)("div",{class:v.value,style:h.value}),(0,r.h)("div",{class:b.value,style:y.value})];return!0===e.stripe&&!1===s.value&&n.push((0,r.h)("div",{class:_.value,style:w.value})),(0,r.h)("div",{class:c.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":!0===e.indeterminate?void 0:e.value},(0,a.Hp)(t.default,n))}}}),v=n(78495),y=n(43197),b=n(74623),w=n(37230),_=n(37315),E=n(13246);let S=0;const T={fullscreen:Boolean,noRouteFullscreenExit:Boolean},M=["update:fullscreen","fullscreen"];function C(){const e=(0,r.nI)(),{props:t,emit:n,proxy:o}=e;let s,a,l;const u=(0,i.KR)(!1);function c(){!0===u.value?d():h()}function h(){!0!==u.value&&(u.value=!0,l=o.$el.parentNode,l.replaceChild(a,o.$el),document.body.appendChild(o.$el),S++,1===S&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:d},_.A.add(s))}function d(){!0===u.value&&(void 0!==s&&(_.A.remove(s),s=void 0),l.replaceChild(o.$el,a),u.value=!1,S=Math.max(0,S-1),0===S&&(document.body.classList.remove("q-body--fullscreen-mixin"),void 0!==o.$el.scrollIntoView&&setTimeout((()=>{o.$el.scrollIntoView()}))))}return!0===(0,E.$b)(e)&&(0,r.wB)((()=>o.$route.fullPath),(()=>{!0!==t.noRouteFullscreenExit&&d()})),(0,r.wB)((()=>t.fullscreen),(e=>{u.value!==e&&c()})),(0,r.wB)(u,(e=>{n("update:fullscreen",e),n("fullscreen",e)})),(0,r.KC)((()=>{a=document.createElement("span")})),(0,r.sV)((()=>{!0===t.fullscreen&&h()})),(0,r.xo)(d),Object.assign(o,{toggleFullscreen:c,setFullscreen:h,exitFullscreen:d}),{inFullscreen:u,toggleFullscreen:c}}function R(e,t){return new Date(e)-new Date(t)}var x=n(78445);const A={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>"ad"===e||"da"===e,default:"ad"}};function N(e,t,n,i){const o=(0,r.EW)((()=>{const{sortBy:e}=t.value;return e&&n.value.find((t=>t.name===e))||null})),s=(0,r.EW)((()=>void 0!==e.sortMethod?e.sortMethod:(e,t,r)=>{const i=n.value.find((e=>e.name===t));if(void 0===i||void 0===i.field)return e;const o=!0===r?-1:1,s="function"===typeof i.field?e=>i.field(e):e=>e[i.field];return e.sort(((e,t)=>{let n=s(e),r=s(t);return void 0!==i.rawSort?i.rawSort(n,r,e,t)*o:null===n||void 0===n?-1*o:null===r||void 0===r?1*o:void 0!==i.sort?i.sort(n,r,e,t)*o:!0===(0,x.Et)(n)&&!0===(0,x.Et)(r)?(n-r)*o:!0===(0,x.$P)(n)&&!0===(0,x.$P)(r)?R(n,r)*o:"boolean"===typeof n&&"boolean"===typeof r?(n-r)*o:([n,r]=[n,r].map((e=>(e+"").toLocaleString().toLowerCase())),n<r?-1*o:n===r?0:o)}))}));function a(r){let o=e.columnSortOrder;if(!0===(0,x.Gv)(r))r.sortOrder&&(o=r.sortOrder),r=r.name;else{const e=n.value.find((e=>e.name===r));void 0!==e&&e.sortOrder&&(o=e.sortOrder)}let{sortBy:s,descending:a}=t.value;s!==r?(s=r,a="da"===o):!0===e.binaryStateSort?a=!a:!0===a?"ad"===o?s=null:a=!1:"ad"===o?a=!0:s=null,i({sortBy:s,descending:a,page:1})}return{columnToSort:o,computedSortMethod:s,sort:a}}const L={filter:[String,Object],filterMethod:Function};function k(e,t){const n=(0,r.EW)((()=>void 0!==e.filterMethod?e.filterMethod:(e,t,n,r)=>{const i=t?t.toLowerCase():"";return e.filter((e=>n.some((t=>{const n=r(t,e)+"",o="undefined"===n||"null"===n?"":n.toLowerCase();return-1!==o.indexOf(i)}))))}));return(0,r.wB)((()=>e.filter),(()=>{(0,r.dY)((()=>{t({page:1},!0)}))}),{deep:!0}),{computedFilterMethod:n}}function O(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function I(e){return e.page<1&&(e.page=1),void 0!==e.rowsPerPage&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const P={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function D(e,t){const{props:n,emit:o}=e,s=(0,i.KR)(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:0!==n.rowsPerPageOptions.length?n.rowsPerPageOptions[0]:5},n.pagination)),a=(0,r.EW)((()=>{const e=void 0!==n["onUpdate:pagination"]?{...s.value,...n.pagination}:s.value;return I(e)})),l=(0,r.EW)((()=>void 0!==a.value.rowsNumber));function u(e){c({pagination:e,filter:n.filter})}function c(e={}){(0,r.dY)((()=>{o("request",{pagination:e.pagination||a.value,filter:e.filter||n.filter,getCellValue:t})}))}function h(e,t){const r=I({...a.value,...e});!0!==O(a.value,r)?!0!==l.value?void 0!==n.pagination&&void 0!==n["onUpdate:pagination"]?o("update:pagination",r):s.value=r:u(r):!0===l.value&&!0===t&&u(r)}return{innerPagination:s,computedPagination:a,isServerSide:l,requestServerInteraction:c,setPagination:h}}function F(e,t,n,i,o,s){const{props:a,emit:l,proxy:{$q:u}}=e,c=(0,r.EW)((()=>!0===i.value?n.value.rowsNumber||0:s.value)),h=(0,r.EW)((()=>{const{page:e,rowsPerPage:t}=n.value;return(e-1)*t})),d=(0,r.EW)((()=>{const{page:e,rowsPerPage:t}=n.value;return e*t})),f=(0,r.EW)((()=>1===n.value.page)),p=(0,r.EW)((()=>0===n.value.rowsPerPage?1:Math.max(1,Math.ceil(c.value/n.value.rowsPerPage)))),m=(0,r.EW)((()=>0===d.value||n.value.page>=p.value)),g=(0,r.EW)((()=>{const e=a.rowsPerPageOptions.includes(t.value.rowsPerPage)?a.rowsPerPageOptions:[t.value.rowsPerPage].concat(a.rowsPerPageOptions);return e.map((e=>({label:0===e?u.lang.table.allRows:""+e,value:e})))}));function v(){o({page:1})}function y(){const{page:e}=n.value;e>1&&o({page:e-1})}function b(){const{page:e,rowsPerPage:t}=n.value;d.value>0&&e*t<c.value&&o({page:e+1})}function w(){o({page:p.value})}return(0,r.wB)(p,((e,t)=>{if(e===t)return;const r=n.value.page;e&&!r?o({page:1}):e<r&&o({page:e})})),void 0!==a["onUpdate:pagination"]&&l("update:pagination",{...n.value}),{firstRowIndex:h,lastRowIndex:d,isFirstPage:f,isLastPage:m,pagesNumber:p,computedRowsPerPageOptions:g,computedRowsNumber:c,firstPage:v,prevPage:y,nextPage:b,lastPage:w}}const H={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},U=["update:selected","selection"];function B(e,t,n,i){const o=(0,r.EW)((()=>{const t={};return e.selected.map(i.value).forEach((e=>{t[e]=!0})),t})),s=(0,r.EW)((()=>"none"!==e.selection)),a=(0,r.EW)((()=>"single"===e.selection)),l=(0,r.EW)((()=>"multiple"===e.selection)),u=(0,r.EW)((()=>0!==n.value.length&&n.value.every((e=>!0===o.value[i.value(e)])))),c=(0,r.EW)((()=>!0!==u.value&&n.value.some((e=>!0===o.value[i.value(e)])))),h=(0,r.EW)((()=>e.selected.length));function d(e){return!0===o.value[e]}function f(){t("update:selected",[])}function p(n,r,o,s){t("selection",{rows:r,added:o,keys:n,evt:s});const l=!0===a.value?!0===o?r:[]:!0===o?e.selected.concat(r):e.selected.filter((e=>!1===n.includes(i.value(e))));t("update:selected",l)}return{hasSelectionMode:s,singleSelection:a,multipleSelection:l,allRowsSelected:u,someRowsSelected:c,rowsSelectedNumber:h,isRowSelected:d,clearSelection:f,updateSelection:p}}function j(e){return Array.isArray(e)?e.slice():[]}const Y={expanded:Array},V=["update:expanded"];function W(e,t){const n=(0,i.KR)(j(e.expanded));function o(e){return n.value.includes(e)}function s(r){void 0!==e.expanded?t("update:expanded",r):n.value=r}function a(e,t){const r=n.value.slice(),i=r.indexOf(e);!0===t?-1===i&&(r.push(e),s(r)):-1!==i&&(r.splice(i,1),s(r))}return(0,r.wB)((()=>e.expanded),(e=>{n.value=j(e)})),{isRowExpanded:o,setExpanded:s,updateExpanded:a}}const z={visibleColumns:Array};function G(e,t,n){const i=(0,r.EW)((()=>{if(void 0!==e.columns)return e.columns;const t=e.rows[0];return void 0!==t?Object.keys(t).map((e=>({name:e,label:e.toUpperCase(),field:e,align:(0,x.Et)(t[e])?"right":"left",sortable:!0}))):[]})),o=(0,r.EW)((()=>{const{sortBy:n,descending:r}=t.value,o=void 0!==e.visibleColumns?i.value.filter((t=>!0===t.required||!0===e.visibleColumns.includes(t.name))):i.value;return o.map((e=>{const t=e.align||"right",i=`text-${t}`;return{...e,align:t,__iconClass:`q-table__sort-icon q-table__sort-icon--${t}`,__thClass:i+(void 0!==e.headerClasses?" "+e.headerClasses:"")+(!0===e.sortable?" sortable":"")+(e.name===n?" sorted "+(!0===r?"sort-desc":""):""),__tdStyle:void 0!==e.style?"function"!==typeof e.style?()=>e.style:e.style:()=>null,__tdClass:void 0!==e.classes?"function"!==typeof e.classes?()=>i+" "+e.classes:t=>i+" "+e.classes(t):()=>i}}))})),s=(0,r.EW)((()=>{const e={};return o.value.forEach((t=>{e[t.name]=t})),e})),a=(0,r.EW)((()=>void 0!==e.tableColspan?e.tableColspan:o.value.length+(!0===n.value?1:0)));return{colList:i,computedCols:o,computedColsMap:s,computedColspan:a}}var $=n(79862);const q="q-table__bottom row items-center",K={};w.kP.forEach((e=>{K[e]={}}));var X=(0,s.a0)({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...K,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...d.C,...T,...z,...L,...P,...Y,...H,...A},emits:["request","virtualScroll",...M,...V,...U],setup(e,{slots:t,emit:n}){const s=(0,r.nI)(),{proxy:{$q:a}}=s,f=(0,d.A)(e,a),{inFullscreen:p,toggleFullscreen:m}=C(),_=(0,r.EW)((()=>"function"===typeof e.rowKey?e.rowKey:t=>t[e.rowKey])),E=(0,i.KR)(null),S=(0,i.KR)(null),T=(0,r.EW)((()=>!0!==e.grid&&!0===e.virtualScroll)),M=(0,r.EW)((()=>" q-table__card"+(!0===f.value?" q-table__card--dark q-dark":"")+(!0===e.square?" q-table--square":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":""))),R=(0,r.EW)((()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(!0===e.grid?" q-table--grid":M.value)+(!0===f.value?" q-table--dark":"")+(!0===e.dense?" q-table--dense":"")+(!1===e.wrapCells?" q-table--no-wrap":"")+(!0===p.value?" fullscreen scroll":""))),x=(0,r.EW)((()=>R.value+(!0===e.loading?" q-table--loading":"")));(0,r.wB)((()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+R.value),(()=>{!0===T.value&&null!==S.value&&S.value.reset()}));const{innerPagination:A,computedPagination:L,isServerSide:O,requestServerInteraction:I,setPagination:P}=D(s,De),{computedFilterMethod:H}=k(e,P),{isRowExpanded:U,setExpanded:j,updateExpanded:Y}=W(e,n),V=(0,r.EW)((()=>{let t=e.rows;if(!0===O.value||0===t.length)return t;const{sortBy:n,descending:r}=L.value;return e.filter&&(t=H.value(t,e.filter,se.value,De)),null!==ue.value&&(t=ce.value(e.rows===t?t.slice():t,n,r)),t})),z=(0,r.EW)((()=>V.value.length)),K=(0,r.EW)((()=>{let t=V.value;if(!0===O.value)return t;const{rowsPerPage:n}=L.value;return 0!==n&&(0===de.value&&e.rows!==t?t.length>fe.value&&(t=t.slice(0,fe.value)):t=t.slice(de.value,fe.value)),t})),{hasSelectionMode:X,singleSelection:J,multipleSelection:Q,allRowsSelected:Z,someRowsSelected:ee,rowsSelectedNumber:te,isRowSelected:ne,clearSelection:re,updateSelection:ie}=B(e,n,K,_),{colList:oe,computedCols:se,computedColsMap:ae,computedColspan:le}=G(e,L,X),{columnToSort:ue,computedSortMethod:ce,sort:he}=N(e,L,oe,P),{firstRowIndex:de,lastRowIndex:fe,isFirstPage:pe,isLastPage:me,pagesNumber:ge,computedRowsPerPageOptions:ve,computedRowsNumber:ye,firstPage:be,prevPage:we,nextPage:_e,lastPage:Ee}=F(s,A,L,O,P,z),Se=(0,r.EW)((()=>0===K.value.length)),Te=(0,r.EW)((()=>{const t={};return w.kP.forEach((n=>{t[n]=e[n]})),void 0===t.virtualScrollItemSize&&(t.virtualScrollItemSize=!0===e.dense?28:48),t}));function Me(){!0===T.value&&S.value.reset()}function Ce(){if(!0===e.grid)return Ke();const n=!0!==e.hideHeader?Be:null;if(!0===T.value){const i=t["top-row"],o=t["bottom-row"],s={default:e=>Ne(e.item,t.body,e.index)};if(void 0!==i){const e=(0,r.h)("tbody",i({cols:se.value}));s.before=null===n?()=>e:()=>[n()].concat(e)}else null!==n&&(s.before=n);return void 0!==o&&(s.after=()=>(0,r.h)("tbody",o({cols:se.value}))),(0,r.h)(c.A,{ref:S,class:e.tableClass,style:e.tableStyle,...Te.value,scrollTarget:e.virtualScrollTarget,items:K.value,type:"__qtable",tableColspan:le.value,onVirtualScroll:xe},s)}const i=[Le()];return null!==n&&i.unshift(n()),(0,b.A)({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},i)}function Re(t,r){if(null!==S.value)return void S.value.scrollTo(t,r);t=parseInt(t,10);const i=E.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(null!==i){const r=E.value.querySelector(".q-table__middle.scroll"),o=i.offsetTop-e.virtualScrollStickySizeStart,s=o<r.scrollTop?"decrease":"increase";r.scrollTop=o,n("virtualScroll",{index:t,from:0,to:A.value.rowsPerPage-1,direction:s})}}function xe(e){n("virtualScroll",e)}function Ae(){return[(0,r.h)(g,{class:"q-table__linear-progress",color:e.color,dark:f.value,indeterminate:!0,trackColor:"transparent"})]}function Ne(i,o,s){const a=_.value(i),l=ne(a);if(void 0!==o)return o(ke({key:a,row:i,pageIndex:s,__trClass:l?"selected":""}));const u=t["body-cell"],c=se.value.map((e=>{const n=t[`body-cell-${e.name}`],o=void 0!==n?n:u;return void 0!==o?o(Oe({key:a,row:i,pageIndex:s,col:e})):(0,r.h)("td",{class:e.__tdClass(i),style:e.__tdStyle(i)},De(e,i))}));if(!0===X.value){const n=t["body-selection"],o=void 0!==n?n(Ie({key:a,row:i,pageIndex:s})):[(0,r.h)(v.A,{modelValue:l,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(e,t)=>{ie([a],[i],e,t)}})];c.unshift((0,r.h)("td",{class:"q-table--col-auto-width"},o))}const h={key:a,class:{selected:l}};return void 0!==e.onRowClick&&(h.class["cursor-pointer"]=!0,h.onClick=e=>{n("rowClick",e,i,s)}),void 0!==e.onRowDblclick&&(h.class["cursor-pointer"]=!0,h.onDblclick=e=>{n("rowDblclick",e,i,s)}),void 0!==e.onRowContextmenu&&(h.class["cursor-pointer"]=!0,h.onContextmenu=e=>{n("rowContextmenu",e,i,s)}),(0,r.h)("tr",h,c)}function Le(){const e=t.body,n=t["top-row"],i=t["bottom-row"];let o=K.value.map(((t,n)=>Ne(t,e,n)));return void 0!==n&&(o=n({cols:se.value}).concat(o)),void 0!==i&&(o=o.concat(i({cols:se.value}))),(0,r.h)("tbody",o)}function ke(e){return Pe(e),e.cols=e.cols.map((t=>(0,$.$)({...t},"value",(()=>De(t,e.row))))),e}function Oe(e){return Pe(e),(0,$.$)(e,"value",(()=>De(e.col,e.row))),e}function Ie(e){return Pe(e),e}function Pe(t){Object.assign(t,{cols:se.value,colsMap:ae.value,sort:he,rowIndex:de.value+t.pageIndex,color:e.color,dark:f.value,dense:e.dense}),!0===X.value&&(0,$.$)(t,"selected",(()=>ne(t.key)),((e,n)=>{ie([t.key],[t.row],e,n)})),(0,$.$)(t,"expand",(()=>U(t.key)),(e=>{Y(t.key,e)}))}function De(e,t){const n="function"===typeof e.field?e.field(t):t[e.field];return void 0!==e.format?e.format(n,t):n}const Fe=(0,r.EW)((()=>({pagination:L.value,pagesNumber:ge.value,isFirstPage:pe.value,isLastPage:me.value,firstPage:be,prevPage:we,nextPage:_e,lastPage:Ee,inFullscreen:p.value,toggleFullscreen:m})));function He(){const n=t.top,i=t["top-left"],o=t["top-right"],s=t["top-selection"],a=!0===X.value&&void 0!==s&&te.value>0,l="q-table__top relative-position row items-center";if(void 0!==n)return(0,r.h)("div",{class:l},[n(Fe.value)]);let u;return!0===a?u=s(Fe.value).slice():(u=[],void 0!==i?u.push((0,r.h)("div",{class:"q-table__control"},[i(Fe.value)])):e.title&&u.push((0,r.h)("div",{class:"q-table__control"},[(0,r.h)("div",{class:["q-table__title",e.titleClass]},e.title)]))),void 0!==o&&(u.push((0,r.h)("div",{class:"q-table__separator col"})),u.push((0,r.h)("div",{class:"q-table__control"},[o(Fe.value)]))),0!==u.length?(0,r.h)("div",{class:l},u):void 0}const Ue=(0,r.EW)((()=>!0===ee.value?null:Z.value));function Be(){const n=je();return!0===e.loading&&void 0===t.loading&&n.push((0,r.h)("tr",{class:"q-table__progress"},[(0,r.h)("th",{class:"relative-position",colspan:le.value},Ae())])),(0,r.h)("thead",n)}function je(){const n=t.header,i=t["header-cell"];if(void 0!==n)return n(Ye({header:!0})).slice();const o=se.value.map((e=>{const n=t[`header-cell-${e.name}`],o=void 0!==n?n:i,s=Ye({col:e});return void 0!==o?o(s):(0,r.h)(l,{key:e.name,props:s},(()=>e.label))}));if(!0===J.value&&!0!==e.grid)o.unshift((0,r.h)("th",{class:"q-table--col-auto-width"}," "));else if(!0===Q.value){const n=t["header-selection"],i=void 0!==n?n(Ye({})):[(0,r.h)(v.A,{color:e.color,modelValue:Ue.value,dark:f.value,dense:e.dense,"onUpdate:modelValue":Ve})];o.unshift((0,r.h)("th",{class:"q-table--col-auto-width"},i))}return[(0,r.h)("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},o)]}function Ye(t){return Object.assign(t,{cols:se.value,sort:he,colsMap:ae.value,color:e.color,dark:f.value,dense:e.dense}),!0===Q.value&&(0,$.$)(t,"selected",(()=>Ue.value),Ve),t}function Ve(e){!0===ee.value&&(e=!1),ie(K.value.map(_.value),K.value,e)}const We=(0,r.EW)((()=>{const t=[e.iconFirstPage||a.iconSet.table.firstPage,e.iconPrevPage||a.iconSet.table.prevPage,e.iconNextPage||a.iconSet.table.nextPage,e.iconLastPage||a.iconSet.table.lastPage];return!0===a.lang.rtl?t.reverse():t}));function ze(){if(!0===e.hideBottom)return;if(!0===Se.value){if(!0===e.hideNoData)return;const n=!0===e.loading?e.loadingLabel||a.lang.table.loading:e.filter?e.noResultsLabel||a.lang.table.noResults:e.noDataLabel||a.lang.table.noData,i=t["no-data"],s=void 0!==i?[i({message:n,icon:a.iconSet.table.warning,filter:e.filter})]:[(0,r.h)(o.A,{class:"q-table__bottom-nodata-icon",name:a.iconSet.table.warning}),n];return(0,r.h)("div",{class:q+" q-table__bottom--nodata"},s)}const n=t.bottom;if(void 0!==n)return(0,r.h)("div",{class:q},[n(Fe.value)]);const i=!0!==e.hideSelectedBanner&&!0===X.value&&te.value>0?[(0,r.h)("div",{class:"q-table__control"},[(0,r.h)("div",[(e.selectedRowsLabel||a.lang.table.selectedRecords)(te.value)])])]:[];return!0!==e.hidePagination?(0,r.h)("div",{class:q+" justify-end"},$e(i)):0!==i.length?(0,r.h)("div",{class:q},i):void 0}function Ge(e){P({page:1,rowsPerPage:e.value})}function $e(n){let i;const{rowsPerPage:o}=L.value,s=e.paginationLabel||a.lang.table.pagination,l=t.pagination,u=e.rowsPerPageOptions.length>1;if(n.push((0,r.h)("div",{class:"q-table__separator col"})),!0===u&&n.push((0,r.h)("div",{class:"q-table__control"},[(0,r.h)("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||a.lang.table.recordsPerPage]),(0,r.h)(h.A,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:o,options:ve.value,displayValue:0===o?a.lang.table.allRows:o,dark:f.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Ge})])),void 0!==l)i=l(Fe.value);else if(i=[(0,r.h)("span",0!==o?{class:"q-table__bottom-item"}:{},[o?s(de.value+1,Math.min(fe.value,ye.value),ye.value):s(1,z.value,ye.value)])],0!==o&&ge.value>1){const t={color:e.color,round:!0,dense:!0,flat:!0};!0===e.dense&&(t.size="sm"),ge.value>2&&i.push((0,r.h)(y.A,{key:"pgFirst",...t,icon:We.value[0],disable:pe.value,onClick:be})),i.push((0,r.h)(y.A,{key:"pgPrev",...t,icon:We.value[1],disable:pe.value,onClick:we}),(0,r.h)(y.A,{key:"pgNext",...t,icon:We.value[2],disable:me.value,onClick:_e})),ge.value>2&&i.push((0,r.h)(y.A,{key:"pgLast",...t,icon:We.value[3],disable:me.value,onClick:Ee}))}return n.push((0,r.h)("div",{class:"q-table__control"},i)),n}function qe(){const n=!0===e.gridHeader?[(0,r.h)("table",{class:"q-table"},[Be(r.h)])]:!0===e.loading&&void 0===t.loading?Ae(r.h):void 0;return(0,r.h)("div",{class:"q-table__middle"},n)}function Ke(){const i=void 0!==t.item?t.item:i=>{const o=i.cols.map((e=>(0,r.h)("div",{class:"q-table__grid-item-row"},[(0,r.h)("div",{class:"q-table__grid-item-title"},[e.label]),(0,r.h)("div",{class:"q-table__grid-item-value"},[e.value])])));if(!0===X.value){const n=t["body-selection"],s=void 0!==n?n(i):[(0,r.h)(v.A,{modelValue:i.selected,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(e,t)=>{ie([i.key],[i.row],e,t)}})];o.unshift((0,r.h)("div",{class:"q-table__grid-item-row"},s),(0,r.h)(u.A,{dark:f.value}))}const s={class:["q-table__grid-item-card"+M.value,e.cardClass],style:e.cardStyle};return void 0===e.onRowClick&&void 0===e.onRowDblclick||(s.class[0]+=" cursor-pointer",void 0!==e.onRowClick&&(s.onClick=e=>{n("RowClick",e,i.row,i.pageIndex)}),void 0!==e.onRowDblclick&&(s.onDblclick=e=>{n("RowDblclick",e,i.row,i.pageIndex)})),(0,r.h)("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(!0===i.selected?" q-table__grid-item--selected":"")},[(0,r.h)("div",s,o)])};return(0,r.h)("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},K.value.map(((e,t)=>i(ke({key:_.value(e),row:e,pageIndex:t})))))}return Object.assign(s.proxy,{requestServerInteraction:I,setPagination:P,firstPage:be,prevPage:we,nextPage:_e,lastPage:Ee,isRowSelected:ne,clearSelection:re,isRowExpanded:U,setExpanded:j,sort:he,resetVirtualScroll:Me,scrollTo:Re,getCellValue:De}),(0,$.M)(s.proxy,{filteredSortedRows:()=>V.value,computedRows:()=>K.value,computedRowsNumber:()=>ye.value}),()=>{const n=[He()],i={ref:E,class:x.value};return!0===e.grid?n.push(qe()):Object.assign(i,{class:[i.class,e.cardClass],style:e.cardStyle}),n.push(Ce(),ze()),!0===e.loading&&void 0!==t.loading&&n.push(t.loading()),(0,r.h)("div",i,n)}}})},53403:function(e,t,n){"use strict";var r=n(74220),i=n(99140),o=n(41952);t.A=(0,i.a0)({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:t}){const n=(0,r.nI)(),i=(0,r.EW)((()=>"q-td"+(!0===e.autoWidth?" q-table--col-auto-width":"")+(!0===e.noHover?" q-td--no-hover":"")+" "));return()=>{if(void 0===e.props)return(0,r.h)("td",{class:i.value},(0,o.zm)(t.default));const s=n.vnode.key,a=(void 0!==e.props.colsMap?e.props.colsMap[s]:null)||e.props.col;if(void 0===a)return;const{row:l}=e.props;return(0,r.h)("td",{class:i.value+a.__tdClass(l),style:a.__tdStyle(l)},(0,o.zm)(t.default))}}})},63537:function(e,t,n){"use strict";var r=n(74220),i=n(99140),o=n(41952);t.A=(0,i.a0)({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:t}){const n=(0,r.EW)((()=>"q-tr"+(void 0===e.props||!0===e.props.header?"":" "+e.props.__trClass)+(!0===e.noHover?" q-tr--no-hover":"")));return()=>(0,r.h)("tr",{class:n.value},(0,o.zm)(t.default))}})},74623:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(74220);function i(e,t){return(0,r.h)("div",e,[(0,r.h)("table",{class:"q-table"},t)])}},45713:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});n(84645);var r=n(74220),i=n(46732),o=n(64503),s=n(95408),a=n(41952),l=n(37031),u=n(13430),c=n(15055),h=n(86059),d=n(78445);let f=0;const p=["click","keydown"],m={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>"t_"+f++},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function g(e,t,n,f){const p=(0,r.WQ)(u.Uv,u.U_);if(p===u.U_)return console.error("QTab/QRouteTab component needs to be child of QTabs"),u.U_;const{proxy:m}=(0,r.nI)(),g=(0,i.KR)(null),v=(0,i.KR)(null),y=(0,i.KR)(null),b=(0,r.EW)((()=>!0!==e.disable&&!1!==e.ripple&&Object.assign({keyCodes:[13,32],early:!0},!0===e.ripple?{}:e.ripple))),w=(0,r.EW)((()=>p.currentModel.value===e.name)),_=(0,r.EW)((()=>"q-tab relative-position self-stretch flex flex-center text-center"+(!0===w.value?" q-tab--active"+(p.tabProps.value.activeClass?" "+p.tabProps.value.activeClass:"")+(p.tabProps.value.activeColor?` text-${p.tabProps.value.activeColor}`:"")+(p.tabProps.value.activeBgColor?` bg-${p.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&!1===p.tabProps.value.inlineLabel?" q-tab--full":"")+(!0===e.noCaps||!0===p.tabProps.value.noCaps?" q-tab--no-caps":"")+(!0===e.disable?" disabled":" q-focusable q-hoverable cursor-pointer")+(void 0!==f?f.linkClass.value:""))),E=(0,r.EW)((()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(!0===p.tabProps.value.inlineLabel?"row no-wrap q-tab__content--inline":"column")+(void 0!==e.contentClass?` ${e.contentClass}`:""))),S=(0,r.EW)((()=>!0===e.disable||!0===p.hasFocus.value||!1===w.value&&!0===p.hasActiveTab.value?-1:e.tabindex||0));function T(t,r){if(!0!==r&&null!==g.value&&g.value.focus(),!0!==e.disable){if(void 0===f)return p.updateModel({name:e.name}),void n("click",t);if(!0===f.hasRouterLink.value){const r=(n={})=>{let r;const i=void 0===n.to||!0===(0,d.Hv)(n.to,e.to)?p.avoidRouteWatcher=(0,h.A)():null;return f.navigateToRouterLink(t,{...n,returnRouterError:!0}).catch((e=>{r=e})).then((t=>{if(i===p.avoidRouteWatcher&&(p.avoidRouteWatcher=!1,void 0===r&&(void 0===t||void 0!==t.message&&!0===t.message.startsWith("Avoided redundant navigation"))&&p.updateModel({name:e.name})),!0===n.returnRouterError)return void 0!==r?Promise.reject(r):t}))};return n("click",t,r),void(!0!==t.defaultPrevented&&r())}n("click",t)}else void 0!==f&&!0===f.hasRouterLink.value&&(0,c.Gu)(t)}function M(e){(0,l.Dv)(e,[13,32])?T(e,!0):!0!==(0,l.JL)(e)&&e.keyCode>=35&&e.keyCode<=40&&!0!==e.altKey&&!0!==e.metaKey&&!0===p.onKbdNavigate(e.keyCode,m.$el)&&(0,c.Gu)(e),n("keydown",e)}function C(){const n=p.tabProps.value.narrowIndicator,i=[],s=(0,r.h)("div",{ref:y,class:["q-tab__indicator",p.tabProps.value.indicatorClass]});void 0!==e.icon&&i.push((0,r.h)(o.A,{class:"q-tab__icon",name:e.icon})),void 0!==e.label&&i.push((0,r.h)("div",{class:"q-tab__label"},e.label)),!1!==e.alert&&i.push(void 0!==e.alertIcon?(0,r.h)(o.A,{class:"q-tab__alert-icon",color:!0!==e.alert?e.alert:void 0,name:e.alertIcon}):(0,r.h)("div",{class:"q-tab__alert"+(!0!==e.alert?` text-${e.alert}`:"")})),!0===n&&i.push(s);const l=[(0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:g}),(0,r.h)("div",{class:E.value},(0,a.Hp)(t.default,i))];return!1===n&&l.push(s),l}const R={name:(0,r.EW)((()=>e.name)),rootRef:v,tabIndicatorRef:y,routeData:f};function x(t,n){const i={ref:v,class:_.value,tabindex:S.value,role:"tab","aria-selected":!0===w.value?"true":"false","aria-disabled":!0===e.disable?"true":void 0,onClick:T,onKeydown:M,...n};return(0,r.bo)((0,r.h)(t,i,C()),[[s.A,b.value]])}return(0,r.xo)((()=>{p.unregisterTab(R)})),(0,r.sV)((()=>{p.registerTab(R)})),{renderTab:x,$tabs:p}}var v=n(99140),y=(0,v.a0)({name:"QTab",props:m,emits:p,setup(e,{slots:t,emit:n}){const{renderTab:r}=g(e,t,n);return()=>r("div")}})},42825:function(e,t,n){"use strict";n.d(t,{A:function(){return w}});n(84645);var r=n(74220),i=n(46732),o=n(64503),s=n(61030);function a(){const e=(0,i.KR)(!s.ot.value);return!1===e.value&&(0,r.sV)((()=>{e.value=!0})),{isHydrated:e}}var l=n(99140),u=n(15055);const c="undefined"!==typeof ResizeObserver,h=!0===c?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var d=(0,l.a0)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n,i=null,o={width:-1,height:-1};function s(t){!0===t||0===e.debounce||"0"===e.debounce?l():null===i&&(i=setTimeout(l,e.debounce))}function l(){if(null!==i&&(clearTimeout(i),i=null),n){const{offsetWidth:e,offsetHeight:r}=n;e===o.width&&r===o.height||(o={width:e,height:r},t("resize",o))}}const{proxy:d}=(0,r.nI)();if(d.trigger=s,!0===c){let f;const p=e=>{n=d.$el.parentNode,n?(f=new ResizeObserver(s),f.observe(n),l()):!0!==e&&(0,r.dY)((()=>{p(!0)}))};return(0,r.sV)((()=>{p()})),(0,r.xo)((()=>{null!==i&&clearTimeout(i),void 0!==f&&(void 0!==f.disconnect?f.disconnect():n&&f.unobserve(n))})),u.lQ}{const{isHydrated:m}=a();let g;function v(){null!==i&&(clearTimeout(i),i=null),void 0!==g&&(void 0!==g.removeEventListener&&g.removeEventListener("resize",s,u.mG.passive),g=void 0)}function y(){v(),n&&n.contentDocument&&(g=n.contentDocument.defaultView,g.addEventListener("resize",s,u.mG.passive),l())}return(0,r.sV)((()=>{(0,r.dY)((()=>{n=d.$el,n&&y()}))})),(0,r.xo)(v),()=>{if(!0===m.value)return(0,r.h)("object",{class:"q--avoid-card-border",style:h.style,tabindex:-1,type:"text/html",data:h.url,"aria-hidden":"true",onLoad:y})}}}}),f=n(12176),p=n(5952),m=n(41952),g=n(13430),v=n(3082);function y(e,t,n){const r=!0===n?["left","right"]:["top","bottom"];return`absolute-${!0===t?r[0]:r[1]}${e?` text-${e}`:""}`}const b=["left","center","right","justify"];var w=(0,l.a0)({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>b.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:s}=(0,r.nI)(),{$q:a}=s,{registerTick:l}=(0,f.A)(),{registerTick:u}=(0,f.A)(),{registerTick:c}=(0,f.A)(),{registerTimeout:h,removeTimeout:b}=(0,p.A)(),{registerTimeout:w,removeTimeout:_}=(0,p.A)(),E=(0,i.KR)(null),S=(0,i.KR)(null),T=(0,i.KR)(e.modelValue),M=(0,i.KR)(!1),C=(0,i.KR)(!0),R=(0,i.KR)(!1),x=(0,i.KR)(!1),A=[],N=(0,i.KR)(0),L=(0,i.KR)(!1);let k,O=null,I=null;const P=(0,r.EW)((()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:y(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps}))),D=(0,r.EW)((()=>{const e=N.value,t=T.value;for(let n=0;n<e;n++)if(A[n].name.value===t)return!0;return!1})),F=(0,r.EW)((()=>{const t=!0===M.value?"left":!0===x.value?"justify":e.align;return`q-tabs__content--align-${t}`})),H=(0,r.EW)((()=>`q-tabs row no-wrap items-center q-tabs--${!0===M.value?"":"not-"}scrollable q-tabs--`+(!0===e.vertical?"vertical":"horizontal")+" q-tabs__arrows--"+(!0===e.outsideArrows?"outside":"inside")+` q-tabs--mobile-with${!0===e.mobileArrows?"":"out"}-arrows`+(!0===e.dense?" q-tabs--dense":"")+(!0===e.shrink?" col-shrink":"")+(!0===e.stretch?" self-stretch":""))),U=(0,r.EW)((()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+F.value+(void 0!==e.contentClass?` ${e.contentClass}`:""))),B=(0,r.EW)((()=>!0===e.vertical?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"})),j=(0,r.EW)((()=>!0!==e.vertical&&!0===a.lang.rtl)),Y=(0,r.EW)((()=>!1===v.E&&!0===j.value));function V({name:t,setCurrent:r,skipEmit:i}){T.value!==t&&(!0!==i&&void 0!==e["onUpdate:modelValue"]&&n("update:modelValue",t),!0!==r&&void 0!==e["onUpdate:modelValue"]||(G(T.value,t),T.value=t))}function W(){l((()=>{z({width:E.value.offsetWidth,height:E.value.offsetHeight})}))}function z(t){if(void 0===B.value||null===S.value)return;const n=t[B.value.container],r=Math.min(S.value[B.value.scroll],Array.prototype.reduce.call(S.value.children,((e,t)=>e+(t[B.value.content]||0)),0)),i=n>0&&r>n;M.value=i,!0===i&&u(q),x.value=n<parseInt(e.breakpoint,10)}function G(t,n){const r=void 0!==t&&null!==t&&""!==t?A.find((e=>e.name.value===t)):null,i=void 0!==n&&null!==n&&""!==n?A.find((e=>e.name.value===n)):null;if(r&&i){const t=r.tabIndicatorRef.value,n=i.tabIndicatorRef.value;null!==O&&(clearTimeout(O),O=null),t.style.transition="none",t.style.transform="none",n.style.transition="none",n.style.transform="none";const o=t.getBoundingClientRect(),s=n.getBoundingClientRect();n.style.transform=!0===e.vertical?`translate3d(0,${o.top-s.top}px,0) scale3d(1,${s.height?o.height/s.height:1},1)`:`translate3d(${o.left-s.left}px,0,0) scale3d(${s.width?o.width/s.width:1},1,1)`,c((()=>{O=setTimeout((()=>{O=null,n.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",n.style.transform="none"}),70)}))}i&&!0===M.value&&$(i.rootRef.value)}function $(t){const{left:n,width:r,top:i,height:o}=S.value.getBoundingClientRect(),s=t.getBoundingClientRect();let a=!0===e.vertical?s.top-i:s.left-n;if(a<0)return S.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.floor(a),void q();a+=!0===e.vertical?s.height-o:s.width-r,a>0&&(S.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.ceil(a),q())}function q(){const t=S.value;if(null===t)return;const n=t.getBoundingClientRect(),r=!0===e.vertical?t.scrollTop:Math.abs(t.scrollLeft);!0===j.value?(C.value=Math.ceil(r+n.width)<t.scrollWidth-1,R.value=r>0):(C.value=r>0,R.value=!0===e.vertical?Math.ceil(r+n.height)<t.scrollHeight:Math.ceil(r+n.width)<t.scrollWidth)}function K(e){null!==I&&clearInterval(I),I=setInterval((()=>{!0===te(e)&&Q()}),5)}function X(){K(!0===Y.value?Number.MAX_SAFE_INTEGER:0)}function J(){K(!0===Y.value?0:Number.MAX_SAFE_INTEGER)}function Q(){null!==I&&(clearInterval(I),I=null)}function Z(t,n){const r=Array.prototype.filter.call(S.value.children,(e=>e===n||e.matches&&!0===e.matches(".q-tab.q-focusable"))),i=r.length;if(0===i)return;if(36===t)return $(r[0]),r[0].focus(),!0;if(35===t)return $(r[i-1]),r[i-1].focus(),!0;const o=t===(!0===e.vertical?38:37),s=t===(!0===e.vertical?40:39),a=!0===o?-1:!0===s?1:void 0;if(void 0!==a){const e=!0===j.value?-1:1,t=r.indexOf(n)+a*e;return t>=0&&t<i&&($(r[t]),r[t].focus({preventScroll:!0})),!0}}(0,r.wB)(j,q),(0,r.wB)((()=>e.modelValue),(e=>{V({name:e,setCurrent:!0,skipEmit:!0})})),(0,r.wB)((()=>e.outsideArrows),W);const ee=(0,r.EW)((()=>!0===Y.value?{get:e=>Math.abs(e.scrollLeft),set:(e,t)=>{e.scrollLeft=-t}}:!0===e.vertical?{get:e=>e.scrollTop,set:(e,t)=>{e.scrollTop=t}}:{get:e=>e.scrollLeft,set:(e,t)=>{e.scrollLeft=t}}));function te(e){const t=S.value,{get:n,set:r}=ee.value;let i=!1,o=n(t);const s=e<o?-1:1;return o+=5*s,o<0?(i=!0,o=0):(-1===s&&o<=e||1===s&&o>=e)&&(i=!0,o=e),r(t,o),q(),i}function ne(e,t){for(const n in e)if(e[n]!==t[n])return!1;return!0}function re(){let e=null,t={matchedLen:0,queryDiff:9999,hrefLen:0};const n=A.filter((e=>void 0!==e.routeData&&!0===e.routeData.hasRouterLink.value)),{hash:r,query:i}=s.$route,o=Object.keys(i).length;for(const s of n){const n=!0===s.routeData.exact.value;if(!0!==s.routeData[!0===n?"linkIsExactActive":"linkIsActive"].value)continue;const{hash:a,query:l,matched:u,href:c}=s.routeData.resolvedLink.value,h=Object.keys(l).length;if(!0===n){if(a!==r)continue;if(h!==o||!1===ne(i,l))continue;e=s.name.value;break}if(""!==a&&a!==r)continue;if(0!==h&&!1===ne(l,i))continue;const d={matchedLen:u.length,queryDiff:o-h,hrefLen:c.length-a.length};if(d.matchedLen>t.matchedLen)e=s.name.value,t=d;else if(d.matchedLen===t.matchedLen){if(d.queryDiff<t.queryDiff)e=s.name.value,t=d;else if(d.queryDiff!==t.queryDiff)continue;d.hrefLen>t.hrefLen&&(e=s.name.value,t=d)}}null===e&&!0===A.some((e=>void 0===e.routeData&&e.name.value===T.value))||V({name:e,setCurrent:!0})}function ie(e){if(b(),!0!==L.value&&null!==E.value&&e.target&&"function"===typeof e.target.closest){const t=e.target.closest(".q-tab");t&&!0===E.value.contains(t)&&(L.value=!0,!0===M.value&&$(t))}}function oe(){h((()=>{L.value=!1}),30)}function se(){!1===ce.avoidRouteWatcher?w(re):_()}function ae(){if(void 0===k){const e=(0,r.wB)((()=>s.$route.fullPath),se);k=()=>{e(),k=void 0}}}function le(e){A.push(e),N.value++,W(),void 0===e.routeData||void 0===s.$route?w((()=>{if(!0===M.value){const e=T.value,t=void 0!==e&&null!==e&&""!==e?A.find((t=>t.name.value===e)):null;t&&$(t.rootRef.value)}})):(ae(),!0===e.routeData.hasRouterLink.value&&se())}function ue(e){A.splice(A.indexOf(e),1),N.value--,W(),void 0!==k&&void 0!==e.routeData&&(!0===A.every((e=>void 0===e.routeData))&&k(),se())}const ce={currentModel:T,tabProps:P,hasFocus:L,hasActiveTab:D,registerTab:le,unregisterTab:ue,verifyRouteModel:se,updateModel:V,onKbdNavigate:Z,avoidRouteWatcher:!1};function he(){null!==O&&clearTimeout(O),Q(),void 0!==k&&k()}let de;return(0,r.Gt)(g.Uv,ce),(0,r.xo)(he),(0,r.Y4)((()=>{de=void 0!==k,he()})),(0,r.n)((()=>{!0===de&&ae(),W()})),()=>(0,r.h)("div",{ref:E,class:H.value,role:"tablist",onFocusin:ie,onFocusout:oe},[(0,r.h)(d,{onResize:z}),(0,r.h)("div",{ref:S,class:U.value,onScroll:q},(0,m.zm)(t.default)),(0,r.h)(o.A,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(!0===C.value?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[!0===e.vertical?"up":"left"],onMousedownPassive:X,onTouchstartPassive:X,onMouseupPassive:Q,onMouseleavePassive:Q,onTouchendPassive:Q}),(0,r.h)(o.A,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(!0===R.value?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[!0===e.vertical?"down":"right"],onMousedownPassive:J,onTouchstartPassive:J,onMouseupPassive:Q,onMouseleavePassive:Q,onTouchendPassive:Q})])}})},91343:function(e,t,n){"use strict";var r=n(74220),i=n(64503),o=n(7563),s=n(99140);t.A=(0,s.a0)({name:"QToggle",props:{...o.jh,icon:String,iconColor:String},emits:o.LA,setup(e){function t(t,n){const o=(0,r.EW)((()=>(!0===t.value?e.checkedIcon:!0===n.value?e.indeterminateIcon:e.uncheckedIcon)||e.icon)),s=(0,r.EW)((()=>!0===t.value?e.iconColor:null));return()=>[(0,r.h)("div",{class:"q-toggle__track"}),(0,r.h)("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},void 0!==o.value?[(0,r.h)(i.A,{name:o.value,color:s.value})]:void 0)]}return(0,o.Ay)("toggle",t)}})},76997:function(e,t,n){"use strict";var r=n(74220),i=n(46732),o=n(39798),s=n(21073),a=n(41297),l=n(73783),u=n(38317),c=n(76921),h=n(12176),d=n(5952),f=n(99140),p=n(83903),m=n(15055),g=n(35382),v=n(41952),y=n(22322),b=n(34714);t.A=(0,f.a0)({name:"QTooltip",inheritAttrs:!1,props:{...s.Tq,...l.RI,...c.d,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...c.d.transitionShow,default:"jump-down"},transitionHide:{...c.d.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:b.o3},self:{type:String,default:"top middle",validator:b.o3},offset:{type:Array,default:()=>[14,14],validator:b.aC},scrollTarget:p.cP,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...l.Jl],setup(e,{slots:t,emit:n,attrs:f}){let w,_;const E=(0,r.nI)(),{proxy:{$q:S}}=E,T=(0,i.KR)(null),M=(0,i.KR)(!1),C=(0,r.EW)((()=>(0,b.rk)(e.anchor,S.lang.rtl))),R=(0,r.EW)((()=>(0,b.rk)(e.self,S.lang.rtl))),x=(0,r.EW)((()=>!0!==e.persistent)),{registerTick:A,removeTick:N}=(0,h.A)(),{registerTimeout:L}=(0,d.A)(),{transitionProps:k,transitionStyle:O}=(0,c.A)(e),{localScrollTarget:I,changeScrollEvent:P,unconfigureScrollTarget:D}=(0,a.A)(e,Q),{anchorEl:F,canShow:H,anchorEvents:U}=(0,s.Ay)({showing:M,configureAnchorEl:J}),{show:B,hide:j}=(0,l.Ay)({showing:M,canShow:H,handleShow:z,handleHide:G,hideOnRouteChange:x,processOnMount:!0});Object.assign(U,{delayShow:K,delayHide:X});const{showPortal:Y,hidePortal:V,renderPortal:W}=(0,u.A)(E,T,ee,"tooltip");if(!0===S.platform.is.mobile){const t={anchorEl:F,innerRef:T,onClickOutside(e){return j(e),e.target.classList.contains("q-dialog__backdrop")&&(0,m.Gu)(e),!0}},n=(0,r.EW)((()=>null===e.modelValue&&!0!==e.persistent&&!0===M.value));(0,r.wB)(n,(e=>{const n=!0===e?y.r:y.e;n(t)})),(0,r.xo)((()=>{(0,y.e)(t)}))}function z(t){Y(),A((()=>{_=new MutationObserver((()=>q())),_.observe(T.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),q(),Q()})),void 0===w&&(w=(0,r.wB)((()=>S.screen.width+"|"+S.screen.height+"|"+e.self+"|"+e.anchor+"|"+S.lang.rtl),q)),L((()=>{Y(!0),n("show",t)}),e.transitionDuration)}function G(t){N(),V(),$(),L((()=>{V(!0),n("hide",t)}),e.transitionDuration)}function $(){void 0!==_&&(_.disconnect(),_=void 0),void 0!==w&&(w(),w=void 0),D(),(0,m.Fh)(U,"tooltipTemp")}function q(){(0,b.Kk)({targetEl:T.value,offset:e.offset,anchorEl:F.value,anchorOrigin:C.value,selfOrigin:R.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function K(t){if(!0===S.platform.is.mobile){(0,g.w)(),document.body.classList.add("non-selectable");const e=F.value,t=["touchmove","touchcancel","touchend","click"].map((t=>[e,t,"delayHide","passiveCapture"]));(0,m.Z4)(U,"tooltipTemp",t)}L((()=>{B(t)}),e.delay)}function X(t){!0===S.platform.is.mobile&&((0,m.Fh)(U,"tooltipTemp"),(0,g.w)(),setTimeout((()=>{document.body.classList.remove("non-selectable")}),10)),L((()=>{j(t)}),e.hideDelay)}function J(){if(!0===e.noParentEvent||null===F.value)return;const t=!0===S.platform.is.mobile?[[F.value,"touchstart","delayShow","passive"]]:[[F.value,"mouseenter","delayShow","passive"],[F.value,"mouseleave","delayHide","passive"]];(0,m.Z4)(U,"anchor",t)}function Q(){if(null!==F.value||void 0!==e.scrollTarget){I.value=(0,p.hD)(F.value,e.scrollTarget);const t=!0===e.noParentEvent?q:j;P(I.value,t)}}function Z(){return!0===M.value?(0,r.h)("div",{...f,ref:T,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",f.class],style:[f.style,O.value],role:"tooltip"},(0,v.zm)(t.default)):null}function ee(){return(0,r.h)(o.eB,k.value,Z)}return(0,r.xo)($),Object.assign(E.proxy,{updatePosition:q}),W}})},53393:function(e,t,n){"use strict";n.d(t,{A:function(){return g}});n(84645);var r=n(74220),i=n(46732),o=n(39798),s=n(64503),a=n(78495),l=n(99140),u=(0,l.a0)({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let i,s,a,l,u=!1,c=null,h=null;function d(){i&&i(),i=null,u=!1,null!==c&&(clearTimeout(c),c=null),null!==h&&(clearTimeout(h),h=null),void 0!==s&&s.removeEventListener("transitionend",a),a=null}function f(t,n,r){void 0!==n&&(t.style.height=`${n}px`),t.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,u=!0,i=r}function p(e,t){e.style.overflowY=null,e.style.height=null,e.style.transition=null,d(),t!==l&&n(t)}function m(t,n){let r=0;s=t,!0===u?(d(),r=t.offsetHeight===t.scrollHeight?0:void 0):(l="hide",t.style.overflowY="hidden"),f(t,r,n),c=setTimeout((()=>{c=null,t.style.height=`${t.scrollHeight}px`,a=e=>{h=null,Object(e)===e&&e.target!==t||p(t,"show")},t.addEventListener("transitionend",a),h=setTimeout(a,1.1*e.duration)}),100)}function g(t,n){let r;s=t,!0===u?d():(l="show",t.style.overflowY="hidden",r=t.scrollHeight),f(t,r,n),c=setTimeout((()=>{c=null,t.style.height=0,a=e=>{h=null,Object(e)===e&&e.target!==t||p(t,"hide")},t.addEventListener("transitionend",a),h=setTimeout(a,1.1*e.duration)}),100)}return(0,r.xo)((()=>{!0===u&&d()})),()=>(0,r.h)(o.eB,{css:!1,appear:e.appear,onEnter:m,onLeave:g},t.default)}}),c=n(6119),h=n(15471),d=n(15055),f=n(37031),p=n(79862);const m=["none","strict","leaf","leaf-filtered"];var g=(0,l.a0)({name:"QTree",props:{...h.C,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:e=>m.includes(e)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:{},noConnectors:Boolean,noTransition:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazyLoad","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:l}=(0,r.nI)(),{$q:m}=l,g=(0,h.A)(e,m),v=(0,i.KR)({}),y=(0,i.KR)(e.ticked||[]),b=(0,i.KR)(e.expanded||[]);let w={};(0,r.Ic)((()=>{w={}}));const _=(0,r.EW)((()=>"q-tree q-tree--"+(!0===e.dense?"dense":"standard")+(!0===e.noConnectors?" q-tree--no-connectors":"")+(!0===g.value?" q-tree--dark":"")+(void 0!==e.color?` text-${e.color}`:""))),E=(0,r.EW)((()=>void 0!==e.selected)),S=(0,r.EW)((()=>e.icon||m.iconSet.tree.icon)),T=(0,r.EW)((()=>e.controlColor||e.color)),M=(0,r.EW)((()=>void 0!==e.textColor?` text-${e.textColor}`:"")),C=(0,r.EW)((()=>{const t=e.selectedColor||e.color;return t?` text-${t}`:""})),R=(0,r.EW)((()=>void 0!==e.filterMethod?e.filterMethod:(t,n)=>{const r=n.toLowerCase();return t[e.labelKey]&&-1!==t[e.labelKey].toLowerCase().indexOf(r)})),x=(0,r.EW)((()=>{const t={},n=(r,i)=>{const o=r.tickStrategy||(i?i.tickStrategy:e.tickStrategy),s=r[e.nodeKey],a=r[e.childrenKey]&&Array.isArray(r[e.childrenKey])&&0!==r[e.childrenKey].length,l=!0!==r.disabled&&!0===E.value&&!1!==r.selectable,u=!0!==r.disabled&&!1!==r.expandable,c="none"!==o,h="strict"===o,d="leaf-filtered"===o,f="leaf"===o||"leaf-filtered"===o;let p=!0!==r.disabled&&!1!==r.tickable;!0===f&&!0===p&&i&&!0!==i.tickable&&(p=!1);let m=r.lazy;!0===m&&void 0!==v.value[s]&&!0===Array.isArray(r[e.childrenKey])&&(m=v.value[s]);const g={key:s,parent:i,isParent:a,lazy:m,disabled:r.disabled,link:!0!==r.disabled&&(!0===l||!0===u&&(!0===a||!0===m)),children:[],matchesFilter:!e.filter||R.value(r,e.filter),selected:s===e.selected&&!0===l,selectable:l,expanded:!0===a&&b.value.includes(s),expandable:u,noTick:!0===r.noTick||!0!==h&&m&&"loaded"!==m,tickable:p,tickStrategy:o,hasTicking:c,strictTicking:h,leafFilteredTicking:d,leafTicking:f,ticked:(!0===h||!0!==a)&&y.value.includes(s)};if(t[s]=g,!0===a&&(g.children=r[e.childrenKey].map((e=>n(e,g))),e.filter&&(!0!==g.matchesFilter?g.matchesFilter=g.children.some((e=>e.matchesFilter)):!0!==g.noTick&&!0!==g.disabled&&!0===g.tickable&&!0===d&&!0===g.children.every((e=>!0!==e.matchesFilter||!0===e.noTick||!0!==e.tickable))&&(g.tickable=!1)),!0===g.matchesFilter&&(!0!==g.noTick&&!0!==h&&!0===g.children.every((e=>e.noTick))&&(g.noTick=!0),f))){if(g.ticked=!1,g.indeterminate=g.children.some((e=>!0===e.indeterminate)),g.tickable=!0===g.tickable&&g.children.some((e=>e.tickable)),!0!==g.indeterminate){const e=g.children.reduce(((e,t)=>!0===t.ticked?e+1:e),0);e===g.children.length?g.ticked=!0:e>0&&(g.indeterminate=!0)}!0===g.indeterminate&&(g.indeterminateNextState=g.children.every((e=>!0!==e.tickable||!0!==e.ticked)))}return g};return e.nodes.forEach((e=>n(e,null))),t}));function A(t){const n=[].reduce,r=(i,o)=>i||!o?i:!0===Array.isArray(o)?n.call(Object(o),r,i):o[e.nodeKey]===t?o:o[e.childrenKey]?r(null,o[e.childrenKey]):void 0;return r(null,e.nodes)}function N(){return y.value.map((e=>A(e)))}function L(){return b.value.map((e=>A(e)))}function k(e){return!(!e||!x.value[e])&&x.value[e].expanded}function O(){void 0!==e.expanded?n("update:expanded",[]):b.value=[]}function I(){const t=[],r=n=>{n[e.childrenKey]&&0!==n[e.childrenKey].length&&!1!==n.expandable&&!0!==n.disabled&&(t.push(n[e.nodeKey]),n[e.childrenKey].forEach(r))};e.nodes.forEach(r),void 0!==e.expanded?n("update:expanded",t):b.value=t}function P(t,i,o=A(t),s=x.value[t]){if(s.lazy&&"loaded"!==s.lazy){if("loading"===s.lazy)return;v.value[t]="loading",!0!==Array.isArray(o[e.childrenKey])&&(o[e.childrenKey]=[]),n("lazyLoad",{node:o,key:t,done:n=>{v.value[t]="loaded",o[e.childrenKey]=!0===Array.isArray(n)?n:[],(0,r.dY)((()=>{const e=x.value[t];e&&!0===e.isParent&&D(t,!0)}))},fail:()=>{delete v.value[t],0===o[e.childrenKey].length&&delete o[e.childrenKey]}})}else!0===s.isParent&&!0===s.expandable&&D(t,i)}function D(t,r){let i=b.value;const o=void 0!==e.expanded;if(!0===o&&(i=i.slice()),r){if(e.accordion&&x.value[t]){const n=[];x.value[t].parent?x.value[t].parent.children.forEach((e=>{e.key!==t&&!0===e.expandable&&n.push(e.key)})):e.nodes.forEach((r=>{const i=r[e.nodeKey];i!==t&&n.push(i)})),0!==n.length&&(i=i.filter((e=>!1===n.includes(e))))}i=i.concat([t]).filter(((e,t,n)=>n.indexOf(e)===t))}else i=i.filter((e=>e!==t));!0===o?n("update:expanded",i):b.value=i}function F(e){return!(!e||!x.value[e])&&x.value[e].ticked}function H(t,r){let i=y.value;const o=void 0!==e.ticked;!0===o&&(i=i.slice()),i=r?i.concat(t).filter(((e,t,n)=>n.indexOf(e)===t)):i.filter((e=>!1===t.includes(e))),!0===o&&n("update:ticked",i)}function U(t,n,r){const i={tree:l,node:t,key:r,color:e.color,dark:g.value};return(0,p.$)(i,"expanded",(()=>n.expanded),(e=>{e!==n.expanded&&P(r,e)})),(0,p.$)(i,"ticked",(()=>n.ticked),(e=>{e!==n.ticked&&H([r],e)})),i}function B(t){return(e.filter?t.filter((t=>x.value[t[e.nodeKey]].matchesFilter)):t).map((e=>W(e)))}function j(e){if(void 0!==e.icon)return(0,r.h)(s.A,{class:"q-tree__icon q-mr-sm",name:e.icon,color:e.iconColor});const t=e.img||e.avatar;return t?(0,r.h)("img",{class:`q-tree__${e.img?"img":"avatar"} q-mr-sm`,src:t}):void 0}function Y(){n("afterShow")}function V(){n("afterHide")}function W(n){const i=n[e.nodeKey],l=x.value[i],h=n.header&&t[`header-${n.header}`]||t["default-header"],p=!0===l.isParent?B(n[e.childrenKey]):[],m=0!==p.length||l.lazy&&"loaded"!==l.lazy;let v=n.body&&t[`body-${n.body}`]||t["default-body"];const y=void 0!==h||void 0!==v?U(n,l,i):null;return void 0!==v&&(v=(0,r.h)("div",{class:"q-tree__node-body relative-position"},[(0,r.h)("div",{class:M.value},[v(y)])])),(0,r.h)("div",{key:i,class:"q-tree__node relative-position q-tree__node--"+(!0===m?"parent":"child")},[(0,r.h)("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(!0===l.link?" q-tree__node--link q-hoverable q-focusable":"")+(!0===l.selected?" q-tree__node--selected":"")+(!0===l.disabled?" q-tree__node--disabled":""),tabindex:!0===l.link?0:-1,ariaExpanded:p.length>0?l.expanded:null,role:"treeitem",onClick:e=>{G(n,l,e)},onKeypress(e){!0!==(0,f.JL)(e)&&(13===e.keyCode?G(n,l,e,!0):32===e.keyCode&&$(n,l,e,!0))}},[(0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:e=>{w[l.key]=e}}),"loading"===l.lazy?(0,r.h)(c.A,{class:"q-tree__spinner",color:T.value}):!0===m?(0,r.h)(s.A,{class:"q-tree__arrow"+(!0===l.expanded?" q-tree__arrow--rotate":""),name:S.value,onClick(e){$(n,l,e)}}):null,!0===l.hasTicking&&!0!==l.noTick?(0,r.h)(a.A,{class:"q-tree__tickbox",modelValue:!0===l.indeterminate?null:l.ticked,color:T.value,dark:g.value,dense:!0,keepColor:!0,disable:!0!==l.tickable,onKeydown:d.Gu,"onUpdate:modelValue":e=>{q(l,e)}}):null,(0,r.h)("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(!0===l.selected?C.value:M.value)},[h?h(y):[j(n),(0,r.h)("div",n[e.labelKey])]])]),!0===m?!0===e.noTransition?!0===l.expanded?(0,r.h)("div",{class:"q-tree__node-collapsible"+M.value,key:`${i}__q`},[v,(0,r.h)("div",{class:"q-tree__children"+(!0===l.disabled?" q-tree__node--disabled":""),role:"group"},p)]):null:(0,r.h)(u,{duration:e.duration,onShow:Y,onHide:V},(()=>(0,r.bo)((0,r.h)("div",{class:"q-tree__node-collapsible"+M.value,key:`${i}__q`},[v,(0,r.h)("div",{class:"q-tree__children"+(!0===l.disabled?" q-tree__node--disabled":""),role:"group"},p)]),[[o.aG,l.expanded]]))):v])}function z(e){const t=w[e];t&&t.focus()}function G(t,r,i,o){!0!==o&&!1!==r.selectable&&z(r.key),E.value&&r.selectable?!1===e.noSelectionUnset?n("update:selected",r.key!==e.selected?r.key:null):r.key!==e.selected&&n("update:selected",void 0===r.key?null:r.key):$(t,r,i,o),"function"===typeof t.handler&&t.handler(t)}function $(e,t,n,r){void 0!==n&&(0,d.Gu)(n),!0!==r&&!1!==t.selectable&&z(t.key),P(t.key,!t.expanded,e,t)}function q(e,t){if(!0===e.indeterminate&&(t=e.indeterminateNextState),e.strictTicking)H([e.key],t);else if(e.leafTicking){const n=[],r=e=>{e.isParent?(!0!==t&&!0!==e.noTick&&!0===e.tickable&&n.push(e.key),!0===e.leafTicking&&e.children.forEach(r)):!0===e.noTick||!0!==e.tickable||!0===e.leafFilteredTicking&&!0!==e.matchesFilter||n.push(e.key)};r(e),H(n,t)}}return(0,r.wB)((()=>e.ticked),(e=>{y.value=e})),(0,r.wB)((()=>e.expanded),(e=>{b.value=e})),!0===e.defaultExpandAll&&I(),Object.assign(l,{getNodeByKey:A,getTickedNodes:N,getExpandedNodes:L,isExpanded:k,collapseAll:O,expandAll:I,setExpanded:P,isTicked:F,setTicked:H}),()=>{const t=B(e.nodes);return(0,r.h)("div",{class:_.value,role:"tree"},0===t.length?e.filter?e.noResultsLabel||m.lang.tree.noResults:e.noNodesLabel||m.lang.tree.noNodes:t)}}})},20101:function(e,t,n){"use strict";n.d(t,{A:function(){return v}});var r=n(46732),i=n(74220),o=n(5668),s=n(15471),a=n(99140),l=n(41952);const u=["horizontal","vertical","cell","none"];var c=(0,a.a0)({name:"QMarkupTable",props:{...s.C,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>u.includes(e)}},setup(e,{slots:t}){const n=(0,i.nI)(),r=(0,s.A)(e,n.proxy.$q),o=(0,i.EW)((()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(!0===r.value?" q-table--dark q-table__card--dark q-dark":"")+(!0===e.dense?" q-table--dense":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":"")+(!0===e.square?" q-table--square":"")+(!1===e.wrapCells?" q-table--no-wrap":"")));return()=>(0,i.h)("div",{class:o.value},[(0,i.h)("table",{class:"q-table"},(0,l.zm)(t.default))])}}),h=n(74623),d=n(37230),f=n(83903),p=n(15055);const m={list:o.A,table:c},g=["list","table","__qtable"];var v=(0,a.a0)({name:"QVirtualScroll",props:{...d.AV,type:{type:String,default:"list",validator:e=>g.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:f.cP},setup(e,{slots:t,attrs:n}){let o;const s=(0,r.KR)(null),a=(0,i.EW)((()=>e.itemsSize>=0&&void 0!==e.itemsFn?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0)),{virtualScrollSliceRange:u,localResetVirtualScroll:c,padVirtualScroll:g,onVirtualScrollEvt:v}=(0,d.Iq)({virtualScrollLength:a,getVirtualScrollTarget:E,getVirtualScrollEl:_}),y=(0,i.EW)((()=>{if(0===a.value)return[];const t=(e,t)=>({index:u.value.from+t,item:e});return void 0===e.itemsFn?e.items.slice(u.value.from,u.value.to).map(t):e.itemsFn(u.value.from,u.value.to-u.value.from).map(t)})),b=(0,i.EW)((()=>"q-virtual-scroll q-virtual-scroll"+(!0===e.virtualScrollHorizontal?"--horizontal":"--vertical")+(void 0!==e.scrollTarget?"":" scroll"))),w=(0,i.EW)((()=>void 0!==e.scrollTarget?{}:{tabindex:0}));function _(){return s.value.$el||s.value}function E(){return o}function S(){o=(0,f.hD)(_(),e.scrollTarget),o.addEventListener("scroll",v,p.mG.passive)}function T(){void 0!==o&&(o.removeEventListener("scroll",v,p.mG.passive),o=void 0)}function M(){let n=g("list"===e.type?"div":"tbody",y.value.map(t.default));return void 0!==t.before&&(n=t.before().concat(n)),(0,l.Hp)(t.after,n)}return(0,i.wB)(a,(()=>{c()})),(0,i.wB)((()=>e.scrollTarget),(()=>{T(),S()})),(0,i.KC)((()=>{c()})),(0,i.sV)((()=>{S()})),(0,i.n)((()=>{S()})),(0,i.Y4)((()=>{T()})),(0,i.xo)((()=>{T()})),()=>{if(void 0!==t.default)return"__qtable"===e.type?(0,h.A)({ref:s,class:"q-table__middle "+b.value},M()):(0,i.h)(m[e.type],{...n,ref:s,class:[n.class,b.value],...w.value},M);console.error("QVirtualScroll: default scoped slot is required for rendering")}}})},37230:function(e,t,n){"use strict";n.d(t,{AV:function(){return y},Iq:function(){return b},kP:function(){return v}});n(84645);var r=n(74220),i=n(46732),o=n(98155),s=n(15055),a=n(3082);const l=1e3,u=["start","center","end","start-force","center-force","end-force"],c=Array.prototype.filter,h=void 0===window.getComputedStyle(document.body).overflowAnchor?s.lQ:function(e,t){null!==e&&(void 0!==e._qOverflowAnimationFrame&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame((()=>{if(null===e)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];c.call(n,(e=>e.dataset&&void 0!==e.dataset.qVsAnchor)).forEach((e=>{delete e.dataset.qVsAnchor}));const r=n[t];r&&r.dataset&&(r.dataset.qVsAnchor="")})))};function d(e,t){return e+t}function f(e,t,n,r,i,o,s,l){const u=e===window?document.scrollingElement||document.documentElement:e,c=!0===i?"offsetWidth":"offsetHeight",h={scrollStart:0,scrollViewSize:-s-l,scrollMaxSize:0,offsetStart:-s,offsetEnd:-l};if(!0===i?(e===window?(h.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,h.scrollViewSize+=document.documentElement.clientWidth):(h.scrollStart=u.scrollLeft,h.scrollViewSize+=u.clientWidth),h.scrollMaxSize=u.scrollWidth,!0===o&&(h.scrollStart=(!0===a.E?h.scrollMaxSize-h.scrollViewSize:0)-h.scrollStart)):(e===window?(h.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,h.scrollViewSize+=document.documentElement.clientHeight):(h.scrollStart=u.scrollTop,h.scrollViewSize+=u.clientHeight),h.scrollMaxSize=u.scrollHeight),null!==n)for(let a=n.previousElementSibling;null!==a;a=a.previousElementSibling)!1===a.classList.contains("q-virtual-scroll--skip")&&(h.offsetStart+=a[c]);if(null!==r)for(let a=r.nextElementSibling;null!==a;a=a.nextElementSibling)!1===a.classList.contains("q-virtual-scroll--skip")&&(h.offsetEnd+=a[c]);if(t!==e){const n=u.getBoundingClientRect(),r=t.getBoundingClientRect();!0===i?(h.offsetStart+=r.left-n.left,h.offsetEnd-=r.width):(h.offsetStart+=r.top-n.top,h.offsetEnd-=r.height),e!==window&&(h.offsetStart+=h.scrollStart),h.offsetEnd+=h.scrollMaxSize-h.offsetStart}return h}function p(e,t,n,r){"end"===t&&(t=(e===window?document.body:e)[!0===n?"scrollWidth":"scrollHeight"]),e===window?!0===n?(!0===r&&(t=(!0===a.E?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):!0===n?(!0===r&&(t=(!0===a.E?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function m(e,t,n,r){if(n>=r)return 0;const i=t.length,o=Math.floor(n/l),s=Math.floor((r-1)/l)+1;let a=e.slice(o,s).reduce(d,0);return n%l!==0&&(a-=t.slice(o*l,n).reduce(d,0)),r%l!==0&&r!==i&&(a-=t.slice(r,s*l).reduce(d,0)),a}const g={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},v=Object.keys(g),y={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...g};function b({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:s}){const a=(0,r.nI)(),{props:g,emit:v,proxy:y}=a,{$q:b}=y;let w,_,E,S,T=[];const M=(0,i.KR)(0),C=(0,i.KR)(0),R=(0,i.KR)({}),x=(0,i.KR)(null),A=(0,i.KR)(null),N=(0,i.KR)(null),L=(0,i.KR)({from:0,to:0}),k=(0,r.EW)((()=>void 0!==g.tableColspan?g.tableColspan:100));void 0===s&&(s=(0,r.EW)((()=>g.virtualScrollItemSize)));const O=(0,r.EW)((()=>s.value+";"+g.virtualScrollHorizontal)),I=(0,r.EW)((()=>O.value+";"+g.virtualScrollSliceRatioBefore+";"+g.virtualScrollSliceRatioAfter));function P(){Y(_,!0)}function D(e){Y(void 0===e?_:e)}function F(r,i){const o=t();if(void 0===o||null===o||8===o.nodeType)return;const s=f(o,n(),x.value,A.value,g.virtualScrollHorizontal,b.lang.rtl,g.virtualScrollStickySizeStart,g.virtualScrollStickySizeEnd);E!==s.scrollViewSize&&V(s.scrollViewSize),U(o,s,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,-1!==u.indexOf(i)?i:-1!==_&&r>_?"end":"start")}function H(){const r=t();if(void 0===r||null===r||8===r.nodeType)return;const i=f(r,n(),x.value,A.value,g.virtualScrollHorizontal,b.lang.rtl,g.virtualScrollStickySizeStart,g.virtualScrollStickySizeEnd),o=e.value-1,s=i.scrollMaxSize-i.offsetStart-i.offsetEnd-C.value;if(w===i.scrollStart)return;if(i.scrollMaxSize<=0)return void U(r,i,0,0);E!==i.scrollViewSize&&V(i.scrollViewSize),B(L.value.from);const a=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(S[o],i.scrollViewSize/2));if(a>0&&Math.ceil(i.scrollStart)>=a)return void U(r,i,o,i.scrollMaxSize-i.offsetEnd-T.reduce(d,0));let u=0,c=i.scrollStart-i.offsetStart,h=c;if(c<=s&&c+i.scrollViewSize>=M.value)c-=M.value,u=L.value.from,h=c;else for(let e=0;c>=T[e]&&u<o;e++)c-=T[e],u+=l;while(c>0&&u<o)c-=S[u],c>-i.scrollViewSize?(u++,h=c):h=S[u]+c;U(r,i,u,h)}function U(t,n,r,i,o){const s="string"===typeof o&&-1!==o.indexOf("-force"),a=!0===s?o.replace("-force",""):o,l=void 0!==a?a:"start";let u=Math.max(0,r-R.value[l]),c=u+R.value.total;c>e.value&&(c=e.value,u=Math.max(0,c-R.value.total)),w=n.scrollStart;const f=u!==L.value.from||c!==L.value.to;if(!1===f&&void 0===a)return void z(r);const{activeElement:v}=document,y=N.value;!0===f&&null!==y&&y!==v&&!0===y.contains(v)&&(y.addEventListener("focusout",j),setTimeout((()=>{null!==y&&y.removeEventListener("focusout",j)}))),h(y,r-u);const _=void 0!==a?S.slice(u,r).reduce(d,0):0;if(!0===f){const t=c>=L.value.from&&u<=L.value.to?L.value.to:c;L.value={from:u,to:t},M.value=m(T,S,0,u),C.value=m(T,S,c,e.value),requestAnimationFrame((()=>{L.value.to!==c&&w===n.scrollStart&&(L.value={from:L.value.from,to:c},C.value=m(T,S,c,e.value))}))}requestAnimationFrame((()=>{if(w!==n.scrollStart)return;!0===f&&B(u);const e=S.slice(u,r).reduce(d,0),o=e+n.offsetStart+M.value,l=o+S[r];let c=o+i;if(void 0!==a){const t=e-_,i=n.scrollStart+t;c=!0!==s&&i<o&&l<i+n.scrollViewSize?i:"end"===a?l-n.scrollViewSize:o-("start"===a?0:Math.round((n.scrollViewSize-S[r])/2))}w=c,p(t,c,g.virtualScrollHorizontal,b.lang.rtl),z(r)}))}function B(e){const t=N.value;if(t){const n=c.call(t.children,(e=>e.classList&&!1===e.classList.contains("q-virtual-scroll--skip"))),r=n.length,i=!0===g.virtualScrollHorizontal?e=>e.getBoundingClientRect().width:e=>e.offsetHeight;let o,s,a=e;for(let e=0;e<r;){o=i(n[e]),e++;while(e<r&&!0===n[e].classList.contains("q-virtual-scroll--with-prev"))o+=i(n[e]),e++;s=o-S[a],0!==s&&(S[a]+=s,T[Math.floor(a/l)]+=s),a++}}}function j(){null!==N.value&&void 0!==N.value&&N.value.focus()}function Y(t,n){const i=1*s.value;!0!==n&&!1!==Array.isArray(S)||(S=[]);const o=S.length;S.length=e.value;for(let r=e.value-1;r>=o;r--)S[r]=i;const a=Math.floor((e.value-1)/l);T=[];for(let r=0;r<=a;r++){let t=0;const n=Math.min((r+1)*l,e.value);for(let e=r*l;e<n;e++)t+=S[e];T.push(t)}_=-1,w=void 0,M.value=m(T,S,0,L.value.from),C.value=m(T,S,L.value.to,e.value),t>=0?(B(L.value.from),(0,r.dY)((()=>{F(t)}))):G()}function V(e){if(void 0===e&&"undefined"!==typeof window){const r=t();void 0!==r&&null!==r&&8!==r.nodeType&&(e=f(r,n(),x.value,A.value,g.virtualScrollHorizontal,b.lang.rtl,g.virtualScrollStickySizeStart,g.virtualScrollStickySizeEnd).scrollViewSize)}E=e;const r=parseFloat(g.virtualScrollSliceRatioBefore)||0,i=parseFloat(g.virtualScrollSliceRatioAfter)||0,o=1+r+i,a=void 0===e||e<=0?1:Math.ceil(e/s.value),l=Math.max(1,a,Math.ceil((g.virtualScrollSliceSize>0?g.virtualScrollSliceSize:10)/o));R.value={total:Math.ceil(l*o),start:Math.ceil(l*r),center:Math.ceil(l*(.5+r)),end:Math.ceil(l*(1+r)),view:a}}function W(e,t){const n=!0===g.virtualScrollHorizontal?"width":"height",i={["--q-virtual-scroll-item-"+n]:s.value+"px"};return["tbody"===e?(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:x},[(0,r.h)("tr",[(0,r.h)("td",{style:{[n]:`${M.value}px`,...i},colspan:k.value})])]):(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:x,style:{[n]:`${M.value}px`,...i}}),(0,r.h)(e,{class:"q-virtual-scroll__content",key:"content",ref:N,tabindex:-1},t.flat()),"tbody"===e?(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:A},[(0,r.h)("tr",[(0,r.h)("td",{style:{[n]:`${C.value}px`,...i},colspan:k.value})])]):(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:A,style:{[n]:`${C.value}px`,...i}})]}function z(e){_!==e&&(void 0!==g.onVirtualScroll&&v("virtualScroll",{index:e,from:L.value.from,to:L.value.to-1,direction:e<_?"decrease":"increase",ref:y}),_=e)}(0,r.wB)(I,(()=>{V()})),(0,r.wB)(O,P),V();const G=(0,o.A)(H,!0===b.platform.is.ios?120:35);(0,r.KC)((()=>{V()}));let $=!1;return(0,r.Y4)((()=>{$=!0})),(0,r.n)((()=>{if(!0!==$)return;const e=t();void 0!==w&&void 0!==e&&null!==e&&8!==e.nodeType?p(e,w,g.virtualScrollHorizontal,b.lang.rtl):F(_)})),(0,r.xo)((()=>{G.cancel()})),Object.assign(y,{scrollTo:F,reset:P,refresh:D}),{virtualScrollSliceRange:L,virtualScrollSliceSizeComputed:R,setVirtualScrollSize:V,onVirtualScrollEvt:G,localResetVirtualScroll:Y,padVirtualScroll:W,scrollTo:F,reset:P,refresh:D}}},8817:function(e,t,n){"use strict";n.d(t,{Ay:function(){return a},fR:function(){return s}});var r=n(74220);const i={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},o=Object.keys(i),s={align:{type:String,validator:e=>o.includes(e)}};function a(e){return(0,r.EW)((()=>{const t=void 0===e.align?!0===e.vertical?"stretch":"left":e.align;return`${!0===e.vertical?"items":"justify"}-${i[t]}`}))}},21073:function(e,t,n){"use strict";n.d(t,{Ay:function(){return c},Tq:function(){return l},d:function(){return u}});var r=n(74220),i=n(46732),o=n(35382),s=n(15055),a=n(37031);const l={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},u={...l,contextMenu:Boolean};function c({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:l,proxy:u,emit:c}=(0,r.nI)(),h=(0,i.KR)(null);let d=null;function f(e){return null!==h.value&&(void 0===e||void 0===e.touches||e.touches.length<=1)}const p={};function m(){(0,s.Fh)(p,"anchor")}function g(e){h.value=e;while(h.value.classList.contains("q-anchor--skip"))h.value=h.value.parentNode;n()}function v(){if(!1===l.target||""===l.target||null===u.$el.parentNode)h.value=null;else if(!0===l.target)g(u.$el.parentNode);else{let t=l.target;if("string"===typeof l.target)try{t=document.querySelector(l.target)}catch(e){t=void 0}void 0!==t&&null!==t?(h.value=t.$el||t,n()):(h.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return void 0===n&&(Object.assign(p,{hide(e){u.hide(e)},toggle(e){u.toggle(e),e.qAnchorHandled=!0},toggleKey(e){!0===(0,a.Dv)(e,13)&&p.toggle(e)},contextClick(e){u.hide(e),(0,s.F4)(e),(0,r.dY)((()=>{u.show(e),e.qAnchorHandled=!0}))},prevent:s.F4,mobileTouch(e){if(p.mobileCleanup(e),!0!==f(e))return;u.hide(e),h.value.classList.add("non-selectable");const t=e.target;(0,s.Z4)(p,"anchor",[[t,"touchmove","mobileCleanup","passive"],[t,"touchend","mobileCleanup","passive"],[t,"touchcancel","mobileCleanup","passive"],[h.value,"contextmenu","prevent","notPassive"]]),d=setTimeout((()=>{d=null,u.show(e),e.qAnchorHandled=!0}),300)},mobileCleanup(t){h.value.classList.remove("non-selectable"),null!==d&&(clearTimeout(d),d=null),!0===e.value&&void 0!==t&&(0,o.w)()}}),n=function(e=l.contextMenu){if(!0===l.noParentEvent||null===h.value)return;let t;t=!0===e?!0===u.$q.platform.is.mobile?[[h.value,"touchstart","mobileTouch","passive"]]:[[h.value,"mousedown","hide","passive"],[h.value,"contextmenu","contextClick","notPassive"]]:[[h.value,"click","toggle","passive"],[h.value,"keyup","toggleKey","passive"]],(0,s.Z4)(p,"anchor",t)}),(0,r.wB)((()=>l.contextMenu),(e=>{null!==h.value&&(m(),n(e))})),(0,r.wB)((()=>l.target),(()=>{null!==h.value&&m(),v()})),(0,r.wB)((()=>l.noParentEvent),(e=>{null!==h.value&&(!0===e?m():n())})),(0,r.sV)((()=>{v(),!0!==t&&!0===l.modelValue&&null===h.value&&c("update:modelValue",!1)})),(0,r.xo)((()=>{null!==d&&clearTimeout(d),m()})),{anchorEl:h,canShow:f,anchorEvents:p}}},15471:function(e,t,n){"use strict";n.d(t,{A:function(){return o},C:function(){return i}});var r=n(74220);const i={dark:{type:Boolean,default:null}};function o(e,t){return(0,r.EW)((()=>null===e.dark?t.dark.isActive:e.dark))}},99305:function(e,t,n){"use strict";n.d(t,{Ay:function(){return x},o9:function(){return S},mU:function(){return C},OJ:function(){return M},$7:function(){return R}});n(84645);var r=n(74220),i=n(46732),o=n(39798),s=n(64503),a=n(6119),l=n(79168);const u=/^on[A-Z]/;function c(){const{attrs:e,vnode:t}=(0,r.nI)(),n={listeners:(0,i.KR)({}),attributes:(0,i.KR)({})};function o(){const r={},i={};for(const t in e)"class"!==t&&"style"!==t&&!1===u.test(t)&&(r[t]=e[t]);for(const e in t.props)!0===u.test(e)&&(i[e]=t.props[e]);n.attributes.value=r,n.listeners.value=i}return(0,r.Ic)(o),o(),n}var h=n(15471),d=n(13430);function f({validate:e,resetValidation:t,requiresQForm:n}){const i=(0,r.WQ)(d.q3,!1);if(!1!==i){const{props:n,proxy:o}=(0,r.nI)();Object.assign(o,{validate:e,resetValidation:t}),(0,r.wB)((()=>n.disable),(e=>{!0===e?("function"===typeof t&&t(),i.unbindComponent(o)):i.bindComponent(o)})),(0,r.sV)((()=>{!0!==n.disable&&i.bindComponent(o)})),(0,r.xo)((()=>{!0!==n.disable&&i.unbindComponent(o)}))}else!0===n&&console.error("Parent QForm not found on useFormChild()!")}var p=n(96687),m=n(98155),g=n(79862);const v=[!0,!1,"ondemand"],y={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>v.includes(e)}};function b(e,t){const{props:n,proxy:o}=(0,r.nI)(),s=(0,i.KR)(!1),a=(0,i.KR)(null),l=(0,i.KR)(!1);f({validate:_,resetValidation:w});let u,c=0;const h=(0,r.EW)((()=>void 0!==n.rules&&null!==n.rules&&0!==n.rules.length)),d=(0,r.EW)((()=>!0!==n.disable&&!0===h.value&&!1===t.value)),v=(0,r.EW)((()=>!0===n.error||!0===s.value)),y=(0,r.EW)((()=>"string"===typeof n.errorMessage&&0!==n.errorMessage.length?n.errorMessage:a.value));function b(){"ondemand"!==n.lazyRules&&!0===d.value&&!0===l.value&&E()}function w(){c++,t.value=!1,l.value=!1,s.value=!1,a.value=null,E.cancel()}function _(e=n.modelValue){if(!0===n.disable||!1===h.value)return!0;const r=++c,i=!0!==t.value?()=>{l.value=!0}:()=>{},o=(e,n)=>{!0===e&&i(),s.value=e,a.value=n||null,t.value=!1},u=[];for(let t=0;t<n.rules.length;t++){const r=n.rules[t];let i;if("function"===typeof r?i=r(e,p.r):"string"===typeof r&&void 0!==p.r[r]&&(i=p.r[r](e)),!1===i||"string"===typeof i)return o(!0,i),!1;!0!==i&&void 0!==i&&u.push(i)}return 0===u.length?(o(!1),!0):(t.value=!0,Promise.all(u).then((e=>{if(void 0===e||!1===Array.isArray(e)||0===e.length)return r===c&&o(!1),!0;const t=e.find((e=>!1===e||"string"===typeof e));return r===c&&o(void 0!==t,t),void 0===t}),(e=>(r===c&&(console.error(e),o(!0)),!1))))}(0,r.wB)((()=>n.modelValue),(()=>{l.value=!0,!0===d.value&&!1===n.lazyRules&&E()})),(0,r.wB)((()=>n.reactiveRules),(e=>{!0===e?void 0===u&&(u=(0,r.wB)((()=>n.rules),b,{immediate:!0,deep:!0})):void 0!==u&&(u(),u=void 0)}),{immediate:!0}),(0,r.wB)((()=>n.lazyRules),b),(0,r.wB)(e,(e=>{!0===e?l.value=!0:!0===d.value&&"ondemand"!==n.lazyRules&&E()}));const E=(0,m.A)(_,0);return(0,r.xo)((()=>{void 0!==u&&u(),E.cancel()})),Object.assign(o,{resetValidation:w,validate:_}),(0,g.$)(o,"hasError",(()=>v.value)),{isDirtyModel:l,hasRules:h,hasError:v,errorMessage:y,validate:_,resetValidation:w}}var w=n(41952),_=n(15055),E=n(87520);function S(e){return void 0!==e&&null!==e&&0!==(""+e).length}const T={...h.C,...y,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},M={...T,maxlength:[Number,String]},C=["update:modelValue","clear","focus","blur"];function R({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:o,proxy:s}=(0,r.nI)(),a=(0,h.A)(o,s.$q),u=(0,l.A)({required:e,getValue:()=>o.for});return{requiredForAttr:e,changeEvent:n,tag:!0===t?(0,r.EW)((()=>o.tag)):{value:"label"},isDark:a,editable:(0,r.EW)((()=>!0!==o.disable&&!0!==o.readonly)),innerLoading:(0,i.KR)(!1),focused:(0,i.KR)(!1),hasPopupOpen:!1,splitAttrs:c(),targetUid:u,rootRef:(0,i.KR)(null),targetRef:(0,i.KR)(null),controlRef:(0,i.KR)(null)}}function x(e){const{props:t,emit:n,slots:i,attrs:l,proxy:u}=(0,r.nI)(),{$q:c}=u;let h=null;void 0===e.hasValue&&(e.hasValue=(0,r.EW)((()=>S(t.modelValue)))),void 0===e.emitValue&&(e.emitValue=e=>{n("update:modelValue",e)}),void 0===e.controlEvents&&(e.controlEvents={onFocusin:I,onFocusout:P}),Object.assign(e,{clearValue:D,onControlFocusin:I,onControlFocusout:P,focus:k}),void 0===e.computedCounter&&(e.computedCounter=(0,r.EW)((()=>{if(!1!==t.counter){const e="string"===typeof t.modelValue||"number"===typeof t.modelValue?(""+t.modelValue).length:!0===Array.isArray(t.modelValue)?t.modelValue.length:0,n=void 0!==t.maxlength?t.maxlength:t.maxValues;return e+(void 0!==n?" / "+n:"")}})));const{isDirtyModel:d,hasRules:f,hasError:p,errorMessage:m,resetValidation:g}=b(e.focused,e.innerLoading),v=void 0!==e.floatingLabel?(0,r.EW)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.floatingLabel.value)):(0,r.EW)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.hasValue.value)),y=(0,r.EW)((()=>!0===t.bottomSlots||void 0!==t.hint||!0===f.value||!0===t.counter||null!==t.error)),T=(0,r.EW)((()=>!0===t.filled?"filled":!0===t.outlined?"outlined":!0===t.borderless?"borderless":t.standout?"standout":"standard")),M=(0,r.EW)((()=>`q-field row no-wrap items-start q-field--${T.value}`+(void 0!==e.fieldClass?` ${e.fieldClass.value}`:"")+(!0===t.rounded?" q-field--rounded":"")+(!0===t.square?" q-field--square":"")+(!0===v.value?" q-field--float":"")+(!0===R.value?" q-field--labeled":"")+(!0===t.dense?" q-field--dense":"")+(!0===t.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===e.isDark.value?" q-field--dark":"")+(void 0===e.getControl?" q-field--auto-height":"")+(!0===e.focused.value?" q-field--focused":"")+(!0===p.value?" q-field--error":"")+(!0===p.value||!0===e.focused.value?" q-field--highlighted":"")+(!0!==t.hideBottomSpace&&!0===y.value?" q-field--with-bottom":"")+(!0===t.disable?" q-field--disabled":!0===t.readonly?" q-field--readonly":""))),C=(0,r.EW)((()=>"q-field__control relative-position row no-wrap"+(void 0!==t.bgColor?` bg-${t.bgColor}`:"")+(!0===p.value?" text-negative":"string"===typeof t.standout&&0!==t.standout.length&&!0===e.focused.value?` ${t.standout}`:void 0!==t.color?` text-${t.color}`:""))),R=(0,r.EW)((()=>!0===t.labelSlot||void 0!==t.label)),x=(0,r.EW)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==t.labelColor&&!0!==p.value?` text-${t.labelColor}`:""))),A=(0,r.EW)((()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:v.value,modelValue:t.modelValue,emitValue:e.emitValue}))),N=(0,r.EW)((()=>{const n={};return e.targetUid.value&&(n.for=e.targetUid.value),!0===t.disable&&(n["aria-disabled"]="true"),n}));function L(){const t=document.activeElement;let n=void 0!==e.targetRef&&e.targetRef.value;!n||null!==t&&t.id===e.targetUid.value||(!0===n.hasAttribute("tabindex")||(n=n.querySelector("[tabindex]")),n&&n!==t&&n.focus({preventScroll:!0}))}function k(){(0,E.Gy)(L)}function O(){(0,E.vQ)(L);const t=document.activeElement;null!==t&&e.rootRef.value.contains(t)&&t.blur()}function I(t){null!==h&&(clearTimeout(h),h=null),!0===e.editable.value&&!1===e.focused.value&&(e.focused.value=!0,n("focus",t))}function P(t,r){null!==h&&clearTimeout(h),h=setTimeout((()=>{h=null,(!0!==document.hasFocus()||!0!==e.hasPopupOpen&&void 0!==e.controlRef&&null!==e.controlRef.value&&!1===e.controlRef.value.contains(document.activeElement))&&(!0===e.focused.value&&(e.focused.value=!1,n("blur",t)),void 0!==r&&r())}))}function D(i){if((0,_.Gu)(i),!0!==c.platform.is.mobile){const t=void 0!==e.targetRef&&e.targetRef.value||e.rootRef.value;t.focus()}else!0===e.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===t.type&&(e.inputRef.value.value=null),n("update:modelValue",null),!0===e.changeEvent&&n("change",null),n("clear",t.modelValue),(0,r.dY)((()=>{const e=d.value;g(),d.value=e}))}function F(e){[13,32].includes(e.keyCode)&&D(e)}function H(){const n=[];return void 0!==i.prepend&&n.push((0,r.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:_.F4},i.prepend())),n.push((0,r.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},U())),!0===p.value&&!1===t.noErrorIcon&&n.push(j("error",[(0,r.h)(s.A,{name:c.iconSet.field.error,color:"negative"})])),!0===t.loading||!0===e.innerLoading.value?n.push(j("inner-loading-append",void 0!==i.loading?i.loading():[(0,r.h)(a.A,{color:t.color})])):!0===t.clearable&&!0===e.hasValue.value&&!0===e.editable.value&&n.push(j("inner-clearable-append",[(0,r.h)(s.A,{class:"q-field__focusable-action",name:t.clearIcon||c.iconSet.field.clear,tabindex:0,role:"button","aria-label":c.lang.label.clear,onKeyup:F,onClick:D})])),void 0!==i.append&&n.push((0,r.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:_.F4},i.append())),void 0!==e.getInnerAppend&&n.push(j("inner-append",e.getInnerAppend())),void 0!==e.getControlChild&&n.push(e.getControlChild()),n}function U(){const n=[];return void 0!==t.prefix&&null!==t.prefix&&n.push((0,r.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),void 0!==e.getShadowControl&&!0===e.hasShadow.value&&n.push(e.getShadowControl()),void 0!==e.getControl?n.push(e.getControl()):void 0!==i.rawControl?n.push(i.rawControl()):void 0!==i.control&&n.push((0,r.h)("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0},i.control(A.value))),!0===R.value&&n.push((0,r.h)("div",{class:x.value},(0,w.zm)(i.label,t.label))),void 0!==t.suffix&&null!==t.suffix&&n.push((0,r.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),n.concat((0,w.zm)(i.default))}function B(){let n,s;!0===p.value?null!==m.value?(n=[(0,r.h)("div",{role:"alert"},m.value)],s=`q--slot-error-${m.value}`):(n=(0,w.zm)(i.error),s="q--slot-error"):!0===t.hideHint&&!0!==e.focused.value||(void 0!==t.hint?(n=[(0,r.h)("div",t.hint)],s=`q--slot-hint-${t.hint}`):(n=(0,w.zm)(i.hint),s="q--slot-hint"));const a=!0===t.counter||void 0!==i.counter;if(!0===t.hideBottomSpace&&!1===a&&void 0===n)return;const l=(0,r.h)("div",{key:s,class:"q-field__messages col"},n);return(0,r.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==t.hideBottomSpace?"animated":"stale"),onClick:_.F4},[!0===t.hideBottomSpace?l:(0,r.h)(o.eB,{name:"q-transition--field-message"},(()=>l)),!0===a?(0,r.h)("div",{class:"q-field__counter"},void 0!==i.counter?i.counter():e.computedCounter.value):null])}function j(e,t){return null===t?null:(0,r.h)("div",{key:e,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},t)}let Y=!1;return(0,r.Y4)((()=>{Y=!0})),(0,r.n)((()=>{!0===Y&&!0===t.autofocus&&u.focus()})),!0===t.autofocus&&(0,r.sV)((()=>{u.focus()})),(0,r.xo)((()=>{null!==h&&clearTimeout(h)})),Object.assign(u,{focus:k,blur:O}),function(){const n=void 0===e.getControl&&void 0===i.control?{...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0,...N.value}:N.value;return(0,r.h)(e.tag.value,{ref:e.rootRef,class:[M.value,l.class],style:l.style,...n},[void 0!==i.before?(0,r.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:_.F4},i.before()):null,(0,r.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,r.h)("div",{ref:e.controlRef,class:C.value,tabindex:-1,...e.controlEvents},H()),!0===y.value?B():null]),void 0!==i.after?(0,r.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:_.F4},i.after()):null])}}},81173:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});var r=n(61030);const i=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,o=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,s=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,a=/[a-z0-9_ -]$/i;function l(e){return function(t){if("compositionend"===t.type||"change"===t.type){if(!0!==t.target.qComposing)return;t.target.qComposing=!1,e(t)}else if("compositionupdate"===t.type&&!0!==t.target.qComposing&&"string"===typeof t.data){const e=!0===r.Sn.is.firefox?!1===a.test(t.data):!0===i.test(t.data)||!0===o.test(t.data)||!0===s.test(t.data);!0===e&&(t.target.qComposing=!0)}}}},73783:function(e,t,n){"use strict";n.d(t,{Ay:function(){return a},Jl:function(){return s},RI:function(){return o}});var r=n(74220),i=n(13246);const o={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},s=["beforeShow","show","beforeHide","hide"];function a({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:s,processOnMount:a}){const l=(0,r.nI)(),{props:u,emit:c,proxy:h}=l;let d;function f(t){!0===e.value?g(t):p(t)}function p(e){if(!0===u.disable||void 0!==e&&!0===e.qAnchorHandled||void 0!==t&&!0!==t(e))return;const n=void 0!==u["onUpdate:modelValue"];!0===n&&(c("update:modelValue",!0),d=e,(0,r.dY)((()=>{d===e&&(d=void 0)}))),null!==u.modelValue&&!1!==n||m(e)}function m(t){!0!==e.value&&(e.value=!0,c("beforeShow",t),void 0!==o?o(t):c("show",t))}function g(e){if(!0===u.disable)return;const t=void 0!==u["onUpdate:modelValue"];!0===t&&(c("update:modelValue",!1),d=e,(0,r.dY)((()=>{d===e&&(d=void 0)}))),null!==u.modelValue&&!1!==t||v(e)}function v(t){!1!==e.value&&(e.value=!1,c("beforeHide",t),void 0!==s?s(t):c("hide",t))}function y(t){if(!0===u.disable&&!0===t)void 0!==u["onUpdate:modelValue"]&&c("update:modelValue",!1);else if(!0===t!==e.value){const e=!0===t?m:v;e(d)}}(0,r.wB)((()=>u.modelValue),y),void 0!==n&&!0===(0,i.$b)(l)&&(0,r.wB)((()=>h.$route.fullPath),(()=>{!0===n.value&&!0===e.value&&g()})),!0===a&&(0,r.sV)((()=>{y(u.modelValue)}));const b={show:p,hide:g,toggle:f};return Object.assign(h,b),b}},77854:function(e,t,n){"use strict";n.d(t,{Ay:function(){return w},hb:function(){return g},g:function(){return b},Qn:function(){return y}});var r=n(74220),i=n(46732),o=n(39798),s=n(61030),a=n(99140),l=n(19950),u=n(15055),c=n(35382);function h(e){const t=[.06,6,50];return"string"===typeof e&&e.length&&e.split(":").forEach(((e,n)=>{const r=parseFloat(e);r&&(t[n]=r)})),t}var d=(0,a.Yg)({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:r}){if(!0!==r.mouse&&!0!==s.Sn.has.touch)return;const i=!0===r.mouseCapture?"Capture":"",o={handler:t,sensitivity:h(n),direction:(0,l.U)(r),noop:u.lQ,mouseStart(e){(0,l.W)(e,o)&&(0,u.w7)(e)&&((0,u.Z4)(o,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(e,!0))},touchStart(e){if((0,l.W)(e,o)){const t=e.target;(0,u.Z4)(o,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","notPassiveCapture"],[t,"touchend","end","notPassiveCapture"]]),o.start(e)}},start(t,n){!0===s.Sn.is.firefox&&(0,u.M5)(e,!0);const r=(0,u.G1)(t);o.event={x:r.left,y:r.top,time:Date.now(),mouse:!0===n,dir:!1}},move(e){if(void 0===o.event)return;if(!1!==o.event.dir)return void(0,u.Gu)(e);const t=Date.now()-o.event.time;if(0===t)return;const n=(0,u.G1)(e),r=n.left-o.event.x,i=Math.abs(r),s=n.top-o.event.y,a=Math.abs(s);if(!0!==o.event.mouse){if(i<o.sensitivity[1]&&a<o.sensitivity[1])return void o.end(e)}else{if(""!==window.getSelection().toString())return void o.end(e);if(i<o.sensitivity[2]&&a<o.sensitivity[2])return}const l=i/t,h=a/t;!0===o.direction.vertical&&i<a&&i<100&&h>o.sensitivity[0]&&(o.event.dir=s<0?"up":"down"),!0===o.direction.horizontal&&i>a&&a<100&&l>o.sensitivity[0]&&(o.event.dir=r<0?"left":"right"),!0===o.direction.up&&i<a&&s<0&&i<100&&h>o.sensitivity[0]&&(o.event.dir="up"),!0===o.direction.down&&i<a&&s>0&&i<100&&h>o.sensitivity[0]&&(o.event.dir="down"),!0===o.direction.left&&i>a&&r<0&&a<100&&l>o.sensitivity[0]&&(o.event.dir="left"),!0===o.direction.right&&i>a&&r>0&&a<100&&l>o.sensitivity[0]&&(o.event.dir="right"),!1!==o.event.dir?((0,u.Gu)(e),!0===o.event.mouse&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,c.w)(),o.styleCleanup=e=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const t=()=>{document.body.classList.remove("no-pointer-events--children")};!0===e?setTimeout(t,50):t()}),o.handler({evt:e,touch:!0!==o.event.mouse,mouse:o.event.mouse,direction:o.event.dir,duration:t,distance:{x:i,y:a}})):o.end(e)},end(t){void 0!==o.event&&((0,u.Fh)(o,"temp"),!0===s.Sn.is.firefox&&(0,u.M5)(e,!1),void 0!==o.styleCleanup&&o.styleCleanup(!0),void 0!==t&&!1!==o.event.dir&&(0,u.Gu)(t),o.event=void 0)}};if(e.__qtouchswipe=o,!0===r.mouse){const t=!0===r.mouseCapture||!0===r.mousecapture?"Capture":"";(0,u.Z4)(o,"main",[[e,"mousedown","mouseStart",`passive${t}`]])}!0===s.Sn.has.touch&&(0,u.Z4)(o,"main",[[e,"touchstart","touchStart","passive"+(!0===r.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;void 0!==n&&(t.oldValue!==t.value&&("function"!==typeof t.value&&n.end(),n.handler=t.value),n.direction=(0,l.U)(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;void 0!==t&&((0,u.Fh)(t,"main"),(0,u.Fh)(t,"temp"),!0===s.Sn.is.firefox&&(0,u.M5)(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchswipe)}}),f=n(54348),p=n(41952),m=n(13246);const g={name:{required:!0},disable:Boolean},v={setup(e,{slots:t}){return()=>(0,r.h)("div",{class:"q-panel scroll",role:"tabpanel"},(0,p.zm)(t.default))}},y={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},b=["update:modelValue","beforeTransition","transition"];function w(){const{props:e,emit:t,proxy:n}=(0,r.nI)(),{getCache:s}=(0,f.A)();let a,l;const u=(0,i.KR)(null),c=(0,i.KR)(null);function h(t){const r=!0===e.vertical?"up":"left";L((!0===n.$q.lang.rtl?-1:1)*(t.direction===r?1:-1))}const g=(0,r.EW)((()=>[[d,h,void 0,{horizontal:!0!==e.vertical,vertical:e.vertical,mouse:!0}]])),y=(0,r.EW)((()=>e.transitionPrev||"slide-"+(!0===e.vertical?"down":"right"))),b=(0,r.EW)((()=>e.transitionNext||"slide-"+(!0===e.vertical?"up":"left"))),w=(0,r.EW)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),_=(0,r.EW)((()=>"string"===typeof e.modelValue||"number"===typeof e.modelValue?e.modelValue:String(e.modelValue))),E=(0,r.EW)((()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax}))),S=(0,r.EW)((()=>void 0!==e.keepAliveInclude||void 0!==e.keepAliveExclude));function T(){L(1)}function M(){L(-1)}function C(e){t("update:modelValue",e)}function R(e){return void 0!==e&&null!==e&&""!==e}function x(e){return a.findIndex((t=>t.props.name===e&&""!==t.props.disable&&!0!==t.props.disable))}function A(){return a.filter((e=>""!==e.props.disable&&!0!==e.props.disable))}function N(t){const n=0!==t&&!0===e.animated&&-1!==u.value?"q-transition--"+(-1===t?y.value:b.value):null;c.value!==n&&(c.value=n)}function L(n,r=u.value){let i=r+n;while(-1!==i&&i<a.length){const e=a[i];if(void 0!==e&&""!==e.props.disable&&!0!==e.props.disable)return N(n),l=!0,t("update:modelValue",e.props.name),void setTimeout((()=>{l=!1}));i+=n}!0===e.infinite&&0!==a.length&&-1!==r&&r!==a.length&&L(n,-1===n?a.length:-1)}function k(){const t=x(e.modelValue);return u.value!==t&&(u.value=t),!0}function O(){const t=!0===R(e.modelValue)&&k()&&a[u.value];return!0===e.keepAlive?[(0,r.h)(r.PR,E.value,[(0,r.h)(!0===S.value?s(_.value,(()=>({...v,name:_.value}))):v,{key:_.value,style:w.value},(()=>t))])]:[(0,r.h)("div",{class:"q-panel scroll",style:w.value,key:_.value,role:"tabpanel"},[t])]}function I(){if(0!==a.length)return!0===e.animated?[(0,r.h)(o.eB,{name:c.value},O)]:O()}function P(e){return a=(0,m.Hl)((0,p.zm)(e.default,[])).filter((e=>null!==e.props&&void 0===e.props.slot&&!0===R(e.props.name))),a.length}function D(){return a}return(0,r.wB)((()=>e.modelValue),((e,n)=>{const i=!0===R(e)?x(e):-1;!0!==l&&N(-1===i?0:i<x(n)?-1:1),u.value!==i&&(u.value=i,t("beforeTransition",e,n),(0,r.dY)((()=>{t("transition",e,n)})))})),Object.assign(n,{next:T,previous:M,goTo:C}),{panelIndex:u,panelDirectives:g,updatePanelsList:P,updatePanelIndex:k,getPanelContent:I,getEnabledPanels:A,getPanels:D,isValidPanelName:R,keepAliveProps:E,needsUniqueKeepAliveWrapper:S,goToPanelByOffset:L,goToPanel:C,nextPanel:T,previousPanel:M}}},38317:function(e,t,n){"use strict";n.d(t,{A:function(){return y}});n(84645);var r=n(46732),i=n(74220),o=n(99140),s=(n(15055),n(87520)),a=n(53116);const l=[],u=[];let c=1,h=document.body;function d(e,t){const n=document.createElement("div");if(n.id=void 0!==t?`q-portal--${t}--${c++}`:e,void 0!==a.cr.globalNodes){const e=a.cr.globalNodes.class;void 0!==e&&(n.className=e)}return h.appendChild(n),l.push(n),u.push(t),n}function f(e){const t=l.indexOf(e);l.splice(t,1),u.splice(t,1),e.remove()}var p=n(7412),m=n(79862);const g=(0,o.a0)({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function v(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function y(e,t,n,o){const a=(0,r.KR)(!1),l=(0,r.KR)(!1);let u=null;const c={},h="dialog"===o&&v(e);function y(t){if(!0===t)return(0,s.gv)(c),void(l.value=!0);l.value=!1,!1===a.value&&(!1===h&&null===u&&(u=d(!1,o)),a.value=!0,p.jx.push(e.proxy),(0,s.FD)(c))}function b(t){if(l.value=!1,!0!==t)return;(0,s.gv)(c),a.value=!1;const n=p.jx.indexOf(e.proxy);-1!==n&&p.jx.splice(n,1),null!==u&&(f(u),u=null)}return(0,i.hi)((()=>{b(!0)})),e.proxy.__qPortal=!0,(0,m.$)(e.proxy,"contentEl",(()=>t.value)),{showPortal:y,hidePortal:b,portalIsActive:a,portalIsAccessible:l,renderPortal:()=>!0===h?n():!0===a.value?[(0,i.h)(i.Im,{to:u},(0,i.h)(g,n))]:void 0}}},95005:function(e,t,n){"use strict";n.d(t,{Ay:function(){return f},Ji:function(){return d},ni:function(){return h}});var r=n(74220),i=n(13246);function o(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function s(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function a(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!1===Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function l(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function u(e,t){return!0===Array.isArray(e)?l(e,t):!0===Array.isArray(t)?l(t,e):e===t}function c(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!1===u(e[n],t[n]))return!1;return!0}const h={to:[String,Object],replace:Boolean,href:String,target:String,disable:Boolean},d={...h,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"}};function f({fallbackTag:e,useDisableForRouterLinkProps:t=!0}={}){const n=(0,r.nI)(),{props:l,proxy:u,emit:h}=n,d=(0,i.$b)(n),f=(0,r.EW)((()=>!0!==l.disable&&void 0!==l.href)),p=!0===t?(0,r.EW)((()=>!0===d&&!0!==l.disable&&!0!==f.value&&void 0!==l.to&&null!==l.to&&""!==l.to)):(0,r.EW)((()=>!0===d&&!0!==f.value&&void 0!==l.to&&null!==l.to&&""!==l.to)),m=(0,r.EW)((()=>!0===p.value?T(l.to):null)),g=(0,r.EW)((()=>null!==m.value)),v=(0,r.EW)((()=>!0===f.value||!0===g.value)),y=(0,r.EW)((()=>"a"===l.type||!0===v.value?"a":l.tag||e||"div")),b=(0,r.EW)((()=>!0===f.value?{href:l.href,target:l.target}:!0===g.value?{href:m.value.href,target:l.target}:{})),w=(0,r.EW)((()=>{if(!1===g.value)return-1;const{matched:e}=m.value,{length:t}=e,n=e[t-1];if(void 0===n)return-1;const r=u.$route.matched;if(0===r.length)return-1;const i=r.findIndex(s.bind(null,n));if(-1!==i)return i;const a=o(e[t-2]);return t>1&&o(n)===a&&r[r.length-1].path!==a?r.findIndex(s.bind(null,e[t-2])):i})),_=(0,r.EW)((()=>!0===g.value&&-1!==w.value&&a(u.$route.params,m.value.params))),E=(0,r.EW)((()=>!0===_.value&&w.value===u.$route.matched.length-1&&c(u.$route.params,m.value.params))),S=(0,r.EW)((()=>!0===g.value?!0===E.value?` ${l.exactActiveClass} ${l.activeClass}`:!0===l.exact?"":!0===_.value?` ${l.activeClass}`:"":""));function T(e){try{return u.$router.resolve(e)}catch(t){}return null}function M(e,{returnRouterError:t,to:n=l.to,replace:r=l.replace}={}){if(!0===l.disable)return e.preventDefault(),Promise.resolve(!1);if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||void 0!==e.button&&0!==e.button||"_blank"===l.target)return Promise.resolve(!1);e.preventDefault();const i=u.$router[!0===r?"replace":"push"](n);return!0===t?i:i.then((()=>{})).catch((()=>{}))}function C(e){if(!0===g.value){const t=t=>M(e,t);h("click",e,t),!0!==e.defaultPrevented&&t()}else h("click",e)}return{hasRouterLink:g,hasHrefLink:f,hasLink:v,linkTag:y,resolvedLink:m,linkIsActive:_,linkIsExactActive:E,linkClass:S,linkAttrs:b,getLink:T,navigateToRouterLink:M,navigateOnClick:C}}},41297:function(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(46732),i=n(74220),o=n(15055);function s(e,t){const n=(0,r.KR)(null);let s;function a(e,t){const n=(void 0!==t?"add":"remove")+"EventListener",r=void 0!==t?t:s;e!==window&&e[n]("scroll",r,o.mG.passive),window[n]("scroll",r,o.mG.passive),s=t}function l(){null!==n.value&&(a(n.value),n.value=null)}const u=(0,i.wB)((()=>e.noParentEvent),(()=>{null!==n.value&&(l(),t())}));return(0,i.xo)(u),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:a}}},48313:function(e,t,n){"use strict";n.d(t,{Ay:function(){return s},v0:function(){return i},x_:function(){return o}});var r=n(74220);const i={xs:18,sm:24,md:32,lg:38,xl:46},o={size:String};function s(e,t=i){return(0,r.EW)((()=>void 0!==e.size?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null))}},76921:function(e,t,n){"use strict";n.d(t,{A:function(){return o},d:function(){return i}});var r=n(74220);const i={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function o(e,t=(()=>{}),n=(()=>{})){return{transitionProps:(0,r.EW)((()=>{const r=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}})),transitionStyle:(0,r.EW)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}},43749:function(e,t,n){"use strict";n.d(t,{M4:function(){return a},Sc:function(){return i},mj:function(){return o},vq:function(){return s}});var r=n(74220);const i={name:String};function o(e){return(0,r.EW)((()=>({type:"hidden",name:e.name,value:e.modelValue})))}function s(e={}){return(t,n,i)=>{t[n]((0,r.h)("input",{class:"hidden"+(i||""),...e.value}))}}function a(e){return(0,r.EW)((()=>e.name||e.for))}},79168:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(46732),i=n(74220),o=n(86059),s=n(61030);function a(e){return void 0===e||null===e?null:e}function l(e,t){return void 0===e||null===e?!0===t?`f_${(0,o.A)()}`:null:e}function u({getValue:e,required:t=!0}={}){if(!0===s.ot.value){const n=void 0!==e?(0,r.KR)(a(e())):(0,r.KR)(null);return!0===t&&null===n.value&&(0,i.sV)((()=>{n.value=`f_${(0,o.A)()}`})),void 0!==e&&(0,i.wB)(e,(e=>{n.value=l(e,t)})),n}return void 0!==e?(0,i.EW)((()=>l(e(),t))):(0,r.KR)(`f_${(0,o.A)()}`)}},54348:function(e,t,n){"use strict";function r(){let e=Object.create(null);return{getCache:(t,n)=>void 0===e[t]?e[t]="function"===typeof n?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){void 0!==t?delete e[t]:e=Object.create(null)}}}n.d(t,{A:function(){return r}})},12176:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(74220),i=n(13246);function o(){let e;const t=(0,r.nI)();function n(){e=void 0}return(0,r.Y4)(n),(0,r.xo)(n),{removeTick:n,registerTick(n){e=n,(0,r.dY)((()=>{e===n&&(!1===(0,i.rU)(t)&&e(),e=void 0)}))}}}},5952:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(74220),i=n(13246);function o(){let e=null;const t=(0,r.nI)();function n(){null!==e&&(clearTimeout(e),e=null)}return(0,r.Y4)(n),(0,r.xo)(n),{removeTimeout:n,registerTimeout(r,o){n(e),!1===(0,i.rU)(t)&&(e=setTimeout((()=>{e=null,r()}),o))}}}},60515:function(e,t,n){"use strict";var r=n(99140),i=n(7412),o=n(37031);function s(e){if(!1===e)return 0;if(!0===e||void 0===e)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}t.A=(0,r.Yg)({name:"close-popup",beforeMount(e,{value:t}){const n={depth:s(t),handler(t){0!==n.depth&&setTimeout((()=>{const r=(0,i.Rv)(e);void 0!==r&&(0,i.k0)(r,t,n.depth)}))},handlerKey(e){!0===(0,o.Dv)(e,13)&&n.handler(e)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=s(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}})},95408:function(e,t,n){"use strict";n(84645);var r=n(99140),i=n(12383),o=n(15055),s=n(37031),a=n(9381);function l(e,t,n,r){!0===n.modifiers.stop&&(0,o.ds)(e);const s=n.modifiers.color;let a=n.modifiers.center;a=!0===a||!0===r;const l=document.createElement("span"),u=document.createElement("span"),c=(0,o.G1)(e),{left:h,top:d,width:f,height:p}=t.getBoundingClientRect(),m=Math.sqrt(f*f+p*p),g=m/2,v=(f-m)/2+"px",y=a?v:c.left-h-g+"px",b=(p-m)/2+"px",w=a?b:c.top-d-g+"px";u.className="q-ripple__inner",(0,i.AH)(u,{height:`${m}px`,width:`${m}px`,transform:`translate3d(${y},${w},0) scale3d(.2,.2,1)`,opacity:0}),l.className="q-ripple"+(s?" text-"+s:""),l.setAttribute("dir","ltr"),l.appendChild(u),t.appendChild(l);const _=()=>{l.remove(),clearTimeout(E)};n.abort.push(_);let E=setTimeout((()=>{u.classList.add("q-ripple__inner--enter"),u.style.transform=`translate3d(${v},${b},0) scale3d(1,1,1)`,u.style.opacity=.2,E=setTimeout((()=>{u.classList.remove("q-ripple__inner--enter"),u.classList.add("q-ripple__inner--leave"),u.style.opacity=0,E=setTimeout((()=>{l.remove(),n.abort.splice(n.abort.indexOf(_),1)}),275)}),250)}),50)}function u(e,{modifiers:t,value:n,arg:r}){const i=Object.assign({},e.cfg.ripple,t,n);e.modifiers={early:!0===i.early,stop:!0===i.stop,center:!0===i.center,color:i.color||r,keyCodes:[].concat(i.keyCodes||13)}}t.A=(0,r.Yg)({name:"ripple",beforeMount(e,t){const n=t.instance.$.appContext.config.globalProperties.$q.config||{};if(!1===n.ripple)return;const r={cfg:n,enabled:!1!==t.value,modifiers:{},abort:[],start(t){!0===r.enabled&&!0!==t.qSkipRipple&&t.type===(!0===r.modifiers.early?"pointerdown":"click")&&l(t,e,r,!0===t.qKeyEvent)},keystart:(0,a.A)((t=>{!0===r.enabled&&!0!==t.qSkipRipple&&!0===(0,s.Dv)(t,r.modifiers.keyCodes)&&t.type==="key"+(!0===r.modifiers.early?"down":"up")&&l(t,e,r,!0)}),300)};u(r,t),e.__qripple=r,(0,o.Z4)(r,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;void 0!==n&&(n.enabled=!1!==t.value,!0===n.enabled&&Object(t.value)===t.value&&u(n,t))}},beforeUnmount(e){const t=e.__qripple;void 0!==t&&(t.abort.forEach((e=>{e()})),(0,o.Fh)(t,"main"),delete e._qripple)}})},50045:function(e,t,n){"use strict";var r=n(61030),i=n(99140),o=n(19950),s=n(15055),a=n(35382);function l(e,t,n){const r=(0,s.G1)(e);let i,o=r.left-t.event.x,a=r.top-t.event.y,l=Math.abs(o),u=Math.abs(a);const c=t.direction;!0===c.horizontal&&!0!==c.vertical?i=o<0?"left":"right":!0!==c.horizontal&&!0===c.vertical?i=a<0?"up":"down":!0===c.up&&a<0?(i="up",l>u&&(!0===c.left&&o<0?i="left":!0===c.right&&o>0&&(i="right"))):!0===c.down&&a>0?(i="down",l>u&&(!0===c.left&&o<0?i="left":!0===c.right&&o>0&&(i="right"))):!0===c.left&&o<0?(i="left",l<u&&(!0===c.up&&a<0?i="up":!0===c.down&&a>0&&(i="down"))):!0===c.right&&o>0&&(i="right",l<u&&(!0===c.up&&a<0?i="up":!0===c.down&&a>0&&(i="down")));let h=!1;if(void 0===i&&!1===n){if(!0===t.event.isFirst||void 0===t.event.lastDir)return{};i=t.event.lastDir,h=!0,"left"===i||"right"===i?(r.left-=o,l=0,o=0):(r.top-=a,u=0,a=0)}return{synthetic:h,payload:{evt:e,touch:!0!==t.event.mouse,mouse:!0===t.event.mouse,position:r,direction:i,isFirst:t.event.isFirst,isFinal:!0===n,duration:Date.now()-t.event.time,distance:{x:l,y:u},offset:{x:o,y:a},delta:{x:r.left-t.event.lastX,y:r.top-t.event.lastY}}}}let u=0;t.A=(0,i.Yg)({name:"touch-pan",beforeMount(e,{value:t,modifiers:n}){if(!0!==n.mouse&&!0!==r.Sn.has.touch)return;function i(e,t){!0===n.mouse&&!0===t?(0,s.Gu)(e):(!0===n.stop&&(0,s.ds)(e),!0===n.prevent&&(0,s.F4)(e))}const c={uid:"qvtp_"+u++,handler:t,modifiers:n,direction:(0,o.U)(n),noop:s.lQ,mouseStart(e){(0,o.W)(e,c)&&(0,s.w7)(e)&&((0,s.Z4)(c,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),c.start(e,!0))},touchStart(e){if((0,o.W)(e,c)){const t=e.target;(0,s.Z4)(c,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","passiveCapture"],[t,"touchend","end","passiveCapture"]]),c.start(e)}},start(t,i){if(!0===r.Sn.is.firefox&&(0,s.M5)(e,!0),c.lastEvt=t,!0===i||!0===n.stop){if(!0!==c.direction.all&&(!0!==i||!0!==c.modifiers.mouseAllDir&&!0!==c.modifiers.mousealldir)){const e=-1!==t.type.indexOf("mouse")?new MouseEvent(t.type,t):new TouchEvent(t.type,t);!0===t.defaultPrevented&&(0,s.F4)(e),!0===t.cancelBubble&&(0,s.ds)(e),Object.assign(e,{qKeyEvent:t.qKeyEvent,qClickOutside:t.qClickOutside,qAnchorHandled:t.qAnchorHandled,qClonedBy:void 0===t.qClonedBy?[c.uid]:t.qClonedBy.concat(c.uid)}),c.initialEvent={target:t.target,event:e}}(0,s.ds)(t)}const{left:o,top:a}=(0,s.G1)(t);c.event={x:o,y:a,time:Date.now(),mouse:!0===i,detected:!1,isFirst:!0,isFinal:!1,lastX:o,lastY:a}},move(e){if(void 0===c.event)return;const t=(0,s.G1)(e),r=t.left-c.event.x,o=t.top-c.event.y;if(0===r&&0===o)return;c.lastEvt=e;const u=!0===c.event.mouse,h=()=>{let t;i(e,u),!0!==n.preserveCursor&&!0!==n.preservecursor&&(t=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),!0===u&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,a.w)(),c.styleCleanup=e=>{if(c.styleCleanup=void 0,void 0!==t&&(document.documentElement.style.cursor=t),document.body.classList.remove("non-selectable"),!0===u){const t=()=>{document.body.classList.remove("no-pointer-events--children")};void 0!==e?setTimeout((()=>{t(),e()}),50):t()}else void 0!==e&&e()}};if(!0===c.event.detected){!0!==c.event.isFirst&&i(e,c.event.mouse);const{payload:t,synthetic:n}=l(e,c,!1);return void(void 0!==t&&(!1===c.handler(t)?c.end(e):(void 0===c.styleCleanup&&!0===c.event.isFirst&&h(),c.event.lastX=t.position.left,c.event.lastY=t.position.top,c.event.lastDir=!0===n?void 0:t.direction,c.event.isFirst=!1)))}if(!0===c.direction.all||!0===u&&(!0===c.modifiers.mouseAllDir||!0===c.modifiers.mousealldir))return h(),c.event.detected=!0,void c.move(e);const d=Math.abs(r),f=Math.abs(o);d!==f&&(!0===c.direction.horizontal&&d>f||!0===c.direction.vertical&&d<f||!0===c.direction.up&&d<f&&o<0||!0===c.direction.down&&d<f&&o>0||!0===c.direction.left&&d>f&&r<0||!0===c.direction.right&&d>f&&r>0?(c.event.detected=!0,c.move(e)):c.end(e,!0))},end(t,n){if(void 0!==c.event){if((0,s.Fh)(c,"temp"),!0===r.Sn.is.firefox&&(0,s.M5)(e,!1),!0===n)void 0!==c.styleCleanup&&c.styleCleanup(),!0!==c.event.detected&&void 0!==c.initialEvent&&c.initialEvent.target.dispatchEvent(c.initialEvent.event);else if(!0===c.event.detected){!0===c.event.isFirst&&c.handler(l(void 0===t?c.lastEvt:t,c).payload);const{payload:e}=l(void 0===t?c.lastEvt:t,c,!0),n=()=>{c.handler(e)};void 0!==c.styleCleanup?c.styleCleanup(n):n()}c.event=void 0,c.initialEvent=void 0,c.lastEvt=void 0}}};if(e.__qtouchpan=c,!0===n.mouse){const t=!0===n.mouseCapture||!0===n.mousecapture?"Capture":"";(0,s.Z4)(c,"main",[[e,"mousedown","mouseStart",`passive${t}`]])}!0===r.Sn.has.touch&&(0,s.Z4)(c,"main",[[e,"touchstart","touchStart","passive"+(!0===n.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchpan;void 0!==n&&(t.oldValue!==t.value&&("function"!==typeof value&&n.end(),n.handler=t.value),n.direction=(0,o.U)(t.modifiers))},beforeUnmount(e){const t=e.__qtouchpan;void 0!==t&&(void 0!==t.event&&t.end(),(0,s.Fh)(t,"main"),(0,s.Fh)(t,"temp"),!0===r.Sn.is.firefox&&(0,s.M5)(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchpan)}})},5368:function(e,t,n){"use strict";n.d(t,{A:function(){return a},o:function(){return i}});var r=n(99140),i={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:e=>e?`Expand "${e}"`:"Expand",collapse:e=>e?`Collapse "${e}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>1===e?"1 record selected.":(0===e?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function o(){const e=!0===Array.isArray(navigator.languages)&&0!==navigator.languages.length?navigator.languages[0]:navigator.language;if("string"===typeof e)return e.split(/[-_]/).map(((e,t)=>0===t?e.toLowerCase():t>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase())).join("-")}const s=(0,r.Xj)({__qLang:{}},{getLocale:o,set(e=i,t){const n={...e,rtl:!0===e.rtl,getLocale:o};if(n.set=s.set,void 0===s.__langConfig||!0!==s.__langConfig.noHtmlAttrs){const e=document.documentElement;e.setAttribute("dir",!0===n.rtl?"rtl":"ltr"),e.setAttribute("lang",n.isoName)}Object.assign(s.__qLang,n)},install({$q:e,lang:t,ssrContext:n}){e.lang=s.__qLang,s.__langConfig=e.config.lang,!0===this.__installed?void 0!==t&&this.set(t):(this.props=new Proxy(this.__qLang,{get(){return Reflect.get(...arguments)},ownKeys(e){return Reflect.ownKeys(e).filter((e=>"set"!==e&&"getLocale"!==e))}}),this.set(t||i))}});var a=s},61030:function(e,t,n){"use strict";n.d(t,{Sn:function(){return f},ot:function(){return o}});n(84645);var r=n(46732),i=n(79862);const o=(0,r.KR)(!1);let s;function a(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[4]||n[2]||"0",platform:t[0]||""}}function l(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const u="ontouchstart"in window||window.navigator.maxTouchPoints>0;function c(e){const t=e.toLowerCase(),n=l(t),r=a(t,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.version,10)),r.platform&&(i[r.platform]=!0);const c=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];if(!0===c||-1!==t.indexOf("mobile")?i.mobile=!0:i.desktop=!0,i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),i.edga||i.edgios||i.edg?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox"),(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),(i.chrome||i.opr||i.safari||i.vivaldi||!0===i.mobile&&!0!==i.ios&&!0!==c)&&(i.webkit=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&(i.blackberry||i.bb?(r.browser="blackberry",i.blackberry=!0):i.playbook?(r.browser="playbook",i.playbook=!0):i.android?(r.browser="android",i.android=!0):i.kindle?(r.browser="kindle",i.kindle=!0):i.silk&&(r.browser="silk",i.silk=!0)),i.name=r.browser,i.platform=r.platform,-1!==t.indexOf("electron"))i.electron=!0;else if(-1!==document.location.href.indexOf("-extension://"))i.bex=!0;else{if(void 0!==window.Capacitor?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),!0===o.value&&(s={is:{...i}}),!0===u&&!0===i.mac&&(!0===i.desktop&&!0===i.safari||!0===i.nativeMobile&&!0!==i.android&&!0!==i.ios&&!0!==i.ipad)){delete i.mac,delete i.desktop;const e=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(i,{mobile:!0,ios:!0,platform:e,[e]:!0})}!0!==i.mobile&&window.navigator.userAgentData&&window.navigator.userAgentData.mobile&&(delete i.desktop,i.mobile=!0)}return i}const h=navigator.userAgent||navigator.vendor||window.opera,d={has:{touch:!1,webStorage:!1},within:{iframe:!1}},f={userAgent:h,is:c(h),has:{touch:u},within:{iframe:window.self!==window.top}},p={install(e){const{$q:t}=e;!0===o.value?(e.onSSRHydrated.push((()=>{Object.assign(t.platform,f),o.value=!1})),t.platform=(0,r.Kh)(this)):t.platform=this}};{let e;(0,i.$)(f.has,"webStorage",(()=>{if(void 0!==e)return e;try{if(window.localStorage)return e=!0,!0}catch(t){}return e=!1,!1})),Object.assign(p,f),!0===o.value&&(Object.assign(p,s,d),s=null)}t.Ay=p},37315:function(e,t,n){"use strict";n(84645);var r=n(61030),i=n(15055);const o=()=>!0;function s(e){return"string"===typeof e&&""!==e&&"/"!==e&&"#/"!==e}function a(e){return!0===e.startsWith("#")&&(e=e.substring(1)),!1===e.startsWith("/")&&(e="/"+e),!0===e.endsWith("/")&&(e=e.substring(0,e.length-1)),"#"+e}function l(e){if(!1===e.backButtonExit)return()=>!1;if("*"===e.backButtonExit)return o;const t=["#/"];return!0===Array.isArray(e.backButtonExit)&&t.push(...e.backButtonExit.filter(s).map(a)),()=>t.includes(window.location.hash)}t.A={__history:[],add:i.lQ,remove:i.lQ,install({$q:e}){if(!0===this.__installed)return;const{cordova:t,capacitor:n}=r.Sn.is;if(!0!==t&&!0!==n)return;const i=e.config[!0===t?"cordova":"capacitor"];if(void 0!==i&&!1===i.backButton)return;if(!0===n&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=e=>{void 0===e.condition&&(e.condition=o),this.__history.push(e)},this.remove=e=>{const t=this.__history.indexOf(e);t>=0&&this.__history.splice(t,1)};const s=l(Object.assign({backButtonExit:!0},i)),a=()=>{if(this.__history.length){const e=this.__history[this.__history.length-1];!0===e.condition()&&(this.__history.pop(),e.handler())}else!0===s()?navigator.app.exitApp():window.history.back()};!0===t?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",a,!1)})):window.Capacitor.Plugins.App.addListener("backButton",a)}}},98155:function(e,t,n){"use strict";function r(e,t=250,n){let r=null;function i(){const i=arguments,o=()=>{r=null,!0!==n&&e.apply(this,i)};null!==r?clearTimeout(r):!0===n&&e.apply(this,i),r=setTimeout(o,t)}return i.cancel=()=>{null!==r&&clearTimeout(r)},i}n.d(t,{A:function(){return r}})},12383:function(e,t,n){"use strict";n.d(t,{$J:function(){return s},AH:function(){return i},V6:function(){return o}});var r=n(46732);function i(e,t){const n=e.style;for(const r in t)n[r]=t[r]}function o(e){if(void 0===e||null===e)return;if("string"===typeof e)try{return document.querySelector(e)||void 0}catch(n){return}const t=(0,r.R1)(e);return t?t.$el||t:void 0}function s(e,t){if(void 0===e||null===e||!0===e.contains(t))return!0;for(let n=e.nextElementSibling;null!==n;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}},15055:function(e,t,n){"use strict";n.d(t,{F4:function(){return u},Fh:function(){return f},G1:function(){return s},Gu:function(){return c},M5:function(){return h},Z4:function(){return d},ds:function(){return l},en:function(){return a},lQ:function(){return i},mG:function(){return r},w7:function(){return o}});n(84645);const r={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(r,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch(p){}function i(){}function o(e){return 0===e.button}function s(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function a(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;while(n){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}}function l(e){e.stopPropagation()}function u(e){!1!==e.cancelable&&e.preventDefault()}function c(e){!1!==e.cancelable&&e.preventDefault(),e.stopPropagation()}function h(e,t){if(void 0===e||!0===t&&!0===e.__dragPrevented)return;const n=!0===t?e=>{e.__dragPrevented=!0,e.addEventListener("dragstart",u,r.notPassiveCapture)}:e=>{delete e.__dragPrevented,e.removeEventListener("dragstart",u,r.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function d(e,t,n){const i=`__q_${t}_evt`;e[i]=void 0!==e[i]?e[i].concat(n):n,n.forEach((t=>{t[0].addEventListener(t[1],e[t[2]],r[t[3]])}))}function f(e,t){const n=`__q_${t}_evt`;void 0!==e[n]&&(e[n].forEach((t=>{t[0].removeEventListener(t[1],e[t[2]],r[t[3]])})),e[n]=void 0)}},46631:function(e,t,n){"use strict";n.d(t,{Tq:function(){return i},ZH:function(){return r},eV:function(){return s},eo:function(){return o}});function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function o(e,t,n){if(n<=t)return t;const r=n-t+1;let i=t+(e-t)%r;return i<t&&(i=r+i),0===i?0:i}function s(e,t=2,n="0"){if(void 0===e||null===e)return e;const r=""+e;return r.length>=t?r:new Array(t-r.length+1).join(n)+r}},78445:function(e,t,n){"use strict";n.d(t,{$P:function(){return o},Et:function(){return s},Gv:function(){return i},Hv:function(){return r}});n(8420),n(34525),n(85013),n(46680),n(86306),n(57692),n(74613),n(61164),n(61907),n(30232),n(12282);function r(e,t){if(e===t)return!0;if(null!==e&&null!==t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;let n,i;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(i=n;0!==i--;)if(!0!==r(e[i],t[i]))return!1;return!0}if(e.constructor===Map){if(e.size!==t.size)return!1;let n=e.entries();i=n.next();while(!0!==i.done){if(!0!==t.has(i.value[0]))return!1;i=n.next()}n=e.entries(),i=n.next();while(!0!==i.done){if(!0!==r(i.value[1],t.get(i.value[0])))return!1;i=n.next()}return!0}if(e.constructor===Set){if(e.size!==t.size)return!1;const n=e.entries();i=n.next();while(!0!==i.done){if(!0!==t.has(i.value[0]))return!1;i=n.next()}return!0}if(null!=e.buffer&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(i=n;0!==i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e).filter((t=>void 0!==e[t]));if(n=o.length,n!==Object.keys(t).filter((e=>void 0!==t[e])).length)return!1;for(i=n;0!==i--;){const n=o[i];if(!0!==r(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function i(e){return null!==e&&"object"===typeof e&&!0!==Array.isArray(e)}function o(e){return"[object Date]"===Object.prototype.toString.call(e)}function s(e){return"number"===typeof e&&isFinite(e)}},96687:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});const r=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,i=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,o=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,s=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,a=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,l={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>r.test(e),hexaColor:e=>i.test(e),hexOrHexaColor:e=>o.test(e),rgbColor:e=>s.test(e),rgbaColor:e=>a.test(e),rgbOrRgbaColor:e=>s.test(e)||a.test(e),hexOrRgbColor:e=>r.test(e)||s.test(e),hexaOrRgbaColor:e=>i.test(e)||a.test(e),anyColor:e=>o.test(e)||s.test(e)||a.test(e)}},22322:function(e,t,n){"use strict";n.d(t,{e:function(){return c},r:function(){return u}});n(84645);var r=n(15055),i=n(7412);let o=null;const{notPassiveCapture:s}=r.mG,a=[];function l(e){null!==o&&(clearTimeout(o),o=null);const t=e.target;if(void 0===t||8===t.nodeType||!0===t.classList.contains("no-pointer-events"))return;let n=i.jx.length-1;while(n>=0){const e=i.jx[n].$;if("QTooltip"!==e.type.name){if("QDialog"!==e.type.name)break;if(!0!==e.props.seamless)return;n--}else n--}for(let r=a.length-1;r>=0;r--){const n=a[r];if(null!==n.anchorEl.value&&!1!==n.anchorEl.value.contains(t)||t!==document.body&&(null===n.innerRef.value||!1!==n.innerRef.value.contains(t)))return;e.qClickOutside=!0,n.onClickOutside(e)}}function u(e){a.push(e),1===a.length&&(document.addEventListener("mousedown",l,s),document.addEventListener("touchstart",l,s))}function c(e){const t=a.findIndex((t=>t===e));-1!==t&&(a.splice(t,1),0===a.length&&(null!==o&&(clearTimeout(o),o=null),document.removeEventListener("mousedown",l,s),document.removeEventListener("touchstart",l,s)))}},53116:function(e,t,n){"use strict";n.d(t,{Or:function(){return i},cr:function(){return r},xX:function(){return o}});const r={};let i=!1;function o(){i=!0}},99140:function(e,t,n){"use strict";n.d(t,{Xj:function(){return l},Yg:function(){return a},a0:function(){return s}});var r=n(46732),i=n(74220),o=n(79862);function s(e){return(0,r.IG)((0,i.pM)(e))}function a(e){return(0,r.IG)(e)}const l=(e,t)=>{const n=(0,r.Kh)(e);for(const r in e)(0,o.$)(t,r,(()=>n[r]),(e=>{n[r]=e}));return t}},87520:function(e,t,n){"use strict";n.d(t,{FD:function(){return s},Gy:function(){return l},gv:function(){return a},vQ:function(){return u}});n(84645);let r=[],i=[];function o(e){i=i.filter((t=>t!==e))}function s(e){o(e),i.push(e)}function a(e){o(e),0===i.length&&0!==r.length&&(r[r.length-1](),r=[])}function l(e){0===i.length?e():r.push(e)}function u(e){r=r.filter((t=>t!==e))}},62616:function(e,t,n){"use strict";n.d(t,{g:function(){return s},v:function(){return a}});n(84645);var r=n(61030);const i=[];function o(e){i[i.length-1](e)}function s(e){!0===r.Sn.is.desktop&&(i.push(e),1===i.length&&document.body.addEventListener("focusin",o))}function a(e){const t=i.indexOf(e);-1!==t&&(i.splice(t,1),0===i.length&&document.body.removeEventListener("focusin",o))}},79862:function(e,t,n){"use strict";function r(e,t,n,r){return Object.defineProperty(e,t,{get:n,set:r,enumerable:!0}),e}function i(e,t){for(const n in t)r(e,n,t[n]);return e}n.d(t,{$:function(){return r},M:function(){return i}})},19382:function(e,t,n){"use strict";n.d(t,{I:function(){return h},V:function(){return d}});n(84645);var r=n(61030),i=n(37031);const o=[];let s;function a(e){s=27===e.keyCode}function l(){!0===s&&(s=!1)}function u(e){!0===s&&(s=!1,!0===(0,i.Dv)(e,27)&&o[o.length-1](e))}function c(e){window[e]("keydown",a),window[e]("blur",l),window[e]("keyup",u),s=!1}function h(e){!0===r.Sn.is.desktop&&(o.push(e),1===o.length&&c("addEventListener"))}function d(e){const t=o.indexOf(e);-1!==t&&(o.splice(t,1),0===o.length&&c("removeEventListener"))}},37031:function(e,t,n){"use strict";n.d(t,{Dv:function(){return s},JL:function(){return o},V7:function(){return i}});let r=!1;function i(e){r=!0===e.isComposing}function o(e){return!0===r||e!==Object(e)||!0===e.isComposing||!0===e.qKeyEvent}function s(e,t){return!0!==o(e)&&[].concat(t).includes(e.keyCode)}},7412:function(e,t,n){"use strict";n.d(t,{Rv:function(){return o},bc:function(){return s},jx:function(){return i},k0:function(){return a}});var r=n(13246);const i=[];function o(e){return i.find((t=>null!==t.contentEl&&t.contentEl.contains(e)))}function s(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,r.V_)(e)}else if(!0===e.__qPortal){const n=(0,r.V_)(e);return void 0!==n&&"QPopupProxy"===n.$options.name?(e.hide(t),n):e}e=(0,r.V_)(e)}while(void 0!==e&&null!==e)}function a(e,t,n){while(0!==n&&void 0!==e&&null!==e){if(!0===e.__qPortal){if(n--,"QMenu"===e.$options.name){e=s(e,t);continue}e.hide(t)}e=(0,r.V_)(e)}}},34714:function(e,t,n){"use strict";n.d(t,{Kk:function(){return m},aC:function(){return l},o3:function(){return a},rk:function(){return c}});var r=n(83903),i=n(61030);let o,s;function a(e){const t=e.split(" ");return 2===t.length&&(!0!==["top","center","bottom"].includes(t[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(t[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function l(e){return!e||2===e.length&&("number"===typeof e[0]&&"number"===typeof e[1])}const u={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function c(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:u[`${n[1]}#${!0===t?"rtl":"ltr"}`]}}function h(e,t){let{top:n,left:r,right:i,bottom:o,width:s,height:a}=e.getBoundingClientRect();return void 0!==t&&(n-=t[1],r-=t[0],o+=t[1],i+=t[0],s+=t[0],a+=t[1]),{top:n,bottom:o,height:a,left:r,right:i,width:s,middle:r+(i-r)/2,center:n+(o-n)/2}}function d(e,t,n){let{top:r,left:i}=e.getBoundingClientRect();return r+=t.top,i+=t.left,void 0!==n&&(r+=n[1],i+=n[0]),{top:r,bottom:r+1,height:1,left:i,right:i+1,width:1,middle:i,center:r}}function f(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function p(e,t,n,r){return{top:e[n.vertical]-t[r.vertical],left:e[n.horizontal]-t[r.horizontal]}}function m(e,t=0){if(null===e.targetEl||null===e.anchorEl||t>5)return;if(0===e.targetEl.offsetHeight||0===e.targetEl.offsetWidth)return void setTimeout((()=>{m(e,t+1)}),10);const{targetEl:n,offset:r,anchorEl:a,anchorOrigin:l,selfOrigin:u,absoluteOffset:c,fit:v,cover:y,maxHeight:b,maxWidth:w}=e;if(!0===i.Sn.is.ios&&void 0!==window.visualViewport){const e=document.body.style,{offsetLeft:t,offsetTop:n}=window.visualViewport;t!==o&&(e.setProperty("--q-pe-left",t+"px"),o=t),n!==s&&(e.setProperty("--q-pe-top",n+"px"),s=n)}const{scrollLeft:_,scrollTop:E}=n,S=void 0===c?h(a,!0===y?[0,0]:r):d(a,c,r);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:w||"100vw",maxHeight:b||"100vh",visibility:"visible"});const{offsetWidth:T,offsetHeight:M}=n,{elWidth:C,elHeight:R}=!0===v||!0===y?{elWidth:Math.max(S.width,T),elHeight:!0===y?Math.max(S.height,M):M}:{elWidth:T,elHeight:M};let x={maxWidth:w,maxHeight:b};!0!==v&&!0!==y||(x.minWidth=S.width+"px",!0===y&&(x.minHeight=S.height+"px")),Object.assign(n.style,x);const A=f(C,R);let N=p(S,A,l,u);if(void 0===c||void 0===r)g(N,S,A,l,u);else{const{top:e,left:t}=N;g(N,S,A,l,u);let n=!1;if(N.top!==e){n=!0;const e=2*r[1];S.center=S.top-=e,S.bottom-=e+2}if(N.left!==t){n=!0;const e=2*r[0];S.middle=S.left-=e,S.right-=e+2}!0===n&&(N=p(S,A,l,u),g(N,S,A,l,u))}x={top:N.top+"px",left:N.left+"px"},void 0!==N.maxHeight&&(x.maxHeight=N.maxHeight+"px",S.height>N.maxHeight&&(x.minHeight=x.maxHeight)),void 0!==N.maxWidth&&(x.maxWidth=N.maxWidth+"px",S.width>N.maxWidth&&(x.minWidth=x.maxWidth)),Object.assign(n.style,x),n.scrollTop!==E&&(n.scrollTop=E),n.scrollLeft!==_&&(n.scrollLeft=_)}function g(e,t,n,i,o){const s=n.bottom,a=n.right,l=(0,r.XJ)(),u=window.innerHeight-l,c=document.body.clientWidth;if(e.top<0||e.top+s>u)if("center"===o.vertical)e.top=t[i.vertical]>u/2?Math.max(0,u-s):0,e.maxHeight=Math.min(s,u);else if(t[i.vertical]>u/2){const n=Math.min(u,"center"===i.vertical?t.center:i.vertical===o.vertical?t.bottom:t.top);e.maxHeight=Math.min(s,n),e.top=Math.max(0,n-s)}else e.top=Math.max(0,"center"===i.vertical?t.center:i.vertical===o.vertical?t.top:t.bottom),e.maxHeight=Math.min(s,u-e.top);if(e.left<0||e.left+a>c)if(e.maxWidth=Math.min(a,c),"middle"===o.horizontal)e.left=t[i.horizontal]>c/2?Math.max(0,c-a):0;else if(t[i.horizontal]>c/2){const n=Math.min(c,"middle"===i.horizontal?t.middle:i.horizontal===o.horizontal?t.right:t.left);e.maxWidth=Math.min(a,n),e.left=Math.max(0,n-e.maxWidth)}else e.left=Math.max(0,"middle"===i.horizontal?t.middle:i.horizontal===o.horizontal?t.left:t.right),e.maxWidth=Math.min(a,c-e.left)}["left","middle","right"].forEach((e=>{u[`${e}#ltr`]=e,u[`${e}#rtl`]=e}))},41952:function(e,t,n){"use strict";n.d(t,{Hp:function(){return s},Ij:function(){return o},Kf:function(){return l},bG:function(){return a},zm:function(){return i}});var r=n(74220);function i(e,t){return void 0!==e&&e()||t}function o(e,t){if(void 0!==e){const t=e();if(void 0!==t&&null!==t)return t.slice()}return t}function s(e,t){return void 0!==e?t.concat(e()):t}function a(e,t){return void 0===e?t:void 0!==t?t.concat(e()):e()}function l(e,t,n,i,o,s){t.key=i+o;const a=(0,r.h)(e,t,n);return!0===o?(0,r.bo)(a,s()):a}},3082:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});let r=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,r=e.scrollLeft>=0,e.remove()}},35382:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(61030);function i(){if(void 0!==window.getSelection){const e=window.getSelection();void 0!==e.empty?e.empty():void 0!==e.removeAllRanges&&(e.removeAllRanges(),!0!==r.Ay.is.mobile&&e.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}},13430:function(e,t,n){"use strict";n.d(t,{BE:function(){return i},U_:function(){return a},Uv:function(){return s},XA:function(){return r},q3:function(){return o}});const r="_q_",i="_q_f_",o="_q_fo_",s="_q_tabs_";function a(){}},19950:function(e,t,n){"use strict";n.d(t,{U:function(){return o},W:function(){return a}});const r={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},i=Object.keys(r);function o(e){const t={};for(const n of i)!0===e[n]&&(t[n]=!0);return 0===Object.keys(t).length?r:(!0===t.horizontal?t.left=t.right=!0:!0===t.left&&!0===t.right&&(t.horizontal=!0),!0===t.vertical?t.up=t.down=!0:!0===t.up&&!0===t.down&&(t.vertical=!0),!0===t.horizontal&&!0===t.vertical&&(t.all=!0),t)}r.all=!0;const s=["INPUT","TEXTAREA"];function a(e,t){return void 0===t.event&&void 0!==e.target&&!0!==e.target.draggable&&"function"===typeof t.handler&&!1===s.includes(e.target.nodeName.toUpperCase())&&(void 0===e.qClonedBy||-1===e.qClonedBy.indexOf(t.uid))}},13246:function(e,t,n){"use strict";n.d(t,{$b:function(){return s},Hl:function(){return o},V_:function(){return r},rU:function(){return a}});n(86306),n(57692),n(74613),n(61164),n(61907),n(30232),n(12282);function r(e){if(Object(e.$parent)===e.$parent)return e.$parent;let{parent:t}=e.$;while(Object(t)===t){if(Object(t.proxy)===t.proxy)return t.proxy;t=t.parent}}function i(e,t){"symbol"===typeof t.type?!0===Array.isArray(t.children)&&t.children.forEach((t=>{i(e,t)})):e.add(t)}function o(e){const t=new Set;return e.forEach((e=>{i(t,e)})),Array.from(t)}function s(e){return void 0!==e.appContext.config.globalProperties.$router}function a(e){return!0===e.isUnmounted||!0===e.isDeactivated}},83903:function(e,t,n){"use strict";n.d(t,{D_:function(){return h},XJ:function(){return c},cP:function(){return i},fQ:function(){return a},hD:function(){return s},lS:function(){return l}});var r=n(12383);const i=[Element,String],o=[null,document,document.body,document.scrollingElement,document.documentElement];function s(e,t){let n=(0,r.V6)(t);if(void 0===n){if(void 0===e||null===e)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return o.includes(n)?window:n}function a(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function l(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let u;function c(){if(void 0!==u)return u;const e=document.createElement("p"),t=document.createElement("div");(0,r.AH)(e,{width:"100%",height:"200px"}),(0,r.AH)(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),u=n-i,u}function h(e,t=!0){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&(t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"])))}},9381:function(e,t,n){"use strict";function r(e,t=250){let n,r=!1;return function(){return!1===r&&(r=!0,setTimeout((()=>{r=!1}),t),n=e.apply(this,arguments)),n}}n.d(t,{A:function(){return r}})},86059:function(e,t,n){"use strict";n.d(t,{A:function(){return l}});n(84645),n(8420),n(34525),n(85013),n(49486),n(24409),n(9158);let r,i=0;const o=new Array(256);for(let u=0;u<256;u++)o[u]=(u+256).toString(16).substring(1);const s=(()=>{const e="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return e=>{const t=[];for(let n=e;n>0;n--)t.push(Math.floor(256*Math.random()));return t}})(),a=4096;function l(){(void 0===r||i+16>a)&&(i=0,r=s(a));const e=Array.prototype.slice.call(r,i,i+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,o[e[0]]+o[e[1]]+o[e[2]]+o[e[3]]+"-"+o[e[4]]+o[e[5]]+"-"+o[e[6]]+o[e[7]]+"-"+o[e[8]]+o[e[9]]+"-"+o[e[10]]+o[e[11]]+o[e[12]]+o[e[13]]+o[e[14]]+o[e[15]]}},39599:function(e,t,n){"use strict";n.d(t,{A:function(){return k}});var r=n(61030),i=(n(84645),n(99140)),o=n(15055),s=n(98155);const a=["sm","md","lg","xl"],{passive:l}=o.mG;var u=(0,i.Xj)({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:o.lQ,setDebounce:o.lQ,install({$q:e,onSSRHydrated:t}){if(e.screen=this,!0===this.__installed)return void(void 0!==e.config.screen&&(!1===e.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:n}=window,i=n||window,o=document.scrollingElement||document.documentElement,u=void 0===n||!0===r.Sn.is.mobile?()=>[Math.max(window.innerWidth,o.clientWidth),Math.max(window.innerHeight,o.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-o.clientWidth,n.height*n.scale+window.innerHeight-o.clientHeight],c=void 0!==e.config.screen&&!0===e.config.screen.bodyClasses;this.__update=e=>{const[t,n]=u();if(n!==this.height&&(this.height=n),t!==this.width)this.width=t;else if(!0!==e)return;let r=this.sizes;this.gt.xs=t>=r.sm,this.gt.sm=t>=r.md,this.gt.md=t>=r.lg,this.gt.lg=t>=r.xl,this.lt.sm=t<r.sm,this.lt.md=t<r.md,this.lt.lg=t<r.lg,this.lt.xl=t<r.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,r=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",r!==this.name&&(!0===c&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${r}`)),this.name=r)};let h,d={},f=16;this.setSizes=e=>{a.forEach((t=>{void 0!==e[t]&&(d[t]=e[t])}))},this.setDebounce=e=>{f=e};const p=()=>{const e=getComputedStyle(document.body);e.getPropertyValue("--q-size-sm")&&a.forEach((t=>{this.sizes[t]=parseInt(e.getPropertyValue(`--q-size-${t}`),10)})),this.setSizes=e=>{a.forEach((t=>{e[t]&&(this.sizes[t]=e[t])})),this.__update(!0)},this.setDebounce=e=>{void 0!==h&&i.removeEventListener("resize",h,l),h=e>0?(0,s.A)(this.__update,e):this.__update,i.addEventListener("resize",h,l)},this.setDebounce(f),0!==Object.keys(d).length?(this.setSizes(d),d=void 0):this.__update(),!0===c&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===r.ot.value?t.push(p):p()}});const c=(0,i.Xj)({isActive:!1,mode:!1},{__media:void 0,set(e){c.mode=e,"auto"===e?(void 0===c.__media&&(c.__media=window.matchMedia("(prefers-color-scheme: dark)"),c.__updateMedia=()=>{c.set("auto")},c.__media.addListener(c.__updateMedia)),e=c.__media.matches):void 0!==c.__media&&(c.__media.removeListener(c.__updateMedia),c.__media=void 0),c.isActive=!0===e,document.body.classList.remove("body--"+(!0===e?"light":"dark")),document.body.classList.add("body--"+(!0===e?"dark":"light"))},toggle(){c.set(!1===c.isActive)},install({$q:e,ssrContext:t}){const{dark:n}=e.config;e.dark=this,!0!==this.__installed&&this.set(void 0!==n&&n)}});var h=c;n(86306),n(57692),n(74613),n(61164),n(61907),n(30232),n(12282);function d(e,t,n=document.body){if("string"!==typeof e)throw new TypeError("Expected a string as propName");if("string"!==typeof t)throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}var f=n(37031);function p(e){return!0===e.ios?"ios":!0===e.android?"android":void 0}function m({is:e,has:t,within:n},r){const i=[!0===e.desktop?"desktop":"mobile",(!1===t.touch?"no-":"")+"touch"];if(!0===e.mobile){const t=p(e);void 0!==t&&i.push("platform-"+t)}if(!0===e.nativeMobile){const t=e.nativeMobileWrapper;i.push(t),i.push("native-mobile"),!0!==e.ios||void 0!==r[t]&&!1===r[t].iosStatusBarPadding||i.push("q-ios-padding")}else!0===e.electron?i.push("electron"):!0===e.bex&&i.push("bex");return!0===n.iframe&&i.push("within-iframe"),i}function g(){const{is:e}=r.Sn,t=document.body.className,n=new Set(t.replace(/ {2}/g," ").split(" "));if(!0!==e.nativeMobile&&!0!==e.electron&&!0!==e.bex)if(!0===e.desktop)n.delete("mobile"),n.delete("platform-ios"),n.delete("platform-android"),n.add("desktop");else if(!0===e.mobile){n.delete("desktop"),n.add("mobile"),n.delete("platform-ios"),n.delete("platform-android");const t=p(e);void 0!==t&&n.add(`platform-${t}`)}!0===r.Sn.has.touch&&(n.delete("no-touch"),n.add("touch")),!0===r.Sn.within.iframe&&n.add("within-iframe");const i=Array.from(n).join(" ");t!==i&&(document.body.className=i)}function v(e){for(const t in e)d(t,e[t])}var y={install(e){if(!0!==this.__installed){if(!0===r.ot.value)g();else{const{$q:t}=e;void 0!==t.config.brand&&v(t.config.brand);const n=m(r.Sn,t.config);document.body.classList.add.apply(document.body.classList,n)}!0===r.Sn.is.ios&&document.body.addEventListener("touchstart",o.lQ),window.addEventListener("keydown",f.V7,!0)}}},b=n(37315),w=n(5368),_=n(79862),E={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const S=(0,i.Xj)({iconMapFn:null,__qIconSet:{}},{set(e,t){const n={...e};n.set=S.set,Object.assign(S.__qIconSet,n)},install({$q:e,iconSet:t,ssrContext:n}){void 0!==e.config.iconMapFn&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__qIconSet,(0,_.$)(e,"iconMapFn",(()=>this.iconMapFn),(e=>{this.iconMapFn=e})),!0===this.__installed?void 0!==t&&this.set(t):(this.props=new Proxy(this.__qIconSet,{get(){return Reflect.get(...arguments)},ownKeys(e){return Reflect.ownKeys(e).filter((e=>"set"!==e))}}),this.set(t||E))}});var T=S,M=n(13430),C=n(53116),R=n(78445);const x=[r.Ay,y,h,u,b.A,w.A,T];function A(e,t){t.forEach((t=>{t.install(e),t.__installed=!0}))}function N(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(M.XA,n.$q),A(n,x),void 0!==t.components&&Object.values(t.components).forEach((t=>{!0===(0,R.Gv)(t)&&void 0!==t.name&&e.component(t.name,t)})),void 0!==t.directives&&Object.values(t.directives).forEach((t=>{!0===(0,R.Gv)(t)&&void 0!==t.name&&e.directive(t.name,t)})),void 0!==t.plugins&&A(n,Object.values(t.plugins).filter((e=>"function"===typeof e.install&&!1===x.includes(e)))),!0===r.ot.value&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach((e=>{e()})),n.$q.onSSRHydrated=()=>{}})}var L=function(e,t={}){const n={version:"2.16.3"};!1===C.Or?(void 0!==t.config&&Object.assign(C.cr,t.config),n.config={...C.cr},(0,C.xX)()):n.config=t.config||{},N(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})},k={name:"Quasar",version:"2.16.3",install:L,lang:w.A,iconSet:T}},12217:function(e,t,n){"use strict";n.d(t,{$L:function(){return yo},Bs:function(){return En},E8:function(){return $n},FN:function(){return Fn},Hg:function(){return tt},Qw:function(){return u},ju:function(){return X},t1:function(){return fn}});var r=n(93947);
/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class i{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],o=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=r.r.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o,s=i.length-1,a=!1;for(;s>=0;--s)o=i[s],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(e),a=!0):(i[s]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var o=new i;const s="transparent",a={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=(0,r.c)(e||s),o=i.valid&&(0,r.c)(t||s);return o&&o.valid?o.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class l{constructor(e,t,n,i){const o=t[n];i=(0,r.a)([e.to,i,o,e.from]);const s=(0,r.a)([e.from,o,i]);this._active=!0,this._fn=e.fn||a[e.type||typeof s],this._easing=r.e[e.easing]||r.e.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,s=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=(0,r.a)([e.to,t,i,e.from]),this._from=(0,r.a)([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,s=this._to;let a;if(this._active=i!==s&&(o||t<n),!this._active)return this._target[r]=s,void this._notify(!0);t<0?this._target[r]=i:(a=t/n%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,s,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class u{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!(0,r.i)(e))return;const t=Object.keys(r.d.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((i=>{const o=e[i];if(!(0,r.i)(o))return;const s={};for(const e of t)s[e]=o[e];((0,r.b)(o.properties)&&o.properties||[i]).forEach((e=>{e!==i&&n.has(e)||n.set(e,s)}))}))}_animateOptions(e,t){const n=t.options,r=h(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&c(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const u=o[a];if("$"===u.charAt(0))continue;if("options"===u){r.push(...this._animateOptions(e,t));continue}const c=t[u];let h=i[u];const d=n.get(u);if(h){if(d&&h.active()){h.update(d,c,s);continue}h.cancel()}d&&d.duration?(i[u]=h=new l(d,e,u,c),r.push(h)):e[u]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(o.add(this._chart,n),!0):void 0}}function c(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}function h(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}function d(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:r?o:i,end:r?i:o}}function f(e,t,n){if(!1===n)return!1;const r=d(e,n),i=d(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function p(e){let t,n,i,o;return(0,r.i)(e)?(t=e.top,n=e.right,i=e.bottom,o=e.left):t=n=i=o=e,{top:t,right:n,bottom:i,left:o,disabled:!1===e}}function m(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function g(e,t,n,i={}){const o=e.keys,s="single"===i.mode;let a,l,u,c;if(null===t)return;let h=!1;for(a=0,l=o.length;a<l;++a){if(u=+o[a],u===n){if(h=!0,i.all)continue;break}c=e.values[u],(0,r.g)(c)&&(s||0===t||(0,r.s)(t)===(0,r.s)(c))&&(t+=c)}return h||i.all?t:0}function v(e,t){const{iScale:n,vScale:r}=t,i="x"===n.axis?"x":"y",o="x"===r.axis?"x":"y",s=Object.keys(e),a=new Array(s.length);let l,u,c;for(l=0,u=s.length;l<u;++l)c=s[l],a[l]={[i]:c,[o]:e[c]};return a}function y(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function b(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function w(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function _(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function E(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function S(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=r,l=o.axis,u=s.axis,c=b(o,s,r),h=t.length;let d;for(let f=0;f<h;++f){const e=t[f],{[l]:n,[u]:o}=e,h=e._stacks||(e._stacks={});d=h[u]=_(i,c,n),d[a]=o,d._top=E(d,s,!0,r.type),d._bottom=E(d,s,!1,r.type);const p=d._visualValues||(d._visualValues={});p[a]=o}}function T(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function M(e,t){return(0,r.j)(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function C(e,t,n){return(0,r.j)(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function R(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const x=e=>"reset"===e||"none"===e,A=(e,t)=>t?e:Object.assign({},e),N=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:m(n,!0),values:null};class L{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=y(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&R(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,o=t.xAxisID=(0,r.v)(n.xAxisID,T(e,"x")),s=t.yAxisID=(0,r.v)(n.yAxisID,T(e,"y")),a=t.rAxisID=(0,r.v)(n.rAxisID,T(e,"r")),l=t.indexAxis,u=t.iAxisID=i(l,o,s,a),c=t.vAxisID=i(l,s,o,a);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(s),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&(0,r.u)(this._data,this),e._stacked&&R(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if((0,r.i)(t)){const e=this._cachedMeta;this._data=v(t,e)}else if(n!==t){if(n){(0,r.u)(n,this);const e=this._cachedMeta;R(e),e._parsed=[]}t&&Object.isExtensible(t)&&(0,r.l)(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=y(t.vScale,t),t.stack!==n.stack&&(r=!0,R(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&(S(this,t._parsed),t._stacked=y(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:s}=n,a=o.axis;let l,u,c,h=0===e&&t===i.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=(0,r.b)(i[e])?this.parseArrayData(n,i,e,t):(0,r.i)(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const o=()=>null===u[a]||d&&u[a]<d[a];for(l=0;l<t;++l)n._parsed[l+e]=u=c[l],h&&(o()&&(h=!1),d=u);n._sorted=h}s&&S(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:o}=e,s=i.axis,a=o.axis,l=i.getLabels(),u=i===o,c=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,c[h]={[s]:u||i.parse(l[f],f),[a]:o.parse(t[f],f)};return c}parseArrayData(e,t,n,r){const{xScale:i,yScale:o}=e,s=new Array(r);let a,l,u,c;for(a=0,l=r;a<l;++a)u=a+n,c=t[u],s[a]={x:i.parse(c[0],u),y:o.parse(c[1],u)};return s}parseObjectData(e,t,n,i){const{xScale:o,yScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,h,d,f;for(c=0,h=i;c<h;++c)d=c+n,f=t[d],u[c]={x:o.parse((0,r.f)(f,a),d),y:s.parse((0,r.f)(f,l),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,o=t[e.axis],s={keys:m(r,!0),values:t._stacks[e.axis]._visualValues};return g(s,o,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let o=null===i?NaN:i;const s=r&&n._stacks[t.axis];r&&s&&(r.values=s,o=g(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&e===n.iScale,s=i.length,a=this._getOtherScale(e),l=N(t,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:h}=w(a);let d,f;function p(){f=i[d];const t=f[a.axis];return!(0,r.g)(f[e.axis])||c>t||h<t}for(d=0;d<s;++d)if(!p()&&(this.updateRangeFromParsed(u,e,f,l),o))break;if(o)for(d=s-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,e,f,l);break}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,o,s;for(i=0,o=t.length;i<o;++i)s=t[i][e.axis],(0,r.g)(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=p((0,r.v)(this.options.clip,f(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||r.length-s,l=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,s,a),u=s;u<s+a;++u){const t=r[u];t.hidden||(t.active&&l?o.push(t):t.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=C(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=M(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i="active"===t,o=this._cachedDataOpts,s=e+"-"+t,a=o[s],l=this.enableOptionSharing&&(0,r.h)(n);if(a)return A(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(r.d.elements[e]),p=()=>this.getContext(n,i,t),m=u.resolveNamedOptions(d,f,p,h);return m.$shared&&(m.$shared=l,o[s]=Object.freeze(A(m,l))),m}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,s=i[o];if(s)return s;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),o=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(o,this.getContext(e,n,t))}const l=new u(r,a&&a.animations);return a&&a._cacheable&&(i[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||x(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:o}}updateElement(e,t,n,r){x(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!x(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[s,a,l]of this._syncList)this[s](a,l);this._syncList=[];const r=n.length,i=t.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t,n=!0){const r=this._cachedMeta,i=r.data,o=e+t;let s;const a=e=>{for(e.length+=t,s=e.length-1;s>=o;s--)e[s]=e[s-t]};for(a(i),s=e;s<o;++s)i[s]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&R(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function k(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=(0,r._)(i.sort(((e,t)=>e-t)))}return e._cache.$bar}function O(e){const t=e.iScale,n=k(t,e.type);let i,o,s,a,l=t._length;const u=()=>{32767!==s&&-32768!==s&&((0,r.h)(a)&&(l=Math.min(l,Math.abs(s-a)||l)),a=s)};for(i=0,o=n.length;i<o;++i)s=t.getPixelForValue(n[i]),u();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)s=t.getPixelForTick(i),u();return l}function I(e,t,n,i){const o=n.barThickness;let s,a;return(0,r.k)(o)?(s=t.min*n.categoryPercentage,a=n.barPercentage):(s=o*i,a=1),{chunk:s/i,ratio:a,start:t.pixels[e]-s/2}}function P(e,t,n,r){const i=t.pixels,o=i[e];let s=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const u=o-(o-Math.min(s,a))/2*l,c=Math.abs(a-s)/2*l;return{chunk:c/r,ratio:n.barPercentage,start:u}}function D(e,t,n,r){const i=n.parse(e[0],r),o=n.parse(e[1],r),s=Math.min(i,o),a=Math.max(i,o);let l=s,u=a;Math.abs(s)>Math.abs(a)&&(l=a,u=s),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:i,end:o,min:s,max:a}}function F(e,t,n,i){return(0,r.b)(e)?D(e,t,n,i):t[n.axis]=n.parse(e,i),t}function H(e,t,n,r){const i=e.iScale,o=e.vScale,s=i.getLabels(),a=i===o,l=[];let u,c,h,d;for(u=n,c=n+r;u<c;++u)d=t[u],h={},h[i.axis]=a||i.parse(s[u],u),l.push(F(d,h,o,u));return l}function U(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function B(e,t,n){return 0!==e?(0,r.s)(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function j(e){let t,n,r,i,o;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:t,top:i,bottom:o}}function Y(e,t,n,r){let i=t.borderSkipped;const o={};if(!i)return void(e.borderSkipped=o);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:u,bottom:c}=j(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=u:(n._bottom||0)===r?i=c:(o[V(c,s,a,l)]=!0,i=u)),o[V(i,s,a,l)]=!0,e.borderSkipped=o}function V(e,t,n,r){return r?(e=W(e,t,n),e=z(e,n,t)):e=z(e,t,n),e}function W(e,t,n){return e===t?n:e===n?t:e}function z(e,t,n){return"start"===e?t:"end"===e?n:e}function G(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}class $ extends L{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return H(e,t,n,r)}parseArrayData(e,t,n,r){return H(e,t,n,r)}parseObjectData(e,t,n,i){const{iScale:o,vScale:s}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u="x"===o.axis?a:l,c="x"===s.axis?a:l,h=[];let d,f,p,m;for(d=n,f=n+i;d<f;++d)m=t[d],p={},p[o.axis]=o.parse((0,r.f)(m,u),d),h.push(F((0,r.f)(m,c),p,s,d));return h}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),o=i._custom,s=U(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const o="reset"===i,{index:s,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),c=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,i);for(let f=t;f<t+n;f++){const t=this.getParsed(f),n=o||(0,r.k)(t[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),p=this._calculateBarIndexPixels(f,c),m=(t._stacks||{})[a.axis],g={horizontal:u,base:n.base,enableBorderRadius:!m||U(t._custom)||s===m._top||s===m._bottom,x:u?n.head:p.center,y:u?p.center:n.head,height:u?p.size:Math.abs(n.size),width:u?Math.abs(n.size):p.size};d&&(g.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));const v=g.options||e[f].options;Y(g,v,m,s),G(g,v,c.ratio),this.updateElement(e[f],f,g,i)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),o=n.options.stacked,s=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[n.axis],u=e=>{const t=e._parsed.find((e=>e[n.axis]===l)),i=t&&t[e.vScale.axis];if((0,r.k)(i)||isNaN(i))return!0};for(const r of i)if((void 0===t||!u(r))&&((!1===o||-1===s.indexOf(r.stack)||void 0===o&&void 0===r.stack)&&s.push(r.stack),r.index===e))break;return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,o;for(i=0,o=t.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const s=e.barThickness,a=s||O(t);return{min:a,pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:i},options:{base:o,minBarLength:s}}=this,a=o||0,l=this.getParsed(e),u=l._custom,c=U(u);let h,d,f=l[t.axis],p=0,m=n?this.applyStack(t,l,n):f;m!==f&&(p=m-f,m=f),c&&(f=u.barStart,m=u.barEnd-u.barStart,0!==f&&(0,r.s)(f)!==(0,r.s)(u.barEnd)&&(p=0),p+=f);const g=(0,r.k)(o)||c?p:o;let v=t.getPixelForValue(g);if(h=this.chart.getDataVisibility(e)?t.getPixelForValue(p+m):v,d=h-v,Math.abs(d)<s){d=B(d,t,a)*s,f===a&&(v-=d/2);const e=t.getPixelForDecimal(0),r=t.getPixelForDecimal(1),o=Math.min(e,r),u=Math.max(e,r);v=Math.max(Math.min(v,u),o),h=v+d,n&&!c&&(l._stacks[t.axis]._visualValues[i]=t.getValueForPixel(h)-t.getValueForPixel(v))}if(v===t.getPixelForValue(a)){const e=(0,r.s)(d)*t.getLineWidthForValue(a)/2;v+=e,d-=e}return{size:d,base:v,head:h,center:h+d/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,o=i.skipNull,s=(0,r.v)(i.maxBarThickness,1/0);let a,l;if(t.grouped){const n=o?this._getStackCount(e):t.stackCount,r="flex"===i.barThickness?P(e,t,i,n):I(e,t,i,n),u=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=r.start+r.chunk*u+r.chunk/2,l=Math.min(s,r.chunk*r.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(s,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}class q extends L{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(e,t,n,i){const o=super.parseArrayData(e,t,n,i);for(let s=0;s<o.length;s++){const e=t[n+s];o[s]._custom=(0,r.v)(e[2],this.resolveDataElementOptions(s+n).radius)}return o}parseObjectData(e,t,n,i){const o=super.parseObjectData(e,t,n,i);for(let s=0;s<o.length;s++){const e=t[n+s];o[s]._custom=(0,r.v)(e&&e.r&&+e.r,this.resolveDataElementOptions(s+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),s=r.getLabelForValue(o.x),a=i.getLabelForValue(o.y),l=o._custom;return{label:n[e]||"",value:"("+s+", "+a+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:o,vScale:s}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(t,r),u=o.axis,c=s.axis;for(let h=t;h<t+n;h++){const t=e[h],n=!i&&this.getParsed(h),d={},f=d[u]=i?o.getPixelForDecimal(.5):o.getPixelForValue(n[u]),p=d[c]=i?s.getBasePixel():s.getPixelForValue(n[c]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,t.active?"active":r),i&&(d.options.radius=0)),this.updateElement(t,h,d,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return"active"!==t&&(i.radius=0),i.radius+=(0,r.v)(n&&n._custom,o),i}}function K(e,t,n){let i=1,o=1,s=0,a=0;if(t<r.T){const l=e,u=l+t,c=Math.cos(l),h=Math.sin(l),d=Math.cos(u),f=Math.sin(u),p=(e,t,i)=>(0,r.p)(e,l,u,!0)?1:Math.max(t,t*n,i,i*n),m=(e,t,i)=>(0,r.p)(e,l,u,!0)?-1:Math.min(t,t*n,i,i*n),g=p(0,c,d),v=p(r.H,h,f),y=m(r.P,c,d),b=m(r.P+r.H,h,f);i=(g-y)/2,o=(v-b)/2,s=-(g+y)/2,a=-(v+b)/2}return{ratioX:i,ratioY:o,offsetX:s,offsetY:a}}class X extends L{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0),s=o.controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let o,s,a=e=>+n[e];if((0,r.i)(n[e])){const{key:e="value"}=this._parsing;a=t=>+(0,r.f)(n[t],e)}for(o=e,s=e+t;o<s;++o)i._parsed[o]=a(o)}}_getRotation(){return(0,r.t)(this.options.rotation-90)}_getCircumference(){return(0,r.t)(this.options.circumference)}_getRotationExtents(){let e=r.T,t=-r.T;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,o=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-s)/2,0),l=Math.min((0,r.m)(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:c,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:m}=K(h,c,l),g=(n.width-s)/d,v=(n.height-s)/f,y=Math.max(Math.min(g,v)/2,0),b=(0,r.n)(this.options.radius,y),w=Math.max(b*l,0),_=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*b,this.offsetY=m*b,i.total=this.calculateTotal(),this.outerRadius=b-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*u,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/r.T)}updateElements(e,t,n,r){const i="reset"===r,o=this.chart,s=o.chartArea,a=o.options,l=a.animation,u=(s.left+s.right)/2,c=(s.top+s.bottom)/2,h=i&&l.animateScale,d=h?0:this.innerRadius,f=h?0:this.outerRadius,{sharedOptions:p,includeOptions:m}=this._getSharedOptions(t,r);let g,v=this._getRotation();for(g=0;g<t;++g)v+=this._circumference(g,i);for(g=t;g<t+n;++g){const t=this._circumference(g,i),n=e[g],o={x:u+this.offsetX,y:c+this.offsetY,startAngle:v,endAngle:v+t,circumference:t,outerRadius:f,innerRadius:d};m&&(o.options=p||this.resolveDataElementOptions(g,n.active?"active":r)),v+=t,this.updateElement(n,g,o,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?r.T*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=(0,r.o)(t._parsed[e],n.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,o,s,a;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,s=o.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)a=s.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max((0,r.v)(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class J extends L{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=t,s=this.chart._animationsDisabled;let{start:a,count:l}=(0,r.q)(t,i,s);this._drawStart=a,this._drawCount=l,(0,r.w)(t)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:u},e),this.updateElements(i,a,l,e)}updateElements(e,t,n,i){const o="reset"===i,{iScale:s,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:h}=this._getSharedOptions(t,i),d=s.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,g=(0,r.x)(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===i,y=t+n,b=e.length;let w=t>0&&this.getParsed(t-1);for(let _=0;_<b;++_){const n=e[_],p=v?n:{};if(_<t||_>=y){p.skip=!0;continue}const b=this.getParsed(_),E=(0,r.k)(b[f]),S=p[d]=s.getPixelForValue(b[d],_),T=p[f]=o||E?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,b,l):b[f],_);p.skip=isNaN(S)||isNaN(T)||E,p.stop=_>0&&Math.abs(b[d]-w[d])>g,m&&(p.parsed=b,p.raw=u.data[_]),h&&(p.options=c||this.resolveDataElementOptions(_,n.active?"active":i)),v||this.updateElement(n,_,p,i),w=b}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Q extends L{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map(((t,i)=>{const o=e.getDatasetMeta(0),s=o.controller.getStyle(i);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=(0,r.o)(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,t,n,i){return r.y.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),s=(i-o)/e.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(e,t,n,i){const o="reset"===i,s=this.chart,a=s.options,l=a.animation,u=this._cachedMeta.rScale,c=u.xCenter,h=u.yCenter,d=u.getIndexAngle(0)-.5*r.P;let f,p=d;const m=360/this.countVisibleElements();for(f=0;f<t;++f)p+=this._computeAngle(f,i,m);for(f=t;f<t+n;f++){const t=e[f];let n=p,r=p+this._computeAngle(f,i,m),a=s.getDataVisibility(f)?u.getDistanceFromCenterForValue(this.getParsed(f).r):0;p=r,o&&(l.animateScale&&(a=0),l.animateRotate&&(n=r=d));const g={x:c,y:h,innerRadius:0,outerRadius:a,startAngle:n,endAngle:r,options:this.resolveDataElementOptions(f,t.active?"active":i)};this.updateElement(t,f,g,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?(0,r.t)(this.resolveDataElementOptions(e,t).angle||n):0}}class Z extends X{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class ee extends L{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return r.y.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const o={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,o="reset"===r;for(let s=t;s<t+n;s++){const t=e[s],n=this.resolveDataElementOptions(s,t.active?"active":r),a=i.getPointPositionForValue(s,this.getParsed(s).r),l=o?i.xCenter:a.x,u=o?i.yCenter:a.y,c={x:l,y:u,angle:a.angle,skip:isNaN(l)||isNaN(u),options:n};this.updateElement(t,s,c,r)}}}class te extends L{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=t,o=this.getParsed(e),s=r.getLabelForValue(o.x),a=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+s+", "+a+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:o,count:s}=(0,r.q)(t,n,i);if(this._drawStart=o,this._drawCount=s,(0,r.w)(t)&&(o=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:o}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=n;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:s},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,o,s,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,i){const o="reset"===i,{iScale:s,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),h=this.getSharedOptions(c),d=this.includeOptions(i,h),f=s.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,v=(0,r.x)(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||"none"===i;let b=t>0&&this.getParsed(t-1);for(let w=t;w<t+n;++w){const t=e[w],n=this.getParsed(w),c=y?t:{},m=(0,r.k)(n[p]),_=c[f]=s.getPixelForValue(n[f],w),E=c[p]=o||m?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,n,l):n[p],w);c.skip=isNaN(_)||isNaN(E)||m,c.stop=w>0&&Math.abs(n[f]-b[f])>v,g&&(c.parsed=n,c.raw=u.data[w]),d&&(c.options=h||this.resolveDataElementOptions(w,t.active?"active":i)),y||this.updateElement(t,w,c,i),b=n}this.updateSharedOptions(h,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,o)/2}}var ne=Object.freeze({__proto__:null,BarController:$,BubbleController:q,DoughnutController:X,LineController:J,PieController:Z,PolarAreaController:Q,RadarController:ee,ScatterController:te});function re(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ie{static override(e){Object.assign(ie.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return re()}parse(){return re()}format(){return re()}add(){return re()}diff(){return re()}startOf(){return re()}endOf(){return re()}}var oe={_date:ie};function se(e,t,n,i){const{controller:o,data:s,_sorted:a}=e,l=o._cachedMeta.iScale;if(l&&t===l.axis&&"r"!==t&&a&&s.length){const e=l._reversePixels?r.A:r.B;if(!i)return e(s,t,n);if(o._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(s,t,n-i),o=e(s,t,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function ae(e,t,n,r,i){const o=e.getSortedVisibleDatasetMetas(),s=n[t];for(let a=0,l=o.length;a<l;++a){const{index:e,data:n}=o[a],{lo:l,hi:u}=se(o[a],t,s,i);for(let t=l;t<=u;++t){const i=n[t];i.skip||r(i,e,t)}}}function le(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function ue(e,t,n,i,o){const s=[];if(!o&&!e.isPointInArea(t))return s;const a=function(n,a,l){(o||(0,r.C)(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&s.push({element:n,datasetIndex:a,index:l})};return ae(e,n,t,a,!0),s}function ce(e,t,n,i){let o=[];function s(e,n,s){const{startAngle:a,endAngle:l}=e.getProps(["startAngle","endAngle"],i),{angle:u}=(0,r.D)(e,{x:t.x,y:t.y});(0,r.p)(u,a,l)&&o.push({element:e,datasetIndex:n,index:s})}return ae(e,n,t,s),o}function he(e,t,n,r,i,o){let s=[];const a=le(n);let l=Number.POSITIVE_INFINITY;function u(n,u,c){const h=n.inRange(t.x,t.y,i);if(r&&!h)return;const d=n.getCenterPoint(i),f=!!o||e.isPointInArea(d);if(!f&&!h)return;const p=a(t,d);p<l?(s=[{element:n,datasetIndex:u,index:c}],l=p):p===l&&s.push({element:n,datasetIndex:u,index:c})}return ae(e,n,t,u),s}function de(e,t,n,r,i,o){return o||e.isPointInArea(t)?"r"!==n||r?he(e,t,n,r,i,o):ce(e,t,n,i):[]}function fe(e,t,n,r,i){const o=[],s="x"===n?"inXRange":"inYRange";let a=!1;return ae(e,n,t,((e,r,l)=>{e[s]&&e[s](t[n],i)&&(o.push({element:e,datasetIndex:r,index:l}),a=a||e.inRange(t.x,t.y,i))})),r&&!a?[]:o}var pe={evaluateInteractionItems:ae,modes:{index(e,t,n,i){const o=(0,r.z)(t,e),s=n.axis||"x",a=n.includeInvisible||!1,l=n.intersect?ue(e,o,s,i,a):de(e,o,s,!1,i,a),u=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=l[0].index,n=e.data[t];n&&!n.skip&&u.push({element:n,datasetIndex:e.index,index:t})})),u):[]},dataset(e,t,n,i){const o=(0,r.z)(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;let l=n.intersect?ue(e,o,s,i,a):de(e,o,s,!1,i,a);if(l.length>0){const t=l[0].datasetIndex,n=e.getDatasetMeta(t).data;l=[];for(let e=0;e<n.length;++e)l.push({element:n[e],datasetIndex:t,index:e})}return l},point(e,t,n,i){const o=(0,r.z)(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return ue(e,o,s,i,a)},nearest(e,t,n,i){const o=(0,r.z)(t,e),s=n.axis||"xy",a=n.includeInvisible||!1;return de(e,o,s,n.intersect,i,a)},x(e,t,n,i){const o=(0,r.z)(t,e);return fe(e,o,"x",n.intersect,i)},y(e,t,n,i){const o=(0,r.z)(t,e);return fe(e,o,"y",n.intersect,i)}}};const me=["left","top","right","bottom"];function ge(e,t){return e.filter((e=>e.pos===t))}function ve(e,t){return e.filter((e=>-1===me.indexOf(e.pos)&&e.box.axis===t))}function ye(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function be(e){const t=[];let n,r,i,o,s,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:o,options:{stack:s,stackWeight:a=1}}=i),t.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&o+s,stackWeight:a});return t}function we(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!me.includes(r))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return t}function _e(e,t){const n=we(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];const{fullSize:s}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*r:s&&t.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:s&&t.availableHeight)}return n}function Ee(e){const t=be(e),n=ye(t.filter((e=>e.box.fullSize)),!0),r=ye(ge(t,"left"),!0),i=ye(ge(t,"right")),o=ye(ge(t,"top"),!0),s=ye(ge(t,"bottom")),a=ve(t,"x"),l=ve(t,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(l).concat(s).concat(a),chartArea:ge(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:o.concat(s).concat(a)}}function Se(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Te(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Me(e,t,n,i){const{pos:o,box:s}=n,a=e.maxPadding;if(!(0,r.i)(o)){n.size&&(e[o]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?s.height:s.width),n.size=t.size/t.count,e[o]+=n.size}s.getPadding&&Te(a,s.getPadding());const l=Math.max(0,t.outerWidth-Se(a,e,"left","right")),u=Math.max(0,t.outerHeight-Se(a,e,"top","bottom")),c=l!==e.w,h=u!==e.h;return e.w=l,e.h=u,n.horizontal?{same:c,other:h}:{same:h,other:c}}function Ce(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function Re(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function xe(e,t,n,r){const i=[];let o,s,a,l,u,c;for(o=0,s=e.length,u=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,Re(a.horizontal,t));const{same:s,other:h}=Me(t,n,a,r);u|=s&&i.length,c=c||h,l.fullSize||i.push(a)}return u&&xe(i,t,n,r)||c}function Ae(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Ne(e,t,n,i){const o=n.padding;let{x:s,y:a}=t;for(const l of e){const e=l.box,u=i[l.stack]||{count:1,placed:0,weight:1},c=l.stackWeight/u.weight||1;if(l.horizontal){const i=t.w*c,s=u.size||e.height;(0,r.h)(u.start)&&(a=u.start),e.fullSize?Ae(e,o.left,a,n.outerWidth-o.right-o.left,s):Ae(e,t.left+u.placed,a,i,s),u.start=a,u.placed+=i,a=e.bottom}else{const i=t.h*c,a=u.size||e.width;(0,r.h)(u.start)&&(s=u.start),e.fullSize?Ae(e,s,o.top,a,n.outerHeight-o.bottom-o.top):Ae(e,s,t.top+u.placed,a,i),u.start=s,u.placed+=i,s=e.right}}t.x=s,t.y=a}var Le={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const o=(0,r.E)(e.options.layout.padding),s=Math.max(t-o.width,0),a=Math.max(n-o.height,0),l=Ee(e.boxes),u=l.vertical,c=l.horizontal;(0,r.F)(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const h=u.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/h,hBoxMaxHeight:a/2}),f=Object.assign({},o);Te(f,(0,r.E)(i));const p=Object.assign({maxPadding:f,w:s,h:a,x:o.left,y:o.top},o),m=_e(u.concat(c),d);xe(l.fullSize,p,d,m),xe(u,p,d,m),xe(c,p,d,m)&&xe(u,p,d,m),Ce(p),Ne(l.leftAndTop,p,d,m),p.x+=p.w,p.y+=p.h,Ne(l.rightAndBottom,p,d,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},(0,r.F)(l.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class ke{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Oe extends ke{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ie="$chartjs",Pe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},De=e=>null===e||""===e;function Fe(e,t){const n=e.style,i=e.getAttribute("height"),o=e.getAttribute("width");if(e[Ie]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",De(o)){const t=(0,r.J)(e,"width");void 0!==t&&(e.width=t)}if(De(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=(0,r.J)(e,"height");void 0!==t&&(e.height=t)}return e}const He=!!r.K&&{passive:!0};function Ue(e,t,n){e&&e.addEventListener(t,n,He)}function Be(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,He)}function je(e,t){const n=Pe[e.type]||e.type,{x:i,y:o}=(0,r.z)(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==o?o:null}}function Ye(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Ve(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Ye(n.addedNodes,r),t=t&&!Ye(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function We(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Ye(n.removedNodes,r),t=t&&!Ye(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const ze=new Map;let Ge=0;function $e(){const e=window.devicePixelRatio;e!==Ge&&(Ge=e,ze.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function qe(e,t){ze.size||window.addEventListener("resize",$e),ze.set(e,t)}function Ke(e){ze.delete(e),ze.size||window.removeEventListener("resize",$e)}function Xe(e,t,n){const i=e.canvas,o=i&&(0,r.I)(i);if(!o)return;const s=(0,r.L)(((e,t)=>{const r=o.clientWidth;n(e,t),r<o.clientWidth&&n()}),window),a=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||s(n,r)}));return a.observe(o),qe(e,s),a}function Je(e,t,n){n&&n.disconnect(),"resize"===t&&Ke(e)}function Qe(e,t,n){const i=e.canvas,o=(0,r.L)((t=>{null!==e.ctx&&n(je(t,e))}),e);return Ue(i,t,o),o}class Ze extends ke{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Fe(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Ie])return!1;const n=t[Ie].initial;["height","width"].forEach((e=>{const i=n[e];(0,r.k)(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t[Ie],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:Ve,detach:We,resize:Xe},o=i[t]||Qe;r[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;const i={attach:Je,detach:Je,resize:Je},o=i[t]||Be;o(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return(0,r.G)(e,t,n,i)}isAttached(e){const t=e&&(0,r.I)(e);return!(!t||!t.isConnected)}}function et(e){return!(0,r.M)()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Oe:Ze}class tt{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return(0,r.x)(this.x)&&(0,r.x)(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}function nt(e,t){const n=e.options.ticks,i=rt(e),o=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?ot(t):[],a=s.length,l=s[0],u=s[a-1],c=[];if(a>o)return st(t,c,s,a/o),c;const h=it(s,t,o);if(a>0){let e,n;const i=a>1?Math.round((u-l)/(a-1)):null;for(at(t,c,h,(0,r.k)(i)?0:l-i,l),e=0,n=a-1;e<n;e++)at(t,c,h,s[e],s[e+1]);return at(t,c,h,u,(0,r.k)(i)?t.length:u+i),c}return at(t,c,h),c}function rt(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function it(e,t,n){const i=lt(e),o=t.length/n;if(!i)return Math.max(o,1);const s=(0,r.N)(i);for(let r=0,a=s.length-1;r<a;r++){const e=s[r];if(e>o)return e}return Math.max(o,1)}function ot(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function st(e,t,n,r){let i,o=0,s=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===s&&(t.push(e[i]),o++,s=n[o*r])}function at(e,t,n,i,o){const s=(0,r.v)(i,0),a=Math.min((0,r.v)(o,e.length),e.length);let l,u,c,h=0;n=Math.ceil(n),o&&(l=o-i,n=l/Math.floor(l/n)),c=s;while(c<0)h++,c=Math.round(s+h*n);for(u=Math.max(s,0);u<a;u++)u===c&&(t.push(e[u]),h++,c=Math.round(s+h*n))}function lt(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const ut=e=>"left"===e?"right":"right"===e?"left":e,ct=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,ht=(e,t)=>Math.min(t||e,e);function dt(e,t){const n=[],r=e.length/t,i=e.length;let o=0;for(;o<i;o+=r)n.push(e[Math.floor(o)]);return n}function ft(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),o=e._startPixel,s=e._endPixel,a=1e-6;let l,u=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(u-o,s-u):0===t?(e.getPixelForTick(1)-u)/2:(u-e.getPixelForTick(i-1))/2,u+=i<t?l:-l,u<o-a||u>s+a)))return u}function pt(e,t){(0,r.F)(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}function mt(e){return e.drawTicks?e.tickLength:0}function gt(e,t){if(!e.display)return 0;const n=(0,r.a0)(e.font,t),i=(0,r.E)(e.padding),o=(0,r.b)(e.text)?e.text.length:1;return o*n.lineHeight+i.height}function vt(e,t){return(0,r.j)(e,{scale:t,type:"scale"})}function yt(e,t,n){return(0,r.j)(e,{tick:n,index:t,type:"tick"})}function bt(e,t,n){let i=(0,r.a1)(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=ut(i)),i}function wt(e,t,n,i){const{top:o,left:s,bottom:a,right:l,chart:u}=e,{chartArea:c,scales:h}=u;let d,f,p,m=0;const g=a-o,v=l-s;if(e.isHorizontal()){if(f=(0,r.a2)(i,s,l),(0,r.i)(n)){const e=Object.keys(n)[0],r=n[e];p=h[e].getPixelForValue(r)+g-t}else p="center"===n?(c.bottom+c.top)/2+g-t:ct(e,n,t);d=l-s}else{if((0,r.i)(n)){const e=Object.keys(n)[0],r=n[e];f=h[e].getPixelForValue(r)-v+t}else f="center"===n?(c.left+c.right)/2-v+t:ct(e,n,t);p=(0,r.a2)(i,a,o),m="left"===n?-r.H:r.H}return{titleX:f,titleY:p,maxWidth:d,rotation:m}}class _t extends tt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=(0,r.O)(e,Number.POSITIVE_INFINITY),t=(0,r.O)(t,Number.NEGATIVE_INFINITY),n=(0,r.O)(n,Number.POSITIVE_INFINITY),i=(0,r.O)(i,Number.NEGATIVE_INFINITY),{min:(0,r.O)(e,n),max:(0,r.O)(t,i),minDefined:(0,r.g)(e),maxDefined:(0,r.g)(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:o,maxDefined:s}=this.getUserBounds();if(o&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let r=0,l=a.length;r<l;++r)t=a[r].controller.getMinMax(this,e),o||(n=Math.min(n,t.min)),s||(i=Math.max(i,t.max));return n=s&&n>i?i:n,i=o&&n>i?n:i,{min:(0,r.O)(n,(0,r.O)(i,n)),max:(0,r.O)(i,(0,r.O)(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){const t=this._labelItems||(this._labelItems=this._computeLabelItems(e));return t}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,r.Q)(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,r.R)(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?dt(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=nt(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,r.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,r.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,r.Q)(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),(0,r.Q)(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,r.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n],o.label=(0,r.Q)(t.callback,[o.value,n,e],this)}afterTickToLabelConversion(){(0,r.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,r.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=ht(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let s,a,l,u=i;if(!this._isVisible()||!t.display||i>=o||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),h=c.widest.width,d=c.highest.height,f=(0,r.S)(this.chart.width-h,0,this.maxWidth);s=e.offset?this.maxWidth/n:f/(n-1),h+6>s&&(s=f/(n-(e.offset?.5:1)),a=this.maxHeight-mt(e.grid)-t.padding-gt(e.title,this.chart.options.font),l=Math.sqrt(h*h+d*d),u=(0,r.U)(Math.min(Math.asin((0,r.S)((c.highest.height+6)/s,-1,1)),Math.asin((0,r.S)(a/l,-1,1))-Math.asin((0,r.S)(d/l,-1,1)))),u=Math.max(i,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){(0,r.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,r.Q)(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){const s=gt(i,t.options.font);if(a?(e.width=this.maxWidth,e.height=mt(o)+s):(e.height=this.maxHeight,e.width=mt(o)+s),n.display&&this.ticks.length){const{first:t,last:i,widest:o,highest:s}=this._getLabelSizes(),l=2*n.padding,u=(0,r.t)(this.labelRotation),c=Math.cos(u),h=Math.sin(u);if(a){const t=n.mirror?0:h*o.width+c*s.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=n.mirror?0:c*o.width+h*s.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,i,h,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:o},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,h=0;a?l?(c=r*e.width,h=n*t.height):(c=n*e.height,h=r*t.width):"start"===i?h=t.width:"end"===i?c=e.width:"inner"!==i&&(c=e.width/2,h=t.width/2),this.paddingLeft=Math.max((c-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-u+o)*this.width/(this.width-u),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+o,this.paddingBottom=r+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,r.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)(0,r.k)(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=dt(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:i,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(t/ht(t,n));let u,c,h,d,f,p,m,g,v,y,b,w=0,_=0;for(u=0;u<t;u+=l){if(d=e[u].label,f=this._resolveTickFontOptions(u),i.font=p=f.string,m=o[p]=o[p]||{data:{},gc:[]},g=f.lineHeight,v=y=0,(0,r.k)(d)||(0,r.b)(d)){if((0,r.b)(d))for(c=0,h=d.length;c<h;++c)b=d[c],(0,r.k)(b)||(0,r.b)(b)||(v=(0,r.V)(i,m.data,m.gc,v,b),y+=g)}else v=(0,r.V)(i,m.data,m.gc,v,d),y=g;s.push(v),a.push(y),w=Math.max(v,w),_=Math.max(y,_)}pt(o,t);const E=s.indexOf(w),S=a.indexOf(_),T=e=>({width:s[e]||0,height:a[e]||0});return{first:T(0),last:T(t-1),widest:T(E),highest:T(S),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return(0,r.W)(this._alignToPixels?(0,r.X)(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=yt(this.getContext(),e,n))}return this.$context||(this.$context=vt(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=(0,r.t)(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:o,position:s,border:a}=i,l=o.offset,u=this.isHorizontal(),c=this.ticks,h=c.length+(l?1:0),d=mt(o),f=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,g=m/2,v=function(e){return(0,r.X)(n,e,m)};let y,b,w,_,E,S,T,M,C,R,x,A;if("top"===s)y=v(this.bottom),S=this.bottom-d,M=y-g,R=v(e.top)+g,A=e.bottom;else if("bottom"===s)y=v(this.top),R=e.top,A=v(e.bottom)-g,S=y+g,M=this.top+d;else if("left"===s)y=v(this.right),E=this.right-d,T=y-g,C=v(e.left)+g,x=e.right;else if("right"===s)y=v(this.left),C=e.left,x=v(e.right)-g,E=y+g,T=this.left+d;else if("x"===t){if("center"===s)y=v((e.top+e.bottom)/2+.5);else if((0,r.i)(s)){const e=Object.keys(s)[0],t=s[e];y=v(this.chart.scales[e].getPixelForValue(t))}R=e.top,A=e.bottom,S=y+g,M=S+d}else if("y"===t){if("center"===s)y=v((e.left+e.right)/2);else if((0,r.i)(s)){const e=Object.keys(s)[0],t=s[e];y=v(this.chart.scales[e].getPixelForValue(t))}E=y-g,T=E-d,C=e.left,x=e.right}const N=(0,r.v)(i.ticks.maxTicksLimit,h),L=Math.max(1,Math.ceil(h/N));for(b=0;b<h;b+=L){const e=this.getContext(b),t=o.setContext(e),i=a.setContext(e),s=t.lineWidth,c=t.color,h=i.dash||[],d=i.dashOffset,p=t.tickWidth,m=t.tickColor,g=t.tickBorderDash||[],v=t.tickBorderDashOffset;w=ft(this,b,l),void 0!==w&&(_=(0,r.X)(n,w,s),u?E=T=C=x=_:S=M=R=A=_,f.push({tx1:E,ty1:S,tx2:T,ty2:M,x1:C,y1:R,x2:x,y2:A,width:s,color:c,borderDash:h,borderDashOffset:d,tickWidth:p,tickColor:m,tickBorderDash:g,tickBorderDashOffset:v}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:o}=n,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:h}=o,d=mt(n.grid),f=d+c,p=h?-c:f,m=-(0,r.t)(this.labelRotation),g=[];let v,y,b,w,_,E,S,T,M,C,R,x,A="middle";if("top"===i)E=this.bottom-p,S=this._getXAxisLabelAlignment();else if("bottom"===i)E=this.top+p,S=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(d);S=e.textAlign,_=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(d);S=e.textAlign,_=e.x}else if("x"===t){if("center"===i)E=(e.top+e.bottom)/2+f;else if((0,r.i)(i)){const e=Object.keys(i)[0],t=i[e];E=this.chart.scales[e].getPixelForValue(t)+f}S=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)_=(e.left+e.right)/2-f;else if((0,r.i)(i)){const e=Object.keys(i)[0],t=i[e];_=this.chart.scales[e].getPixelForValue(t)}S=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===l?A="top":"end"===l&&(A="bottom"));const N=this._getLabelSizes();for(v=0,y=a.length;v<y;++v){b=a[v],w=b.label;const e=o.setContext(this.getContext(v));T=this.getPixelForTick(v)+o.labelOffset,M=this._resolveTickFontOptions(v),C=M.lineHeight,R=(0,r.b)(w)?w.length:1;const t=R/2,n=e.color,l=e.textStrokeColor,c=e.textStrokeWidth;let d,f=S;if(s?(_=T,"inner"===S&&(f=v===y-1?this.options.reverse?"left":"right":0===v?this.options.reverse?"right":"left":"center"),x="top"===i?"near"===u||0!==m?-R*C+C/2:"center"===u?-N.highest.height/2-t*C+C:-N.highest.height+C/2:"near"===u||0!==m?C/2:"center"===u?N.highest.height/2-t*C:N.highest.height-R*C,h&&(x*=-1),0===m||e.showLabelBackdrop||(_+=C/2*Math.sin(m))):(E=T,x=(1-R)*C/2),e.showLabelBackdrop){const t=(0,r.E)(e.backdropPadding),n=N.heights[v],i=N.widths[v];let o=x-t.top,s=0-t.left;switch(A){case"middle":o-=n/2;break;case"bottom":o-=n;break}switch(S){case"center":s-=i/2;break;case"right":s-=i;break;case"inner":v===y-1?s-=i:v>0&&(s-=i/2);break}d={left:s,top:o,width:i+t.width,height:n+t.height,color:e.backdropColor}}g.push({label:w,font:M,textOffset:x,options:{rotation:m,color:n,strokeColor:l,strokeWidth:c,textAlign:f,textBaseline:A,translation:[_,E],backdrop:d}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options,n=-(0,r.t)(this.labelRotation);if(n)return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),s=e+i,a=o.widest.width;let l,u;return"left"===t?r?(u=this.right+i,"near"===n?l="left":"center"===n?(l="center",u+=a/2):(l="right",u+=a)):(u=this.right-s,"near"===n?l="right":"center"===n?(l="center",u-=a/2):(l="left",u=this.left)):"right"===t?r?(u=this.left+i,"near"===n?l="right":"center"===n?(l="center",u-=a/2):(l="left",u-=a)):(u=this.left+s,"near"===n?l="left":"center"===n?(l="center",u+=a/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks,r=n.findIndex((t=>t.value===e));if(r>=0){const e=t.setContext(this.getContext(r));return e.lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const s=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,o=r.length;i<o;++i){const e=r[i];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),s=n.display?o.width:0;if(!s)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,h,d;this.isHorizontal()?(u=(0,r.X)(e,this.left,s)-s/2,c=(0,r.X)(e,this.right,a)+a/2,h=d=l):(h=(0,r.X)(e,this.top,s)-s/2,d=(0,r.X)(e,this.bottom,a)+a/2,u=c=l),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(u,h),t.lineTo(c,d),t.stroke(),t.restore()}drawLabels(e){const t=this.options.ticks;if(!t.display)return;const n=this.ctx,i=this._computeLabelArea();i&&(0,r.Y)(n,i);const o=this.getLabelItems(e);for(const s of o){const e=s.options,t=s.font,i=s.label,o=s.textOffset;(0,r.Z)(n,i,0,o,t,e)}i&&(0,r.$)(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const o=(0,r.a0)(n.font),s=(0,r.E)(n.padding),a=n.align;let l=o.lineHeight/2;"bottom"===t||"center"===t||(0,r.i)(t)?(l+=s.bottom,(0,r.b)(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:u,titleY:c,maxWidth:h,rotation:d}=wt(this,l,t,a);(0,r.Z)(e,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:d,textAlign:bt(a,t,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=(0,r.v)(e.grid&&e.grid.z,-1),i=(0,r.v)(e.border&&e.border.z,0);return this._isVisible()&&this.draw===_t.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=t.length;i<o;++i){const o=t[i];o[n]!==this.id||e&&o.type!==e||r.push(o)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return(0,r.a0)(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Et{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;Mt(t)&&(n=this.register(t));const i=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,St(e,s,n),this.override&&r.d.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in r.d[i]&&(delete r.d[i][n],this.override&&delete r.a3[n])}}function St(e,t,n){const i=(0,r.a4)(Object.create(null),[n?r.d.get(n):{},r.d.get(t),e.defaults]);r.d.set(t,i),e.defaultRoutes&&Tt(t,e.defaultRoutes),e.descriptors&&r.d.describe(t,e.descriptors)}function Tt(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),o=i.pop(),s=[e].concat(i).join("."),a=t[n].split("."),l=a.pop(),u=a.join(".");r.d.route(s,o,u,l)}))}function Mt(e){return"id"in e&&"defaults"in e}class Ct{constructor(){this.controllers=new Et(L,"datasets",!0),this.elements=new Et(tt,"elements"),this.plugins=new Et(Object,"plugins"),this.scales=new Et(_t,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):(0,r.F)(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const i=(0,r.a5)(e);(0,r.Q)(n["before"+i],[],n),t[e](n),(0,r.Q)(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var Rt=new Ct;class xt{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const o of e){const e=o.plugin,s=e[n],a=[t,i,o.options];if(!1===(0,r.Q)(s,a,e)&&i.cancelable)return!1}return!0}invalidate(){(0,r.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=(0,r.v)(n.options&&n.options.plugins,{}),o=At(n);return!1!==i||t?Lt(e,o,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function At(e){const t={},n=[],r=Object.keys(Rt.plugins.items);for(let o=0;o<r.length;o++)n.push(Rt.getPlugin(r[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const e=i[o];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}function Nt(e,t){return t||!1!==e?!0===e?{}:e:null}function Lt(e,{plugins:t,localIds:n},r,i){const o=[],s=e.getContext();for(const a of t){const t=a.id,l=Nt(r[t],i);null!==l&&o.push({plugin:a,options:kt(e.config,{plugin:a,local:n[t]},l,s)})}return o}function kt(e,{plugin:t,local:n},r,i){const o=e.pluginScopeKeys(t),s=e.getOptionScopes(r,o);return n&&t.defaults&&s.push(t.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ot(e,t){const n=r.d.datasets[e]||{},i=(t.datasets||{})[e]||{};return i.indexAxis||t.indexAxis||n.indexAxis||"x"}function It(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}function Pt(e,t){return e===t?"_index_":"_value_"}function Dt(e){if("x"===e||"y"===e||"r"===e)return e}function Ft(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function Ht(e,...t){if(Dt(e))return e;for(const n of t){const t=n.axis||Ft(n.position)||e.length>1&&Dt(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ut(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Bt(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return Ut(e,"x",n[0])||Ut(e,"y",n[0])}return{}}function jt(e,t){const n=r.a3[e.type]||{scales:{}},i=t.scales||{},o=Ot(e.type,t),s=Object.create(null);return Object.keys(i).forEach((t=>{const a=i[t];if(!(0,r.i)(a))return console.error(`Invalid scale configuration for scale: ${t}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const l=Ht(t,a,Bt(t,e),r.d.scales[a.type]),u=Pt(l,o),c=n.scales||{};s[t]=(0,r.ab)(Object.create(null),[{axis:l},a,c[l],c[u]])})),e.data.datasets.forEach((n=>{const o=n.type||e.type,a=n.indexAxis||Ot(o,t),l=r.a3[o]||{},u=l.scales||{};Object.keys(u).forEach((e=>{const t=It(e,a),o=n[t+"AxisID"]||t;s[o]=s[o]||Object.create(null),(0,r.ab)(s[o],[{axis:t},i[o],u[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];(0,r.ab)(t,[r.d.scales[t.type],r.d.scale])})),s}function Yt(e){const t=e.options||(e.options={});t.plugins=(0,r.v)(t.plugins,{}),t.scales=jt(e,t)}function Vt(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function Wt(e){return e=e||{},e.data=Vt(e.data),Yt(e),e}const zt=new Map,Gt=new Set;function $t(e,t){let n=zt.get(e);return n||(n=t(),zt.set(e,n),Gt.add(n)),n}const qt=(e,t,n)=>{const i=(0,r.f)(t,n);void 0!==i&&e.add(i)};class Kt{constructor(e){this._config=Wt(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Vt(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Yt(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $t(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return $t(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return $t(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id,n=this.type;return $t(`${n}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:i,type:o}=this,s=this._cachedScopes(e,n),a=s.get(t);if(a)return a;const l=new Set;t.forEach((t=>{e&&(l.add(e),t.forEach((t=>qt(l,e,t)))),t.forEach((e=>qt(l,i,e))),t.forEach((e=>qt(l,r.a3[o]||{},e))),t.forEach((e=>qt(l,r.d,e))),t.forEach((e=>qt(l,r.a6,e)))}));const u=Array.from(l);return 0===u.length&&u.push(Object.create(null)),Gt.has(t)&&s.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,r.a3[t]||{},r.d.datasets[t]||{},{type:t},r.d,r.a6]}resolveNamedOptions(e,t,n,i=[""]){const o={$shared:!0},{resolver:s,subPrefixes:a}=Xt(this._resolverCache,e,i);let l=s;if(Qt(s,t)){o.$shared=!1,n=(0,r.a7)(n)?n():n;const t=this.createResolver(e,n,a);l=(0,r.a8)(s,n,t)}for(const r of t)o[r]=l[r];return o}createResolver(e,t,n=[""],i){const{resolver:o}=Xt(this._resolverCache,e,n);return(0,r.i)(t)?(0,r.a8)(o,t,void 0,i):o}}function Xt(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const o=n.join();let s=i.get(o);if(!s){const e=(0,r.a9)(t,n);s={resolver:e,subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(o,s)}return s}const Jt=e=>(0,r.i)(e)&&Object.getOwnPropertyNames(e).some((t=>(0,r.a7)(e[t])));function Qt(e,t){const{isScriptable:n,isIndexable:i}=(0,r.aa)(e);for(const o of t){const t=n(o),s=i(o),a=(s||t)&&e[o];if(t&&((0,r.a7)(a)||Jt(a))||s&&(0,r.b)(a))return!0}return!1}var Zt="4.4.6";const en=["top","bottom","left","right","chartArea"];function tn(e,t){return"top"===e||"bottom"===e||-1===en.indexOf(e)&&"x"===t}function nn(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function rn(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),(0,r.Q)(n&&n.onComplete,[e],t)}function on(e){const t=e.chart,n=t.options.animation;(0,r.Q)(n&&n.onProgress,[e],t)}function sn(e){return(0,r.M)()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const an={},ln=e=>{const t=sn(e);return Object.values(an).filter((e=>e.canvas===t)).pop()};function un(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function cn(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}function hn(e,t,n){return e.options.clip?e[n]:t[n]}function dn(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:hn(n,t,"left"),right:hn(n,t,"right"),top:hn(r,t,"top"),bottom:hn(r,t,"bottom")}:t}class fn{static defaults=r.d;static instances=an;static overrides=r.a3;static registry=Rt;static version=Zt;static getChart=ln;static register(...e){Rt.add(...e),pn()}static unregister(...e){Rt.remove(...e),pn()}constructor(e,t){const n=this.config=new Kt(t),i=sn(e),s=ln(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||et(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,a.aspectRatio),u=l&&l.canvas,c=u&&u.height,h=u&&u.width;this.id=(0,r.ac)(),this.ctx=l,this.canvas=u,this.width=h,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new xt,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,r.ad)((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],an[this.id]=this,l&&u?(o.listen(this,"complete",rn),o.listen(this,"progress",on),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:o}=this;return(0,r.k)(e)?t&&o?o:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Rt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,r.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,r.af)(this.canvas,this.ctx),this}stop(){return o.stop(this),this}resize(e,t){o.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,e,t,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,(0,r.ae)(this,a,!0)&&(this.notifyPlugins("resize",{size:s}),(0,r.Q)(n.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options,t=e.scales||{};(0,r.F)(t,((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let o=[];t&&(o=o.concat(Object.keys(t).map((e=>{const n=t[e],r=Ht(e,n),i="r"===r,o="x"===r;return{options:n,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),(0,r.F)(o,(t=>{const o=t.options,s=o.id,a=Ht(s,o),l=(0,r.v)(o.type,t.dtype);void 0!==o.position&&tn(o.position,a)===tn(t.dposition)||(o.position=t.dposition),i[s]=!0;let u=null;if(s in n&&n[s].type===l)u=n[s];else{const e=Rt.getScale(l);u=new e({id:s,type:l,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(o,e)})),(0,r.F)(i,((e,t)=>{e||delete n[t]})),(0,r.F)(n,(e=>{Le.configure(this,e,e.options),Le.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(nn("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let o=this.getDatasetMeta(n);const s=i.type||this.config.type;if(o.type&&o.type!==s&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=s,o.indexAxis=i.indexAxis||Ot(s,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const t=Rt.getController(s),{datasetElementType:i,dataElementType:a}=r.d.datasets[s];Object.assign(t,{dataElementType:Rt.getElement(a),datasetElementType:i&&Rt.getElement(i)}),o.controller=new t(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){(0,r.F)(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let r=0,u=this.data.datasets.length;r<u;r++){const{controller:e}=this.getDatasetMeta(r),t=!i&&-1===o.indexOf(e);e.buildOrUpdateElements(t),s=Math.max(+e.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||(0,r.F)(o,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(nn("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){(0,r.F)(this.scales,(e=>{Le.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(0,r.ag)(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){const t="_removeElements"===n?-i:i;un(e,r,t)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let o=1;o<t;o++)if(!(0,r.ag)(i,n(o)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Le.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],(0,r.F)(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,(0,r.a7)(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(o.has(this)?this.attached&&!o.running(this)&&o.start(this):(this.draw(),rn({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,o=dn(e,this.chartArea),s={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&(0,r.Y)(t,{left:!1===n.left?0:o.left-n.left,right:!1===n.right?this.width:o.right+n.right,top:!1===n.top?0:o.top-n.top,bottom:!1===n.bottom?this.height:o.bottom+n.bottom}),e.controller.draw(),i&&(0,r.$)(t),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return(0,r.C)(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=pe.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=(0,r.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",o=this.getDatasetMeta(e),s=o.controller._resolveAnimations(void 0,i);(0,r.h)(t)?(o.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),s.update(o,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),o.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),(0,r.af)(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete an[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};(0,r.F)(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():o()}unbindEvents(){(0,r.F)(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},(0,r.F)(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,o,s,a;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),s=0,a=e.length;s<a;++s){o=e[s];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),i=!(0,r.ah)(n,t);i&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),o=i(t,e),s=n?e:i(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),s.length&&r.mode&&this.updateHoverStyle(s,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:o}=this,s=t,a=this._getActiveElements(e,i,n,s),l=(0,r.ai)(e),u=cn(e,this._lastEvent,n,l);n&&(this._lastEvent=null,(0,r.Q)(o.onHover,[e,a,this],this),l&&(0,r.Q)(o.onClick,[e,a,this],this));const c=!(0,r.ah)(a,i);return(c||t)&&(this._active=a,this._updateHoverStyles(a,i,t)),this._lastEvent=u,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}function pn(){return(0,r.F)(fn.instances,(e=>e._plugins.invalidate()))}function mn(e,t,n){const{startAngle:i,pixelMargin:o,x:s,y:a,outerRadius:l,innerRadius:u}=t;let c=o/l;e.beginPath(),e.arc(s,a,l,i-c,n+c),u>o?(c=o/u,e.arc(s,a,u,n+c,i-c,!0)):e.arc(s,a,o,n+r.H,i-r.H),e.closePath(),e.clip()}function gn(e){return(0,r.ak)(e,["outerStart","outerEnd","innerStart","innerEnd"])}function vn(e,t,n,i){const o=gn(e.options.borderRadius),s=(n-t)/2,a=Math.min(s,i*t/2),l=e=>{const t=(n-Math.min(s,e))*i/2;return(0,r.S)(e,0,Math.min(s,t))};return{outerStart:l(o.outerStart),outerEnd:l(o.outerEnd),innerStart:(0,r.S)(o.innerStart,0,a),innerEnd:(0,r.S)(o.innerEnd,0,a)}}function yn(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function bn(e,t,n,i,o,s){const{x:a,y:l,startAngle:u,pixelMargin:c,innerRadius:h}=t,d=Math.max(t.outerRadius+i+n-c,0),f=h>0?h+i+n+c:0;let p=0;const m=o-u;if(i){const e=h>0?h-i:0,t=d>0?d-i:0,n=(e+t)/2,r=0!==n?m*n/(n+i):m;p=(m-r)/2}const g=Math.max(.001,m*d-n/r.P)/d,v=(m-g)/2,y=u+v+p,b=o-v-p,{outerStart:w,outerEnd:_,innerStart:E,innerEnd:S}=vn(t,f,d,b-y),T=d-w,M=d-_,C=y+w/T,R=b-_/M,x=f+E,A=f+S,N=y+E/x,L=b-S/A;if(e.beginPath(),s){const t=(C+R)/2;if(e.arc(a,l,d,C,t),e.arc(a,l,d,t,R),_>0){const t=yn(M,R,a,l);e.arc(t.x,t.y,_,R,b+r.H)}const n=yn(A,b,a,l);if(e.lineTo(n.x,n.y),S>0){const t=yn(A,L,a,l);e.arc(t.x,t.y,S,b+r.H,L+Math.PI)}const i=(b-S/f+(y+E/f))/2;if(e.arc(a,l,f,b-S/f,i,!0),e.arc(a,l,f,i,y+E/f,!0),E>0){const t=yn(x,N,a,l);e.arc(t.x,t.y,E,N+Math.PI,y-r.H)}const o=yn(T,y,a,l);if(e.lineTo(o.x,o.y),w>0){const t=yn(T,C,a,l);e.arc(t.x,t.y,w,y-r.H,C)}}else{e.moveTo(a,l);const t=Math.cos(C)*d+a,n=Math.sin(C)*d+l;e.lineTo(t,n);const r=Math.cos(R)*d+a,i=Math.sin(R)*d+l;e.lineTo(r,i)}e.closePath()}function wn(e,t,n,i,o){const{fullCircles:s,startAngle:a,circumference:l}=t;let u=t.endAngle;if(s){bn(e,t,n,i,u,o);for(let t=0;t<s;++t)e.fill();isNaN(l)||(u=a+(l%r.T||r.T))}return bn(e,t,n,i,u,o),e.fill(),u}function _n(e,t,n,i,o){const{fullCircles:s,startAngle:a,circumference:l,options:u}=t,{borderWidth:c,borderJoinStyle:h,borderDash:d,borderDashOffset:f}=u,p="inner"===u.borderAlign;if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=f,p?(e.lineWidth=2*c,e.lineJoin=h||"round"):(e.lineWidth=c,e.lineJoin=h||"bevel");let m=t.endAngle;if(s){bn(e,t,n,i,m,o);for(let t=0;t<s;++t)e.stroke();isNaN(l)||(m=a+(l%r.T||r.T))}p&&mn(e,t,m),s||(bn(e,t,n,i,m,o),e.stroke())}class En extends tt{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:o,distance:s}=(0,r.D)(i,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:c,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=(this.options.spacing+this.options.borderWidth)/2,f=(0,r.v)(h,l-a),p=(0,r.p)(o,a,l)&&a!==l,m=f>=r.T||p,g=(0,r.aj)(s,u+d,c+d);return m&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:a,spacing:l}=this.options,u=(r+i)/2,c=(o+s+l+a)/2;return{x:t+Math.cos(u)*c,y:n+Math.sin(u)*c}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,s=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>r.T?Math.floor(n/r.T):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);const l=1-Math.sin(Math.min(r.P,n||0)),u=i*l;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,wn(e,this,u,o,s),_n(e,this,u,o,s),e.restore()}}function Sn(e,t,n=t){e.lineCap=(0,r.v)(n.borderCapStyle,t.borderCapStyle),e.setLineDash((0,r.v)(n.borderDash,t.borderDash)),e.lineDashOffset=(0,r.v)(n.borderDashOffset,t.borderDashOffset),e.lineJoin=(0,r.v)(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=(0,r.v)(n.borderWidth,t.borderWidth),e.strokeStyle=(0,r.v)(n.borderColor,t.borderColor)}function Tn(e,t,n){e.lineTo(n.x,n.y)}function Mn(e){return e.stepped?r.ar:e.tension||"monotone"===e.cubicInterpolationMode?r.as:Tn}function Cn(e,t,n={}){const r=e.length,{start:i=0,end:o=r-1}=n,{start:s,end:a}=t,l=Math.max(i,s),u=Math.min(o,a),c=i<s&&o<s||i>a&&o>a;return{count:r,start:l,loop:t.loop,ilen:u<l&&!c?r+u-l:u-l}}function Rn(e,t,n,r){const{points:i,options:o}=t,{count:s,start:a,loop:l,ilen:u}=Cn(i,n,r),c=Mn(o);let h,d,f,{move:p=!0,reverse:m}=r||{};for(h=0;h<=u;++h)d=i[(a+(m?u-h:h))%s],d.skip||(p?(e.moveTo(d.x,d.y),p=!1):c(e,f,d,m,o.stepped),f=d);return l&&(d=i[(a+(m?u:0))%s],c(e,f,d,m,o.stepped)),!!l}function xn(e,t,n,r){const i=t.points,{count:o,start:s,ilen:a}=Cn(i,n,r),{move:l=!0,reverse:u}=r||{};let c,h,d,f,p,m,g=0,v=0;const y=e=>(s+(u?a-e:e))%o,b=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(l&&(h=i[y(0)],e.moveTo(h.x,h.y)),c=0;c<=a;++c){if(h=i[y(c)],h.skip)continue;const t=h.x,n=h.y,r=0|t;r===d?(n<f?f=n:n>p&&(p=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),d=r,v=0,f=p=n),m=n}b()}function An(e){const t=e.options,n=t.borderDash&&t.borderDash.length,r=!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n;return r?xn:Rn}function Nn(e){return e.stepped?r.ao:e.tension||"monotone"===e.cubicInterpolationMode?r.ap:r.aq}function Ln(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Sn(e,t.options),e.stroke(i)}function kn(e,t,n,r){const{segments:i,options:o}=t,s=An(t);for(const a of i)Sn(e,o,a.style),e.beginPath(),s(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const On="function"===typeof Path2D;function In(e,t,n,r){On&&!t.options.segment?Ln(e,t,n,r):kn(e,t,n,r)}class Pn extends tt{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;(0,r.al)(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,r.am)(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],o=this.points,s=(0,r.an)(this,{property:t,start:i,end:i});if(!s.length)return;const a=[],l=Nn(n);let u,c;for(u=0,c=s.length;u<c;++u){const{start:r,end:c}=s[u],h=o[r],d=o[c];if(h===d){a.push(h);continue}const f=Math.abs((i-h[t])/(d[t]-h[t])),p=l(h,d,f,n.stepped);p[t]=e[t],a.push(p)}return 1===a.length?a[0]:a}pathSegment(e,t,n){const r=An(this);return r(e,this,t,n)}path(e,t,n){const r=this.segments,i=An(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const s of r)o&=i(e,this,s,{start:t,end:t+n-1});return!!o}draw(e,t,n,r){const i=this.options||{},o=this.points||[];o.length&&i.borderWidth&&(e.save(),In(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Dn(e,t,n,r){const i=e.options,{[n]:o}=e.getProps([n],r);return Math.abs(t-o)<i.radius+i.hitRadius}class Fn extends tt{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Dn(this,e,"x",t)}inYRange(e,t){return Dn(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const n=t&&e.borderWidth||0;return 2*(t+n)}draw(e,t){const n=this.options;this.skip||n.radius<.1||!(0,r.C)(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,(0,r.at)(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Hn(e,t){const{x:n,y:r,base:i,width:o,height:s}=e.getProps(["x","y","base","width","height"],t);let a,l,u,c,h;return e.horizontal?(h=s/2,a=Math.min(n,i),l=Math.max(n,i),u=r-h,c=r+h):(h=o/2,a=n-h,l=n+h,u=Math.min(r,i),c=Math.max(r,i)),{left:a,top:u,right:l,bottom:c}}function Un(e,t,n,i){return e?0:(0,r.S)(t,n,i)}function Bn(e,t,n){const i=e.options.borderWidth,o=e.borderSkipped,s=(0,r.av)(i);return{t:Un(o.top,s.top,0,n),r:Un(o.right,s.right,0,t),b:Un(o.bottom,s.bottom,0,n),l:Un(o.left,s.left,0,t)}}function jn(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),o=e.options.borderRadius,s=(0,r.aw)(o),a=Math.min(t,n),l=e.borderSkipped,u=i||(0,r.i)(o);return{topLeft:Un(!u||l.top||l.left,s.topLeft,0,a),topRight:Un(!u||l.top||l.right,s.topRight,0,a),bottomLeft:Un(!u||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:Un(!u||l.bottom||l.right,s.bottomRight,0,a)}}function Yn(e){const t=Hn(e),n=t.right-t.left,r=t.bottom-t.top,i=Bn(e,n/2,r/2),o=jn(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Vn(e,t,n,i){const o=null===t,s=null===n,a=o&&s,l=e&&!a&&Hn(e,i);return l&&(o||(0,r.aj)(t,l.left,l.right))&&(s||(0,r.aj)(n,l.top,l.bottom))}function Wn(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function zn(e,t){e.rect(t.x,t.y,t.w,t.h)}function Gn(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-r,s=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+s,radius:e.radius}}class $n extends tt{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:s}=Yn(this),a=Wn(s.radius)?r.au:zn;e.save(),s.w===o.w&&s.h===o.h||(e.beginPath(),a(e,Gn(s,t,o)),e.clip(),a(e,Gn(o,-t,s)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,Gn(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Vn(this,e,t,n)}inXRange(e,t){return Vn(this,e,null,t)}inYRange(e,t){return Vn(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}var qn=Object.freeze({__proto__:null,ArcElement:En,BarElement:$n,LineElement:Pn,PointElement:Fn});const Kn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Xn=Kn.map((e=>e.replace("rgb(","rgba(").replace(")",", 0.5)")));function Jn(e){return Kn[e%Kn.length]}function Qn(e){return Xn[e%Xn.length]}function Zn(e,t){return e.borderColor=Jn(t),e.backgroundColor=Qn(t),++t}function er(e,t){return e.backgroundColor=e.data.map((()=>Jn(t++))),t}function tr(e,t){return e.backgroundColor=e.data.map((()=>Qn(t++))),t}function nr(e){let t=0;return(n,r)=>{const i=e.getDatasetMeta(r).controller;i instanceof X?t=er(n,t):i instanceof Q?t=tr(n,t):i&&(t=Zn(n,t))}}function rr(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function ir(e){return e&&(e.borderColor||e.backgroundColor)}function or(){return"rgba(0,0,0,0.1)"!==r.d.borderColor||"rgba(0,0,0,0.1)"!==r.d.backgroundColor}var sr={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=e.config,{elements:o}=i,s=rr(r)||ir(i)||o&&rr(o)||or();if(!n.forceOverride&&s)return;const a=nr(e);r.forEach(a)}};function ar(e,t,n,r,i){const o=i.samples||r;if(o>=n)return e.slice(t,t+n);const s=[],a=(n-2)/(o-2);let l=0;const u=t+n-1;let c,h,d,f,p,m=t;for(s[l++]=e[m],c=0;c<o-2;c++){let r,i=0,o=0;const u=Math.floor((c+1)*a)+1+t,g=Math.min(Math.floor((c+2)*a)+1,n)+t,v=g-u;for(r=u;r<g;r++)i+=e[r].x,o+=e[r].y;i/=v,o/=v;const y=Math.floor(c*a)+1+t,b=Math.min(Math.floor((c+1)*a)+1,n)+t,{x:w,y:_}=e[m];for(d=f=-1,r=y;r<b;r++)f=.5*Math.abs((w-i)*(e[r].y-_)-(w-e[r].x)*(o-_)),f>d&&(d=f,h=e[r],p=r);s[l++]=h,m=p}return s[l++]=e[u],s}function lr(e,t,n,i){let o,s,a,l,u,c,h,d,f,p,m=0,g=0;const v=[],y=t+n-1,b=e[t].x,w=e[y].x,_=w-b;for(o=t;o<t+n;++o){s=e[o],a=(s.x-b)/_*i,l=s.y;const t=0|a;if(t===u)l<f?(f=l,c=o):l>p&&(p=l,h=o),m=(g*m+s.x)/++g;else{const n=o-1;if(!(0,r.k)(c)&&!(0,r.k)(h)){const t=Math.min(c,h),r=Math.max(c,h);t!==d&&t!==n&&v.push({...e[t],x:m}),r!==d&&r!==n&&v.push({...e[r],x:m})}o>0&&n!==d&&v.push(e[n]),v.push(s),u=t,g=0,f=p=l,c=h=d=o}}return v}function ur(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function cr(e){e.data.datasets.forEach((e=>{ur(e)}))}function hr(e,t){const n=t.length;let i,o=0;const{iScale:s}=e,{min:a,max:l,minDefined:u,maxDefined:c}=s.getUserBounds();return u&&(o=(0,r.S)((0,r.B)(t,s.axis,a).lo,0,n-1)),i=c?(0,r.S)((0,r.B)(t,s.axis,l).hi+1,o,n)-o:n-o,{start:o,count:i}}var dr={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void cr(e);const i=e.width;e.data.datasets.forEach(((t,o)=>{const{_data:s,indexAxis:a}=t,l=e.getDatasetMeta(o),u=s||t.data;if("y"===(0,r.a)([a,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=e.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:h,count:d}=hr(l,u);const f=n.threshold||4*i;if(d<=f)return void ur(t);let p;switch((0,r.k)(s)&&(t._data=u,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":p=ar(u,h,d,i,n);break;case"min-max":p=lr(u,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=p}))},destroy(e){cr(e)}};function fr(e,t,n){const i=e.segments,o=e.points,s=t.points,a=[];for(const l of i){let{start:e,end:i}=l;i=gr(e,i,o);const u=pr(n,o[e],o[i],l.loop);if(!t.segments){a.push({source:l,target:u,start:o[e],end:o[i]});continue}const c=(0,r.an)(t,u);for(const t of c){const e=pr(n,s[t.start],s[t.end],t.loop),i=(0,r.ax)(l,o,e);for(const r of i)a.push({source:r,target:t,start:{[n]:vr(u,e,"start",Math.max)},end:{[n]:vr(u,e,"end",Math.min)}})}}return a}function pr(e,t,n,i){if(i)return;let o=t[e],s=n[e];return"angle"===e&&(o=(0,r.ay)(o),s=(0,r.ay)(s)),{property:e,start:o,end:s}}function mr(e,t){const{x:n=null,y:r=null}=e||{},i=t.points,o=[];return t.segments.forEach((({start:e,end:t})=>{t=gr(e,t,i);const s=i[e],a=i[t];null!==r?(o.push({x:s.x,y:r}),o.push({x:a.x,y:r})):null!==n&&(o.push({x:n,y:s.y}),o.push({x:n,y:a.y}))})),o}function gr(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function vr(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function yr(e,t){let n=[],i=!1;return(0,r.b)(e)?(i=!0,n=e):n=mr(e,t),n.length?new Pn({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function br(e){return e&&!1!==e.fill}function wr(e,t,n){const i=e[t];let o=i.fill;const s=[t];let a;if(!n)return o;while(!1!==o&&-1===s.indexOf(o)){if(!(0,r.g)(o))return o;if(a=e[o],!a)return!1;if(a.visible)return o;s.push(o),o=a.fill}return!1}function _r(e,t,n){const i=Mr(e);if((0,r.i)(i))return!isNaN(i.value)&&i;let o=parseFloat(i);return(0,r.g)(o)&&Math.floor(o)===o?Er(i[0],t,o,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Er(e,t,n,r){return"-"!==e&&"+"!==e||(n=t+n),!(n===t||n<0||n>=r)&&n}function Sr(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:(0,r.i)(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Tr(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:(0,r.i)(e)?e.value:t.getBaseValue(),i}function Mr(e){const t=e.options,n=t.fill;let i=(0,r.v)(n&&n.target,n);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}function Cr(e){const{scale:t,index:n,line:r}=e,i=[],o=r.segments,s=r.points,a=Rr(t,n);a.push(yr({x:null,y:t.bottom},r));for(let l=0;l<o.length;l++){const e=o[l];for(let t=e.start;t<=e.end;t++)xr(i,s[t],a)}return new Pn({points:i,options:{}})}function Rr(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const e=r[i];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}function xr(e,t,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:s,last:a,point:l}=Ar(o,t,"x");if(!(!l||s&&a))if(s)r.unshift(l);else if(e.push(l),!a)break}e.push(...r)}function Ar(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const o=i[n],s=e.segments,a=e.points;let l=!1,u=!1;for(let c=0;c<s.length;c++){const e=s[c],t=a[e.start][n],i=a[e.end][n];if((0,r.aj)(o,t,i)){l=o===t,u=o===i;break}}return{first:l,last:u,point:i}}class Nr{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:o,radius:s}=this;return t=t||{start:0,end:r.T},e.arc(i,o,s,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function Lr(e){const{chart:t,fill:n,line:i}=e;if((0,r.g)(n))return kr(t,n);if("stack"===n)return Cr(e);if("shape"===n)return!0;const o=Or(e);return o instanceof Nr?o:yr(o,i)}function kr(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}function Or(e){const t=e.scale||{};return t.getPointPositionForValue?Pr(e):Ir(e)}function Ir(e){const{scale:t={},fill:n}=e,i=Sr(n,t);if((0,r.g)(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}function Pr(e){const{scale:t,fill:n}=e,r=t.options,i=t.getLabels().length,o=r.reverse?t.max:t.min,s=Tr(n,t,o),a=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,o);return new Nr({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,s));return a}function Dr(e,t,n){const i=Lr(t),{line:o,scale:s,axis:a}=t,l=o.options,u=l.fill,c=l.backgroundColor,{above:h=c,below:d=c}=u||{};i&&o.points.length&&((0,r.Y)(e,n),Fr(e,{line:o,target:i,above:h,below:d,area:n,scale:s,axis:a}),(0,r.$)(e))}function Fr(e,t){const{line:n,target:r,above:i,below:o,area:s,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&o!==i&&(Hr(e,r,s.top),Ur(e,{line:n,target:r,color:i,scale:a,property:l}),e.restore(),e.save(),Hr(e,r,s.bottom)),Ur(e,{line:n,target:r,color:o,scale:a,property:l}),e.restore()}function Hr(e,t,n){const{segments:r,points:i}=t;let o=!0,s=!1;e.beginPath();for(const a of r){const{start:r,end:l}=a,u=i[r],c=i[gr(r,l,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(c.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Ur(e,t){const{line:n,target:r,property:i,color:o,scale:s}=t,a=fr(n,r,i);for(const{source:l,target:u,start:c,end:h}of a){const{style:{backgroundColor:t=o}={}}=l,a=!0!==r;e.save(),e.fillStyle=t,Br(e,s,a&&pr(i,c,h)),e.beginPath();const d=!!n.pathSegment(e,l);let f;if(a){d?e.closePath():jr(e,r,h,i);const t=!!r.pathSegment(e,u,{move:d,reverse:!0});f=d&&t,f||jr(e,r,c,i)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function Br(e,t,n){const{top:r,bottom:i}=t.chart.chartArea,{property:o,start:s,end:a}=n||{};"x"===o&&(e.beginPath(),e.rect(s,r,a-s,i-r),e.clip())}function jr(e,t,n,r){const i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Yr={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,i=[];let o,s,a,l;for(s=0;s<r;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof Pn&&(l={visible:e.isDatasetVisible(s),index:s,fill:_r(a,s,r),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(s=0;s<r;++s)l=i[s],l&&!1!==l.fill&&(l.fill=wr(i,s,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let s=i.length-1;s>=0;--s){const t=i[s].$filler;t&&(t.line.updateControlPoints(o,t.axis),r&&t.fill&&Dr(e.ctx,t,o))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const t=r[i].$filler;br(t)&&Dr(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;br(r)&&"beforeDatasetDraw"===n.drawTime&&Dr(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Vr=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},Wr=(e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class zr extends tt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=(0,r.Q)(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=(0,r.a0)(n.font),o=i.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Vr(n,o);let u,c;t.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(s,o,a,l)+10):(c=this.maxHeight,u=this._fitCols(s,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],u=r+s;let c=e;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-u;return this.legendItems.forEach(((e,f)=>{const p=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+p+2*s>o)&&(c+=u,l[l.length-(f>0?0:1)]=0,d+=u,h++),a[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+s})),c}_fitCols(e,t,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-e;let c=s,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((e,o)=>{const{itemWidth:m,itemHeight:g}=Gr(n,t,i,e,r);o>0&&d+g+2*s>u&&(c+=h+s,l.push({width:h,height:d}),f+=h+s,p++,h=d=0),a[o]={left:f,top:d,col:p,width:m,height:g},h=Math.max(h,m),d+=g+s})),c+=h,l.push({width:h,height:d}),c}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:o}}=this,s=(0,r.az)(o,this.left,this.width);if(this.isHorizontal()){let o=0,a=(0,r.a2)(n,this.left+i,this.right-this.lineWidths[o]);for(const l of t)o!==l.row&&(o=l.row,a=(0,r.a2)(n,this.left+i,this.right-this.lineWidths[o])),l.top+=this.top+e+i,l.left=s.leftForLtr(s.x(a),l.width),a+=l.width+i}else{let o=0,a=(0,r.a2)(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const l of t)l.col!==o&&(o=l.col,a=(0,r.a2)(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),l.top=a,l.left+=this.left+i,l.left=s.leftForLtr(s.x(l.left),l.width),a+=l.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;(0,r.Y)(e,this),this._draw(),(0,r.$)(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:o,labels:s}=e,a=r.d.color,l=(0,r.az)(e.rtl,this.left,this.width),u=(0,r.a0)(s.font),{padding:c}=s,h=u.size,d=h/2;let f;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:p,boxHeight:m,itemHeight:g}=Vr(s,h),v=function(e,t,n){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;i.save();const o=(0,r.v)(n.lineWidth,1);if(i.fillStyle=(0,r.v)(n.fillStyle,a),i.lineCap=(0,r.v)(n.lineCap,"butt"),i.lineDashOffset=(0,r.v)(n.lineDashOffset,0),i.lineJoin=(0,r.v)(n.lineJoin,"miter"),i.lineWidth=o,i.strokeStyle=(0,r.v)(n.strokeStyle,a),i.setLineDash((0,r.v)(n.lineDash,[])),s.usePointStyle){const a={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:o},u=l.xPlus(e,p/2),c=t+d;(0,r.aD)(i,a,u,c,s.pointStyleWidth&&p)}else{const s=t+Math.max((h-m)/2,0),a=l.leftForLtr(e,p),u=(0,r.aw)(n.borderRadius);i.beginPath(),Object.values(u).some((e=>0!==e))?(0,r.au)(i,{x:a,y:s,w:p,h:m,radius:u}):i.rect(a,s,p,m),i.fill(),0!==o&&i.stroke()}i.restore()},y=function(e,t,n){(0,r.Z)(i,n.text,e,t+g/2,u,{strikethrough:n.hidden,textAlign:l.textAlign(n.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();f=b?{x:(0,r.a2)(o,this.left+c,this.right-n[0]),y:this.top+c+w,line:0}:{x:this.left+c,y:(0,r.a2)(o,this.top+w+c,this.bottom-t[0].height),line:0},(0,r.aA)(this.ctx,e.textDirection);const _=g+c;this.legendItems.forEach(((a,h)=>{i.strokeStyle=a.fontColor,i.fillStyle=a.fontColor;const m=i.measureText(a.text).width,g=l.textAlign(a.textAlign||(a.textAlign=s.textAlign)),E=p+d+m;let S=f.x,T=f.y;l.setWidth(this.width),b?h>0&&S+E+c>this.right&&(T=f.y+=_,f.line++,S=f.x=(0,r.a2)(o,this.left+c,this.right-n[f.line])):h>0&&T+_>this.bottom&&(S=f.x=S+t[f.line].width+c,f.line++,T=f.y=(0,r.a2)(o,this.top+w+c,this.bottom-t[f.line].height));const M=l.x(S);if(v(M,T,a),S=(0,r.aB)(g,S+p+d,b?S+E:this.right,e.rtl),y(l.x(S),T,a),b)f.x+=E+c;else if("string"!==typeof a.text){const e=u.lineHeight;f.y+=Kr(a,e)+c}else f.y+=_})),(0,r.aC)(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=(0,r.a0)(t.font),i=(0,r.E)(t.padding);if(!t.display)return;const o=(0,r.az)(e.rtl,this.left,this.width),s=this.ctx,a=t.position,l=n.size/2,u=i.top+l;let c,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+u,h=(0,r.a2)(e.align,h,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=u+(0,r.a2)(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const f=(0,r.a2)(a,h,h+d);s.textAlign=o.textAlign((0,r.a1)(a)),s.textBaseline="middle",s.strokeStyle=t.color,s.fillStyle=t.color,s.font=n.string,(0,r.Z)(s,t.text,f,c,n)}_computeTitleHeight(){const e=this.options.title,t=(0,r.a0)(e.font),n=(0,r.E)(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,o;if((0,r.aj)(e,this.left,this.right)&&(0,r.aj)(t,this.top,this.bottom))for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],(0,r.aj)(e,i.left,i.left+i.width)&&(0,r.aj)(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!Xr(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const i=this._hoveredItem,o=Wr(i,n);i&&!o&&(0,r.Q)(t.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!o&&(0,r.Q)(t.onHover,[e,n,this],this)}else n&&(0,r.Q)(t.onClick,[e,n,this],this)}}function Gr(e,t,n,r,i){const o=$r(r,e,t,n),s=qr(i,r,t.lineHeight);return{itemWidth:o,itemHeight:s}}function $r(e,t,n,r){let i=e.text;return i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t))),t+n.size/2+r.measureText(i).width}function qr(e,t,n){let r=e;return"string"!==typeof t.text&&(r=Kr(t,n)),r}function Kr(e,t){const n=e.text?e.text.length:0;return t*n}function Xr(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}var Jr={id:"legend",_element:zr,start(e,t,n){const r=e.legend=new zr({ctx:e.ctx,options:n,chart:e});Le.configure(e,r,n),Le.addBox(e,r)},stop(e){Le.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Le.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:o,color:s,useBorderRadius:a,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const u=e.controller.getStyle(n?0:void 0),c=(0,r.E)(u.borderWidth);return{text:t[e.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!e.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:o||u.textAlign,borderRadius:a&&(l||u.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Qr extends tt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const i=(0,r.b)(n.text)?n.text.length:1;this._padding=(0,r.E)(n.padding);const o=i*(0,r.a0)(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:o,options:s}=this,a=s.align;let l,u,c,h=0;return this.isHorizontal()?(u=(0,r.a2)(a,n,o),c=t+e,l=o-n):("left"===s.position?(u=n+e,c=(0,r.a2)(a,i,t),h=-.5*r.P):(u=o-e,c=(0,r.a2)(a,t,i),h=.5*r.P),l=i-t),{titleX:u,titleY:c,maxWidth:l,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=(0,r.a0)(t.font),i=n.lineHeight,o=i/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(o);(0,r.Z)(e,t.text,0,0,n,{color:t.color,maxWidth:l,rotation:u,textAlign:(0,r.a1)(t.align),textBaseline:"middle",translation:[s,a]})}}function Zr(e,t){const n=new Qr({ctx:e.ctx,options:t,chart:e});Le.configure(e,n,t),Le.addBox(e,n),e.titleBlock=n}var ei={id:"title",_element:Qr,start(e,t,n){Zr(e,n)},stop(e){const t=e.titleBlock;Le.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Le.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ti=new WeakMap;var ni={id:"subtitle",start(e,t,n){const r=new Qr({ctx:e.ctx,options:n,chart:e});Le.configure(e,r,n),Le.addBox(e,r),ti.set(e,r)},stop(e){Le.removeBox(e,ti.get(e)),ti.delete(e)},beforeUpdate(e,t,n){const r=ti.get(e);Le.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ri={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,o=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),i+=e.y,++o}}if(0===o||0===r.size)return!1;const s=[...r].reduce(((e,t)=>e+t))/r.size;return{x:s,y:i/o}},nearest(e,t){if(!e.length)return!1;let n,i,o,s=t.x,a=t.y,l=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=i.getCenterPoint(),n=(0,r.aE)(t,e);n<l&&(l=n,o=i)}}if(o){const e=o.tooltipPosition();s=e.x,a=e.y}return{x:s,y:a}}};function ii(e,t){return t&&((0,r.b)(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function oi(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function si(e,t){const{element:n,datasetIndex:r,index:i}=t,o=e.getDatasetMeta(r).controller,{label:s,value:a}=o.getLabelAndValue(i);return{chart:e,label:s,parsed:o.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function ai(e,t){const n=e.chart.ctx,{body:i,footer:o,title:s}=e,{boxWidth:a,boxHeight:l}=t,u=(0,r.a0)(t.bodyFont),c=(0,r.a0)(t.titleFont),h=(0,r.a0)(t.footerFont),d=s.length,f=o.length,p=i.length,m=(0,r.E)(t.padding);let g=m.height,v=0,y=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){const e=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;g+=p*e+(y-p)*u.lineHeight+(y-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*h.lineHeight+(f-1)*t.footerSpacing);let b=0;const w=function(e){v=Math.max(v,n.measureText(e).width+b)};return n.save(),n.font=c.string,(0,r.F)(e.title,w),n.font=u.string,(0,r.F)(e.beforeBody.concat(e.afterBody),w),b=t.displayColors?a+2+t.boxPadding:0,(0,r.F)(i,(e=>{(0,r.F)(e.before,w),(0,r.F)(e.lines,w),(0,r.F)(e.after,w)})),b=0,n.font=h.string,(0,r.F)(e.footer,w),n.restore(),v+=m.width,{width:v,height:g}}function li(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function ui(e,t,n,r){const{x:i,width:o}=r,s=n.caretSize+n.caretPadding;return"left"===e&&i+o+s>t.width||("right"===e&&i-o-s<0||void 0)}function ci(e,t,n,r){const{x:i,width:o}=n,{width:s,chartArea:{left:a,right:l}}=e;let u="center";return"center"===r?u=i<=(a+l)/2?"left":"right":i<=o/2?u="left":i>=s-o/2&&(u="right"),ui(u,e,t,n)&&(u="center"),u}function hi(e,t,n){const r=n.yAlign||t.yAlign||li(e,n);return{xAlign:n.xAlign||t.xAlign||ci(e,t,n,r),yAlign:r}}function di(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}function fi(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}function pi(e,t,n,i){const{caretSize:o,caretPadding:s,cornerRadius:a}=e,{xAlign:l,yAlign:u}=n,c=o+s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=(0,r.aw)(a);let m=di(t,l);const g=fi(t,u,c);return"center"===u?"left"===l?m+=c:"right"===l&&(m-=c):"left"===l?m-=Math.max(h,f)+o:"right"===l&&(m+=Math.max(d,p)+o),{x:(0,r.S)(m,0,i.width-t.width),y:(0,r.S)(g,0,i.height-t.height)}}function mi(e,t,n){const i=(0,r.E)(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function gi(e){return ii([],oi(e))}function vi(e,t,n){return(0,r.j)(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function yi(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const bi={beforeTitle:r.aF,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:r.aF,beforeBody:r.aF,beforeLabel:r.aF,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return(0,r.k)(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex),n=t.controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex),n=t.controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:r.aF,afterBody:r.aF,beforeFooter:r.aF,footer:r.aF,afterFooter:r.aF};function wi(e,t,n,r){const i=e[t].call(n,r);return"undefined"===typeof i?bi[t].call(n,r):i}class _i extends tt{static positioners=ri;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new u(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=vi(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,r=wi(n,"beforeTitle",this,e),i=wi(n,"title",this,e),o=wi(n,"afterTitle",this,e);let s=[];return s=ii(s,oi(r)),s=ii(s,oi(i)),s=ii(s,oi(o)),s}getBeforeBody(e,t){return gi(wi(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,i=[];return(0,r.F)(e,(e=>{const t={before:[],lines:[],after:[]},r=yi(n,e);ii(t.before,oi(wi(r,"beforeLabel",this,e))),ii(t.lines,wi(r,"label",this,e)),ii(t.after,oi(wi(r,"afterLabel",this,e))),i.push(t)})),i}getAfterBody(e,t){return gi(wi(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=wi(n,"beforeFooter",this,e),i=wi(n,"footer",this,e),o=wi(n,"afterFooter",this,e);let s=[];return s=ii(s,oi(r)),s=ii(s,oi(i)),s=ii(s,oi(o)),s}_createItems(e){const t=this._active,n=this.chart.data,i=[],o=[],s=[];let a,l,u=[];for(a=0,l=t.length;a<l;++a)u.push(si(this.chart,t[a]));return e.filter&&(u=u.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(u=u.sort(((t,r)=>e.itemSort(t,r,n)))),(0,r.F)(u,(t=>{const n=yi(e.callbacks,t);i.push(wi(n,"labelColor",this,t)),o.push(wi(n,"labelPointStyle",this,t)),s.push(wi(n,"labelTextColor",this,t))})),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=s,this.dataPoints=u,u}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(r.length){const e=ri[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const t=this._size=ai(this,n),s=Object.assign({},e,t),a=hi(this.chart,n,s),l=pi(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:o}=this,{caretSize:s,cornerRadius:a}=n,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:h}=(0,r.aw)(a),{x:d,y:f}=e,{width:p,height:m}=t;let g,v,y,b,w,_;return"center"===o?(w=f+m/2,"left"===i?(g=d,v=g-s,b=w+s,_=w-s):(g=d+p,v=g+s,b=w-s,_=w+s),y=g):(v="left"===i?d+Math.max(l,c)+s:"right"===i?d+p-Math.max(u,h)-s:this.caretX,"top"===o?(b=f,w=b-s,g=v-s,y=v+s):(b=f+m,w=b+s,g=v+s,y=v-s),_=b),{x1:g,x2:v,x3:y,y1:b,y2:w,y3:_}}drawTitle(e,t,n){const i=this.title,o=i.length;let s,a,l;if(o){const u=(0,r.az)(n.rtl,this.x,this.width);for(e.x=mi(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",s=(0,r.a0)(n.titleFont),a=n.titleSpacing,t.fillStyle=n.titleColor,t.font=s.string,l=0;l<o;++l)t.fillText(i[l],u.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+a,l+1===o&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,t,n,i,o){const s=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:u}=o,c=(0,r.a0)(o.bodyFont),h=mi(this,"left",o),d=i.x(h),f=l<c.lineHeight?(c.lineHeight-l)/2:0,p=t.y+f;if(o.usePointStyle){const t={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},n=i.leftForLtr(d,u)+u/2,c=p+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,(0,r.at)(e,t,n,c),e.strokeStyle=s.borderColor,e.fillStyle=s.backgroundColor,(0,r.at)(e,t,n,c)}else{e.lineWidth=(0,r.i)(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,e.strokeStyle=s.borderColor,e.setLineDash(s.borderDash||[]),e.lineDashOffset=s.borderDashOffset||0;const t=i.leftForLtr(d,u),n=i.leftForLtr(i.xPlus(d,1),u-2),a=(0,r.aw)(s.borderRadius);Object.values(a).some((e=>0!==e))?(e.beginPath(),e.fillStyle=o.multiKeyBackground,(0,r.au)(e,{x:t,y:p,w:u,h:l,radius:a}),e.fill(),e.stroke(),e.fillStyle=s.backgroundColor,e.beginPath(),(0,r.au)(e,{x:n,y:p+1,w:u-2,h:l-2,radius:a}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(t,p,u,l),e.strokeRect(t,p,u,l),e.fillStyle=s.backgroundColor,e.fillRect(n,p+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:o,bodyAlign:s,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=n,h=(0,r.a0)(n.bodyFont);let d=h.lineHeight,f=0;const p=(0,r.az)(n.rtl,this.x,this.width),m=function(n){t.fillText(n,p.x(e.x+f),e.y+d/2),e.y+=d+o},g=p.textAlign(s);let v,y,b,w,_,E,S;for(t.textAlign=s,t.textBaseline="middle",t.font=h.string,e.x=mi(this,g,n),t.fillStyle=n.bodyColor,(0,r.F)(this.beforeBody,m),f=a&&"right"!==g?"center"===s?u/2+c:u+2+c:0,w=0,E=i.length;w<E;++w){for(v=i[w],y=this.labelTextColors[w],t.fillStyle=y,(0,r.F)(v.before,m),b=v.lines,a&&b.length&&(this._drawColorBox(t,e,w,p,n),d=Math.max(h.lineHeight,l)),_=0,S=b.length;_<S;++_)m(b[_]),d=h.lineHeight;(0,r.F)(v.after,m)}f=0,d=h.lineHeight,(0,r.F)(this.afterBody,m),e.y-=o}drawFooter(e,t,n){const i=this.footer,o=i.length;let s,a;if(o){const l=(0,r.az)(n.rtl,this.x,this.width);for(e.x=mi(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=l.textAlign(n.footerAlign),t.textBaseline="middle",s=(0,r.a0)(n.footerFont),t.fillStyle=n.footerColor,t.font=s.string,a=0;a<o;++a)t.fillText(i[a],l.x(e.x),e.y+s.lineHeight/2),e.y+=s.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:o,yAlign:s}=this,{x:a,y:l}=e,{width:u,height:c}=n,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=(0,r.aw)(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+h,l),"top"===s&&this.drawCaret(e,t,n,i),t.lineTo(a+u-d,l),t.quadraticCurveTo(a+u,l,a+u,l+d),"center"===s&&"right"===o&&this.drawCaret(e,t,n,i),t.lineTo(a+u,l+c-p),t.quadraticCurveTo(a+u,l+c,a+u-p,l+c),"bottom"===s&&this.drawCaret(e,t,n,i),t.lineTo(a+f,l+c),t.quadraticCurveTo(a,l+c,a,l+c-f),"center"===s&&"left"===o&&this.drawCaret(e,t,n,i),t.lineTo(a,l+h),t.quadraticCurveTo(a,l,a+h,l),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=ri[e.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=ai(this,e),s=Object.assign({},n,this._size),a=hi(t,e,s),l=pi(e,s,a,t);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=(0,r.E)(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,i,t),(0,r.aA)(e,t.textDirection),o.y+=s.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),(0,r.aC)(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),o=!(0,r.ah)(n,i),s=this._positionChanged(i,t);(o||s)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],s=this._getActiveElements(e,o,t,n),a=this._positionChanged(s,e),l=t||!(0,r.ah)(s,o)||a;return l&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,o=ri[i.position].call(this,e,t);return!1!==o&&(n!==o.x||r!==o.y)}}var Ei={id:"tooltip",_element:_i,positioners:ri,afterInit(e,t,n){n&&(e.tooltip=new _i({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:bi},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Si=Object.freeze({__proto__:null,Colors:sr,Decimation:dr,Filler:Yr,Legend:Jr,SubTitle:ni,Title:ei,Tooltip:Ei});const Ti=(e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function Mi(e,t,n,r){const i=e.indexOf(t);if(-1===i)return Ti(e,t,n,r);const o=e.lastIndexOf(t);return i!==o?n:i}const Ci=(e,t)=>null===e?null:(0,r.S)(Math.round(e),0,t);function Ri(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class xi extends _t{static id="category";static defaults={ticks:{callback:Ri}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if((0,r.k)(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:Mi(n,e,(0,r.v)(t,e),this._addedLabels),Ci(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return Ri.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Ai(e,t){const n=[],i=1e-14,{bounds:o,step:s,min:a,max:l,precision:u,count:c,maxTicks:h,maxDigits:d,includeBounds:f}=e,p=s||1,m=h-1,{min:g,max:v}=t,y=!(0,r.k)(a),b=!(0,r.k)(l),w=!(0,r.k)(c),_=(v-g)/(d+1);let E,S,T,M,C=(0,r.aH)((v-g)/m/p)*p;if(C<i&&!y&&!b)return[{value:g},{value:v}];M=Math.ceil(v/C)-Math.floor(g/C),M>m&&(C=(0,r.aH)(M*C/m/p)*p),(0,r.k)(u)||(E=Math.pow(10,u),C=Math.ceil(C*E)/E),"ticks"===o?(S=Math.floor(g/C)*C,T=Math.ceil(v/C)*C):(S=g,T=v),y&&b&&s&&(0,r.aI)((l-a)/s,C/1e3)?(M=Math.round(Math.min((l-a)/C,h)),C=(l-a)/M,S=a,T=l):w?(S=y?a:S,T=b?l:T,M=c-1,C=(T-S)/M):(M=(T-S)/C,M=(0,r.aJ)(M,Math.round(M),C/1e3)?Math.round(M):Math.ceil(M));const R=Math.max((0,r.aK)(C),(0,r.aK)(S));E=Math.pow(10,(0,r.k)(u)?R:u),S=Math.round(S*E)/E,T=Math.round(T*E)/E;let x=0;for(y&&(f&&S!==a?(n.push({value:a}),S<a&&x++,(0,r.aJ)(Math.round((S+x*C)*E)/E,a,Ni(a,_,e))&&x++):S<a&&x++);x<M;++x){const e=Math.round((S+x*C)*E)/E;if(b&&e>l)break;n.push({value:e})}return b&&f&&T!==l?n.length&&(0,r.aJ)(n[n.length-1].value,l,Ni(l,_,e))?n[n.length-1].value=l:n.push({value:l}):b&&T!==l||n.push({value:T}),n}function Ni(e,t,{horizontal:n,minRotation:i}){const o=(0,r.t)(i),s=(n?Math.sin(o):Math.cos(o))||.001,a=.75*t*(""+e).length;return Math.min(t/s,a)}class Li extends _t{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return(0,r.k)(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const s=e=>i=t?i:e,a=e=>o=n?o:e;if(e){const e=(0,r.s)(i),t=(0,r.s)(o);e<0&&t<0?a(0):e>0&&t>0&&s(0)}if(i===o){let t=0===o?1:Math.abs(.05*o);a(o+t),e||s(i-t)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},o=this._range||this,s=Ai(i,o);return"ticks"===e.bounds&&(0,r.aG)(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return(0,r.o)(e,this.chart.options.locale,this.options.ticks.format)}}class ki extends Li{static id="linear";static defaults={ticks:{callback:r.aL.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=(0,r.g)(e)?e:0,this.max=(0,r.g)(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=(0,r.t)(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Oi=e=>Math.floor((0,r.aM)(e)),Ii=(e,t)=>Math.pow(10,Oi(e)+t);function Pi(e){const t=e/Math.pow(10,Oi(e));return 1===t}function Di(e,t,n){const r=Math.pow(10,n),i=Math.floor(e/r),o=Math.ceil(t/r);return o-i}function Fi(e,t){const n=t-e;let r=Oi(n);while(Di(e,t,r)>10)r++;while(Di(e,t,r)<10)r--;return Math.min(r,Oi(e))}function Hi(e,{min:t,max:n}){t=(0,r.O)(e.min,t);const i=[],o=Oi(t);let s=Fi(t,n),a=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),u=o>s?Math.pow(10,o):0,c=Math.round((t-u)*a)/a,h=Math.floor((t-u)/l/10)*l*10;let d=Math.floor((c-h)/Math.pow(10,s)),f=(0,r.O)(e.min,Math.round((u+h+d*Math.pow(10,s))*a)/a);while(f<n)i.push({value:f,major:Pi(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,a=s>=0?1:a),f=Math.round((u+h+d*Math.pow(10,s))*a)/a;const p=(0,r.O)(e.max,f);return i.push({value:p,major:Pi(p),significand:d}),i}class Ui extends _t{static id="logarithmic";static defaults={ticks:{callback:r.aL.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Li.prototype.parse.apply(this,[e,t]);if(0!==n)return(0,r.g)(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=(0,r.g)(e)?Math.max(0,e):null,this.max=(0,r.g)(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,r.g)(this._userMin)&&(this.min=e===Ii(this.min,0)?Ii(this.min,-1):Ii(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,o=e=>r=t?r:e;n===r&&(n<=0?(i(1),o(10)):(i(Ii(n,-1)),o(Ii(r,1)))),n<=0&&i(Ii(r,-1)),r<=0&&o(Ii(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=Hi(t,this);return"ticks"===e.bounds&&(0,r.aG)(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return void 0===e?"0":(0,r.o)(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=(0,r.aM)(e),this._valueRange=(0,r.aM)(this.max)-(0,r.aM)(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:((0,r.aM)(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Bi(e){const t=e.ticks;if(t.display&&e.display){const e=(0,r.E)(t.backdropPadding);return(0,r.v)(t.font&&t.font.size,r.d.font.size)+e.height}return 0}function ji(e,t,n){return n=(0,r.b)(n)?n:[n],{w:(0,r.aN)(e,t.string,n),h:n.length*t.lineHeight}}function Yi(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function Vi(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],o=[],s=e._pointLabels.length,a=e.options.pointLabels,l=a.centerPointLabels?r.P/s:0;for(let u=0;u<s;u++){const s=a.setContext(e.getPointLabelContext(u));o[u]=s.padding;const c=e.getPointPosition(u,e.drawingArea+o[u],l),h=(0,r.a0)(s.font),d=ji(e.ctx,h,e._pointLabels[u]);i[u]=d;const f=(0,r.ay)(e.getIndexAngle(u)+l),p=Math.round((0,r.U)(f)),m=Yi(p,c.x,d.w,0,180),g=Yi(p,c.y,d.h,90,270);Wi(n,t,f,m,g)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=$i(e,i,o)}function Wi(e,t,n,r,i){const o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;r.start<t.l?(a=(t.l-r.start)/o,e.l=Math.min(e.l,t.l-a)):r.end>t.r&&(a=(r.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/s,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function zi(e,t,n){const i=e.drawingArea,{extra:o,additionalAngle:s,padding:a,size:l}=n,u=e.getPointPosition(t,i+o+a,s),c=Math.round((0,r.U)((0,r.ay)(u.angle+r.H))),h=Xi(u.y,l.h,c),d=qi(c),f=Ki(u.x,l.w,d);return{visible:!0,x:u.x,y:h,textAlign:d,left:f,top:h,right:f+l.w,bottom:h+l.h}}function Gi(e,t){if(!t)return!0;const{left:n,top:i,right:o,bottom:s}=e,a=(0,r.C)({x:n,y:i},t)||(0,r.C)({x:n,y:s},t)||(0,r.C)({x:o,y:i},t)||(0,r.C)({x:o,y:s},t);return!a}function $i(e,t,n){const i=[],o=e._pointLabels.length,s=e.options,{centerPointLabels:a,display:l}=s.pointLabels,u={extra:Bi(s)/2,additionalAngle:a?r.P/o:0};let c;for(let r=0;r<o;r++){u.padding=n[r],u.size=t[r];const o=zi(e,r,u);i.push(o),"auto"===l&&(o.visible=Gi(o,c),o.visible&&(c=o))}return i}function qi(e){return 0===e||180===e?"center":e<180?"left":"right"}function Ki(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Xi(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function Ji(e,t,n){const{left:i,top:o,right:s,bottom:a}=n,{backdropColor:l}=t;if(!(0,r.k)(l)){const n=(0,r.aw)(t.borderRadius),u=(0,r.E)(t.backdropPadding);e.fillStyle=l;const c=i-u.left,h=o-u.top,d=s-i+u.width,f=a-o+u.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),(0,r.au)(e,{x:c,y:h,w:d,h:f,radius:n}),e.fill()):e.fillRect(c,h,d,f)}}function Qi(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let o=t-1;o>=0;o--){const t=e._pointLabelItems[o];if(!t.visible)continue;const s=i.setContext(e.getPointLabelContext(o));Ji(n,s,t);const a=(0,r.a0)(s.font),{x:l,y:u,textAlign:c}=t;(0,r.Z)(n,e._pointLabels[o],l,u+a.lineHeight/2,a,{color:s.color,textAlign:c,textBaseline:"middle"})}}function Zi(e,t,n,i){const{ctx:o}=e;if(n)o.arc(e.xCenter,e.yCenter,t,0,r.T);else{let n=e.getPointPosition(0,t);o.moveTo(n.x,n.y);for(let r=1;r<i;r++)n=e.getPointPosition(r,t),o.lineTo(n.x,n.y)}}function eo(e,t,n,r,i){const o=e.ctx,s=t.circular,{color:a,lineWidth:l}=t;!s&&!r||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),Zi(e,n,s,r),o.closePath(),o.stroke(),o.restore())}function to(e,t,n){return(0,r.j)(e,{label:n,index:t,type:"pointLabel"})}class no extends Li{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:r.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=(0,r.E)(Bi(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=(0,r.g)(e)&&!isNaN(e)?e:0,this.max=(0,r.g)(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Bi(this.options))}generateTickLabels(e){Li.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=(0,r.Q)(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?Vi(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){const t=r.T/(this._pointLabels.length||1),n=this.options.startAngle||0;return(0,r.ay)(e*t+(0,r.t)(n))}getDistanceFromCenterForValue(e){if((0,r.k)(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if((0,r.k)(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return to(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-r.H+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Zi(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:i}=t,o=this._pointLabels.length;let s,a,l;if(t.pointLabels.display&&Qi(this,o),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){a=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),s=r.setContext(n),l=i.setContext(n);eo(this,s,a,o,l)}})),n.display){for(e.save(),s=o-1;s>=0;s--){const r=n.setContext(this.getPointLabelContext(s)),{color:i,lineWidth:o}=r;o&&i&&(e.lineWidth=o,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,a=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(s,a),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,a)=>{if(0===a&&this.min>=0&&!t.reverse)return;const l=n.setContext(this.getContext(a)),u=(0,r.a0)(l.font);if(o=this.getDistanceFromCenterForValue(this.ticks[a].value),l.showLabelBackdrop){e.font=u.string,s=e.measureText(i.label).width,e.fillStyle=l.backdropColor;const t=(0,r.E)(l.backdropPadding);e.fillRect(-s/2-t.left,-o-u.size/2-t.top,s+t.width,u.size+t.height)}(0,r.Z)(e,i.label,0,-o,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})})),e.restore()}drawTitle(){}}const ro={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},io=Object.keys(ro);function oo(e,t){return e-t}function so(e,t){if((0,r.k)(t))return null;const n=e._adapter,{parser:i,round:o,isoWeekday:s}=e._parseOpts;let a=t;return"function"===typeof i&&(a=i(a)),(0,r.g)(a)||(a="string"===typeof i?n.parse(a,i):n.parse(a)),null===a?null:(o&&(a="week"!==o||!(0,r.x)(s)&&!0!==s?n.startOf(a,o):n.startOf(a,"isoWeek",s)),+a)}function ao(e,t,n,r){const i=io.length;for(let o=io.indexOf(e);o<i-1;++o){const e=ro[io[o]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return io[o]}return io[i-1]}function lo(e,t,n,r,i){for(let o=io.length-1;o>=io.indexOf(n);o--){const n=io[o];if(ro[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return io[n?io.indexOf(n):0]}function uo(e){for(let t=io.indexOf(e)+1,n=io.length;t<n;++t)if(ro[io[t]].common)return io[t]}function co(e,t,n){if(n){if(n.length){const{lo:i,hi:o}=(0,r.aP)(n,t),s=n[i]>=t?n[i]:n[o];e[s]=!0}}else e[t]=!0}function ho(e,t,n,r){const i=e._adapter,o=+i.startOf(t[0].value,r),s=t[t.length-1].value;let a,l;for(a=o;a<=s;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function fo(e,t,n){const r=[],i={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],i[a]=s,r.push({value:a,major:!1});return 0!==o&&n?ho(e,r,i,n):r}class po extends _t{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),i=this._adapter=new oe._date(e.adapters.date);i.init(t),(0,r.ab)(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:so(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:o,minDefined:s,maxDefined:a}=this.getUserBounds();function l(e){s||isNaN(e.min)||(i=Math.min(i,e.min)),a||isNaN(e.max)||(o=Math.max(o,e.max))}s&&a||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),i=(0,r.g)(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),o=(0,r.g)(o)&&!isNaN(o)?o:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,s=this.max,a=(0,r.aO)(i,o,s);return this._unit=t.unit||(n.autoSkip?ao(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):lo(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?uo(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),fo(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e=[]){let t,n,i=0,o=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),o=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const s=e.length<3?.5:.25;i=(0,r.S)(i,0,s),o=(0,r.S)(o,0,s),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,o=i.time,s=o.unit||ao(o.minUnit,t,n,this._getLabelCapacity(t)),a=(0,r.v)(i.ticks.stepSize,1),l="week"===s&&o.isoWeekday,u=(0,r.x)(l)||!0===l,c={};let h,d,f=t;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":s),e.diff(n,t,s)>1e5*a)throw new Error(t+" and "+n+" are too far apart with stepSize of "+a+" "+s);const p="data"===i.ticks.source&&this.getDataTimestamps();for(h=f,d=0;h<n;h=+e.add(h,a,s),d++)co(c,h,p);return h!==n&&"ticks"!==i.bounds&&1!==d||co(c,h,p),Object.keys(c).sort(oo).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options,r=n.time.displayFormats,i=this._unit,o=t||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,i){const o=this.options,s=o.ticks.callback;if(s)return(0,r.Q)(s,[e,t,n],this);const a=o.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],h=u&&a[u],d=n[t],f=u&&h&&d&&d.major;return this._adapter.format(e,i||(f?h:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=(0,r.t)(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),s=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*s,h:n*s+a*o}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,fo(this,[e],this._majorUnit),r),o=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(so(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return(0,r._)(e.sort(oo))}}function mo(e,t,n){let i,o,s,a,l=0,u=e.length-1;n?(t>=e[l].pos&&t<=e[u].pos&&({lo:l,hi:u}=(0,r.B)(e,"pos",t)),({pos:i,time:s}=e[l]),({pos:o,time:a}=e[u])):(t>=e[l].time&&t<=e[u].time&&({lo:l,hi:u}=(0,r.B)(e,"time",t)),({time:i,pos:s}=e[l]),({time:o,pos:a}=e[u]));const c=o-i;return c?s+(a-s)*(t-i)/c:s}class go extends po{static id="timeseries";static defaults=po.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=mo(t,this.min),this._tableRange=mo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let o,s,a,l,u;for(o=0,s=e.length;o<s;++o)l=e[o],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,s=r.length;o<s;++o)u=r[o+1],a=r[o-1],l=r[o],Math.round((u+a)/2)!==l&&i.push({time:l,pos:o/(s-1)});return i}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort(((e,t)=>e-t))}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(mo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return mo(this._table,n*this._tableRange+this._minPos,!0)}}var vo=Object.freeze({__proto__:null,CategoryScale:xi,LinearScale:ki,LogarithmicScale:Ui,RadialLinearScale:no,TimeScale:po,TimeSeriesScale:go});const yo=[ne,qn,Si,vo]},93947:function(e,t,n){"use strict";
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */
function r(e){return e+.5|0}n.d(t,{$:function(){return Wt},A:function(){return Je},B:function(){return Xe},C:function(){return Yt},D:function(){return je},E:function(){return sn},F:function(){return oe},G:function(){return Zn},H:function(){return Re},I:function(){return Yn},J:function(){return nr},K:function(){return tr},L:function(){return it},M:function(){return jn},N:function(){return Ie},O:function(){return ee},P:function(){return Ee},Q:function(){return ie},R:function(){return un},S:function(){return Ge},T:function(){return Se},U:function(){return Ue},V:function(){return Dt},W:function(){return $e},X:function(){return Ht},Y:function(){return Vt},Z:function(){return Xt},_:function(){return nt},a:function(){return ln},a0:function(){return an},a1:function(){return st},a2:function(){return at},a3:function(){return At},a4:function(){return ce},a5:function(){return ve},a6:function(){return Nt},a7:function(){return be},a8:function(){return dn},a9:function(){return hn},aA:function(){return ur},aB:function(){return lt},aC:function(){return cr},aD:function(){return jt},aE:function(){return Ye},aF:function(){return q},aG:function(){return Fe},aH:function(){return Oe},aI:function(){return De},aJ:function(){return ke},aK:function(){return Be},aL:function(){return Rt},aM:function(){return Ne},aN:function(){return Ft},aO:function(){return Qe},aP:function(){return Ke},aa:function(){return fn},ab:function(){return he},ac:function(){return K},ad:function(){return ot},ae:function(){return er},af:function(){return Ut},ag:function(){return we},ah:function(){return se},ai:function(){return _e},aj:function(){return qe},ak:function(){return nn},al:function(){return Bn},am:function(){return yr},an:function(){return mr},ao:function(){return ir},ap:function(){return or},aq:function(){return rr},ar:function(){return zt},as:function(){return Gt},at:function(){return Bt},au:function(){return Jt},av:function(){return rn},aw:function(){return on},ax:function(){return pr},ay:function(){return We},az:function(){return lr},b:function(){return J},b3:function(){return Ce},b4:function(){return xe},b5:function(){return Ae},c:function(){return gt},d:function(){return It},e:function(){return pt},f:function(){return ge},g:function(){return Z},h:function(){return ye},i:function(){return Q},j:function(){return cn},k:function(){return X},l:function(){return et},m:function(){return ne},n:function(){return re},o:function(){return Tt},p:function(){return ze},q:function(){return ut},r:function(){return rt},s:function(){return Le},t:function(){return He},u:function(){return tt},v:function(){return te},w:function(){return ct},x:function(){return Pe},y:function(){return Nn},z:function(){return Xn}});const i=(e,t,n)=>Math.max(Math.min(e,n),t);function o(e){return i(r(2.55*e),0,255)}function s(e){return i(r(255*e),0,255)}function a(e){return i(r(e/2.55)/100,0,1)}function l(e){return i(r(100*e),0,100)}const u={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},c=[..."0123456789ABCDEF"],h=e=>c[15&e],d=e=>c[(240&e)>>4]+c[15&e],f=e=>(240&e)>>4===(15&e),p=e=>f(e.r)&&f(e.g)&&f(e.b)&&f(e.a);function m(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*u[e[1]],g:255&17*u[e[2]],b:255&17*u[e[3]],a:5===n?17*u[e[4]]:255}:7!==n&&9!==n||(t={r:u[e[1]]<<4|u[e[2]],g:u[e[3]]<<4|u[e[4]],b:u[e[5]]<<4|u[e[6]],a:9===n?u[e[7]]<<4|u[e[8]]:255})),t}const g=(e,t)=>e<255?t(e):"";function v(e){var t=p(e)?h:d;return e?"#"+t(e.r)+t(e.g)+t(e.b)+g(e.a,t):void 0}const y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b(e,t,n){const r=t*Math.min(n,1-n),i=(t,i=(t+e/30)%12)=>n-r*Math.max(Math.min(i-3,9-i,1),-1);return[i(0),i(8),i(4)]}function w(e,t,n){const r=(r,i=(r+e/60)%6)=>n-n*t*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function _(e,t,n){const r=b(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function E(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function S(e){const t=255,n=e.r/t,r=e.g/t,i=e.b/t,o=Math.max(n,r,i),s=Math.min(n,r,i),a=(o+s)/2;let l,u,c;return o!==s&&(c=o-s,u=a>.5?c/(2-o-s):c/(o+s),l=E(n,r,i,c,o),l=60*l+.5),[0|l,u||0,a]}function T(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(s)}function M(e,t,n){return T(b,e,t,n)}function C(e,t,n){return T(_,e,t,n)}function R(e,t,n){return T(w,e,t,n)}function x(e){return(e%360+360)%360}function A(e){const t=y.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?o(+t[5]):s(+t[5]));const i=x(+t[2]),a=+t[3]/100,l=+t[4]/100;return n="hwb"===t[1]?C(i,a,l):"hsv"===t[1]?R(i,a,l):M(i,a,l),{r:n[0],g:n[1],b:n[2],a:r}}function N(e,t){var n=S(e);n[0]=x(n[0]+t),n=M(n),e.r=n[0],e.g=n[1],e.b=n[2]}function L(e){if(!e)return;const t=S(e),n=t[0],r=l(t[1]),i=l(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${a(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const k={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},O={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function I(){const e={},t=Object.keys(O),n=Object.keys(k);let r,i,o,s,a;for(r=0;r<t.length;r++){for(s=a=t[r],i=0;i<n.length;i++)o=n[i],a=a.replace(o,k[o]);o=parseInt(O[s],16),e[a]=[o>>16&255,o>>8&255,255&o]}return e}let P;function D(e){P||(P=I(),P.transparent=[0,0,0,0]);const t=P[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const F=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function H(e){const t=F.exec(e);let n,r,s,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?o(e):i(255*e,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?o(n):i(n,0,255)),r=255&(t[4]?o(r):i(r,0,255)),s=255&(t[6]?o(s):i(s,0,255)),{r:n,g:r,b:s,a:a}}}function U(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${a(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const B=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,j=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Y(e,t,n){const r=j(a(e.r)),i=j(a(e.g)),o=j(a(e.b));return{r:s(B(r+n*(j(a(t.r))-r))),g:s(B(i+n*(j(a(t.g))-i))),b:s(B(o+n*(j(a(t.b))-o))),a:e.a+n*(t.a-e.a)}}function V(e,t,n){if(e){let r=S(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=M(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function W(e,t){return e?Object.assign(t||{},e):e}function z(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=s(e[3]))):(t=W(e,{r:0,g:0,b:0,a:1}),t.a=s(t.a)),t}function G(e){return"r"===e.charAt(0)?H(e):A(e)}class ${constructor(e){if(e instanceof $)return e;const t=typeof e;let n;"object"===t?n=z(e):"string"===t&&(n=m(e)||D(e)||G(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=W(this._rgb);return e&&(e.a=a(e.a)),e}set rgb(e){this._rgb=z(e)}rgbString(){return this._valid?U(this._rgb):void 0}hexString(){return this._valid?v(this._rgb):void 0}hslString(){return this._valid?L(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const o=t===i?.5:t,s=2*o-1,a=n.a-r.a,l=((s*a===-1?s:(s+a)/(1+s*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=Y(this._rgb,e._rgb,t)),this}clone(){return new $(this.rgb)}alpha(e){return this._rgb.a=s(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=r(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return V(this._rgb,2,e),this}darken(e){return V(this._rgb,2,-e),this}saturate(e){return V(this._rgb,1,e),this}desaturate(e){return V(this._rgb,1,-e),this}rotate(e){return N(this._rgb,e),this}}
/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */
function q(){}const K=(()=>{let e=0;return()=>e++})();function X(e){return null===e||"undefined"===typeof e}function J(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Q(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Z(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function ee(e,t){return Z(e)?e:t}function te(e,t){return"undefined"===typeof e?t:e}const ne=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t,re=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ie(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function oe(e,t,n,r){let i,o,s;if(J(e))if(o=e.length,r)for(i=o-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<o;i++)t.call(n,e[i],i);else if(Q(e))for(s=Object.keys(e),o=s.length,i=0;i<o;i++)t.call(n,e[s[i]],s[i])}function se(e,t){let n,r,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function ae(e){if(J(e))return e.map(ae);if(Q(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=ae(e[n[i]]);return t}return e}function le(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ue(e,t,n,r){if(!le(e))return;const i=t[e],o=n[e];Q(i)&&Q(o)?ce(i,o,r):t[e]=ae(o)}function ce(e,t,n){const r=J(t)?t:[t],i=r.length;if(!Q(e))return e;n=n||{};const o=n.merger||ue;let s;for(let a=0;a<i;++a){if(s=r[a],!Q(s))continue;const t=Object.keys(s);for(let r=0,i=t.length;r<i;++r)o(t[r],e,s,n)}return e}function he(e,t){return ce(e,t,{merger:de})}function de(e,t,n){if(!le(e))return;const r=t[e],i=n[e];Q(r)&&Q(i)?he(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ae(i))}const fe={"":e=>e,x:e=>e.x,y:e=>e.y};function pe(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function me(e){const t=pe(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}function ge(e,t){const n=fe[t]||(fe[t]=me(t));return n(e)}function ve(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ye=e=>"undefined"!==typeof e,be=e=>"function"===typeof e,we=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function _e(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const Ee=Math.PI,Se=2*Ee,Te=Se+Ee,Me=Number.POSITIVE_INFINITY,Ce=Ee/180,Re=Ee/2,xe=Ee/4,Ae=2*Ee/3,Ne=Math.log10,Le=Math.sign;function ke(e,t,n){return Math.abs(e-t)<n}function Oe(e){const t=Math.round(e);e=ke(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ne(e))),r=e/n,i=r<=1?1:r<=2?2:r<=5?5:10;return i*n}function Ie(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}function Pe(e){return!isNaN(parseFloat(e))&&isFinite(e)}function De(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Fe(e,t,n){let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function He(e){return e*(Ee/180)}function Ue(e){return e*(180/Ee)}function Be(e){if(!Z(e))return;let t=1,n=0;while(Math.round(e*t)/t!==e)t*=10,n++;return n}function je(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*Ee&&(o+=Se),{angle:o,distance:i}}function Ye(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ve(e,t){return(e-t+Te)%Se-Ee}function We(e){return(e%Se+Se)%Se}function ze(e,t,n,r){const i=We(e),o=We(t),s=We(n),a=We(o-i),l=We(s-i),u=We(i-o),c=We(i-s);return i===o||i===s||r&&o===s||a>l&&u<c}function Ge(e,t,n){return Math.max(t,Math.min(n,e))}function $e(e){return Ge(e,-32768,32767)}function qe(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Ke(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,o=0;while(i-o>1)r=o+i>>1,n(r)?o=r:i=r;return{lo:o,hi:i}}const Xe=(e,t,n,r)=>Ke(e,n,r?r=>{const i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:r=>e[r][t]<n),Je=(e,t,n)=>Ke(e,n,(r=>e[r][t]>=n));function Qe(e,t,n){let r=0,i=e.length;while(r<i&&e[r]<t)r++;while(i>r&&e[i-1]>n)i--;return r>0||i<e.length?e.slice(r,i):e}const Ze=["push","pop","shift","splice","unshift"];function et(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ze.forEach((t=>{const n="_onData"+ve(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const i=r.apply(this,t);return e._chartjs.listeners.forEach((e=>{"function"===typeof e[n]&&e[n](...t)})),i}})})))}function tt(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Ze.forEach((t=>{delete e[t]})),delete e._chartjs)}function nt(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const rt=function(){return"undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame}();function it(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,rt.call(window,(()=>{r=!1,e.apply(t,n)})))}}function ot(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const st=e=>"start"===e?"left":"end"===e?"right":"center",at=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2,lt=(e,t,n,r)=>{const i=r?"left":"right";return e===i?n:"center"===e?(t+n)/2:t};function ut(e,t,n){const r=t.length;let i=0,o=r;if(e._sorted){const{iScale:s,_parsed:a}=e,l=s.axis,{min:u,max:c,minDefined:h,maxDefined:d}=s.getUserBounds();h&&(i=Ge(Math.min(Xe(a,l,u).lo,n?r:Xe(t,l,s.getPixelForValue(u)).lo),0,r-1)),o=d?Ge(Math.max(Xe(a,s.axis,c,!0).hi+1,n?0:Xe(t,l,s.getPixelForValue(c),!0).hi+1),i,r)-i:r-i}return{start:i,count:o}}function ct(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const o=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const ht=e=>0===e||1===e,dt=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Se/n),ft=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Se/n)+1,pt={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Re),easeOutSine:e=>Math.sin(e*Re),easeInOutSine:e=>-.5*(Math.cos(Ee*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ht(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ht(e)?e:dt(e,.075,.3),easeOutElastic:e=>ht(e)?e:ft(e,.075,.3),easeInOutElastic(e){const t=.1125,n=.45;return ht(e)?e:e<.5?.5*dt(2*e,t,n):.5+.5*ft(2*e-1,t,n)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-pt.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*pt.easeInBounce(2*e):.5*pt.easeOutBounce(2*e-1)+.5};function mt(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function gt(e){return mt(e)?e:new $(e)}function vt(e){return mt(e)?e:new $(e).saturate(.5).darken(.1).hexString()}const yt=["x","y","borderWidth","radius","tension"],bt=["color","borderColor","backgroundColor"];function wt(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:bt},numbers:{type:"number",properties:yt}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})}function _t(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Et=new Map;function St(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Et.get(n);return r||(r=new Intl.NumberFormat(e,t),Et.set(n,r)),r}function Tt(e,t,n){return St(t,n).format(e)}const Mt={values(e){return J(e)?e:""+e},numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,o=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),o=Ct(e,n)}const s=Ne(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Tt(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Ne(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?Mt.numeric.call(this,e,t,n):""}};function Ct(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Rt={formatters:Mt};function xt(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Rt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}const At=Object.create(null),Nt=Object.create(null);function Lt(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function kt(e,t,n){return"string"===typeof t?ce(Lt(e,t),n):ce(Lt(e,""),t)}class Ot{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>vt(t.backgroundColor),this.hoverBorderColor=(e,t)=>vt(t.borderColor),this.hoverColor=(e,t)=>vt(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return kt(this,e,t)}get(e){return Lt(this,e)}describe(e,t){return kt(Nt,e,t)}override(e,t){return kt(At,e,t)}route(e,t,n,r){const i=Lt(this,e),o=Lt(this,n),s="_"+t;Object.defineProperties(i,{[s]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=o[r];return Q(e)?Object.assign({},t,e):te(e,t)},set(e){this[s]=e}}})}apply(e){e.forEach((e=>e(this)))}}var It=new Ot({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[wt,_t,xt]);function Pt(e){return!e||X(e.size)||X(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Dt(e,t,n,r,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r}function Ft(e,t,n,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},o=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const a=n.length;let l,u,c,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||J(h)){if(J(h))for(u=0,c=h.length;u<c;u++)d=h[u],void 0===d||null===d||J(d)||(s=Dt(e,i,o,s,d))}else s=Dt(e,i,o,s,h);e.restore();const f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[o[l]];o.splice(0,f)}return s}function Ht(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function Ut(e,t){(t||e)&&(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Bt(e,t,n,r){jt(e,t,n,r,null)}function jt(e,t,n,r,i){let o,s,a,l,u,c,h,d;const f=t.pointStyle,p=t.rotation,m=t.radius;let g=(p||0)*Ce;if(f&&"object"===typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,r,i/2,m,0,0,Se):e.arc(n,r,m,0,Se),e.closePath();break;case"triangle":c=i?i/2:m,e.moveTo(n+Math.sin(g)*c,r-Math.cos(g)*m),g+=Ae,e.lineTo(n+Math.sin(g)*c,r-Math.cos(g)*m),g+=Ae,e.lineTo(n+Math.sin(g)*c,r-Math.cos(g)*m),e.closePath();break;case"rectRounded":u=.516*m,l=m-u,s=Math.cos(g+xe)*l,h=Math.cos(g+xe)*(i?i/2-u:l),a=Math.sin(g+xe)*l,d=Math.sin(g+xe)*(i?i/2-u:l),e.arc(n-h,r-a,u,g-Ee,g-Re),e.arc(n+d,r-s,u,g-Re,g),e.arc(n+h,r+a,u,g,g+Re),e.arc(n-d,r+s,u,g+Re,g+Ee),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,c=i?i/2:l,e.rect(n-c,r-l,2*c,2*l);break}g+=xe;case"rectRot":h=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-a),e.lineTo(n+d,r-s),e.lineTo(n+h,r+a),e.lineTo(n-d,r+s),e.closePath();break;case"crossRot":g+=xe;case"cross":h=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-s),e.lineTo(n-d,r+s);break;case"star":h=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-s),e.lineTo(n-d,r+s),g+=xe,h=Math.cos(g)*(i?i/2:m),s=Math.cos(g)*m,a=Math.sin(g)*m,d=Math.sin(g)*(i?i/2:m),e.moveTo(n-h,r-a),e.lineTo(n+h,r+a),e.moveTo(n+d,r-s),e.lineTo(n-d,r+s);break;case"line":s=i?i/2:Math.cos(g)*m,a=Math.sin(g)*m,e.moveTo(n-s,r-a),e.lineTo(n+s,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:m),r+Math.sin(g)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Yt(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Vt(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Wt(e){e.restore()}function zt(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Gt(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function $t(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),X(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function qt(e,t,n,r,i){if(i.strikethrough||i.underline){const o=e.measureText(r),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,u=n+o.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,c),e.lineTo(a,c),e.stroke()}}function Kt(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Xt(e,t,n,r,i,o={}){const s=J(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let l,u;for(e.save(),e.font=i.string,$t(e,o),l=0;l<s.length;++l)u=s[l],o.backdrop&&Kt(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),X(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(u,n,r,o.maxWidth)),e.fillText(u,n,r,o.maxWidth),qt(e,n,r,u,o),r+=Number(i.lineHeight);e.restore()}function Jt(e,t){const{x:n,y:r,w:i,h:o,radius:s}=t;e.arc(n+s.topLeft,r+s.topLeft,s.topLeft,1.5*Ee,Ee,!0),e.lineTo(n,r+o-s.bottomLeft),e.arc(n+s.bottomLeft,r+o-s.bottomLeft,s.bottomLeft,Ee,Re,!0),e.lineTo(n+i-s.bottomRight,r+o),e.arc(n+i-s.bottomRight,r+o-s.bottomRight,s.bottomRight,Re,0,!0),e.lineTo(n+i,r+s.topRight),e.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-Re,!0),e.lineTo(n+s.topLeft,r)}const Qt=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Zt=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function en(e,t){const n=(""+e).match(Qt);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const tn=e=>+e||0;function nn(e,t){const n={},r=Q(t),i=r?Object.keys(t):t,o=Q(e)?r?n=>te(e[n],e[t[n]]):t=>e[t]:()=>e;for(const s of i)n[s]=tn(o(s));return n}function rn(e){return nn(e,{top:"y",right:"x",bottom:"y",left:"x"})}function on(e){return nn(e,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(e){const t=rn(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function an(e,t){e=e||{},t=t||It.font;let n=te(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=te(e.style,t.style);r&&!(""+r).match(Zt)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:te(e.family,t.family),lineHeight:en(te(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:te(e.weight,t.weight),string:""};return i.string=Pt(i),i}function ln(e,t,n,r){let i,o,s,a=!0;for(i=0,o=e.length;i<o;++i)if(s=e[i],void 0!==s&&(void 0!==t&&"function"===typeof s&&(s=s(t),a=!1),void 0!==n&&J(s)&&(s=s[n%s.length],a=!1),void 0!==s))return r&&!a&&(r.cacheable=!1),s}function un(e,t,n){const{min:r,max:i}=e,o=re(t,(i-r)/2),s=(e,t)=>n&&0===e?0:e+t;return{min:s(r,-Math.abs(o)),max:s(i,o)}}function cn(e,t){return Object.assign(Object.create(e),t)}function hn(e,t=[""],n,r,i=(()=>e[0])){const o=n||e;"undefined"===typeof r&&(r=Rn("_fallback",e));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:r,_getTarget:i,override:n=>hn([n,...e],t,o,r)};return new Proxy(s,{deleteProperty(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get(n,r){return gn(n,r,(()=>Cn(r,t,e,n)))},getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(e,t){return xn(e).includes(t)},ownKeys(e){return xn(e)},set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function dn(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:fn(e,r),setContext:t=>dn(e,t,n,r),override:i=>dn(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty(t,n){return delete t[n],delete e[n],!0},get(e,t,n){return gn(e,t,(()=>vn(e,t,n)))},getOwnPropertyDescriptor(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(t,n){return Reflect.has(e,n)},ownKeys(){return Reflect.ownKeys(e)},set(t,n,r){return e[n]=r,delete t[n],!0}})}function fn(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:be(n)?n:()=>n,isIndexable:be(r)?r:()=>r}}const pn=(e,t)=>e?e+ve(t):t,mn=(e,t)=>Q(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function gn(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function vn(e,t,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:s}=e;let a=r[t];return be(a)&&s.isScriptable(t)&&(a=yn(t,a,e,n)),J(a)&&a.length&&(a=bn(t,a,e,s.isIndexable)),mn(t,a)&&(a=dn(a,i,o&&o[t],s)),a}function yn(e,t,n,r){const{_proxy:i,_context:o,_subProxy:s,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,s||r);return a.delete(e),mn(e,l)&&(l=Sn(i._scopes,i,e,l)),l}function bn(e,t,n,r){const{_proxy:i,_context:o,_subProxy:s,_descriptors:a}=n;if("undefined"!==typeof o.index&&r(e))return t[o.index%t.length];if(Q(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Sn(r,i,e,l);t.push(dn(n,o,s&&s[e],a))}}return t}function wn(e,t,n){return be(e)?e(t,n):e}const _n=(e,t)=>!0===e?t:"string"===typeof e?ge(t,e):void 0;function En(e,t,n,r,i){for(const o of t){const t=_n(n,o);if(t){e.add(t);const o=wn(t._fallback,n,i);if("undefined"!==typeof o&&o!==n&&o!==r)return o}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function Sn(e,t,n,r){const i=t._rootScopes,o=wn(t._fallback,n,r),s=[...e,...i],a=new Set;a.add(r);let l=Tn(a,s,n,o||n,r);return null!==l&&(("undefined"===typeof o||o===n||(l=Tn(a,s,o,l,r),null!==l))&&hn(Array.from(a),[""],i,o,(()=>Mn(t,n,r))))}function Tn(e,t,n,r,i){while(n)n=En(e,t,n,r,i);return n}function Mn(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return J(i)&&Q(n)?n:i||{}}function Cn(e,t,n,r){let i;for(const o of t)if(i=Rn(pn(o,e),n),"undefined"!==typeof i)return mn(e,i)?Sn(n,r,e,i):i}function Rn(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function xn(e){let t=e._keys;return t||(t=e._keys=An(e._scopes)),t}function An(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}function Nn(e,t,n,r){const{iScale:i}=e,{key:o="r"}=this._parsing,s=new Array(r);let a,l,u,c;for(a=0,l=r;a<l;++a)u=a+n,c=t[u],s[a]={r:i.parse(ge(c,o),u)};return s}const Ln=Number.EPSILON||1e-14,kn=(e,t)=>t<e.length&&!e[t].skip&&e[t],On=e=>"x"===e?"y":"x";function In(e,t,n,r){const i=e.skip?t:e,o=t,s=n.skip?t:n,a=Ye(o,i),l=Ye(s,o);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const h=r*u,d=r*c;return{previous:{x:o.x-h*(s.x-i.x),y:o.y-h*(s.y-i.y)},next:{x:o.x+d*(s.x-i.x),y:o.y+d*(s.y-i.y)}}}function Pn(e,t,n){const r=e.length;let i,o,s,a,l,u=kn(e,0);for(let c=0;c<r-1;++c)l=u,u=kn(e,c+1),l&&u&&(ke(t[c],0,Ln)?n[c]=n[c+1]=0:(i=n[c]/t[c],o=n[c+1]/t[c],a=Math.pow(i,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),n[c]=i*s*t[c],n[c+1]=o*s*t[c])))}function Dn(e,t,n="x"){const r=On(n),i=e.length;let o,s,a,l=kn(e,0);for(let u=0;u<i;++u){if(s=a,a=l,l=kn(e,u+1),!a)continue;const i=a[n],c=a[r];s&&(o=(i-s[n])/3,a[`cp1${n}`]=i-o,a[`cp1${r}`]=c-o*t[u]),l&&(o=(l[n]-i)/3,a[`cp2${n}`]=i+o,a[`cp2${r}`]=c+o*t[u])}}function Fn(e,t="x"){const n=On(t),r=e.length,i=Array(r).fill(0),o=Array(r);let s,a,l,u=kn(e,0);for(s=0;s<r;++s)if(a=l,l=u,u=kn(e,s+1),l){if(u){const e=u[t]-l[t];i[s]=0!==e?(u[n]-l[n])/e:0}o[s]=a?u?Le(i[s-1])!==Le(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}Pn(e,i,o),Dn(e,o,t)}function Hn(e,t,n){return Math.max(Math.min(e,n),t)}function Un(e,t){let n,r,i,o,s,a=Yt(e[0],t);for(n=0,r=e.length;n<r;++n)s=o,o=a,a=n<r-1&&Yt(e[n+1],t),o&&(i=e[n],s&&(i.cp1x=Hn(i.cp1x,t.left,t.right),i.cp1y=Hn(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Hn(i.cp2x,t.left,t.right),i.cp2y=Hn(i.cp2y,t.top,t.bottom)))}function Bn(e,t,n,r,i){let o,s,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Fn(e,i);else{let n=r?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=In(n,a,e[Math.min(o+1,s-(r?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&Un(e,n)}function jn(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Yn(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Vn(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const Wn=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function zn(e,t){return Wn(e).getPropertyValue(t)}const Gn=["top","right","bottom","left"];function $n(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=Gn[i];r[o]=parseFloat(e[t+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const qn=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function Kn(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:o}=r;let s,a,l=!1;if(qn(i,o,e.target))s=i,a=o;else{const e=t.getBoundingClientRect();s=r.clientX-e.left,a=r.clientY-e.top,l=!0}return{x:s,y:a,box:l}}function Xn(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Wn(n),o="border-box"===i.boxSizing,s=$n(i,"padding"),a=$n(i,"border","width"),{x:l,y:u,box:c}=Kn(e,n),h=s.left+(c&&a.left),d=s.top+(c&&a.top);let{width:f,height:p}=t;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((u-d)/p*n.height/r)}}function Jn(e,t,n){let r,i;if(void 0===t||void 0===n){const o=e&&Yn(e);if(o){const e=o.getBoundingClientRect(),s=Wn(o),a=$n(s,"border","width"),l=$n(s,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,r=Vn(s.maxWidth,o,"clientWidth"),i=Vn(s.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Me,maxHeight:i||Me}}const Qn=e=>Math.round(10*e)/10;function Zn(e,t,n,r){const i=Wn(e),o=$n(i,"margin"),s=Vn(i.maxWidth,e,"clientWidth")||Me,a=Vn(i.maxHeight,e,"clientHeight")||Me,l=Jn(e,t,n);let{width:u,height:c}=l;if("content-box"===i.boxSizing){const e=$n(i,"border","width"),t=$n(i,"padding");u-=t.width+e.width,c-=t.height+e.height}u=Math.max(0,u-o.width),c=Math.max(0,r?u/r:c-o.height),u=Qn(Math.min(u,s,l.maxWidth)),c=Qn(Math.min(c,a,l.maxHeight)),u&&!c&&(c=Qn(u/2));const h=void 0!==t||void 0!==n;return h&&r&&l.height&&c>l.height&&(c=l.height,u=Qn(Math.floor(c*r))),{width:u,height:c}}function er(e,t,n){const r=t||1,i=Math.floor(e.height*r),o=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||s.height!==i||s.width!==o)&&(e.currentDevicePixelRatio=r,s.height=i,s.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0)}const tr=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};jn()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(t){}return e}();function nr(e,t){const n=zn(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function rr(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function ir(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function or(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},s=rr(e,i,n),a=rr(i,o,n),l=rr(o,t,n),u=rr(s,a,n),c=rr(a,l,n);return rr(u,c,n)}const sr=function(e,t){return{x(n){return e+e+t-n},setWidth(e){t=e},textAlign(e){return"center"===e?e:"right"===e?"left":"right"},xPlus(e,t){return e-t},leftForLtr(e,t){return e-t}}},ar=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function lr(e,t,n){return e?sr(t,n):ar()}function ur(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function cr(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function hr(e){return"angle"===e?{between:ze,compare:Ve,normalize:We}:{between:qe,compare:(e,t)=>e-t,normalize:e=>e}}function dr({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function fr(e,t,n){const{property:r,start:i,end:o}=n,{between:s,normalize:a}=hr(r),l=t.length;let u,c,{start:h,end:d,loop:f}=e;if(f){for(h+=l,d+=l,u=0,c=l;u<c;++u){if(!s(a(t[h%l][r]),i,o))break;h--,d--}h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:e.style}}function pr(e,t,n){if(!n)return[e];const{property:r,start:i,end:o}=n,s=t.length,{compare:a,between:l,normalize:u}=hr(r),{start:c,end:h,loop:d,style:f}=fr(e,t,n),p=[];let m,g,v,y=!1,b=null;const w=()=>l(i,v,m)&&0!==a(i,v),_=()=>0===a(o,m)||l(o,v,m),E=()=>y||w(),S=()=>!y||_();for(let T=c,M=c;T<=h;++T)g=t[T%s],g.skip||(m=u(g[r]),m!==v&&(y=l(m,i,o),null===b&&E()&&(b=0===a(m,i)?T:M),null!==b&&S()&&(p.push(dr({start:b,end:T,loop:d,count:s,style:f})),b=null),M=T,v=m));return null!==b&&p.push(dr({start:b,end:h,loop:d,count:s,style:f})),p}function mr(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const o=pr(r[i],e.points,t);o.length&&n.push(...o)}return n}function gr(e,t,n,r){let i=0,o=t-1;if(n&&!r)while(i<t&&!e[i].skip)i++;while(i<t&&e[i].skip)i++;i%=t,n&&(o+=i);while(o>i&&e[o%t].skip)o--;return o%=t,{start:i,end:o}}function vr(e,t,n,r){const i=e.length,o=[];let s,a=t,l=e[t];for(s=t+1;s<=n;++s){const n=e[s%i];n.skip||n.stop?l.skip||(r=!1,o.push({start:t%i,end:(s-1)%i,loop:r}),t=a=n.stop?s:null):(a=s,l.skip&&(t=s)),l=n}return null!==a&&o.push({start:t%i,end:a%i,loop:r}),o}function yr(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const o=!!e._loop,{start:s,end:a}=gr(n,i,o,r);if(!0===r)return br(e,[{start:s,end:a,loop:o}],n,t);const l=a<s?a+i:a,u=!!e._fullLoop&&0===s&&a===i-1;return br(e,vr(n,s,l,u),n,t)}function br(e,t,n,r){return r&&r.setContext&&n?wr(e,t,n,r):t}function wr(e,t,n,r){const i=e._chart.getContext(),o=_r(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=n.length,u=[];let c=o,h=t[0].start,d=h;function f(e,t,r,i){const o=a?-1:1;if(e!==t){e+=l;while(n[e%l].skip)e-=o;while(n[t%l].skip)t+=o;e%l!==t%l&&(u.push({start:e%l,end:t%l,loop:r,style:i}),c=i,h=t%l)}}for(const p of t){h=a?h:p.start;let e,t=n[h%l];for(d=h+1;d<=p.end;d++){const o=n[d%l];e=_r(r.setContext(cn(i,{type:"segment",p0:t,p1:o,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),Er(e,c)&&f(h,d-1,p.loop,c),t=o,c=e}h<d-1&&f(h,d-1,p.loop,c)}return u}function _r(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Er(e,t){if(!t)return!1;const n=[],r=function(e,t){return mt(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}},93031:function(e,t,n){"use strict";n.d(t,{A:function(){return an}});var r=n(12217),i=n(93947);
/*!
* chartjs-plugin-annotation v3.1.0
* https://www.chartjs.org/chartjs-plugin-annotation/index
 * (c) 2024 chartjs-plugin-annotation Contributors
 * Released under the MIT License
 */
const o={modes:{point(e,t){return u(e,t,{intersect:!0})},nearest(e,t,n){return c(e,t,n)},x(e,t,n){return u(e,t,{intersect:n.intersect,axis:"x"})},y(e,t,n){return u(e,t,{intersect:n.intersect,axis:"y"})}}};function s(e,t,n){const r=o.modes[n.mode]||o.modes.nearest;return r(e,t,n)}function a(e,t,n){return"x"!==n&&"y"!==n?e.inRange(t.x,t.y,"x",!0)||e.inRange(t.x,t.y,"y",!0):e.inRange(t.x,t.y,n,!0)}function l(e,t,n){return"x"===n?{x:e.x,y:t.y}:"y"===n?{x:t.x,y:e.y}:t}function u(e,t,n){return e.filter((e=>n.intersect?e.inRange(t.x,t.y):a(e,t,n.axis)))}function c(e,t,n){let r=Number.POSITIVE_INFINITY;return u(e,t,n).reduce(((e,o)=>{const s=o.getCenterPoint(),a=l(t,s,n.axis),u=(0,i.aE)(t,a);return u<r?(e=[o],r=u):u===r&&e.push(o),e}),[]).sort(((e,t)=>e._index-t._index)).slice(0,1)}function h(e,t,n){const r=Math.cos(n),i=Math.sin(n),o=t.x,s=t.y;return{x:o+r*(e.x-o)-i*(e.y-s),y:s+i*(e.x-o)+r*(e.y-s)}}const d=(e,t)=>t>e||e.length>t.length&&e.slice(0,t.length)===t,f=.001,p=(e,t,n)=>Math.min(n,Math.max(t,e)),m=(e,t)=>e.value>=e.start-t&&e.value<=e.end+t;function g(e,t,n){for(const r of Object.keys(e))e[r]=p(e[r],t,n);return e}function v(e,t,n,r){return!(!e||!t||n<=0)&&Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n+r,2)}function y(e,{x:t,y:n,x2:r,y2:i},o,{borderWidth:s,hitTolerance:a}){const l=(s+a)/2,u=e.x>=t-l-f&&e.x<=r+l+f,c=e.y>=n-l-f&&e.y<=i+l+f;return"x"===o?u:("y"===o||u)&&c}function b(e,{rect:t,center:n},r,{rotation:o,borderWidth:s,hitTolerance:a}){const l=h(e,n,(0,i.t)(-o));return y(l,t,r,{borderWidth:s,hitTolerance:a})}function w(e,t){const{centerX:n,centerY:r}=e.getProps(["centerX","centerY"],t);return{x:n,y:r}}function _(e,t,n,r=!0){const i=n.split(".");let o=0;for(const s of t.split(".")){const a=i[o++];if(parseInt(s,10)<parseInt(a,10))break;if(d(a,s)){if(r)throw new Error(`${e} v${n} is not supported. v${t} or newer is required.`);return!1}}return!0}const E=e=>"string"===typeof e&&e.endsWith("%"),S=e=>parseFloat(e)/100,T=e=>p(S(e),0,1),M=(e,t)=>({x:e,y:t,x2:e,y2:t,width:0,height:0}),C={box:e=>M(e.centerX,e.centerY),doughnutLabel:e=>M(e.centerX,e.centerY),ellipse:e=>({centerX:e.centerX,centerY:e.centerX,radius:0,width:0,height:0}),label:e=>M(e.centerX,e.centerY),line:e=>M(e.x,e.y),point:e=>({centerX:e.centerX,centerY:e.centerY,radius:0,width:0,height:0}),polygon:e=>M(e.centerX,e.centerY)};function R(e,t){return"start"===t?0:"end"===t?e:E(t)?T(t)*e:e/2}function x(e,t,n=!0){return"number"===typeof t?t:E(t)?(n?T(t):S(t))*e:e}function A(e,t){const{x:n,width:r}=e,i=t.textAlign;return"center"===i?n+r/2:"end"===i||"right"===i?n+r:n}function N(e,t,{borderWidth:n,position:r,xAdjust:o,yAdjust:s},a){const l=(0,i.i)(a),u=t.width+(l?a.width:0)+n,c=t.height+(l?a.height:0)+n,h=L(r),d=P(e.x,u,o,h.x),f=P(e.y,c,s,h.y);return{x:d,y:f,x2:d+u,y2:f+c,width:u,height:c,centerX:d+u/2,centerY:f+c/2}}function L(e,t="center"){return(0,i.i)(e)?{x:(0,i.v)(e.x,t),y:(0,i.v)(e.y,t)}:(e=(0,i.v)(e,t),{x:e,y:e})}const k=(e,t)=>e&&e.autoFit&&t<1;function O(e,t){const n=e.font,r=(0,i.b)(n)?n:[n];return k(e,t)?r.map((function(e){const n=(0,i.a0)(e);return n.size=Math.floor(e.size*t),n.lineHeight=e.lineHeight,(0,i.a0)(n)})):r.map((e=>(0,i.a0)(e)))}function I(e){return e&&((0,i.h)(e.xValue)||(0,i.h)(e.yValue))}function P(e,t,n=0,r){return e-R(t,r)+n}function D(e,t,n){const r=n.init;if(r)return!0===r?H(t,n):U(e,t,n)}function F(e,t,n){let r=!1;return t.forEach((t=>{(0,i.a7)(e[t])?(r=!0,n[t]=e[t]):(0,i.h)(n[t])&&delete n[t]})),r}function H(e,t){const n=t.type||"line";return C[n](e)}function U(e,t,n){const r=(0,i.Q)(n.init,[{chart:e,properties:t,options:n}]);return!0===r?H(t,n):(0,i.i)(r)?r:void 0}const B=new Map,j=e=>isNaN(e)||e<=0,Y=e=>e.reduce((function(e,t){return e+=t.string,e}),"");function V(e){if(e&&"object"===typeof e){const t=e.toString();return"[object HTMLImageElement]"===t||"[object HTMLCanvasElement]"===t}}function W(e,{x:t,y:n},r){r&&(e.translate(t,n),e.rotate((0,i.t)(r)),e.translate(-t,-n))}function z(e,t){if(t&&t.borderWidth)return e.lineCap=t.borderCapStyle||"butt",e.setLineDash(t.borderDash),e.lineDashOffset=t.borderDashOffset,e.lineJoin=t.borderJoinStyle||"miter",e.lineWidth=t.borderWidth,e.strokeStyle=t.borderColor,!0}function G(e,t){e.shadowColor=t.backgroundShadowColor,e.shadowBlur=t.shadowBlur,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY}function $(e,t){const n=t.content;if(V(n)){const e={width:x(n.width,t.width),height:x(n.height,t.height)};return e}const r=O(t),o=t.textStrokeWidth,s=(0,i.b)(n)?n:[n],a=s.join()+Y(r)+o+(e._measureText?"-spriting":"");return B.has(a)||B.set(a,Z(e,s,r,o)),B.get(a)}function q(e,t,n){const{x:r,y:o,width:s,height:a}=t;e.save(),G(e,n);const l=z(e,n);e.fillStyle=n.backgroundColor,e.beginPath(),(0,i.au)(e,{x:r,y:o,w:s,h:a,radius:g((0,i.aw)(n.borderRadius),0,Math.min(s,a)/2)}),e.closePath(),e.fill(),l&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}function K(e,t,n,r){const o=n.content;if(V(o))return e.save(),e.globalAlpha=ne(n.opacity,o.style.opacity),e.drawImage(o,t.x,t.y,t.width,t.height),void e.restore();const s=(0,i.b)(o)?o:[o],a=O(n,r),l=n.color,u=(0,i.b)(l)?l:[l],c=A(t,n),h=t.y+n.textStrokeWidth/2;e.save(),e.textBaseline="middle",e.textAlign=n.textAlign,X(e,n)&&ee(e,{x:c,y:h},s,a),te(e,{x:c,y:h},s,{fonts:a,colors:u}),e.restore()}function X(e,t){if(t.textStrokeWidth>0)return e.lineJoin="round",e.miterLimit=2,e.lineWidth=t.textStrokeWidth,e.strokeStyle=t.textStrokeColor,!0}function J(e,t,n,r){const{radius:o,options:s}=t,a=s.pointStyle,l=s.rotation;let u=(l||0)*i.b3;if(V(a))return e.save(),e.translate(n,r),e.rotate(u),e.drawImage(a,-a.width/2,-a.height/2,a.width,a.height),void e.restore();j(o)||Q(e,{x:n,y:r,radius:o,rotation:l,style:a,rad:u})}function Q(e,{x:t,y:n,radius:r,rotation:o,style:s,rad:a}){let l,u,c,h;switch(e.beginPath(),s){default:e.arc(t,n,r,0,i.T),e.closePath();break;case"triangle":e.moveTo(t+Math.sin(a)*r,n-Math.cos(a)*r),a+=i.b5,e.lineTo(t+Math.sin(a)*r,n-Math.cos(a)*r),a+=i.b5,e.lineTo(t+Math.sin(a)*r,n-Math.cos(a)*r),e.closePath();break;case"rectRounded":h=.516*r,c=r-h,l=Math.cos(a+i.b4)*c,u=Math.sin(a+i.b4)*c,e.arc(t-l,n-u,h,a-i.P,a-i.H),e.arc(t+u,n-l,h,a-i.H,a),e.arc(t+l,n+u,h,a,a+i.H),e.arc(t-u,n+l,h,a+i.H,a+i.P),e.closePath();break;case"rect":if(!o){c=Math.SQRT1_2*r,e.rect(t-c,n-c,2*c,2*c);break}a+=i.b4;case"rectRot":l=Math.cos(a)*r,u=Math.sin(a)*r,e.moveTo(t-l,n-u),e.lineTo(t+u,n-l),e.lineTo(t+l,n+u),e.lineTo(t-u,n+l),e.closePath();break;case"crossRot":a+=i.b4;case"cross":l=Math.cos(a)*r,u=Math.sin(a)*r,e.moveTo(t-l,n-u),e.lineTo(t+l,n+u),e.moveTo(t+u,n-l),e.lineTo(t-u,n+l);break;case"star":l=Math.cos(a)*r,u=Math.sin(a)*r,e.moveTo(t-l,n-u),e.lineTo(t+l,n+u),e.moveTo(t+u,n-l),e.lineTo(t-u,n+l),a+=i.b4,l=Math.cos(a)*r,u=Math.sin(a)*r,e.moveTo(t-l,n-u),e.lineTo(t+l,n+u),e.moveTo(t+u,n-l),e.lineTo(t-u,n+l);break;case"line":l=Math.cos(a)*r,u=Math.sin(a)*r,e.moveTo(t-l,n-u),e.lineTo(t+l,n+u);break;case"dash":e.moveTo(t,n),e.lineTo(t+Math.cos(a)*r,n+Math.sin(a)*r);break}e.fill()}function Z(e,t,n,r){e.save();const i=t.length;let o=0,s=r;for(let a=0;a<i;a++){const i=n[Math.min(a,n.length-1)];e.font=i.string;const l=t[a];o=Math.max(o,e.measureText(l).width+r),s+=i.lineHeight}return e.restore(),{width:o,height:s}}function ee(e,{x:t,y:n},r,i){e.beginPath();let o=0;r.forEach((function(r,s){const a=i[Math.min(s,i.length-1)],l=a.lineHeight;e.font=a.string,e.strokeText(r,t,n+l/2+o),o+=l})),e.stroke()}function te(e,{x:t,y:n},r,{fonts:i,colors:o}){let s=0;r.forEach((function(r,a){const l=o[Math.min(a,o.length-1)],u=i[Math.min(a,i.length-1)],c=u.lineHeight;e.beginPath(),e.font=u.string,e.fillStyle=l,e.fillText(r,t,n+c/2+s),s+=c,e.fill()}))}function ne(e,t){const n=(0,i.x)(e)?e:t;return(0,i.x)(n)?p(n,0,1):1}const re=["left","bottom","top","right"];function ie(e,t){const{pointX:n,pointY:r,options:o}=t,s=o.callout,a=s&&s.display&&ue(t,s);if(!a||he(t,s,a))return;e.save(),e.beginPath();const l=z(e,s);if(!l)return e.restore();const{separatorStart:u,separatorEnd:c}=oe(t,a),{sideStart:d,sideEnd:f}=ae(t,a,u);(s.margin>0||0===o.borderWidth)&&(e.moveTo(u.x,u.y),e.lineTo(c.x,c.y)),e.moveTo(d.x,d.y),e.lineTo(f.x,f.y);const p=h({x:n,y:r},t.getCenterPoint(),(0,i.t)(-t.rotation));e.lineTo(p.x,p.y),e.stroke(),e.restore()}function oe(e,t){const{x:n,y:r,x2:i,y2:o}=e,s=se(e,t);let a,l;return"left"===t||"right"===t?(a={x:n+s,y:r},l={x:a.x,y:o}):(a={x:n,y:r+s},l={x:i,y:a.y}),{separatorStart:a,separatorEnd:l}}function se(e,t){const{width:n,height:r,options:i}=e,o=i.callout.margin+i.borderWidth/2;return"right"===t?n+o:"bottom"===t?r+o:-o}function ae(e,t,n){const{y:r,width:i,height:o,options:s}=e,a=s.callout.start,l=le(t,s.callout);let u,c;return"left"===t||"right"===t?(u={x:n.x,y:r+x(o,a)},c={x:u.x+l,y:u.y}):(u={x:n.x+x(i,a),y:n.y},c={x:u.x,y:u.y+l}),{sideStart:u,sideEnd:c}}function le(e,t){const n=t.side;return"left"===e||"top"===e?-n:n}function ue(e,t){const n=t.position;return re.includes(n)?n:ce(e,t)}function ce(e,t){const{x:n,y:r,x2:o,y2:s,width:a,height:l,pointX:u,pointY:c,centerX:d,centerY:f,rotation:p}=e,m={x:d,y:f},g=t.start,v=x(a,g),y=x(l,g),b=[n,n+v,n+v,o],w=[r+y,s,r,s],_=[];for(let E=0;E<4;E++){const e=h({x:b[E],y:w[E]},m,(0,i.t)(p));_.push({position:re[E],distance:(0,i.aE)(e,{x:u,y:c})})}return _.sort(((e,t)=>e.distance-t.distance))[0].position}function he(e,t,n){const{pointX:r,pointY:i}=e,o=t.margin;let s=r,a=i;return"left"===n?s+=o:"right"===n?s-=o:"top"===n?a+=o:"bottom"===n&&(a-=o),e.inRange(s,a)}const de={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function fe(e,t,n){return t="number"===typeof t?t:e.parse(t),(0,i.g)(t)?e.getPixelForValue(t):n}function pe(e,t,n){const r=t[n];if(r||"scaleID"===n)return r;const i=n.charAt(0),o=Object.values(e).filter((e=>e.axis&&e.axis===i));return o.length?o[0].id:i}function me(e,t){if(e){const n=e.options.reverse,r=fe(e,t.min,n?t.end:t.start),i=fe(e,t.max,n?t.start:t.end);return{start:r,end:i}}}function ge(e,t){const{chartArea:n,scales:r}=e,i=r[pe(r,t,"xScaleID")],o=r[pe(r,t,"yScaleID")];let s=n.width/2,a=n.height/2;return i&&(s=fe(i,t.xValue,i.left+i.width/2)),o&&(a=fe(o,t.yValue,o.top+o.height/2)),{x:s,y:a}}function ve(e,t){const n=e.scales,r=n[pe(n,t,"xScaleID")],i=n[pe(n,t,"yScaleID")];if(!r&&!i)return{};let{left:o,right:s}=r||e.chartArea,{top:a,bottom:l}=i||e.chartArea;const u=Ee(r,{min:t.xMin,max:t.xMax,start:o,end:s});o=u.start,s=u.end;const c=Ee(i,{min:t.yMin,max:t.yMax,start:l,end:a});return a=c.start,l=c.end,{x:o,y:a,x2:s,y2:l,width:s-o,height:l-a,centerX:o+(s-o)/2,centerY:a+(l-a)/2}}function ye(e,t){if(!I(t)){const n=ve(e,t);let r=t.radius;r&&!isNaN(r)||(r=Math.min(n.width,n.height)/2,t.radius=r);const i=2*r,o=n.centerX+t.xAdjust,s=n.centerY+t.yAdjust;return{x:o-r,y:s-r,x2:o+r,y2:s+r,centerX:o,centerY:s,width:i,height:i,radius:r}}return _e(e,t)}function be(e,t){const{scales:n,chartArea:r}=e,i=n[t.scaleID],o={x:r.left,y:r.top,x2:r.right,y2:r.bottom};return i?Se(i,o,t):Te(n,o,t),o}function we(e,t){const n=ve(e,t);return n.initProperties=D(e,n,t),n.elements=[{type:"label",optionScope:"label",properties:xe(e,n,t),initProperties:n.initProperties}],n}function _e(e,t){const n=ge(e,t),r=2*t.radius;return{x:n.x-t.radius+t.xAdjust,y:n.y-t.radius+t.yAdjust,x2:n.x+t.radius+t.xAdjust,y2:n.y+t.radius+t.yAdjust,centerX:n.x+t.xAdjust,centerY:n.y+t.yAdjust,radius:t.radius,width:r,height:r}}function Ee(e,t){const n=me(e,t)||t;return{start:Math.min(n.start,n.end),end:Math.max(n.start,n.end)}}function Se(e,t,n){const r=fe(e,n.value,NaN),i=fe(e,n.endValue,r);e.isHorizontal()?(t.x=r,t.x2=i):(t.y=r,t.y2=i)}function Te(e,t,n){for(const r of Object.keys(de)){const i=e[pe(e,n,r)];if(i){const{min:e,max:o,start:s,end:a,startProp:l,endProp:u}=de[r],c=me(i,{min:n[e],max:n[o],start:i[s],end:i[a]});t[l]=c.start,t[u]=c.end}}}function Me({properties:e,options:t},n,r,i){const{x:o,x2:s,width:a}=e;return Re({start:o,end:s,size:a,borderWidth:t.borderWidth},{position:r.x,padding:{start:i.left,end:i.right},adjust:t.label.xAdjust,size:n.width})}function Ce({properties:e,options:t},n,r,i){const{y:o,y2:s,height:a}=e;return Re({start:o,end:s,size:a,borderWidth:t.borderWidth},{position:r.y,padding:{start:i.top,end:i.bottom},adjust:t.label.yAdjust,size:n.height})}function Re(e,t){const{start:n,end:r,borderWidth:i}=e,{position:o,padding:{start:s,end:a},adjust:l}=t,u=r-i-n-s-a-t.size;return n+i/2+l+R(u,o)}function xe(e,t,n){const r=n.label;r.backgroundColor="transparent",r.callout.display=!1;const o=L(r.position),s=(0,i.E)(r.padding),a=$(e.ctx,r),l=Me({properties:t,options:n},a,o,s),u=Ce({properties:t,options:n},a,o,s),c=a.width+s.width,h=a.height+s.height;return{x:l,y:u,x2:l+c,y2:u+h,width:c,height:h,centerX:l+c/2,centerY:u+h/2,rotation:r.rotation}}const Ae=["enter","leave"],Ne=Ae.concat("click");function Le(e,t,n){t.listened=F(n,Ne,t.listeners),t.moveListened=!1,Ae.forEach((e=>{(0,i.a7)(n[e])&&(t.moveListened=!0)})),t.listened&&t.moveListened||t.annotations.forEach((e=>{!t.listened&&(0,i.a7)(e.click)&&(t.listened=!0),t.moveListened||Ae.forEach((n=>{(0,i.a7)(e[n])&&(t.listened=!0,t.moveListened=!0)}))}))}function ke(e,t,n){if(e.listened)switch(t.type){case"mousemove":case"mouseout":return Oe(e,t,n);case"click":return Pe(e,t,n)}}function Oe(e,t,n){if(!e.moveListened)return;let r;r="mousemove"===t.type?s(e.visibleElements,t,n.interaction):[];const i=e.hovered;e.hovered=r;const o={state:e,event:t};let a=Ie(o,"leave",i,r);return Ie(o,"enter",r,i)||a}function Ie({state:e,event:t},n,r,i){let o;for(const s of r)i.indexOf(s)<0&&(o=De(s.options[n]||e.listeners[n],s,t)||o);return o}function Pe(e,t,n){const r=e.listeners,i=s(e.visibleElements,t,n.interaction);let o;for(const s of i)o=De(s.options.click||r.click,s,t)||o;return o}function De(e,t,n){return!0===(0,i.Q)(e,[t.$context,n])}const Fe=["afterDraw","beforeDraw"];function He(e,t,n){const r=t.visibleElements;t.hooked=F(n,Fe,t.hooks),t.hooked||r.forEach((e=>{t.hooked||Fe.forEach((n=>{(0,i.a7)(e.options[n])&&(t.hooked=!0)}))}))}function Ue(e,t,n){if(e.hooked){const r=t.options[n]||e.hooks[n];return(0,i.Q)(r,[t.$context])}}function Be(e,t,n){const r=Ge(e.scales,t,n);let o=Ye(t,r,"min","suggestedMin");o=Ye(t,r,"max","suggestedMax")||o,o&&(0,i.a7)(t.handleTickRangeOptions)&&t.handleTickRangeOptions()}function je(e,t){for(const n of e)We(n,t)}function Ye(e,t,n,r){if((0,i.g)(t[n])&&!Ve(e.options,n,r)){const r=e[n]!==t[n];return e[n]=t[n],r}}function Ve(e,t,n){return(0,i.h)(e[t])||(0,i.h)(e[n])}function We(e,t){for(const n of["scaleID","xScaleID","yScaleID"]){const r=pe(t,e,n);r&&!t[r]&&ze(e,n)&&console.warn(`No scale found with id '${r}' for annotation '${e.id}'`)}}function ze(e,t){if("scaleID"===t)return!0;const n=t.charAt(0);for(const r of["Min","Max","Value"])if((0,i.h)(e[n+r]))return!0;return!1}function Ge(e,t,n){const r=t.axis,o=t.id,s=r+"ScaleID",a={min:(0,i.v)(t.min,Number.NEGATIVE_INFINITY),max:(0,i.v)(t.max,Number.POSITIVE_INFINITY)};for(const i of n)i.scaleID===o?$e(i,t,["value","endValue"],a):pe(e,i,s)===o&&$e(i,t,[r+"Min",r+"Max",r+"Value"],a);return a}function $e(e,t,n,r){for(const o of n){const n=e[o];if((0,i.h)(n)){const e=t.parse(n);r.min=Math.min(r.min,e),r.max=Math.max(r.max,e)}}}class qe extends r.Hg{inRange(e,t,n,r){const{x:o,y:s}=h({x:e,y:t},this.getCenterPoint(r),(0,i.t)(-this.options.rotation));return y({x:o,y:s},this.getProps(["x","y","x2","y2"],r),n,this.options)}getCenterPoint(e){return w(this,e)}draw(e){e.save(),W(e,this.getCenterPoint(),this.options.rotation),q(e,this,this.options),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return we(e,t)}}qe.id="boxAnnotation",qe.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},qe.defaultRoutes={borderColor:"color",backgroundColor:"color"},qe.descriptors={label:{_fallback:!0}};class Ke extends r.Hg{inRange(e,t,n,r){return b({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},n,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return w(this,e)}draw(e){const t=this.options;t.display&&t.content&&(tt(e,this),e.save(),W(e,this.getCenterPoint(),this.rotation),K(e,this,t,this._fitRatio),e.restore())}resolveElementProperties(e,t){const n=Xe(e,t);if(!n)return{};const{controllerMeta:r,point:i,radius:o}=Qe(e,t,n);let s=$(e.ctx,t);const a=Ze(s,o);k(t,a)&&(s={width:s.width*a,height:s.height*a});const{position:l,xAdjust:u,yAdjust:c}=t,h=N(i,s,{borderWidth:0,position:l,xAdjust:u,yAdjust:c});return{initProperties:D(e,h,t),...h,...r,rotation:t.rotation,_fitRatio:a}}}function Xe(e,t){return e.getSortedVisibleDatasetMetas().reduce((function(n,i){const o=i.controller;return o instanceof r.ju&&Je(e,t,i.data)&&(!n||o.innerRadius<n.controller.innerRadius)&&o.options.circumference>=90?i:n}),void 0)}function Je(e,t,n){if(!t.autoHide)return!0;for(let r=0;r<n.length;r++)if(!n[r].hidden&&e.getDataVisibility(r))return!0}function Qe({chartArea:e},t,n){const{left:r,top:i,right:o,bottom:s}=e,{innerRadius:a,offsetX:l,offsetY:u}=n.controller,c=(r+o)/2+l,h=(i+s)/2+u,d={left:Math.max(c-a,r),right:Math.min(c+a,o),top:Math.max(h-a,i),bottom:Math.min(h+a,s)},f={x:(d.left+d.right)/2,y:(d.top+d.bottom)/2},p=t.spacing+t.borderWidth/2,m=a-p,g=f.y>h,v=g?i+p:s-p,y=et(v,c,h,m),b={_centerX:c,_centerY:h,_radius:m,_counterclockwise:g,...y};return{controllerMeta:b,point:f,radius:Math.min(a,Math.min(d.right-d.left,d.bottom-d.top)/2)}}function Ze({width:e,height:t},n){const r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2));return 2*n/r}function et(e,t,n,r){const o=Math.pow(n-e,2),s=Math.pow(r,2),a=-2*t,l=Math.pow(t,2)+o-s,u=Math.pow(a,2)-4*l;if(u<=0)return{_startAngle:0,_endAngle:i.T};const c=(-a-Math.sqrt(u))/2,h=(-a+Math.sqrt(u))/2;return{_startAngle:(0,i.D)({x:t,y:n},{x:c,y:e}).angle,_endAngle:(0,i.D)({x:t,y:n},{x:h,y:e}).angle}}function tt(e,t){const{_centerX:n,_centerY:r,_radius:i,_startAngle:o,_endAngle:s,_counterclockwise:a,options:l}=t;e.save();const u=z(e,l);e.fillStyle=l.backgroundColor,e.beginPath(),e.arc(n,r,i,o,s,a),e.closePath(),e.fill(),u&&e.stroke(),e.restore()}Ke.id="doughnutLabelAnnotation",Ke.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},Ke.defaultRoutes={};class nt extends r.Hg{inRange(e,t,n,r){return b({x:e,y:t},{rect:this.getProps(["x","y","x2","y2"],r),center:this.getCenterPoint(r)},n,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(e){return w(this,e)}draw(e){const t=this.options,n=!(0,i.h)(this._visible)||this._visible;t.display&&t.content&&n&&(e.save(),W(e,this.getCenterPoint(),this.rotation),ie(e,this),q(e,this,t),K(e,rt(this),t),e.restore())}resolveElementProperties(e,t){let n;if(I(t))n=ge(e,t);else{const{centerX:r,centerY:i}=ve(e,t);n={x:r,y:i}}const r=(0,i.E)(t.padding),o=$(e.ctx,t),s=N(n,o,t,r);return{initProperties:D(e,s,t),pointX:n.x,pointY:n.y,...s,rotation:t.rotation}}}function rt({x:e,y:t,width:n,height:r,options:o}){const s=o.borderWidth/2,a=(0,i.E)(o.padding);return{x:e+a.left+s,y:t+a.top+s,width:n-a.left-a.right-o.borderWidth,height:r-a.top-a.bottom-o.borderWidth}}nt.id="labelAnnotation",nt.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},nt.defaultRoutes={borderColor:"color"};const it=(e,t,n)=>({x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}),ot=(e,t,n)=>it(t,n,Math.abs((e-t.y)/(n.y-t.y))).x,st=(e,t,n)=>it(t,n,Math.abs((e-t.x)/(n.x-t.x))).y,at=e=>e*e,lt=(e,t,{x:n,y:r,x2:i,y2:o},s)=>"y"===s?{start:Math.min(r,o),end:Math.max(r,o),value:t}:{start:Math.min(n,i),end:Math.max(n,i),value:e},ut=(e,t,n,r)=>(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n,ct=(e,t,n,r)=>({x:ut(e.x,t.x,n.x,r),y:ut(e.y,t.y,n.y,r)}),ht=(e,t,n,r)=>2*(1-r)*(t-e)+2*r*(n-t),dt=(e,t,n,r)=>-Math.atan2(ht(e.x,t.x,n.x,r),ht(e.y,t.y,n.y,r))+.5*i.P;class ft extends r.Hg{inRange(e,t,n,r){const i=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n){const n={mouseX:e,mouseY:t},{path:o,ctx:s}=this;if(o){z(s,this.options),s.lineWidth+=this.options.hitTolerance;const{chart:i}=this.$context,a=e*i.currentDevicePixelRatio,l=t*i.currentDevicePixelRatio,u=s.isPointInStroke(o,a,l)||wt(this,n,r);return s.restore(),u}const a=at(i);return bt(this,n,a,r)||wt(this,n,r)}return mt(this,{mouseX:e,mouseY:t},n,{hitSize:i,useFinalPosition:r})}getCenterPoint(e){return w(this,e)}draw(e){const{x:t,y:n,x2:r,y2:i,cp:o,options:s}=this;if(e.save(),!z(e,s))return e.restore();G(e,s);const a=Math.sqrt(Math.pow(r-t,2)+Math.pow(i-n,2));if(s.curve&&o)return It(e,this,o,a),e.restore();const{startOpts:l,endOpts:u,startAdjust:c,endAdjust:h}=At(this),d=Math.atan2(i-n,r-t);e.translate(t,n),e.rotate(d),e.beginPath(),e.moveTo(0+c,0),e.lineTo(a-h,0),e.shadowColor=s.borderShadowColor,e.stroke(),Lt(e,0,c,l),Lt(e,a,-h,u),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){const n=be(e,t),{x:r,y:o,x2:s,y2:a}=n,l=gt(n,e.chartArea),u=l?yt({x:r,y:o},{x:s,y:a},e.chartArea):{x:r,y:o,x2:s,y2:a,width:Math.abs(s-r),height:Math.abs(a-o)};if(u.centerX=(s+r)/2,u.centerY=(a+o)/2,u.initProperties=D(e,u,t),t.curve){const e={x:u.x,y:u.y},n={x:u.x2,y:u.y2};u.cp=kt(u,t,(0,i.aE)(e,n))}const c=_t(e,u,t.label);return c._visible=l,u.elements=[{type:"label",optionScope:"label",properties:c,initProperties:u.initProperties}],u}}ft.id="lineAnnotation";const pt={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function mt(e,{mouseX:t,mouseY:n},r,{hitSize:i,useFinalPosition:o}){const s=lt(t,n,e.getProps(["x","y","x2","y2"],o),r);return m(s,i)||wt(e,{mouseX:t,mouseY:n},o,r)}function gt({x:e,y:t,x2:n,y2:r},{top:i,right:o,bottom:s,left:a}){return!(e<a&&n<a||e>o&&n>o||t<i&&r<i||t>s&&r>s)}function vt({x:e,y:t},n,{top:r,right:i,bottom:o,left:s}){return e<s&&(t=st(s,{x:e,y:t},n),e=s),e>i&&(t=st(i,{x:e,y:t},n),e=i),t<r&&(e=ot(r,{x:e,y:t},n),t=r),t>o&&(e=ot(o,{x:e,y:t},n),t=o),{x:e,y:t}}function yt(e,t,n){const{x:r,y:i}=vt(e,t,n),{x:o,y:s}=vt(t,e,n);return{x:r,y:i,x2:o,y2:s,width:Math.abs(o-r),height:Math.abs(s-i)}}function bt(e,{mouseX:t,mouseY:n},r=f,i){const{x:o,y:s,x2:a,y2:l}=e.getProps(["x","y","x2","y2"],i),u=a-o,c=l-s,h=at(u)+at(c),d=0===h?-1:((t-o)*u+(n-s)*c)/h;let p,m;return d<0?(p=o,m=s):d>1?(p=a,m=l):(p=o+d*u,m=s+d*c),at(t-p)+at(n-m)<=r}function wt(e,{mouseX:t,mouseY:n},r,i){const o=e.label;return o.options.display&&o.inRange(t,n,i,r)}function _t(e,t,n){const r=n.borderWidth,o=(0,i.E)(n.padding),s=$(e.ctx,n),a=s.width+o.width+r,l=s.height+o.height+r;return St(t,n,{width:a,height:l,padding:o},e.chartArea)}function Et(e){const{x:t,y:n,x2:r,y2:o}=e,s=Math.atan2(o-n,r-t);return s>i.P/2?s-i.P:s<i.P/-2?s+i.P:s}function St(e,t,n,r){const{width:o,height:s,padding:a}=n,{xAdjust:l,yAdjust:u}=t,c={x:e.x,y:e.y},h={x:e.x2,y:e.y2},d="auto"===t.rotation?Et(e):(0,i.t)(t.rotation),f=Tt(o,s,d),p=Mt(e,t,{labelSize:f,padding:a},r),m=e.cp?ct(c,e.cp,h,p):it(c,h,p),g={size:f.w,min:r.left,max:r.right,padding:a.left},v={size:f.h,min:r.top,max:r.bottom,padding:a.top},y=xt(m.x,g)+l,b=xt(m.y,v)+u;return{x:y-o/2,y:b-s/2,x2:y+o/2,y2:b+s/2,centerX:y,centerY:b,pointX:m.x,pointY:m.y,width:o,height:s,rotation:(0,i.U)(d)}}function Tt(e,t,n){const r=Math.cos(n),i=Math.sin(n);return{w:Math.abs(e*r)+Math.abs(t*i),h:Math.abs(e*i)+Math.abs(t*r)}}function Mt(e,t,n,r){let i;const o=Rt(e,r);return i="start"===t.position?Ct({w:e.x2-e.x,h:e.y2-e.y},n,t,o):"end"===t.position?1-Ct({w:e.x-e.x2,h:e.y-e.y2},n,t,o):R(1,t.position),i}function Ct(e,t,n,r){const{labelSize:i,padding:o}=t,s=e.w*r.dx,a=e.h*r.dy,l=s>0&&(i.w/2+o.left-r.x)/s,u=a>0&&(i.h/2+o.top-r.y)/a;return p(Math.max(l,u),0,.25)}function Rt(e,t){const{x:n,x2:r,y:i,y2:o}=e,s=Math.min(i,o)-t.top,a=Math.min(n,r)-t.left,l=t.bottom-Math.max(i,o),u=t.right-Math.max(n,r);return{x:Math.min(a,u),y:Math.min(s,l),dx:a<=u?1:-1,dy:s<=l?1:-1}}function xt(e,t){const{size:n,min:r,max:i,padding:o}=t,s=n/2;return n>i-r?(i+r)/2:(r>=e-o-s&&(e=r+o+s),i<=e+o+s&&(e=i-o-s),e)}function At(e){const t=e.options,n=t.arrowHeads&&t.arrowHeads.start,r=t.arrowHeads&&t.arrowHeads.end;return{startOpts:n,endOpts:r,startAdjust:Nt(e,n),endAdjust:Nt(e,r)}}function Nt(e,t){if(!t||!t.display)return 0;const{length:n,width:r}=t,i=e.options.borderWidth/2,o={x:n,y:r+i},s={x:0,y:i};return Math.abs(ot(0,o,s))}function Lt(e,t,n,r){if(!r||!r.display)return;const{length:i,width:o,fill:s,backgroundColor:a,borderColor:l}=r,u=Math.abs(t-i)+n;e.beginPath(),G(e,r),z(e,r),e.moveTo(u,-o),e.lineTo(t+n,0),e.lineTo(u,o),!0===s?(e.fillStyle=a||l,e.closePath(),e.fill(),e.shadowColor="transparent"):e.shadowColor=r.borderShadowColor,e.stroke()}function kt(e,t,n){const{x:r,y:i,x2:o,y2:s,centerX:a,centerY:l}=e,u=Math.atan2(s-i,o-r),c=L(t.controlPoint,0),d={x:a+x(n,c.x,!1),y:l+x(n,c.y,!1)};return h(d,{x:a,y:l},u)}function Ot(e,{x:t,y:n},{angle:r,adjust:i},o){o&&o.display&&(e.save(),e.translate(t,n),e.rotate(r),Lt(e,0,-i,o),e.restore())}function It(e,t,n,r){const{x:o,y:s,x2:a,y2:l,options:u}=t,{startOpts:c,endOpts:h,startAdjust:d,endAdjust:f}=At(t),p={x:o,y:s},m={x:a,y:l},g=dt(p,n,m,0),v=dt(p,n,m,1)-i.P,y=ct(p,n,m,d/r),b=ct(p,n,m,1-f/r),w=new Path2D;e.beginPath(),w.moveTo(y.x,y.y),w.quadraticCurveTo(n.x,n.y,b.x,b.y),e.shadowColor=u.borderShadowColor,e.stroke(w),t.path=w,t.ctx=e,Ot(e,y,{angle:g,adjust:d},c),Ot(e,b,{angle:v,adjust:f},h)}ft.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},pt),fill:!1,length:12,start:Object.assign({},pt),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},nt.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},ft.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},ft.defaultRoutes={borderColor:"color"};class Pt extends r.Hg{inRange(e,t,n,r){const o=this.options.rotation,s=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return Dt({x:e,y:t},this.getProps(["width","height","centerX","centerY"],r),o,s);const{x:a,y:l,x2:u,y2:c}=this.getProps(["x","y","x2","y2"],r),d="y"===n?{start:l,end:c}:{start:a,end:u},p=h({x:e,y:t},this.getCenterPoint(r),(0,i.t)(-o));return p[n]>=d.start-s-f&&p[n]<=d.end+s+f}getCenterPoint(e){return w(this,e)}draw(e){const{width:t,height:n,centerX:r,centerY:o,options:s}=this;e.save(),W(e,this.getCenterPoint(),s.rotation),G(e,this.options),e.beginPath(),e.fillStyle=s.backgroundColor;const a=z(e,s);e.ellipse(r,o,n/2,t/2,i.P/2,0,2*i.P),e.fill(),a&&(e.shadowColor=s.borderShadowColor,e.stroke()),e.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(e,t){return we(e,t)}}function Dt(e,t,n,r){const{width:o,height:s,centerX:a,centerY:l}=t,u=o/2,c=s/2;if(u<=0||c<=0)return!1;const h=(0,i.t)(n||0),d=Math.cos(h),f=Math.sin(h),p=Math.pow(d*(e.x-a)+f*(e.y-l),2),m=Math.pow(f*(e.x-a)-d*(e.y-l),2);return p/Math.pow(u+r,2)+m/Math.pow(c+r,2)<=1.0001}Pt.id="ellipseAnnotation",Pt.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},qe.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Pt.defaultRoutes={borderColor:"color",backgroundColor:"color"},Pt.descriptors={label:{_fallback:!0}};class Ft extends r.Hg{inRange(e,t,n,r){const{x:i,y:o,x2:s,y2:a,width:l}=this.getProps(["x","y","x2","y2","width"],r),u=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==n&&"y"!==n)return v({x:e,y:t},this.getCenterPoint(r),l/2,u);const c="y"===n?{start:o,end:a,value:t}:{start:i,end:s,value:e};return m(c,u)}getCenterPoint(e){return w(this,e)}draw(e){const t=this.options,n=t.borderWidth;if(t.radius<.1)return;e.save(),e.fillStyle=t.backgroundColor,G(e,t);const r=z(e,t);J(e,this,this.centerX,this.centerY),r&&!V(t.pointStyle)&&(e.shadowColor=t.borderShadowColor,e.stroke()),e.restore(),t.borderWidth=n}resolveElementProperties(e,t){const n=ye(e,t);return n.initProperties=D(e,n,t),n}}Ft.id="pointAnnotation",Ft.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Ft.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Ht extends r.Hg{inRange(e,t,n,r){if("x"!==n&&"y"!==n)return this.options.radius>=.1&&this.elements.length>1&&Bt(this.elements,e,t,r);const o=h({x:e,y:t},this.getCenterPoint(r),(0,i.t)(-this.options.rotation)),s=this.elements.map((e=>"y"===n?e.bY:e.bX)),a=Math.min(...s),l=Math.max(...s);return o[n]>=a&&o[n]<=l}getCenterPoint(e){return w(this,e)}draw(e){const{elements:t,options:n}=this;e.save(),e.beginPath(),e.fillStyle=n.backgroundColor,G(e,n);const r=z(e,n);let i=!0;for(const o of t)i?(e.moveTo(o.x,o.y),i=!1):e.lineTo(o.x,o.y);e.closePath(),e.fill(),r&&(e.shadowColor=n.borderShadowColor,e.stroke()),e.restore()}resolveElementProperties(e,t){const n=ye(e,t),{sides:r,rotation:o}=t,s=[],a=2*i.P/r;let l=o*i.b3;for(let i=0;i<r;i++,l+=a){const r=Ut(n,t,l);r.initProperties=D(e,n,t),s.push(r)}return n.elements=s,n}}function Ut({centerX:e,centerY:t},{radius:n,borderWidth:r,hitTolerance:i},o){const s=(r+i)/2,a=Math.sin(o),l=Math.cos(o),u={x:e+a*n,y:t-l*n};return{type:"point",optionScope:"point",properties:{x:u.x,y:u.y,centerX:u.x,centerY:u.y,bX:e+a*(n+s),bY:t-l*(n+s)}}}function Bt(e,t,n,r){let i=!1,o=e[e.length-1].getProps(["bX","bY"],r);for(const s of e){const e=s.getProps(["bX","bY"],r);e.bY>n!==o.bY>n&&t<(o.bX-e.bX)*(n-e.bY)/(o.bY-e.bY)+e.bX&&(i=!i),o=e}return i}Ht.id="polygonAnnotation",Ht.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Ht.defaultRoutes={borderColor:"color",backgroundColor:"color"};const jt={box:qe,doughnutLabel:Ke,ellipse:Pt,label:nt,line:ft,point:Ft,polygon:Ht};Object.keys(jt).forEach((e=>{i.d.describe(`elements.${jt[e].id}`,{_fallback:"plugins.annotation.common"})}));const Yt={update:Object.assign},Vt=Ne.concat(Fe),Wt=(e,t)=>(0,i.i)(t)?Zt(e,t):e,zt=e=>"color"===e||"font"===e;function Gt(e="line"){return jt[e]?e:(console.warn(`Unknown annotation type: '${e}', defaulting to 'line'`),"line")}function $t(e,t,n,r){const o=Kt(e,n.animations,r),s=t.annotations,a=tn(t.elements,s);for(let l=0;l<s.length;l++){const t=s[l],n=Jt(a,l,t.type),r=t.setContext(en(e,n,a,t)),u=n.resolveElementProperties(e,r);u.skip=qt(u),"elements"in u&&(Xt(n,u.elements,r,o),delete u.elements),(0,i.h)(n.x)||Object.assign(n,u),Object.assign(n,u.initProperties),u.options=Qt(r),o.update(n,u)}}function qt(e){return isNaN(e.x)||isNaN(e.y)}function Kt(e,t,n){return"reset"===n||"none"===n||"resize"===n?Yt:new r.Qw(e,t)}function Xt(e,t,n,r){const i=e.elements||(e.elements=[]);i.length=t.length;for(let o=0;o<t.length;o++){const e=t[o],s=e.properties,a=Jt(i,o,e.type,e.initProperties),l=n[e.optionScope].override(e);s.options=Qt(l),r.update(a,s)}}function Jt(e,t,n,r){const i=jt[Gt(n)];let o=e[t];return o&&o instanceof i||(o=e[t]=new i,Object.assign(o,r)),o}function Qt(e){const t=jt[Gt(e.type)],n={};n.id=e.id,n.type=e.type,n.drawTime=e.drawTime,Object.assign(n,Zt(e,t.defaults),Zt(e,t.defaultRoutes));for(const r of Vt)n[r]=e[r];return n}function Zt(e,t){const n={};for(const r of Object.keys(t)){const o=t[r],s=e[r];zt(r)&&(0,i.b)(s)?n[r]=s.map((e=>Wt(e,o))):n[r]=Wt(s,o)}return n}function en(e,t,n,r){return t.$context||(t.$context=Object.assign(Object.create(e.getContext()),{element:t,get elements(){return n.filter((e=>e&&e.options))},id:r.id,type:"annotation"}))}function tn(e,t){const n=t.length,r=e.length;if(r<n){const t=n-r;e.splice(r,0,...new Array(t))}else r>n&&e.splice(n,r-n);return e}var nn="3.1.0";const rn=new Map,on=e=>"doughnutLabel"!==e.type,sn=Ne.concat(Fe);var an={id:"annotation",version:nn,beforeRegister(){_("chart.js","4.0",r.t1.version)},afterRegister(){r.t1.register(jt)},afterUnregister(){r.t1.unregister(jt)},beforeInit(e){rn.set(e,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(e,t,n){const r=rn.get(e),o=r.annotations=[];let s=n.annotations;(0,i.i)(s)?Object.keys(s).forEach((e=>{const t=s[e];(0,i.i)(t)&&(t.id=e,o.push(t))})):(0,i.b)(s)&&o.push(...s),je(o.filter(on),e.scales)},afterDataLimits(e,t){const n=rn.get(e);Be(e,t.scale,n.annotations.filter(on).filter((e=>e.display&&e.adjustScaleRange)))},afterUpdate(e,t,n){const r=rn.get(e);Le(e,r,n),$t(e,r,n,t.mode),r.visibleElements=r.elements.filter((e=>!e.skip&&e.options.display)),He(e,r,n)},beforeDatasetsDraw(e,t,n){ln(e,"beforeDatasetsDraw",n.clip)},afterDatasetsDraw(e,t,n){ln(e,"afterDatasetsDraw",n.clip)},beforeDatasetDraw(e,t,n){ln(e,t.index,n.clip)},beforeDraw(e,t,n){ln(e,"beforeDraw",n.clip)},afterDraw(e,t,n){ln(e,"afterDraw",n.clip)},beforeEvent(e,t,n){const r=rn.get(e);ke(r,t.event,n)&&(t.changed=!0)},afterDestroy(e){rn.delete(e)},getAnnotations(e){const t=rn.get(e);return t?t.elements:[]},_getAnnotationElementsAtEventForMode(e,t,n){return s(e,t,n)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:e=>!sn.includes(e)&&"init"!==e,annotations:{_allKeys:!1,_fallback:(e,t)=>`elements.${jt[Gt(t.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:zt,_fallback:!0},_indexable:zt}},additionalOptionScopes:[""]};function ln(e,t,n){const{ctx:r,chartArea:o}=e,s=rn.get(e);n&&(0,i.Y)(r,o);const a=un(s.visibleElements,t).sort(((e,t)=>e.element.options.z-t.element.options.z));for(const i of a)cn(r,o,s,i);n&&(0,i.$)(r)}function un(e,t){const n=[];for(const r of e)if(r.options.drawTime===t&&n.push({element:r,main:!0}),r.elements&&r.elements.length)for(const e of r.elements)e.options.display&&e.options.drawTime===t&&n.push({element:e});return n}function cn(e,t,n,r){const i=r.element;r.main?(Ue(n,i,"beforeDraw"),i.draw(e,t),Ue(n,i,"afterDraw")):i.draw(e,t)}},27324:function(e,t,n){"use strict";n.d(t,{xd:function(){return Nn}});var r=n(74220),i=n(97700),o=n(46732);function s(){}function a(e,t,n,r,i){for(var o=0,s=t.length,a=0,l=0;o<s;o++){var u=t[o];if(u.removed){if(u.value=e.join(r.slice(l,l+u.count)),l+=u.count,o&&t[o-1].added){var c=t[o-1];t[o-1]=t[o],t[o]=c}}else{if(!u.added&&i){var h=n.slice(a,a+u.count);h=h.map((function(e,t){var n=r[l+t];return n.length>e.length?n:e})),u.value=e.join(h)}else u.value=e.join(n.slice(a,a+u.count));a+=u.count,u.added||(l+=u.count)}}var d=t[s-1];return s>1&&"string"==typeof d.value&&(d.added||d.removed)&&e.equals("",d.value)&&(t[s-2].value+=d.value,t.pop()),t}function l(e){return{newPos:e.newPos,components:e.components.slice(0)}}(function(){try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode(".code-diff-view[theme=light]{color:var(--fgColor-default, var(--color-fg-default));background-color:var(--bgColor-default, var(--color-canvas-default));--color-canvas-default-transparent: rgba(255,255,255,0);--color-page-header-bg: #f6f8fa;--color-marketing-icon-primary: #218bff;--color-marketing-icon-secondary: #54aeff;--color-diff-blob-addition-num-text: #1F2328;--color-diff-blob-addition-fg: #1F2328;--color-diff-blob-addition-num-bg: #ccffd8;--color-diff-blob-addition-line-bg: #e6ffec;--color-diff-blob-addition-word-bg: #abf2bc;--color-diff-blob-deletion-num-text: #1F2328;--color-diff-blob-deletion-fg: #1F2328;--color-diff-blob-deletion-num-bg: #ffd7d5;--color-diff-blob-deletion-line-bg: #ffebe9;--color-diff-blob-deletion-word-bg: rgba(255,129,130,.4);--color-diff-blob-hunk-num-bg: rgba(84,174,255,.4);--color-diff-blob-expander-icon: #656d76;--color-diff-blob-selected-line-highlight-mix-blend-mode: multiply;--color-diffstat-deletion-border: rgba(31,35,40,.15);--color-diffstat-addition-border: rgba(31,35,40,.15);--color-diffstat-addition-bg: #1f883d;--color-search-keyword-hl: #fff8c5;--color-prettylights-syntax-comment: #6e7781;--color-prettylights-syntax-constant: #0550ae;--color-prettylights-syntax-entity: #6639ba;--color-prettylights-syntax-storage-modifier-import: #24292f;--color-prettylights-syntax-entity-tag: #116329;--color-prettylights-syntax-keyword: #cf222e;--color-prettylights-syntax-string: #0a3069;--color-prettylights-syntax-variable: #953800;--color-prettylights-syntax-brackethighlighter-unmatched: #82071e;--color-prettylights-syntax-invalid-illegal-text: #f6f8fa;--color-prettylights-syntax-invalid-illegal-bg: #82071e;--color-prettylights-syntax-carriage-return-text: #f6f8fa;--color-prettylights-syntax-carriage-return-bg: #cf222e;--color-prettylights-syntax-string-regexp: #116329;--color-prettylights-syntax-markup-list: #3b2300;--color-prettylights-syntax-markup-heading: #0550ae;--color-prettylights-syntax-markup-italic: #24292f;--color-prettylights-syntax-markup-bold: #24292f;--color-prettylights-syntax-markup-deleted-text: #82071e;--color-prettylights-syntax-markup-deleted-bg: #ffebe9;--color-prettylights-syntax-markup-inserted-text: #116329;--color-prettylights-syntax-markup-inserted-bg: #dafbe1;--color-prettylights-syntax-markup-changed-text: #953800;--color-prettylights-syntax-markup-changed-bg: #ffd8b5;--color-prettylights-syntax-markup-ignored-text: #eaeef2;--color-prettylights-syntax-markup-ignored-bg: #0550ae;--color-prettylights-syntax-meta-diff-range: #8250df;--color-prettylights-syntax-brackethighlighter-angle: #57606a;--color-prettylights-syntax-sublimelinter-gutter-mark: #8c959f;--color-prettylights-syntax-constant-other-reference-link: #0a3069;--color-codemirror-text: #1F2328;--color-codemirror-bg: #ffffff;--color-codemirror-gutters-bg: #ffffff;--color-codemirror-guttermarker-text: #ffffff;--color-codemirror-guttermarker-subtle-text: #6e7781;--color-codemirror-linenumber-text: #656d76;--color-codemirror-cursor: #1F2328;--color-codemirror-selection-bg: rgba(84,174,255,.4);--color-codemirror-activeline-bg: rgba(234,238,242,.5);--color-codemirror-matchingbracket-text: #1F2328;--color-codemirror-lines-bg: #ffffff;--color-codemirror-syntax-comment: #24292f;--color-codemirror-syntax-constant: #0550ae;--color-codemirror-syntax-entity: #8250df;--color-codemirror-syntax-keyword: #cf222e;--color-codemirror-syntax-storage: #cf222e;--color-codemirror-syntax-string: #0a3069;--color-codemirror-syntax-support: #0550ae;--color-codemirror-syntax-variable: #953800;--color-checks-bg: #24292f;--color-checks-run-border-width: 0px;--color-checks-container-border-width: 0px;--color-checks-text-primary: #f6f8fa;--color-checks-text-secondary: #8c959f;--color-checks-text-link: #54aeff;--color-checks-btn-icon: #afb8c1;--color-checks-btn-hover-icon: #f6f8fa;--color-checks-btn-hover-bg: rgba(255,255,255,.125);--color-checks-input-text: #eaeef2;--color-checks-input-placeholder-text: #8c959f;--color-checks-input-focus-text: #8c959f;--color-checks-input-bg: #32383f;--color-checks-input-shadow: none;--color-checks-donut-error: #fa4549;--color-checks-donut-pending: #bf8700;--color-checks-donut-success: #1f883d;--color-checks-donut-neutral: #afb8c1;--color-checks-dropdown-text: #afb8c1;--color-checks-dropdown-bg: #32383f;--color-checks-dropdown-border: #424a53;--color-checks-dropdown-shadow: rgba(31,35,40,.3);--color-checks-dropdown-hover-text: #f6f8fa;--color-checks-dropdown-hover-bg: #424a53;--color-checks-dropdown-btn-hover-text: #f6f8fa;--color-checks-dropdown-btn-hover-bg: #32383f;--color-checks-scrollbar-thumb-bg: #57606a;--color-checks-header-label-text: #d0d7de;--color-checks-header-label-open-text: #f6f8fa;--color-checks-header-border: #32383f;--color-checks-header-icon: #8c959f;--color-checks-line-text: #d0d7de;--color-checks-line-num-text: rgba(140,149,159,.75);--color-checks-line-timestamp-text: #8c959f;--color-checks-line-hover-bg: #32383f;--color-checks-line-selected-bg: rgba(33,139,255,.15);--color-checks-line-selected-num-text: #54aeff;--color-checks-line-dt-fm-text: #24292f;--color-checks-line-dt-fm-bg: #9a6700;--color-checks-gate-bg: rgba(125,78,0,.15);--color-checks-gate-text: #d0d7de;--color-checks-gate-waiting-text: #d4a72c;--color-checks-step-header-open-bg: #32383f;--color-checks-step-error-text: #ff8182;--color-checks-step-warning-text: #d4a72c;--color-checks-logline-text: #8c959f;--color-checks-logline-num-text: rgba(140,149,159,.75);--color-checks-logline-debug-text: #c297ff;--color-checks-logline-error-text: #d0d7de;--color-checks-logline-error-num-text: #ff8182;--color-checks-logline-error-bg: rgba(164,14,38,.15);--color-checks-logline-warning-text: #d0d7de;--color-checks-logline-warning-num-text: #d4a72c;--color-checks-logline-warning-bg: rgba(125,78,0,.15);--color-checks-logline-command-text: #54aeff;--color-checks-logline-section-text: #4ac26b;--color-checks-ansi-black: #24292f;--color-checks-ansi-black-bright: #32383f;--color-checks-ansi-white: #d0d7de;--color-checks-ansi-white-bright: #d0d7de;--color-checks-ansi-gray: #8c959f;--color-checks-ansi-red: #ff8182;--color-checks-ansi-red-bright: #ffaba8;--color-checks-ansi-green: #4ac26b;--color-checks-ansi-green-bright: #6fdd8b;--color-checks-ansi-yellow: #d4a72c;--color-checks-ansi-yellow-bright: #eac54f;--color-checks-ansi-blue: #54aeff;--color-checks-ansi-blue-bright: #80ccff;--color-checks-ansi-magenta: #c297ff;--color-checks-ansi-magenta-bright: #d8b9ff;--color-checks-ansi-cyan: #76e3ea;--color-checks-ansi-cyan-bright: #b3f0ff;--color-project-header-bg: #24292f;--color-project-sidebar-bg: #ffffff;--color-project-gradient-in: #ffffff;--color-project-gradient-out: rgba(255,255,255,0);--color-mktg-btn-bg: #1b1f23;--color-mktg-btn-shadow-outline: rgb(0 0 0 / 15%) 0 0 0 1px inset;--color-mktg-btn-shadow-focus: rgb(0 0 0 / 15%) 0 0 0 4px;--color-mktg-btn-shadow-hover: 0 3px 2px rgba(0, 0, 0, .07), 0 7px 5px rgba(0, 0, 0, .04), 0 12px 10px rgba(0, 0, 0, .03), 0 22px 18px rgba(0, 0, 0, .03), 0 42px 33px rgba(0, 0, 0, .02), 0 100px 80px rgba(0, 0, 0, .02);--color-mktg-btn-shadow-hover-muted: rgb(0 0 0 / 70%) 0 0 0 2px inset;--color-control-border-color-emphasis: #858F99;--color-avatar-bg: #ffffff;--color-avatar-border: rgba(31,35,40,.15);--color-avatar-stack-fade: #afb8c1;--color-avatar-stack-fade-more: #d0d7de;--color-avatar-child-shadow: 0 0 0 2px rgba(255,255,255,.8);--color-topic-tag-border: rgba(0,0,0,0);--color-counter-border: rgba(0,0,0,0);--color-select-menu-backdrop-border: rgba(0,0,0,0);--color-select-menu-tap-highlight: rgba(175,184,193,.5);--color-select-menu-tap-focus-bg: #b6e3ff;--color-overlay-shadow: 0 1px 3px rgba(31,35,40,.12), 0 8px 24px rgba(66,74,83,.12);--color-overlay-backdrop: rgba(140,149,159,.2);--color-header-text: rgba(255,255,255,.7);--color-header-bg: #24292f;--color-header-divider: #57606a;--color-header-logo: #ffffff;--color-header-search-bg: #24292f;--color-header-search-border: #57606a;--color-sidenav-selected-bg: #ffffff;--color-menu-bg-active: rgba(0,0,0,0);--color-input-disabled-bg: rgba(175,184,193,.2);--color-timeline-badge-bg: #eaeef2;--color-ansi-black: #24292f;--color-ansi-black-bright: #57606a;--color-ansi-white: #6e7781;--color-ansi-white-bright: #8c959f;--color-ansi-gray: #6e7781;--color-ansi-red: #cf222e;--color-ansi-red-bright: #a40e26;--color-ansi-green: #116329;--color-ansi-green-bright: #1a7f37;--color-ansi-yellow: #4d2d00;--color-ansi-yellow-bright: #633c01;--color-ansi-blue: #0969da;--color-ansi-blue-bright: #218bff;--color-ansi-magenta: #8250df;--color-ansi-magenta-bright: #a475f9;--color-ansi-cyan: #1b7c83;--color-ansi-cyan-bright: #3192aa;--color-btn-text: #24292f;--color-btn-bg: #f6f8fa;--color-btn-border: rgba(31,35,40,.15);--color-btn-shadow: 0 1px 0 rgba(31,35,40,.04);--color-btn-inset-shadow: inset 0 1px 0 rgba(255,255,255,.25);--color-btn-hover-bg: #f3f4f6;--color-btn-hover-border: rgba(31,35,40,.15);--color-btn-active-bg: hsla(220,14%,93%,1);--color-btn-active-border: rgba(31,35,40,.15);--color-btn-selected-bg: hsla(220,14%,94%,1);--color-btn-counter-bg: rgba(31,35,40,.08);--color-btn-primary-text: #ffffff;--color-btn-primary-bg: #1f883d;--color-btn-primary-border: rgba(31,35,40,.15);--color-btn-primary-shadow: 0 1px 0 rgba(31,35,40,.1);--color-btn-primary-inset-shadow: inset 0 1px 0 rgba(255,255,255,.03);--color-btn-primary-hover-bg: #1a7f37;--color-btn-primary-hover-border: rgba(31,35,40,.15);--color-btn-primary-selected-bg: hsla(137,66%,28%,1);--color-btn-primary-selected-shadow: inset 0 1px 0 rgba(0,45,17,.2);--color-btn-primary-disabled-text: rgba(255,255,255,.8);--color-btn-primary-disabled-bg: #94d3a2;--color-btn-primary-disabled-border: rgba(31,35,40,.15);--color-btn-primary-icon: rgba(255,255,255,.8);--color-btn-primary-counter-bg: rgba(0,45,17,.2);--color-btn-outline-text: #0969da;--color-btn-outline-hover-text: #ffffff;--color-btn-outline-hover-bg: #0969da;--color-btn-outline-hover-border: rgba(31,35,40,.15);--color-btn-outline-hover-shadow: 0 1px 0 rgba(31,35,40,.1);--color-btn-outline-hover-inset-shadow: inset 0 1px 0 rgba(255,255,255,.03);--color-btn-outline-hover-counter-bg: rgba(255,255,255,.2);--color-btn-outline-selected-text: #ffffff;--color-btn-outline-selected-bg: hsla(212,92%,42%,1);--color-btn-outline-selected-border: rgba(31,35,40,.15);--color-btn-outline-selected-shadow: inset 0 1px 0 rgba(0,33,85,.2);--color-btn-outline-disabled-text: rgba(9,105,218,.5);--color-btn-outline-disabled-bg: #f6f8fa;--color-btn-outline-disabled-counter-bg: rgba(9,105,218,.05);--color-btn-outline-counter-bg: #0969da1a;--color-btn-outline-counter-fg: #0550ae;--color-btn-outline-hover-counter-fg: #ffffff;--color-btn-outline-disabled-counter-fg: rgba(9,105,218,.5);--color-btn-danger-text: #cf222e;--color-btn-danger-hover-text: #ffffff;--color-btn-danger-hover-bg: #a40e26;--color-btn-danger-hover-border: rgba(31,35,40,.15);--color-btn-danger-hover-shadow: 0 1px 0 rgba(31,35,40,.1);--color-btn-danger-hover-inset-shadow: inset 0 1px 0 rgba(255,255,255,.03);--color-btn-danger-hover-counter-bg: rgba(255,255,255,.2);--color-btn-danger-selected-text: #ffffff;--color-btn-danger-selected-bg: hsla(356,72%,44%,1);--color-btn-danger-selected-border: rgba(31,35,40,.15);--color-btn-danger-selected-shadow: inset 0 1px 0 rgba(76,0,20,.2);--color-btn-danger-disabled-text: rgba(207,34,46,.5);--color-btn-danger-disabled-bg: #f6f8fa;--color-btn-danger-disabled-counter-bg: rgba(207,34,46,.05);--color-btn-danger-counter-bg: rgba(207,34,46,.1);--color-btn-danger-icon: #cf222e;--color-btn-danger-hover-icon: #ffffff;--color-btn-danger-counter-fg: #a40e26;--color-btn-danger-hover-counter-fg: #ffffff;--color-btn-danger-disabled-counter-fg: rgba(207,34,46,.5);--color-underlinenav-icon: #6e7781;--color-underlinenav-border-hover: rgba(175,184,193,.2);--color-action-list-item-inline-divider: rgba(208,215,222,.48);--color-action-list-item-default-hover-bg: rgba(208,215,222,.32);--color-action-list-item-default-hover-border: rgba(0,0,0,0);--color-action-list-item-default-active-bg: rgba(208,215,222,.48);--color-action-list-item-default-active-border: rgba(0,0,0,0);--color-action-list-item-default-selected-bg: rgba(208,215,222,.24);--color-action-list-item-danger-hover-bg: rgba(255,235,233,.64);--color-action-list-item-danger-active-bg: #ffebe9;--color-action-list-item-danger-hover-text: #d1242f;--color-switch-track-bg: #eaeef2;--color-switch-track-hover-bg: hsla(210,24%,90%,1);--color-switch-track-active-bg: hsla(210,24%,88%,1);--color-switch-track-disabled-bg: #8c959f;--color-switch-track-fg: #656d76;--color-switch-track-disabled-fg: #ffffff;--color-switch-track-border: rgba(0,0,0,0);--color-switch-track-checked-bg: #0969da;--color-switch-track-checked-hover-bg: #0860CA;--color-switch-track-checked-active-bg: #0757BA;--color-switch-track-checked-fg: #ffffff;--color-switch-track-checked-disabled-fg: #ffffff;--color-switch-track-checked-border: rgba(0,0,0,0);--color-switch-knob-bg: #ffffff;--color-switch-knob-disabled-bg: #f6f8fa;--color-switch-knob-border: #858F99;--color-switch-knob-checked-bg: #ffffff;--color-switch-knob-checked-disabled-bg: #f6f8fa;--color-switch-knob-checked-border: #0969da;--color-segmented-control-bg: #eaeef2;--color-segmented-control-button-bg: #ffffff;--color-segmented-control-button-hover-bg: rgba(175,184,193,.2);--color-segmented-control-button-active-bg: rgba(175,184,193,.4);--color-segmented-control-button-selected-border: #8c959f;--color-tree-view-item-chevron-hover-bg: rgba(208,215,222,.32);--color-tree-view-item-directory-fill: #54aeff;--color-fg-default: #1F2328;--color-fg-muted: #656d76;--color-fg-subtle: #6e7781;--color-fg-on-emphasis: #ffffff;--color-canvas-default: #ffffff;--color-canvas-overlay: #ffffff;--color-canvas-inset: #f6f8fa;--color-canvas-subtle: #f6f8fa;--color-border-default: #d0d7de;--color-border-muted: hsla(210,18%,87%,1);--color-border-subtle: rgba(31,35,40,.15);--color-shadow-small: 0 1px 0 rgba(31,35,40,.04);--color-shadow-medium: 0 3px 6px rgba(140,149,159,.15);--color-shadow-large: 0 8px 24px rgba(140,149,159,.2);--color-shadow-extra-large: 0 12px 28px rgba(140,149,159,.3);--color-neutral-emphasis-plus: #24292f;--color-neutral-emphasis: #6e7781;--color-neutral-muted: rgba(175,184,193,.2);--color-neutral-subtle: rgba(234,238,242,.5);--color-accent-fg: #0969da;--color-accent-emphasis: #0969da;--color-accent-muted: rgba(84,174,255,.4);--color-accent-subtle: #ddf4ff;--color-success-fg: #1a7f37;--color-success-emphasis: #1f883d;--color-success-muted: rgba(74,194,107,.4);--color-success-subtle: #dafbe1;--color-attention-fg: #9a6700;--color-attention-emphasis: #9a6700;--color-attention-muted: rgba(212,167,44,.4);--color-attention-subtle: #fff8c5;--color-severe-fg: #bc4c00;--color-severe-emphasis: #bc4c00;--color-severe-muted: rgba(251,143,68,.4);--color-severe-subtle: #fff1e5;--color-danger-fg: #d1242f;--color-danger-emphasis: #cf222e;--color-danger-muted: rgba(255,129,130,.4);--color-danger-subtle: #ffebe9;--color-open-fg: #1a7f37;--color-open-emphasis: #1f883d;--color-open-muted: rgba(74,194,107,.4);--color-open-subtle: #dafbe1;--color-closed-fg: #d1242f;--color-closed-emphasis: #cf222e;--color-closed-muted: rgba(255,129,130,.4);--color-closed-subtle: #ffebe9;--color-done-fg: #8250df;--color-done-emphasis: #8250df;--color-done-muted: rgba(194,151,255,.4);--color-done-subtle: #fbefff;--color-sponsors-fg: #bf3989;--color-sponsors-emphasis: #bf3989;--color-sponsors-muted: rgba(255,128,200,.4);--color-sponsors-subtle: #ffeff7;--color-primer-fg-disabled: #8c959f;--color-primer-canvas-backdrop: rgba(31,35,40,.5);--color-primer-canvas-sticky: rgba(255,255,255,.95);--color-primer-border-active: #fd8c73;--color-primer-border-contrast: rgba(31,35,40,.1);--color-primer-shadow-highlight: inset 0 1px 0 rgba(255,255,255,.25);--color-primer-shadow-inset: inset 0 1px 0 rgba(208,215,222,.2);--color-scale-black: #1F2328;--color-scale-white: #ffffff;--color-scale-gray-0: #f6f8fa;--color-scale-gray-1: #eaeef2;--color-scale-gray-2: #d0d7de;--color-scale-gray-3: #afb8c1;--color-scale-gray-4: #8c959f;--color-scale-gray-5: #6e7781;--color-scale-gray-6: #57606a;--color-scale-gray-7: #424a53;--color-scale-gray-8: #32383f;--color-scale-gray-9: #24292f;--color-scale-blue-0: #ddf4ff;--color-scale-blue-1: #b6e3ff;--color-scale-blue-2: #80ccff;--color-scale-blue-3: #54aeff;--color-scale-blue-4: #218bff;--color-scale-blue-5: #0969da;--color-scale-blue-6: #0550ae;--color-scale-blue-7: #033d8b;--color-scale-blue-8: #0a3069;--color-scale-blue-9: #002155;--color-scale-green-0: #dafbe1;--color-scale-green-1: #aceebb;--color-scale-green-2: #6fdd8b;--color-scale-green-3: #4ac26b;--color-scale-green-4: #2da44e;--color-scale-green-5: #1a7f37;--color-scale-green-6: #116329;--color-scale-green-7: #044f1e;--color-scale-green-8: #003d16;--color-scale-green-9: #002d11;--color-scale-yellow-0: #fff8c5;--color-scale-yellow-1: #fae17d;--color-scale-yellow-2: #eac54f;--color-scale-yellow-3: #d4a72c;--color-scale-yellow-4: #bf8700;--color-scale-yellow-5: #9a6700;--color-scale-yellow-6: #7d4e00;--color-scale-yellow-7: #633c01;--color-scale-yellow-8: #4d2d00;--color-scale-yellow-9: #3b2300;--color-scale-orange-0: #fff1e5;--color-scale-orange-1: #ffd8b5;--color-scale-orange-2: #ffb77c;--color-scale-orange-3: #fb8f44;--color-scale-orange-4: #e16f24;--color-scale-orange-5: #bc4c00;--color-scale-orange-6: #953800;--color-scale-orange-7: #762c00;--color-scale-orange-8: #5c2200;--color-scale-orange-9: #471700;--color-scale-red-0: #ffebe9;--color-scale-red-1: #ffcecb;--color-scale-red-2: #ffaba8;--color-scale-red-3: #ff8182;--color-scale-red-4: #fa4549;--color-scale-red-5: #cf222e;--color-scale-red-6: #a40e26;--color-scale-red-7: #82071e;--color-scale-red-8: #660018;--color-scale-red-9: #4c0014;--color-scale-purple-0: #fbefff;--color-scale-purple-1: #ecd8ff;--color-scale-purple-2: #d8b9ff;--color-scale-purple-3: #c297ff;--color-scale-purple-4: #a475f9;--color-scale-purple-5: #8250df;--color-scale-purple-6: #6639ba;--color-scale-purple-7: #512a97;--color-scale-purple-8: #3e1f79;--color-scale-purple-9: #2e1461;--color-scale-pink-0: #ffeff7;--color-scale-pink-1: #ffd3eb;--color-scale-pink-2: #ffadda;--color-scale-pink-3: #ff80c8;--color-scale-pink-4: #e85aad;--color-scale-pink-5: #bf3989;--color-scale-pink-6: #99286e;--color-scale-pink-7: #772057;--color-scale-pink-8: #611347;--color-scale-pink-9: #4d0336;--color-scale-coral-0: #fff0eb;--color-scale-coral-1: #ffd6cc;--color-scale-coral-2: #ffb4a1;--color-scale-coral-3: #fd8c73;--color-scale-coral-4: #ec6547;--color-scale-coral-5: #c4432b;--color-scale-coral-6: #9e2f1c;--color-scale-coral-7: #801f0f;--color-scale-coral-8: #691105;--color-scale-coral-9: #510901}.code-diff-view[theme=light] pre code.hljs{display:block;overflow-x:auto;padding:1em}.code-diff-view[theme=light] code.hljs{padding:3px 5px}.code-diff-view[theme=light] .hljs{color:#24292e;background:#ffffff}.code-diff-view[theme=light] .hljs-doctag,.code-diff-view[theme=light] .hljs-keyword,.code-diff-view[theme=light] .hljs-meta .hljs-keyword,.code-diff-view[theme=light] .hljs-template-tag,.code-diff-view[theme=light] .hljs-template-variable,.code-diff-view[theme=light] .hljs-type,.code-diff-view[theme=light] .hljs-variable.language_{color:#d73a49}.code-diff-view[theme=light] .hljs-title,.code-diff-view[theme=light] .hljs-title.class_,.code-diff-view[theme=light] .hljs-title.class_.inherited__,.code-diff-view[theme=light] .hljs-title.function_{color:#6f42c1}.code-diff-view[theme=light] .hljs-attr,.code-diff-view[theme=light] .hljs-attribute,.code-diff-view[theme=light] .hljs-literal,.code-diff-view[theme=light] .hljs-meta,.code-diff-view[theme=light] .hljs-number,.code-diff-view[theme=light] .hljs-operator,.code-diff-view[theme=light] .hljs-variable,.code-diff-view[theme=light] .hljs-selector-attr,.code-diff-view[theme=light] .hljs-selector-class,.code-diff-view[theme=light] .hljs-selector-id{color:#005cc5}.code-diff-view[theme=light] .hljs-regexp,.code-diff-view[theme=light] .hljs-string,.code-diff-view[theme=light] .hljs-meta .hljs-string{color:#032f62}.code-diff-view[theme=light] .hljs-built_in,.code-diff-view[theme=light] .hljs-symbol{color:#e36209}.code-diff-view[theme=light] .hljs-comment,.code-diff-view[theme=light] .hljs-code,.code-diff-view[theme=light] .hljs-formula{color:#6a737d}.code-diff-view[theme=light] .hljs-name,.code-diff-view[theme=light] .hljs-quote,.code-diff-view[theme=light] .hljs-selector-tag,.code-diff-view[theme=light] .hljs-selector-pseudo{color:#22863a}.code-diff-view[theme=light] .hljs-subst{color:#24292e}.code-diff-view[theme=light] .hljs-section{color:#005cc5;font-weight:700}.code-diff-view[theme=light] .hljs-bullet{color:#735c0f}.code-diff-view[theme=light] .hljs-emphasis{color:#24292e;font-style:italic}.code-diff-view[theme=light] .hljs-strong{color:#24292e;font-weight:700}.code-diff-view[theme=light] .hljs-addition{color:#22863a;background-color:#f0fff4}.code-diff-view[theme=light] .hljs-deletion{color:#b31d28;background-color:#ffeef0}.code-diff-view[theme=dark]{color:var(--fgColor-default, var(--color-fg-default));background-color:var(--bgColor-default, var(--color-canvas-default));--color-canvas-default-transparent: rgba(13,17,23,0);--color-page-header-bg: #0d1117;--color-marketing-icon-primary: #79c0ff;--color-marketing-icon-secondary: #1f6feb;--color-diff-blob-addition-num-text: #e6edf3;--color-diff-blob-addition-fg: #e6edf3;--color-diff-blob-addition-num-bg: rgba(63,185,80,.3);--color-diff-blob-addition-line-bg: rgba(46,160,67,.15);--color-diff-blob-addition-word-bg: rgba(46,160,67,.4);--color-diff-blob-deletion-num-text: #e6edf3;--color-diff-blob-deletion-fg: #e6edf3;--color-diff-blob-deletion-num-bg: rgba(248,81,73,.3);--color-diff-blob-deletion-line-bg: rgba(248,81,73,.1);--color-diff-blob-deletion-word-bg: rgba(248,81,73,.4);--color-diff-blob-hunk-num-bg: rgba(56,139,253,.4);--color-diff-blob-expander-icon: #7d8590;--color-diff-blob-selected-line-highlight-mix-blend-mode: screen;--color-diffstat-deletion-border: rgba(240,246,252,.1);--color-diffstat-addition-border: rgba(240,246,252,.1);--color-diffstat-addition-bg: #3fb950;--color-search-keyword-hl: rgba(210,153,34,.4);--color-prettylights-syntax-comment: #8b949e;--color-prettylights-syntax-constant: #79c0ff;--color-prettylights-syntax-entity: #d2a8ff;--color-prettylights-syntax-storage-modifier-import: #c9d1d9;--color-prettylights-syntax-entity-tag: #7ee787;--color-prettylights-syntax-keyword: #ff7b72;--color-prettylights-syntax-string: #a5d6ff;--color-prettylights-syntax-variable: #ffa657;--color-prettylights-syntax-brackethighlighter-unmatched: #f85149;--color-prettylights-syntax-invalid-illegal-text: #f0f6fc;--color-prettylights-syntax-invalid-illegal-bg: #8e1519;--color-prettylights-syntax-carriage-return-text: #f0f6fc;--color-prettylights-syntax-carriage-return-bg: #b62324;--color-prettylights-syntax-string-regexp: #7ee787;--color-prettylights-syntax-markup-list: #f2cc60;--color-prettylights-syntax-markup-heading: #1f6feb;--color-prettylights-syntax-markup-italic: #c9d1d9;--color-prettylights-syntax-markup-bold: #c9d1d9;--color-prettylights-syntax-markup-deleted-text: #ffdcd7;--color-prettylights-syntax-markup-deleted-bg: #67060c;--color-prettylights-syntax-markup-inserted-text: #aff5b4;--color-prettylights-syntax-markup-inserted-bg: #033a16;--color-prettylights-syntax-markup-changed-text: #ffdfb6;--color-prettylights-syntax-markup-changed-bg: #5a1e02;--color-prettylights-syntax-markup-ignored-text: #c9d1d9;--color-prettylights-syntax-markup-ignored-bg: #1158c7;--color-prettylights-syntax-meta-diff-range: #d2a8ff;--color-prettylights-syntax-brackethighlighter-angle: #8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark: #484f58;--color-prettylights-syntax-constant-other-reference-link: #a5d6ff;--color-codemirror-text: #e6edf3;--color-codemirror-bg: #0d1117;--color-codemirror-gutters-bg: #0d1117;--color-codemirror-guttermarker-text: #0d1117;--color-codemirror-guttermarker-subtle-text: #6e7681;--color-codemirror-linenumber-text: #7d8590;--color-codemirror-cursor: #e6edf3;--color-codemirror-selection-bg: rgba(56,139,253,.4);--color-codemirror-activeline-bg: rgba(110,118,129,.1);--color-codemirror-matchingbracket-text: #e6edf3;--color-codemirror-lines-bg: #0d1117;--color-codemirror-syntax-comment: #8b949e;--color-codemirror-syntax-constant: #79c0ff;--color-codemirror-syntax-entity: #d2a8ff;--color-codemirror-syntax-keyword: #ff7b72;--color-codemirror-syntax-storage: #ff7b72;--color-codemirror-syntax-string: #a5d6ff;--color-codemirror-syntax-support: #79c0ff;--color-codemirror-syntax-variable: #ffa657;--color-checks-bg: #010409;--color-checks-run-border-width: 1px;--color-checks-container-border-width: 1px;--color-checks-text-primary: #e6edf3;--color-checks-text-secondary: #7d8590;--color-checks-text-link: #2f81f7;--color-checks-btn-icon: #7d8590;--color-checks-btn-hover-icon: #e6edf3;--color-checks-btn-hover-bg: rgba(110,118,129,.1);--color-checks-input-text: #7d8590;--color-checks-input-placeholder-text: #6e7681;--color-checks-input-focus-text: #e6edf3;--color-checks-input-bg: #161b22;--color-checks-donut-error: #f85149;--color-checks-donut-pending: #d29922;--color-checks-donut-success: #2ea043;--color-checks-donut-neutral: #8b949e;--color-checks-dropdown-text: #e6edf3;--color-checks-dropdown-bg: #161b22;--color-checks-dropdown-border: #30363d;--color-checks-dropdown-shadow: rgba(1,4,9,.3);--color-checks-dropdown-hover-text: #e6edf3;--color-checks-dropdown-hover-bg: rgba(110,118,129,.1);--color-checks-dropdown-btn-hover-text: #e6edf3;--color-checks-dropdown-btn-hover-bg: rgba(110,118,129,.1);--color-checks-scrollbar-thumb-bg: rgba(110,118,129,.4);--color-checks-header-label-text: #7d8590;--color-checks-header-label-open-text: #e6edf3;--color-checks-header-border: #21262d;--color-checks-header-icon: #7d8590;--color-checks-line-text: #7d8590;--color-checks-line-num-text: #6e7681;--color-checks-line-timestamp-text: #6e7681;--color-checks-line-hover-bg: rgba(110,118,129,.1);--color-checks-line-selected-bg: rgba(56,139,253,.1);--color-checks-line-selected-num-text: #2f81f7;--color-checks-line-dt-fm-text: #ffffff;--color-checks-line-dt-fm-bg: #9e6a03;--color-checks-gate-bg: rgba(187,128,9,.15);--color-checks-gate-text: #7d8590;--color-checks-gate-waiting-text: #d29922;--color-checks-step-header-open-bg: #161b22;--color-checks-step-error-text: #f85149;--color-checks-step-warning-text: #d29922;--color-checks-logline-text: #7d8590;--color-checks-logline-num-text: #6e7681;--color-checks-logline-debug-text: #a371f7;--color-checks-logline-error-text: #7d8590;--color-checks-logline-error-num-text: #6e7681;--color-checks-logline-error-bg: rgba(248,81,73,.1);--color-checks-logline-warning-text: #7d8590;--color-checks-logline-warning-num-text: #d29922;--color-checks-logline-warning-bg: rgba(187,128,9,.15);--color-checks-logline-command-text: #2f81f7;--color-checks-logline-section-text: #3fb950;--color-checks-ansi-black: #0d1117;--color-checks-ansi-black-bright: #161b22;--color-checks-ansi-white: #b1bac4;--color-checks-ansi-white-bright: #b1bac4;--color-checks-ansi-gray: #6e7681;--color-checks-ansi-red: #ff7b72;--color-checks-ansi-red-bright: #ffa198;--color-checks-ansi-green: #3fb950;--color-checks-ansi-green-bright: #56d364;--color-checks-ansi-yellow: #d29922;--color-checks-ansi-yellow-bright: #e3b341;--color-checks-ansi-blue: #58a6ff;--color-checks-ansi-blue-bright: #79c0ff;--color-checks-ansi-magenta: #bc8cff;--color-checks-ansi-magenta-bright: #d2a8ff;--color-checks-ansi-cyan: #76e3ea;--color-checks-ansi-cyan-bright: #b3f0ff;--color-project-header-bg: #0d1117;--color-project-sidebar-bg: #161b22;--color-project-gradient-in: #161b22;--color-project-gradient-out: rgba(22,27,34,0);--color-mktg-btn-bg: #f6f8fa;--color-mktg-btn-shadow-outline: rgb(255 255 255 / 25%) 0 0 0 1px inset;--color-mktg-btn-shadow-focus: rgb(255 255 255 / 25%) 0 0 0 4px;--color-mktg-btn-shadow-hover: 0 4px 7px rgba(0, 0, 0, .15), 0 100px 80px rgba(255, 255, 255, .02), 0 42px 33px rgba(255, 255, 255, .024), 0 22px 18px rgba(255, 255, 255, .028), 0 12px 10px rgba(255, 255, 255, .034), 0 7px 5px rgba(255, 255, 255, .04), 0 3px 2px rgba(255, 255, 255, .07);--color-mktg-btn-shadow-hover-muted: rgb(255 255 255) 0 0 0 2px inset;--color-control-border-color-emphasis: #606771;--color-avatar-bg: rgba(255,255,255,.1);--color-avatar-border: rgba(240,246,252,.1);--color-avatar-stack-fade: #30363d;--color-avatar-stack-fade-more: #21262d;--color-avatar-child-shadow: 0 0 0 2px #0d1117;--color-topic-tag-border: rgba(0,0,0,0);--color-counter-border: rgba(0,0,0,0);--color-select-menu-backdrop-border: #484f58;--color-select-menu-tap-highlight: rgba(48,54,61,.5);--color-select-menu-tap-focus-bg: #0c2d6b;--color-overlay-shadow: 0 0 0 1px #30363d, 0 16px 32px rgba(1,4,9,.85);--color-overlay-backdrop: rgba(22,27,34,.4);--color-header-text: rgba(255,255,255,.7);--color-header-bg: #161b22;--color-header-divider: #8b949e;--color-header-logo: #f0f6fc;--color-header-search-bg: #0d1117;--color-header-search-border: #30363d;--color-sidenav-selected-bg: #21262d;--color-menu-bg-active: #161b22;--color-input-disabled-bg: rgba(110,118,129,0);--color-timeline-badge-bg: #21262d;--color-ansi-black: #484f58;--color-ansi-black-bright: #6e7681;--color-ansi-white: #b1bac4;--color-ansi-white-bright: #ffffff;--color-ansi-gray: #6e7681;--color-ansi-red: #ff7b72;--color-ansi-red-bright: #ffa198;--color-ansi-green: #3fb950;--color-ansi-green-bright: #56d364;--color-ansi-yellow: #d29922;--color-ansi-yellow-bright: #e3b341;--color-ansi-blue: #58a6ff;--color-ansi-blue-bright: #79c0ff;--color-ansi-magenta: #bc8cff;--color-ansi-magenta-bright: #d2a8ff;--color-ansi-cyan: #39c5cf;--color-ansi-cyan-bright: #56d4dd;--color-btn-text: #c9d1d9;--color-btn-bg: #21262d;--color-btn-border: rgba(240,246,252,.1);--color-btn-shadow: 0 0 transparent;--color-btn-inset-shadow: 0 0 transparent;--color-btn-hover-bg: #30363d;--color-btn-hover-border: #8b949e;--color-btn-active-bg: hsla(212,12%,18%,1);--color-btn-active-border: #6e7681;--color-btn-selected-bg: #161b22;--color-btn-counter-bg: #30363d;--color-btn-primary-text: #ffffff;--color-btn-primary-bg: #238636;--color-btn-primary-border: rgba(240,246,252,.1);--color-btn-primary-shadow: 0 0 transparent;--color-btn-primary-inset-shadow: 0 0 transparent;--color-btn-primary-hover-bg: #2ea043;--color-btn-primary-hover-border: rgba(240,246,252,.1);--color-btn-primary-selected-bg: #238636;--color-btn-primary-selected-shadow: 0 0 transparent;--color-btn-primary-disabled-text: rgba(255,255,255,.5);--color-btn-primary-disabled-bg: rgba(35,134,54,.6);--color-btn-primary-disabled-border: rgba(240,246,252,.1);--color-btn-primary-icon: #ffffff;--color-btn-primary-counter-bg: rgba(4,38,15,.2);--color-btn-outline-text: #388bfd;--color-btn-outline-hover-text: #58a6ff;--color-btn-outline-hover-bg: #30363d;--color-btn-outline-hover-border: rgba(240,246,252,.1);--color-btn-outline-hover-shadow: 0 1px 0 rgba(1,4,9,.1);--color-btn-outline-hover-inset-shadow: inset 0 1px 0 rgba(255,255,255,.03);--color-btn-outline-hover-counter-bg: rgba(5,29,77,.2);--color-btn-outline-selected-text: #ffffff;--color-btn-outline-selected-bg: #0d419d;--color-btn-outline-selected-border: rgba(240,246,252,.1);--color-btn-outline-selected-shadow: 0 0 transparent;--color-btn-outline-disabled-text: rgba(88,166,255,.5);--color-btn-outline-disabled-bg: #0d1117;--color-btn-outline-disabled-counter-bg: rgba(31,111,235,.05);--color-btn-outline-counter-bg: rgba(5,29,77,.2);--color-btn-outline-hover-counter-fg: #58a6ff;--color-btn-outline-disabled-counter-fg: rgba(47,129,247,.5);--color-btn-outline-counter-fg: #388bfd;--color-btn-danger-text: #f85149;--color-btn-danger-hover-text: #ffffff;--color-btn-danger-hover-bg: #da3633;--color-btn-danger-hover-border: #f85149;--color-btn-danger-hover-shadow: 0 0 transparent;--color-btn-danger-hover-inset-shadow: 0 0 transparent;--color-btn-danger-hover-icon: #ffffff;--color-btn-danger-hover-counter-bg: rgba(255,255,255,.2);--color-btn-danger-selected-text: #ffffff;--color-btn-danger-selected-bg: #b62324;--color-btn-danger-selected-border: #ff7b72;--color-btn-danger-selected-shadow: 0 0 transparent;--color-btn-danger-disabled-text: rgba(248,81,73,.5);--color-btn-danger-disabled-bg: #0d1117;--color-btn-danger-disabled-counter-bg: rgba(218,54,51,.05);--color-btn-danger-counter-bg: rgba(73,2,2,.2);--color-btn-danger-icon: #f85149;--color-btn-danger-counter-fg: #f85149;--color-btn-danger-disabled-counter-fg: rgba(248,81,73,.5);--color-btn-danger-hover-counter-fg: #ffffff;--color-underlinenav-icon: #6e7681;--color-underlinenav-border-hover: rgba(110,118,129,.4);--color-action-list-item-inline-divider: rgba(48,54,61,.48);--color-action-list-item-default-hover-bg: rgba(177,186,196,.12);--color-action-list-item-default-hover-border: rgba(0,0,0,0);--color-action-list-item-default-active-bg: rgba(177,186,196,.2);--color-action-list-item-default-active-border: rgba(0,0,0,0);--color-action-list-item-default-selected-bg: rgba(177,186,196,.08);--color-action-list-item-danger-hover-bg: rgba(248,81,73,.16);--color-action-list-item-danger-active-bg: rgba(248,81,73,.24);--color-action-list-item-danger-hover-text: #ff7b72;--color-switch-track-bg: rgba(110,118,129,.1);--color-switch-track-hover-bg: hsla(215,8%,72%,.1);--color-switch-track-active-bg: rgba(110,118,129,.4);--color-switch-track-disabled-bg: #21262d;--color-switch-track-fg: #7d8590;--color-switch-track-disabled-fg: #010409;--color-switch-track-border: rgba(0,0,0,0);--color-switch-track-checked-bg: rgba(31,111,235,.35);--color-switch-track-checked-hover-bg: rgba(31,111,235,.5);--color-switch-track-checked-active-bg: rgba(31,111,235,.65);--color-switch-track-checked-fg: #ffffff;--color-switch-track-checked-disabled-fg: #010409;--color-switch-track-checked-border: rgba(0,0,0,0);--color-switch-knob-bg: #0d1117;--color-switch-knob-border: #606771;--color-switch-knob-disabled-bg: #161b22;--color-switch-knob-checked-bg: #0d1117;--color-switch-knob-checked-disabled-bg: #161b22;--color-switch-knob-checked-border: rgba(31,111,235,.35);--color-segmented-control-bg: rgba(110,118,129,.1);--color-segmented-control-button-bg: #0d1117;--color-segmented-control-button-hover-bg: #30363d;--color-segmented-control-button-active-bg: #21262d;--color-segmented-control-button-selected-border: #6e7681;--color-tree-view-item-chevron-hover-bg: rgba(177,186,196,.12);--color-tree-view-item-directory-fill: #7d8590;--color-fg-default: #e6edf3;--color-fg-muted: #7d8590;--color-fg-subtle: #6e7681;--color-fg-on-emphasis: #ffffff;--color-canvas-default: #0d1117;--color-canvas-overlay: #161b22;--color-canvas-inset: #010409;--color-canvas-subtle: #161b22;--color-border-default: #30363d;--color-border-muted: #21262d;--color-border-subtle: rgba(240,246,252,.1);--color-shadow-small: 0 0 transparent;--color-shadow-medium: 0 3px 6px #010409;--color-shadow-large: 0 8px 24px #010409;--color-shadow-extra-large: 0 12px 48px #010409;--color-neutral-emphasis-plus: #6e7681;--color-neutral-emphasis: #6e7681;--color-neutral-muted: rgba(110,118,129,.4);--color-neutral-subtle: rgba(110,118,129,.1);--color-accent-fg: #2f81f7;--color-accent-emphasis: #1f6feb;--color-accent-muted: rgba(56,139,253,.4);--color-accent-subtle: rgba(56,139,253,.1);--color-success-fg: #3fb950;--color-success-emphasis: #238636;--color-success-muted: rgba(46,160,67,.4);--color-success-subtle: rgba(46,160,67,.15);--color-attention-fg: #d29922;--color-attention-emphasis: #9e6a03;--color-attention-muted: rgba(187,128,9,.4);--color-attention-subtle: rgba(187,128,9,.15);--color-severe-fg: #db6d28;--color-severe-emphasis: #bd561d;--color-severe-muted: rgba(219,109,40,.4);--color-severe-subtle: rgba(219,109,40,.1);--color-danger-fg: #f85149;--color-danger-emphasis: #da3633;--color-danger-muted: rgba(248,81,73,.4);--color-danger-subtle: rgba(248,81,73,.1);--color-open-fg: #3fb950;--color-open-emphasis: #238636;--color-open-muted: rgba(46,160,67,.4);--color-open-subtle: rgba(46,160,67,.15);--color-closed-fg: #f85149;--color-closed-emphasis: #da3633;--color-closed-muted: rgba(248,81,73,.4);--color-closed-subtle: rgba(248,81,73,.15);--color-done-fg: #a371f7;--color-done-emphasis: #8957e5;--color-done-muted: rgba(163,113,247,.4);--color-done-subtle: rgba(163,113,247,.1);--color-sponsors-fg: #db61a2;--color-sponsors-emphasis: #bf4b8a;--color-sponsors-muted: rgba(219,97,162,.4);--color-sponsors-subtle: rgba(219,97,162,.1);--color-primer-fg-disabled: #484f58;--color-primer-canvas-backdrop: rgba(1,4,9,.8);--color-primer-canvas-sticky: rgba(13,17,23,.95);--color-primer-border-active: #f78166;--color-primer-border-contrast: rgba(255,255,255,.2);--color-primer-shadow-highlight: 0 0 transparent;--color-primer-shadow-inset: 0 0 transparent;--color-scale-black: #010409;--color-scale-white: #ffffff;--color-scale-gray-0: #f0f6fc;--color-scale-gray-1: #c9d1d9;--color-scale-gray-2: #b1bac4;--color-scale-gray-3: #8b949e;--color-scale-gray-4: #6e7681;--color-scale-gray-5: #484f58;--color-scale-gray-6: #30363d;--color-scale-gray-7: #21262d;--color-scale-gray-8: #161b22;--color-scale-gray-9: #0d1117;--color-scale-blue-0: #cae8ff;--color-scale-blue-1: #a5d6ff;--color-scale-blue-2: #79c0ff;--color-scale-blue-3: #58a6ff;--color-scale-blue-4: #388bfd;--color-scale-blue-5: #1f6feb;--color-scale-blue-6: #1158c7;--color-scale-blue-7: #0d419d;--color-scale-blue-8: #0c2d6b;--color-scale-blue-9: #051d4d;--color-scale-green-0: #aff5b4;--color-scale-green-1: #7ee787;--color-scale-green-2: #56d364;--color-scale-green-3: #3fb950;--color-scale-green-4: #2ea043;--color-scale-green-5: #238636;--color-scale-green-6: #196c2e;--color-scale-green-7: #0f5323;--color-scale-green-8: #033a16;--color-scale-green-9: #04260f;--color-scale-yellow-0: #f8e3a1;--color-scale-yellow-1: #f2cc60;--color-scale-yellow-2: #e3b341;--color-scale-yellow-3: #d29922;--color-scale-yellow-4: #bb8009;--color-scale-yellow-5: #9e6a03;--color-scale-yellow-6: #845306;--color-scale-yellow-7: #693e00;--color-scale-yellow-8: #4b2900;--color-scale-yellow-9: #341a00;--color-scale-orange-0: #ffdfb6;--color-scale-orange-1: #ffc680;--color-scale-orange-2: #ffa657;--color-scale-orange-3: #f0883e;--color-scale-orange-4: #db6d28;--color-scale-orange-5: #bd561d;--color-scale-orange-6: #9b4215;--color-scale-orange-7: #762d0a;--color-scale-orange-8: #5a1e02;--color-scale-orange-9: #3d1300;--color-scale-red-0: #ffdcd7;--color-scale-red-1: #ffc1ba;--color-scale-red-2: #ffa198;--color-scale-red-3: #ff7b72;--color-scale-red-4: #f85149;--color-scale-red-5: #da3633;--color-scale-red-6: #b62324;--color-scale-red-7: #8e1519;--color-scale-red-8: #67060c;--color-scale-red-9: #490202;--color-scale-purple-0: #eddeff;--color-scale-purple-1: #e2c5ff;--color-scale-purple-2: #d2a8ff;--color-scale-purple-3: #bc8cff;--color-scale-purple-4: #a371f7;--color-scale-purple-5: #8957e5;--color-scale-purple-6: #6e40c9;--color-scale-purple-7: #553098;--color-scale-purple-8: #3c1e70;--color-scale-purple-9: #271052;--color-scale-pink-0: #ffdaec;--color-scale-pink-1: #ffbedd;--color-scale-pink-2: #ff9bce;--color-scale-pink-3: #f778ba;--color-scale-pink-4: #db61a2;--color-scale-pink-5: #bf4b8a;--color-scale-pink-6: #9e3670;--color-scale-pink-7: #7d2457;--color-scale-pink-8: #5e103e;--color-scale-pink-9: #42062a;--color-scale-coral-0: #ffddd2;--color-scale-coral-1: #ffc2b2;--color-scale-coral-2: #ffa28b;--color-scale-coral-3: #f78166;--color-scale-coral-4: #ea6045;--color-scale-coral-5: #cf462d;--color-scale-coral-6: #ac3220;--color-scale-coral-7: #872012;--color-scale-coral-8: #640d04;--color-scale-coral-9: #460701}.code-diff-view[theme=dark] pre code.hljs{display:block;overflow-x:auto;padding:1em}.code-diff-view[theme=dark] code.hljs{padding:3px 5px}.code-diff-view[theme=dark] .hljs{color:#c9d1d9;background:#0d1117}.code-diff-view[theme=dark] .hljs-doctag,.code-diff-view[theme=dark] .hljs-keyword,.code-diff-view[theme=dark] .hljs-meta .hljs-keyword,.code-diff-view[theme=dark] .hljs-template-tag,.code-diff-view[theme=dark] .hljs-template-variable,.code-diff-view[theme=dark] .hljs-type,.code-diff-view[theme=dark] .hljs-variable.language_{color:#ff7b72}.code-diff-view[theme=dark] .hljs-title,.code-diff-view[theme=dark] .hljs-title.class_,.code-diff-view[theme=dark] .hljs-title.class_.inherited__,.code-diff-view[theme=dark] .hljs-title.function_{color:#d2a8ff}.code-diff-view[theme=dark] .hljs-attr,.code-diff-view[theme=dark] .hljs-attribute,.code-diff-view[theme=dark] .hljs-literal,.code-diff-view[theme=dark] .hljs-meta,.code-diff-view[theme=dark] .hljs-number,.code-diff-view[theme=dark] .hljs-operator,.code-diff-view[theme=dark] .hljs-variable,.code-diff-view[theme=dark] .hljs-selector-attr,.code-diff-view[theme=dark] .hljs-selector-class,.code-diff-view[theme=dark] .hljs-selector-id{color:#79c0ff}.code-diff-view[theme=dark] .hljs-regexp,.code-diff-view[theme=dark] .hljs-string,.code-diff-view[theme=dark] .hljs-meta .hljs-string{color:#a5d6ff}.code-diff-view[theme=dark] .hljs-built_in,.code-diff-view[theme=dark] .hljs-symbol{color:#ffa657}.code-diff-view[theme=dark] .hljs-comment,.code-diff-view[theme=dark] .hljs-code,.code-diff-view[theme=dark] .hljs-formula{color:#8b949e}.code-diff-view[theme=dark] .hljs-name,.code-diff-view[theme=dark] .hljs-quote,.code-diff-view[theme=dark] .hljs-selector-tag,.code-diff-view[theme=dark] .hljs-selector-pseudo{color:#7ee787}.code-diff-view[theme=dark] .hljs-subst{color:#c9d1d9}.code-diff-view[theme=dark] .hljs-section{color:#1f6feb;font-weight:700}.code-diff-view[theme=dark] .hljs-bullet{color:#f2cc60}.code-diff-view[theme=dark] .hljs-emphasis{color:#c9d1d9;font-style:italic}.code-diff-view[theme=dark] .hljs-strong{color:#c9d1d9;font-weight:700}.code-diff-view[theme=dark] .hljs-addition{color:#aff5b4;background-color:#033a16}.code-diff-view[theme=dark] .hljs-deletion{color:#ffdcd7;background-color:#67060c}.code-diff-view{position:relative;margin-top:16px;margin-bottom:16px;border:1px solid var(--color-border-default, #ddd);border-radius:6px;overflow-y:auto}.code-diff-view *{position:static;box-sizing:border-box}.code-diff-view .file-header{position:sticky;top:0;z-index:1;background-color:var(--color-canvas-subtle);border-bottom:1px solid var(--color-border-default);padding:8px 16px;font-size:12px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace}.code-diff-view .file-header .file-info{display:flex;justify-content:space-between;align-items:center;margin-left:8px;height:24px}.code-diff-view .file-header .file-info .info-left{color:var(--color-fg-default)}.code-diff-view .file-header .file-info .info-right{display:flex;justify-content:space-between;align-items:center;width:50%}.code-diff-view .file-header .file-info .diff-stat{display:inline-flex;align-items:center;gap:8px}.code-diff-view .file-header .file-info .diff-stat .diff-stat-added{color:var(--color-diffstat-addition-bg)}.code-diff-view .file-header .file-info .diff-stat .diff-stat-deleted{color:var(--color-danger-emphasis)}.code-diff-view .file-header .file-info .diff-stat .diff-stat-ignored{color:var(--color-fg-subtle)}.code-diff-view .file-header .file-info .diff-commandbar{margin-left:auto;margin-right:1rem}.code-diff-view .file-header .file-info .diff-commandbar .command-item-button{background-color:transparent;color:var(--color-fg-subtle);border:none}.code-diff-view .file-header .file-info .diff-commandbar .command-item-button svg{fill:var(--color-fg-subtle)}.code-diff-view .file-header .file-info .diff-commandbar .command-item-button:hover{background-color:var(--color-btn-outline-hover-border)}.code-diff-view table{border-spacing:0}.code-diff-view .diff-table{width:100%}.code-diff-view .diff-table .blob-num{position:relative;width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;line-height:20px;color:var(--color-fg-subtle);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;user-select:none}.code-diff-view .diff-table .blob-num-deletion{color:var(--color-diff-blob-deletion-num-text);background-color:var(--color-diff-blob-deletion-num-bg);border-color:var(--color-danger-emphasis)}.code-diff-view .diff-table .blob-num-addition{color:var(--color-diff-blob-addition-num-text);background-color:var(--color-diff-blob-addition-num-bg);border-color:var(--color-success-emphasis)}.code-diff-view .diff-table .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.code-diff-view .diff-table .blob-code .blob-code-inner{display:table-cell;overflow:visible;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;color:var(--color-fg-default);word-wrap:anywhere;white-space:pre-wrap}.code-diff-view .diff-table .blob-code-deletion{background-color:var(--color-diff-blob-deletion-line-bg);outline:1px dashed transparent}.code-diff-view .diff-table .blob-code-deletion .x{color:var(--color-diff-blob-deletion-fg);background-color:var(--color-diff-blob-deletion-word-bg)}.code-diff-view .diff-table .blob-code-addition{background-color:var(--color-diff-blob-addition-line-bg);outline:1px dotted transparent}.code-diff-view .diff-table .blob-code-addition .x{color:var(--color-diff-blob-addition-fg);background-color:var(--color-diff-blob-addition-word-bg)}.code-diff-view .diff-table .current-diff{border:1px solid var(--color-border-muted)}.code-diff-view .diff-table .blob-code-context,.code-diff-view .diff-table .blob-code-addition,.code-diff-view .diff-table .blob-code-deletion{padding-left:22px!important}.code-diff-view .diff-table .blob-code-marker:before{position:absolute;top:1px;left:8px;padding-right:8px;content:attr(data-code-marker)}.code-diff-view .diff-table .blob-num-hunk{background-color:var(--color-diff-blob-hunk-num-bg)}.code-diff-view .diff-table .blob-code-hunk{background-color:var(--color-accent-subtle)}.code-diff-view .file-diff-split{table-layout:fixed}.code-diff-view .file-diff-split .blob-code+.blob-num{border-left:1px solid var(--color-border-muted)}.code-diff-view .file-diff-split .no-select{user-select:none}.code-diff-view .empty-cell{cursor:default;background-color:var(--color-neutral-subtle);border-right-color:var(--color-border-muted)}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})(),s.prototype={diff:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.callback;"function"==typeof n&&(r=n,n={}),this.options=n;var i=this;function o(e){return r?(setTimeout((function(){r(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var s=t.length,u=e.length,c=1,h=s+u;n.maxEditLength&&(h=Math.min(h,n.maxEditLength));var d=[{newPos:-1,components:[]}],f=this.extractCommon(d[0],t,e,0);if(d[0].newPos+1>=s&&f+1>=u)return o([{value:this.join(t),count:t.length}]);function p(){for(var n=-1*c;n<=c;n+=2){var r=void 0,h=d[n-1],f=d[n+1],p=(f?f.newPos:0)-n;h&&(d[n-1]=void 0);var m=h&&h.newPos+1<s,g=f&&0<=p&&p<u;if(m||g){if(!m||g&&h.newPos<f.newPos?(r=l(f),i.pushComponent(r.components,void 0,!0)):(r=h,r.newPos++,i.pushComponent(r.components,!0,void 0)),p=i.extractCommon(r,t,e,n),r.newPos+1>=s&&p+1>=u)return o(a(i,r.components,t,e,i.useLongestToken));d[n]=r}else d[n]=void 0}c++}if(r)(function e(){setTimeout((function(){if(c>h)return r();p()||e()}),0)})();else for(;c<=h;){var m=p();if(m)return m}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var i=t.length,o=n.length,s=e.newPos,a=s-r,l=0;s+1<i&&a+1<o&&this.equals(t[s+1],n[a+1]);)s++,a++,l++;return l&&e.components.push({count:l}),e.newPos=s,a},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var u=new s;function c(e,t,n){return u.diff(e,t,n)}function h(e,t){if("function"==typeof e)t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var d=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,f=/\S/,p=new s;function m(e,t,n){return n=h(n,{ignoreWhitespace:!0}),p.diff(e,t,n)}p.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!f.test(e)&&!f.test(t)},p.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&d.test(t[n])&&d.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var g=new s;g.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};var v=new s;v.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var y=new s;function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}y.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var w=Object.prototype.toString,_=new s;function E(e,t,n,r,i){var o,s;for(t=t||[],n=n||[],r&&(e=r(i,e)),o=0;o<t.length;o+=1)if(t[o]===e)return n[o];if("[object Array]"===w.call(e)){for(t.push(e),s=new Array(e.length),n.push(s),o=0;o<e.length;o+=1)s[o]=E(e[o],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),"object"===b(e)&&null!==e){t.push(e),s={},n.push(s);var a,l=[];for(a in e)e.hasOwnProperty(a)&&l.push(a);for(l.sort(),o=0;o<l.length;o+=1)a=l[o],s[a]=E(e[a],t,n,r,a);t.pop(),n.pop()}else s=e;return s}_.useLongestToken=!0,_.tokenize=g.tokenize,_.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=void 0===r?function(e,t){return"undefined"==typeof t?n:t}:r;return"string"==typeof e?e:JSON.stringify(E(e,null,null,i),i,"  ")},_.equals=function(e,t){return s.prototype.equals.call(_,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var S=new s;function T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}S.tokenize=function(e){return e.slice()},S.join=S.removeEmpty=function(e){return e};var M={exports:{}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1,r=1,i=0;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,r,o){"undefined"==typeof o&&(o=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=o;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(i,e)]:[];"undefined"==typeof r&&(r=!0);var a=r,l=this.diff_commonPrefix(e,n),u=e.substring(0,l);e=e.substring(l),n=n.substring(l),l=this.diff_commonSuffix(e,n);var c=e.substring(e.length-l);e=e.substring(0,e.length-l),n=n.substring(0,n.length-l);var h=this.diff_compute_(e,n,a,s);return u&&h.unshift(new t.Diff(i,u)),c&&h.push(new t.Diff(i,c)),this.diff_cleanupMerge(h),h},t.prototype.diff_compute_=function(e,o,s,a){var l;if(!e)return[new t.Diff(r,o)];if(!o)return[new t.Diff(n,e)];var u=e.length>o.length?e:o,c=e.length>o.length?o:e,h=u.indexOf(c);if(-1!=h)return l=[new t.Diff(r,u.substring(0,h)),new t.Diff(i,c),new t.Diff(r,u.substring(h+c.length))],e.length>o.length&&(l[0][0]=l[2][0]=n),l;if(1==c.length)return[new t.Diff(n,e),new t.Diff(r,o)];var d=this.diff_halfMatch_(e,o);if(d){var f=d[0],p=d[1],m=d[2],g=d[3],v=d[4],y=this.diff_main(f,m,s,a),b=this.diff_main(p,g,s,a);return y.concat([new t.Diff(i,v)],b)}return s&&e.length>100&&o.length>100?this.diff_lineMode_(e,o,a):this.diff_bisect_(e,o,a)},t.prototype.diff_lineMode_=function(e,o,s){var a=this.diff_linesToChars_(e,o);e=a.chars1,o=a.chars2;var l=a.lineArray,u=this.diff_main(e,o,!1,s);this.diff_charsToLines_(u,l),this.diff_cleanupSemantic(u),u.push(new t.Diff(i,""));for(var c=0,h=0,d=0,f="",p="";c<u.length;){switch(u[c][0]){case r:d++,p+=u[c][1];break;case n:h++,f+=u[c][1];break;case i:if(h>=1&&d>=1){u.splice(c-h-d,h+d),c=c-h-d;for(var m=this.diff_main(f,p,!1,s),g=m.length-1;g>=0;g--)u.splice(c,0,m[g]);c+=m.length}d=0,h=0,f="",p="";break}c++}return u.pop(),u},t.prototype.diff_bisect_=function(e,i,o){for(var s=e.length,a=i.length,l=Math.ceil((s+a)/2),u=l,c=2*l,h=new Array(c),d=new Array(c),f=0;f<c;f++)h[f]=-1,d[f]=-1;h[u+1]=0,d[u+1]=0;for(var p=s-a,m=p%2!=0,g=0,v=0,y=0,b=0,w=0;w<l&&!((new Date).getTime()>o);w++){for(var _=-w+g;_<=w-v;_+=2){var E=u+_;x=_==-w||_!=w&&h[E-1]<h[E+1]?h[E+1]:h[E-1]+1;for(var S=x-_;x<s&&S<a&&e.charAt(x)==i.charAt(S);)x++,S++;if(h[E]=x,x>s)v+=2;else if(S>a)g+=2;else if(m){var T=u+p-_;if(T>=0&&T<c&&-1!=d[T]){var M=s-d[T];if(x>=M)return this.diff_bisectSplit_(e,i,x,S,o)}}}for(var C=-w+y;C<=w-b;C+=2){T=u+C;M=C==-w||C!=w&&d[T-1]<d[T+1]?d[T+1]:d[T-1]+1;for(var R=M-C;M<s&&R<a&&e.charAt(s-M-1)==i.charAt(a-R-1);)M++,R++;if(d[T]=M,M>s)b+=2;else if(R>a)y+=2;else if(!m){E=u+p-C;if(E>=0&&E<c&&-1!=h[E]){var x=h[E];S=u+x-E;if(M=s-M,x>=M)return this.diff_bisectSplit_(e,i,x,S,o)}}}}return[new t.Diff(n,e),new t.Diff(r,i)]},t.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),u=this.diff_main(o,s,!1,i),c=this.diff_main(a,l,!1,i);return u.concat(c)},t.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function i(e){for(var t="",i=0,s=-1,a=n.length;s<e.length-1;){s=e.indexOf("\n",i),-1==s&&(s=e.length-1);var l=e.substring(i,s+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(a==o&&(l=e.substring(i),s=e.length),t+=String.fromCharCode(a),r[l]=a,n[a++]=l),i=s+1}return t}n[0]="";var o=4e4,s=i(e);o=65535;var a=i(t);return{chars1:s,chars2:a,lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,s=1;;){var a=e.substring(i-s),l=t.indexOf(a);if(-1==l)return o;s+=l,(0==l||e.substring(i-s)==t.substring(0,s))&&(o=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(e,t,n){for(var r,o,s,a,l=e.substring(n,n+Math.floor(e.length/4)),u=-1,c="";-1!=(u=t.indexOf(l,u+1));){var h=i.diff_commonPrefix(e.substring(n),t.substring(u)),d=i.diff_commonSuffix(e.substring(0,n),t.substring(0,u));c.length<d+h&&(c=t.substring(u-d,u)+t.substring(u,u+h),r=e.substring(0,n-d),o=e.substring(n+h),s=t.substring(0,u-d),a=t.substring(u+h))}return 2*c.length>=e.length?[r,o,s,a,c]:null}var s,a,l,u,c,h=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));if(!h&&!d)return null;s=d?h&&h[4].length>d[4].length?h:d:h,e.length>t.length?(a=s[0],l=s[1],u=s[2],c=s[3]):(u=s[0],c=s[1],a=s[2],l=s[3]);var f=s[4];return[a,l,u,c,f]},t.prototype.diff_cleanupSemantic=function(e){for(var o=!1,s=[],a=0,l=null,u=0,c=0,h=0,d=0,f=0;u<e.length;)e[u][0]==i?(s[a++]=u,c=d,h=f,d=0,f=0,l=e[u][1]):(e[u][0]==r?d+=e[u][1].length:f+=e[u][1].length,l&&l.length<=Math.max(c,h)&&l.length<=Math.max(d,f)&&(e.splice(s[a-1],0,new t.Diff(n,l)),e[s[a-1]+1][0]=r,a--,a--,u=a>0?s[a-1]:-1,c=0,h=0,d=0,f=0,l=null,o=!0)),u++;for(o&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),u=1;u<e.length;){if(e[u-1][0]==n&&e[u][0]==r){var p=e[u-1][1],m=e[u][1],g=this.diff_commonOverlap_(p,m),v=this.diff_commonOverlap_(m,p);g>=v?(g>=p.length/2||g>=m.length/2)&&(e.splice(u,0,new t.Diff(i,m.substring(0,g))),e[u-1][1]=p.substring(0,p.length-g),e[u+1][1]=m.substring(g),u++):(v>=p.length/2||v>=m.length/2)&&(e.splice(u,0,new t.Diff(i,p.substring(0,v))),e[u-1][0]=r,e[u-1][1]=m.substring(0,m.length-v),e[u+1][0]=n,e[u+1][1]=p.substring(v),u++),u++}u++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),i=n.charAt(0),o=r.match(t.nonAlphaNumericRegex_),s=i.match(t.nonAlphaNumericRegex_),a=o&&r.match(t.whitespaceRegex_),l=s&&i.match(t.whitespaceRegex_),u=a&&r.match(t.linebreakRegex_),c=l&&i.match(t.linebreakRegex_),h=u&&e.match(t.blanklineEndRegex_),d=c&&n.match(t.blanklineStartRegex_);return h||d?5:u||c?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var r=1;r<e.length-1;){if(e[r-1][0]==i&&e[r+1][0]==i){var o=e[r-1][1],s=e[r][1],a=e[r+1][1],l=this.diff_commonSuffix(o,s);if(l){var u=s.substring(s.length-l);o=o.substring(0,o.length-l),s=u+s.substring(0,s.length-l),a=u+a}for(var c=o,h=s,d=a,f=n(o,s)+n(s,a);s.charAt(0)===a.charAt(0);){o+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);var p=n(o,s)+n(s,a);p>=f&&(f=p,c=o,h=s,d=a)}e[r-1][1]!=c&&(c?e[r-1][1]=c:(e.splice(r-1,1),r--),e[r][1]=h,d?e[r+1][1]=d:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var o=!1,s=[],a=0,l=null,u=0,c=!1,h=!1,d=!1,f=!1;u<e.length;)e[u][0]==i?(e[u][1].length<this.Diff_EditCost&&(d||f)?(s[a++]=u,c=d,h=f,l=e[u][1]):(a=0,l=null),d=f=!1):(e[u][0]==n?f=!0:d=!0,l&&(c&&h&&d&&f||l.length<this.Diff_EditCost/2&&c+h+d+f==3)&&(e.splice(s[a-1],0,new t.Diff(n,l)),e[s[a-1]+1][0]=r,a--,l=null,c&&h?(d=f=!0,a=0):(a--,u=a>0?s[a-1]:-1,d=f=!1),o=!0)),u++;o&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(i,""));for(var o,s=0,a=0,l=0,u="",c="";s<e.length;)switch(e[s][0]){case r:l++,c+=e[s][1],s++;break;case n:a++,u+=e[s][1],s++;break;case i:a+l>1?(0!==a&&0!==l&&(o=this.diff_commonPrefix(c,u),0!==o&&(s-a-l>0&&e[s-a-l-1][0]==i?e[s-a-l-1][1]+=c.substring(0,o):(e.splice(0,0,new t.Diff(i,c.substring(0,o))),s++),c=c.substring(o),u=u.substring(o)),o=this.diff_commonSuffix(c,u),0!==o&&(e[s][1]=c.substring(c.length-o)+e[s][1],c=c.substring(0,c.length-o),u=u.substring(0,u.length-o))),s-=a+l,e.splice(s,a+l),u.length&&(e.splice(s,0,new t.Diff(n,u)),s++),c.length&&(e.splice(s,0,new t.Diff(r,c)),s++),s++):0!==s&&e[s-1][0]==i?(e[s-1][1]+=e[s][1],e.splice(s,1)):s++,l=0,a=0,u="",c="";break}""===e[e.length-1][1]&&e.pop();var h=!1;for(s=1;s<e.length-1;)e[s-1][0]==i&&e[s+1][0]==i&&(e[s][1].substring(e[s][1].length-e[s-1][1].length)==e[s-1][1]?(e[s][1]=e[s-1][1]+e[s][1].substring(0,e[s][1].length-e[s-1][1].length),e[s+1][1]=e[s-1][1]+e[s+1][1],e.splice(s-1,1),h=!0):e[s][1].substring(0,e[s+1][1].length)==e[s+1][1]&&(e[s-1][1]+=e[s+1][1],e[s][1]=e[s][1].substring(e[s+1][1].length)+e[s+1][1],e.splice(s+1,1),h=!0)),s++;h&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var i,o=0,s=0,a=0,l=0;for(i=0;i<e.length&&(e[i][0]!==r&&(o+=e[i][1].length),e[i][0]!==n&&(s+=e[i][1].length),!(o>t));i++)a=o,l=s;return e.length!=i&&e[i][0]===n?l:l+(t-a)},t.prototype.diff_prettyHtml=function(e){for(var t=[],o=/&/g,s=/</g,a=/>/g,l=/\n/g,u=0;u<e.length;u++){var c=e[u][0],h=e[u][1],d=h.replace(o,"&amp;").replace(s,"&lt;").replace(a,"&gt;").replace(l,"&para;<br>");switch(c){case r:t[u]='<ins style="background:#e6ffe6;">'+d+"</ins>";break;case n:t[u]='<del style="background:#ffe6e6;">'+d+"</del>";break;case i:t[u]="<span>"+d+"</span>";break}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==r&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,o=0,s=0,a=0;a<e.length;a++){var l=e[a][0],u=e[a][1];switch(l){case r:o+=u.length;break;case n:s+=u.length;break;case i:t+=Math.max(o,s),o=0,s=0;break}}return t+=Math.max(o,s),t},t.prototype.diff_toDelta=function(e){for(var t=[],o=0;o<e.length;o++)switch(e[o][0]){case r:t[o]="+"+encodeURI(e[o][1]);break;case n:t[o]="-"+e[o][1].length;break;case i:t[o]="="+e[o][1].length;break}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,o){for(var s=[],a=0,l=0,u=o.split(/\t/g),c=0;c<u.length;c++){var h=u[c].substring(1);switch(u[c].charAt(0)){case"+":try{s[a++]=new t.Diff(r,decodeURI(h))}catch(p){throw new Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var d=parseInt(h,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+h);var f=e.substring(l,l+=d);"="==u[c].charAt(0)?s[a++]=new t.Diff(i,f):s[a++]=new t.Diff(n,f);break;default:if(u[c])throw new Error("Invalid diff operation in diff_fromDelta: "+u[c])}}if(l!=e.length)throw new Error("Delta length ("+l+") does not equal source text length ("+e.length+").");return s},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),i=this;function o(e,r){var o=e/t.length,s=Math.abs(n-r);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(s=Math.min(o(0,a),s),a=e.lastIndexOf(t,n+t.length),-1!=a&&(s=Math.min(o(0,a),s)));var l=1<<t.length-1;a=-1;for(var u,c,h,d=t.length+e.length,f=0;f<t.length;f++){for(u=0,c=d;u<c;)o(f,n+c)<=s?u=c:d=c,c=Math.floor((d-u)/2+u);d=c;var p=Math.max(1,n-c+1),m=Math.min(n+c,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<f)-1;for(var v=m;v>=p;v--){var y=r[e.charAt(v-1)];if(g[v]=0===f?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(h[v+1]|h[v])<<1|1|h[v+1],g[v]&l){var b=o(f,v-1);if(b<=s){if(s=b,a=v-1,!(a>n))break;p=Math.max(1,2*n-a)}}}if(o(f+1,n)>s)break;h=g}return a},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var r=n.substring(e.start2,e.start2+e.length1),o=0;n.indexOf(r)!=n.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)o+=this.Patch_Margin,r=n.substring(e.start2-o,e.start2+e.length1+o);o+=this.Patch_Margin;var s=n.substring(e.start2-o,e.start2);s&&e.diffs.unshift(new t.Diff(i,s));var a=n.substring(e.start2+e.length1,e.start2+e.length1+o);a&&e.diffs.push(new t.Diff(i,a)),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+a.length,e.length2+=s.length+a.length}},t.prototype.patch_make=function(e,o,s){var a,l;if("string"==typeof e&&"string"==typeof o&&"undefined"==typeof s)a=e,l=this.diff_main(a,o,!0),l.length>2&&(this.diff_cleanupSemantic(l),this.diff_cleanupEfficiency(l));else if(e&&"object"==typeof e&&"undefined"==typeof o&&"undefined"==typeof s)l=e,a=this.diff_text1(l);else if("string"==typeof e&&o&&"object"==typeof o&&"undefined"==typeof s)a=e,l=o;else{if("string"!=typeof e||"string"!=typeof o||!s||"object"!=typeof s)throw new Error("Unknown call format to patch_make.");a=e,l=s}if(0===l.length)return[];for(var u=[],c=new t.patch_obj,h=0,d=0,f=0,p=a,m=a,g=0;g<l.length;g++){var v=l[g][0],y=l[g][1];switch(!h&&v!==i&&(c.start1=d,c.start2=f),v){case r:c.diffs[h++]=l[g],c.length2+=y.length,m=m.substring(0,f)+y+m.substring(f);break;case n:c.length1+=y.length,c.diffs[h++]=l[g],m=m.substring(0,f)+m.substring(f+y.length);break;case i:y.length<=2*this.Patch_Margin&&h&&l.length!=g+1?(c.diffs[h++]=l[g],c.length1+=y.length,c.length2+=y.length):y.length>=2*this.Patch_Margin&&h&&(this.patch_addContext_(c,p),u.push(c),c=new t.patch_obj,h=0,p=m,d=f);break}v!==r&&(d+=y.length),v!==n&&(f+=y.length)}return h&&(this.patch_addContext_(c,p),u.push(c)),u},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=new t.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=new t.Diff(i.diffs[s][0],i.diffs[s][1]);o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var o=this.patch_addPadding(e);t=o+t+o,this.patch_splitMax(e);for(var s=0,a=[],l=0;l<e.length;l++){var u,c,h=e[l].start2+s,d=this.diff_text1(e[l].diffs),f=-1;if(d.length>this.Match_MaxBits?(u=this.match_main(t,d.substring(0,this.Match_MaxBits),h),-1!=u&&(f=this.match_main(t,d.substring(d.length-this.Match_MaxBits),h+d.length-this.Match_MaxBits),(-1==f||u>=f)&&(u=-1))):u=this.match_main(t,d,h),-1==u)a[l]=!1,s-=e[l].length2-e[l].length1;else if(a[l]=!0,s=u-h,c=-1==f?t.substring(u,u+d.length):t.substring(u,f+this.Match_MaxBits),d==c)t=t.substring(0,u)+this.diff_text2(e[l].diffs)+t.substring(u+d.length);else{var p=this.diff_main(d,c,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(p)/d.length>this.Patch_DeleteThreshold)a[l]=!1;else{this.diff_cleanupSemanticLossless(p);for(var m,g=0,v=0;v<e[l].diffs.length;v++){var y=e[l].diffs[v];y[0]!==i&&(m=this.diff_xIndex(p,g)),y[0]===r?t=t.substring(0,u+m)+y[1]+t.substring(u+m):y[0]===n&&(t=t.substring(0,u+m)+t.substring(u+this.diff_xIndex(p,g+y[1].length))),y[0]!==n&&(g+=y[1].length)}}}}return t=t.substring(o.length,t.length-o.length),[t,a]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,r="",o=1;o<=n;o++)r+=String.fromCharCode(o);for(o=0;o<e.length;o++)e[o].start1+=n,e[o].start2+=n;var s=e[0],a=s.diffs;if(0==a.length||a[0][0]!=i)a.unshift(new t.Diff(i,r)),s.start1-=n,s.start2-=n,s.length1+=n,s.length2+=n;else if(n>a[0][1].length){var l=n-a[0][1].length;a[0][1]=r.substring(a[0][1].length)+a[0][1],s.start1-=l,s.start2-=l,s.length1+=l,s.length2+=l}if(s=e[e.length-1],a=s.diffs,0==a.length||a[a.length-1][0]!=i)a.push(new t.Diff(i,r)),s.length1+=n,s.length2+=n;else if(n>a[a.length-1][1].length){l=n-a[a.length-1][1].length;a[a.length-1][1]+=r.substring(0,l),s.length1+=l,s.length2+=l}return r},t.prototype.patch_splitMax=function(e){for(var o=this.Match_MaxBits,s=0;s<e.length;s++)if(!(e[s].length1<=o)){var a=e[s];e.splice(s--,1);for(var l=a.start1,u=a.start2,c="";0!==a.diffs.length;){var h=new t.patch_obj,d=!0;for(h.start1=l-c.length,h.start2=u-c.length,""!==c&&(h.length1=h.length2=c.length,h.diffs.push(new t.Diff(i,c)));0!==a.diffs.length&&h.length1<o-this.Patch_Margin;){var f=a.diffs[0][0],p=a.diffs[0][1];f===r?(h.length2+=p.length,u+=p.length,h.diffs.push(a.diffs.shift()),d=!1):f===n&&1==h.diffs.length&&h.diffs[0][0]==i&&p.length>2*o?(h.length1+=p.length,l+=p.length,d=!1,h.diffs.push(new t.Diff(f,p)),a.diffs.shift()):(p=p.substring(0,o-h.length1-this.Patch_Margin),h.length1+=p.length,l+=p.length,f===i?(h.length2+=p.length,u+=p.length):d=!1,h.diffs.push(new t.Diff(f,p)),p==a.diffs[0][1]?a.diffs.shift():a.diffs[0][1]=a.diffs[0][1].substring(p.length))}c=this.diff_text2(h.diffs),c=c.substring(c.length-this.Patch_Margin);var m=this.diff_text1(a.diffs).substring(0,this.Patch_Margin);""!==m&&(h.length1+=m.length,h.length2+=m.length,0!==h.diffs.length&&h.diffs[h.diffs.length-1][0]===i?h.diffs[h.diffs.length-1][1]+=m:h.diffs.push(new t.Diff(i,m))),d||e.splice(++s,0,h)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var o=[];if(!e)return o;for(var s=e.split("\n"),a=0,l=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;a<s.length;){var u=s[a].match(l);if(!u)throw new Error("Invalid patch string: "+s[a]);var c=new t.patch_obj;for(o.push(c),c.start1=parseInt(u[1],10),""===u[2]?(c.start1--,c.length1=1):"0"==u[2]?c.length1=0:(c.start1--,c.length1=parseInt(u[2],10)),c.start2=parseInt(u[3],10),""===u[4]?(c.start2--,c.length2=1):"0"==u[4]?c.length2=0:(c.start2--,c.length2=parseInt(u[4],10)),a++;a<s.length;){var h=s[a].charAt(0);try{var d=decodeURI(s[a].substring(1))}catch(f){throw new Error("Illegal escape in patch_fromText: "+d)}if("-"==h)c.diffs.push(new t.Diff(n,d));else if("+"==h)c.diffs.push(new t.Diff(r,d));else if(" "==h)c.diffs.push(new t.Diff(i,d));else{if("@"==h)break;if(""!==h)throw new Error('Invalid patch mode "'+h+'" in: '+d)}a++}}return o},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var o,s=["@@ -"+e+" +"+t+" @@\n"],a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case r:o="+";break;case n:o="-";break;case i:o=" ";break}s[a+1]=o+encodeURI(this.diffs[a][1])+"\n"}return s.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=r,e.exports.DIFF_EQUAL=i})(M);var C=M.exports;function R(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{const n=e[t],r=typeof n;("object"===r||"function"===r)&&!Object.isFrozen(n)&&R(n)})),e}class x{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function A(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function N(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const L="</span>",k=e=>!!e.scope,O=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`};class I{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=A(e)}openNode(e){if(!k(e))return;const t=O(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){k(e)&&(this.buffer+=L)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const P=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class D{constructor(){this.rootNode=P(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=P({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{D._collapse(e)})))}}class F extends D{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new I(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function H(e){return e?"string"==typeof e?e:e.source:null}function U(e){return Y("(?=",e,")")}function B(e){return Y("(?:",e,")*")}function j(e){return Y("(?:",e,")?")}function Y(...e){return e.map((e=>H(e))).join("")}function V(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}function W(...e){return"("+(V(e).capture?"":"?:")+e.map((e=>H(e))).join("|")+")"}function z(e){return new RegExp(e.toString()+"|").exec("").length-1}function G(e,t){const n=e&&e.exec(t);return n&&0===n.index}const $=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function q(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=H(e),i="";for(;r.length>0;){const e=$.exec(r);if(!e){i+=r;break}i+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&n++)}return i})).map((e=>`(${e})`)).join(t)}const K=/\b\B/,X="[a-zA-Z]\\w*",J="[a-zA-Z_]\\w*",Q="\\b\\d+(\\.\\d+)?",Z="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",ee="\\b(0b[01]+)",te="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ne=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=Y(t,/.*\b/,e.binary,/\b.*/)),N({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},re={begin:"\\\\[\\s\\S]",relevance:0},ie={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[re]},oe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[re]},se={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},ae=function(e,t,n={}){const r=N({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=W("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:Y(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},le=ae("//","$"),ue=ae("/\\*","\\*/"),ce=ae("#","$"),he={scope:"number",begin:Q,relevance:0},de={scope:"number",begin:Z,relevance:0},fe={scope:"number",begin:ee,relevance:0},pe={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[re,{begin:/\[/,end:/\]/,relevance:0,contains:[re]}]},me={scope:"title",begin:X,relevance:0},ge={scope:"title",begin:J,relevance:0},ve={begin:"\\.\\s*"+J,relevance:0},ye=function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var be=Object.freeze({__proto__:null,APOS_STRING_MODE:ie,BACKSLASH_ESCAPE:re,BINARY_NUMBER_MODE:fe,BINARY_NUMBER_RE:ee,COMMENT:ae,C_BLOCK_COMMENT_MODE:ue,C_LINE_COMMENT_MODE:le,C_NUMBER_MODE:de,C_NUMBER_RE:Z,END_SAME_AS_BEGIN:ye,HASH_COMMENT_MODE:ce,IDENT_RE:X,MATCH_NOTHING_RE:K,METHOD_GUARD:ve,NUMBER_MODE:he,NUMBER_RE:Q,PHRASAL_WORDS_MODE:se,QUOTE_STRING_MODE:oe,REGEXP_MODE:pe,RE_STARTERS_RE:te,SHEBANG:ne,TITLE_MODE:me,UNDERSCORE_IDENT_RE:J,UNDERSCORE_TITLE_MODE:ge});function we(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function _e(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function Ee(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=we,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function Se(e,t){Array.isArray(e.illegal)&&(e.illegal=W(...e.illegal))}function Te(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Me(e,t){void 0===e.relevance&&(e.relevance=1)}const Ce=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=Y(n.beforeMatch,U(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Re=["of","and","for","in","not","or","if","then","parent","list","value"],xe="keyword";function Ae(e,t,n=xe){const r=Object.create(null);return"string"==typeof e?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach((function(n){Object.assign(r,Ae(e[n],t,n))})),r;function i(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,Ne(n[0],n[1])]}))}}function Ne(e,t){return t?Number(t):Le(e)?0:1}function Le(e){return Re.includes(e.toLowerCase())}const ke={},Oe=e=>{console.error(e)},Ie=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Pe=(e,t)=>{ke[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),ke[`${e}/${t}`]=!0)},De=new Error;function Fe(e,t,{key:n}){let r=0;const i=e[n],o={},s={};for(let a=1;a<=t.length;a++)s[a+r]=i[a],o[a+r]=!0,r+=z(t[a-1]);e[n]=s,e[n]._emit=o,e[n]._multi=!0}function He(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Oe("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),De;if("object"!=typeof e.beginScope||null===e.beginScope)throw Oe("beginScope must be object"),De;Fe(e,e.begin,{key:"beginScope"}),e.begin=q(e.begin,{joinWith:""})}}function Ue(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Oe("skip, excludeEnd, returnEnd not compatible with endScope: {}"),De;if("object"!=typeof e.endScope||null===e.endScope)throw Oe("endScope must be object"),De;Fe(e,e.end,{key:"endScope"}),e.end=q(e.end,{joinWith:""})}}function Be(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}function je(e){Be(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),He(e),Ue(e)}function Ye(e){function t(t,n){return new RegExp(H(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=z(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(q(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition()&&(!n||n.index!==this.lastIndex)){const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function i(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}function o(n,r){const s=n;if(n.isCompiled)return s;[_e,Te,je,Ce].forEach((e=>e(n,r))),e.compilerExtensions.forEach((e=>e(n,r))),n.__beforeBegin=null,[Ee,Se,Me].forEach((e=>e(n,r))),n.isCompiled=!0;let a=null;return"object"==typeof n.keywords&&n.keywords.$pattern&&(n.keywords=Object.assign({},n.keywords),a=n.keywords.$pattern,delete n.keywords.$pattern),a=a||/\w+/,n.keywords&&(n.keywords=Ae(n.keywords,e.case_insensitive)),s.keywordPatternRe=t(a,!0),r&&(n.begin||(n.begin=/\B|\b/),s.beginRe=t(s.begin),!n.end&&!n.endsWithParent&&(n.end=/\B|\b/),n.end&&(s.endRe=t(s.end)),s.terminatorEnd=H(s.end)||"",n.endsWithParent&&r.terminatorEnd&&(s.terminatorEnd+=(n.end?"|":"")+r.terminatorEnd)),n.illegal&&(s.illegalRe=t(n.illegal)),n.contains||(n.contains=[]),n.contains=[].concat(...n.contains.map((function(e){return We("self"===e?n:e)}))),n.contains.forEach((function(e){o(e,s)})),n.starts&&o(n.starts,r),s.matcher=i(s),s}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=N(e.classNameAliases||{}),o(e)}function Ve(e){return!!e&&(e.endsWithParent||Ve(e.starts))}function We(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return N(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:Ve(e)?N(e,{starts:e.starts?N(e.starts):null}):Object.isFrozen(e)?N(e):e}var ze="11.9.0";class Ge extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const $e=A,qe=N,Ke=Symbol("nomatch"),Xe=7,Je=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const o="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:F};function l(e){return a.noHighlightRe.test(e)}function u(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=a.languageDetectRe.exec(t);if(n){const t=M(n[1]);return t||(Ie(o.replace("{}",n[1])),Ie("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>l(e)||M(e)))}function c(e,t,n){let r="",i="";"object"==typeof t?(r=e,n=t.ignoreIllegals,i=t.language):(Pe("10.7.0","highlight(lang, code, ...args) has been deprecated."),Pe("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,r=t),void 0===n&&(n=!0);const o={code:r,language:i};O("before:highlight",o);const s=o.result?o.result:h(o.language,o.code,n);return s.code=o.code,O("after:highlight",s),s}function h(e,n,r,s){const l=Object.create(null);function u(e,t){return e.keywords[t]}function c(){if(!N.keywords)return void k.addText(O);let e=0;N.keywordPatternRe.lastIndex=0;let t=N.keywordPatternRe.exec(O),n="";for(;t;){n+=O.substring(e,t.index);const r=C.case_insensitive?t[0].toLowerCase():t[0],i=u(N,r);if(i){const[e,o]=i;if(k.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=Xe&&(I+=o),e.startsWith("_"))n+=t[0];else{const n=C.classNameAliases[e]||e;m(t[0],n)}}else n+=t[0];e=N.keywordPatternRe.lastIndex,t=N.keywordPatternRe.exec(O)}n+=O.substring(e),k.addText(n)}function d(){if(""===O)return;let e=null;if("string"==typeof N.subLanguage){if(!t[N.subLanguage])return void k.addText(O);e=h(N.subLanguage,O,!0,L[N.subLanguage]),L[N.subLanguage]=e._top}else e=f(O,N.subLanguage.length?N.subLanguage:null);N.relevance>0&&(I+=e.relevance),k.__addSublanguage(e._emitter,e.language)}function p(){null!=N.subLanguage?d():c(),O=""}function m(e,t){""!==e&&(k.startScope(t),k.addText(e),k.endScope())}function g(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=C.classNameAliases[e[n]]||e[n],i=t[n];r?m(i,r):(O=i,c(),O=""),n++}}function v(e,t){return e.scope&&"string"==typeof e.scope&&k.openNode(C.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(m(O,C.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),O=""):e.beginScope._multi&&(g(e.beginScope,t),O="")),N=Object.create(e,{parent:{value:N}}),N}function y(e,t,n){let r=G(e.endRe,n);if(r){if(e["on:end"]){const n=new x(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return y(e.parent,t,n)}function b(e){return 0===N.matcher.regexIndex?(O+=e[0],1):(F=!0,0)}function w(e){const t=e[0],n=e.rule,r=new x(n),i=[n.__beforeBegin,n["on:begin"]];for(const o of i)if(o&&(o(e,r),r.isMatchIgnored))return b(t);return n.skip?O+=t:(n.excludeBegin&&(O+=t),p(),!n.returnBegin&&!n.excludeBegin&&(O=t)),v(n,e),n.returnBegin?0:t.length}function _(e){const t=e[0],r=n.substring(e.index),i=y(N,e,r);if(!i)return Ke;const o=N;N.endScope&&N.endScope._wrap?(p(),m(t,N.endScope._wrap)):N.endScope&&N.endScope._multi?(p(),g(N.endScope,e)):o.skip?O+=t:(o.returnEnd||o.excludeEnd||(O+=t),p(),o.excludeEnd&&(O=t));do{N.scope&&k.closeNode(),!N.skip&&!N.subLanguage&&(I+=N.relevance),N=N.parent}while(N!==i.parent);return i.starts&&v(i.starts,e),o.returnEnd?0:t.length}function E(){const e=[];for(let t=N;t!==C;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>k.openNode(e)))}let S={};function T(t,o){const s=o&&o[0];if(O+=t,null==s)return p(),0;if("begin"===S.type&&"end"===o.type&&S.index===o.index&&""===s){if(O+=n.slice(o.index,o.index+1),!i){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=S.rule,t}return 1}if(S=o,"begin"===o.type)return w(o);if("illegal"===o.type&&!r){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(N.scope||"<unnamed>")+'"');throw e.mode=N,e}if("end"===o.type){const e=_(o);if(e!==Ke)return e}if("illegal"===o.type&&""===s)return 1;if(D>1e5&&D>3*o.index)throw new Error("potential infinite loop, way more iterations than matches");return O+=s,s.length}const C=M(e);if(!C)throw Oe(o.replace("{}",e)),new Error('Unknown language: "'+e+'"');const R=Ye(C);let A="",N=s||R;const L={},k=new a.__emitter(a);E();let O="",I=0,P=0,D=0,F=!1;try{if(C.__emitTokens)C.__emitTokens(n,k);else{for(N.matcher.considerAll();;){D++,F?F=!1:N.matcher.considerAll(),N.matcher.lastIndex=P;const e=N.matcher.exec(n);if(!e)break;const t=n.substring(P,e.index),r=T(t,e);P=e.index+r}T(n.substring(P))}return k.finalize(),A=k.toHTML(),{language:e,value:A,relevance:I,illegal:!1,_emitter:k,_top:N}}catch(H){if(H.message&&H.message.includes("Illegal"))return{language:e,value:$e(n),illegal:!0,relevance:0,_illegalBy:{message:H.message,index:P,context:n.slice(P-100,P+100),mode:H.mode,resultSoFar:A},_emitter:k};if(i)return{language:e,value:$e(n),illegal:!1,relevance:0,errorRaised:H,_emitter:k,_top:N};throw H}}function d(e){const t={value:$e(e),illegal:!1,relevance:0,_top:s,_emitter:new a.__emitter(a)};return t._emitter.addText(e),t}function f(e,n){n=n||a.languages||Object.keys(t);const r=d(e),i=n.filter(M).filter(A).map((t=>h(t,e,!1)));i.unshift(r);const o=i.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(M(e.language).supersetOf===t.language)return 1;if(M(t.language).supersetOf===e.language)return-1}return 0})),[s,l]=o,u=s;return u.secondBest=l,u}function p(e,t,r){const i=t&&n[t]||r;e.classList.add("hljs"),e.classList.add(`language-${i}`)}function m(e){let t=null;const n=u(e);if(l(n))return;if(O("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),a.throwUnescapedHTML))throw new Ge("One of your code blocks includes unescaped HTML.",e.innerHTML);t=e;const r=t.textContent,i=n?c(r,{language:n,ignoreIllegals:!0}):f(r);e.innerHTML=i.value,e.dataset.highlighted="yes",p(e,n,i.language),e.result={language:i.language,re:i.relevance,relevance:i.relevance},i.secondBest&&(e.secondBest={language:i.secondBest.language,relevance:i.secondBest.relevance}),O("after:highlightElement",{el:e,result:i,text:r})}function g(e){a=qe(a,e)}const v=()=>{w(),Pe("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function y(){w(),Pe("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let b=!1;function w(){"loading"!==document.readyState?document.querySelectorAll(a.cssSelector).forEach(m):b=!0}function _(){b&&w()}function E(n,r){let o=null;try{o=r(e)}catch(a){if(Oe("Language definition for '{}' could not be registered.".replace("{}",n)),!i)throw a;Oe(a),o=s}o.name||(o.name=n),t[n]=o,o.rawDefinition=r.bind(null,e),o.aliases&&C(o.aliases,{languageName:n})}function S(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]}function T(){return Object.keys(t)}function M(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function C(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{n[e.toLowerCase()]=t}))}function A(e){const t=M(e);return t&&!t.disableAutodetect}function N(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}function L(e){N(e),r.push(e)}function k(e){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}function O(e,t){const n=e;r.forEach((function(e){e[n]&&e[n](t)}))}function I(e){return Pe("10.7.0","highlightBlock will be removed entirely in v12.0"),Pe("10.7.0","Please use highlightElement now."),m(e)}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",_,!1),Object.assign(e,{highlight:c,highlightAuto:f,highlightAll:w,highlightElement:m,highlightBlock:I,configure:g,initHighlighting:v,initHighlightingOnLoad:y,registerLanguage:E,unregisterLanguage:S,listLanguages:T,getLanguage:M,registerAliases:C,autoDetection:A,inherit:qe,addPlugin:L,removePlugin:k}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=ze,e.regex={concat:Y,lookahead:U,either:W,optional:j,anyNumberOfTimes:B};for(const x in be)"object"==typeof be[x]&&R(be[x]);return Object.assign(e,be),e},Qe=Je({});Qe.newInstance=()=>Je({});var Ze=Qe;Qe.HighlightJS=Qe,Qe.default=Qe;const et=T(Ze);function tt(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},s=e.inherit(o,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,l,a,s,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,s,l,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:u}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const nt="[A-Za-z$_][0-9A-Za-z$_]*",rt=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],it=["true","false","null","undefined","NaN","Infinity"],ot=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],st=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],at=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],lt=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ut=[].concat(at,ot,st);function ct(e){const t=e.regex,n=(e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)},r=nt,i={begin:"<>",end:"</>"},o=/<[A-Za-z0-9\\._:-]+\s*\/>/,s={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const r=e[0].length+e.index,i=e.input[r];if("<"===i||","===i)return void t.ignoreMatch();let o;">"===i&&(n(e,{after:r})||t.ignoreMatch());const s=e.input.substring(r);((o=s.match(/^\s*=/))||(o=s.match(/^\s+extends\s+/))&&0===o.index)&&t.ignoreMatch()}},a={$pattern:nt,keyword:rt,literal:it,built_in:ut,"variable.language":lt},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},m={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},y=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,g,{match:/\$\d+/},h];d.contains=y.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(y)});const b=[].concat(v,d.contains),w=b.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(b)}]),_={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:w},E={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,t.concat(r,"(",t.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},S={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...ot,...st]}},T={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},M={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],illegal:/%/},C={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function R(e){return t.concat("(?!",e.join("|"),")")}const x={match:t.concat(/\b/,R([...at,"super","import"]),r,t.lookahead(/\(/)),className:"title.function",relevance:0},A={begin:t.concat(/\./,t.lookahead(t.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},N={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},_]},L="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",k={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(L)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:S},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),T,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,m,g,v,{match:/\$\d+/},h,S,{className:"attr",begin:r+t.lookahead(":"),relevance:0},k,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,e.REGEXP_MODE,{className:"function",begin:L,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:o},{begin:s.begin,"on:begin":s.isTrulyOpeningTag,end:s.end}],subLanguage:"xml",contains:[{begin:s.begin,end:s.end,skip:!0,contains:["self"]}]}]},M,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[_,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},A,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[_]},x,C,E,N,{match:/\$[(.]/}]}}function ht(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",keywords:{literal:r},contains:[t,n,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function dt(e){const t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},o={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},s=e.inherit(o,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),a="[0-9]{4}(-[0-9][0-9]){0,2}",l="([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?",u="(\\.[0-9]*)?",c="([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?",h={className:"number",begin:"\\b"+a+l+u+c+"\\b"},d={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},f={begin:/\{/,end:/\}/,contains:[d],illegal:"\\n",relevance:0},p={begin:"\\[",end:"\\]",contains:[d],illegal:"\\n",relevance:0},m=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},h,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},f,p,o],g=[...m];return g.pop(),g.push(s),d.contains=g,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:m}}function ft(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function pt(e){const t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},s={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},a={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,o,a,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,o,a,s]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,a,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,a,s]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},u="[0-9](_?[0-9])*",c=`(\\b(${u}))?\\.(${u})|\\b(${u})\\.`,h=`\\b|${r.join("|")}`,d={className:"number",relevance:0,variants:[{begin:`(\\b(${u})|(${c}))[eE][+-]?(${u})[jJ]?(?=${h})`},{begin:`(${c})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${h})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${h})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${h})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${h})`},{begin:`\\b(${u})[jJ](?=${h})`}]},f={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},p={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",o,d,l,e.HASH_COMMENT_MODE]}]};return s.contains=[l,d,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|\?)|=>/,contains:[o,d,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},l,f,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[d,p,l]}]}}var mt="[0-9](_*[0-9])*",gt=`\\.(${mt})`,vt="[0-9a-fA-F](_*[0-9a-fA-F])*",yt={className:"number",variants:[{begin:`(\\b(${mt})((${gt})|\\.)?|(${gt}))[eE][+-]?(${mt})[fFdD]?\\b`},{begin:`\\b(${mt})((${gt})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${gt})[fFdD]?\\b`},{begin:`\\b(${mt})[fFdD]\\b`},{begin:`\\b0[xX]((${vt})\\.?|(${vt})?\\.(${vt}))[pP][+-]?(${mt})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${vt})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function bt(e,t,n){return-1===n?"":e.replace(t,(r=>bt(e,t,n-1)))}function wt(e){const t=e.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+bt("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},o={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},s={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[s,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,yt,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},yt,o]}}function _t(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,i]};i.contains.push(s);const a={match:/\\"/},l={className:"string",begin:/'/,end:/'/},u={match:/\\'/},c={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},h=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],d=e.SHEBANG({binary:`(${h.join("|")})`,relevance:10}),f={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},p=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],m=["true","false"],g={match:/(\/[a-z._-]+)+/},v=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],y=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],b=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],w=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:p,literal:m,built_in:[...v,...y,"set","shopt",...b,...w]},contains:[d,e.SHEBANG(),f,c,e.HASH_COMMENT_MODE,o,g,s,a,l,u,n]}}function Et(e){const t=e.regex,n=e.COMMENT("--","$"),r={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},i={begin:/"/,end:/"/,contains:[{begin:/""/}]},o=["true","false","unknown"],s=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],c=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],d=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=c,p=[...u,...l].filter((e=>!c.includes(e))),m={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},g={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},v={begin:t.concat(/\b/,t.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function y(e,{exceptions:t,when:n}={}){const r=n;return t=t||[],e.map((e=>e.match(/\|\d+$/)||t.includes(e)?e:r(e)?`${e}|0`:e))}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:y(p,{when:e=>e.length<3}),literal:o,type:a,built_in:h},contains:[{begin:t.either(...d),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:p.concat(d),literal:o,type:a}},{className:"type",begin:t.either(...s)},v,m,r,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,g]}}et.registerLanguage("xml",tt),et.registerLanguage("javascript",ct),et.registerLanguage("json",ht),et.registerLanguage("yaml",dt),et.registerLanguage("plaintext",ft),et.registerLanguage("python",pt),et.registerLanguage("java",wt),et.registerLanguage("bash",_t),et.registerLanguage("sql",Et);var St=(e=>(e.EQUAL="equal",e.DELETE="removed",e.ADD="added",e.EMPTY="empty",e))(St||{});const Tt="<code-diff-modified>",Mt="</code-diff-modified>",Ct=Tt.replace("<","&lt;").replace(">","&gt;"),Rt=Mt.replace("<","&lt;").replace(">","&gt;");function xt(e){return void 0===e?St.EQUAL:e.added?St.ADD:e.removed?St.DELETE:St.EQUAL}function At(e,t,n="word"){return"undefined"==typeof e?t:"undefined"==typeof t?e:("char"===n?c:m)(e,t).filter((e=>xt(e)!==St.DELETE)).map((e=>xt(e)===St.ADD?`${Tt}${e.value}${Mt}`:e.value)).join("")}function Nt(e,t){const n=new C.diff_match_patch,r=n.diff_linesToChars_(e,t),i=r.chars1,o=r.chars2,s=r.lineArray,a=n.diff_main(i,o,!1);return n.diff_charsToLines_(a,s),a.map((e=>{const[t,n]=e;return{count:n.replace(/\n$/,"").split("\n").length,value:n,removed:t===C.DIFF_DELETE,added:t===C.DIFF_INSERT}}))}function Lt(e,t){if(!t.match(new RegExp(`(${Tt}|${Mt})`,"g")))return et.highlight(t,{language:e}).value;let n=t;const r=t.replace(new RegExp(`(${Tt}|${Mt})`,"g"),""),i=document.createElement("div");i.innerHTML=et.highlight(r,{language:e}).value;let o=!1;const s=e=>{e.childNodes.forEach((e=>{if(e.nodeType===Node.ELEMENT_NODE&&s(e),e.nodeType===Node.TEXT_NODE){if(!e.textContent)return;let t=e.textContent,r="";for(o&&(r+=Tt);t.length;){if(n.startsWith(Tt)){n=n.slice(Tt.length),r+=Tt,o=!0;continue}if(n.startsWith(Mt)){n=n.slice(Mt.length),r+=Mt,o=!1;continue}const e=n.match(new RegExp(`(${Tt}|${Mt})`)),i=e&&e.index?e.index:n.length,s=Math.min(i,t.length);r+=n.substring(0,s),n=n.slice(s),t=t.slice(s)}o&&(r+=Mt),e.textContent=r}}))};return s(i),i.innerHTML.replace(new RegExp(Ct,"g"),'<span class="x">').replace(new RegExp(Rt,"g"),"</span>")}function kt(e,t){const n=(e,t)=>(e.match(new RegExp(t,"g"))||[]).length,r=e=>e.filter((e=>null==t?void 0:t.test(e))).length;let i=0,o=0,s=0,a=0;for(const l of e)if(l.added){const e=r(l.value.trim().split("\n"));i+=n(l.value.trim(),"\n")+1-e,s+=e}else if(l.removed){const e=r(l.value.trim().split("\n"));o+=n(l.value.trim(),"\n")+1-e,a+=e}else;return{additionsNum:i,deletionsNum:o,ignoreAdditionsNum:s,ignoreDeletionsNum:a}}function Ot(e,t,n="plaintext",r="word",i=!1,o=10,s){const a=()=>({type:St.EMPTY}),l=(e,t,n)=>({type:e,num:t,code:n}),u=Nt(e,t),c=s?new RegExp(s):void 0;let h=0,d=0,f=!1;const p=[],m={changes:p,collector:[],stat:kt(u,c)};for(let y=0;y<u.length;y++){if(f){f=!1;continue}const[e,t]=[u[y],u[y+1]],[o,s]=[xt(e),xt(t)],m=e.value.replace(/\n$/,"").split("\n");if(void 0===t){for(const e of m){let t=a(),r=a();const i=Lt(n,e);o===St.EQUAL&&(h++,d++,t=l(St.EQUAL,h,i),r=l(St.EQUAL,d,i)),o===St.DELETE&&(h++,t=l(St.DELETE,h,i),r=a()),o===St.ADD&&(d++,t=a(),r=l(St.ADD,d,i)),p.push({left:t,right:r})}break}if(o===St.EQUAL)for(const r of m){h++,d++;const e=Lt(n,r);p.push({left:l(St.EQUAL,h,e),right:l(St.EQUAL,d,e)})}const g=t.value.replace(/\n$/,"").split("\n");if(o===St.DELETE){if(s===St.EQUAL)for(const e of m)h++,p.push({left:l(St.DELETE,h,Lt(n,e)),right:a()});if(s===St.ADD){f=!0;const o=Math.max(e.count,t.count);for(let s=0;s<o;s++){s<e.count&&h++,s<t.count&&d++;const[o,u]=[m[s],g[s]],f=i||m.length===g.length,v=f?At(u,o,r):o,y=f?At(o,u,r):u,b=null!=c&&c.test(o)?St.EQUAL:St.DELETE,w=null!=c&&c.test(u)?St.EQUAL:St.ADD,_=s<e.count?l(b,h,Lt(n,v)):a(),E=s<t.count?l(w,d,Lt(n,y)):a();p.push({left:_,right:E})}}}if(o===St.ADD)for(const r of m)d++,p.push({left:a(),right:l(St.ADD,d,Lt(n,r))})}if(e===t){for(let e=0;e<p.length;e++)p[e].fold=!1;return m}for(let y=0;y<p.length;y++){const e=p[y];if(e.left.type===St.DELETE||e.right.type===St.ADD){const[e,t]=[Math.max(y-o,0),Math.min(y+o+1,p.length)];for(let n=e;n<t;n++)p[n].fold=!1}void 0===e.fold&&(e.fold=!0)}const g=[];let v=[];for(let y=0;y<p.length;y++){const e=p[y];!1!==e.fold?(e.hide=!0,v.push(e),g.push(e)):(v.length&&(v[0].hideIndex=m.collector.length,m.collector.push({lines:v,fold:!0}),v=[]),g.push(e))}return v.length&&(v[0].hideIndex=m.collector.length,m.collector.push({lines:v,fold:!0}),v=[]),m.changes=g,m}function It(e,t,n="plaintext",r="word",i=!1,o=10,s){const a=Nt(e,t),l=s?new RegExp(s):void 0;let u=0,c=0,h=!1;const d=[],f={changes:d,collector:[],stat:kt(a,l)};for(let g=0;g<a.length;g++){if(h){h=!1;continue}const[e,t]=[a[g],a[g+1]],[o,s]=[xt(e),xt(t)],f=e.value.replace(/\n$/,"").split("\n");if(void 0===t){for(const e of f){o===St.EQUAL&&(u++,c++),o===St.DELETE&&u++,o===St.ADD&&c++;const t=Lt(n,e);d.push({type:o,code:t,addNum:o===St.DELETE?void 0:c,delNum:o===St.ADD?void 0:u})}break}if(o===St.EQUAL)for(const r of f){u++,c++;const e=Lt(n,r);d.push({type:St.EQUAL,code:e,delNum:u,addNum:c})}const p=t.value.replace(/\n$/,"").split("\n");if(o===St.DELETE)if(s!==St.ADD||f.length!==p.length&&!i)for(const r of f){u++;const e=Lt(n,r);d.push({type:St.DELETE,code:e,delNum:u})}else{for(let e=0;e<f.length;e++){const t=f[e],i=p[e];u++;const o=Lt(n,At(i,t,r));d.push({type:null!=l&&l.test(t)?St.EQUAL:St.DELETE,code:o,delNum:u})}for(let e=0;e<p.length;e++){const t=f[e],i=p[e];c++;const o=Lt(n,At(t,i,r));d.push({type:null!=l&&l.test(i)?St.EQUAL:St.ADD,code:o,addNum:c})}h=!0}if(o===St.ADD)for(const r of f){c++;const e=Lt(n,r);d.push({type:St.ADD,code:e,addNum:c})}}for(let g=0;g<d.length;g++){const e=d[g];if(e.type===St.DELETE||e.type===St.ADD){const[e,t]=[Math.max(g-o,0),Math.min(g+o+1,d.length)];for(let n=e;n<t;n++)d[n].fold=!1}void 0===e.fold&&(e.fold=!0)}if(e===t){for(let e=0;e<d.length;e++)d[e].fold=!1;return f}const p=[];let m=[];for(let g=0;g<d.length;g++){const e=d[g];!1!==e.fold?("equal"===e.type&&(e.hide=!0,m.push(e)),p.push(e)):(m.length&&(m[0].hideIndex=f.collector.length,f.collector.push({lines:m,fold:!0}),m=[]),p.push(e))}return m.length&&(m[0].hideIndex=f.collector.length,f.collector.push({lines:m,fold:!0}),m=[]),f.changes=p,f}const Pt={key:0},Dt=(0,r.Lk)("td",{class:"blob-code blob-code-hunk",align:"left"},"  ",-1),Ft={key:1},Ht=["data-code-marker","innerHTML"],Ut=(0,r.pM)({__name:"UnifiedLine",props:{line:{}},emits:["expand"],setup(e,{emit:t}){const n=t;function s(e){return e===St.DELETE?"-":e===St.ADD?"+":""}return(e,t)=>void 0!==e.line.hideIndex&&e.line.hide?((0,r.uX)(),(0,r.CE)("tr",Pt,[(0,r.Lk)("td",{class:"blob-num blob-num-hunk text-center",colspan:"2",onClick:t[0]||(t[0]=t=>n("expand",e.line))}," > "),Dt])):e.line.hide?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("tr",Ft,[(0,r.Lk)("td",{class:(0,i.C4)(["blob-num",{"blob-num-deletion":e.line.type===(0,o.R1)(St).DELETE,"blob-num-addition":e.line.type===(0,o.R1)(St).ADD,"blob-num-context":e.line.type===(0,o.R1)(St).EQUAL,"blob-num-hunk":void 0!==e.line.hide}])},(0,i.v_)(e.line.delNum),3),(0,r.Lk)("td",{class:(0,i.C4)(["blob-num",{"blob-num-deletion":e.line.type===(0,o.R1)(St).DELETE,"blob-num-addition":e.line.type===(0,o.R1)(St).ADD,"blob-num-context":e.line.type===(0,o.R1)(St).EQUAL,"blob-num-hunk":void 0!==e.line.hide}])},(0,i.v_)(e.line.addNum),3),(0,r.Lk)("td",{class:(0,i.C4)(["blob-code",{"blob-code-deletion":e.line.type===(0,o.R1)(St).DELETE,"blob-code-addition":e.line.type===(0,o.R1)(St).ADD,"blob-code-context":e.line.type===(0,o.R1)(St).EQUAL,"blob-code-hunk":void 0!==e.line.hide}])},[(0,r.Lk)("span",{class:"blob-code-inner blob-code-marker","data-code-marker":s(e.line.type),innerHTML:e.line.code},null,8,Ht)],2)]))}}),Bt={class:"diff-table"},jt=(0,r.pM)({__name:"UnifiedViewer",props:{diffChange:{}},setup(e){const t=e;function n({hideIndex:e}){void 0!==e&&t.diffChange.collector[e].lines.forEach((e=>{e.hide=!1,e.fold=!1}))}return(e,t)=>{var i;return(0,r.uX)(),(0,r.CE)("table",Bt,[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(null==(i=e.diffChange)?void 0:i.changes,((e,t)=>((0,r.uX)(),(0,r.Wv)(Ut,{key:t,line:e,onExpand:n},null,8,["line"])))),128))])])}}}),Yt={key:0},Vt=(0,r.Lk)("td",{class:"blob-code blob-code-inner blob-code-hunk",colspan:"3",align:"left"},"  ",-1),Wt={key:1},zt=(0,r.Lk)("td",{class:"blob-num blob-num-empty empty-cell"},null,-1),Gt=(0,r.Lk)("td",{class:"blob-code blob-code-empty empty-cell"},null,-1),$t=["onMousedown"],qt=["data-code-marker","innerHTML"],Kt=(0,r.pM)({__name:"SplitLine",props:{splitLine:{}},emits:["expand"],setup(e,{emit:t}){const n=t;function s(e){return e===St.DELETE?"-":e===St.ADD?"+":""}function a(e){window.getSelection().removeAllRanges();const t=document.querySelectorAll(".file-diff-split .split-side-left"),n=document.querySelectorAll(".file-diff-split .split-side-right");for(const r of n)r.classList.toggle("no-select","left"===e);for(const r of t)r.classList.toggle("no-select","right"===e)}return(e,t)=>void 0!==e.splitLine.hideIndex&&e.splitLine.hide?((0,r.uX)(),(0,r.CE)("tr",Yt,[(0,r.Lk)("td",{class:"blob-num blob-num-hunk",colspan:"1",onClick:t[0]||(t[0]=t=>n("expand",e.splitLine))}," > "),Vt])):e.splitLine.hide?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("tr",Wt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)([e.splitLine.left,e.splitLine.right],((t,n)=>((0,r.uX)(),(0,r.CE)(r.FK,null,[t.type===(0,o.R1)(St).EMPTY?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[zt,Gt],64)):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.Lk)("td",{class:(0,i.C4)(["blob-num",{"blob-num-deletion":t.type===(0,o.R1)(St).DELETE,"blob-num-addition":t.type===(0,o.R1)(St).ADD,"blob-num-context":t.type===(0,o.R1)(St).EQUAL,"blob-num-hunk":void 0!==e.splitLine.hide}])},(0,i.v_)(t.num),3),(0,r.Lk)("td",{class:(0,i.C4)(["blob-code",{"blob-code-deletion":t.type===(0,o.R1)(St).DELETE,"blob-code-addition":t.type===(0,o.R1)(St).ADD,"blob-code-context":t.type===(0,o.R1)(St).EQUAL,"blob-code-hunk":void 0!==e.splitLine.hide,"split-side-left":0===n,"split-side-right":1===n}]),onMousedown:e=>a(0===n?"left":"right")},[(0,r.Lk)("span",{class:"blob-code-inner blob-code-marker","data-code-marker":s(t.type),innerHTML:t.code},null,8,qt)],42,$t)],64))],64)))),256))]))}}),Xt={class:"file-diff-split diff-table"},Jt=(0,r.Lk)("colgroup",null,[(0,r.Lk)("col",{width:"44"}),(0,r.Lk)("col"),(0,r.Lk)("col",{width:"44"}),(0,r.Lk)("col")],-1),Qt=(0,r.pM)({__name:"SplitViewer",props:{diffChange:{}},setup(e){const t=e;function n({hideIndex:e}){void 0!==e&&t.diffChange.collector[e].lines.forEach((e=>{e.hide=!1,e.fold=!1}))}return(e,t)=>{var i;return(0,r.uX)(),(0,r.CE)("table",Xt,[Jt,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(null==(i=e.diffChange)?void 0:i.changes,((e,t)=>((0,r.uX)(),(0,r.Wv)(Kt,{key:t,"split-line":e,onExpand:n},null,8,["split-line"])))),128))])])}}}),Zt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},en={name:"DownArrowIcon"},tn={width:"1rem",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},nn=(0,r.Lk)("path",{d:"M383.6,322.7L278.6,423c-5.8,6-13.7,9-22.4,9c-8.7,0-16.5-3-22.4-9L128.4,322.7c-12.5-11.9-12.5-31.3,0-43.2  c12.5-11.9,32.7-11.9,45.2,0l50.4,48.2v-217c0-16.9,14.3-30.6,32-30.6c17.7,0,32,13.7,32,30.6v217l50.4-48.2  c12.5-11.9,32.7-11.9,45.2,0C396.1,291.4,396.1,310.7,383.6,322.7z"},null,-1),rn=[nn];function on(e,t,n,i,o,s){return(0,r.uX)(),(0,r.CE)("svg",tn,rn)}const sn=Zt(en,[["render",on]]),an={name:"UpArrowIcon"},ln={width:"1rem",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"},un=(0,r.Lk)("path",{d:"M128.4,189.3L233.4,89c5.8-6,13.7-9,22.4-9c8.7,0,16.5,3,22.4,9l105.4,100.3c12.5,11.9,12.5,31.3,0,43.2  c-12.5,11.9-32.7,11.9-45.2,0L288,184.4v217c0,16.9-14.3,30.6-32,30.6c-17.7,0-32-13.7-32-30.6v-217l-50.4,48.2  c-12.5,11.9-32.7,11.9-45.2,0C115.9,220.6,115.9,201.3,128.4,189.3z"},null,-1),cn=[un];function hn(e,t,n,i,o,s){return(0,r.uX)(),(0,r.CE)("svg",ln,cn)}const dn=Zt(an,[["render",hn]]),fn=["theme"],pn={key:0,class:"file-header"},mn={key:0,class:"file-info"},gn={class:"info-left"},vn={class:"info-left"},yn={class:"diff-commandbar"},bn={key:0,class:"diff-stat"},wn={class:"diff-stat-added"},_n={class:"diff-stat-deleted"},En={key:1,class:"file-info"},Sn={class:"info-left"},Tn={class:"info-right"},Mn={style:{"margin-left":"20px"}},Cn={class:"diff-commandbar"},Rn={key:0,class:"diff-stat"},xn={class:"diff-stat-added"},An={class:"diff-stat-deleted"},Nn=(0,r.pM)({__name:"CodeDiff",props:{newString:{},oldString:{},language:{default:"plaintext"},context:{default:10},diffStyle:{default:"word"},forceInlineComparison:{type:Boolean,default:!1},outputFormat:{default:"line-by-line"},trim:{type:Boolean,default:!1},noDiffLineFeed:{type:Boolean,default:!1},maxHeight:{default:void 0},filename:{default:void 0},newFilename:{default:void 0},hideHeader:{type:Boolean,default:!1},hideStat:{type:Boolean,default:!1},theme:{default:"light"},ignoreMatchingLines:{default:void 0}},emits:["diff"],setup(e,{emit:t}){const n=e,s=t,a=(0,r.EW)((()=>"line-by-line"===n.outputFormat)),l=(0,r.EW)((()=>{let e=n.oldString||"";return e=n.trim?e.trim():e,e=n.noDiffLineFeed?e.replace(/(\r\n)/g,"\n"):e,e})),u=(0,r.EW)((()=>{let e=n.newString||"";return e=n.trim?e.trim():e,e=n.noDiffLineFeed?e.replace(/(\r\n)/g,"\n"):e,e})),c=(0,r.EW)((()=>a.value?It(l.value,u.value,n.language,n.diffStyle,n.forceInlineComparison,n.context,n.ignoreMatchingLines):Ot(l.value,u.value,n.language,n.diffStyle,n.forceInlineComparison,n.context,n.ignoreMatchingLines))),h=(0,o.KR)(c.value),d=(0,r.EW)((()=>0===h.value.stat.additionsNum&&0===h.value.stat.deletionsNum)),f=(0,o.KR)(-1);function p(){const e=document.querySelectorAll(".blob-code-addition");f.value<e.length-1&&(f.value++,g(e))}function m(){const e=document.querySelectorAll(".blob-code-addition");f.value>0&&(f.value--,g(e))}function g(e){e.forEach((e=>e.classList.remove("current-diff")));const t=e[f.value];t&&(t.classList.add("current-diff"),t.scrollIntoView({behavior:"smooth",block:"center"}))}return(0,r.wB)((()=>n),(()=>{h.value=c.value,s("diff",{stat:{isChanged:!d.value,addNum:h.value.stat.additionsNum,delNum:h.value.stat.deletionsNum}})}),{deep:!0,immediate:!0}),(e,t)=>((0,r.uX)(),(0,r.CE)("div",{class:"code-diff-view",theme:e.theme,style:(0,i.Tr)({maxHeight:e.maxHeight})},[e.hideHeader?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",pn,[(0,o.R1)(a)?((0,r.uX)(),(0,r.CE)("div",mn,[(0,r.Lk)("span",null,[(0,r.Lk)("div",gn,(0,i.v_)(e.filename),1),(0,r.Lk)("div",vn,(0,i.v_)(e.newFilename),1)]),(0,r.Lk)("span",yn,[(0,r.Lk)("button",{class:"command-item-button",title:"Next Change",onClick:p},[(0,r.bF)(sn)]),(0,r.Lk)("button",{class:"command-item-button",title:"Previous Change",onClick:m},[(0,r.bF)(dn)])]),e.hideStat?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("span",bn,[(0,r.RG)(e.$slots,"stat",{stat:(0,o.R1)(h).stat},(()=>[(0,r.Lk)("span",wn,"+"+(0,i.v_)((0,o.R1)(h).stat.additionsNum)+" additions",1),(0,r.Lk)("span",_n,"-"+(0,i.v_)((0,o.R1)(h).stat.deletionsNum)+" deletions",1)]))]))])):((0,r.uX)(),(0,r.CE)("div",En,[(0,r.Lk)("span",Sn,(0,i.v_)(e.filename),1),(0,r.Lk)("span",Tn,[(0,r.Lk)("span",Mn,(0,i.v_)(e.newFilename),1),(0,r.Lk)("span",Cn,[(0,r.Lk)("button",{class:"command-item-button",title:"Next Change",onClick:p},[(0,r.bF)(sn)]),(0,r.Lk)("button",{class:"command-item-button",title:"Previous Change",onClick:m},[(0,r.bF)(dn)])]),e.hideStat?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("span",Rn,[(0,r.RG)(e.$slots,"stat",{stat:(0,o.R1)(h).stat},(()=>[(0,r.Lk)("span",xn,"+"+(0,i.v_)((0,o.R1)(h).stat.additionsNum)+" additions",1),(0,r.Lk)("span",An,"-"+(0,i.v_)((0,o.R1)(h).stat.deletionsNum)+" deletions",1)]))]))])]))])),(0,o.R1)(a)?((0,r.uX)(),(0,r.Wv)(jt,{key:1,"diff-change":(0,o.R1)(h)},null,8,["diff-change"])):((0,r.uX)(),(0,r.Wv)(Qt,{key:2,"diff-change":(0,o.R1)(h)},null,8,["diff-change"]))],12,fn))}})},96284:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var r=n(74220),i=n(46732);const o=(0,r.pM)({__name:"contenteditable",props:{tag:String,contenteditable:{type:[Boolean,String],default:!0},modelValue:String,noHtml:{type:Boolean,default:!0},noNl:{type:Boolean,default:!1}},emits:{returned:String,"update:modelValue":String},setup(e,{emit:t}){const n=e;function o(e,t,n){return e.split(t).join(n)}const s=(0,i.KR)();function a(){return n.noHtml?s.value.innerText:s.value.innerHTML}function l(e){n.noHtml?s.value.innerText=e:s.value.innerHTML=e}function u(e){t("update:modelValue",a())}function c(e){e.preventDefault();let t=(e.originalEvent||e).clipboardData.getData("text/plain");n.noNl&&(t=o(t,"\r\n"," "),t=o(t,"\n"," "),t=o(t,"\r"," ")),window.document.execCommand("insertText",!1,t)}function h(e){"Enter"==e.key&&n.noNl&&(e.preventDefault(),t("returned",a()))}return(0,r.sV)((()=>{var e;l(null!=(e=n.modelValue)?e:"")})),(0,r.wB)((()=>n.modelValue),((e,t)=>{e!=a()&&l(null!=e?e:"")})),(0,r.wB)((()=>n.noHtml),((e,t)=>{var r;l(null!=(r=n.modelValue)?r:"")})),(0,r.wB)((()=>n.tag),((e,t)=>{var r;l(null!=(r=n.modelValue)?r:"")}),{flush:"post"}),(t,n)=>((0,r.uX)(),(0,r.Wv)((0,r.$y)(e.tag),{contenteditable:e.contenteditable,onInput:u,onBlur:u,onPaste:c,onKeypress:h,ref_key:"element",ref:s},null,40,["contenteditable"]))}})},87449:function(e,t,n){"use strict";n.d(t,{hU:function(){return ar}});
/*!
  * shared v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */
const r="undefined"!==typeof window;const i=(e,t=!1)=>t?Symbol.for(e):Symbol(e),o=(e,t,n)=>s({l:e,k:t,s:n}),s=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),a=e=>"number"===typeof e&&isFinite(e),l=e=>"[object Date]"===T(e),u=e=>"[object RegExp]"===T(e),c=e=>M(e)&&0===Object.keys(e).length,h=Object.assign;let d;const f=()=>d||(d="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{});function p(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const m=Object.prototype.hasOwnProperty;function g(e,t){return m.call(e,t)}const v=Array.isArray,y=e=>"function"===typeof e,b=e=>"string"===typeof e,w=e=>"boolean"===typeof e,_=e=>null!==e&&"object"===typeof e,E=e=>_(e)&&y(e.then)&&y(e.catch),S=Object.prototype.toString,T=e=>S.call(e),M=e=>{if(!_(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t.constructor===Object},C=e=>null==e?"":v(e)||M(e)&&e.toString===S?JSON.stringify(e,null,2):String(e);function R(e,t=""){return e.reduce(((e,n,r)=>0===r?e+n:e+t+n),"")}function x(e){let t=e;return()=>++t}function A(e,t){"undefined"!==typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const N=e=>!_(e)||v(e);function L(e,t){if(N(e)||N(t))throw new Error("Invalid value");const n=[{src:e,des:t}];while(n.length){const{src:e,des:t}=n.pop();Object.keys(e).forEach((r=>{N(e[r])||N(t[r])?t[r]=e[r]:n.push({src:e[r],des:t[r]})}))}}function k(e,t,n){return{line:e,column:t,offset:n}}function O(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const I=/\{([0-9a-zA-Z]+)\}/g;function P(e,...t){return 1===t.length&&H(t[0])&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(I,((e,n)=>t.hasOwnProperty(n)?t[n]:""))}const D=Object.assign,F=e=>"string"===typeof e,H=e=>null!==e&&"object"===typeof e;function U(e,t=""){return e.reduce(((e,n,r)=>0===r?e+n:e+t+n),"")}const B={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},j={[B.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Y(e,t,...n){const r=P(j[e]||"",...n||[]),i={message:String(r),code:e};return t&&(i.location=t),i}const V={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},W={[V.EXPECTED_TOKEN]:"Expected token: '{0}'",[V.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[V.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[V.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[V.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[V.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[V.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[V.EMPTY_PLACEHOLDER]:"Empty placeholder",[V.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[V.INVALID_LINKED_FORMAT]:"Invalid linked format",[V.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[V.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[V.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[V.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[V.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[V.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function z(e,t,n={}){const{domain:r,messages:i,args:o}=n,s=P((i||W)[e]||"",...o||[]),a=new SyntaxError(String(s));return a.code=e,t&&(a.location=t),a.domain=r,a}function G(e){throw e}const $=" ",q="\r",K="\n",X=String.fromCharCode(8232),J=String.fromCharCode(8233);function Q(e){const t=e;let n=0,r=1,i=1,o=0;const s=e=>t[e]===q&&t[e+1]===K,a=e=>t[e]===K,l=e=>t[e]===J,u=e=>t[e]===X,c=e=>s(e)||a(e)||l(e)||u(e),h=()=>n,d=()=>r,f=()=>i,p=()=>o,m=e=>s(e)||l(e)||u(e)?K:t[e],g=()=>m(n),v=()=>m(n+o);function y(){return o=0,c(n)&&(r++,i=0),s(n)&&n++,n++,i++,t[n]}function b(){return s(n+o)&&o++,o++,t[n+o]}function w(){n=0,r=1,i=1,o=0}function _(e=0){o=e}function E(){const e=n+o;while(e!==n)y();o=0}return{index:h,line:d,column:f,peekOffset:p,charAt:m,currentChar:g,currentPeek:v,next:y,peek:b,reset:w,resetPeek:_,skipToPeek:E}}const Z=void 0,ee="'",te="tokenizer";function ne(e,t={}){const n=!1!==t.location,r=Q(e),i=()=>r.index(),o=()=>k(r.line(),r.column(),r.index()),s=o(),a=i(),l={currentType:14,offset:a,startLoc:s,endLoc:s,lastType:14,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function h(e,t,r,...i){const o=u();if(t.column+=r,t.offset+=r,c){const r=n?O(o.startLoc,t):null,s=z(e,r,{domain:te,args:i});c(s)}}function d(e,t,r){e.endLoc=o(),e.currentType=t;const i={type:t};return n&&(i.loc=O(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}const f=e=>d(e,14);function p(e,t){return e.currentChar()===t?(e.next(),t):(h(V.EXPECTED_TOKEN,o(),0,t),"")}function m(e){let t="";while(e.currentPeek()===$||e.currentPeek()===K)t+=e.currentPeek(),e.peek();return t}function g(e){const t=m(e);return e.skipToPeek(),t}function v(e){if(e===Z)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e){if(e===Z)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}function b(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}function w(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r="-"===e.currentPeek()?e.peek():e.currentPeek(),i=y(r);return e.resetPeek(),i}function _(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=e.currentPeek()===ee;return e.resetPeek(),r}function E(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const r="."===e.currentPeek();return e.resetPeek(),r}function S(e,t){const{currentType:n}=t;if(9!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}function T(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;m(e);const r=":"===e.currentPeek();return e.resetPeek(),r}function M(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===$||!t)&&(t===K?(e.peek(),r()):x(e,!1))},i=r();return e.resetPeek(),i}function C(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function R(e){const t=m(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}function x(e,t=!0){const n=(t=!1,r="",i=!1)=>{const o=e.currentPeek();return"{"===o?"%"!==r&&t:"@"!==o&&o?"%"===o?(e.peek(),n(t,"%",!0)):"|"===o?!("%"!==r&&!i)||!(r===$||r===K):o===$?(e.peek(),n(!0,$,i)):o!==K||(e.peek(),n(!0,K,i)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function A(e,t){const n=e.currentChar();return n===Z?Z:t(n)?(e.next(),n):null}function N(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function L(e){return A(e,N)}function I(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function P(e){return A(e,I)}function D(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function F(e){return A(e,D)}function H(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function U(e){return A(e,H)}function B(e){let t="",n="";while(t=F(e))n+=t;return n}function j(e){g(e);const t=e.currentChar();return"%"!==t&&h(V.EXPECTED_TOKEN,o(),0,t),e.next(),"%"}function Y(e){let t="";while(1){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!x(e))break;t+=n,e.next()}else if(n===$||n===K)if(x(e))t+=n,e.next();else{if(C(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function W(e){g(e);let t="",n="";while(t=P(e))n+=t;return e.currentChar()===Z&&h(V.UNTERMINATED_CLOSING_BRACE,o(),0),n}function G(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${B(e)}`):t+=B(e),e.currentChar()===Z&&h(V.UNTERMINATED_CLOSING_BRACE,o(),0),t}function q(e){return e!==ee&&e!==K}function X(e){g(e),p(e,"'");let t="",n="";while(t=A(e,q))n+="\\"===t?J(e):t;const r=e.currentChar();return r===K||r===Z?(h(V.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,o(),0),r===K&&(e.next(),p(e,"'")),n):(p(e,"'"),n)}function J(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return ne(e,t,4);case"U":return ne(e,t,6);default:return h(V.UNKNOWN_ESCAPE_SEQUENCE,o(),0,t),""}}function ne(e,t,n){p(e,t);let r="";for(let i=0;i<n;i++){const n=U(e);if(!n){h(V.INVALID_UNICODE_ESCAPE_SEQUENCE,o(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function re(e){return"{"!==e&&"}"!==e&&e!==$&&e!==K}function ie(e){g(e);let t="",n="";while(t=A(e,re))n+=t;return n}function oe(e){let t="",n="";while(t=L(e))n+=t;return n}function se(e){const t=n=>{const r=e.currentChar();return"{"!==r&&"%"!==r&&"@"!==r&&"|"!==r&&"("!==r&&")"!==r&&r?r===$?n:(n+=r,e.next(),t(n)):n};return t("")}function ae(e){g(e);const t=p(e,"|");return g(e),t}function le(e,t){let n=null;const r=e.currentChar();switch(r){case"{":return t.braceNest>=1&&h(V.NOT_ALLOW_NEST_PLACEHOLDER,o(),0),e.next(),n=d(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&h(V.EMPTY_PLACEHOLDER,o(),0),e.next(),n=d(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&h(V.UNTERMINATED_CLOSING_BRACE,o(),0),n=ue(e,t)||f(t),t.braceNest=0,n;default:{let r=!0,i=!0,s=!0;if(C(e))return t.braceNest>0&&h(V.UNTERMINATED_CLOSING_BRACE,o(),0),n=d(t,1,ae(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return h(V.UNTERMINATED_CLOSING_BRACE,o(),0),t.braceNest=0,ce(e,t);if(r=b(e,t))return n=d(t,5,W(e)),g(e),n;if(i=w(e,t))return n=d(t,6,G(e)),g(e),n;if(s=_(e,t))return n=d(t,7,X(e)),g(e),n;if(!r&&!i&&!s)return n=d(t,13,ie(e)),h(V.INVALID_TOKEN_IN_PLACEHOLDER,o(),0,n.value),g(e),n;break}}return n}function ue(e,t){const{currentType:n}=t;let r=null;const i=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||i!==K&&i!==$||h(V.INVALID_LINKED_FORMAT,o(),0),i){case"@":return e.next(),r=d(t,8,"@"),t.inLinked=!0,r;case".":return g(e),e.next(),d(t,9,".");case":":return g(e),e.next(),d(t,10,":");default:return C(e)?(r=d(t,1,ae(e)),t.braceNest=0,t.inLinked=!1,r):E(e,t)||T(e,t)?(g(e),ue(e,t)):S(e,t)?(g(e),d(t,12,oe(e))):M(e,t)?(g(e),"{"===i?le(e,t)||r:d(t,11,se(e))):(8===n&&h(V.INVALID_LINKED_FORMAT,o(),0),t.braceNest=0,t.inLinked=!1,ce(e,t))}}function ce(e,t){let n={type:14};if(t.braceNest>0)return le(e,t)||f(t);if(t.inLinked)return ue(e,t)||f(t);const r=e.currentChar();switch(r){case"{":return le(e,t)||f(t);case"}":return h(V.UNBALANCED_CLOSING_BRACE,o(),0),e.next(),d(t,3,"}");case"@":return ue(e,t)||f(t);default:{if(C(e))return n=d(t,1,ae(e)),t.braceNest=0,t.inLinked=!1,n;const{isModulo:r,hasSpace:i}=R(e);if(r)return i?d(t,0,Y(e)):d(t,4,j(e));if(x(e))return d(t,0,Y(e));break}}return n}function he(){const{currentType:e,offset:t,startLoc:n,endLoc:s}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=s,l.offset=i(),l.startLoc=o(),r.currentChar()===Z?d(l,14):ce(r,l)}return{nextToken:he,currentOffset:i,currentPosition:o,context:u}}const re="parser",ie=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function oe(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function se(e={}){const t=!1!==e.location,{onError:n,onWarn:r}=e;function i(e,r,i,o,...s){const a=e.currentPosition();if(a.offset+=o,a.column+=o,n){const e=t?O(i,a):null,o=z(r,e,{domain:re,args:s});n(o)}}function o(e,n,i,o,...s){const a=e.currentPosition();if(a.offset+=o,a.column+=o,r){const e=t?O(i,a):null;r(Y(n,e,s))}}function s(e,n,r){const i={type:e};return t&&(i.start=n,i.end=n,i.loc={start:r,end:r}),i}function a(e,n,r,i){i&&(e.type=i),t&&(e.end=n,e.loc&&(e.loc.end=r))}function l(e,t){const n=e.context(),r=s(3,n.offset,n.startLoc);return r.value=t,a(r,e.currentOffset(),e.currentPosition()),r}function u(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,o=s(5,r,i);return o.index=parseInt(t,10),e.nextToken(),a(o,e.currentOffset(),e.currentPosition()),o}function c(e,t,n){const r=e.context(),{lastOffset:i,lastStartLoc:o}=r,l=s(4,i,o);return l.key=t,!0===n&&(l.modulo=!0),e.nextToken(),a(l,e.currentOffset(),e.currentPosition()),l}function h(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:i}=n,o=s(9,r,i);return o.value=t.replace(ie,oe),e.nextToken(),a(o,e.currentOffset(),e.currentPosition()),o}function d(e){const t=e.nextToken(),n=e.context(),{lastOffset:r,lastStartLoc:o}=n,l=s(8,r,o);return 12!==t.type?(i(e,V.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),l.value="",a(l,r,o),{nextConsumeToken:t,node:l}):(null==t.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,ae(t)),l.value=t.value||"",a(l,e.currentOffset(),e.currentPosition()),{node:l})}function f(e,t){const n=e.context(),r=s(7,n.offset,n.startLoc);return r.value=t,a(r,e.currentOffset(),e.currentPosition()),r}function p(e){const t=e.context(),n=s(6,t.offset,t.startLoc);let r=e.nextToken();if(9===r.type){const t=d(e);n.modifier=t.node,r=t.nextConsumeToken||e.nextToken()}switch(10!==r.type&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(r)),r=e.nextToken(),2===r.type&&(r=e.nextToken()),r.type){case 11:null==r.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(r)),n.key=f(e,r.value||"");break;case 5:null==r.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(r)),n.key=c(e,r.value||"");break;case 6:null==r.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(r)),n.key=u(e,r.value||"");break;case 7:null==r.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(r)),n.key=h(e,r.value||"");break;default:{i(e,V.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);const o=e.context(),l=s(7,o.offset,o.startLoc);return l.value="",a(l,o.offset,o.startLoc),n.key=l,a(n,o.offset,o.startLoc),{nextConsumeToken:r,node:n}}}return a(n,e.currentOffset(),e.currentPosition()),{node:n}}function m(e){const t=e.context(),n=1===t.currentType?e.currentOffset():t.offset,r=1===t.currentType?t.endLoc:t.startLoc,d=s(2,n,r);d.items=[];let f=null,m=null;do{const n=f||e.nextToken();switch(f=null,n.type){case 0:null==n.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(n)),d.items.push(l(e,n.value||""));break;case 6:null==n.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(n)),d.items.push(u(e,n.value||""));break;case 4:m=!0;break;case 5:null==n.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(n)),d.items.push(c(e,n.value||"",!!m)),m&&(o(e,B.USE_MODULO_SYNTAX,t.lastStartLoc,0,ae(n)),m=null);break;case 7:null==n.value&&i(e,V.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,ae(n)),d.items.push(h(e,n.value||""));break;case 8:{const t=p(e);d.items.push(t.node),f=t.nextConsumeToken||null;break}}}while(14!==t.currentType&&1!==t.currentType);const g=1===t.currentType?t.lastOffset:e.currentOffset(),v=1===t.currentType?t.lastEndLoc:e.currentPosition();return a(d,g,v),d}function g(e,t,n,r){const o=e.context();let l=0===r.items.length;const u=s(1,t,n);u.cases=[],u.cases.push(r);do{const t=m(e);l||(l=0===t.items.length),u.cases.push(t)}while(14!==o.currentType);return l&&i(e,V.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),a(u,e.currentOffset(),e.currentPosition()),u}function v(e){const t=e.context(),{offset:n,startLoc:r}=t,i=m(e);return 14===t.currentType?i:g(e,n,r,i)}function y(n){const r=ne(n,D({},e)),o=r.context(),l=s(0,o.offset,o.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=v(r),e.onCacheKey&&(l.cacheKey=e.onCacheKey(n)),14!==o.currentType&&i(r,V.UNEXPECTED_LEXICAL_ANALYSIS,o.lastStartLoc,0,n[o.offset]||""),a(l,r.currentOffset(),r.currentPosition()),l}return{parse:y}}function ae(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function le(e,t={}){const n={ast:e,helpers:new Set},r=()=>n,i=e=>(n.helpers.add(e),e);return{context:r,helper:i}}function ue(e,t){for(let n=0;n<e.length;n++)ce(e[n],t)}function ce(e,t){switch(e.type){case 1:ue(e.cases,t),t.helper("plural");break;case 2:ue(e.items,t);break;case 6:{const n=e;ce(n.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function he(e,t={}){const n=le(e);n.helper("normalize"),e.body&&ce(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function de(e){const t=e.body;return 2===t.type?fe(t):t.cases.forEach((e=>fe(e))),e}function fe(e){if(1===e.items.length){const t=e.items[0];3!==t.type&&9!==t.type||(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(3!==r.type&&9!==r.type)break;if(null==r.value)break;t.push(r.value)}if(t.length===e.items.length){e.static=U(t);for(let t=0;t<e.items.length;t++){const n=e.items[t];3!==n.type&&9!==n.type||delete n.value}}}}const pe="minifier";function me(e){switch(e.t=e.type,e.type){case 0:{const t=e;me(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let e=0;e<n.length;e++)me(n[e]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let e=0;e<n.length;e++)me(n[e]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;me(t.key),t.k=t.key,delete t.key,t.modifier&&(me(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw z(V.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:pe,args:[e.type]})}delete e.type}const ge="parser";function ve(e,t){const{sourceMap:n,filename:r,breakLineCode:i,needIndent:o}=t,s=!1!==t.location,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:o,indentLevel:0};s&&e.loc&&(a.source=e.loc.source);const l=()=>a;function u(e,t){a.code+=e}function c(e,t=!0){const n=t?i:"";u(o?n+"  ".repeat(e):n)}function h(e=!0){const t=++a.indentLevel;e&&c(t)}function d(e=!0){const t=--a.indentLevel;e&&c(t)}function f(){c(a.indentLevel)}const p=e=>`_${e}`,m=()=>a.needIndent;return{context:l,push:u,indent:h,deindent:d,newline:f,helper:p,needIndent:m}}function ye(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Ee(e,t.key),t.modifier?(e.push(", "),Ee(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function be(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let o=0;o<i;o++){if(Ee(e,t.items[o]),o===i-1)break;e.push(", ")}e.deindent(r()),e.push("])")}function we(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let n=0;n<i;n++){if(Ee(e,t.cases[n]),n===i-1)break;e.push(", ")}e.deindent(r()),e.push("])")}}function _e(e,t){t.body?Ee(e,t.body):e.push("null")}function Ee(e,t){const{helper:n}=e;switch(t.type){case 0:_e(e,t);break;case 1:we(e,t);break;case 2:be(e,t);break;case 6:ye(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw z(V.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:ge,args:[t.type]})}}const Se=(e,t={})=>{const n=F(t.mode)?t.mode:"normal",r=F(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,o=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",s=t.needIndent?t.needIndent:"arrow"!==n,a=e.helpers||[],l=ve(e,{mode:n,filename:r,sourceMap:i,breakLineCode:o,needIndent:s});l.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(s),a.length>0&&(l.push(`const { ${U(a.map((e=>`${e}: _${e}`)),", ")} } = ctx`),l.newline()),l.push("return "),Ee(l,e),l.deindent(s),l.push("}"),delete e.helpers;const{code:u,map:c}=l.context();return{ast:e,code:u,map:c?c.toJSON():void 0}};function Te(e,t={}){const n=D({},t),r=!!n.jit,i=!!n.minify,o=null==n.optimize||n.optimize,s=se(n),a=s.parse(e);return r?(o&&de(a),i&&me(a),{ast:a,code:""}):(he(a,n),Se(a,n))}
/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */
function Me(){"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(f().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!==typeof __INTLIFY_JIT_COMPILATION__&&(f().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!==typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(f().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Ce=[];Ce[0]={["w"]:[0],["i"]:[3,0],["["]:[4],["o"]:[7]},Ce[1]={["w"]:[1],["."]:[2],["["]:[4],["o"]:[7]},Ce[2]={["w"]:[2],["i"]:[3,0],["0"]:[3,0]},Ce[3]={["i"]:[3,0],["0"]:[3,0],["w"]:[1,1],["."]:[2,1],["["]:[4,1],["o"]:[7,1]},Ce[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],["o"]:8,["l"]:[4,0]},Ce[5]={["'"]:[4,0],["o"]:8,["l"]:[5,0]},Ce[6]={['"']:[4,0],["o"]:8,["l"]:[6,0]};const Re=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function xe(e){return Re.test(e)}function Ae(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t!==n||34!==t&&39!==t?e:e.slice(1,-1)}function Ne(e){if(void 0===e||null===e)return"o";const t=e.charCodeAt(0);switch(t){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function Le(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(xe(t)?Ae(t):"*"+t)}function ke(e){const t=[];let n,r,i,o,s,a,l,u=-1,c=0,h=0;const d=[];function f(){const t=e[u+1];if(5===c&&"'"===t||6===c&&'"'===t)return u++,i="\\"+t,d[0](),!0}d[0]=()=>{void 0===r?r=i:r+=i},d[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},d[2]=()=>{d[0](),h++},d[3]=()=>{if(h>0)h--,c=4,d[0]();else{if(h=0,void 0===r)return!1;if(r=Le(r),!1===r)return!1;d[1]()}};while(null!==c)if(u++,n=e[u],"\\"!==n||!f()){if(o=Ne(n),l=Ce[c],s=l[o]||l["l"]||8,8===s)return;if(c=s[0],void 0!==s[1]&&(a=d[s[1]],a&&(i=n,!1===a())))return;if(7===c)return t}}const Oe=new Map;function Ie(e,t){return _(e)?e[t]:null}function Pe(e,t){if(!_(e))return null;let n=Oe.get(t);if(n||(n=ke(t),n&&Oe.set(t,n)),!n)return null;const r=n.length;let i=e,o=0;while(o<r){const e=i[n[o]];if(void 0===e)return null;if(y(i))return null;i=e,o++}return i}const De=e=>e,Fe=e=>"",He="text",Ue=e=>0===e.length?"":R(e),Be=C;function je(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function Ye(e){const t=a(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(a(e.named.count)||a(e.named.n))?a(e.named.count)?e.named.count:a(e.named.n)?e.named.n:t:t}function Ve(e,t){t.count||(t.count=e),t.n||(t.n=e)}function We(e={}){const t=e.locale,n=Ye(e),r=_(e.pluralRules)&&b(t)&&y(e.pluralRules[t])?e.pluralRules[t]:je,i=_(e.pluralRules)&&b(t)&&y(e.pluralRules[t])?je:void 0,o=e=>e[r(n,e.length,i)],s=e.list||[],l=e=>s[e],u=e.named||{};a(e.pluralIndex)&&Ve(n,u);const c=e=>u[e];function d(t){const n=y(e.messages)?e.messages(t):!!_(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):Fe)}const f=t=>e.modifiers?e.modifiers[t]:De,p=M(e.processor)&&y(e.processor.normalize)?e.processor.normalize:Ue,m=M(e.processor)&&y(e.processor.interpolate)?e.processor.interpolate:Be,g=M(e.processor)&&b(e.processor.type)?e.processor.type:He,w=(e,...t)=>{const[n,r]=t;let i="text",o="";1===t.length?_(n)?(o=n.modifier||o,i=n.type||i):b(n)&&(o=n||o):2===t.length&&(b(n)&&(o=n||o),b(r)&&(i=r||i));const s=d(e)(E),a="vnode"===i&&v(s)&&o?s[0]:s;return o?f(o)(a,i):a},E={["list"]:l,["named"]:c,["plural"]:o,["linked"]:w,["message"]:d,["type"]:g,["interpolate"]:m,["normalize"]:p,["values"]:h({},s,u)};return E}let ze=null;function Ge(e){ze=e}function $e(e,t,n){ze&&ze.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const qe=Ke("function:translate");function Ke(e){return t=>ze&&ze.emit(e,t)}const Xe=B.__EXTEND_POINT__,Je=x(Xe),Qe={NOT_FOUND_KEY:Xe,FALLBACK_TO_TRANSLATE:Je(),CANNOT_FORMAT_NUMBER:Je(),FALLBACK_TO_NUMBER_FORMAT:Je(),CANNOT_FORMAT_DATE:Je(),FALLBACK_TO_DATE_FORMAT:Je(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Je(),__EXTEND_POINT__:Je()};Qe.NOT_FOUND_KEY,Qe.FALLBACK_TO_TRANSLATE,Qe.CANNOT_FORMAT_NUMBER,Qe.FALLBACK_TO_NUMBER_FORMAT,Qe.CANNOT_FORMAT_DATE,Qe.FALLBACK_TO_DATE_FORMAT,Qe.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER;const Ze=V.__EXTEND_POINT__,et=x(Ze),tt={INVALID_ARGUMENT:Ze,INVALID_DATE_ARGUMENT:et(),INVALID_ISO_DATE_ARGUMENT:et(),NOT_SUPPORT_NON_STRING_MESSAGE:et(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:et(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:et(),NOT_SUPPORT_LOCALE_TYPE:et(),__EXTEND_POINT__:et()};function nt(e){return z(e,null,void 0)}tt.INVALID_ARGUMENT,tt.INVALID_DATE_ARGUMENT,tt.INVALID_ISO_DATE_ARGUMENT,tt.NOT_SUPPORT_NON_STRING_MESSAGE,tt.NOT_SUPPORT_LOCALE_PROMISE_VALUE,tt.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION,tt.NOT_SUPPORT_LOCALE_TYPE;function rt(e,t){return null!=t.locale?ot(t.locale):ot(e.locale)}let it;function ot(e){if(b(e))return e;if(y(e)){if(e.resolvedOnce&&null!=it)return it;if("Function"===e.constructor.name){const t=e();if(E(t))throw nt(tt.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return it=t}throw nt(tt.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}throw nt(tt.NOT_SUPPORT_LOCALE_TYPE)}function st(e,t,n){return[...new Set([n,...v(t)?t:_(t)?Object.keys(t):b(t)?[t]:[n]])]}function at(e,t,n){const r=b(n)?n:ft,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(r);if(!o){o=[];let e=[n];while(v(e))e=lt(o,e,t);const s=v(t)||!M(t)?t:t["default"]?t["default"]:null;e=b(s)?[s]:s,v(e)&&lt(o,e,!1),i.__localeChainCache.set(r,o)}return o}function lt(e,t,n){let r=!0;for(let i=0;i<t.length&&w(r);i++){const o=t[i];b(o)&&(r=ut(e,t[i],n))}return r}function ut(e,t,n){let r;const i=t.split("-");do{const t=i.join("-");r=ct(e,t,n),i.splice(-1,1)}while(i.length&&!0===r);return r}function ct(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const i=t.replace(/!/g,"");e.push(i),(v(n)||M(n))&&n[i]&&(r=n[i])}return r}const ht="9.13.1",dt=-1,ft="en-US",pt="",mt=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function gt(){return{upper:(e,t)=>"text"===t&&b(e)?e.toUpperCase():"vnode"===t&&_(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&b(e)?e.toLowerCase():"vnode"===t&&_(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&b(e)?mt(e):"vnode"===t&&_(e)&&"__v_isVNode"in e?mt(e.children):e}}let vt,yt,bt;function wt(e){vt=e}function _t(e){yt=e}function Et(e){bt=e}let St=null;const Tt=e=>{St=e},Mt=()=>St;let Ct=null;const Rt=e=>{Ct=e},xt=()=>Ct;let At=0;function Nt(e={}){const t=y(e.onWarn)?e.onWarn:A,n=b(e.version)?e.version:ht,r=b(e.locale)||y(e.locale)?e.locale:ft,i=y(r)?ft:r,o=v(e.fallbackLocale)||M(e.fallbackLocale)||b(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:i,s=M(e.messages)?e.messages:{[i]:{}},a=M(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},l=M(e.numberFormats)?e.numberFormats:{[i]:{}},c=h({},e.modifiers||{},gt()),d=e.pluralRules||{},f=y(e.missing)?e.missing:null,p=!w(e.missingWarn)&&!u(e.missingWarn)||e.missingWarn,m=!w(e.fallbackWarn)&&!u(e.fallbackWarn)||e.fallbackWarn,g=!!e.fallbackFormat,E=!!e.unresolving,S=y(e.postTranslation)?e.postTranslation:null,T=M(e.processor)?e.processor:null,C=!w(e.warnHtmlMessage)||e.warnHtmlMessage,R=!!e.escapeParameter,x=y(e.messageCompiler)?e.messageCompiler:vt;const N=y(e.messageResolver)?e.messageResolver:yt||Ie,L=y(e.localeFallbacker)?e.localeFallbacker:bt||st,k=_(e.fallbackContext)?e.fallbackContext:void 0,O=e,I=_(O.__datetimeFormatters)?O.__datetimeFormatters:new Map,P=_(O.__numberFormatters)?O.__numberFormatters:new Map,D=_(O.__meta)?O.__meta:{};At++;const F={version:n,cid:At,locale:r,fallbackLocale:o,messages:s,modifiers:c,pluralRules:d,missing:f,missingWarn:p,fallbackWarn:m,fallbackFormat:g,unresolving:E,postTranslation:S,processor:T,warnHtmlMessage:C,escapeParameter:R,messageCompiler:x,messageResolver:N,localeFallbacker:L,fallbackContext:k,onWarn:t,__meta:D};return F.datetimeFormats=a,F.numberFormats=l,F.__datetimeFormatters=I,F.__numberFormatters=P,__INTLIFY_PROD_DEVTOOLS__&&$e(F,n,D),F}function Lt(e,t,n,r,i){const{missing:o,onWarn:s}=e;if(null!==o){const r=o(e,n,t,i);return b(r)?r:t}return t}function kt(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Ot(e,t){return e!==t&&e.split("-")[0]===t.split("-")[0]}function It(e,t){const n=t.indexOf(e);if(-1===n)return!1;for(let r=n+1;r<t.length;r++)if(Ot(e,t[r]))return!0;return!1}function Pt(e){const t=t=>Dt(t,e);return t}function Dt(e,t){const n=t.b||t.body;if(1===(n.t||n.type)){const t=n,r=t.c||t.cases;return e.plural(r.reduce(((t,n)=>[...t,Ft(e,n)]),[]))}return Ft(e,n)}function Ft(e,t){const n=t.s||t.static;if(n)return"text"===e.type?n:e.normalize([n]);{const n=(t.i||t.items).reduce(((t,n)=>[...t,Ht(e,n)]),[]);return e.normalize(n)}}function Ht(e,t){const n=t.t||t.type;switch(n){case 3:{const e=t;return e.v||e.value}case 9:{const e=t;return e.v||e.value}case 4:{const n=t;return e.interpolate(e.named(n.k||n.key))}case 5:{const n=t;return e.interpolate(e.list(null!=n.i?n.i:n.index))}case 6:{const n=t,r=n.m||n.modifier;return e.linked(Ht(e,n.k||n.key),r?Ht(e,r):void 0,e.type)}case 7:{const e=t;return e.v||e.value}case 8:{const e=t;return e.v||e.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const Ut=e=>e;let Bt=Object.create(null);const jt=e=>_(e)&&(0===e.t||0===e.type)&&("b"in e||"body"in e);function Yt(e,t={}){let n=!1;const r=t.onError||G;return t.onError=e=>{n=!0,r(e)},{...Te(e,t),detectError:n}}const Vt=(e,t)=>{if(!b(e))throw nt(tt.NOT_SUPPORT_NON_STRING_MESSAGE);{!w(t.warnHtmlMessage)||t.warnHtmlMessage;const n=t.onCacheKey||Ut,r=n(e),i=Bt[r];if(i)return i;const{code:o,detectError:s}=Yt(e,t),a=new Function(`return ${o}`)();return s?a:Bt[r]=a}};function Wt(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&b(e)){!w(t.warnHtmlMessage)||t.warnHtmlMessage;const n=t.onCacheKey||Ut,r=n(e),i=Bt[r];if(i)return i;const{ast:o,detectError:s}=Yt(e,{...t,location:!1,jit:!0}),a=Pt(o);return s?a:Bt[r]=a}{0;const t=e.cacheKey;if(t){const n=Bt[t];return n||(Bt[t]=Pt(e))}return Pt(e)}}const zt=()=>"",Gt=e=>y(e);function $t(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:o,fallbackLocale:s,messages:a}=e,[l,u]=Qt(...t),c=w(u.missingWarn)?u.missingWarn:e.missingWarn,d=w(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,f=w(u.escapeParameter)?u.escapeParameter:e.escapeParameter,p=!!u.resolvedMessage,m=b(u.default)||w(u.default)?w(u.default)?o?l:()=>l:u.default:n?o?l:()=>l:"",g=n||""!==m,v=rt(e,u);f&&qt(u);let[y,_,E]=p?[l,v,a[v]||{}]:Kt(e,l,v,s,d,c),S=y,T=l;if(p||b(S)||jt(S)||Gt(S)||g&&(S=m,T=S),!p&&(!(b(S)||jt(S)||Gt(S))||!b(_)))return i?dt:l;let M=!1;const C=()=>{M=!0},R=Gt(S)?S:Xt(e,l,_,S,T,C);if(M)return S;const x=en(e,_,E,u),A=We(x),N=Jt(e,R,A),L=r?r(N,l):N;if(__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:b(l)?l:Gt(S)?S.key:"",locale:_||(Gt(S)?S.locale:""),format:b(S)?S:Gt(S)?S.source:"",message:L};t.meta=h({},e.__meta,Mt()||{}),qe(t)}return L}function qt(e){v(e.list)?e.list=e.list.map((e=>b(e)?p(e):e)):_(e.named)&&Object.keys(e.named).forEach((t=>{b(e.named[t])&&(e.named[t]=p(e.named[t]))}))}function Kt(e,t,n,r,i,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:u}=e,c=u(e,r,n);let h,d={},f=null,p=n,m=null;const g="translate";for(let v=0;v<c.length;v++){h=m=c[v],d=s[h]||{};if(null===(f=l(d,t))&&(f=d[t]),b(f)||jt(f)||Gt(f))break;if(!It(h,c)){const n=Lt(e,t,h,o,g);n!==t&&(f=n)}p=m}return[f,h,d]}function Xt(e,t,n,r,i,o){const{messageCompiler:s,warnHtmlMessage:a}=e;if(Gt(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==s){const e=()=>r;return e.locale=n,e.key=t,e}const l=s(r,Zt(e,n,i,r,a,o));return l.locale=n,l.key=t,l.source=r,l}function Jt(e,t,n){const r=t(n);return r}function Qt(...e){const[t,n,r]=e,i={};if(!b(t)&&!a(t)&&!Gt(t)&&!jt(t))throw nt(tt.INVALID_ARGUMENT);const o=a(t)?String(t):(Gt(t),t);return a(n)?i.plural=n:b(n)?i.default=n:M(n)&&!c(n)?i.named=n:v(n)&&(i.list=n),a(r)?i.plural=r:b(r)?i.default=r:M(r)&&h(i,r),[o,i]}function Zt(e,t,n,r,i,s){return{locale:t,key:n,warnHtmlMessage:i,onError:e=>{throw s&&s(e),e},onCacheKey:e=>o(t,n,e)}}function en(e,t,n,r){const{modifiers:i,pluralRules:o,messageResolver:s,fallbackLocale:l,fallbackWarn:u,missingWarn:c,fallbackContext:h}=e,d=r=>{let i=s(n,r);if(null==i&&h){const[,,e]=Kt(h,r,t,l,u,c);i=s(e,r)}if(b(i)||jt(i)){let n=!1;const o=()=>{n=!0},s=Xt(e,r,t,i,r,o);return n?zt:s}return Gt(i)?i:zt},f={locale:t,modifiers:i,pluralRules:o,messages:d};return e.processor&&(f.processor=e.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),a(r.plural)&&(f.pluralIndex=r.plural),f}const tn="undefined"!==typeof Intl;tn&&Intl.DateTimeFormat,tn&&Intl.NumberFormat;function nn(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:a}=e;const[l,u,d,f]=on(...t),p=w(d.missingWarn)?d.missingWarn:e.missingWarn,m=(w(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,!!d.part),g=rt(e,d),v=s(e,i,g);if(!b(l)||""===l)return new Intl.DateTimeFormat(g,f).format(u);let y,_={},E=null,S=g,T=null;const C="datetime format";for(let c=0;c<v.length;c++){if(y=T=v[c],_=n[y]||{},E=_[l],M(E))break;Lt(e,l,y,p,C),S=T}if(!M(E)||!b(y))return r?dt:l;let R=`${y}__${l}`;c(f)||(R=`${R}__${JSON.stringify(f)}`);let x=a.get(R);return x||(x=new Intl.DateTimeFormat(y,h({},E,f)),a.set(R,x)),m?x.formatToParts(u):x.format(u)}const rn=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function on(...e){const[t,n,r,i]=e,o={};let s,u={};if(b(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw nt(tt.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();s=new Date(n);try{s.toISOString()}catch(c){throw nt(tt.INVALID_ISO_DATE_ARGUMENT)}}else if(l(t)){if(isNaN(t.getTime()))throw nt(tt.INVALID_DATE_ARGUMENT);s=t}else{if(!a(t))throw nt(tt.INVALID_ARGUMENT);s=t}return b(n)?o.key=n:M(n)&&Object.keys(n).forEach((e=>{rn.includes(e)?u[e]=n[e]:o[e]=n[e]})),b(r)?o.locale=r:M(r)&&(u=r),M(i)&&(u=i),[o.key||"",s,o,u]}function sn(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function an(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:a}=e;const[l,u,d,f]=un(...t),p=w(d.missingWarn)?d.missingWarn:e.missingWarn,m=(w(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,!!d.part),g=rt(e,d),v=s(e,i,g);if(!b(l)||""===l)return new Intl.NumberFormat(g,f).format(u);let y,_={},E=null,S=g,T=null;const C="number format";for(let c=0;c<v.length;c++){if(y=T=v[c],_=n[y]||{},E=_[l],M(E))break;Lt(e,l,y,p,C),S=T}if(!M(E)||!b(y))return r?dt:l;let R=`${y}__${l}`;c(f)||(R=`${R}__${JSON.stringify(f)}`);let x=a.get(R);return x||(x=new Intl.NumberFormat(y,h({},E,f)),a.set(R,x)),m?x.formatToParts(u):x.format(u)}const ln=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function un(...e){const[t,n,r,i]=e,o={};let s={};if(!a(t))throw nt(tt.INVALID_ARGUMENT);const l=t;return b(n)?o.key=n:M(n)&&Object.keys(n).forEach((e=>{ln.includes(e)?s[e]=n[e]:o[e]=n[e]})),b(r)?o.locale=r:M(r)&&(s=r),M(i)&&(s=i),[o.key||"",l,o,s]}function cn(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}Me();var hn=n(74220),dn=n(46732);
/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */
const fn="9.13.1";function pn(){"boolean"!==typeof __VUE_I18N_FULL_INSTALL__&&(f().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!==typeof __VUE_I18N_LEGACY_API__&&(f().__VUE_I18N_LEGACY_API__=!0),"boolean"!==typeof __INTLIFY_JIT_COMPILATION__&&(f().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!==typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(f().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!==typeof __INTLIFY_PROD_DEVTOOLS__&&(f().__INTLIFY_PROD_DEVTOOLS__=!1)}const mn=Qe.__EXTEND_POINT__,gn=x(mn),vn={FALLBACK_TO_ROOT:mn,NOT_SUPPORTED_PRESERVE:gn(),NOT_SUPPORTED_FORMATTER:gn(),NOT_SUPPORTED_PRESERVE_DIRECTIVE:gn(),NOT_SUPPORTED_GET_CHOICE_INDEX:gn(),COMPONENT_NAME_LEGACY_COMPATIBLE:gn(),NOT_FOUND_PARENT_SCOPE:gn(),IGNORE_OBJ_FLATTEN:gn(),NOTICE_DROP_ALLOW_COMPOSITION:gn(),NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG:gn()};vn.FALLBACK_TO_ROOT,vn.NOT_SUPPORTED_PRESERVE,vn.NOT_SUPPORTED_FORMATTER,vn.NOT_SUPPORTED_PRESERVE_DIRECTIVE,vn.NOT_SUPPORTED_GET_CHOICE_INDEX,vn.COMPONENT_NAME_LEGACY_COMPATIBLE,vn.NOT_FOUND_PARENT_SCOPE,vn.IGNORE_OBJ_FLATTEN,vn.NOTICE_DROP_ALLOW_COMPOSITION,vn.NOTICE_DROP_TRANSLATE_EXIST_COMPATIBLE_FLAG;const yn=tt.__EXTEND_POINT__,bn=x(yn),wn={UNEXPECTED_RETURN_TYPE:yn,INVALID_ARGUMENT:bn(),MUST_BE_CALL_SETUP_TOP:bn(),NOT_INSTALLED:bn(),NOT_AVAILABLE_IN_LEGACY_MODE:bn(),REQUIRED_VALUE:bn(),INVALID_VALUE:bn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:bn(),NOT_INSTALLED_WITH_PROVIDE:bn(),UNEXPECTED_ERROR:bn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:bn(),BRIDGE_SUPPORT_VUE_2_ONLY:bn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:bn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:bn(),__EXTEND_POINT__:bn()};function _n(e,...t){return z(e,null,void 0)}wn.UNEXPECTED_RETURN_TYPE,wn.INVALID_ARGUMENT,wn.MUST_BE_CALL_SETUP_TOP,wn.NOT_INSTALLED,wn.UNEXPECTED_ERROR,wn.NOT_AVAILABLE_IN_LEGACY_MODE,wn.REQUIRED_VALUE,wn.INVALID_VALUE,wn.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN,wn.NOT_INSTALLED_WITH_PROVIDE,wn.NOT_COMPATIBLE_LEGACY_VUE_I18N,wn.BRIDGE_SUPPORT_VUE_2_ONLY,wn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION,wn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY;const En=i("__translateVNode"),Sn=i("__datetimeParts"),Tn=i("__numberParts"),Mn=i("__setPluralRules");i("__intlifyMeta");const Cn=i("__injectWithOption"),Rn=i("__dispose");function xn(e){if(!_(e))return e;for(const t in e)if(g(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let i=e,o=!1;for(let e=0;e<r;e++){if(n[e]in i||(i[n[e]]={}),!_(i[n[e]])){o=!0;break}i=i[n[e]]}o||(i[n[r]]=e[t],delete e[t]),_(i[n[r]])&&xn(i[n[r]])}else _(e[t])&&xn(e[t]);return e}function An(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:o}=t,s=M(n)?n:v(r)?{}:{[e]:{}};if(v(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(s[t]=s[t]||{},L(n,s[t])):L(n,s)}else b(e)&&L(JSON.parse(e),s)})),null==i&&o)for(const a in s)g(s,a)&&xn(s[a]);return s}function Nn(e){return e.type}function Ln(e,t,n){let r=_(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=An(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);if(i.length&&i.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),_(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(_(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function kn(e){return(0,hn.bF)(hn.EY,null,e,0)}const On="__INTLIFY_META__",In=()=>[],Pn=()=>!1;let Dn=0;function Fn(e){return(t,n,r,i)=>e(n,r,(0,hn.nI)()||void 0,i)}const Hn=()=>{const e=(0,hn.nI)();let t=null;return e&&(t=Nn(e)[On])?{[On]:t}:null};function Un(e={},t){const{__root:n,__injectWithOption:i}=e,o=void 0===n,s=e.flatJson,l=r?dn.KR:dn.IJ,c=!!e.translateExistCompatible;let d=!w(e.inheritLocale)||e.inheritLocale;const f=l(n&&d?n.locale.value:b(e.locale)?e.locale:ft),p=l(n&&d?n.fallbackLocale.value:b(e.fallbackLocale)||v(e.fallbackLocale)||M(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:f.value),m=l(An(f.value,e)),E=l(M(e.datetimeFormats)?e.datetimeFormats:{[f.value]:{}}),S=l(M(e.numberFormats)?e.numberFormats:{[f.value]:{}});let T=n?n.missingWarn:!w(e.missingWarn)&&!u(e.missingWarn)||e.missingWarn,C=n?n.fallbackWarn:!w(e.fallbackWarn)&&!u(e.fallbackWarn)||e.fallbackWarn,R=n?n.fallbackRoot:!w(e.fallbackRoot)||e.fallbackRoot,x=!!e.fallbackFormat,A=y(e.missing)?e.missing:null,N=y(e.missing)?Fn(e.missing):null,k=y(e.postTranslation)?e.postTranslation:null,O=n?n.warnHtmlMessage:!w(e.warnHtmlMessage)||e.warnHtmlMessage,I=!!e.escapeParameter;const P=n?n.modifiers:M(e.modifiers)?e.modifiers:{};let D,F=e.pluralRules||n&&n.pluralRules;const H=()=>{o&&Rt(null);const t={version:fn,locale:f.value,fallbackLocale:p.value,messages:m.value,modifiers:P,pluralRules:F,missing:null===N?void 0:N,missingWarn:T,fallbackWarn:C,fallbackFormat:x,unresolving:!0,postTranslation:null===k?void 0:k,warnHtmlMessage:O,escapeParameter:I,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=E.value,t.numberFormats=S.value,t.__datetimeFormatters=M(D)?D.__datetimeFormatters:void 0,t.__numberFormatters=M(D)?D.__numberFormatters:void 0;const n=Nt(t);return o&&Rt(n),n};function U(){return[f.value,p.value,m.value,E.value,S.value]}D=H(),kt(D,f.value,p.value);const B=(0,hn.EW)({get:()=>f.value,set:e=>{f.value=e,D.locale=f.value}}),j=(0,hn.EW)({get:()=>p.value,set:e=>{p.value=e,D.fallbackLocale=p.value,kt(D,f.value,e)}}),Y=(0,hn.EW)((()=>m.value)),V=(0,hn.EW)((()=>E.value)),W=(0,hn.EW)((()=>S.value));function z(){return y(k)?k:null}function G(e){k=e,D.postTranslation=e}function $(){return A}function q(e){null!==e&&(N=Fn(e)),A=e,D.missing=N}const K=(e,t,r,i,s,l)=>{let u;U();try{__INTLIFY_PROD_DEVTOOLS__&&Tt(Hn()),o||(D.fallbackContext=n?xt():void 0),u=e(D)}finally{__INTLIFY_PROD_DEVTOOLS__&&Tt(null),o||(D.fallbackContext=void 0)}if("translate exists"!==r&&a(u)&&u===dt||"translate exists"===r&&!u){const[e,r]=t();return n&&R?i(n):s(e)}if(l(u))return u;throw _n(wn.UNEXPECTED_RETURN_TYPE)};function X(...e){return K((t=>Reflect.apply($t,null,[t,...e])),(()=>Qt(...e)),"translate",(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>b(e)))}function J(...e){const[t,n,r]=e;if(r&&!_(r))throw _n(wn.INVALID_ARGUMENT);return X(t,n,h({resolvedMessage:!0},r||{}))}function Q(...e){return K((t=>Reflect.apply(nn,null,[t,...e])),(()=>on(...e)),"datetime format",(t=>Reflect.apply(t.d,t,[...e])),(()=>pt),(e=>b(e)))}function Z(...e){return K((t=>Reflect.apply(an,null,[t,...e])),(()=>un(...e)),"number format",(t=>Reflect.apply(t.n,t,[...e])),(()=>pt),(e=>b(e)))}function ee(e){return e.map((e=>b(e)||a(e)||w(e)?kn(String(e)):e))}const te=e=>e,ne={normalize:ee,interpolate:te,type:"vnode"};function re(...e){return K((t=>{let n;const r=t;try{r.processor=ne,n=Reflect.apply($t,null,[r,...e])}finally{r.processor=null}return n}),(()=>Qt(...e)),"translate",(t=>t[En](...e)),(e=>[kn(e)]),(e=>v(e)))}function ie(...e){return K((t=>Reflect.apply(an,null,[t,...e])),(()=>un(...e)),"number format",(t=>t[Tn](...e)),In,(e=>b(e)||v(e)))}function oe(...e){return K((t=>Reflect.apply(nn,null,[t,...e])),(()=>on(...e)),"datetime format",(t=>t[Sn](...e)),In,(e=>b(e)||v(e)))}function se(e){F=e,D.pluralRules=F}function ae(e,t){return K((()=>{if(!e)return!1;const n=b(t)?t:f.value,r=ce(n),i=D.messageResolver(r,e);return c?null!=i:jt(i)||Gt(i)||b(i)}),(()=>[e]),"translate exists",(n=>Reflect.apply(n.te,n,[e,t])),Pn,(e=>w(e)))}function le(e){let t=null;const n=at(D,p.value,f.value);for(let r=0;r<n.length;r++){const i=m.value[n[r]]||{},o=D.messageResolver(i,e);if(null!=o){t=o;break}}return t}function ue(e){const t=le(e);return null!=t?t:n&&n.tm(e)||{}}function ce(e){return m.value[e]||{}}function he(e,t){if(s){const n={[e]:t};for(const e in n)g(n,e)&&xn(n[e]);t=n[e]}m.value[e]=t,D.messages=m.value}function de(e,t){m.value[e]=m.value[e]||{};const n={[e]:t};if(s)for(const r in n)g(n,r)&&xn(n[r]);t=n[e],L(t,m.value[e]),D.messages=m.value}function fe(e){return E.value[e]||{}}function pe(e,t){E.value[e]=t,D.datetimeFormats=E.value,sn(D,e,t)}function me(e,t){E.value[e]=h(E.value[e]||{},t),D.datetimeFormats=E.value,sn(D,e,t)}function ge(e){return S.value[e]||{}}function ve(e,t){S.value[e]=t,D.numberFormats=S.value,cn(D,e,t)}function ye(e,t){S.value[e]=h(S.value[e]||{},t),D.numberFormats=S.value,cn(D,e,t)}Dn++,n&&r&&((0,hn.wB)(n.locale,(e=>{d&&(f.value=e,D.locale=e,kt(D,f.value,p.value))})),(0,hn.wB)(n.fallbackLocale,(e=>{d&&(p.value=e,D.fallbackLocale=e,kt(D,f.value,p.value))})));const be={id:Dn,locale:B,fallbackLocale:j,get inheritLocale(){return d},set inheritLocale(e){d=e,e&&n&&(f.value=n.locale.value,p.value=n.fallbackLocale.value,kt(D,f.value,p.value))},get availableLocales(){return Object.keys(m.value).sort()},messages:Y,get modifiers(){return P},get pluralRules(){return F||{}},get isGlobal(){return o},get missingWarn(){return T},set missingWarn(e){T=e,D.missingWarn=T},get fallbackWarn(){return C},set fallbackWarn(e){C=e,D.fallbackWarn=C},get fallbackRoot(){return R},set fallbackRoot(e){R=e},get fallbackFormat(){return x},set fallbackFormat(e){x=e,D.fallbackFormat=x},get warnHtmlMessage(){return O},set warnHtmlMessage(e){O=e,D.warnHtmlMessage=e},get escapeParameter(){return I},set escapeParameter(e){I=e,D.escapeParameter=e},t:X,getLocaleMessage:ce,setLocaleMessage:he,mergeLocaleMessage:de,getPostTranslationHandler:z,setPostTranslationHandler:G,getMissingHandler:$,setMissingHandler:q,[Mn]:se};return be.datetimeFormats=V,be.numberFormats=W,be.rt=J,be.te=ae,be.tm=ue,be.d=Q,be.n=Z,be.getDateTimeFormat=fe,be.setDateTimeFormat=pe,be.mergeDateTimeFormat=me,be.getNumberFormat=ge,be.setNumberFormat=ve,be.mergeNumberFormat=ye,be[Cn]=i,be[En]=re,be[Sn]=oe,be[Tn]=ie,be}function Bn(e){const t=b(e.locale)?e.locale:ft,n=b(e.fallbackLocale)||v(e.fallbackLocale)||M(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=y(e.missing)?e.missing:void 0,i=!w(e.silentTranslationWarn)&&!u(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!w(e.silentFallbackWarn)&&!u(e.silentFallbackWarn)||!e.silentFallbackWarn,s=!w(e.fallbackRoot)||e.fallbackRoot,a=!!e.formatFallbackMessages,l=M(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,d=y(e.postTranslation)?e.postTranslation:void 0,f=!b(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,p=!!e.escapeParameterHtml,m=!w(e.sync)||e.sync;let g=e.messages;if(M(e.sharedMessages)){const t=e.sharedMessages,n=Object.keys(t);g=n.reduce(((e,n)=>{const r=e[n]||(e[n]={});return h(r,t[n]),e}),g||{})}const{__i18n:_,__root:E,__injectWithOption:S}=e,T=e.datetimeFormats,C=e.numberFormats,R=e.flatJson,x=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:g,flatJson:R,datetimeFormats:T,numberFormats:C,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:d,warnHtmlMessage:f,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:m,translateExistCompatible:x,__i18n:_,__root:E,__injectWithOption:S}}function jn(e={},t){{const t=Un(Bn(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return w(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=w(e)?!e:e},get silentFallbackWarn(){return w(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=w(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,i]=e,o={};let s=null,a=null;if(!b(n))throw _n(wn.INVALID_ARGUMENT);const l=n;return b(r)?o.locale=r:v(r)?s=r:M(r)&&(a=r),v(i)?s=i:M(i)&&(a=i),Reflect.apply(t.t,t,[l,s||a||{},o])},rt(...e){return Reflect.apply(t.rt,t,[...e])},tc(...e){const[n,r,i]=e,o={plural:1};let s=null,l=null;if(!b(n))throw _n(wn.INVALID_ARGUMENT);const u=n;return b(r)?o.locale=r:a(r)?o.plural=r:v(r)?s=r:M(r)&&(l=r),b(i)?o.locale=i:v(i)?s=i:M(i)&&(l=i),Reflect.apply(t.t,t,[u,s||l||{},o])},te(e,n){return t.te(e,n)},tm(e){return t.tm(e)},getLocaleMessage(e){return t.getLocaleMessage(e)},setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d(...e){return Reflect.apply(t.d,t,[...e])},getDateTimeFormat(e){return t.getDateTimeFormat(e)},setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n(...e){return Reflect.apply(t.n,t,[...e])},getNumberFormat(e){return t.getNumberFormat(e)},setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex(e,t){return-1}};return r.__extender=n,r}}const Yn={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function Vn({slots:e},t){if(1===t.length&&"default"===t[0]){const t=e.default?e.default():[];return t.reduce(((e,t)=>[...e,...t.type===hn.FK?t.children:[t]]),[])}return t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}function Wn(e){return hn.FK}const zn=(0,hn.pM)({name:"i18n-t",props:h({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>a(e)||!isNaN(e)}},Yn),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||lr({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter((e=>"_"!==e)),s={};e.locale&&(s.locale=e.locale),void 0!==e.plural&&(s.plural=b(e.plural)?+e.plural:e.plural);const a=Vn(t,o),l=i[En](e.keypath,a,s),u=h({},r),c=b(e.tag)||_(e.tag)?e.tag:Wn();return(0,hn.h)(c,u,l)}}}),Gn=zn;function $n(e){return v(e)&&!b(e[0])}function qn(e,t,n,r){const{slots:i,attrs:o}=t;return()=>{const t={part:!0};let s={};e.locale&&(t.locale=e.locale),b(e.format)?t.key=e.format:_(e.format)&&(b(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?h({},t,{[r]:e.format[r]}):t),{}));const a=r(e.value,t,s);let l=[t.key];v(a)?l=a.map(((e,t)=>{const n=i[e.type],r=n?n({[e.type]:e.value,index:t,parts:a}):[e.value];return $n(r)&&(r[0].key=`${e.type}-${t}`),r})):b(a)&&(l=[a]);const u=h({},o),c=b(e.tag)||_(e.tag)?e.tag:Wn();return(0,hn.h)(c,u,l)}}const Kn=(0,hn.pM)({name:"i18n-n",props:h({value:{type:Number,required:!0},format:{type:[String,Object]}},Yn),setup(e,t){const n=e.i18n||lr({useScope:e.scope,__useComponent:!0});return qn(e,t,ln,((...e)=>n[Tn](...e)))}}),Xn=Kn,Jn=(0,hn.pM)({name:"i18n-d",props:h({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Yn),setup(e,t){const n=e.i18n||lr({useScope:e.scope,__useComponent:!0});return qn(e,t,rn,((...e)=>n[Sn](...e)))}}),Qn=Jn;function Zn(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}function er(e){const t=t=>{const{instance:n,modifiers:r,value:i}=t;if(!n||!n.$)throw _n(wn.UNEXPECTED_ERROR);const o=Zn(e,n.$);const s=tr(i);return[Reflect.apply(o.t,o,[...nr(s)]),o]},n=(n,i)=>{const[o,s]=t(i);r&&e.global===s&&(n.__i18nWatcher=(0,hn.wB)(s.locale,(()=>{i.instance&&i.instance.$forceUpdate()}))),n.__composer=s,n.textContent=o},i=e=>{r&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},o=(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=tr(t);e.textContent=Reflect.apply(n.t,n,[...nr(r)])}},s=e=>{const[n]=t(e);return{textContent:n}};return{created:n,unmounted:i,beforeUpdate:o,getSSRProps:s}}function tr(e){if(b(e))return{path:e};if(M(e)){if(!("path"in e))throw _n(wn.REQUIRED_VALUE,"path");return e}throw _n(wn.INVALID_VALUE)}function nr(e){const{path:t,locale:n,args:r,choice:i,plural:o}=e,s={},l=r||{};return b(n)&&(s.locale=n),a(i)&&(s.plural=i),a(o)&&(s.plural=o),[t,l,s]}function rr(e,t,...n){const r=M(n[0])?n[0]:{},i=!!r.useI18nComponentName,o=!w(r.globalInstall)||r.globalInstall;o&&([i?"i18n":Gn.name,"I18nT"].forEach((t=>e.component(t,Gn))),[Xn.name,"I18nN"].forEach((t=>e.component(t,Xn))),[Qn.name,"I18nD"].forEach((t=>e.component(t,Qn)))),e.directive("t",er(t))}function ir(e,t,n){return{beforeCreate(){const r=(0,hn.nI)();if(!r)throw _n(wn.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const r=i.i18n;if(i.__i18n&&(r.__i18n=i.__i18n),r.__root=t,this===this.$root)this.$i18n=or(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=jn(r);const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=or(e,i);else{this.$i18n=jn({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&Ln(t,i,i),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e),n.__setInstance(r,this.$i18n)},mounted(){0},unmounted(){const e=(0,hn.nI)();if(!e)throw _n(wn.UNEXPECTED_ERROR);const t=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,t.__disposer&&(t.__disposer(),delete t.__disposer,delete t.__extender),n.__deleteInstance(e),delete this.$i18n}}}function or(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Mn](t.pluralizationRules||e.pluralizationRules);const n=An(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const sr=i("global-vue-i18n");function ar(e={},t){const n=__VUE_I18N_LEGACY_API__&&w(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=!w(e.globalInjection)||e.globalInjection,o=!__VUE_I18N_LEGACY_API__||!n||!!e.allowComposition,s=new Map,[a,l]=ur(e,n),u=i("");function c(e){return s.get(e)||null}function h(e,t){s.set(e,t)}function d(e){s.delete(e)}{const e={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return o},async install(t,...i){if(t.__VUE_I18N_SYMBOL__=u,t.provide(t.__VUE_I18N_SYMBOL__,e),M(i[0])){const t=i[0];e.__composerExtend=t.__composerExtend,e.__vueI18nExtend=t.__vueI18nExtend}let o=null;!n&&r&&(o=br(t,e.global)),__VUE_I18N_FULL_INSTALL__&&rr(t,e,...i),__VUE_I18N_LEGACY_API__&&n&&t.mixin(ir(l,l.__composer,e));const s=t.unmount;t.unmount=()=>{o&&o(),e.dispose(),s()}},get global(){return l},dispose(){a.stop()},__instances:s,__getInstance:c,__setInstance:h,__deleteInstance:d};return e}}function lr(e={}){const t=(0,hn.nI)();if(null==t)throw _n(wn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw _n(wn.NOT_INSTALLED);const n=cr(t),r=dr(n),i=Nn(t),o=hr(e,i);if(__VUE_I18N_LEGACY_API__&&"legacy"===n.mode&&!e.__useComponent){if(!n.allowComposition)throw _n(wn.NOT_AVAILABLE_IN_LEGACY_MODE);return gr(t,o,r,e)}if("global"===o)return Ln(r,e,i),r;if("parent"===o){let i=fr(n,t,e.__useComponent);return null==i&&(i=r),i}const s=n;let a=s.__getInstance(t);if(null==a){const n=h({},e);"__i18n"in i&&(n.__i18n=i.__i18n),r&&(n.__root=r),a=Un(n),s.__composerExtend&&(a[Rn]=s.__composerExtend(a)),mr(s,t,a),s.__setInstance(t,a)}return a}function ur(e,t,n){const r=(0,dn.uY)();{const n=__VUE_I18N_LEGACY_API__&&t?r.run((()=>jn(e))):r.run((()=>Un(e)));if(null==n)throw _n(wn.UNEXPECTED_ERROR);return[r,n]}}function cr(e){{const t=(0,hn.WQ)(e.isCE?sr:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw _n(e.isCE?wn.NOT_INSTALLED_WITH_PROVIDE:wn.UNEXPECTED_ERROR);return t}}function hr(e,t){return c(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function dr(e){return"composition"===e.mode?e.global:e.global.__composer}function fr(e,t,n=!1){let r=null;const i=t.root;let o=pr(t,n);while(null!=o){const t=e;if("composition"===e.mode)r=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(r=e.__composer,n&&r&&!r[Cn]&&(r=null))}if(null!=r)break;if(i===o)break;o=o.parent}return r}function pr(e,t=!1){return null==e?null:t&&e.vnode.ctx||e.parent}function mr(e,t,n){(0,hn.sV)((()=>{0}),t),(0,hn.hi)((()=>{const r=n;e.__deleteInstance(t);const i=r[Rn];i&&(i(),delete r[Rn])}),t)}function gr(e,t,n,r={}){const i="local"===t,o=(0,dn.IJ)(null);if(i&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw _n(wn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const s=w(r.inheritLocale)?r.inheritLocale:!b(r.locale),a=(0,dn.KR)(!i||s?n.locale.value:b(r.locale)?r.locale:ft),l=(0,dn.KR)(!i||s?n.fallbackLocale.value:b(r.fallbackLocale)||v(r.fallbackLocale)||M(r.fallbackLocale)||!1===r.fallbackLocale?r.fallbackLocale:a.value),c=(0,dn.KR)(An(a.value,r)),h=(0,dn.KR)(M(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),d=(0,dn.KR)(M(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=i?n.missingWarn:!w(r.missingWarn)&&!u(r.missingWarn)||r.missingWarn,p=i?n.fallbackWarn:!w(r.fallbackWarn)&&!u(r.fallbackWarn)||r.fallbackWarn,m=i?n.fallbackRoot:!w(r.fallbackRoot)||r.fallbackRoot,g=!!r.fallbackFormat,_=y(r.missing)?r.missing:null,E=y(r.postTranslation)?r.postTranslation:null,S=i?n.warnHtmlMessage:!w(r.warnHtmlMessage)||r.warnHtmlMessage,T=!!r.escapeParameter,C=i?n.modifiers:M(r.modifiers)?r.modifiers:{},R=r.pluralRules||i&&n.pluralRules;function x(){return[a.value,l.value,c.value,h.value,d.value]}const A=(0,hn.EW)({get:()=>o.value?o.value.locale.value:a.value,set:e=>{o.value&&(o.value.locale.value=e),a.value=e}}),N=(0,hn.EW)({get:()=>o.value?o.value.fallbackLocale.value:l.value,set:e=>{o.value&&(o.value.fallbackLocale.value=e),l.value=e}}),L=(0,hn.EW)((()=>o.value?o.value.messages.value:c.value)),k=(0,hn.EW)((()=>h.value)),O=(0,hn.EW)((()=>d.value));function I(){return o.value?o.value.getPostTranslationHandler():E}function P(e){o.value&&o.value.setPostTranslationHandler(e)}function D(){return o.value?o.value.getMissingHandler():_}function F(e){o.value&&o.value.setMissingHandler(e)}function H(e){return x(),e()}function U(...e){return o.value?H((()=>Reflect.apply(o.value.t,null,[...e]))):H((()=>""))}function B(...e){return o.value?Reflect.apply(o.value.rt,null,[...e]):""}function j(...e){return o.value?H((()=>Reflect.apply(o.value.d,null,[...e]))):H((()=>""))}function Y(...e){return o.value?H((()=>Reflect.apply(o.value.n,null,[...e]))):H((()=>""))}function V(e){return o.value?o.value.tm(e):{}}function W(e,t){return!!o.value&&o.value.te(e,t)}function z(e){return o.value?o.value.getLocaleMessage(e):{}}function G(e,t){o.value&&(o.value.setLocaleMessage(e,t),c.value[e]=t)}function $(e,t){o.value&&o.value.mergeLocaleMessage(e,t)}function q(e){return o.value?o.value.getDateTimeFormat(e):{}}function K(e,t){o.value&&(o.value.setDateTimeFormat(e,t),h.value[e]=t)}function X(e,t){o.value&&o.value.mergeDateTimeFormat(e,t)}function J(e){return o.value?o.value.getNumberFormat(e):{}}function Q(e,t){o.value&&(o.value.setNumberFormat(e,t),d.value[e]=t)}function Z(e,t){o.value&&o.value.mergeNumberFormat(e,t)}const ee={get id(){return o.value?o.value.id:-1},locale:A,fallbackLocale:N,messages:L,datetimeFormats:k,numberFormats:O,get inheritLocale(){return o.value?o.value.inheritLocale:s},set inheritLocale(e){o.value&&(o.value.inheritLocale=e)},get availableLocales(){return o.value?o.value.availableLocales:Object.keys(c.value)},get modifiers(){return o.value?o.value.modifiers:C},get pluralRules(){return o.value?o.value.pluralRules:R},get isGlobal(){return!!o.value&&o.value.isGlobal},get missingWarn(){return o.value?o.value.missingWarn:f},set missingWarn(e){o.value&&(o.value.missingWarn=e)},get fallbackWarn(){return o.value?o.value.fallbackWarn:p},set fallbackWarn(e){o.value&&(o.value.missingWarn=e)},get fallbackRoot(){return o.value?o.value.fallbackRoot:m},set fallbackRoot(e){o.value&&(o.value.fallbackRoot=e)},get fallbackFormat(){return o.value?o.value.fallbackFormat:g},set fallbackFormat(e){o.value&&(o.value.fallbackFormat=e)},get warnHtmlMessage(){return o.value?o.value.warnHtmlMessage:S},set warnHtmlMessage(e){o.value&&(o.value.warnHtmlMessage=e)},get escapeParameter(){return o.value?o.value.escapeParameter:T},set escapeParameter(e){o.value&&(o.value.escapeParameter=e)},t:U,getPostTranslationHandler:I,setPostTranslationHandler:P,getMissingHandler:D,setMissingHandler:F,rt:B,d:j,n:Y,tm:V,te:W,getLocaleMessage:z,setLocaleMessage:G,mergeLocaleMessage:$,getDateTimeFormat:q,setDateTimeFormat:K,mergeDateTimeFormat:X,getNumberFormat:J,setNumberFormat:Q,mergeNumberFormat:Z};function te(e){e.locale.value=a.value,e.fallbackLocale.value=l.value,Object.keys(c.value).forEach((t=>{e.mergeLocaleMessage(t,c.value[t])})),Object.keys(h.value).forEach((t=>{e.mergeDateTimeFormat(t,h.value[t])})),Object.keys(d.value).forEach((t=>{e.mergeNumberFormat(t,d.value[t])})),e.escapeParameter=T,e.fallbackFormat=g,e.fallbackRoot=m,e.fallbackWarn=p,e.missingWarn=f,e.warnHtmlMessage=S}return(0,hn.KC)((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw _n(wn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const n=o.value=e.proxy.$i18n.__composer;"global"===t?(a.value=n.locale.value,l.value=n.fallbackLocale.value,c.value=n.messages.value,h.value=n.datetimeFormats.value,d.value=n.numberFormats.value):i&&te(n)})),ee}const vr=["locale","fallbackLocale","availableLocales"],yr=["t","rt","d","n","tm","te"];function br(e,t){const n=Object.create(null);vr.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw _n(wn.UNEXPECTED_ERROR);const i=(0,dn.i9)(r.value)?{get(){return r.value.value},set(e){r.value.value=e}}:{get(){return r.get&&r.get()}};Object.defineProperty(n,e,i)})),e.config.globalProperties.$i18n=n,yr.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw _n(wn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}));const r=()=>{delete e.config.globalProperties.$i18n,yr.forEach((t=>{delete e.config.globalProperties[`$${t}`]}))};return r}if(pn(),__INTLIFY_JIT_COMPILATION__?wt(Wt):wt(Vt),_t(Pe),Et(at),__INTLIFY_PROD_DEVTOOLS__){const e=f();e.__INTLIFY__=!0,Ge(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}}}]);
//# sourceMappingURL=chunk-vendors.d51f9a91.js.map